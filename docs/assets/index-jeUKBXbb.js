import hk from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function b0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sv={exports:{}},iu={},nv={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function t4(){if(kw)return bt;kw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function I(z,ee,ce){this.props=z,this.context=ee,this.refs=E,this.updater=ce||b}I.prototype.isReactComponent={},I.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},I.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function F(){}F.prototype=I.prototype;function D(z,ee,ce){this.props=z,this.context=ee,this.refs=E,this.updater=ce||b}var A=D.prototype=new F;A.constructor=D,S(A,I.prototype),A.isPureReactComponent=!0;var y=Array.isArray,j=Object.prototype.hasOwnProperty,M={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function w(z,ee,ce){var te,fe={},Ce=null,ge=null;if(ee!=null)for(te in ee.ref!==void 0&&(ge=ee.ref),ee.key!==void 0&&(Ce=""+ee.key),ee)j.call(ee,te)&&!k.hasOwnProperty(te)&&(fe[te]=ee[te]);var Te=arguments.length-2;if(Te===1)fe.children=ce;else if(1<Te){for(var ke=Array(Te),ue=0;ue<Te;ue++)ke[ue]=arguments[ue+2];fe.children=ke}if(z&&z.defaultProps)for(te in Te=z.defaultProps,Te)fe[te]===void 0&&(fe[te]=Te[te]);return{$$typeof:t,type:z,key:Ce,ref:ge,props:fe,_owner:M.current}}function C(z,ee){return{$$typeof:t,type:z.type,key:ee,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function P(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return ee[ce]})}var O=/\/+/g;function $(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?P(""+z.key):ee.toString(36)}function W(z,ee,ce,te,fe){var Ce=typeof z;(Ce==="undefined"||Ce==="boolean")&&(z=null);var ge=!1;if(z===null)ge=!0;else switch(Ce){case"string":case"number":ge=!0;break;case"object":switch(z.$$typeof){case t:case e:ge=!0}}if(ge)return ge=z,fe=fe(ge),z=te===""?"."+$(ge,0):te,y(fe)?(ce="",z!=null&&(ce=z.replace(O,"$&/")+"/"),W(fe,ee,ce,"",function(ue){return ue})):fe!=null&&(L(fe)&&(fe=C(fe,ce+(!fe.key||ge&&ge.key===fe.key?"":(""+fe.key).replace(O,"$&/")+"/")+z)),ee.push(fe)),1;if(ge=0,te=te===""?".":te+":",y(z))for(var Te=0;Te<z.length;Te++){Ce=z[Te];var ke=te+$(Ce,Te);ge+=W(Ce,ee,ce,ke,fe)}else if(ke=v(z),typeof ke=="function")for(z=ke.call(z),Te=0;!(Ce=z.next()).done;)Ce=Ce.value,ke=te+$(Ce,Te++),ge+=W(Ce,ee,ce,ke,fe);else if(Ce==="object")throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return ge}function H(z,ee,ce){if(z==null)return z;var te=[],fe=0;return W(z,te,"","",function(Ce){return ee.call(ce,Ce,fe++)}),te}function q(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var Q={current:null},G={transition:null},J={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:G,ReactCurrentOwner:M};function ne(){throw Error("act(...) is not supported in production builds of React.")}return bt.Children={map:H,forEach:function(z,ee,ce){H(z,function(){ee.apply(this,arguments)},ce)},count:function(z){var ee=0;return H(z,function(){ee++}),ee},toArray:function(z){return H(z,function(ee){return ee})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},bt.Component=I,bt.Fragment=s,bt.Profiler=i,bt.PureComponent=D,bt.StrictMode=r,bt.Suspense=u,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,bt.act=ne,bt.cloneElement=function(z,ee,ce){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var te=S({},z.props),fe=z.key,Ce=z.ref,ge=z._owner;if(ee!=null){if(ee.ref!==void 0&&(Ce=ee.ref,ge=M.current),ee.key!==void 0&&(fe=""+ee.key),z.type&&z.type.defaultProps)var Te=z.type.defaultProps;for(ke in ee)j.call(ee,ke)&&!k.hasOwnProperty(ke)&&(te[ke]=ee[ke]===void 0&&Te!==void 0?Te[ke]:ee[ke])}var ke=arguments.length-2;if(ke===1)te.children=ce;else if(1<ke){Te=Array(ke);for(var ue=0;ue<ke;ue++)Te[ue]=arguments[ue+2];te.children=Te}return{$$typeof:t,type:z.type,key:fe,ref:Ce,props:te,_owner:ge}},bt.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},bt.createElement=w,bt.createFactory=function(z){var ee=w.bind(null,z);return ee.type=z,ee},bt.createRef=function(){return{current:null}},bt.forwardRef=function(z){return{$$typeof:d,render:z}},bt.isValidElement=L,bt.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:q}},bt.memo=function(z,ee){return{$$typeof:h,type:z,compare:ee===void 0?null:ee}},bt.startTransition=function(z){var ee=G.transition;G.transition={};try{z()}finally{G.transition=ee}},bt.unstable_act=ne,bt.useCallback=function(z,ee){return Q.current.useCallback(z,ee)},bt.useContext=function(z){return Q.current.useContext(z)},bt.useDebugValue=function(){},bt.useDeferredValue=function(z){return Q.current.useDeferredValue(z)},bt.useEffect=function(z,ee){return Q.current.useEffect(z,ee)},bt.useId=function(){return Q.current.useId()},bt.useImperativeHandle=function(z,ee,ce){return Q.current.useImperativeHandle(z,ee,ce)},bt.useInsertionEffect=function(z,ee){return Q.current.useInsertionEffect(z,ee)},bt.useLayoutEffect=function(z,ee){return Q.current.useLayoutEffect(z,ee)},bt.useMemo=function(z,ee){return Q.current.useMemo(z,ee)},bt.useReducer=function(z,ee,ce){return Q.current.useReducer(z,ee,ce)},bt.useRef=function(z){return Q.current.useRef(z)},bt.useState=function(z){return Q.current.useState(z)},bt.useSyncExternalStore=function(z,ee,ce){return Q.current.useSyncExternalStore(z,ee,ce)},bt.useTransition=function(){return Q.current.useTransition()},bt.version="18.3.1",bt}var Tw;function _0(){return Tw||(Tw=1,nv.exports=t4()),nv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function s4(){if(Cw)return iu;Cw=1;var t=_0(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,u,h){var p,g={},v=null,b=null;h!==void 0&&(v=""+h),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(b=u.ref);for(p in u)r.call(u,p)&&!a.hasOwnProperty(p)&&(g[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:e,type:d,key:v,ref:b,props:g,_owner:i.current}}return iu.Fragment=s,iu.jsx=l,iu.jsxs=l,iu}var Ew;function n4(){return Ew||(Ew=1,sv.exports=s4()),sv.exports}var n=n4(),R=_0();const Z=b0(R);var np={},rv={exports:{}},Jn={},iv={exports:{}},av={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function r4(){return Aw||(Aw=1,(function(t){function e(G,J){var ne=G.length;G.push(J);e:for(;0<ne;){var z=ne-1>>>1,ee=G[z];if(0<i(ee,J))G[z]=J,G[ne]=ee,ne=z;else break e}}function s(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var J=G[0],ne=G.pop();if(ne!==J){G[0]=ne;e:for(var z=0,ee=G.length,ce=ee>>>1;z<ce;){var te=2*(z+1)-1,fe=G[te],Ce=te+1,ge=G[Ce];if(0>i(fe,ne))Ce<ee&&0>i(ge,fe)?(G[z]=ge,G[Ce]=ne,z=Ce):(G[z]=fe,G[te]=ne,z=te);else if(Ce<ee&&0>i(ge,ne))G[z]=ge,G[Ce]=ne,z=Ce;else break e}}return J}function i(G,J){var ne=G.sortIndex-J.sortIndex;return ne!==0?ne:G.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var u=[],h=[],p=1,g=null,v=3,b=!1,S=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var J=s(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=G)r(h),J.sortIndex=J.expirationTime,e(u,J);else break;J=s(h)}}function y(G){if(E=!1,A(G),!S)if(s(u)!==null)S=!0,q(j);else{var J=s(h);J!==null&&Q(y,J.startTime-G)}}function j(G,J){S=!1,E&&(E=!1,F(w),w=-1),b=!0;var ne=v;try{for(A(J),g=s(u);g!==null&&(!(g.expirationTime>J)||G&&!P());){var z=g.callback;if(typeof z=="function"){g.callback=null,v=g.priorityLevel;var ee=z(g.expirationTime<=J);J=t.unstable_now(),typeof ee=="function"?g.callback=ee:g===s(u)&&r(u),A(J)}else r(u);g=s(u)}if(g!==null)var ce=!0;else{var te=s(h);te!==null&&Q(y,te.startTime-J),ce=!1}return ce}finally{g=null,v=ne,b=!1}}var M=!1,k=null,w=-1,C=5,L=-1;function P(){return!(t.unstable_now()-L<C)}function O(){if(k!==null){var G=t.unstable_now();L=G;var J=!0;try{J=k(!0,G)}finally{J?$():(M=!1,k=null)}}else M=!1}var $;if(typeof D=="function")$=function(){D(O)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=O,$=function(){H.postMessage(null)}}else $=function(){I(O,0)};function q(G){k=G,M||(M=!0,$())}function Q(G,J){w=I(function(){G(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,q(j))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return s(u)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var ne=v;v=J;try{return G()}finally{v=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ne=v;v=G;try{return J()}finally{v=ne}},t.unstable_scheduleCallback=function(G,J,ne){var z=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?z+ne:z):ne=z,G){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ne+ee,G={id:p++,callback:J,priorityLevel:G,startTime:ne,expirationTime:ee,sortIndex:-1},ne>z?(G.sortIndex=ne,e(h,G),s(u)===null&&G===s(h)&&(E?(F(w),w=-1):E=!0,Q(y,ne-z))):(G.sortIndex=ee,e(u,G),S||b||(S=!0,q(j))),G},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(G){var J=v;return function(){var ne=v;v=J;try{return G.apply(this,arguments)}finally{v=ne}}}})(av)),av}var Iw;function i4(){return Iw||(Iw=1,iv.exports=r4()),iv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function a4(){if(Rw)return Jn;Rw=1;var t=_0(),e=i4();function s(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(i[o]=c,o=0;o<c.length;o++)r.add(c[o])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(o){return u.call(g,o)?!0:u.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function b(o,c,m,x){if(m!==null&&m.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,c,m,x){if(c===null||typeof c=="undefined"||b(o,c,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function E(o,c,m,x,_,T,V){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=_,this.mustUseProperty=m,this.propertyName=o,this.type=c,this.sanitizeURL=T,this.removeEmptyString=V}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){I[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];I[c]=new E(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){I[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){I[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){I[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){I[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){I[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){I[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){I[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function D(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(F,D);I[c]=new E(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(F,D);I[c]=new E(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(F,D);I[c]=new E(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){I[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),I.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){I[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,c,m,x){var _=I.hasOwnProperty(c)?I[c]:null;(_!==null?_.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,m,_,x)&&(m=null),x||_===null?v(c)&&(m===null?o.removeAttribute(c):o.setAttribute(c,""+m)):_.mustUseProperty?o[_.propertyName]=m===null?_.type===3?!1:"":m:(c=_.attributeName,x=_.attributeNamespace,m===null?o.removeAttribute(c):(_=_.type,m=_===3||_===4&&m===!0?"":""+m,x?o.setAttributeNS(x,c,m):o.setAttribute(c,m))))}var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),G=Symbol.iterator;function J(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Object.assign,z;function ee(o){if(z===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);z=c&&c[1]||""}return`
`+z+o}var ce=!1;function te(o,c){if(!o||ce)return"";ce=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(de){var x=de}Reflect.construct(o,[],c)}else{try{c.call()}catch(de){x=de}o.call(c.prototype)}else{try{throw Error()}catch(de){x=de}o()}}catch(de){if(de&&x&&typeof de.stack=="string"){for(var _=de.stack.split(`
`),T=x.stack.split(`
`),V=_.length-1,K=T.length-1;1<=V&&0<=K&&_[V]!==T[K];)K--;for(;1<=V&&0<=K;V--,K--)if(_[V]!==T[K]){if(V!==1||K!==1)do if(V--,K--,0>K||_[V]!==T[K]){var X=`
`+_[V].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=V&&0<=K);break}}}finally{ce=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?ee(o):""}function fe(o){switch(o.tag){case 5:return ee(o.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return o=te(o.type,!1),o;case 11:return o=te(o.type.render,!1),o;case 1:return o=te(o.type,!0),o;default:return""}}function Ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case k:return"Fragment";case M:return"Portal";case C:return"Profiler";case w:return"StrictMode";case $:return"Suspense";case W:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case P:return(o.displayName||"Context")+".Consumer";case L:return(o._context.displayName||"Context")+".Provider";case O:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case H:return c=o.displayName||null,c!==null?c:Ce(o.type)||"Memo";case q:c=o._payload,o=o._init;try{return Ce(o(c))}catch(m){}}return null}function ge(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(c);case 8:return c===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Te(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ke(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ue(o){var c=ke(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof m!="undefined"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,T=m.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return _.call(this)},set:function(V){x=""+V,T.call(this,V)}}),Object.defineProperty(o,c,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(V){x=""+V},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Le(o){o._valueTracker||(o._valueTracker=ue(o))}function Ae(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),x="";return o&&(x=ke(o)?o.checked?"true":"false":o.value),o=x,o!==m?(c.setValue(o),!0):!1}function et(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(c){return o.body}}function pt(o,c){var m=c.checked;return ne({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m!=null?m:o._wrapperState.initialChecked})}function Jt(o,c){var m=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;m=Te(c.value!=null?c.value:m),o._wrapperState={initialChecked:x,initialValue:m,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ts(o,c){c=c.checked,c!=null&&A(o,"checked",c,!1)}function Cs(o,c){Ts(o,c);var m=Te(c.value),x=c.type;if(m!=null)x==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?Os(o,c.type,m):c.hasOwnProperty("defaultValue")&&Os(o,c.type,Te(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function bn(o,c,m){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,m||c===o.value||(o.value=c),o.defaultValue=c}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function Os(o,c,m){(c!=="number"||et(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var Es=Array.isArray;function As(o,c,m,x){if(o=o.options,c){c={};for(var _=0;_<m.length;_++)c["$"+m[_]]=!0;for(m=0;m<o.length;m++)_=c.hasOwnProperty("$"+o[m].value),o[m].selected!==_&&(o[m].selected=_),_&&x&&(o[m].defaultSelected=!0)}else{for(m=""+Te(m),c=null,_=0;_<o.length;_++){if(o[_].value===m){o[_].selected=!0,x&&(o[_].defaultSelected=!0);return}c!==null||o[_].disabled||(c=o[_])}c!==null&&(c.selected=!0)}}function qs(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(s(91));return ne({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Is(o,c){var m=c.value;if(m==null){if(m=c.children,c=c.defaultValue,m!=null){if(c!=null)throw Error(s(92));if(Es(m)){if(1<m.length)throw Error(s(93));m=m[0]}c=m}c==null&&(c=""),m=c}o._wrapperState={initialValue:Te(m)}}function sn(o,c){var m=Te(c.value),x=Te(c.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),c.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),x!=null&&(o.defaultValue=""+x)}function rs(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function Se(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ke(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?Se(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Oe,Tt=(function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(c,m,x,_){MSApp.execUnsafeLocalFunction(function(){return o(c,m,x,_)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(Oe=Oe||document.createElement("div"),Oe.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Oe.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function Zt(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var Ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$t=["Webkit","ms","Moz","O"];Object.keys(Ut).forEach(function(o){$t.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Ut[c]=Ut[o]})});function In(o,c,m){return c==null||typeof c=="boolean"||c===""?"":m||typeof c!="number"||c===0||Ut.hasOwnProperty(o)&&Ut[o]?(""+c).trim():c+"px"}function Ur(o,c){o=o.style;for(var m in c)if(c.hasOwnProperty(m)){var x=m.indexOf("--")===0,_=In(m,c[m],x);m==="float"&&(m="cssFloat"),x?o.setProperty(m,_):o[m]=_}}var mi=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zr(o,c){if(c){if(mi[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(s(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(s(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(s(61))}if(c.style!=null&&typeof c.style!="object")throw Error(s(62))}}function es(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=null;function Fi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Bi=null,Rn=null,ar=null;function $i(o){if(o=Hd(o)){if(typeof Bi!="function")throw Error(s(280));var c=o.stateNode;c&&(c=vm(c),Bi(o.stateNode,o.type,c))}}function or(o){Rn?ar?ar.push(o):ar=[o]:Rn=o}function _d(){if(Rn){var o=Rn,c=ar;if(ar=Rn=null,$i(o),c)for(o=0;o<c.length;o++)$i(c[o])}}function ko(o,c){return o(c)}function wd(){}var Oi=!1;function jd(o,c,m){if(Oi)return o(c,m);Oi=!0;try{return ko(o,c,m)}finally{Oi=!1,(Rn!==null||ar!==null)&&(wd(),_d())}}function ws(o,c){var m=o.stateNode;if(m===null)return null;var x=vm(m);if(x===null)return null;m=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(s(231,c,typeof m));return m}var Ml=!1;if(d)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch(o){Ml=!1}function To(o,c,m,x,_,T,V,K,X){var de=Array.prototype.slice.call(arguments,3);try{c.apply(m,de)}catch(ye){this.onError(ye)}}var Co=!1,Fl=null,Gr=!1,Sd=null,Ag={onError:function(o){Co=!0,Fl=o}};function Bl(o,c,m,x,_,T,V,K,X){Co=!1,Fl=null,To.apply(Ag,arguments)}function zh(o,c,m,x,_,T,V,K,X){if(Bl.apply(this,arguments),Co){if(Co){var de=Fl;Co=!1,Fl=null}else throw Error(s(198));Gr||(Gr=!0,Sd=de)}}function Wr(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function Eo(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function qr(o){if(Wr(o)!==o)throw Error(s(188))}function Hh(o){var c=o.alternate;if(!c){if(c=Wr(o),c===null)throw Error(s(188));return c!==o?null:o}for(var m=o,x=c;;){var _=m.return;if(_===null)break;var T=_.alternate;if(T===null){if(x=_.return,x!==null){m=x;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===m)return qr(_),o;if(T===x)return qr(_),c;T=T.sibling}throw Error(s(188))}if(m.return!==x.return)m=_,x=T;else{for(var V=!1,K=_.child;K;){if(K===m){V=!0,m=_,x=T;break}if(K===x){V=!0,x=_,m=T;break}K=K.sibling}if(!V){for(K=T.child;K;){if(K===m){V=!0,m=T,x=_;break}if(K===x){V=!0,x=T,m=_;break}K=K.sibling}if(!V)throw Error(s(189))}}if(m.alternate!==x)throw Error(s(190))}if(m.tag!==3)throw Error(s(188));return m.stateNode.current===m?o:c}function Nd(o){return o=Hh(o),o!==null?$l(o):null}function $l(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=$l(o);if(c!==null)return c;o=o.sibling}return null}var Ol=e.unstable_scheduleCallback,kd=e.unstable_cancelCallback,Gh=e.unstable_shouldYield,Ig=e.unstable_requestPaint,qt=e.unstable_now,Wh=e.unstable_getCurrentPriorityLevel,Ao=e.unstable_ImmediatePriority,ka=e.unstable_UserBlockingPriority,jr=e.unstable_NormalPriority,Td=e.unstable_LowPriority,qh=e.unstable_IdlePriority,Io=null,lr=null;function Kh(o){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Io,o,void 0,(o.current.flags&128)===128)}catch(c){}}var Pn=Math.clz32?Math.clz32:Xh,Cd=Math.log,Qh=Math.LN2;function Xh(o){return o>>>=0,o===0?32:31-(Cd(o)/Qh|0)|0}var Vl=64,Ul=4194304;function Ta(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Ro(o,c){var m=o.pendingLanes;if(m===0)return 0;var x=0,_=o.suspendedLanes,T=o.pingedLanes,V=m&268435455;if(V!==0){var K=V&~_;K!==0?x=Ta(K):(T&=V,T!==0&&(x=Ta(T)))}else V=m&~_,V!==0?x=Ta(V):T!==0&&(x=Ta(T));if(x===0)return 0;if(c!==0&&c!==x&&(c&_)===0&&(_=x&-x,T=c&-c,_>=T||_===16&&(T&4194240)!==0))return c;if((x&4)!==0&&(x|=m&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)m=31-Pn(c),_=1<<m,x|=o[m],c&=~_;return x}function Rg(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vi(o,c){for(var m=o.suspendedLanes,x=o.pingedLanes,_=o.expirationTimes,T=o.pendingLanes;0<T;){var V=31-Pn(T),K=1<<V,X=_[V];X===-1?((K&m)===0||(K&x)!==0)&&(_[V]=Rg(K,c)):X<=c&&(o.expiredLanes|=K),T&=~K}}function cr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Po(){var o=Vl;return Vl<<=1,(Vl&4194240)===0&&(Vl=64),o}function Ca(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function Ea(o,c,m){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-Pn(c),o[c]=m}function Ht(o,c){var m=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<m;){var _=31-Pn(m),T=1<<_;c[_]=0,x[_]=-1,o[_]=-1,m&=~T}}function Aa(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var x=31-Pn(m),_=1<<x;_&c|o[x]&c&&(o[x]|=c),m&=~_}}var Ct=0;function Ia(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Yh,zl,Jh,Zh,em,Ed=!1,pi=[],nn=null,Kr=null,Qr=null,Ra=new Map,Sr=new Map,fi=[],Pg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tm(o,c){switch(o){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Ra.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(c.pointerId)}}function Gn(o,c,m,x,_,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:m,eventSystemFlags:x,nativeEvent:T,targetContainers:[_]},c!==null&&(c=Hd(c),c!==null&&zl(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),o)}function Lg(o,c,m,x,_){switch(c){case"focusin":return nn=Gn(nn,o,c,m,x,_),!0;case"dragenter":return Kr=Gn(Kr,o,c,m,x,_),!0;case"mouseover":return Qr=Gn(Qr,o,c,m,x,_),!0;case"pointerover":var T=_.pointerId;return Ra.set(T,Gn(Ra.get(T)||null,o,c,m,x,_)),!0;case"gotpointercapture":return T=_.pointerId,Sr.set(T,Gn(Sr.get(T)||null,o,c,m,x,_)),!0}return!1}function sm(o){var c=Bo(o.target);if(c!==null){var m=Wr(c);if(m!==null){if(c=m.tag,c===13){if(c=Eo(m),c!==null){o.blockedOn=c,em(o.priority,function(){Jh(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ui(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=Hl(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var x=new m.constructor(m.type,m);wr=x,m.target.dispatchEvent(x),wr=null}else return c=Hd(m),c!==null&&zl(c),o.blockedOn=m,!1;c.shift()}return!0}function Lo(o,c,m){Ui(o)&&m.delete(c)}function nm(){Ed=!1,nn!==null&&Ui(nn)&&(nn=null),Kr!==null&&Ui(Kr)&&(Kr=null),Qr!==null&&Ui(Qr)&&(Qr=null),Ra.forEach(Lo),Sr.forEach(Lo)}function Xr(o,c){o.blockedOn===c&&(o.blockedOn=null,Ed||(Ed=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nm)))}function Yr(o){function c(_){return Xr(_,o)}if(0<pi.length){Xr(pi[0],o);for(var m=1;m<pi.length;m++){var x=pi[m];x.blockedOn===o&&(x.blockedOn=null)}}for(nn!==null&&Xr(nn,o),Kr!==null&&Xr(Kr,o),Qr!==null&&Xr(Qr,o),Ra.forEach(c),Sr.forEach(c),m=0;m<fi.length;m++)x=fi[m],x.blockedOn===o&&(x.blockedOn=null);for(;0<fi.length&&(m=fi[0],m.blockedOn===null);)sm(m),m.blockedOn===null&&fi.shift()}var zi=y.ReactCurrentBatchConfig,Pa=!0;function is(o,c,m,x){var _=Ct,T=zi.transition;zi.transition=null;try{Ct=1,Ad(o,c,m,x)}finally{Ct=_,zi.transition=T}}function Dg(o,c,m,x){var _=Ct,T=zi.transition;zi.transition=null;try{Ct=4,Ad(o,c,m,x)}finally{Ct=_,zi.transition=T}}function Ad(o,c,m,x){if(Pa){var _=Hl(o,c,m,x);if(_===null)Wg(o,c,x,Do,m),tm(o,x);else if(Lg(_,o,c,m,x))x.stopPropagation();else if(tm(o,x),c&4&&-1<Pg.indexOf(o)){for(;_!==null;){var T=Hd(_);if(T!==null&&Yh(T),T=Hl(o,c,m,x),T===null&&Wg(o,c,x,Do,m),T===_)break;_=T}_!==null&&x.stopPropagation()}else Wg(o,c,x,null,m)}}var Do=null;function Hl(o,c,m,x){if(Do=null,o=Fi(x),o=Bo(o),o!==null)if(c=Wr(o),c===null)o=null;else if(m=c.tag,m===13){if(o=Eo(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Do=o,null}function Id(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wh()){case Ao:return 1;case ka:return 4;case jr:case Td:return 16;case qh:return 536870912;default:return 16}default:return 16}}var dr=null,Gl=null,Wn=null;function Rd(){if(Wn)return Wn;var o,c=Gl,m=c.length,x,_="value"in dr?dr.value:dr.textContent,T=_.length;for(o=0;o<m&&c[o]===_[o];o++);var V=m-o;for(x=1;x<=V&&c[m-x]===_[T-x];x++);return Wn=_.slice(o,1<x?1-x:void 0)}function Wl(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function gi(){return!0}function Pd(){return!1}function rn(o){function c(m,x,_,T,V){this._reactName=m,this._targetInst=_,this.type=x,this.nativeEvent=T,this.target=V,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(m=o[K],this[K]=m?m(T):T[K]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?gi:Pd,this.isPropagationStopped=Pd,this}return ne(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),c}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=rn(Jr),xi=ne({},Jr,{view:0,detail:0}),Mg=rn(xi),Kl,Hi,La,Mo=ne({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==La&&(La&&o.type==="mousemove"?(Kl=o.screenX-La.screenX,Hi=o.screenY-La.screenY):Hi=Kl=0,La=o),Kl)},movementY:function(o){return"movementY"in o?o.movementY:Hi}}),Ql=rn(Mo),Ld=ne({},Mo,{dataTransfer:0}),rm=rn(Ld),Xl=ne({},xi,{relatedTarget:0}),Yl=rn(Xl),im=ne({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gi=rn(im),am=ne({},Jr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),om=rn(am),lm=ne({},Jr,{data:0}),Dd=rn(lm),Jl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dm(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=cm[o])?!!c[o]:!1}function vi(){return dm}var f=ne({},xi,{key:function(o){if(o.key){var c=Jl[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Wl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ln[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vi,charCode:function(o){return o.type==="keypress"?Wl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Wl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),N=rn(f),B=ne({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=rn(B),ae=ne({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vi}),he=rn(ae),Pe=ne({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ot=rn(Pe),Vs=ne({},Mo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),It=rn(Vs),Ks=[9,13,27,32],Rs=d&&"CompositionEvent"in window,Nr=null;d&&"documentMode"in document&&(Nr=document.documentMode);var ur=d&&"TextEvent"in window&&!Nr,Fo=d&&(!Rs||Nr&&8<Nr&&11>=Nr),Zl=" ",bb=!1;function _b(o,c){switch(o){case"keyup":return Ks.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wb(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ec=!1;function JE(o,c){switch(o){case"compositionend":return wb(c);case"keypress":return c.which!==32?null:(bb=!0,Zl);case"textInput":return o=c.data,o===Zl&&bb?null:o;default:return null}}function ZE(o,c){if(ec)return o==="compositionend"||!Rs&&_b(o,c)?(o=Rd(),Wn=Gl=dr=null,ec=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Fo&&c.locale!=="ko"?null:c.data;default:return null}}var eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jb(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!eA[o.type]:c==="textarea"}function Sb(o,c,m,x){or(x),c=fm(c,"onChange"),0<c.length&&(m=new ql("onChange","change",null,m,x),o.push({event:m,listeners:c}))}var Md=null,Fd=null;function tA(o){Ub(o,0)}function um(o){var c=ic(o);if(Ae(c))return o}function sA(o,c){if(o==="change")return c}var Nb=!1;if(d){var Fg;if(d){var Bg="oninput"in document;if(!Bg){var kb=document.createElement("div");kb.setAttribute("oninput","return;"),Bg=typeof kb.oninput=="function"}Fg=Bg}else Fg=!1;Nb=Fg&&(!document.documentMode||9<document.documentMode)}function Tb(){Md&&(Md.detachEvent("onpropertychange",Cb),Fd=Md=null)}function Cb(o){if(o.propertyName==="value"&&um(Fd)){var c=[];Sb(c,Fd,o,Fi(o)),jd(tA,c)}}function nA(o,c,m){o==="focusin"?(Tb(),Md=c,Fd=m,Md.attachEvent("onpropertychange",Cb)):o==="focusout"&&Tb()}function rA(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return um(Fd)}function iA(o,c){if(o==="click")return um(c)}function aA(o,c){if(o==="input"||o==="change")return um(c)}function oA(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Zr=typeof Object.is=="function"?Object.is:oA;function Bd(o,c){if(Zr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),x=Object.keys(c);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var _=m[x];if(!u.call(c,_)||!Zr(o[_],c[_]))return!1}return!0}function Eb(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ab(o,c){var m=Eb(o);o=0;for(var x;m;){if(m.nodeType===3){if(x=o+m.textContent.length,o<=c&&x>=c)return{node:m,offset:c-o};o=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Eb(m)}}function Ib(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Ib(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Rb(){for(var o=window,c=et();c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch(x){m=!1}if(m)o=c.contentWindow;else break;c=et(o.document)}return c}function $g(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function lA(o){var c=Rb(),m=o.focusedElem,x=o.selectionRange;if(c!==m&&m&&m.ownerDocument&&Ib(m.ownerDocument.documentElement,m)){if(x!==null&&$g(m)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in m)m.selectionStart=c,m.selectionEnd=Math.min(o,m.value.length);else if(o=(c=m.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var _=m.textContent.length,T=Math.min(x.start,_);x=x.end===void 0?T:Math.min(x.end,_),!o.extend&&T>x&&(_=x,x=T,T=_),_=Ab(m,T);var V=Ab(m,x);_&&V&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(c=c.createRange(),c.setStart(_.node,_.offset),o.removeAllRanges(),T>x?(o.addRange(c),o.extend(V.node,V.offset)):(c.setEnd(V.node,V.offset),o.addRange(c)))}}for(c=[],o=m;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<c.length;m++)o=c[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var cA=d&&"documentMode"in document&&11>=document.documentMode,tc=null,Og=null,$d=null,Vg=!1;function Pb(o,c,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Vg||tc==null||tc!==et(x)||(x=tc,"selectionStart"in x&&$g(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),$d&&Bd($d,x)||($d=x,x=fm(Og,"onSelect"),0<x.length&&(c=new ql("onSelect","select",null,c,m),o.push({event:c,listeners:x}),c.target=tc)))}function hm(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var sc={animationend:hm("Animation","AnimationEnd"),animationiteration:hm("Animation","AnimationIteration"),animationstart:hm("Animation","AnimationStart"),transitionend:hm("Transition","TransitionEnd")},Ug={},Lb={};d&&(Lb=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function mm(o){if(Ug[o])return Ug[o];if(!sc[o])return o;var c=sc[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in Lb)return Ug[o]=c[m];return o}var Db=mm("animationend"),Mb=mm("animationiteration"),Fb=mm("animationstart"),Bb=mm("transitionend"),$b=new Map,Ob="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(o,c){$b.set(o,c),a(c,[o])}for(var zg=0;zg<Ob.length;zg++){var Hg=Ob[zg],dA=Hg.toLowerCase(),uA=Hg[0].toUpperCase()+Hg.slice(1);Da(dA,"on"+uA)}Da(Db,"onAnimationEnd"),Da(Mb,"onAnimationIteration"),Da(Fb,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(Bb,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Od));function Vb(o,c,m){var x=o.type||"unknown-event";o.currentTarget=m,zh(x,c,void 0,o),o.currentTarget=null}function Ub(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var x=o[m],_=x.event;x=x.listeners;e:{var T=void 0;if(c)for(var V=x.length-1;0<=V;V--){var K=x[V],X=K.instance,de=K.currentTarget;if(K=K.listener,X!==T&&_.isPropagationStopped())break e;Vb(_,K,de),T=X}else for(V=0;V<x.length;V++){if(K=x[V],X=K.instance,de=K.currentTarget,K=K.listener,X!==T&&_.isPropagationStopped())break e;Vb(_,K,de),T=X}}}if(Gr)throw o=Sd,Gr=!1,Sd=null,o}function ts(o,c){var m=c[Jg];m===void 0&&(m=c[Jg]=new Set);var x=o+"__bubble";m.has(x)||(zb(c,o,2,!1),m.add(x))}function Gg(o,c,m){var x=0;c&&(x|=4),zb(m,o,x,c)}var pm="_reactListening"+Math.random().toString(36).slice(2);function Vd(o){if(!o[pm]){o[pm]=!0,r.forEach(function(m){m!=="selectionchange"&&(hA.has(m)||Gg(m,!1,o),Gg(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[pm]||(c[pm]=!0,Gg("selectionchange",!1,c))}}function zb(o,c,m,x){switch(Id(c)){case 1:var _=is;break;case 4:_=Dg;break;default:_=Ad}m=_.bind(null,c,m,o),_=void 0,!Ml||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),x?_!==void 0?o.addEventListener(c,m,{capture:!0,passive:_}):o.addEventListener(c,m,!0):_!==void 0?o.addEventListener(c,m,{passive:_}):o.addEventListener(c,m,!1)}function Wg(o,c,m,x,_){var T=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var V=x.tag;if(V===3||V===4){var K=x.stateNode.containerInfo;if(K===_||K.nodeType===8&&K.parentNode===_)break;if(V===4)for(V=x.return;V!==null;){var X=V.tag;if((X===3||X===4)&&(X=V.stateNode.containerInfo,X===_||X.nodeType===8&&X.parentNode===_))return;V=V.return}for(;K!==null;){if(V=Bo(K),V===null)return;if(X=V.tag,X===5||X===6){x=T=V;continue e}K=K.parentNode}}x=x.return}jd(function(){var de=T,ye=Fi(m),je=[];e:{var ve=$b.get(o);if(ve!==void 0){var Be=ql,Ue=o;switch(o){case"keypress":if(Wl(m)===0)break e;case"keydown":case"keyup":Be=N;break;case"focusin":Ue="focus",Be=Yl;break;case"focusout":Ue="blur",Be=Yl;break;case"beforeblur":case"afterblur":Be=Yl;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=he;break;case Db:case Mb:case Fb:Be=Gi;break;case Bb:Be=Ot;break;case"scroll":Be=Mg;break;case"wheel":Be=It;break;case"copy":case"cut":case"paste":Be=om;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=U}var ze=(c&4)!==0,js=!ze&&o==="scroll",oe=ze?ve!==null?ve+"Capture":null:ve;ze=[];for(var se=de,le;se!==null;){le=se;var Ee=le.stateNode;if(le.tag===5&&Ee!==null&&(le=Ee,oe!==null&&(Ee=ws(se,oe),Ee!=null&&ze.push(Ud(se,Ee,le)))),js)break;se=se.return}0<ze.length&&(ve=new Be(ve,Ue,null,m,ye),je.push({event:ve,listeners:ze}))}}if((c&7)===0){e:{if(ve=o==="mouseover"||o==="pointerover",Be=o==="mouseout"||o==="pointerout",ve&&m!==wr&&(Ue=m.relatedTarget||m.fromElement)&&(Bo(Ue)||Ue[Wi]))break e;if((Be||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Be?(Ue=m.relatedTarget||m.toElement,Be=de,Ue=Ue?Bo(Ue):null,Ue!==null&&(js=Wr(Ue),Ue!==js||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Be=null,Ue=de),Be!==Ue)){if(ze=Ql,Ee="onMouseLeave",oe="onMouseEnter",se="mouse",(o==="pointerout"||o==="pointerover")&&(ze=U,Ee="onPointerLeave",oe="onPointerEnter",se="pointer"),js=Be==null?ve:ic(Be),le=Ue==null?ve:ic(Ue),ve=new ze(Ee,se+"leave",Be,m,ye),ve.target=js,ve.relatedTarget=le,Ee=null,Bo(ye)===de&&(ze=new ze(oe,se+"enter",Ue,m,ye),ze.target=le,ze.relatedTarget=js,Ee=ze),js=Ee,Be&&Ue)t:{for(ze=Be,oe=Ue,se=0,le=ze;le;le=nc(le))se++;for(le=0,Ee=oe;Ee;Ee=nc(Ee))le++;for(;0<se-le;)ze=nc(ze),se--;for(;0<le-se;)oe=nc(oe),le--;for(;se--;){if(ze===oe||oe!==null&&ze===oe.alternate)break t;ze=nc(ze),oe=nc(oe)}ze=null}else ze=null;Be!==null&&Hb(je,ve,Be,ze,!1),Ue!==null&&js!==null&&Hb(je,js,Ue,ze,!0)}}e:{if(ve=de?ic(de):window,Be=ve.nodeName&&ve.nodeName.toLowerCase(),Be==="select"||Be==="input"&&ve.type==="file")var We=sA;else if(jb(ve))if(Nb)We=aA;else{We=rA;var Ye=nA}else(Be=ve.nodeName)&&Be.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(We=iA);if(We&&(We=We(o,de))){Sb(je,We,m,ye);break e}Ye&&Ye(o,ve,de),o==="focusout"&&(Ye=ve._wrapperState)&&Ye.controlled&&ve.type==="number"&&Os(ve,"number",ve.value)}switch(Ye=de?ic(de):window,o){case"focusin":(jb(Ye)||Ye.contentEditable==="true")&&(tc=Ye,Og=de,$d=null);break;case"focusout":$d=Og=tc=null;break;case"mousedown":Vg=!0;break;case"contextmenu":case"mouseup":case"dragend":Vg=!1,Pb(je,m,ye);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":Pb(je,m,ye)}var Je;if(Rs)e:{switch(o){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ec?_b(o,m)&&(st="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(st="onCompositionStart");st&&(Fo&&m.locale!=="ko"&&(ec||st!=="onCompositionStart"?st==="onCompositionEnd"&&ec&&(Je=Rd()):(dr=ye,Gl="value"in dr?dr.value:dr.textContent,ec=!0)),Ye=fm(de,st),0<Ye.length&&(st=new Dd(st,o,null,m,ye),je.push({event:st,listeners:Ye}),Je?st.data=Je:(Je=wb(m),Je!==null&&(st.data=Je)))),(Je=ur?JE(o,m):ZE(o,m))&&(de=fm(de,"onBeforeInput"),0<de.length&&(ye=new Dd("onBeforeInput","beforeinput",null,m,ye),je.push({event:ye,listeners:de}),ye.data=Je))}Ub(je,c)})}function Ud(o,c,m){return{instance:o,listener:c,currentTarget:m}}function fm(o,c){for(var m=c+"Capture",x=[];o!==null;){var _=o,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=ws(o,m),T!=null&&x.unshift(Ud(o,T,_)),T=ws(o,c),T!=null&&x.push(Ud(o,T,_))),o=o.return}return x}function nc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Hb(o,c,m,x,_){for(var T=c._reactName,V=[];m!==null&&m!==x;){var K=m,X=K.alternate,de=K.stateNode;if(X!==null&&X===x)break;K.tag===5&&de!==null&&(K=de,_?(X=ws(m,T),X!=null&&V.unshift(Ud(m,X,K))):_||(X=ws(m,T),X!=null&&V.push(Ud(m,X,K)))),m=m.return}V.length!==0&&o.push({event:c,listeners:V})}var mA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function Gb(o){return(typeof o=="string"?o:""+o).replace(mA,`
`).replace(pA,"")}function gm(o,c,m){if(c=Gb(c),Gb(o)!==c&&m)throw Error(s(425))}function xm(){}var qg=null,Kg=null;function Qg(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Xg=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,Wb=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof Wb!="undefined"?function(o){return Wb.resolve(null).then(o).catch(xA)}:Xg;function xA(o){setTimeout(function(){throw o})}function Yg(o,c){var m=c,x=0;do{var _=m.nextSibling;if(o.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(x===0){o.removeChild(_),Yr(c);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=_}while(m);Yr(c)}function Ma(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function qb(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return o;c--}else m==="/$"&&c++}o=o.previousSibling}return null}var rc=Math.random().toString(36).slice(2),yi="__reactFiber$"+rc,zd="__reactProps$"+rc,Wi="__reactContainer$"+rc,Jg="__reactEvents$"+rc,vA="__reactListeners$"+rc,yA="__reactHandles$"+rc;function Bo(o){var c=o[yi];if(c)return c;for(var m=o.parentNode;m;){if(c=m[Wi]||m[yi]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=qb(o);o!==null;){if(m=o[yi])return m;o=qb(o)}return c}o=m,m=o.parentNode}return null}function Hd(o){return o=o[yi]||o[Wi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ic(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(s(33))}function vm(o){return o[zd]||null}var Zg=[],ac=-1;function Fa(o){return{current:o}}function ss(o){0>ac||(o.current=Zg[ac],Zg[ac]=null,ac--)}function Kt(o,c){ac++,Zg[ac]=o.current,o.current=c}var Ba={},_n=Fa(Ba),qn=Fa(!1),$o=Ba;function oc(o,c){var m=o.type.contextTypes;if(!m)return Ba;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in m)_[T]=c[T];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=_),_}function Kn(o){return o=o.childContextTypes,o!=null}function ym(){ss(qn),ss(_n)}function Kb(o,c,m){if(_n.current!==Ba)throw Error(s(168));Kt(_n,c),Kt(qn,m)}function Qb(o,c,m){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var _ in x)if(!(_ in c))throw Error(s(108,ge(o)||"Unknown",_));return ne({},m,x)}function bm(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ba,$o=_n.current,Kt(_n,o),Kt(qn,qn.current),!0}function Xb(o,c,m){var x=o.stateNode;if(!x)throw Error(s(169));m?(o=Qb(o,c,$o),x.__reactInternalMemoizedMergedChildContext=o,ss(qn),ss(_n),Kt(_n,o)):ss(qn),Kt(qn,m)}var qi=null,_m=!1,ex=!1;function Yb(o){qi===null?qi=[o]:qi.push(o)}function bA(o){_m=!0,Yb(o)}function $a(){if(!ex&&qi!==null){ex=!0;var o=0,c=Ct;try{var m=qi;for(Ct=1;o<m.length;o++){var x=m[o];do x=x(!0);while(x!==null)}qi=null,_m=!1}catch(_){throw qi!==null&&(qi=qi.slice(o+1)),Ol(Ao,$a),_}finally{Ct=c,ex=!1}}return null}var lc=[],cc=0,wm=null,jm=0,kr=[],Tr=0,Oo=null,Ki=1,Qi="";function Vo(o,c){lc[cc++]=jm,lc[cc++]=wm,wm=o,jm=c}function Jb(o,c,m){kr[Tr++]=Ki,kr[Tr++]=Qi,kr[Tr++]=Oo,Oo=o;var x=Ki;o=Qi;var _=32-Pn(x)-1;x&=~(1<<_),m+=1;var T=32-Pn(c)+_;if(30<T){var V=_-_%5;T=(x&(1<<V)-1).toString(32),x>>=V,_-=V,Ki=1<<32-Pn(c)+_|m<<_|x,Qi=T+o}else Ki=1<<T|m<<_|x,Qi=o}function tx(o){o.return!==null&&(Vo(o,1),Jb(o,1,0))}function sx(o){for(;o===wm;)wm=lc[--cc],lc[cc]=null,jm=lc[--cc],lc[cc]=null;for(;o===Oo;)Oo=kr[--Tr],kr[Tr]=null,Qi=kr[--Tr],kr[Tr]=null,Ki=kr[--Tr],kr[Tr]=null}var hr=null,mr=null,as=!1,ei=null;function Zb(o,c){var m=Ir(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=o,c=o.deletions,c===null?(o.deletions=[m],o.flags|=16):c.push(m)}function e_(o,c){switch(o.tag){case 5:var m=o.type;return c=c.nodeType!==1||m.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,hr=o,mr=Ma(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,hr=o,mr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(m=Oo!==null?{id:Ki,overflow:Qi}:null,o.memoizedState={dehydrated:c,treeContext:m,retryLane:1073741824},m=Ir(18,null,null,0),m.stateNode=c,m.return=o,o.child=m,hr=o,mr=null,!0):!1;default:return!1}}function nx(o){return(o.mode&1)!==0&&(o.flags&128)===0}function rx(o){if(as){var c=mr;if(c){var m=c;if(!e_(o,c)){if(nx(o))throw Error(s(418));c=Ma(m.nextSibling);var x=hr;c&&e_(o,c)?Zb(x,m):(o.flags=o.flags&-4097|2,as=!1,hr=o)}}else{if(nx(o))throw Error(s(418));o.flags=o.flags&-4097|2,as=!1,hr=o}}}function t_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;hr=o}function Sm(o){if(o!==hr)return!1;if(!as)return t_(o),as=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Qg(o.type,o.memoizedProps)),c&&(c=mr)){if(nx(o))throw s_(),Error(s(418));for(;c;)Zb(o,c),c=Ma(c.nextSibling)}if(t_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(c===0){mr=Ma(o.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++}o=o.nextSibling}mr=null}}else mr=hr?Ma(o.stateNode.nextSibling):null;return!0}function s_(){for(var o=mr;o;)o=Ma(o.nextSibling)}function dc(){mr=hr=null,as=!1}function ix(o){ei===null?ei=[o]:ei.push(o)}var _A=y.ReactCurrentBatchConfig;function Gd(o,c,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(s(309));var x=m.stateNode}if(!x)throw Error(s(147,o));var _=x,T=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===T?c.ref:(c=function(V){var K=_.refs;V===null?delete K[T]:K[T]=V},c._stringRef=T,c)}if(typeof o!="string")throw Error(s(284));if(!m._owner)throw Error(s(290,o))}return o}function Nm(o,c){throw o=Object.prototype.toString.call(c),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function n_(o){var c=o._init;return c(o._payload)}function r_(o){function c(oe,se){if(o){var le=oe.deletions;le===null?(oe.deletions=[se],oe.flags|=16):le.push(se)}}function m(oe,se){if(!o)return null;for(;se!==null;)c(oe,se),se=se.sibling;return null}function x(oe,se){for(oe=new Map;se!==null;)se.key!==null?oe.set(se.key,se):oe.set(se.index,se),se=se.sibling;return oe}function _(oe,se){return oe=qa(oe,se),oe.index=0,oe.sibling=null,oe}function T(oe,se,le){return oe.index=le,o?(le=oe.alternate,le!==null?(le=le.index,le<se?(oe.flags|=2,se):le):(oe.flags|=2,se)):(oe.flags|=1048576,se)}function V(oe){return o&&oe.alternate===null&&(oe.flags|=2),oe}function K(oe,se,le,Ee){return se===null||se.tag!==6?(se=Xx(le,oe.mode,Ee),se.return=oe,se):(se=_(se,le),se.return=oe,se)}function X(oe,se,le,Ee){var We=le.type;return We===k?ye(oe,se,le.props.children,Ee,le.key):se!==null&&(se.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===q&&n_(We)===se.type)?(Ee=_(se,le.props),Ee.ref=Gd(oe,se,le),Ee.return=oe,Ee):(Ee=Qm(le.type,le.key,le.props,null,oe.mode,Ee),Ee.ref=Gd(oe,se,le),Ee.return=oe,Ee)}function de(oe,se,le,Ee){return se===null||se.tag!==4||se.stateNode.containerInfo!==le.containerInfo||se.stateNode.implementation!==le.implementation?(se=Yx(le,oe.mode,Ee),se.return=oe,se):(se=_(se,le.children||[]),se.return=oe,se)}function ye(oe,se,le,Ee,We){return se===null||se.tag!==7?(se=Qo(le,oe.mode,Ee,We),se.return=oe,se):(se=_(se,le),se.return=oe,se)}function je(oe,se,le){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Xx(""+se,oe.mode,le),se.return=oe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case j:return le=Qm(se.type,se.key,se.props,null,oe.mode,le),le.ref=Gd(oe,null,se),le.return=oe,le;case M:return se=Yx(se,oe.mode,le),se.return=oe,se;case q:var Ee=se._init;return je(oe,Ee(se._payload),le)}if(Es(se)||J(se))return se=Qo(se,oe.mode,le,null),se.return=oe,se;Nm(oe,se)}return null}function ve(oe,se,le,Ee){var We=se!==null?se.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return We!==null?null:K(oe,se,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return le.key===We?X(oe,se,le,Ee):null;case M:return le.key===We?de(oe,se,le,Ee):null;case q:return We=le._init,ve(oe,se,We(le._payload),Ee)}if(Es(le)||J(le))return We!==null?null:ye(oe,se,le,Ee,null);Nm(oe,le)}return null}function Be(oe,se,le,Ee,We){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return oe=oe.get(le)||null,K(se,oe,""+Ee,We);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case j:return oe=oe.get(Ee.key===null?le:Ee.key)||null,X(se,oe,Ee,We);case M:return oe=oe.get(Ee.key===null?le:Ee.key)||null,de(se,oe,Ee,We);case q:var Ye=Ee._init;return Be(oe,se,le,Ye(Ee._payload),We)}if(Es(Ee)||J(Ee))return oe=oe.get(le)||null,ye(se,oe,Ee,We,null);Nm(se,Ee)}return null}function Ue(oe,se,le,Ee){for(var We=null,Ye=null,Je=se,st=se=0,Ys=null;Je!==null&&st<le.length;st++){Je.index>st?(Ys=Je,Je=null):Ys=Je.sibling;var Ft=ve(oe,Je,le[st],Ee);if(Ft===null){Je===null&&(Je=Ys);break}o&&Je&&Ft.alternate===null&&c(oe,Je),se=T(Ft,se,st),Ye===null?We=Ft:Ye.sibling=Ft,Ye=Ft,Je=Ys}if(st===le.length)return m(oe,Je),as&&Vo(oe,st),We;if(Je===null){for(;st<le.length;st++)Je=je(oe,le[st],Ee),Je!==null&&(se=T(Je,se,st),Ye===null?We=Je:Ye.sibling=Je,Ye=Je);return as&&Vo(oe,st),We}for(Je=x(oe,Je);st<le.length;st++)Ys=Be(Je,oe,st,le[st],Ee),Ys!==null&&(o&&Ys.alternate!==null&&Je.delete(Ys.key===null?st:Ys.key),se=T(Ys,se,st),Ye===null?We=Ys:Ye.sibling=Ys,Ye=Ys);return o&&Je.forEach(function(Ka){return c(oe,Ka)}),as&&Vo(oe,st),We}function ze(oe,se,le,Ee){var We=J(le);if(typeof We!="function")throw Error(s(150));if(le=We.call(le),le==null)throw Error(s(151));for(var Ye=We=null,Je=se,st=se=0,Ys=null,Ft=le.next();Je!==null&&!Ft.done;st++,Ft=le.next()){Je.index>st?(Ys=Je,Je=null):Ys=Je.sibling;var Ka=ve(oe,Je,Ft.value,Ee);if(Ka===null){Je===null&&(Je=Ys);break}o&&Je&&Ka.alternate===null&&c(oe,Je),se=T(Ka,se,st),Ye===null?We=Ka:Ye.sibling=Ka,Ye=Ka,Je=Ys}if(Ft.done)return m(oe,Je),as&&Vo(oe,st),We;if(Je===null){for(;!Ft.done;st++,Ft=le.next())Ft=je(oe,Ft.value,Ee),Ft!==null&&(se=T(Ft,se,st),Ye===null?We=Ft:Ye.sibling=Ft,Ye=Ft);return as&&Vo(oe,st),We}for(Je=x(oe,Je);!Ft.done;st++,Ft=le.next())Ft=Be(Je,oe,st,Ft.value,Ee),Ft!==null&&(o&&Ft.alternate!==null&&Je.delete(Ft.key===null?st:Ft.key),se=T(Ft,se,st),Ye===null?We=Ft:Ye.sibling=Ft,Ye=Ft);return o&&Je.forEach(function(e4){return c(oe,e4)}),as&&Vo(oe,st),We}function js(oe,se,le,Ee){if(typeof le=="object"&&le!==null&&le.type===k&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case j:e:{for(var We=le.key,Ye=se;Ye!==null;){if(Ye.key===We){if(We=le.type,We===k){if(Ye.tag===7){m(oe,Ye.sibling),se=_(Ye,le.props.children),se.return=oe,oe=se;break e}}else if(Ye.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===q&&n_(We)===Ye.type){m(oe,Ye.sibling),se=_(Ye,le.props),se.ref=Gd(oe,Ye,le),se.return=oe,oe=se;break e}m(oe,Ye);break}else c(oe,Ye);Ye=Ye.sibling}le.type===k?(se=Qo(le.props.children,oe.mode,Ee,le.key),se.return=oe,oe=se):(Ee=Qm(le.type,le.key,le.props,null,oe.mode,Ee),Ee.ref=Gd(oe,se,le),Ee.return=oe,oe=Ee)}return V(oe);case M:e:{for(Ye=le.key;se!==null;){if(se.key===Ye)if(se.tag===4&&se.stateNode.containerInfo===le.containerInfo&&se.stateNode.implementation===le.implementation){m(oe,se.sibling),se=_(se,le.children||[]),se.return=oe,oe=se;break e}else{m(oe,se);break}else c(oe,se);se=se.sibling}se=Yx(le,oe.mode,Ee),se.return=oe,oe=se}return V(oe);case q:return Ye=le._init,js(oe,se,Ye(le._payload),Ee)}if(Es(le))return Ue(oe,se,le,Ee);if(J(le))return ze(oe,se,le,Ee);Nm(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,se!==null&&se.tag===6?(m(oe,se.sibling),se=_(se,le),se.return=oe,oe=se):(m(oe,se),se=Xx(le,oe.mode,Ee),se.return=oe,oe=se),V(oe)):m(oe,se)}return js}var uc=r_(!0),i_=r_(!1),km=Fa(null),Tm=null,hc=null,ax=null;function ox(){ax=hc=Tm=null}function lx(o){var c=km.current;ss(km),o._currentValue=c}function cx(o,c,m){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===m)break;o=o.return}}function mc(o,c){Tm=o,ax=hc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(Qn=!0),o.firstContext=null)}function Cr(o){var c=o._currentValue;if(ax!==o)if(o={context:o,memoizedValue:c,next:null},hc===null){if(Tm===null)throw Error(s(308));hc=o,Tm.dependencies={lanes:0,firstContext:o}}else hc=hc.next=o;return c}var Uo=null;function dx(o){Uo===null?Uo=[o]:Uo.push(o)}function a_(o,c,m,x){var _=c.interleaved;return _===null?(m.next=m,dx(c)):(m.next=_.next,_.next=m),c.interleaved=m,Xi(o,x)}function Xi(o,c){o.lanes|=c;var m=o.alternate;for(m!==null&&(m.lanes|=c),m=o,o=o.return;o!==null;)o.childLanes|=c,m=o.alternate,m!==null&&(m.childLanes|=c),m=o,o=o.return;return m.tag===3?m.stateNode:null}var Oa=!1;function ux(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o_(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Yi(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function Va(o,c,m){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(Pt&2)!==0){var _=x.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),x.pending=c,Xi(o,m)}return _=x.interleaved,_===null?(c.next=c,dx(x)):(c.next=_.next,_.next=c),x.interleaved=c,Xi(o,m)}function Cm(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,m|=x,c.lanes=m,Aa(o,m)}}function l_(o,c){var m=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var _=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var V={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};T===null?_=T=V:T=T.next=V,m=m.next}while(m!==null);T===null?_=T=c:T=T.next=c}else _=T=c;m={baseState:x.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:x.shared,effects:x.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}function Em(o,c,m,x){var _=o.updateQueue;Oa=!1;var T=_.firstBaseUpdate,V=_.lastBaseUpdate,K=_.shared.pending;if(K!==null){_.shared.pending=null;var X=K,de=X.next;X.next=null,V===null?T=de:V.next=de,V=X;var ye=o.alternate;ye!==null&&(ye=ye.updateQueue,K=ye.lastBaseUpdate,K!==V&&(K===null?ye.firstBaseUpdate=de:K.next=de,ye.lastBaseUpdate=X))}if(T!==null){var je=_.baseState;V=0,ye=de=X=null,K=T;do{var ve=K.lane,Be=K.eventTime;if((x&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Be,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ue=o,ze=K;switch(ve=c,Be=m,ze.tag){case 1:if(Ue=ze.payload,typeof Ue=="function"){je=Ue.call(Be,je,ve);break e}je=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=ze.payload,ve=typeof Ue=="function"?Ue.call(Be,je,ve):Ue,ve==null)break e;je=ne({},je,ve);break e;case 2:Oa=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,ve=_.effects,ve===null?_.effects=[K]:ve.push(K))}else Be={eventTime:Be,lane:ve,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ye===null?(de=ye=Be,X=je):ye=ye.next=Be,V|=ve;if(K=K.next,K===null){if(K=_.shared.pending,K===null)break;ve=K,K=ve.next,ve.next=null,_.lastBaseUpdate=ve,_.shared.pending=null}}while(!0);if(ye===null&&(X=je),_.baseState=X,_.firstBaseUpdate=de,_.lastBaseUpdate=ye,c=_.shared.interleaved,c!==null){_=c;do V|=_.lane,_=_.next;while(_!==c)}else T===null&&(_.shared.lanes=0);Go|=V,o.lanes=V,o.memoizedState=je}}function c_(o,c,m){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],_=x.callback;if(_!==null){if(x.callback=null,x=m,typeof _!="function")throw Error(s(191,_));_.call(x)}}}var Wd={},bi=Fa(Wd),qd=Fa(Wd),Kd=Fa(Wd);function zo(o){if(o===Wd)throw Error(s(174));return o}function hx(o,c){switch(Kt(Kd,c),Kt(qd,o),Kt(bi,Wd),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Ke(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Ke(c,o)}ss(bi),Kt(bi,c)}function pc(){ss(bi),ss(qd),ss(Kd)}function d_(o){zo(Kd.current);var c=zo(bi.current),m=Ke(c,o.type);c!==m&&(Kt(qd,o),Kt(bi,m))}function mx(o){qd.current===o&&(ss(bi),ss(qd))}var ds=Fa(0);function Am(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var px=[];function fx(){for(var o=0;o<px.length;o++)px[o]._workInProgressVersionPrimary=null;px.length=0}var Im=y.ReactCurrentDispatcher,gx=y.ReactCurrentBatchConfig,Ho=0,us=null,Us=null,Qs=null,Rm=!1,Qd=!1,Xd=0,wA=0;function wn(){throw Error(s(321))}function xx(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!Zr(o[m],c[m]))return!1;return!0}function vx(o,c,m,x,_,T){if(Ho=T,us=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Im.current=o===null||o.memoizedState===null?kA:TA,o=m(x,_),Qd){T=0;do{if(Qd=!1,Xd=0,25<=T)throw Error(s(301));T+=1,Qs=Us=null,c.updateQueue=null,Im.current=CA,o=m(x,_)}while(Qd)}if(Im.current=Dm,c=Us!==null&&Us.next!==null,Ho=0,Qs=Us=us=null,Rm=!1,c)throw Error(s(300));return o}function yx(){var o=Xd!==0;return Xd=0,o}function _i(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qs===null?us.memoizedState=Qs=o:Qs=Qs.next=o,Qs}function Er(){if(Us===null){var o=us.alternate;o=o!==null?o.memoizedState:null}else o=Us.next;var c=Qs===null?us.memoizedState:Qs.next;if(c!==null)Qs=c,Us=o;else{if(o===null)throw Error(s(310));Us=o,o={memoizedState:Us.memoizedState,baseState:Us.baseState,baseQueue:Us.baseQueue,queue:Us.queue,next:null},Qs===null?us.memoizedState=Qs=o:Qs=Qs.next=o}return Qs}function Yd(o,c){return typeof c=="function"?c(o):c}function bx(o){var c=Er(),m=c.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=o;var x=Us,_=x.baseQueue,T=m.pending;if(T!==null){if(_!==null){var V=_.next;_.next=T.next,T.next=V}x.baseQueue=_=T,m.pending=null}if(_!==null){T=_.next,x=x.baseState;var K=V=null,X=null,de=T;do{var ye=de.lane;if((Ho&ye)===ye)X!==null&&(X=X.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),x=de.hasEagerState?de.eagerState:o(x,de.action);else{var je={lane:ye,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};X===null?(K=X=je,V=x):X=X.next=je,us.lanes|=ye,Go|=ye}de=de.next}while(de!==null&&de!==T);X===null?V=x:X.next=K,Zr(x,c.memoizedState)||(Qn=!0),c.memoizedState=x,c.baseState=V,c.baseQueue=X,m.lastRenderedState=x}if(o=m.interleaved,o!==null){_=o;do T=_.lane,us.lanes|=T,Go|=T,_=_.next;while(_!==o)}else _===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function _x(o){var c=Er(),m=c.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=o;var x=m.dispatch,_=m.pending,T=c.memoizedState;if(_!==null){m.pending=null;var V=_=_.next;do T=o(T,V.action),V=V.next;while(V!==_);Zr(T,c.memoizedState)||(Qn=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),m.lastRenderedState=T}return[T,x]}function u_(){}function h_(o,c){var m=us,x=Er(),_=c(),T=!Zr(x.memoizedState,_);if(T&&(x.memoizedState=_,Qn=!0),x=x.queue,wx(f_.bind(null,m,x,o),[o]),x.getSnapshot!==c||T||Qs!==null&&Qs.memoizedState.tag&1){if(m.flags|=2048,Jd(9,p_.bind(null,m,x,_,c),void 0,null),Xs===null)throw Error(s(349));(Ho&30)!==0||m_(m,c,_)}return _}function m_(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=us.updateQueue,c===null?(c={lastEffect:null,stores:null},us.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function p_(o,c,m,x){c.value=m,c.getSnapshot=x,g_(c)&&x_(o)}function f_(o,c,m){return m(function(){g_(c)&&x_(o)})}function g_(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!Zr(o,m)}catch(x){return!0}}function x_(o){var c=Xi(o,1);c!==null&&ri(c,o,1,-1)}function v_(o){var c=_i();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yd,lastRenderedState:o},c.queue=o,o=o.dispatch=NA.bind(null,us,o),[c.memoizedState,o]}function Jd(o,c,m,x){return o={tag:o,create:c,destroy:m,deps:x,next:null},c=us.updateQueue,c===null?(c={lastEffect:null,stores:null},us.updateQueue=c,c.lastEffect=o.next=o):(m=c.lastEffect,m===null?c.lastEffect=o.next=o:(x=m.next,m.next=o,o.next=x,c.lastEffect=o)),o}function y_(){return Er().memoizedState}function Pm(o,c,m,x){var _=_i();us.flags|=o,_.memoizedState=Jd(1|c,m,void 0,x===void 0?null:x)}function Lm(o,c,m,x){var _=Er();x=x===void 0?null:x;var T=void 0;if(Us!==null){var V=Us.memoizedState;if(T=V.destroy,x!==null&&xx(x,V.deps)){_.memoizedState=Jd(c,m,T,x);return}}us.flags|=o,_.memoizedState=Jd(1|c,m,T,x)}function b_(o,c){return Pm(8390656,8,o,c)}function wx(o,c){return Lm(2048,8,o,c)}function __(o,c){return Lm(4,2,o,c)}function w_(o,c){return Lm(4,4,o,c)}function j_(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function S_(o,c,m){return m=m!=null?m.concat([o]):null,Lm(4,4,j_.bind(null,c,o),m)}function jx(){}function N_(o,c){var m=Er();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&xx(c,x[1])?x[0]:(m.memoizedState=[o,c],o)}function k_(o,c){var m=Er();c=c===void 0?null:c;var x=m.memoizedState;return x!==null&&c!==null&&xx(c,x[1])?x[0]:(o=o(),m.memoizedState=[o,c],o)}function T_(o,c,m){return(Ho&21)===0?(o.baseState&&(o.baseState=!1,Qn=!0),o.memoizedState=m):(Zr(m,c)||(m=Po(),us.lanes|=m,Go|=m,o.baseState=!0),c)}function jA(o,c){var m=Ct;Ct=m!==0&&4>m?m:4,o(!0);var x=gx.transition;gx.transition={};try{o(!1),c()}finally{Ct=m,gx.transition=x}}function C_(){return Er().memoizedState}function SA(o,c,m){var x=Ga(o);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},E_(o))A_(c,m);else if(m=a_(o,c,m,x),m!==null){var _=Mn();ri(m,o,x,_),I_(m,c,x)}}function NA(o,c,m){var x=Ga(o),_={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(E_(o))A_(c,_);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var V=c.lastRenderedState,K=T(V,m);if(_.hasEagerState=!0,_.eagerState=K,Zr(K,V)){var X=c.interleaved;X===null?(_.next=_,dx(c)):(_.next=X.next,X.next=_),c.interleaved=_;return}}catch(de){}finally{}m=a_(o,c,_,x),m!==null&&(_=Mn(),ri(m,o,x,_),I_(m,c,x))}}function E_(o){var c=o.alternate;return o===us||c!==null&&c===us}function A_(o,c){Qd=Rm=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function I_(o,c,m){if((m&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,m|=x,c.lanes=m,Aa(o,m)}}var Dm={readContext:Cr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},kA={readContext:Cr,useCallback:function(o,c){return _i().memoizedState=[o,c===void 0?null:c],o},useContext:Cr,useEffect:b_,useImperativeHandle:function(o,c,m){return m=m!=null?m.concat([o]):null,Pm(4194308,4,j_.bind(null,c,o),m)},useLayoutEffect:function(o,c){return Pm(4194308,4,o,c)},useInsertionEffect:function(o,c){return Pm(4,2,o,c)},useMemo:function(o,c){var m=_i();return c=c===void 0?null:c,o=o(),m.memoizedState=[o,c],o},useReducer:function(o,c,m){var x=_i();return c=m!==void 0?m(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=SA.bind(null,us,o),[x.memoizedState,o]},useRef:function(o){var c=_i();return o={current:o},c.memoizedState=o},useState:v_,useDebugValue:jx,useDeferredValue:function(o){return _i().memoizedState=o},useTransition:function(){var o=v_(!1),c=o[0];return o=jA.bind(null,o[1]),_i().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,m){var x=us,_=_i();if(as){if(m===void 0)throw Error(s(407));m=m()}else{if(m=c(),Xs===null)throw Error(s(349));(Ho&30)!==0||m_(x,c,m)}_.memoizedState=m;var T={value:m,getSnapshot:c};return _.queue=T,b_(f_.bind(null,x,T,o),[o]),x.flags|=2048,Jd(9,p_.bind(null,x,T,m,c),void 0,null),m},useId:function(){var o=_i(),c=Xs.identifierPrefix;if(as){var m=Qi,x=Ki;m=(x&~(1<<32-Pn(x)-1)).toString(32)+m,c=":"+c+"R"+m,m=Xd++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=wA++,c=":"+c+"r"+m.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},TA={readContext:Cr,useCallback:N_,useContext:Cr,useEffect:wx,useImperativeHandle:S_,useInsertionEffect:__,useLayoutEffect:w_,useMemo:k_,useReducer:bx,useRef:y_,useState:function(){return bx(Yd)},useDebugValue:jx,useDeferredValue:function(o){var c=Er();return T_(c,Us.memoizedState,o)},useTransition:function(){var o=bx(Yd)[0],c=Er().memoizedState;return[o,c]},useMutableSource:u_,useSyncExternalStore:h_,useId:C_,unstable_isNewReconciler:!1},CA={readContext:Cr,useCallback:N_,useContext:Cr,useEffect:wx,useImperativeHandle:S_,useInsertionEffect:__,useLayoutEffect:w_,useMemo:k_,useReducer:_x,useRef:y_,useState:function(){return _x(Yd)},useDebugValue:jx,useDeferredValue:function(o){var c=Er();return Us===null?c.memoizedState=o:T_(c,Us.memoizedState,o)},useTransition:function(){var o=_x(Yd)[0],c=Er().memoizedState;return[o,c]},useMutableSource:u_,useSyncExternalStore:h_,useId:C_,unstable_isNewReconciler:!1};function ti(o,c){if(o&&o.defaultProps){c=ne({},c),o=o.defaultProps;for(var m in o)c[m]===void 0&&(c[m]=o[m]);return c}return c}function Sx(o,c,m,x){c=o.memoizedState,m=m(x,c),m=m==null?c:ne({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Mm={isMounted:function(o){return(o=o._reactInternals)?Wr(o)===o:!1},enqueueSetState:function(o,c,m){o=o._reactInternals;var x=Mn(),_=Ga(o),T=Yi(x,_);T.payload=c,m!=null&&(T.callback=m),c=Va(o,T,_),c!==null&&(ri(c,o,_,x),Cm(c,o,_))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var x=Mn(),_=Ga(o),T=Yi(x,_);T.tag=1,T.payload=c,m!=null&&(T.callback=m),c=Va(o,T,_),c!==null&&(ri(c,o,_,x),Cm(c,o,_))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=Mn(),x=Ga(o),_=Yi(m,x);_.tag=2,c!=null&&(_.callback=c),c=Va(o,_,x),c!==null&&(ri(c,o,x,m),Cm(c,o,x))}};function R_(o,c,m,x,_,T,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,T,V):c.prototype&&c.prototype.isPureReactComponent?!Bd(m,x)||!Bd(_,T):!0}function P_(o,c,m){var x=!1,_=Ba,T=c.contextType;return typeof T=="object"&&T!==null?T=Cr(T):(_=Kn(c)?$o:_n.current,x=c.contextTypes,T=(x=x!=null)?oc(o,_):Ba),c=new c(m,T),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Mm,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=T),c}function L_(o,c,m,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,x),c.state!==o&&Mm.enqueueReplaceState(c,c.state,null)}function Nx(o,c,m,x){var _=o.stateNode;_.props=m,_.state=o.memoizedState,_.refs={},ux(o);var T=c.contextType;typeof T=="object"&&T!==null?_.context=Cr(T):(T=Kn(c)?$o:_n.current,_.context=oc(o,T)),_.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Sx(o,c,T,m),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(c=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),c!==_.state&&Mm.enqueueReplaceState(_,_.state,null),Em(o,m,_,x),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function fc(o,c){try{var m="",x=c;do m+=fe(x),x=x.return;while(x);var _=m}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:c,stack:_,digest:null}}function kx(o,c,m){return{value:o,source:null,stack:m!=null?m:null,digest:c!=null?c:null}}function Tx(o,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var EA=typeof WeakMap=="function"?WeakMap:Map;function D_(o,c,m){m=Yi(-1,m),m.tag=3,m.payload={element:null};var x=c.value;return m.callback=function(){zm||(zm=!0,Ux=x),Tx(o,c)},m}function M_(o,c,m){m=Yi(-1,m),m.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var _=c.value;m.payload=function(){return x(_)},m.callback=function(){Tx(o,c)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(m.callback=function(){Tx(o,c),typeof x!="function"&&(za===null?za=new Set([this]):za.add(this));var V=c.stack;this.componentDidCatch(c.value,{componentStack:V!==null?V:""})}),m}function F_(o,c,m){var x=o.pingCache;if(x===null){x=o.pingCache=new EA;var _=new Set;x.set(c,_)}else _=x.get(c),_===void 0&&(_=new Set,x.set(c,_));_.has(m)||(_.add(m),o=zA.bind(null,o,c,m),c.then(o,o))}function B_(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function $_(o,c,m,x,_){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=Yi(-1,1),c.tag=2,Va(m,c,1))),m.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var AA=y.ReactCurrentOwner,Qn=!1;function Dn(o,c,m,x){c.child=o===null?i_(c,null,m,x):uc(c,o.child,m,x)}function O_(o,c,m,x,_){m=m.render;var T=c.ref;return mc(c,_),x=vx(o,c,m,x,T,_),m=yx(),o!==null&&!Qn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~_,Ji(o,c,_)):(as&&m&&tx(c),c.flags|=1,Dn(o,c,x,_),c.child)}function V_(o,c,m,x,_){if(o===null){var T=m.type;return typeof T=="function"&&!Qx(T)&&T.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=T,U_(o,c,T,x,_)):(o=Qm(m.type,null,x,c,c.mode,_),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,(o.lanes&_)===0){var V=T.memoizedProps;if(m=m.compare,m=m!==null?m:Bd,m(V,x)&&o.ref===c.ref)return Ji(o,c,_)}return c.flags|=1,o=qa(T,x),o.ref=c.ref,o.return=c,c.child=o}function U_(o,c,m,x,_){if(o!==null){var T=o.memoizedProps;if(Bd(T,x)&&o.ref===c.ref)if(Qn=!1,c.pendingProps=x=T,(o.lanes&_)!==0)(o.flags&131072)!==0&&(Qn=!0);else return c.lanes=o.lanes,Ji(o,c,_)}return Cx(o,c,m,x,_)}function z_(o,c,m){var x=c.pendingProps,_=x.children,T=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(xc,pr),pr|=m;else{if((m&1073741824)===0)return o=T!==null?T.baseLanes|m:m,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,Kt(xc,pr),pr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=T!==null?T.baseLanes:m,Kt(xc,pr),pr|=x}else T!==null?(x=T.baseLanes|m,c.memoizedState=null):x=m,Kt(xc,pr),pr|=x;return Dn(o,c,_,m),c.child}function H_(o,c){var m=c.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function Cx(o,c,m,x,_){var T=Kn(m)?$o:_n.current;return T=oc(c,T),mc(c,_),m=vx(o,c,m,x,T,_),x=yx(),o!==null&&!Qn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~_,Ji(o,c,_)):(as&&x&&tx(c),c.flags|=1,Dn(o,c,m,_),c.child)}function G_(o,c,m,x,_){if(Kn(m)){var T=!0;bm(c)}else T=!1;if(mc(c,_),c.stateNode===null)Bm(o,c),P_(c,m,x),Nx(c,m,x,_),x=!0;else if(o===null){var V=c.stateNode,K=c.memoizedProps;V.props=K;var X=V.context,de=m.contextType;typeof de=="object"&&de!==null?de=Cr(de):(de=Kn(m)?$o:_n.current,de=oc(c,de));var ye=m.getDerivedStateFromProps,je=typeof ye=="function"||typeof V.getSnapshotBeforeUpdate=="function";je||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(K!==x||X!==de)&&L_(c,V,x,de),Oa=!1;var ve=c.memoizedState;V.state=ve,Em(c,x,V,_),X=c.memoizedState,K!==x||ve!==X||qn.current||Oa?(typeof ye=="function"&&(Sx(c,m,ye,x),X=c.memoizedState),(K=Oa||R_(c,m,K,x,ve,X,de))?(je||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(c.flags|=4194308)):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=X),V.props=x,V.state=X,V.context=de,x=K):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{V=c.stateNode,o_(o,c),K=c.memoizedProps,de=c.type===c.elementType?K:ti(c.type,K),V.props=de,je=c.pendingProps,ve=V.context,X=m.contextType,typeof X=="object"&&X!==null?X=Cr(X):(X=Kn(m)?$o:_n.current,X=oc(c,X));var Be=m.getDerivedStateFromProps;(ye=typeof Be=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(K!==je||ve!==X)&&L_(c,V,x,X),Oa=!1,ve=c.memoizedState,V.state=ve,Em(c,x,V,_);var Ue=c.memoizedState;K!==je||ve!==Ue||qn.current||Oa?(typeof Be=="function"&&(Sx(c,m,Be,x),Ue=c.memoizedState),(de=Oa||R_(c,m,de,x,ve,Ue,X)||!1)?(ye||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(x,Ue,X),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(x,Ue,X)),typeof V.componentDidUpdate=="function"&&(c.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof V.componentDidUpdate!="function"||K===o.memoizedProps&&ve===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&ve===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Ue),V.props=x,V.state=Ue,V.context=X,x=de):(typeof V.componentDidUpdate!="function"||K===o.memoizedProps&&ve===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&ve===o.memoizedState||(c.flags|=1024),x=!1)}return Ex(o,c,m,x,T,_)}function Ex(o,c,m,x,_,T){H_(o,c);var V=(c.flags&128)!==0;if(!x&&!V)return _&&Xb(c,m,!1),Ji(o,c,T);x=c.stateNode,AA.current=c;var K=V&&typeof m.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&V?(c.child=uc(c,o.child,null,T),c.child=uc(c,null,K,T)):Dn(o,c,K,T),c.memoizedState=x.state,_&&Xb(c,m,!0),c.child}function W_(o){var c=o.stateNode;c.pendingContext?Kb(o,c.pendingContext,c.pendingContext!==c.context):c.context&&Kb(o,c.context,!1),hx(o,c.containerInfo)}function q_(o,c,m,x,_){return dc(),ix(_),c.flags|=256,Dn(o,c,m,x),c.child}var Ax={dehydrated:null,treeContext:null,retryLane:0};function Ix(o){return{baseLanes:o,cachePool:null,transitions:null}}function K_(o,c,m){var x=c.pendingProps,_=ds.current,T=!1,V=(c.flags&128)!==0,K;if((K=V)||(K=o!==null&&o.memoizedState===null?!1:(_&2)!==0),K?(T=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),Kt(ds,_&1),o===null)return rx(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(V=x.children,o=x.fallback,T?(x=c.mode,T=c.child,V={mode:"hidden",children:V},(x&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=V):T=Xm(V,x,0,null),o=Qo(o,x,m,null),T.return=c,o.return=c,T.sibling=o,c.child=T,c.child.memoizedState=Ix(m),c.memoizedState=Ax,o):Rx(c,V));if(_=o.memoizedState,_!==null&&(K=_.dehydrated,K!==null))return IA(o,c,V,x,K,_,m);if(T){T=x.fallback,V=c.mode,_=o.child,K=_.sibling;var X={mode:"hidden",children:x.children};return(V&1)===0&&c.child!==_?(x=c.child,x.childLanes=0,x.pendingProps=X,c.deletions=null):(x=qa(_,X),x.subtreeFlags=_.subtreeFlags&14680064),K!==null?T=qa(K,T):(T=Qo(T,V,m,null),T.flags|=2),T.return=c,x.return=c,x.sibling=T,c.child=x,x=T,T=c.child,V=o.child.memoizedState,V=V===null?Ix(m):{baseLanes:V.baseLanes|m,cachePool:null,transitions:V.transitions},T.memoizedState=V,T.childLanes=o.childLanes&~m,c.memoizedState=Ax,x}return T=o.child,o=T.sibling,x=qa(T,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=m),x.return=c,x.sibling=null,o!==null&&(m=c.deletions,m===null?(c.deletions=[o],c.flags|=16):m.push(o)),c.child=x,c.memoizedState=null,x}function Rx(o,c){return c=Xm({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function Fm(o,c,m,x){return x!==null&&ix(x),uc(c,o.child,null,m),o=Rx(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function IA(o,c,m,x,_,T,V){if(m)return c.flags&256?(c.flags&=-257,x=kx(Error(s(422))),Fm(o,c,V,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(T=x.fallback,_=c.mode,x=Xm({mode:"visible",children:x.children},_,0,null),T=Qo(T,_,V,null),T.flags|=2,x.return=c,T.return=c,x.sibling=T,c.child=x,(c.mode&1)!==0&&uc(c,o.child,null,V),c.child.memoizedState=Ix(V),c.memoizedState=Ax,T);if((c.mode&1)===0)return Fm(o,c,V,null);if(_.data==="$!"){if(x=_.nextSibling&&_.nextSibling.dataset,x)var K=x.dgst;return x=K,T=Error(s(419)),x=kx(T,x,void 0),Fm(o,c,V,x)}if(K=(V&o.childLanes)!==0,Qn||K){if(x=Xs,x!==null){switch(V&-V){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(x.suspendedLanes|V))!==0?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,Xi(o,_),ri(x,o,_,-1))}return Kx(),x=kx(Error(s(421))),Fm(o,c,V,x)}return _.data==="$?"?(c.flags|=128,c.child=o.child,c=HA.bind(null,o),_._reactRetry=c,null):(o=T.treeContext,mr=Ma(_.nextSibling),hr=c,as=!0,ei=null,o!==null&&(kr[Tr++]=Ki,kr[Tr++]=Qi,kr[Tr++]=Oo,Ki=o.id,Qi=o.overflow,Oo=c),c=Rx(c,x.children),c.flags|=4096,c)}function Q_(o,c,m){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),cx(o.return,c,m)}function Px(o,c,m,x,_){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:_}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=m,T.tailMode=_)}function X_(o,c,m){var x=c.pendingProps,_=x.revealOrder,T=x.tail;if(Dn(o,c,x.children,m),x=ds.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Q_(o,m,c);else if(o.tag===19)Q_(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Kt(ds,x),(c.mode&1)===0)c.memoizedState=null;else switch(_){case"forwards":for(m=c.child,_=null;m!==null;)o=m.alternate,o!==null&&Am(o)===null&&(_=m),m=m.sibling;m=_,m===null?(_=c.child,c.child=null):(_=m.sibling,m.sibling=null),Px(c,!1,_,m,T);break;case"backwards":for(m=null,_=c.child,c.child=null;_!==null;){if(o=_.alternate,o!==null&&Am(o)===null){c.child=_;break}o=_.sibling,_.sibling=m,m=_,_=o}Px(c,!0,m,null,T);break;case"together":Px(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Bm(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Ji(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),Go|=c.lanes,(m&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(s(153));if(c.child!==null){for(o=c.child,m=qa(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=qa(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function RA(o,c,m){switch(c.tag){case 3:W_(c),dc();break;case 5:d_(c);break;case 1:Kn(c.type)&&bm(c);break;case 4:hx(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,_=c.memoizedProps.value;Kt(km,x._currentValue),x._currentValue=_;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Kt(ds,ds.current&1),c.flags|=128,null):(m&c.child.childLanes)!==0?K_(o,c,m):(Kt(ds,ds.current&1),o=Ji(o,c,m),o!==null?o.sibling:null);Kt(ds,ds.current&1);break;case 19:if(x=(m&c.childLanes)!==0,(o.flags&128)!==0){if(x)return X_(o,c,m);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Kt(ds,ds.current),x)break;return null;case 22:case 23:return c.lanes=0,z_(o,c,m)}return Ji(o,c,m)}var Y_,Lx,J_,Z_;Y_=function(o,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Lx=function(){},J_=function(o,c,m,x){var _=o.memoizedProps;if(_!==x){o=c.stateNode,zo(bi.current);var T=null;switch(m){case"input":_=pt(o,_),x=pt(o,x),T=[];break;case"select":_=ne({},_,{value:void 0}),x=ne({},x,{value:void 0}),T=[];break;case"textarea":_=qs(o,_),x=qs(o,x),T=[];break;default:typeof _.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=xm)}zr(m,x);var V;m=null;for(de in _)if(!x.hasOwnProperty(de)&&_.hasOwnProperty(de)&&_[de]!=null)if(de==="style"){var K=_[de];for(V in K)K.hasOwnProperty(V)&&(m||(m={}),m[V]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?T||(T=[]):(T=T||[]).push(de,null));for(de in x){var X=x[de];if(K=_!=null?_[de]:void 0,x.hasOwnProperty(de)&&X!==K&&(X!=null||K!=null))if(de==="style")if(K){for(V in K)!K.hasOwnProperty(V)||X&&X.hasOwnProperty(V)||(m||(m={}),m[V]="");for(V in X)X.hasOwnProperty(V)&&K[V]!==X[V]&&(m||(m={}),m[V]=X[V])}else m||(T||(T=[]),T.push(de,m)),m=X;else de==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,K=K?K.__html:void 0,X!=null&&K!==X&&(T=T||[]).push(de,X)):de==="children"?typeof X!="string"&&typeof X!="number"||(T=T||[]).push(de,""+X):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(X!=null&&de==="onScroll"&&ts("scroll",o),T||K===X||(T=[])):(T=T||[]).push(de,X))}m&&(T=T||[]).push("style",m);var de=T;(c.updateQueue=de)&&(c.flags|=4)}},Z_=function(o,c,m,x){m!==x&&(c.flags|=4)};function Zd(o,c){if(!as)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function jn(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,x=0;if(c)for(var _=o.child;_!==null;)m|=_.lanes|_.childLanes,x|=_.subtreeFlags&14680064,x|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)m|=_.lanes|_.childLanes,x|=_.subtreeFlags,x|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=x,o.childLanes=m,c}function PA(o,c,m){var x=c.pendingProps;switch(sx(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(c),null;case 1:return Kn(c.type)&&ym(),jn(c),null;case 3:return x=c.stateNode,pc(),ss(qn),ss(_n),fx(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Sm(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ei!==null&&(Gx(ei),ei=null))),Lx(o,c),jn(c),null;case 5:mx(c);var _=zo(Kd.current);if(m=c.type,o!==null&&c.stateNode!=null)J_(o,c,m,x,_),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(s(166));return jn(c),null}if(o=zo(bi.current),Sm(c)){x=c.stateNode,m=c.type;var T=c.memoizedProps;switch(x[yi]=c,x[zd]=T,o=(c.mode&1)!==0,m){case"dialog":ts("cancel",x),ts("close",x);break;case"iframe":case"object":case"embed":ts("load",x);break;case"video":case"audio":for(_=0;_<Od.length;_++)ts(Od[_],x);break;case"source":ts("error",x);break;case"img":case"image":case"link":ts("error",x),ts("load",x);break;case"details":ts("toggle",x);break;case"input":Jt(x,T),ts("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!T.multiple},ts("invalid",x);break;case"textarea":Is(x,T),ts("invalid",x)}zr(m,T),_=null;for(var V in T)if(T.hasOwnProperty(V)){var K=T[V];V==="children"?typeof K=="string"?x.textContent!==K&&(T.suppressHydrationWarning!==!0&&gm(x.textContent,K,o),_=["children",K]):typeof K=="number"&&x.textContent!==""+K&&(T.suppressHydrationWarning!==!0&&gm(x.textContent,K,o),_=["children",""+K]):i.hasOwnProperty(V)&&K!=null&&V==="onScroll"&&ts("scroll",x)}switch(m){case"input":Le(x),bn(x,T,!0);break;case"textarea":Le(x),rs(x);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(x.onclick=xm)}x=_,c.updateQueue=x,x!==null&&(c.flags|=4)}else{V=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Se(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=V.createElement(m,{is:x.is}):(o=V.createElement(m),m==="select"&&(V=o,x.multiple?V.multiple=!0:x.size&&(V.size=x.size))):o=V.createElementNS(o,m),o[yi]=c,o[zd]=x,Y_(o,c,!1,!1),c.stateNode=o;e:{switch(V=es(m,x),m){case"dialog":ts("cancel",o),ts("close",o),_=x;break;case"iframe":case"object":case"embed":ts("load",o),_=x;break;case"video":case"audio":for(_=0;_<Od.length;_++)ts(Od[_],o);_=x;break;case"source":ts("error",o),_=x;break;case"img":case"image":case"link":ts("error",o),ts("load",o),_=x;break;case"details":ts("toggle",o),_=x;break;case"input":Jt(o,x),_=pt(o,x),ts("invalid",o);break;case"option":_=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},_=ne({},x,{value:void 0}),ts("invalid",o);break;case"textarea":Is(o,x),_=qs(o,x),ts("invalid",o);break;default:_=x}zr(m,_),K=_;for(T in K)if(K.hasOwnProperty(T)){var X=K[T];T==="style"?Ur(o,X):T==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Tt(o,X)):T==="children"?typeof X=="string"?(m!=="textarea"||X!=="")&&Zt(o,X):typeof X=="number"&&Zt(o,""+X):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?X!=null&&T==="onScroll"&&ts("scroll",o):X!=null&&A(o,T,X,V))}switch(m){case"input":Le(o),bn(o,x,!1);break;case"textarea":Le(o),rs(o);break;case"option":x.value!=null&&o.setAttribute("value",""+Te(x.value));break;case"select":o.multiple=!!x.multiple,T=x.value,T!=null?As(o,!!x.multiple,T,!1):x.defaultValue!=null&&As(o,!!x.multiple,x.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=xm)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return jn(c),null;case 6:if(o&&c.stateNode!=null)Z_(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(s(166));if(m=zo(Kd.current),zo(bi.current),Sm(c)){if(x=c.stateNode,m=c.memoizedProps,x[yi]=c,(T=x.nodeValue!==m)&&(o=hr,o!==null))switch(o.tag){case 3:gm(x.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&gm(x.nodeValue,m,(o.mode&1)!==0)}T&&(c.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[yi]=c,c.stateNode=x}return jn(c),null;case 13:if(ss(ds),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(as&&mr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)s_(),dc(),c.flags|=98560,T=!1;else if(T=Sm(c),x!==null&&x.dehydrated!==null){if(o===null){if(!T)throw Error(s(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(s(317));T[yi]=c}else dc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;jn(c),T=!1}else ei!==null&&(Gx(ei),ei=null),T=!0;if(!T)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=m,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(ds.current&1)!==0?zs===0&&(zs=3):Kx())),c.updateQueue!==null&&(c.flags|=4),jn(c),null);case 4:return pc(),Lx(o,c),o===null&&Vd(c.stateNode.containerInfo),jn(c),null;case 10:return lx(c.type._context),jn(c),null;case 17:return Kn(c.type)&&ym(),jn(c),null;case 19:if(ss(ds),T=c.memoizedState,T===null)return jn(c),null;if(x=(c.flags&128)!==0,V=T.rendering,V===null)if(x)Zd(T,!1);else{if(zs!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(V=Am(o),V!==null){for(c.flags|=128,Zd(T,!1),x=V.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=m,m=c.child;m!==null;)T=m,o=x,T.flags&=14680066,V=T.alternate,V===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=V.childLanes,T.lanes=V.lanes,T.child=V.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=V.memoizedProps,T.memoizedState=V.memoizedState,T.updateQueue=V.updateQueue,T.type=V.type,o=V.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return Kt(ds,ds.current&1|2),c.child}o=o.sibling}T.tail!==null&&qt()>vc&&(c.flags|=128,x=!0,Zd(T,!1),c.lanes=4194304)}else{if(!x)if(o=Am(V),o!==null){if(c.flags|=128,x=!0,m=o.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),Zd(T,!0),T.tail===null&&T.tailMode==="hidden"&&!V.alternate&&!as)return jn(c),null}else 2*qt()-T.renderingStartTime>vc&&m!==1073741824&&(c.flags|=128,x=!0,Zd(T,!1),c.lanes=4194304);T.isBackwards?(V.sibling=c.child,c.child=V):(m=T.last,m!==null?m.sibling=V:c.child=V,T.last=V)}return T.tail!==null?(c=T.tail,T.rendering=c,T.tail=c.sibling,T.renderingStartTime=qt(),c.sibling=null,m=ds.current,Kt(ds,x?m&1|2:m&1),c):(jn(c),null);case 22:case 23:return qx(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(pr&1073741824)!==0&&(jn(c),c.subtreeFlags&6&&(c.flags|=8192)):jn(c),null;case 24:return null;case 25:return null}throw Error(s(156,c.tag))}function LA(o,c){switch(sx(c),c.tag){case 1:return Kn(c.type)&&ym(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return pc(),ss(qn),ss(_n),fx(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return mx(c),null;case 13:if(ss(ds),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(s(340));dc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ss(ds),null;case 4:return pc(),null;case 10:return lx(c.type._context),null;case 22:case 23:return qx(),null;case 24:return null;default:return null}}var $m=!1,Sn=!1,DA=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function gc(o,c){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){vs(o,c,x)}else m.current=null}function Dx(o,c,m){try{m()}catch(x){vs(o,c,x)}}var ew=!1;function MA(o,c){if(qg=Pa,o=Rb(),$g(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var _=x.anchorOffset,T=x.focusNode;x=x.focusOffset;try{m.nodeType,T.nodeType}catch(Ee){m=null;break e}var V=0,K=-1,X=-1,de=0,ye=0,je=o,ve=null;t:for(;;){for(var Be;je!==m||_!==0&&je.nodeType!==3||(K=V+_),je!==T||x!==0&&je.nodeType!==3||(X=V+x),je.nodeType===3&&(V+=je.nodeValue.length),(Be=je.firstChild)!==null;)ve=je,je=Be;for(;;){if(je===o)break t;if(ve===m&&++de===_&&(K=V),ve===T&&++ye===x&&(X=V),(Be=je.nextSibling)!==null)break;je=ve,ve=je.parentNode}je=Be}m=K===-1||X===-1?null:{start:K,end:X}}else m=null}m=m||{start:0,end:0}}else m=null;for(Kg={focusedElem:o,selectionRange:m},Pa=!1,Ve=c;Ve!==null;)if(c=Ve,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Ve=o;else for(;Ve!==null;){c=Ve;try{var Ue=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var ze=Ue.memoizedProps,js=Ue.memoizedState,oe=c.stateNode,se=oe.getSnapshotBeforeUpdate(c.elementType===c.type?ze:ti(c.type,ze),js);oe.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var le=c.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ee){vs(c,c.return,Ee)}if(o=c.sibling,o!==null){o.return=c.return,Ve=o;break}Ve=c.return}return Ue=ew,ew=!1,Ue}function eu(o,c,m){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var _=x=x.next;do{if((_.tag&o)===o){var T=_.destroy;_.destroy=void 0,T!==void 0&&Dx(c,m,T)}_=_.next}while(_!==x)}}function Om(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&o)===o){var x=m.create;m.destroy=x()}m=m.next}while(m!==c)}}function Mx(o){var c=o.ref;if(c!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof c=="function"?c(o):c.current=o}}function tw(o){var c=o.alternate;c!==null&&(o.alternate=null,tw(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[yi],delete c[zd],delete c[Jg],delete c[vA],delete c[yA])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function sw(o){return o.tag===5||o.tag===3||o.tag===4}function nw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||sw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Fx(o,c,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?m.nodeType===8?m.parentNode.insertBefore(o,c):m.insertBefore(o,c):(m.nodeType===8?(c=m.parentNode,c.insertBefore(o,m)):(c=m,c.appendChild(o)),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=xm));else if(x!==4&&(o=o.child,o!==null))for(Fx(o,c,m),o=o.sibling;o!==null;)Fx(o,c,m),o=o.sibling}function Bx(o,c,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Bx(o,c,m),o=o.sibling;o!==null;)Bx(o,c,m),o=o.sibling}var an=null,si=!1;function Ua(o,c,m){for(m=m.child;m!==null;)rw(o,c,m),m=m.sibling}function rw(o,c,m){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Io,m)}catch(K){}switch(m.tag){case 5:Sn||gc(m,c);case 6:var x=an,_=si;an=null,Ua(o,c,m),an=x,si=_,an!==null&&(si?(o=an,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):an.removeChild(m.stateNode));break;case 18:an!==null&&(si?(o=an,m=m.stateNode,o.nodeType===8?Yg(o.parentNode,m):o.nodeType===1&&Yg(o,m),Yr(o)):Yg(an,m.stateNode));break;case 4:x=an,_=si,an=m.stateNode.containerInfo,si=!0,Ua(o,c,m),an=x,si=_;break;case 0:case 11:case 14:case 15:if(!Sn&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){_=x=x.next;do{var T=_,V=T.destroy;T=T.tag,V!==void 0&&((T&2)!==0||(T&4)!==0)&&Dx(m,c,V),_=_.next}while(_!==x)}Ua(o,c,m);break;case 1:if(!Sn&&(gc(m,c),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(K){vs(m,c,K)}Ua(o,c,m);break;case 21:Ua(o,c,m);break;case 22:m.mode&1?(Sn=(x=Sn)||m.memoizedState!==null,Ua(o,c,m),Sn=x):Ua(o,c,m);break;default:Ua(o,c,m)}}function iw(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new DA),c.forEach(function(x){var _=GA.bind(null,o,x);m.has(x)||(m.add(x),x.then(_,_))})}}function ni(o,c){var m=c.deletions;if(m!==null)for(var x=0;x<m.length;x++){var _=m[x];try{var T=o,V=c,K=V;e:for(;K!==null;){switch(K.tag){case 5:an=K.stateNode,si=!1;break e;case 3:an=K.stateNode.containerInfo,si=!0;break e;case 4:an=K.stateNode.containerInfo,si=!0;break e}K=K.return}if(an===null)throw Error(s(160));rw(T,V,_),an=null,si=!1;var X=_.alternate;X!==null&&(X.return=null),_.return=null}catch(de){vs(_,c,de)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)aw(c,o),c=c.sibling}function aw(o,c){var m=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ni(c,o),wi(o),x&4){try{eu(3,o,o.return),Om(3,o)}catch(ze){vs(o,o.return,ze)}try{eu(5,o,o.return)}catch(ze){vs(o,o.return,ze)}}break;case 1:ni(c,o),wi(o),x&512&&m!==null&&gc(m,m.return);break;case 5:if(ni(c,o),wi(o),x&512&&m!==null&&gc(m,m.return),o.flags&32){var _=o.stateNode;try{Zt(_,"")}catch(ze){vs(o,o.return,ze)}}if(x&4&&(_=o.stateNode,_!=null)){var T=o.memoizedProps,V=m!==null?m.memoizedProps:T,K=o.type,X=o.updateQueue;if(o.updateQueue=null,X!==null)try{K==="input"&&T.type==="radio"&&T.name!=null&&Ts(_,T),es(K,V);var de=es(K,T);for(V=0;V<X.length;V+=2){var ye=X[V],je=X[V+1];ye==="style"?Ur(_,je):ye==="dangerouslySetInnerHTML"?Tt(_,je):ye==="children"?Zt(_,je):A(_,ye,je,de)}switch(K){case"input":Cs(_,T);break;case"textarea":sn(_,T);break;case"select":var ve=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var Be=T.value;Be!=null?As(_,!!T.multiple,Be,!1):ve!==!!T.multiple&&(T.defaultValue!=null?As(_,!!T.multiple,T.defaultValue,!0):As(_,!!T.multiple,T.multiple?[]:"",!1))}_[zd]=T}catch(ze){vs(o,o.return,ze)}}break;case 6:if(ni(c,o),wi(o),x&4){if(o.stateNode===null)throw Error(s(162));_=o.stateNode,T=o.memoizedProps;try{_.nodeValue=T}catch(ze){vs(o,o.return,ze)}}break;case 3:if(ni(c,o),wi(o),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Yr(c.containerInfo)}catch(ze){vs(o,o.return,ze)}break;case 4:ni(c,o),wi(o);break;case 13:ni(c,o),wi(o),_=o.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(Vx=qt())),x&4&&iw(o);break;case 22:if(ye=m!==null&&m.memoizedState!==null,o.mode&1?(Sn=(de=Sn)||ye,ni(c,o),Sn=de):ni(c,o),wi(o),x&8192){if(de=o.memoizedState!==null,(o.stateNode.isHidden=de)&&!ye&&(o.mode&1)!==0)for(Ve=o,ye=o.child;ye!==null;){for(je=Ve=ye;Ve!==null;){switch(ve=Ve,Be=ve.child,ve.tag){case 0:case 11:case 14:case 15:eu(4,ve,ve.return);break;case 1:gc(ve,ve.return);var Ue=ve.stateNode;if(typeof Ue.componentWillUnmount=="function"){x=ve,m=ve.return;try{c=x,Ue.props=c.memoizedProps,Ue.state=c.memoizedState,Ue.componentWillUnmount()}catch(ze){vs(x,m,ze)}}break;case 5:gc(ve,ve.return);break;case 22:if(ve.memoizedState!==null){cw(je);continue}}Be!==null?(Be.return=ve,Ve=Be):cw(je)}ye=ye.sibling}e:for(ye=null,je=o;;){if(je.tag===5){if(ye===null){ye=je;try{_=je.stateNode,de?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(K=je.stateNode,X=je.memoizedProps.style,V=X!=null&&X.hasOwnProperty("display")?X.display:null,K.style.display=In("display",V))}catch(ze){vs(o,o.return,ze)}}}else if(je.tag===6){if(ye===null)try{je.stateNode.nodeValue=de?"":je.memoizedProps}catch(ze){vs(o,o.return,ze)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===o)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===o)break e;for(;je.sibling===null;){if(je.return===null||je.return===o)break e;ye===je&&(ye=null),je=je.return}ye===je&&(ye=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:ni(c,o),wi(o),x&4&&iw(o);break;case 21:break;default:ni(c,o),wi(o)}}function wi(o){var c=o.flags;if(c&2){try{e:{for(var m=o.return;m!==null;){if(sw(m)){var x=m;break e}m=m.return}throw Error(s(160))}switch(x.tag){case 5:var _=x.stateNode;x.flags&32&&(Zt(_,""),x.flags&=-33);var T=nw(o);Bx(o,T,_);break;case 3:case 4:var V=x.stateNode.containerInfo,K=nw(o);Fx(o,K,V);break;default:throw Error(s(161))}}catch(X){vs(o,o.return,X)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function FA(o,c,m){Ve=o,ow(o)}function ow(o,c,m){for(var x=(o.mode&1)!==0;Ve!==null;){var _=Ve,T=_.child;if(_.tag===22&&x){var V=_.memoizedState!==null||$m;if(!V){var K=_.alternate,X=K!==null&&K.memoizedState!==null||Sn;K=$m;var de=Sn;if($m=V,(Sn=X)&&!de)for(Ve=_;Ve!==null;)V=Ve,X=V.child,V.tag===22&&V.memoizedState!==null?dw(_):X!==null?(X.return=V,Ve=X):dw(_);for(;T!==null;)Ve=T,ow(T),T=T.sibling;Ve=_,$m=K,Sn=de}lw(o)}else(_.subtreeFlags&8772)!==0&&T!==null?(T.return=_,Ve=T):lw(o)}}function lw(o){for(;Ve!==null;){var c=Ve;if((c.flags&8772)!==0){var m=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:Sn||Om(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!Sn)if(m===null)x.componentDidMount();else{var _=c.elementType===c.type?m.memoizedProps:ti(c.type,m.memoizedProps);x.componentDidUpdate(_,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=c.updateQueue;T!==null&&c_(c,T,x);break;case 3:var V=c.updateQueue;if(V!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=c.child.stateNode;break;case 1:m=c.child.stateNode}c_(c,V,m)}break;case 5:var K=c.stateNode;if(m===null&&c.flags&4){m=K;var X=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&m.focus();break;case"img":X.src&&(m.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var de=c.alternate;if(de!==null){var ye=de.memoizedState;if(ye!==null){var je=ye.dehydrated;je!==null&&Yr(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Sn||c.flags&512&&Mx(c)}catch(ve){vs(c,c.return,ve)}}if(c===o){Ve=null;break}if(m=c.sibling,m!==null){m.return=c.return,Ve=m;break}Ve=c.return}}function cw(o){for(;Ve!==null;){var c=Ve;if(c===o){Ve=null;break}var m=c.sibling;if(m!==null){m.return=c.return,Ve=m;break}Ve=c.return}}function dw(o){for(;Ve!==null;){var c=Ve;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{Om(4,c)}catch(X){vs(c,m,X)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var _=c.return;try{x.componentDidMount()}catch(X){vs(c,_,X)}}var T=c.return;try{Mx(c)}catch(X){vs(c,T,X)}break;case 5:var V=c.return;try{Mx(c)}catch(X){vs(c,V,X)}}}catch(X){vs(c,c.return,X)}if(c===o){Ve=null;break}var K=c.sibling;if(K!==null){K.return=c.return,Ve=K;break}Ve=c.return}}var BA=Math.ceil,Vm=y.ReactCurrentDispatcher,$x=y.ReactCurrentOwner,Ar=y.ReactCurrentBatchConfig,Pt=0,Xs=null,Ps=null,on=0,pr=0,xc=Fa(0),zs=0,tu=null,Go=0,Um=0,Ox=0,su=null,Xn=null,Vx=0,vc=1/0,Zi=null,zm=!1,Ux=null,za=null,Hm=!1,Ha=null,Gm=0,nu=0,zx=null,Wm=-1,qm=0;function Mn(){return(Pt&6)!==0?qt():Wm!==-1?Wm:Wm=qt()}function Ga(o){return(o.mode&1)===0?1:(Pt&2)!==0&&on!==0?on&-on:_A.transition!==null?(qm===0&&(qm=Po()),qm):(o=Ct,o!==0||(o=window.event,o=o===void 0?16:Id(o.type)),o)}function ri(o,c,m,x){if(50<nu)throw nu=0,zx=null,Error(s(185));Ea(o,m,x),((Pt&2)===0||o!==Xs)&&(o===Xs&&((Pt&2)===0&&(Um|=m),zs===4&&Wa(o,on)),Yn(o,x),m===1&&Pt===0&&(c.mode&1)===0&&(vc=qt()+500,_m&&$a()))}function Yn(o,c){var m=o.callbackNode;Vi(o,c);var x=Ro(o,o===Xs?on:0);if(x===0)m!==null&&kd(m),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(m!=null&&kd(m),c===1)o.tag===0?bA(hw.bind(null,o)):Yb(hw.bind(null,o)),gA(function(){(Pt&6)===0&&$a()}),m=null;else{switch(Ia(x)){case 1:m=Ao;break;case 4:m=ka;break;case 16:m=jr;break;case 536870912:m=qh;break;default:m=jr}m=bw(m,uw.bind(null,o))}o.callbackPriority=c,o.callbackNode=m}}function uw(o,c){if(Wm=-1,qm=0,(Pt&6)!==0)throw Error(s(327));var m=o.callbackNode;if(yc()&&o.callbackNode!==m)return null;var x=Ro(o,o===Xs?on:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=Km(o,x);else{c=x;var _=Pt;Pt|=2;var T=pw();(Xs!==o||on!==c)&&(Zi=null,vc=qt()+500,qo(o,c));do try{VA();break}catch(K){mw(o,K)}while(!0);ox(),Vm.current=T,Pt=_,Ps!==null?c=0:(Xs=null,on=0,c=zs)}if(c!==0){if(c===2&&(_=cr(o),_!==0&&(x=_,c=Hx(o,_))),c===1)throw m=tu,qo(o,0),Wa(o,x),Yn(o,qt()),m;if(c===6)Wa(o,x);else{if(_=o.current.alternate,(x&30)===0&&!$A(_)&&(c=Km(o,x),c===2&&(T=cr(o),T!==0&&(x=T,c=Hx(o,T))),c===1))throw m=tu,qo(o,0),Wa(o,x),Yn(o,qt()),m;switch(o.finishedWork=_,o.finishedLanes=x,c){case 0:case 1:throw Error(s(345));case 2:Ko(o,Xn,Zi);break;case 3:if(Wa(o,x),(x&130023424)===x&&(c=Vx+500-qt(),10<c)){if(Ro(o,0)!==0)break;if(_=o.suspendedLanes,(_&x)!==x){Mn(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=Xg(Ko.bind(null,o,Xn,Zi),c);break}Ko(o,Xn,Zi);break;case 4:if(Wa(o,x),(x&4194240)===x)break;for(c=o.eventTimes,_=-1;0<x;){var V=31-Pn(x);T=1<<V,V=c[V],V>_&&(_=V),x&=~T}if(x=_,x=qt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*BA(x/1960))-x,10<x){o.timeoutHandle=Xg(Ko.bind(null,o,Xn,Zi),x);break}Ko(o,Xn,Zi);break;case 5:Ko(o,Xn,Zi);break;default:throw Error(s(329))}}}return Yn(o,qt()),o.callbackNode===m?uw.bind(null,o):null}function Hx(o,c){var m=su;return o.current.memoizedState.isDehydrated&&(qo(o,c).flags|=256),o=Km(o,c),o!==2&&(c=Xn,Xn=m,c!==null&&Gx(c)),o}function Gx(o){Xn===null?Xn=o:Xn.push.apply(Xn,o)}function $A(o){for(var c=o;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var _=m[x],T=_.getSnapshot;_=_.value;try{if(!Zr(T(),_))return!1}catch(V){return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Wa(o,c){for(c&=~Ox,c&=~Um,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var m=31-Pn(c),x=1<<m;o[m]=-1,c&=~x}}function hw(o){if((Pt&6)!==0)throw Error(s(327));yc();var c=Ro(o,0);if((c&1)===0)return Yn(o,qt()),null;var m=Km(o,c);if(o.tag!==0&&m===2){var x=cr(o);x!==0&&(c=x,m=Hx(o,x))}if(m===1)throw m=tu,qo(o,0),Wa(o,c),Yn(o,qt()),m;if(m===6)throw Error(s(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,Ko(o,Xn,Zi),Yn(o,qt()),null}function Wx(o,c){var m=Pt;Pt|=1;try{return o(c)}finally{Pt=m,Pt===0&&(vc=qt()+500,_m&&$a())}}function Wo(o){Ha!==null&&Ha.tag===0&&(Pt&6)===0&&yc();var c=Pt;Pt|=1;var m=Ar.transition,x=Ct;try{if(Ar.transition=null,Ct=1,o)return o()}finally{Ct=x,Ar.transition=m,Pt=c,(Pt&6)===0&&$a()}}function qx(){pr=xc.current,ss(xc)}function qo(o,c){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,fA(m)),Ps!==null)for(m=Ps.return;m!==null;){var x=m;switch(sx(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&ym();break;case 3:pc(),ss(qn),ss(_n),fx();break;case 5:mx(x);break;case 4:pc();break;case 13:ss(ds);break;case 19:ss(ds);break;case 10:lx(x.type._context);break;case 22:case 23:qx()}m=m.return}if(Xs=o,Ps=o=qa(o.current,null),on=pr=c,zs=0,tu=null,Ox=Um=Go=0,Xn=su=null,Uo!==null){for(c=0;c<Uo.length;c++)if(m=Uo[c],x=m.interleaved,x!==null){m.interleaved=null;var _=x.next,T=m.pending;if(T!==null){var V=T.next;T.next=_,x.next=V}m.pending=x}Uo=null}return o}function mw(o,c){do{var m=Ps;try{if(ox(),Im.current=Dm,Rm){for(var x=us.memoizedState;x!==null;){var _=x.queue;_!==null&&(_.pending=null),x=x.next}Rm=!1}if(Ho=0,Qs=Us=us=null,Qd=!1,Xd=0,$x.current=null,m===null||m.return===null){zs=1,tu=c,Ps=null;break}e:{var T=o,V=m.return,K=m,X=c;if(c=on,K.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var de=X,ye=K,je=ye.tag;if((ye.mode&1)===0&&(je===0||je===11||je===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Be=B_(V);if(Be!==null){Be.flags&=-257,$_(Be,V,K,T,c),Be.mode&1&&F_(T,de,c),c=Be,X=de;var Ue=c.updateQueue;if(Ue===null){var ze=new Set;ze.add(X),c.updateQueue=ze}else Ue.add(X);break e}else{if((c&1)===0){F_(T,de,c),Kx();break e}X=Error(s(426))}}else if(as&&K.mode&1){var js=B_(V);if(js!==null){(js.flags&65536)===0&&(js.flags|=256),$_(js,V,K,T,c),ix(fc(X,K));break e}}T=X=fc(X,K),zs!==4&&(zs=2),su===null?su=[T]:su.push(T),T=V;do{switch(T.tag){case 3:T.flags|=65536,c&=-c,T.lanes|=c;var oe=D_(T,X,c);l_(T,oe);break e;case 1:K=X;var se=T.type,le=T.stateNode;if((T.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(za===null||!za.has(le)))){T.flags|=65536,c&=-c,T.lanes|=c;var Ee=M_(T,K,c);l_(T,Ee);break e}}T=T.return}while(T!==null)}gw(m)}catch(We){c=We,Ps===m&&m!==null&&(Ps=m=m.return);continue}break}while(!0)}function pw(){var o=Vm.current;return Vm.current=Dm,o===null?Dm:o}function Kx(){(zs===0||zs===3||zs===2)&&(zs=4),Xs===null||(Go&268435455)===0&&(Um&268435455)===0||Wa(Xs,on)}function Km(o,c){var m=Pt;Pt|=2;var x=pw();(Xs!==o||on!==c)&&(Zi=null,qo(o,c));do try{OA();break}catch(_){mw(o,_)}while(!0);if(ox(),Pt=m,Vm.current=x,Ps!==null)throw Error(s(261));return Xs=null,on=0,zs}function OA(){for(;Ps!==null;)fw(Ps)}function VA(){for(;Ps!==null&&!Gh();)fw(Ps)}function fw(o){var c=yw(o.alternate,o,pr);o.memoizedProps=o.pendingProps,c===null?gw(o):Ps=c,$x.current=null}function gw(o){var c=o;do{var m=c.alternate;if(o=c.return,(c.flags&32768)===0){if(m=PA(m,c,pr),m!==null){Ps=m;return}}else{if(m=LA(m,c),m!==null){m.flags&=32767,Ps=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{zs=6,Ps=null;return}}if(c=c.sibling,c!==null){Ps=c;return}Ps=c=o}while(c!==null);zs===0&&(zs=5)}function Ko(o,c,m){var x=Ct,_=Ar.transition;try{Ar.transition=null,Ct=1,UA(o,c,m,x)}finally{Ar.transition=_,Ct=x}return null}function UA(o,c,m,x){do yc();while(Ha!==null);if((Pt&6)!==0)throw Error(s(327));m=o.finishedWork;var _=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(s(177));o.callbackNode=null,o.callbackPriority=0;var T=m.lanes|m.childLanes;if(Ht(o,T),o===Xs&&(Ps=Xs=null,on=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||Hm||(Hm=!0,bw(jr,function(){return yc(),null})),T=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||T){T=Ar.transition,Ar.transition=null;var V=Ct;Ct=1;var K=Pt;Pt|=4,$x.current=null,MA(o,m),aw(m,o),lA(Kg),Pa=!!qg,Kg=qg=null,o.current=m,FA(m),Ig(),Pt=K,Ct=V,Ar.transition=T}else o.current=m;if(Hm&&(Hm=!1,Ha=o,Gm=_),T=o.pendingLanes,T===0&&(za=null),Kh(m.stateNode),Yn(o,qt()),c!==null)for(x=o.onRecoverableError,m=0;m<c.length;m++)_=c[m],x(_.value,{componentStack:_.stack,digest:_.digest});if(zm)throw zm=!1,o=Ux,Ux=null,o;return(Gm&1)!==0&&o.tag!==0&&yc(),T=o.pendingLanes,(T&1)!==0?o===zx?nu++:(nu=0,zx=o):nu=0,$a(),null}function yc(){if(Ha!==null){var o=Ia(Gm),c=Ar.transition,m=Ct;try{if(Ar.transition=null,Ct=16>o?16:o,Ha===null)var x=!1;else{if(o=Ha,Ha=null,Gm=0,(Pt&6)!==0)throw Error(s(331));var _=Pt;for(Pt|=4,Ve=o.current;Ve!==null;){var T=Ve,V=T.child;if((Ve.flags&16)!==0){var K=T.deletions;if(K!==null){for(var X=0;X<K.length;X++){var de=K[X];for(Ve=de;Ve!==null;){var ye=Ve;switch(ye.tag){case 0:case 11:case 15:eu(8,ye,T)}var je=ye.child;if(je!==null)je.return=ye,Ve=je;else for(;Ve!==null;){ye=Ve;var ve=ye.sibling,Be=ye.return;if(tw(ye),ye===de){Ve=null;break}if(ve!==null){ve.return=Be,Ve=ve;break}Ve=Be}}}var Ue=T.alternate;if(Ue!==null){var ze=Ue.child;if(ze!==null){Ue.child=null;do{var js=ze.sibling;ze.sibling=null,ze=js}while(ze!==null)}}Ve=T}}if((T.subtreeFlags&2064)!==0&&V!==null)V.return=T,Ve=V;else e:for(;Ve!==null;){if(T=Ve,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:eu(9,T,T.return)}var oe=T.sibling;if(oe!==null){oe.return=T.return,Ve=oe;break e}Ve=T.return}}var se=o.current;for(Ve=se;Ve!==null;){V=Ve;var le=V.child;if((V.subtreeFlags&2064)!==0&&le!==null)le.return=V,Ve=le;else e:for(V=se;Ve!==null;){if(K=Ve,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:Om(9,K)}}catch(We){vs(K,K.return,We)}if(K===V){Ve=null;break e}var Ee=K.sibling;if(Ee!==null){Ee.return=K.return,Ve=Ee;break e}Ve=K.return}}if(Pt=_,$a(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Io,o)}catch(We){}x=!0}return x}finally{Ct=m,Ar.transition=c}}return!1}function xw(o,c,m){c=fc(m,c),c=D_(o,c,1),o=Va(o,c,1),c=Mn(),o!==null&&(Ea(o,1,c),Yn(o,c))}function vs(o,c,m){if(o.tag===3)xw(o,o,m);else for(;c!==null;){if(c.tag===3){xw(c,o,m);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(za===null||!za.has(x))){o=fc(m,o),o=M_(c,o,1),c=Va(c,o,1),o=Mn(),c!==null&&(Ea(c,1,o),Yn(c,o));break}}c=c.return}}function zA(o,c,m){var x=o.pingCache;x!==null&&x.delete(c),c=Mn(),o.pingedLanes|=o.suspendedLanes&m,Xs===o&&(on&m)===m&&(zs===4||zs===3&&(on&130023424)===on&&500>qt()-Vx?qo(o,0):Ox|=m),Yn(o,c)}function vw(o,c){c===0&&((o.mode&1)===0?c=1:(c=Ul,Ul<<=1,(Ul&130023424)===0&&(Ul=4194304)));var m=Mn();o=Xi(o,c),o!==null&&(Ea(o,c,m),Yn(o,m))}function HA(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),vw(o,m)}function GA(o,c){var m=0;switch(o.tag){case 13:var x=o.stateNode,_=o.memoizedState;_!==null&&(m=_.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(s(314))}x!==null&&x.delete(c),vw(o,m)}var yw;yw=function(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps||qn.current)Qn=!0;else{if((o.lanes&m)===0&&(c.flags&128)===0)return Qn=!1,RA(o,c,m);Qn=(o.flags&131072)!==0}else Qn=!1,as&&(c.flags&1048576)!==0&&Jb(c,jm,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;Bm(o,c),o=c.pendingProps;var _=oc(c,_n.current);mc(c,m),_=vx(null,c,x,o,_,m);var T=yx();return c.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Kn(x)?(T=!0,bm(c)):T=!1,c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,ux(c),_.updater=Mm,c.stateNode=_,_._reactInternals=c,Nx(c,x,o,m),c=Ex(null,c,x,!0,T,m)):(c.tag=0,as&&T&&tx(c),Dn(null,c,_,m),c=c.child),c;case 16:x=c.elementType;e:{switch(Bm(o,c),o=c.pendingProps,_=x._init,x=_(x._payload),c.type=x,_=c.tag=qA(x),o=ti(x,o),_){case 0:c=Cx(null,c,x,o,m);break e;case 1:c=G_(null,c,x,o,m);break e;case 11:c=O_(null,c,x,o,m);break e;case 14:c=V_(null,c,x,ti(x.type,o),m);break e}throw Error(s(306,x,""))}return c;case 0:return x=c.type,_=c.pendingProps,_=c.elementType===x?_:ti(x,_),Cx(o,c,x,_,m);case 1:return x=c.type,_=c.pendingProps,_=c.elementType===x?_:ti(x,_),G_(o,c,x,_,m);case 3:e:{if(W_(c),o===null)throw Error(s(387));x=c.pendingProps,T=c.memoizedState,_=T.element,o_(o,c),Em(c,x,null,m);var V=c.memoizedState;if(x=V.element,T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){_=fc(Error(s(423)),c),c=q_(o,c,x,m,_);break e}else if(x!==_){_=fc(Error(s(424)),c),c=q_(o,c,x,m,_);break e}else for(mr=Ma(c.stateNode.containerInfo.firstChild),hr=c,as=!0,ei=null,m=i_(c,null,x,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(dc(),x===_){c=Ji(o,c,m);break e}Dn(o,c,x,m)}c=c.child}return c;case 5:return d_(c),o===null&&rx(c),x=c.type,_=c.pendingProps,T=o!==null?o.memoizedProps:null,V=_.children,Qg(x,_)?V=null:T!==null&&Qg(x,T)&&(c.flags|=32),H_(o,c),Dn(o,c,V,m),c.child;case 6:return o===null&&rx(c),null;case 13:return K_(o,c,m);case 4:return hx(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=uc(c,null,x,m):Dn(o,c,x,m),c.child;case 11:return x=c.type,_=c.pendingProps,_=c.elementType===x?_:ti(x,_),O_(o,c,x,_,m);case 7:return Dn(o,c,c.pendingProps,m),c.child;case 8:return Dn(o,c,c.pendingProps.children,m),c.child;case 12:return Dn(o,c,c.pendingProps.children,m),c.child;case 10:e:{if(x=c.type._context,_=c.pendingProps,T=c.memoizedProps,V=_.value,Kt(km,x._currentValue),x._currentValue=V,T!==null)if(Zr(T.value,V)){if(T.children===_.children&&!qn.current){c=Ji(o,c,m);break e}}else for(T=c.child,T!==null&&(T.return=c);T!==null;){var K=T.dependencies;if(K!==null){V=T.child;for(var X=K.firstContext;X!==null;){if(X.context===x){if(T.tag===1){X=Yi(-1,m&-m),X.tag=2;var de=T.updateQueue;if(de!==null){de=de.shared;var ye=de.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),de.pending=X}}T.lanes|=m,X=T.alternate,X!==null&&(X.lanes|=m),cx(T.return,m,c),K.lanes|=m;break}X=X.next}}else if(T.tag===10)V=T.type===c.type?null:T.child;else if(T.tag===18){if(V=T.return,V===null)throw Error(s(341));V.lanes|=m,K=V.alternate,K!==null&&(K.lanes|=m),cx(V,m,c),V=T.sibling}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===c){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}Dn(o,c,_.children,m),c=c.child}return c;case 9:return _=c.type,x=c.pendingProps.children,mc(c,m),_=Cr(_),x=x(_),c.flags|=1,Dn(o,c,x,m),c.child;case 14:return x=c.type,_=ti(x,c.pendingProps),_=ti(x.type,_),V_(o,c,x,_,m);case 15:return U_(o,c,c.type,c.pendingProps,m);case 17:return x=c.type,_=c.pendingProps,_=c.elementType===x?_:ti(x,_),Bm(o,c),c.tag=1,Kn(x)?(o=!0,bm(c)):o=!1,mc(c,m),P_(c,x,_),Nx(c,x,_,m),Ex(null,c,x,!0,o,m);case 19:return X_(o,c,m);case 22:return z_(o,c,m)}throw Error(s(156,c.tag))};function bw(o,c){return Ol(o,c)}function WA(o,c,m,x){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(o,c,m,x){return new WA(o,c,m,x)}function Qx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function qA(o){if(typeof o=="function")return Qx(o)?1:0;if(o!=null){if(o=o.$$typeof,o===O)return 11;if(o===H)return 14}return 2}function qa(o,c){var m=o.alternate;return m===null?(m=Ir(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function Qm(o,c,m,x,_,T){var V=2;if(x=o,typeof o=="function")Qx(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case k:return Qo(m.children,_,T,c);case w:V=8,_|=8;break;case C:return o=Ir(12,m,c,_|2),o.elementType=C,o.lanes=T,o;case $:return o=Ir(13,m,c,_),o.elementType=$,o.lanes=T,o;case W:return o=Ir(19,m,c,_),o.elementType=W,o.lanes=T,o;case Q:return Xm(m,_,T,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case L:V=10;break e;case P:V=9;break e;case O:V=11;break e;case H:V=14;break e;case q:V=16,x=null;break e}throw Error(s(130,o==null?o:typeof o,""))}return c=Ir(V,m,c,_),c.elementType=o,c.type=x,c.lanes=T,c}function Qo(o,c,m,x){return o=Ir(7,o,x,c),o.lanes=m,o}function Xm(o,c,m,x){return o=Ir(22,o,x,c),o.elementType=Q,o.lanes=m,o.stateNode={isHidden:!1},o}function Xx(o,c,m){return o=Ir(6,o,null,c),o.lanes=m,o}function Yx(o,c,m){return c=Ir(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function KA(o,c,m,x,_){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ca(0),this.expirationTimes=Ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.identifierPrefix=x,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Jx(o,c,m,x,_,T,V,K,X){return o=new KA(o,c,m,K,X),c===1?(c=1,T===!0&&(c|=8)):c=0,T=Ir(3,null,null,c),o.current=T,T.stateNode=o,T.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ux(T),o}function QA(o,c,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:x==null?null:""+x,children:o,containerInfo:c,implementation:m}}function _w(o){if(!o)return Ba;o=o._reactInternals;e:{if(Wr(o)!==o||o.tag!==1)throw Error(s(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Kn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(s(171))}if(o.tag===1){var m=o.type;if(Kn(m))return Qb(o,m,c)}return c}function ww(o,c,m,x,_,T,V,K,X){return o=Jx(m,x,!0,o,_,T,V,K,X),o.context=_w(null),m=o.current,x=Mn(),_=Ga(m),T=Yi(x,_),T.callback=c!=null?c:null,Va(m,T,_),o.current.lanes=_,Ea(o,_,x),Yn(o,x),o}function Ym(o,c,m,x){var _=c.current,T=Mn(),V=Ga(_);return m=_w(m),c.context===null?c.context=m:c.pendingContext=m,c=Yi(T,V),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=Va(_,c,V),o!==null&&(ri(o,_,V,T),Cm(o,_,V)),V}function Jm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function jw(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function Zx(o,c){jw(o,c),(o=o.alternate)&&jw(o,c)}function XA(){return null}var Sw=typeof reportError=="function"?reportError:function(o){console.error(o)};function ev(o){this._internalRoot=o}Zm.prototype.render=ev.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(s(409));Ym(o,c,null,null)},Zm.prototype.unmount=ev.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Wo(function(){Ym(null,o,null,null)}),c[Wi]=null}};function Zm(o){this._internalRoot=o}Zm.prototype.unstable_scheduleHydration=function(o){if(o){var c=Zh();o={blockedOn:null,target:o,priority:c};for(var m=0;m<fi.length&&c!==0&&c<fi[m].priority;m++);fi.splice(m,0,o),m===0&&sm(o)}};function tv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ep(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Nw(){}function YA(o,c,m,x,_){if(_){if(typeof x=="function"){var T=x;x=function(){var de=Jm(V);T.call(de)}}var V=ww(c,x,o,0,null,!1,!1,"",Nw);return o._reactRootContainer=V,o[Wi]=V.current,Vd(o.nodeType===8?o.parentNode:o),Wo(),V}for(;_=o.lastChild;)o.removeChild(_);if(typeof x=="function"){var K=x;x=function(){var de=Jm(X);K.call(de)}}var X=Jx(o,0,!1,null,null,!1,!1,"",Nw);return o._reactRootContainer=X,o[Wi]=X.current,Vd(o.nodeType===8?o.parentNode:o),Wo(function(){Ym(c,X,m,x)}),X}function tp(o,c,m,x,_){var T=m._reactRootContainer;if(T){var V=T;if(typeof _=="function"){var K=_;_=function(){var X=Jm(V);K.call(X)}}Ym(c,V,o,_)}else V=YA(m,c,o,_,x);return Jm(V)}Yh=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var m=Ta(c.pendingLanes);m!==0&&(Aa(c,m|1),Yn(c,qt()),(Pt&6)===0&&(vc=qt()+500,$a()))}break;case 13:Wo(function(){var x=Xi(o,1);if(x!==null){var _=Mn();ri(x,o,1,_)}}),Zx(o,1)}},zl=function(o){if(o.tag===13){var c=Xi(o,134217728);if(c!==null){var m=Mn();ri(c,o,134217728,m)}Zx(o,134217728)}},Jh=function(o){if(o.tag===13){var c=Ga(o),m=Xi(o,c);if(m!==null){var x=Mn();ri(m,o,c,x)}Zx(o,c)}},Zh=function(){return Ct},em=function(o,c){var m=Ct;try{return Ct=o,c()}finally{Ct=m}},Bi=function(o,c,m){switch(c){case"input":if(Cs(o,m),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<m.length;c++){var x=m[c];if(x!==o&&x.form===o.form){var _=vm(x);if(!_)throw Error(s(90));Ae(x),Cs(x,_)}}}break;case"textarea":sn(o,m);break;case"select":c=m.value,c!=null&&As(o,!!m.multiple,c,!1)}},ko=Wx,wd=Wo;var JA={usingClientEntryPoint:!1,Events:[Hd,ic,vm,or,_d,Wx]},ru={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZA={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Nd(o),o===null?null:o.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||XA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sp.isDisabled&&sp.supportsFiber)try{Io=sp.inject(ZA),lr=sp}catch(o){}}return Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JA,Jn.createPortal=function(o,c){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tv(c))throw Error(s(200));return QA(o,c,null,m)},Jn.createRoot=function(o,c){if(!tv(o))throw Error(s(299));var m=!1,x="",_=Sw;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),c=Jx(o,1,!1,null,null,m,!1,x,_),o[Wi]=c.current,Vd(o.nodeType===8?o.parentNode:o),new ev(c)},Jn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=Nd(c),o=o===null?null:o.stateNode,o},Jn.flushSync=function(o){return Wo(o)},Jn.hydrate=function(o,c,m){if(!ep(c))throw Error(s(200));return tp(null,o,c,!0,m)},Jn.hydrateRoot=function(o,c,m){if(!tv(o))throw Error(s(405));var x=m!=null&&m.hydratedSources||null,_=!1,T="",V=Sw;if(m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(V=m.onRecoverableError)),c=ww(c,null,o,1,m!=null?m:null,_,!1,T,V),o[Wi]=c.current,Vd(o),x)for(o=0;o<x.length;o++)m=x[o],_=m._getVersion,_=_(m._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[m,_]:c.mutableSourceEagerHydrationData.push(m,_);return new Zm(c)},Jn.render=function(o,c,m){if(!ep(c))throw Error(s(200));return tp(null,o,c,!1,m)},Jn.unmountComponentAtNode=function(o){if(!ep(o))throw Error(s(40));return o._reactRootContainer?(Wo(function(){tp(null,null,o,!1,function(){o._reactRootContainer=null,o[Wi]=null})}),!0):!1},Jn.unstable_batchedUpdates=Wx,Jn.unstable_renderSubtreeIntoContainer=function(o,c,m,x){if(!ep(m))throw Error(s(200));if(o==null||o._reactInternals===void 0)throw Error(s(38));return tp(o,c,m,!1,x)},Jn.version="18.3.1-next-f1338f8080-20240426",Jn}var Pw;function mk(){if(Pw)return rv.exports;Pw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rv.exports=a4(),rv.exports}var Lw;function o4(){if(Lw)return np;Lw=1;var t=mk();return np.createRoot=t.createRoot,np.hydrateRoot=t.hydrateRoot,np}var l4=o4();const c4=b0(l4),it=t=>typeof t=="string",au=()=>{let t,e;const s=new Promise((r,i)=>{t=r,e=i});return s.resolve=t,s.reject=e,s},Dw=t=>t==null?"":""+t,d4=(t,e,s)=>{t.forEach(r=>{e[r]&&(s[r]=e[r])})},u4=/###/g,Mw=t=>t&&t.indexOf("###")>-1?t.replace(u4,"."):t,Fw=t=>!t||it(t),Au=(t,e,s)=>{const r=it(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Fw(t))return{};const a=Mw(r[i]);!t[a]&&s&&(t[a]=new s),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return Fw(t)?{}:{obj:t,k:Mw(r[i])}},Bw=(t,e,s)=>{const{obj:r,k:i}=Au(t,e,Object);if(r!==void 0||e.length===1){r[i]=s;return}let a=e[e.length-1],l=e.slice(0,e.length-1),d=Au(t,l,Object);for(;d.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),d=Au(t,l,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${a}`]!="undefined"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=s},h4=(t,e,s,r)=>{const{obj:i,k:a}=Au(t,e,Object);i[a]=i[a]||[],i[a].push(s)},rf=(t,e)=>{const{obj:s,k:r}=Au(t,e);if(s&&Object.prototype.hasOwnProperty.call(s,r))return s[r]},m4=(t,e,s)=>{const r=rf(t,s);return r!==void 0?r:rf(e,s)},pk=(t,e,s)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?it(t[r])||t[r]instanceof String||it(e[r])||e[r]instanceof String?s&&(t[r]=e[r]):pk(t[r],e[r],s):t[r]=e[r]);return t},bc=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var p4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const f4=t=>it(t)?t.replace(/[&<>"'\/]/g,e=>p4[e]):t;class g4{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const x4=[" ",",","?","!",";"],v4=new g4(20),y4=(t,e,s)=>{e=e||"",s=s||"";const r=x4.filter(l=>e.indexOf(l)<0&&s.indexOf(l)<0);if(r.length===0)return!0;const i=v4.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(t);if(!a){const l=t.indexOf(s);l>0&&!i.test(t.substring(0,l))&&(a=!0)}return a},py=(t,e,s=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(s);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,d="";for(let u=a;u<r.length;++u)if(u!==a&&(d+=s),d+=r[u],l=i[d],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&u<r.length-1)continue;a+=u-a+1;break}i=l}return i},Ku=t=>t==null?void 0:t.replace("_","-"),b4={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var s,r;(r=(s=console==null?void 0:console[t])==null?void 0:s.apply)==null||r.call(s,console,e)}};let _4=class fy{constructor(e,s={}){this.init(e,s)}init(e,s={}){this.prefix=s.prefix||"i18next:",this.logger=e||b4,this.options=s,this.debug=s.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,r,i){return i&&!this.debug?null:(it(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new fy(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new fy(this.logger,e)}};var ki=new _4;class Vf{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(s)||0;this.observers[r].set(s,i+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e,...s){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...s])})}}class $w extends Vf{constructor(e,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,r,i={}){var h,p;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,s],r&&(Array.isArray(r)?d.push(...r):it(r)&&a?d.push(...r.split(a)):d.push(r)));const u=rf(this.data,d);return!u&&!s&&!r&&e.indexOf(".")>-1&&(e=d[0],s=d[1],r=d.slice(2).join(".")),u||!l||!it(r)?u:py((p=(h=this.data)==null?void 0:h[e])==null?void 0:p[s],r,a)}addResource(e,s,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,s];r&&(d=d.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(d=e.split("."),i=s,s=d[1]),this.addNamespaces(s),Bw(this.data,d,i),a.silent||this.emit("added",e,s,r,i)}addResources(e,s,r,i={silent:!1}){for(const a in r)(it(r[a])||Array.isArray(r[a]))&&this.addResource(e,s,a,r[a],{silent:!0});i.silent||this.emit("added",e,s,r)}addResourceBundle(e,s,r,i,a,l={silent:!1,skipCopy:!1}){let d=[e,s];e.indexOf(".")>-1&&(d=e.split("."),i=r,r=s,s=d[1]),this.addNamespaces(s);let u=rf(this.data,d)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?pk(u,r,a):u={...u,...r},Bw(this.data,d,u),l.silent||this.emit("added",e,s,r)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(i=>s[i]&&Object.keys(s[i]).length>0)}toJSON(){return this.data}}var fk={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,r,i){return t.forEach(a=>{var l,d;e=(d=(l=this.processors[a])==null?void 0:l.process(e,s,r,i))!=null?d:e}),e}};const gk=Symbol("i18next/PATH_KEY");function w4(){const t=[],e=Object.create(null);let s;return e.get=(r,i)=>{var a;return(a=s==null?void 0:s.revoke)==null||a.call(s),i===gk?t:(t.push(i),s=Proxy.revocable(r,e),s.proxy)},Proxy.revocable(Object.create(null),e).proxy}function gy(t,e){var r;const{[gk]:s}=t(w4());return s.join((r=e==null?void 0:e.keySeparator)!=null?r:".")}const Ow={},Vw=t=>!it(t)&&typeof t!="boolean"&&typeof t!="number";class af extends Vf{constructor(e,s={}){super(),d4(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ki.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,s={interpolation:{}}){const r={...s};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,s){let r=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=s.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!y4(e,r,i);if(l&&!d){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:it(a)?[a]:a};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:it(a)?[a]:a}}translate(e,s,r){let i=typeof s=="object"?{...s}:s;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=gy(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:d,namespaces:u}=this.extractFromKey(e[e.length-1],i),h=u[u.length-1];let p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=i.lng||this.language,v=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return v?a?{res:`${h}${p}${d}`,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${p}${d}`:a?{res:d,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:d;const b=this.resolve(e,i);let S=b==null?void 0:b.res;const E=(b==null?void 0:b.usedKey)||d,I=(b==null?void 0:b.exactUsedKey)||d,F=["[object Number]","[object Function]","[object RegExp]"],D=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,y=i.count!==void 0&&!it(i.count),j=af.hasDefaultValue(i),M=y?this.pluralResolver.getSuffix(g,i.count,i):"",k=i.ordinal&&y?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",w=y&&!i.ordinal&&i.count===0,C=w&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${M}`]||i[`defaultValue${k}`]||i.defaultValue;let L=S;A&&!S&&j&&(L=C);const P=Vw(L),O=Object.prototype.toString.apply(L);if(A&&L&&P&&F.indexOf(O)<0&&!(it(D)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,L,{...i,ns:u}):`key '${d} (${this.language})' returned an object instead of string.`;return a?(b.res=$,b.usedParams=this.getUsedParamsDetails(i),b):$}if(l){const $=Array.isArray(L),W=$?[]:{},H=$?I:E;for(const q in L)if(Object.prototype.hasOwnProperty.call(L,q)){const Q=`${H}${l}${q}`;j&&!S?W[q]=this.translate(Q,{...i,defaultValue:Vw(C)?C[q]:void 0,joinArrays:!1,ns:u}):W[q]=this.translate(Q,{...i,joinArrays:!1,ns:u}),W[q]===Q&&(W[q]=L[q])}S=W}}else if(A&&it(D)&&Array.isArray(S))S=S.join(D),S&&(S=this.extendTranslation(S,e,i,r));else{let $=!1,W=!1;!this.isValidLookup(S)&&j&&($=!0,S=C),this.isValidLookup(S)||(W=!0,S=d);const q=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:S,Q=j&&C!==S&&this.options.updateMissing;if(W||$||Q){if(this.logger.log(Q?"updateKey":"missingKey",g,h,d,Q?C:S),l){const z=this.resolve(d,{...i,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const J=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&J&&J[0])for(let z=0;z<J.length;z++)G.push(J[z]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(i.lng||this.language):G.push(i.lng||this.language);const ne=(z,ee,ce)=>{var fe;const te=j&&ce!==S?ce:q;this.options.missingKeyHandler?this.options.missingKeyHandler(z,h,ee,te,Q,i):(fe=this.backendConnector)!=null&&fe.saveMissing&&this.backendConnector.saveMissing(z,h,ee,te,Q,i),this.emit("missingKey",z,h,ee,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?G.forEach(z=>{const ee=this.pluralResolver.getSuffixes(z,i);w&&i[`defaultValue${this.options.pluralSeparator}zero`]&&ee.indexOf(`${this.options.pluralSeparator}zero`)<0&&ee.push(`${this.options.pluralSeparator}zero`),ee.forEach(ce=>{ne([z],d+ce,i[`defaultValue${ce}`]||C)})}):ne(G,d,C))}S=this.extendTranslation(S,e,i,b,r),W&&S===d&&this.options.appendNamespaceToMissingKey&&(S=`${h}${p}${d}`),(W||$)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${d}`:d,$?S:void 0,i))}return a?(b.res=S,b.usedParams=this.getUsedParamsDetails(i),b):S}extendTranslation(e,s,r,i,a){var u,h;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=it(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const b=e.match(this.interpolator.nestingRegexp);g=b&&b.length}let v=r.replace&&!it(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||i.usedLng,r),p){const b=e.match(this.interpolator.nestingRegexp),S=b&&b.length;g<S&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...b)=>(a==null?void 0:a[0])===b[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${s[0]}`),null):this.translate(...b,s),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,d=it(l)?[l]:l;return e!=null&&(d!=null&&d.length)&&r.applyPostProcessor!==!1&&(e=fk.handle(d,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,s={}){let r,i,a,l,d;return it(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(u,s),p=h.key;i=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const v=s.count!==void 0&&!it(s.count),b=v&&!s.ordinal&&s.count===0,S=s.context!==void 0&&(it(s.context)||typeof s.context=="number")&&s.context!=="",E=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);g.forEach(I=>{var F,D;this.isValidLookup(r)||(d=I,!Ow[`${E[0]}-${I}`]&&((F=this.utils)!=null&&F.hasLoadedNamespace)&&!((D=this.utils)!=null&&D.hasLoadedNamespace(d))&&(Ow[`${E[0]}-${I}`]=!0,this.logger.warn(`key "${i}" for languages "${E.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(A=>{var M;if(this.isValidLookup(r))return;l=A;const y=[p];if((M=this.i18nFormat)!=null&&M.addLookupKeys)this.i18nFormat.addLookupKeys(y,p,A,I,s);else{let k;v&&(k=this.pluralResolver.getSuffix(A,s.count,s));const w=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(s.ordinal&&k.indexOf(C)===0&&y.push(p+k.replace(C,this.options.pluralSeparator)),y.push(p+k),b&&y.push(p+w)),S){const L=`${p}${this.options.contextSeparator||"_"}${s.context}`;y.push(L),v&&(s.ordinal&&k.indexOf(C)===0&&y.push(L+k.replace(C,this.options.pluralSeparator)),y.push(L+k),b&&y.push(L+w))}}let j;for(;j=y.pop();)this.isValidLookup(r)||(a=j,r=this.getResource(A,I,j,s))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,s,r,i):this.resourceStore.getResource(e,s,r,i)}getUsedParamsDetails(e={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!it(e.replace);let i=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of s)delete i[a]}return i}static hasDefaultValue(e){const s="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&s===r.substring(0,s.length)&&e[r]!==void 0)return!0;return!1}}class Uw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ki.create("languageUtils")}getScriptPartFromCode(e){if(e=Ku(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=Ku(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(it(e)&&e.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(e)[0]}catch(r){}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(r=>{if(s)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(s=i)}),!s&&this.options.supportedLngs&&e.forEach(r=>{if(s)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return s=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return s=a;s=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),it(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let r=e[s];return r||(r=e[this.getScriptPartFromCode(s)]),r||(r=e[this.formatLanguageCode(s)]),r||(r=e[this.getLanguagePartFromCode(s)]),r||(r=e.default),r||[]}toResolveHierarchy(e,s){const r=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return it(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):it(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const zw={zero:0,one:1,two:2,few:3,many:4,other:5},Hw={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class j4{constructor(e,s={}){this.languageUtils=e,this.options=s,this.logger=ki.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e,s={}){const r=Ku(e==="dev"?"en":e),i=s.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch(d){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Hw;if(!e.match(/-|_/))return Hw;const u=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(u,s)}return this.pluralRulesCache[a]=l,l}needsPlural(e,s={}){let r=this.getRule(e,s);return r||(r=this.getRule("dev",s)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,s,r={}){return this.getSuffixes(e,r).map(i=>`${s}${i}`)}getSuffixes(e,s={}){let r=this.getRule(e,s);return r||(r=this.getRule("dev",s)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>zw[i]-zw[a]).map(i=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,s,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(s)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",s,r))}}const Gw=(t,e,s,r=".",i=!0)=>{let a=m4(t,e,s);return!a&&i&&it(s)&&(a=py(t,s,r),a===void 0&&(a=py(e,s,r))),a},ov=t=>t.replace(/\$/g,"$$$$");class S4{constructor(e={}){var s;this.logger=ki.create("interpolator"),this.options=e,this.format=((s=e==null?void 0:e.interpolation)==null?void 0:s.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:d,suffixEscaped:u,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:v,nestingPrefixEscaped:b,nestingSuffix:S,nestingSuffixEscaped:E,nestingOptionsSeparator:I,maxReplaces:F,alwaysFormat:D}=e.interpolation;this.escape=s!==void 0?s:f4,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?bc(a):l||"{{",this.suffix=d?bc(d):u||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=v?bc(v):b||bc("$t("),this.nestingSuffix=S?bc(S):E||bc(")"),this.nestingOptionsSeparator=I||",",this.maxReplaces=F||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,r)=>(s==null?void 0:s.source)===r?(s.lastIndex=0,s):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,s,r,i){var b;let a,l,d;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=S=>{if(S.indexOf(this.formatSeparator)<0){const D=Gw(s,u,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(D,void 0,r,{...i,...s,interpolationkey:S}):D}const E=S.split(this.formatSeparator),I=E.shift().trim(),F=E.join(this.formatSeparator).trim();return this.format(Gw(s,u,I,this.options.keySeparator,this.options.ignoreJSONStructure),F,r,{...i,...s,interpolationkey:I})};this.resetRegExp();const p=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((b=i==null?void 0:i.interpolation)==null?void 0:b.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>ov(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?ov(this.escape(S)):ov(S)}].forEach(S=>{for(d=0;a=S.regex.exec(e);){const E=a[1].trim();if(l=h(E),l===void 0)if(typeof p=="function"){const F=p(e,a,i);l=it(F)?F:""}else if(i&&Object.prototype.hasOwnProperty.call(i,E))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${e}`),l="";else!it(l)&&!this.useRawValueToEscape&&(l=Dw(l));const I=S.safeValue(l);if(e=e.replace(a[0],I),g?(S.regex.lastIndex+=l.length,S.regex.lastIndex-=a[0].length):S.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,s,r={}){let i,a,l;const d=(u,h)=>{var E;const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const g=u.split(new RegExp(`${p}[ ]*{`));let v=`{${g[1]}`;u=g[0],v=this.interpolate(v,l);const b=v.match(/'/g),S=v.match(/"/g);(((E=b==null?void 0:b.length)!=null?E:0)%2===0&&!S||S.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),h&&(l={...h,...l})}catch(I){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,I),`${u}${p}${v}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];l={...r},l=l.replace&&!it(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(h!==-1&&(u=i[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),i[1]=i[1].slice(0,h)),a=s(d.call(this,i[1].trim(),l),l),a&&i[0]===e&&!it(a))return a;it(a)||(a=Dw(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),u.length&&(a=u.reduce((p,g)=>this.format(p,g,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const N4=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?s.currency||(s.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?s.range||(s.range=i.trim()):i.split(";").forEach(l=>{if(l){const[d,...u]=l.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,""),p=d.trim();s[p]||(s[p]=h),h==="false"&&(s[p]=!1),h==="true"&&(s[p]=!0),isNaN(h)||(s[p]=parseInt(h,10))}})}return{formatName:e,formatOptions:s}},Ww=t=>{const e={};return(s,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let d=e[l];return d||(d=t(Ku(r),i),e[l]=d),d(s)}},k4=t=>(e,s,r)=>t(Ku(s),r)(e);class T4{constructor(e={}){this.logger=ki.create("formatter"),this.options=e,this.init(e)}init(e,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const r=s.cacheInBuiltFormats?Ww:k4;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return d=>l.format(d)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return d=>l.format(d)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return d=>l.format(d)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return d=>l.format(d,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return d=>l.format(d)})}}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=Ww(s)}format(e,s,r,i={}){const a=s.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(u=>u.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,u)=>{var g;const{formatName:h,formatOptions:p}=N4(u);if(this.formats[h]){let v=d;try{const b=((g=i==null?void 0:i.formatParams)==null?void 0:g[i.interpolationkey])||{},S=b.locale||b.lng||i.locale||i.lng||r;v=this.formats[h](d,S,{...p,...i,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${h}`);return d},e)}}const C4=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class E4 extends Vf{constructor(e,s,r,i={}){var a,l;super(),this.backend=e,this.store=s,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ki.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,i.backend,i)}queueLoad(e,s,r,i){const a={},l={},d={},u={};return e.forEach(h=>{let p=!0;s.forEach(g=>{const v=`${h}|${g}`;!r.reload&&this.store.hasResourceBundle(h,g)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?l[v]===void 0&&(l[v]=!0):(this.state[v]=1,p=!1,l[v]===void 0&&(l[v]=!0),a[v]===void 0&&(a[v]=!0),u[g]===void 0&&(u[g]=!0)))}),p||(d[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(u)}}loaded(e,s,r){const i=e.split("|"),a=i[0],l=i[1];s&&this.emit("failedLoading",a,l,s),!s&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&r&&(this.state[e]=0);const d={};this.queue.forEach(u=>{h4(u.loaded,[a],l),C4(u,e),s&&u.errors.push(s),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{d[h]||(d[h]={});const p=u.loaded[h];p.length&&p.forEach(g=>{d[h][g]===void 0&&(d[h][g]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(u=>!u.done)}read(e,s,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const d=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,r,i+1,a*2,l)},a);return}l(h,p)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const h=u(e,s);h&&typeof h.then=="function"?h.then(p=>d(null,p)).catch(d):d(null,h)}catch(h){d(h)}return}return u(e,s,d)}prepareLoading(e,s,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();it(e)&&(e=this.languageUtils.toResolveHierarchy(e)),it(s)&&(s=[s]);const a=this.queueLoad(e,s,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,s,r){this.prepareLoading(e,s,{},r)}reload(e,s,r){this.prepareLoading(e,s,{reload:!0},r)}loadOne(e,s=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,d)=>{l&&this.logger.warn(`${s}loading namespace ${a} for language ${i} failed`,l),!l&&d&&this.logger.log(`${s}loaded namespace ${a} for language ${i}`,d),this.loaded(e,l,d)})}saveMissing(e,s,r,i,a,l={},d=()=>{}){var u,h,p,g,v;if((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${r}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((v=this.backend)!=null&&v.create){const b={...l,isUpdate:a},S=this.backend.create.bind(this.backend);if(S.length<6)try{let E;S.length===5?E=S(e,s,r,i,b):E=S(e,s,r,i),E&&typeof E.then=="function"?E.then(I=>d(null,I)).catch(d):d(null,E)}catch(E){d(E)}else S(e,s,r,i,d,b)}!e||!e[0]||this.store.addResource(e[0],s,r,i)}}}const qw=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),it(t[1])&&(e.defaultValue=t[1]),it(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(r=>{e[r]=s[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Kw=t=>{var e,s;return it(t.ns)&&(t.ns=[t.ns]),it(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),it(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((s=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:s.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},rp=()=>{},A4=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class Qu extends Vf{constructor(e={},s){if(super(),this.options=Kw(e),this.services={},this.logger=ki,this.modules={external:[]},A4(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(e={},s){this.isInitializing=!0,typeof e=="function"&&(s=e,e={}),e.defaultNS==null&&e.ns&&(it(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=qw();this.options={...r,...this.options,...Kw(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?ki.init(i(this.modules.logger),this.options):ki.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=T4;const p=new Uw(this.options);this.store=new $w(this.options.resources,this.options);const g=this.services;g.logger=ki,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new j4(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=i(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new S4(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new E4(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(b,...S)=>{this.emit(b,...S)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new af(this.services,this.options),this.translator.on("*",(b,...S)=>{this.emit(b,...S)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,s||(s=rp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const d=au(),u=()=>{const h=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(g),s(p,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),d}loadResources(e,s=rp){var a,l;let r=s;const i=it(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&d.indexOf(g)<0&&d.push(g)})};i?u(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>u(p)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,h=>u(h)),this.services.backendConnector.load(d,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,s,r){const i=au();return typeof e=="function"&&(r=e,e=void 0),typeof s=="function"&&(r=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),r||(r=rp),this.services.backendConnector.reload(e,s,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&fk.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let s=0;s<this.languages.length;s++){const r=this.languages[s];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,s){this.isLanguageChangingTo=e;const r=au();this.emit("languageChanging",e);const i=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},a=(d,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),s&&s(d,(...h)=>this.t(...h))},l=d=>{var p,g;!e&&!d&&this.services.languageDetector&&(d=[]);const u=it(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(it(d)?[d]:d);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,h)),this.loadResources(h,v=>{a(v,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,s,r){const i=(a,l,...d)=>{let u;typeof l!="object"?u=this.options.overloadTranslationOptionHandler([a,l].concat(d)):u={...l},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);const h=this.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(a)?p=a.map(g=>(typeof g=="function"&&(g=gy(g,{...this.options,...l})),`${u.keyPrefix}${h}${g}`)):(typeof a=="function"&&(a=gy(a,{...this.options,...l})),p=u.keyPrefix?`${u.keyPrefix}${h}${a}`:a),this.t(p,u)};return it(e)?i.lng=e:i.lngs=e,i.ns=s,i.keyPrefix=r,i}t(...e){var s;return(s=this.translator)==null?void 0:s.translate(...e)}exists(...e){var s;return(s=this.translator)==null?void 0:s.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=s.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(d,u)=>{const h=this.services.backendConnector.state[`${d}|${u}`];return h===-1||h===0||h===2};if(s.precheck){const d=s.precheck(this,l);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,s){const r=au();return this.options.ns?(it(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),s&&s(i)}),r):(s&&s(),Promise.resolve())}loadLanguages(e,s){const r=au();it(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),s&&s(l)}),r):(s&&s(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const l=new Intl.Locale(e);if(l&&l.getTextInfo){const d=l.getTextInfo();if(d&&d.direction)return d.direction}}catch(l){}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new Uw(qw());return e.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},s){return new Qu(e,s)}cloneInstance(e={},s=rp){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Qu(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const d=Object.keys(this.store.data).reduce((u,h)=>(u[h]={...this.store.data[h]},u[h]=Object.keys(u[h]).reduce((p,g)=>(p[g]={...u[h][g]},p),u[h]),u),{});a.store=new $w(d,i),a.services.resourceStore=a.store}return a.translator=new af(a.services,i),a.translator.on("*",(d,...u)=>{a.emit(d,...u)}),a.init(i,s),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const yn=Qu.createInstance();yn.createInstance=Qu.createInstance;yn.createInstance;yn.dir;yn.init;yn.loadResources;yn.reloadResources;yn.use;yn.changeLanguage;yn.getFixedT;yn.t;yn.exists;yn.setDefaultNamespace;yn.hasLoadedNamespace;yn.loadNamespaces;yn.loadLanguages;const I4=(t,e,s,r)=>{var a,l,d,u;const i=[s,{code:e,...r||{}}];if((l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);pl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(u=(d=t==null?void 0:t.services)==null?void 0:d.logger)!=null&&u.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},Qw={},xy=(t,e,s,r)=>{pl(s)&&Qw[s]||(pl(s)&&(Qw[s]=new Date),I4(t,e,s,r))},xk=(t,e)=>()=>{if(t.isInitialized)e();else{const s=()=>{setTimeout(()=>{t.off("initialized",s)},0),e()};t.on("initialized",s)}},vy=(t,e,s)=>{t.loadNamespaces(e,xk(t,s))},Xw=(t,e,s,r)=>{if(pl(s)&&(s=[s]),t.options.preload&&t.options.preload.indexOf(e)>-1)return vy(t,s,r);s.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,xk(t,r))},R4=(t,e,s={})=>!e.languages||!e.languages.length?(xy(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:s.lng,precheck:(r,i)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),pl=t=>typeof t=="string",P4=t=>typeof t=="object"&&t!==null,L4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,D4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},M4=t=>D4[t],F4=t=>t.replace(L4,M4);let yy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:F4};const B4=(t={})=>{yy={...yy,...t}},$4=()=>yy;let vk;const O4=t=>{vk=t},V4=()=>vk,U4={type:"3rdParty",init(t){B4(t.options.react),O4(t)}},z4=R.createContext();class H4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const G4=(t,e)=>{const s=R.useRef();return R.useEffect(()=>{s.current=t},[t,e]),s.current},yk=(t,e,s,r)=>t.getFixedT(e,s,r),W4=(t,e,s,r)=>R.useCallback(yk(t,e,s,r),[t,e,s,r]),bk=(t,e={})=>{var y,j,M,k;const{i18n:s}=e,{i18n:r,defaultNS:i}=R.useContext(z4)||{},a=s||r||V4();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new H4),!a){xy(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const w=(L,P)=>pl(P)?P:P4(P)&&pl(P.defaultValue)?P.defaultValue:Array.isArray(L)?L[L.length-1]:L,C=[w,{},!1];return C.t=w,C.i18n={},C.ready=!1,C}(y=a.options.react)!=null&&y.wait&&xy(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...$4(),...a.options.react,...e},{useSuspense:d,keyPrefix:u}=l;let h=i||((j=a.options)==null?void 0:j.defaultNS);h=pl(h)?[h]:h||["translation"],(k=(M=a.reportNamespaces).addUsedNamespaces)==null||k.call(M,h);const p=(a.isInitialized||a.initializedStoreOnce)&&h.every(w=>R4(w,a,l)),g=W4(a,e.lng||null,l.nsMode==="fallback"?h:h[0],u),v=()=>g,b=()=>yk(a,e.lng||null,l.nsMode==="fallback"?h:h[0],u),[S,E]=R.useState(v);let I=h.join();e.lng&&(I=`${e.lng}${I}`);const F=G4(I),D=R.useRef(!0);R.useEffect(()=>{const{bindI18n:w,bindI18nStore:C}=l;D.current=!0,!p&&!d&&(e.lng?Xw(a,e.lng,h,()=>{D.current&&E(b)}):vy(a,h,()=>{D.current&&E(b)})),p&&F&&F!==I&&D.current&&E(b);const L=()=>{D.current&&E(b)};return w&&(a==null||a.on(w,L)),C&&(a==null||a.store.on(C,L)),()=>{D.current=!1,a&&w&&(w==null||w.split(" ").forEach(P=>a.off(P,L))),C&&a&&C.split(" ").forEach(P=>a.store.off(P,L))}},[a,I]),R.useEffect(()=>{D.current&&p&&E(v)},[a,u,p]);const A=[S,a,p];if(A.t=S,A.i18n=a,A.ready=p,p||!p&&!d)return A;throw new Promise(w=>{e.lng?Xw(a,e.lng,h,()=>w()):vy(a,h,()=>w())})},q4={home:"Home",dashboard:"Dashboard",players:"Players",guilds:"Guilds",servers:"Servers",toplists:"Top Lists",oldscans:"Old Scans",favorites:"Favorites",notifications:"Notifications",imprint:"Imprint",privacy:"Privacy",license:"License",tools:"Tools"},K4={banner:{guestTitle:"Unlock extra features with an account",guestDescription:"You can use all tools without an account. Sign in to enable cloud-synced sets, cross-set insights, and integrations with your SFDataHub profile.",guestLoginCta:"Sign in to unlock",accountTitle:"Extended tools features",accountComingSoon:"These features are in development and will roll out gradually.",featureSetComparison:"Compare your sets to find the best setups.",featureIntegration:"Link your sets with player profiles, guilds, and other modules.",featureCloudSync:"Sync your sets across devices with your SFDataHub account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Placeholder for future gem calculations.",dungeonPause:"Dummy view for dungeon pause tools.",xpDungeon:"Slide for XP dungeon planning."},sets:{defaultName:"New Set",exportActive:"Export active set",import:"Import set",importErrorInvalid:"This file does not contain a valid tools set.",importErrorMaxReached:"You already use the maximum of 3 sets. Delete one before importing a new one.",delete:"Delete set",deleteConfirmTitle:"Delete this set?",deleteConfirmText:"This will remove the set from your browser and free up a slot. Export it first if you want a backup.",deleteLastForbidden:"You need at least one set. Create a new one before deleting this.",rename:"Rename set",renameTitle:"Rename set",renameLabel:"Set name",renamePlaceholder:"Enter a name for this set",renameSave:"Save",renameCancel:"Cancel",renameErrorEmpty:"Please enter a name."},sync:{buttonSave:"Save changes to account",saving:"Saving",error:"Could not save your changes. Please try again.",statusUnsynced:"Unsynced changes",statusSynced:"All changes synced",statusNever:"Not synced yet",lastSyncLabel:"Last sync",noChanges:"No changes to save",cooldownLabel:"Next sync in {{time}}"}},Q4={search:"Search?  /",settings:"Settings",profile:"Profile",signout:"Sign out",notifications:"Notifications",help:"Help",theme:"Theme",theme_light:"Light",theme_dark:"Dark",language:"Language",lang_en:"English",lang_de:"Deutsch"},X4={public:{title:"Public profile",subtitle:"Read-only showcase of this SFDataHub identity",identity:{profileIdLabel:"Profile ID",unknownValue:"Unknown",lastScanLabel:"Last scan",lastScanToday:"today",daysAgoSuffix:"days ago",dateUnknown:"Not available",mainCharacterLabel:"Main character",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Guild",portraitPlaceholder:"Portrait placeholder"},bio:{title:"About this player",empty:"This player has not added a bio yet.",languagesLabel:"Languages",rolesLabel:"Roles"},showcase:{title:"Character showcase",subtitle:"Curated roster pulled from the last verified scans",empty:"No characters selected for showcase yet.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archive",event:"Event"}},stats:{title:"SFDataHub activity",totalScans:"Total scans",uniquePlayers:"Unique players",uniqueGuilds:"Unique guilds",last30d:"Scans (30d)",topServersLabel:"Top servers",firstScanLabel:"First scan",empty:"No scan data available yet."},records:{title:"Records & milestones",empty:"No records or milestones have been registered yet.",type:{record:"Record",milestone:"Milestone"}},achievements:{title:"Achievements & badges",highlights:"Featured achievements",empty:"No achievements have been unlocked yet.",tiers:{gold:"Gold",silver:"Silver",bronze:"Bronze"}},roles:{guildleader:"Guild Leader",tryhard:"Tryhard"}}},Y4={nav:q4,tools:K4,topbar:Q4,profile:X4},J4={home:"Start",dashboard:"Dashboard",players:"Spieler",guilds:"Gilden",servers:"Server",toplists:"Top-Listen",oldscans:"Alte Scans",favorites:"Favoriten",notifications:"Benachrichtigungen",imprint:"Impressum",privacy:"Datenschutz",license:"Lizenzen",tools:"Tools"},Z4={banner:{guestTitle:"Zusatzfunktionen mit Account freischalten",guestDescription:"Du kannst alle Tools ohne Account nutzen. Mit einem Login schaltest du zusaetzlich cloud-synchronisierte Sets, Set-Analysen und Integrationen mit deinem SFDataHub-Profil frei.",guestLoginCta:"Einloggen und freischalten",accountTitle:"Erweiterte Tool-Funktionen",accountComingSoon:"Diese Funktionen sind in Entwicklung und werden nach und nach freigeschaltet.",featureSetComparison:"Vergleiche deine Sets, um die besten Setups zu finden.",featureIntegration:"Verknuepfe deine Sets mit Spielerprofilen, Gilden und weiteren Modulen.",featureCloudSync:"Nutze deine Sets auf mehreren Geraeten mit deinem SFDataHub-Account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Platzhalter fuer kuenftige Gem-Berechnungen.",dungeonPause:"Dummy-Ansicht fuer Dungeon-Pausen-Tools.",xpDungeon:"Slide fuer XP-Run-Planung."},sets:{defaultName:"Neues Set",exportActive:"Aktives Set exportieren",import:"Set importieren",importErrorInvalid:"Diese Datei enthlt kein gltiges Tools-Set.",importErrorMaxReached:"Du nutzt bereits das Maximum von 3 Sets. Lsche zuerst ein Set, bevor du ein neues importierst.",delete:"Set l?schen",deleteConfirmTitle:"Dieses Set l?schen?",deleteConfirmText:"Damit wird das Set in diesem Browser entfernt und ein Slot freigegeben. Exportiere es zuerst, wenn du ein Backup behalten m?chtest.",deleteLastForbidden:"Du ben?tigst mindestens ein Set. Erstelle zuerst ein neues, bevor du dieses l?schst.",rename:"Set umbenennen",renameTitle:"Set umbenennen",renameLabel:"Set-Name",renamePlaceholder:"Name f?r dieses Set eingeben",renameSave:"Speichern",renameCancel:"Abbrechen",renameErrorEmpty:"Bitte einen Namen eingeben."},sync:{buttonSave:"nderungen im Account speichern",saving:"Speichere ",error:"Deine nderungen konnten nicht gespeichert werden. Bitte versuche es erneut.",statusUnsynced:"Nicht gespeicherte nderungen",statusSynced:"Alle nderungen synchronisiert",statusNever:"Noch nie synchronisiert",lastSyncLabel:"Letzte Synchronisierung",noChanges:"Keine nderungen zum Speichern",cooldownLabel:"Nchster Sync in {{time}}"}},eI={search:"Suchen?  /",settings:"Einstellungen",profile:"Profil",signout:"Abmelden",notifications:"Benachrichtigungen",help:"Hilfe",theme:"Theme",theme_light:"Hell",theme_dark:"Dunkel",language:"Sprache",lang_en:"English",lang_de:"Deutsch"},tI={public:{title:"ffentliches Profil",subtitle:"Read-only-Ansicht dieser SFDataHub-Identitt",identity:{profileIdLabel:"Profil-ID",unknownValue:"Unbekannt",lastScanLabel:"Letzter Scan",lastScanToday:"heute",daysAgoSuffix:"Tage her",dateUnknown:"Keine Angabe",mainCharacterLabel:"Hauptcharakter",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Gilde",portraitPlaceholder:"Portrait-Platzhalter"},bio:{title:"ber diesen Spieler",empty:"Noch kein Bio-Text hinterlegt.",languagesLabel:"Sprachen",rolesLabel:"Rollen"},showcase:{title:"Charakter-Showcase",subtitle:"Kuratiertes Roster aus den letzten Scans",empty:"Noch keine Charaktere fr den Showcase ausgewhlt.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archiv",event:"Event"}},stats:{title:"SFDataHub-Aktivitt",totalScans:"Scans gesamt",uniquePlayers:"Einzigartige Spieler",uniqueGuilds:"Einzigartige Gilden",last30d:"Scans (30T)",topServersLabel:"Top-Server",firstScanLabel:"Erster Scan",empty:"Noch keine Scan-Daten vorhanden."},records:{title:"Records & Meilensteine",empty:"Noch keine Records oder Meilensteine erfasst.",type:{record:"Record",milestone:"Meilenstein"}},achievements:{title:"Erfolge & Badges",highlights:"Highlight-Erfolge",empty:"Noch keine Erfolge freigeschaltet.",tiers:{gold:"Gold",silver:"Silber",bronze:"Bronze"}},roles:{guildleader:"Gildenleiter",tryhard:"Tryhard"}}},sI={nav:J4,tools:Z4,topbar:eI,profile:tI},nI={en:{translation:Y4},de:{translation:sI}};yn.use(U4).init({resources:nI,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});function rt(t,e="en"){return yn.t(t,{lng:e})}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yw="popstate";function rI(t={}){function e(i,a){let{pathname:l="/",search:d="",hash:u=""}=Tl(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),by("",{pathname:l,search:d,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(i,a){let l=i.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let u=i.location.href,h=u.indexOf("#");d=h===-1?u:u.slice(0,h)}return d+"#"+(typeof a=="string"?a:Xu(a))}function r(i,a){yr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return aI(e,s,r,t)}function ls(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function yr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(s){}}}function iI(){return Math.random().toString(36).substring(2,10)}function Jw(t,e){return{usr:t.state,key:t.key,idx:e}}function by(t,e,s=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Tl(e):e,state:s,key:e&&e.key||r||iI()}}function Xu({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Tl(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function aI(t,e,s,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,d="POP",u=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function g(){d="POP";let I=p(),F=I==null?null:I-h;h=I,u&&u({action:d,location:E.location,delta:F})}function v(I,F){d="PUSH";let D=by(E.location,I,F);s&&s(D,I),h=p()+1;let A=Jw(D,h),y=E.createHref(D);try{l.pushState(A,"",y)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(y)}a&&u&&u({action:d,location:E.location,delta:1})}function b(I,F){d="REPLACE";let D=by(E.location,I,F);s&&s(D,I),h=p();let A=Jw(D,h),y=E.createHref(D);l.replaceState(A,"",y),a&&u&&u({action:d,location:E.location,delta:0})}function S(I){return oI(I)}let E={get action(){return d},get location(){return t(i,l)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Yw,g),u=I,()=>{i.removeEventListener(Yw,g),u=null}},createHref(I){return e(i,I)},createURL:S,encodeLocation(I){let F=S(I);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:v,replace:b,go(I){return l.go(I)}};return E}function oI(t,e=!1){let s="http://localhost";typeof window!="undefined"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),ls(s,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Xu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function _k(t,e,s="/"){return lI(t,e,s,!1)}function lI(t,e,s,r){let i=typeof e=="string"?Tl(e):e,a=fa(i.pathname||"/",s);if(a==null)return null;let l=wk(t);cI(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let h=bI(a);d=vI(l[u],h,r)}return d}function wk(t,e=[],s=[],r="",i=!1){let a=(l,d,u=i,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;ls(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=ha([r,p.relativePath]),v=s.concat(p);l.children&&l.children.length>0&&(ls(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),wk(l.children,e,v,g,u)),!(l.path==null&&!l.index)&&e.push({path:g,score:gI(g,l.index),routesMeta:v})};return t.forEach((l,d)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))a(l,d);else for(let h of jk(l.path))a(l,d,!0,h)}),e}function jk(t){let e=t.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=jk(r.join("/")),d=[];return d.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&d.push(...l),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function cI(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:xI(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var dI=/^:[\w-]+$/,uI=3,hI=2,mI=1,pI=10,fI=-2,Zw=t=>t==="*";function gI(t,e){let s=t.split("/"),r=s.length;return s.some(Zw)&&(r+=fI),e&&(r+=hI),s.filter(i=>!Zw(i)).reduce((i,a)=>i+(dI.test(a)?uI:a===""?mI:pI),r)}function xI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vI(t,e,s=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let d=0;d<r.length;++d){let u=r[d],h=d===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=of({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),v=u.route;if(!g&&h&&s&&!r[r.length-1].route.index&&(g=of({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:ha([a,g.pathname]),pathnameBase:SI(ha([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=ha([a,g.pathnameBase]))}return l}function of(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=yI(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let S=d[v]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=d[v];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function yI(t,e=!1,s=!0){yr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function _I(t,e="/"){let{pathname:s,search:r="",hash:i=""}=typeof t=="string"?Tl(t):t;return{pathname:s?s.startsWith("/")?s:wI(s,e):e,search:NI(r),hash:kI(i)}}function wI(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function lv(t,e,s,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jI(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function w0(t){let e=jI(t);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function j0(t,e,s,r=!1){let i;typeof t=="string"?i=Tl(t):(i={...t},ls(!i.pathname||!i.pathname.includes("?"),lv("?","pathname","search",i)),ls(!i.pathname||!i.pathname.includes("#"),lv("#","pathname","hash",i)),ls(!i.search||!i.search.includes("#"),lv("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,d;if(l==null)d=s;else{let g=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}d=g>=0?e[g]:"/"}let u=_I(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var ha=t=>t.join("/").replace(/\/\/+/g,"/"),SI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Sk=["POST","PUT","PATCH","DELETE"];new Set(Sk);var CI=["GET",...Sk];new Set(CI);var ld=R.createContext(null);ld.displayName="DataRouter";var Uf=R.createContext(null);Uf.displayName="DataRouterState";R.createContext(!1);var Nk=R.createContext({isTransitioning:!1});Nk.displayName="ViewTransition";var EI=R.createContext(new Map);EI.displayName="Fetchers";var AI=R.createContext(null);AI.displayName="Await";var ui=R.createContext(null);ui.displayName="Navigation";var xh=R.createContext(null);xh.displayName="Location";var $r=R.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var S0=R.createContext(null);S0.displayName="RouteError";function II(t,{relative:e}={}){ls(cd(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=R.useContext(ui),{hash:i,pathname:a,search:l}=vh(t,{relative:e}),d=a;return s!=="/"&&(d=a==="/"?s:ha([s,a])),r.createHref({pathname:d,search:l,hash:i})}function cd(){return R.useContext(xh)!=null}function ir(){return ls(cd(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(xh).location}var kk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tk(t){R.useContext(ui).static||R.useLayoutEffect(t)}function Or(){let{isDataRoute:t}=R.useContext($r);return t?WI():RI()}function RI(){ls(cd(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(ld),{basename:e,navigator:s}=R.useContext(ui),{matches:r}=R.useContext($r),{pathname:i}=ir(),a=JSON.stringify(w0(r)),l=R.useRef(!1);return Tk(()=>{l.current=!0}),R.useCallback((u,h={})=>{if(yr(l.current,kk),!l.current)return;if(typeof u=="number"){s.go(u);return}let p=j0(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ha([e,p.pathname])),(h.replace?s.replace:s.push)(p,h.state,h)},[e,s,a,i,t])}var PI=R.createContext(null);function LI(t){let e=R.useContext($r).outlet;return e&&R.createElement(PI.Provider,{value:t},e)}function zf(){let{matches:t}=R.useContext($r),e=t[t.length-1];return e?e.params:{}}function vh(t,{relative:e}={}){let{matches:s}=R.useContext($r),{pathname:r}=ir(),i=JSON.stringify(w0(s));return R.useMemo(()=>j0(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function DI(t,e){return Ck(t,e)}function Ck(t,e,s,r,i){var D;ls(cd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=R.useContext(ui),{matches:l}=R.useContext($r),d=l[l.length-1],u=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";Ek(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=ir(),b;if(e){let A=typeof e=="string"?Tl(e):e;ls(p==="/"||((D=A.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=v;let S=b.pathname||"/",E=S;if(p!=="/"){let A=p.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let I=_k(t,{pathname:E});yr(g||I!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),yr(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=OI(I&&I.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:ha([p,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?p:ha([p,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,s,r,i);return e&&F?R.createElement(xh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},F):F}function MI(){let t=GI(),e=TI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),s?R.createElement("pre",{style:i},s):null,l)}var FI=R.createElement(MI,null),BI=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement($r.Provider,{value:this.props.routeContext},R.createElement(S0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $I({routeContext:t,match:e,children:s}){let r=R.useContext(ld);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement($r.Provider,{value:t},s)}function OI(t,e=[],s=null,r=null,i=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let a=t,l=s==null?void 0:s.errors;if(l!=null){let h=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ls(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let d=!1,u=-1;if(s)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:v}=s,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){d=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let v,b=!1,S=null,E=null;s&&(v=l&&p.route.id?l[p.route.id]:void 0,S=p.route.errorElement||FI,d&&(u<0&&g===0?(Ek("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):u===g&&(b=!0,E=p.route.hydrateFallbackElement||null)));let I=e.concat(a.slice(0,g+1)),F=()=>{let D;return v?D=S:b?D=E:p.route.Component?D=R.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=h,R.createElement($I,{match:p,routeContext:{outlet:h,matches:I,isDataRoute:s!=null},children:D})};return s&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?R.createElement(BI,{location:s.location,revalidation:s.revalidation,component:S,error:v,children:F(),routeContext:{outlet:null,matches:I,isDataRoute:!0},unstable_onError:r}):F()},null)}function N0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VI(t){let e=R.useContext(ld);return ls(e,N0(t)),e}function UI(t){let e=R.useContext(Uf);return ls(e,N0(t)),e}function zI(t){let e=R.useContext($r);return ls(e,N0(t)),e}function k0(t){let e=zI(t),s=e.matches[e.matches.length-1];return ls(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function HI(){return k0("useRouteId")}function GI(){var r;let t=R.useContext(S0),e=UI("useRouteError"),s=k0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[s]}function WI(){let{router:t}=VI("useNavigate"),e=k0("useNavigate"),s=R.useRef(!1);return Tk(()=>{s.current=!0}),R.useCallback(async(i,a={})=>{yr(s.current,kk),s.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var e2={};function Ek(t,e,s){!e&&!e2[t]&&(e2[t]=!0,yr(!1,s))}R.memo(qI);function qI({routes:t,future:e,state:s,unstable_onError:r}){return Ck(t,void 0,s,r,e)}function yu({to:t,replace:e,state:s,relative:r}){ls(cd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(ui);yr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext($r),{pathname:l}=ir(),d=Or(),u=j0(t,w0(a),l,r==="path"),h=JSON.stringify(u);return R.useEffect(()=>{d(JSON.parse(h),{replace:e,state:s,relative:r})},[d,h,r,e,s]),null}function Ak(t){return LI(t.context)}function me(t){ls(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KI({basename:t="/",children:e=null,location:s,navigationType:r="POP",navigator:i,static:a=!1}){ls(!cd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof s=="string"&&(s=Tl(s));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:v="default"}=s,b=R.useMemo(()=>{let S=fa(u,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:g,key:v},navigationType:r}},[l,u,h,p,g,v,r]);return yr(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:R.createElement(ui.Provider,{value:d},R.createElement(xh.Provider,{children:e,value:b}))}function QI({children:t,location:e}){return DI(_y(t),e)}function _y(t,e=[]){let s=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){s.push.apply(s,_y(r.props.children,a));return}ls(r.type===me,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ls(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=_y(r.props.children,a)),s.push(l)}),s}var Dp="get",Mp="application/x-www-form-urlencoded";function Hf(t){return t!=null&&typeof t.tagName=="string"}function XI(t){return Hf(t)&&t.tagName.toLowerCase()==="button"}function YI(t){return Hf(t)&&t.tagName.toLowerCase()==="form"}function JI(t){return Hf(t)&&t.tagName.toLowerCase()==="input"}function ZI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eR(t,e){return t.button===0&&(!e||e==="_self")&&!ZI(t)}function wy(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,s)=>{let r=t[s];return e.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function tR(t,e){let s=wy(t);return e&&e.forEach((r,i)=>{s.has(i)||e.getAll(i).forEach(a=>{s.append(i,a)})}),s}var ip=null;function sR(){if(ip===null)try{new FormData(document.createElement("form"),0),ip=!1}catch(t){ip=!0}return ip}var nR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cv(t){return t!=null&&!nR.has(t)?(yr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mp}"`),null):t}function rR(t,e){let s,r,i,a,l;if(YI(t)){let d=t.getAttribute("action");r=d?fa(d,e):null,s=t.getAttribute("method")||Dp,i=cv(t.getAttribute("enctype"))||Mp,a=new FormData(t)}else if(XI(t)||JI(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(r=u?fa(u,e):null,s=t.getAttribute("formmethod")||d.getAttribute("method")||Dp,i=cv(t.getAttribute("formenctype"))||cv(d.getAttribute("enctype"))||Mp,a=new FormData(d,t),!sR()){let{name:h,type:p,value:g}=t;if(p==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,g)}}else{if(Hf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Dp,r=null,i=Mp,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function T0(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function iR(t,e,s){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${s}`:e&&fa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function aR(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lR(t,e,s){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await aR(a,s);return l.links?l.links():[]}return[]}));return hR(r.flat(1).filter(oR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function t2(t,e,s,r,i,a){let l=(u,h)=>s[h]?u.route.id!==s[h].route.id:!0,d=(u,h)=>{var p;return s[h].pathname!==u.pathname||((p=s[h].route.path)==null?void 0:p.endsWith("*"))&&s[h].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,h)=>l(u,h)||d(u,h)):a==="data"?e.filter((u,h)=>{var g;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,h)||d(u,h))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=s[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function cR(t,e,{includeHydrateFallback:s}={}){return dR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function dR(t){return[...new Set(t)]}function uR(t){let e={},s=Object.keys(t).sort();for(let r of s)e[r]=t[r];return e}function hR(t,e){let s=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(uR(i));return s.has(a)||(s.add(a),r.push({key:a,link:i})),r},[])}function Ik(){let t=R.useContext(ld);return T0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mR(){let t=R.useContext(Uf);return T0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var C0=R.createContext(void 0);C0.displayName="FrameworkContext";function Rk(){let t=R.useContext(C0);return T0(t,"You must render this element inside a <HydratedRouter> element"),t}function pR(t,e){let s=R.useContext(C0),[r,i]=R.useState(!1),[a,l]=R.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,v=R.useRef(null);R.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=F=>{F.forEach(D=>{l(D.isIntersecting)})},I=new IntersectionObserver(E,{threshold:.5});return v.current&&I.observe(v.current),()=>{I.disconnect()}}},[t]),R.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{i(!0)},S=()=>{i(!1),l(!1)};return s?t!=="intent"?[a,v,{}]:[a,v,{onFocus:ou(d,b),onBlur:ou(u,S),onMouseEnter:ou(h,b),onMouseLeave:ou(p,S),onTouchStart:ou(g,b)}]:[!1,v,{}]}function ou(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function fR({page:t,...e}){let{router:s}=Ik(),r=R.useMemo(()=>_k(s.routes,t,s.basename),[s.routes,t,s.basename]);return r?R.createElement(xR,{page:t,matches:r,...e}):null}function gR(t){let{manifest:e,routeModules:s}=Rk(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return lR(t,e,s).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,s]),r}function xR({page:t,matches:e,...s}){let r=ir(),{manifest:i,routeModules:a}=Rk(),{basename:l}=Ik(),{loaderData:d,matches:u}=mR(),h=R.useMemo(()=>t2(t,e,u,i,r,"data"),[t,e,u,i,r]),p=R.useMemo(()=>t2(t,e,u,i,r,"assets"),[t,e,u,i,r]),g=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,E=!1;if(e.forEach(F=>{var A;let D=i.routes[F.route.id];!D||!D.hasLoader||(!h.some(y=>y.route.id===F.route.id)&&F.route.id in d&&((A=a[F.route.id])!=null&&A.shouldRevalidate)||D.hasClientLoader?E=!0:S.add(F.route.id))}),S.size===0)return[];let I=iR(t,l,"data");return E&&S.size>0&&I.searchParams.set("_routes",e.filter(F=>S.has(F.route.id)).map(F=>F.route.id).join(",")),[I.pathname+I.search]},[l,d,r,i,h,e,t,a]),v=R.useMemo(()=>cR(p,i),[p,i]),b=gR(p);return R.createElement(R.Fragment,null,g.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...s})),v.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...s})),b.map(({key:S,link:E})=>R.createElement("link",{key:S,nonce:s.nonce,...E})))}function vR(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var Pk=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{Pk&&(window.__reactRouterVersion="7.9.1")}catch(t){}function yR({basename:t,children:e,window:s}){let r=R.useRef();r.current==null&&(r.current=rI({window:s,v5Compat:!0}));let i=r.current,[a,l]=R.useState({action:i.action,location:i.location}),d=R.useCallback(u=>{R.startTransition(()=>l(u))},[l]);return R.useLayoutEffect(()=>i.listen(d),[i,d]),R.createElement(KI,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var Lk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zt=R.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:d,target:u,to:h,preventScrollReset:p,viewTransition:g,...v},b){let{basename:S}=R.useContext(ui),E=typeof h=="string"&&Lk.test(h),I,F=!1;if(typeof h=="string"&&E&&(I=h,Pk))try{let C=new URL(window.location.href),L=h.startsWith("//")?new URL(C.protocol+h):new URL(h),P=fa(L.pathname,S);L.origin===C.origin&&P!=null?h=P+L.search+L.hash:F=!0}catch(C){yr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=II(h,{relative:i}),[A,y,j]=pR(r,v),M=wR(h,{replace:l,state:d,target:u,preventScrollReset:p,relative:i,viewTransition:g});function k(C){e&&e(C),C.defaultPrevented||M(C)}let w=R.createElement("a",{...v,...j,href:I||D,onClick:F||a?e:k,ref:vR(b,y),target:u,"data-discover":!E&&s==="render"?"true":void 0});return A&&!E?R.createElement(R.Fragment,null,w,R.createElement(fR,{page:D})):w});zt.displayName="Link";var ms=R.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:d,children:u,...h},p){let g=vh(l,{relative:h.relative}),v=ir(),b=R.useContext(Uf),{navigator:S,basename:E}=R.useContext(ui),I=b!=null&&TR(g)&&d===!0,F=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,D=v.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(D=D.toLowerCase(),A=A?A.toLowerCase():null,F=F.toLowerCase()),A&&E&&(A=fa(A,E)||A);const y=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let j=D===F||!i&&D.startsWith(F)&&D.charAt(y)==="/",M=A!=null&&(A===F||!i&&A.startsWith(F)&&A.charAt(F.length)==="/"),k={isActive:j,isPending:M,isTransitioning:I},w=j?e:void 0,C;typeof r=="function"?C=r(k):C=[r,j?"active":null,M?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(k):a;return R.createElement(zt,{...h,"aria-current":w,className:C,ref:p,style:L,to:l,viewTransition:d},typeof u=="function"?u(k):u)});ms.displayName="NavLink";var bR=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:i,state:a,method:l=Dp,action:d,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:g,...v},b)=>{let S=NR(),E=kR(d,{relative:h}),I=l.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&Lk.test(d),D=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let y=A.nativeEvent.submitter,j=(y==null?void 0:y.getAttribute("formmethod"))||l;S(y||A.currentTarget,{fetcherKey:e,method:j,navigate:s,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return R.createElement("form",{ref:b,method:I,action:E,onSubmit:r?u:D,...v,"data-discover":!F&&t==="render"?"true":void 0})});bR.displayName="Form";function _R(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dk(t){let e=R.useContext(ld);return ls(e,_R(t)),e}function wR(t,{target:e,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let d=Or(),u=ir(),h=vh(t,{relative:a});return R.useCallback(p=>{if(eR(p,e)){p.preventDefault();let g=s!==void 0?s:Xu(u)===Xu(h);d(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,d,h,s,r,e,t,i,a,l])}function Cl(t){yr(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(wy(t)),s=R.useRef(!1),r=ir(),i=R.useMemo(()=>tR(r.search,s.current?null:e.current),[r.search]),a=Or(),l=R.useCallback((d,u)=>{const h=wy(typeof d=="function"?d(new URLSearchParams(i)):d);s.current=!0,a("?"+h,u)},[a,i]);return[i,l]}var jR=0,SR=()=>`__${String(++jR)}__`;function NR(){let{router:t}=Dk("useSubmit"),{basename:e}=R.useContext(ui),s=HI();return R.useCallback(async(r,i={})=>{let{action:a,method:l,encType:d,formData:u,body:h}=rR(r,e);if(i.navigate===!1){let p=i.fetcherKey||SR();await t.fetch(p,s,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,s])}function kR(t,{relative:e}={}){let{basename:s}=R.useContext(ui),r=R.useContext($r);ls(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...vh(t||".",{relative:e})},l=ir();if(t==null){a.search=l.search;let d=new URLSearchParams(a.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(a.pathname=a.pathname==="/"?s:ha([s,a.pathname])),Xu(a)}function TR(t,{relative:e}={}){let s=R.useContext(Nk);ls(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Dk("useViewTransitionState"),i=vh(t,{relative:e});if(!s.isTransitioning)return!1;let a=fa(s.currentLocation.pathname,r)||s.currentLocation.pathname,l=fa(s.nextLocation.pathname,r)||s.nextLocation.pathname;return of(i.pathname,l)!=null||of(i.pathname,a)!=null}var CR=mk();const ER=b0(CR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),s2=t=>{const e=IR(t);return e.charAt(0).toUpperCase()+e.slice(1)},Mk=(...t)=>t.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),RR=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...d},u)=>R.createElement("svg",{ref:u,...PR,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:Mk("lucide",i),...!a&&!RR(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>R.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const s=R.forwardRef(({className:r,...i},a)=>R.createElement(LR,{ref:a,iconNode:e,className:Mk(`lucide-${AR(s2(t))}`,`lucide-${t}`,r),...i}));return s.displayName=s2(t),s};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Gf=nt("aperture",DR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],FR=nt("arrow-up-right",MR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$R=nt("ban",BR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],VR=nt("bell",OR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zR=nt("book-open",UR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],GR=nt("chart-column",HR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qR=nt("chevron-right",WR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Iu=nt("circle-alert",KR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],XR=nt("circle-check",QR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Fp=nt("circle-dot",YR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZR=nt("circle-user-round",JR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tP=nt("clock-3",eP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],nP=nt("cloud-upload",sP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iP=nt("compass",rP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],oP=nt("database",aP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Fk=nt("diamond",lP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],dP=nt("file-text",cP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],hP=nt("folder-search",uP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],pP=nt("globe",mP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Bk=nt("hexagon",fP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],xP=nt("house",gP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],yP=nt("layers",vP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_P=nt("layout-dashboard",bP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uo=nt("loader-circle",wP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],SP=nt("messages-square",jP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],kP=nt("pencil",NP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],CP=nt("pin-off",TP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],AP=nt("pin",EP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Wf=nt("refresh-ccw",IP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],PP=nt("scroll-text",RP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jy=nt("search",LP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],MP=nt("server-cog",DP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BP=nt("settings",FP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],$k=nt("shapes",$P);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Ok=nt("shield-alert",OP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],UP=nt("shield-check",VP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],HP=nt("shield-off",zP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],El=nt("shield",GP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],qP=nt("square-activity",WP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],QP=nt("star",KP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],YP=nt("sticky-note",XP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],E0=nt("triangle-alert",JP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],e6=nt("trophy",ZP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],s6=nt("upload",t6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qf=nt("users",n6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],i6=nt("wrench",r6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Vk=nt("zap",a6),o6="_topbar_1lc6k_3",l6="_topbarLeft_1lc6k_39",c6="_searchWrap_1lc6k_55",d6="_topbarRight_1lc6k_109",u6="_ico_1lc6k_125",h6="_btnIco_1lc6k_139",m6="_pill_1lc6k_173",p6="_pillActive_1lc6k_195",f6="_onlyExpanded_1lc6k_203",g6="_topbarNav_1lc6k_205",x6="_topbarLink_1lc6k_215",v6="_upload_1lc6k_225",y6="_label_1lc6k_255",b6="_avatarBtn_1lc6k_261",_6="_avatar_1lc6k_261",w6="_avatarSpinnerShell_1lc6k_289",j6="_avatarSpinner_1lc6k_289",S6="_srOnly_1lc6k_325",N6="_accountRoot_1lc6k_351",k6="_accountDropdown_1lc6k_359",T6="_accountHeader_1lc6k_389",C6="_accountName_1lc6k_401",E6="_accountSub_1lc6k_413",A6="_accountStatusText_1lc6k_423",I6="_accountPrimary_1lc6k_433",R6="_accountHint_1lc6k_455",P6="_accountItem_1lc6k_465",L6="_accountDivider_1lc6k_495",D6="_accountMiniAvatar_1lc6k_507",M6="_accountLogout_1lc6k_519",xt={topbar:o6,topbarLeft:l6,searchWrap:c6,topbarRight:d6,ico:u6,btnIco:h6,pill:m6,pillActive:p6,onlyExpanded:f6,topbarNav:g6,topbarLink:x6,upload:v6,label:y6,avatarBtn:b6,avatar:_6,avatarSpinnerShell:w6,avatarSpinner:j6,srOnly:S6,accountRoot:N6,accountDropdown:k6,accountHeader:T6,accountName:C6,accountSub:E6,accountStatusText:A6,accountPrimary:I6,accountHint:R6,accountItem:P6,accountDivider:L6,accountMiniAvatar:D6,accountLogout:M6},wo="https://auth.sfdatahub.com",F6=`${wo}/auth/firebase-token`;async function B6(){var r,i;const t=await fetch(F6,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Failed to fetch firebase token: ${t.status}`);const e=await t.json(),s=(i=e==null?void 0:e.firebaseToken)!=null?i:(r=e==null?void 0:e.tokens)==null?void 0:r.firebase;if(!s)throw new Error("Firebase token missing in response");return s}var n2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=function(t){const e=[];let s=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},$6=function(t){const e=[];let s=0,r=0;for(;s<t.length;){const i=t[s++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[s++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[s++],l=t[s++],d=t[s++],u=((i&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[s++],l=t[s++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},zk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,d=l?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=a>>2,g=(a&3)<<4|d>>4;let v=(d&15)<<2|h>>6,b=h&63;u||(b=64,l||(v=64)),r.push(s[p],s[g],s[v],s[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Uk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=s[t.charAt(i++)],d=i<t.length?s[t.charAt(i)]:0;++i;const h=i<t.length?s[t.charAt(i)]:64;++i;const g=i<t.length?s[t.charAt(i)]:64;if(++i,a==null||d==null||h==null||g==null)throw new O6;const v=a<<2|d>>4;if(r.push(v),h!==64){const b=d<<4&240|h>>2;if(r.push(b),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class O6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V6=function(t){const e=Uk(t);return zk.encodeByteArray(e,!0)},lf=function(t){return V6(t).replace(/\./g,"")},Hk=function(t){try{return zk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=()=>U6().__FIREBASE_DEFAULTS__,H6=()=>{if(typeof process=="undefined"||typeof n2=="undefined")return;const t=n2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},G6=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(s){return}const e=t&&Hk(t[1]);return e&&JSON.parse(e)},Kf=()=>{try{return z6()||H6()||G6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gk=t=>{var e,s;return(s=(e=Kf())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[t]},W6=t=>{const e=Gk(t);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},Wk=()=>{var t;return(t=Kf())===null||t===void 0?void 0:t.config},qk=t=>{var e;return(e=Kf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lf(JSON.stringify(s)),lf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q6(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function X6(){var t;const e=(t=Kf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(s){return!1}}function Y6(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function J6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Z6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eL(){const t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tL(){return!X6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sL(){try{return typeof indexedDB=="object"}catch(t){return!1}}function nL(){return new Promise((t,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="FirebaseError";class Sa extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=rL,Object.setPrototypeOf(this,Sa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yh.prototype.create)}}class yh{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?iL(a,r):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new Sa(i,d,r)}}function iL(t,e){return t.replace(aL,(s,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const aL=/\{\$([^}]+)}/g;function oL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cf(t,e){if(t===e)return!0;const s=Object.keys(t),r=Object.keys(e);for(const i of s){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(r2(a)&&r2(l)){if(!cf(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function r2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){const e=[];for(const[s,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lL(t,e){const s=new cL(t,e);return s.subscribe.bind(s)}class cL{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let i;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");dL(e,["next","error","complete"])?i=e:i={next:e,error:s,complete:r},i.next===void 0&&(i.next=dv),i.error===void 0&&(i.error=dv),i.complete===void 0&&(i.complete=dv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(l){}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dL(t,e){if(typeof t!="object"||t===null)return!1;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}function dv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t){return t&&t._delegate?t._delegate:t}class yl{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new q6;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mL(e))try{this.getOrInitializeService({instanceIdentifier:al})}catch(s){}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch(a){}}}}clearInstance(e=al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=al){return this.instances.has(e)}getOptions(e=al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(i)}return i}onInit(e,s){var r;const i=this.normalizeInstanceIdentifier(s),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(e,s)}catch(a){}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hL(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=al){return this.component?this.component.multipleInstances?e:al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hL(t){return t===al?void 0:t}function mL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new uL(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(At||(At={}));const fL={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},gL=At.INFO,xL={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},vL=(t,e,...s)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xL[e];if(i)console[i](`[${r}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class A0{constructor(e){this.name=e,this._logLevel=gL,this._logHandler=vL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in At))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...e),this._logHandler(this,At.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...e),this._logHandler(this,At.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,At.INFO,...e),this._logHandler(this,At.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,At.WARN,...e),this._logHandler(this,At.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...e),this._logHandler(this,At.ERROR,...e)}}const yL=(t,e)=>e.some(s=>t instanceof s);let i2,a2;function bL(){return i2||(i2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _L(){return a2||(a2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kk=new WeakMap,Sy=new WeakMap,Qk=new WeakMap,uv=new WeakMap,I0=new WeakMap;function wL(t){const e=new Promise((s,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{s(ho(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(s=>{s instanceof IDBCursor&&Kk.set(s,t)}).catch(()=>{}),I0.set(e,t),e}function jL(t){if(Sy.has(t))return;const e=new Promise((s,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{s(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Sy.set(t,e)}let Ny={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return Sy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qk.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return ho(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SL(t){Ny=t(Ny)}function NL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=t.call(hv(this),e,...s);return Qk.set(r,e.sort?e.sort():[e]),ho(r)}:_L().includes(t)?function(...e){return t.apply(hv(this),e),ho(Kk.get(this))}:function(...e){return ho(t.apply(hv(this),e))}}function kL(t){return typeof t=="function"?NL(t):(t instanceof IDBTransaction&&jL(t),yL(t,bL())?new Proxy(t,Ny):t)}function ho(t){if(t instanceof IDBRequest)return wL(t);if(uv.has(t))return uv.get(t);const e=kL(t);return e!==t&&(uv.set(t,e),I0.set(e,t)),e}const hv=t=>I0.get(t);function TL(t,e,{blocked:s,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),d=ho(l);return r&&l.addEventListener("upgradeneeded",u=>{r(ho(l.result),u.oldVersion,u.newVersion,ho(l.transaction),u)}),s&&l.addEventListener("blocked",u=>s(u.oldVersion,u.newVersion,u)),d.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const CL=["get","getKey","getAll","getAllKeys","count"],EL=["put","add","delete","clear"],mv=new Map;function o2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mv.get(e))return mv.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,i=EL.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CL.includes(s)))return;const a=async function(l,...d){const u=this.transaction(l,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[s](...d),i&&u.done]))[0]};return mv.set(e,a),a}SL(t=>({...t,get:(e,s,r)=>o2(e,s)||t.get(e,s,r),has:(e,s)=>!!o2(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(IL(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function IL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ky="@firebase/app",l2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new A0("@firebase/app"),RL="@firebase/app-compat",PL="@firebase/analytics-compat",LL="@firebase/analytics",DL="@firebase/app-check-compat",ML="@firebase/app-check",FL="@firebase/auth",BL="@firebase/auth-compat",$L="@firebase/database",OL="@firebase/data-connect",VL="@firebase/database-compat",UL="@firebase/functions",zL="@firebase/functions-compat",HL="@firebase/installations",GL="@firebase/installations-compat",WL="@firebase/messaging",qL="@firebase/messaging-compat",KL="@firebase/performance",QL="@firebase/performance-compat",XL="@firebase/remote-config",YL="@firebase/remote-config-compat",JL="@firebase/storage",ZL="@firebase/storage-compat",eD="@firebase/firestore",tD="@firebase/vertexai-preview",sD="@firebase/firestore-compat",nD="firebase",rD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="[DEFAULT]",iD={[ky]:"fire-core",[RL]:"fire-core-compat",[LL]:"fire-analytics",[PL]:"fire-analytics-compat",[ML]:"fire-app-check",[DL]:"fire-app-check-compat",[FL]:"fire-auth",[BL]:"fire-auth-compat",[$L]:"fire-rtdb",[OL]:"fire-data-connect",[VL]:"fire-rtdb-compat",[UL]:"fire-fn",[zL]:"fire-fn-compat",[HL]:"fire-iid",[GL]:"fire-iid-compat",[WL]:"fire-fcm",[qL]:"fire-fcm-compat",[KL]:"fire-perf",[QL]:"fire-perf-compat",[XL]:"fire-rc",[YL]:"fire-rc-compat",[JL]:"fire-gcs",[ZL]:"fire-gcs-compat",[eD]:"fire-fst",[sD]:"fire-fst-compat",[tD]:"fire-vertex","fire-js":"fire-js",[nD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Map,aD=new Map,Cy=new Map;function c2(t,e){try{t.container.addComponent(e)}catch(s){ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function Wc(t){const e=t.name;if(Cy.has(e))return ga.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,t);for(const s of Yu.values())c2(s,t);for(const s of aD.values())c2(s,t);return!0}function R0(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function oa(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mo=new yh("app","Firebase",oD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,s,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=rD;function Xk(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ty,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mo.create("bad-app-name",{appName:String(i)});if(s||(s=Wk()),!s)throw mo.create("no-options");const a=Yu.get(i);if(a){if(cf(s,a.options)&&cf(r,a.config))return a;throw mo.create("duplicate-app",{appName:i})}const l=new pL(i);for(const u of Cy.values())l.addComponent(u);const d=new lD(s,r,l);return Yu.set(i,d),d}function P0(t=Ty){const e=Yu.get(t);if(!e&&t===Ty&&Wk())return Xk();if(!e)throw mo.create("no-app",{appName:t});return e}function cD(){return Array.from(Yu.values())}function po(t,e,s){var r;let i=(r=iD[t])!==null&&r!==void 0?r:t;s&&(i+=`-${s}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${i}" with version "${e}":`];a&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ga.warn(d.join(" "));return}Wc(new yl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="firebase-heartbeat-database",uD=1,Ju="firebase-heartbeat-store";let pv=null;function Yk(){return pv||(pv=TL(dD,uD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ju)}catch(s){console.warn(s)}}}}).catch(t=>{throw mo.create("idb-open",{originalErrorMessage:t.message})})),pv}async function hD(t){try{const s=(await Yk()).transaction(Ju),r=await s.objectStore(Ju).get(Jk(t));return await s.done,r}catch(e){if(e instanceof Sa)ga.warn(e.message);else{const s=mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ga.warn(s.message)}}}async function d2(t,e){try{const r=(await Yk()).transaction(Ju,"readwrite");await r.objectStore(Ju).put(e,Jk(t)),await r.done}catch(s){if(s instanceof Sa)ga.warn(s.message);else{const r=mo.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});ga.warn(r.message)}}}function Jk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=1024,pD=720*60*60*1e3;class fD{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new xD(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=u2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const d=new Date(l.date).valueOf();return Date.now()-d<=pD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ga.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=u2(),{heartbeatsToSend:r,unsentEntries:i}=gD(this._heartbeatsCache.heartbeats),a=lf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(s){return ga.warn(s),""}}}function u2(){return new Date().toISOString().substring(0,10)}function gD(t,e=mD){const s=[];let r=t.slice();for(const i of t){const a=s.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),h2(s)>e){a.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),h2(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class xD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sL()?nL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await hD(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return d2(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return d2(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function h2(t){return lf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){Wc(new yl("platform-logger",e=>new AL(e),"PRIVATE")),Wc(new yl("heartbeat",e=>new fD(e),"PRIVATE")),po(ky,l2,t),po(ky,l2,"esm2017"),po("fire-js","")}vD("");var yD="firebase",bD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po(yD,bD,"app");function L0(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s}function Zk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _D=Zk,eT=new yh("auth","Firebase",Zk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=new A0("@firebase/auth");function wD(t,...e){df.logLevel<=At.WARN&&df.warn(`Auth (${dd}): ${t}`,...e)}function Bp(t,...e){df.logLevel<=At.ERROR&&df.error(`Auth (${dd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t,...e){throw D0(t,...e)}function Ti(t,...e){return D0(t,...e)}function tT(t,e,s){const r=Object.assign(Object.assign({},_D()),{[e]:s});return new yh("auth","Firebase",r).create(e,{appName:t.name})}function fo(t){return tT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D0(t,...e){if(typeof t!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(s,...r)}return eT.create(t,...e)}function at(t,e,...s){if(!t)throw D0(e,...s)}function la(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bp(e),new Error(e)}function va(t,e){t||la(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jD(){return m2()==="http:"||m2()==="https:"}function m2(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jD()||J6()||"connection"in navigator)?navigator.onLine:!0}function ND(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,s){this.shortDelay=e,this.longDelay=s,va(s>e,"Short delay should be less than long delay!"),this.isMobile=Q6()||Z6()}get(){return SD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e){va(t.emulator,"Emulator should always be set here");const{url:s}=t.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;la("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;la("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;la("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new _h(3e4,6e4);function Qf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ud(t,e,s,r,i={}){return nT(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=bh(Object.assign({key:t.config.apiKey},l)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},a);return Y6()||(h.referrerPolicy="no-referrer"),sT.fetch()(iT(t,t.config.apiHost,s,d),h)})}async function nT(t,e,s){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kD),e);try{const i=new CD(t),a=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw ap(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[u,h]=d.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ap(t,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw ap(t,"email-already-in-use",l);if(u==="USER_DISABLED")throw ap(t,"user-disabled",l);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw tT(t,p,h);xa(t,p)}}catch(i){if(i instanceof Sa)throw i;xa(t,"network-request-failed",{message:String(i)})}}async function rT(t,e,s,r,i={}){const a=await ud(t,e,s,r,i);return"mfaPendingCredential"in a&&xa(t,"multi-factor-auth-required",{_serverResponse:a}),a}function iT(t,e,s,r){const i=`${e}${s}?${r}`;return t.config.emulator?M0(t.config,i):`${t.config.apiScheme}://${i}`}class CD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),TD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ap(t,e,s){const r={appName:t.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const i=Ti(t,e,r);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(t,e){return ud(t,"POST","/v1/accounts:delete",e)}async function aT(t,e){return ud(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function AD(t,e=!1){const s=Gs(t),r=await s.getIdToken(e),i=F0(r);at(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Ru(fv(i.auth_time)),issuedAtTime:Ru(fv(i.iat)),expirationTime:Ru(fv(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function fv(t){return Number(t)*1e3}function F0(t){const[e,s,r]=t.split(".");if(e===void 0||s===void 0||r===void 0)return Bp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hk(s);return i?JSON.parse(i):(Bp("Failed to decode base64 JWT payload"),null)}catch(i){return Bp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p2(t){const e=F0(t);return at(e,"internal-error"),at(typeof e.exp!="undefined","internal-error"),at(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(t,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof Sa&&ID(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ID({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t){var e;const s=t.auth,r=await t.getIdToken(),i=await Zu(t,aT(s,{idToken:r}));at(i==null?void 0:i.users.length,s,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?oT(a.providerUserInfo):[],d=LD(t.providerData,l),u=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),p=u?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Ay(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function PD(t){const e=Gs(t);await uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oT(t){return t.map(e=>{var{providerId:s}=e,r=L0(e,["providerId"]);return{providerId:s,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){const s=await nT(t,{},async()=>{const r=bh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=iT(t,i,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",sT.fetch()(l,{method:"POST",headers:d,body:r})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function MD(t,e){return ud(t,"POST","/v2/accounts:revokeToken",Qf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken!="undefined","internal-error"),at(typeof e.refreshToken!="undefined","internal-error");const s="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):p2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){at(e.length!==0,"internal-error");const s=p2(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:i,expiresIn:a}=await DD(e,s);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:i,expirationTime:a}=s,l=new $c;return r&&(at(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(at(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $c,this.toJSON())}_performRefresh(){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,e){at(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class ca{constructor(e){var{uid:s,auth:r,stsTokenManager:i}=e,a=L0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ay(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const s=await Zu(this,this.stsTokenManager.getToken(this.auth,e));return at(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return AD(this,e)}reload(){return PD(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new ca(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await uf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oa(this.auth.app))return Promise.reject(fo(this.auth));const e=await this.getIdToken();return await Zu(this,ED(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var r,i,a,l,d,u,h,p;const g=(r=s.displayName)!==null&&r!==void 0?r:void 0,v=(i=s.email)!==null&&i!==void 0?i:void 0,b=(a=s.phoneNumber)!==null&&a!==void 0?a:void 0,S=(l=s.photoURL)!==null&&l!==void 0?l:void 0,E=(d=s.tenantId)!==null&&d!==void 0?d:void 0,I=(u=s._redirectEventId)!==null&&u!==void 0?u:void 0,F=(h=s.createdAt)!==null&&h!==void 0?h:void 0,D=(p=s.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:y,isAnonymous:j,providerData:M,stsTokenManager:k}=s;at(A&&k,e,"internal-error");const w=$c.fromJSON(this.name,k);at(typeof A=="string",e,"internal-error"),Qa(g,e.name),Qa(v,e.name),at(typeof y=="boolean",e,"internal-error"),at(typeof j=="boolean",e,"internal-error"),Qa(b,e.name),Qa(S,e.name),Qa(E,e.name),Qa(I,e.name),Qa(F,e.name),Qa(D,e.name);const C=new ca({uid:A,auth:e,email:v,emailVerified:y,displayName:g,isAnonymous:j,photoURL:S,phoneNumber:b,tenantId:E,stsTokenManager:w,createdAt:F,lastLoginAt:D});return M&&Array.isArray(M)&&(C.providerData=M.map(L=>Object.assign({},L))),I&&(C._redirectEventId=I),C}static async _fromIdTokenResponse(e,s,r=!1){const i=new $c;i.updateFromServerResponse(s);const a=new ca({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uf(a),a}static async _fromGetAccountInfoResponse(e,s,r){const i=s.users[0];at(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?oT(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),d=new $c;d.updateFromIdToken(r);const u=new ca({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ay(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new Map;function da(t){va(t instanceof Function,"Expected a class definition");let e=f2.get(t);return e?(va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}lT.type="NONE";const g2=lT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t,e,s){return`firebase:${t}:${e}:${s}`}class Oc{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=$p(this.userKey,i.apiKey,a),this.fullPersistenceKey=$p("persistence",i.apiKey,a),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ca._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new Oc(da(g2),e,r);const i=(await Promise.all(s.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||da(g2);const l=$p(r,e.config.apiKey,e.name);let d=null;for(const h of s)try{const p=await h._get(l);if(p){const g=ca._fromJSON(e,p);h!==a&&(d=g),a=h;break}}catch(p){}const u=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Oc(a,e,r):(a=u[0],d&&await a._set(l,d.toJSON()),await Promise.all(s.map(async h=>{if(h!==a)try{await h._remove(l)}catch(p){}})),new Oc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pT(e))return"Blackberry";if(fT(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||uT(e))&&!e.includes("edge/"))return"Chrome";if(mT(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cT(t=An()){return/firefox\//i.test(t)}function dT(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uT(t=An()){return/crios\//i.test(t)}function hT(t=An()){return/iemobile/i.test(t)}function mT(t=An()){return/android/i.test(t)}function pT(t=An()){return/blackberry/i.test(t)}function fT(t=An()){return/webos/i.test(t)}function B0(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FD(t=An()){var e;return B0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BD(){return eL()&&document.documentMode===10}function gT(t=An()){return B0(t)||mT(t)||fT(t)||pT(t)||/windows phone/i.test(t)||hT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t,e=[]){let s;switch(t){case"Browser":s=x2(An());break;case"Worker":s=`${x2(An())}-${t}`;break;default:s=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${dd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=a=>new Promise((l,d)=>{try{const u=e(a);l(u)}catch(u){d(u)}});r.onAbort=s,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch(a){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e={}){return ud(t,"GET","/v2/passwordPolicy",Qf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=6;class UD{constructor(e){var s,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=l.minPasswordLength)!==null&&s!==void 0?s:VD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,r,i,a,l,d;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(s=u.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNumericCharacter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(d=u.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),u}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),i&&(s.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,s,r,i){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v2(this),this.idTokenSubscription=new v2(this),this.beforeStateQueue=new $D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=da(s)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Oc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(s),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await aT(this,{idToken:e}),r=await ca._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(oa(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,d=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===d)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await uf(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ND()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oa(this.app))return Promise.reject(fo(this));const s=e?Gs(e):null;return s&&at(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oa(this.app)?Promise.reject(fo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oa(this.app)?Promise.reject(fo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OD(this),s=new UD(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yh("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await MD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&da(e)||this._popupRedirectResolver;at(s,this,"argument-error"),this.redirectPersistenceManager=await Oc.create(this,[da(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,i){if(this._deleted)return()=>{};const a=typeof s=="function"?s:s.next.bind(s);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof s=="function"){const u=e.addObserver(s,r,i);return()=>{l=!0,u()}}else{const u=e.addObserver(s);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(s["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(s["X-Firebase-AppCheck"]=i),s}async _getAppCheckToken(){var e;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&wD(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function Xf(t){return Gs(t)}class v2{constructor(e){this.auth=e,this.observer=null,this.addObserver=lL(s=>this.observer=s)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HD(t){$0=t}function GD(t){return $0.loadJS(t)}function WD(){return $0.gapiScript}function qD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t,e){const s=R0(t,"auth");if(s.isInitialized()){const i=s.getImmediate(),a=s.getOptions();if(cf(a,e!=null?e:{}))return i;xa(i,"already-initialized")}return s.initialize({options:e})}function QD(t,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(da);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XD(t,e,s){const r=Xf(t);at(r._canInitEmulator,r,"emulator-config-failed"),at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=vT(e),{host:l,port:d}=YD(e),u=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${l}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),JD()}function vT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YD(t){const e=vT(t),s=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:y2(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:y2(l)}}}function y2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JD(){function t(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return la("not implemented")}_getIdTokenResponse(e){return la("not implemented")}_linkToIdToken(e,s){return la("not implemented")}_getReauthenticationResolver(e){return la("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t,e){return rT(t,"POST","/v1/accounts:signInWithIdp",Qf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="http://localhost";class bl extends yT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):xa("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=s,a=L0(s,["providerId","signInMethod"]);if(!r||!i)return null;const l=new bl(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const s=this.buildRequest();return Vc(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Vc(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Vc(e,s)}buildRequest(){const e={requestUri:ZD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=bh(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends bT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends wh{constructor(){super("facebook.com")}static credential(e){return bl._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch(s){return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return bl._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return ro.credential(s,r)}catch(i){return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends wh{constructor(){super("github.com")}static credential(e){return bl._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return io.credential(e.oauthAccessToken)}catch(s){return null}}}io.GITHUB_SIGN_IN_METHOD="github.com";io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends wh{constructor(){super("twitter.com")}static credential(e,s){return bl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return ao.credential(s,r)}catch(i){return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,i=!1){const a=await ca._fromIdTokenResponse(e,r,i),l=b2(r);return new _l({user:a,providerId:l,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const i=b2(r);return new _l({user:e,providerId:i,_tokenResponse:r,operationType:s})}}function b2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Sa{constructor(e,s,r,i){var a;super(s.code,s.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,i){return new hf(e,s,r,i)}}function _T(t,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(t):s._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,a,e,r):a})}async function e8(t,e,s=!1){const r=await Zu(t,e._linkToIdToken(t.auth,await t.getIdToken()),s);return _l._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(t,e,s=!1){const{auth:r}=t;if(oa(r.app))return Promise.reject(fo(r));const i="reauthenticate";try{const a=await Zu(t,_T(r,i,e,t),s);at(a.idToken,r,"internal-error");const l=F0(a.idToken);at(l,r,"internal-error");const{sub:d}=l;return at(t.uid===d,r,"user-mismatch"),_l._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&xa(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(t,e,s=!1){if(oa(t.app))return Promise.reject(fo(t));const r="signIn",i=await _T(t,r,e),a=await _l._fromIdTokenResponse(t,r,i);return s||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t,e){return rT(t,"POST","/v1/accounts:signInWithCustomToken",Qf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(t,e){if(oa(t.app))return Promise.reject(fo(t));const s=Xf(t),r=await n8(s,{token:e,returnSecureToken:!0}),i=await _l._fromIdTokenResponse(s,"signIn",r);return await s._updateCurrentUser(i.user),i}function i8(t,e,s,r){return Gs(t).onIdTokenChanged(e,s,r)}function a8(t,e,s){return Gs(t).beforeAuthStateChanged(e,s)}function o8(t,e,s,r){return Gs(t).onAuthStateChanged(e,s,r)}function l8(t){return Gs(t).signOut()}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=1e3,d8=10;class jT extends wT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),i=this.localCache[s];r!==i&&e(s,i,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((l,d,u)=>{this.notifyListeners(l,u)});return}const r=e.key;s?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!s&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);BD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d8):i()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},c8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}jT.type="LOCAL";const u8=jT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends wT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}ST.type="SESSION";const NT=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(i=>i.isListeningto(e));if(s)return s;const r=new Yf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:i,data:a}=s.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(l).map(async h=>h(s.origin,a)),u=await h8(d);s.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return t+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((d,u)=>{const h=O0("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(v.data.response);break;default:clearTimeout(p),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:s},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function p8(t){Ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){return typeof Ci().WorkerGlobalScope!="undefined"&&typeof Ci().importScripts=="function"}async function f8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function g8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function x8(){return kT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebaseLocalStorageDb",v8=1,pf="firebaseLocalStorage",CT="fbase_key";class jh{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Jf(t,e){return t.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function y8(){const t=indexedDB.deleteDatabase(TT);return new jh(t).toPromise()}function Iy(){const t=indexedDB.open(TT,v8);return new Promise((e,s)=>{t.addEventListener("error",()=>{s(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pf,{keyPath:CT})}catch(i){s(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pf)?e(r):(r.close(),await y8(),e(await Iy()))})})}async function _2(t,e,s){const r=Jf(t,!0).put({[CT]:e,value:s});return new jh(r).toPromise()}async function b8(t,e){const s=Jf(t,!1).get(e),r=await new jh(s).toPromise();return r===void 0?null:r.value}function w2(t,e){const s=Jf(t,!0).delete(e);return new jh(s).toPromise()}const _8=800,w8=3;class ET{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>w8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(x8()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await f8(),!this.activeServiceWorker)return;this.sender=new m8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((s=r[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(s){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await _2(e,mf,"1"),await w2(e,mf),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>_2(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>b8(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>w2(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Jf(i,!1).getAll();return new jh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ET.type="LOCAL";const j8=ET;new _h(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t,e){return e?da(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends yT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vc(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Vc(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Vc(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function N8(t){return s8(t.auth,new V0(t),t.bypassAuthState)}function k8(t){const{auth:e,user:s}=t;return at(s,e,"internal-error"),t8(s,new V0(t),t.bypassAuthState)}async function T8(t){const{auth:e,user:s}=t;return at(s,e,"internal-error"),e8(s,new V0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,s,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:i,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:s,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N8;case"linkViaPopup":case"linkViaRedirect":return T8;case"reauthViaPopup":case"reauthViaRedirect":return k8;default:xa(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=new _h(2e3,1e4);class Ic extends AT{constructor(e,s,r,i,a){super(e,s,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ic.currentPopupAction&&Ic.currentPopupAction.cancel(),Ic.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=O0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ic.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if(!((r=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C8.get())};e()}}Ic.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="pendingRedirect",Op=new Map;class A8 extends AT{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Op.get(this.auth._key());if(!e){try{const r=await I8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Op.set(this.auth._key(),e)}return this.bypassAuthState||Op.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I8(t,e){const s=L8(e),r=P8(t);if(!await r._isAvailable())return!1;const i=await r._get(s)==="true";return await r._remove(s),i}function R8(t,e){Op.set(t._key(),e)}function P8(t){return da(t._redirectPersistence)}function L8(t){return $p(E8,t.config.apiKey,t.name)}async function D8(t,e,s=!1){if(oa(t.app))return Promise.reject(fo(t));const r=Xf(t),i=S8(r,e),l=await new A8(r,i,s).execute();return l&&!s&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=600*1e3;class F8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B8(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!IT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";s.onError(Ti(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M8&&this.cachedEventUids.clear(),this.cachedEventUids.has(j2(e))}saveEventToCache(e){this.cachedEventUids.add(j2(e)),this.lastProcessedEventTime=Date.now()}}function j2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function B8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(t,e={}){return ud(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V8=/^https?/;async function U8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $8(t);for(const s of e)try{if(z8(s))return}catch(r){}xa(t,"unauthorized-domain")}function z8(t){const e=Ey(),{protocol:s,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?s==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&l.hostname===r}if(!V8.test(s))return!1;if(O8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=new _h(3e4,6e4);function S2(){const t=Ci().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let s=0;s<t.CP.length;s++)t.CP[s]=null}}function G8(t){return new Promise((e,s)=>{var r,i,a;function l(){S2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S2(),s(Ti(t,"network-request-failed"))},timeout:H8.get()})}if(!((i=(r=Ci().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ci().gapi)===null||a===void 0)&&a.load)l();else{const d=qD("iframefcb");return Ci()[d]=()=>{gapi.load?l():s(Ti(t,"network-request-failed"))},GD(`${WD()}?onload=${d}`).catch(u=>s(u))}}).catch(e=>{throw Vp=null,e})}let Vp=null;function W8(t){return Vp=Vp||G8(t),Vp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=new _h(5e3,15e3),K8="__/auth/iframe",Q8="emulator/auth/iframe",X8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J8(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const s=e.emulator?M0(e,Q8):`https://${t.config.authDomain}/${K8}`,r={apiKey:e.apiKey,appName:t.name,v:dd},i=Y8.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${s}?${bh(r).slice(1)}`}async function Z8(t){const e=await W8(t),s=Ci().gapi;return at(s,t,"internal-error"),e.open({where:document.body,url:J8(t),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X8,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Ti(t,"network-request-failed"),d=Ci().setTimeout(()=>{a(l)},q8.get());function u(){Ci().clearTimeout(d),i(r)}r.ping(u).then(u,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t9=500,s9=600,n9="_blank",r9="http://localhost";class N2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function i9(t,e,s,r=t9,i=s9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const u=Object.assign(Object.assign({},e9),{width:r.toString(),height:i.toString(),top:a,left:l}),h=An().toLowerCase();s&&(d=uT(h)?n9:s),cT(h)&&(e=e||r9,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[b,S])=>`${v}${b}=${S},`,"");if(FD(h)&&d!=="_self")return a9(e||"",d),new N2(null);const g=window.open(e||"",d,p);at(g,t,"popup-blocked");try{g.focus()}catch(v){}return new N2(g)}function a9(t,e){const s=document.createElement("a");s.href=t,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="__/auth/handler",l9="emulator/auth/handler",c9=encodeURIComponent("fac");async function k2(t,e,s,r,i,a){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:s,redirectUrl:r,v:dd,eventId:i};if(e instanceof bT){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",oL(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof wh){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const u=await t._getAppCheckToken(),h=u?`#${c9}=${encodeURIComponent(u)}`:"";return`${d9(t)}?${bh(d).slice(1)}${h}`}function d9({config:t}){return t.emulator?M0(t,l9):`https://${t.authDomain}/${o9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="webStorageSupport";class u9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=D8,this._overrideRedirectResult=R8}async _openPopup(e,s,r,i){var a;va((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await k2(e,s,r,Ey(),i);return i9(e,l,O0())}async _openRedirect(e,s,r,i){await this._originValidation(e);const a=await k2(e,s,r,Ey(),i);return p8(a),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:i,promise:a}=this.eventManagers[s];return i?Promise.resolve(i):(va(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await Z8(e),r=new F8(e);return s.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(gv,{type:gv},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[gv];l!==void 0&&s(!!l),xa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=U8(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return gT()||dT()||B0()}}const h9=u9;var T2="@firebase/auth",C2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f9(t){Wc(new yl("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;at(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xT(t)},h=new zD(r,i,a,u);return QD(h,s),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Wc(new yl("auth-internal",e=>{const s=Xf(e.getProvider("auth").getImmediate());return(r=>new m9(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),po(T2,C2,p9(t)),po(T2,C2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=300,x9=qk("authIdTokenMaxAge")||g9;let E2=null;const v9=t=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>x9)return;const i=s==null?void 0:s.token;E2!==i&&(E2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function y9(t=P0()){const e=R0(t,"auth");if(e.isInitialized())return e.getImmediate();const s=KD(t,{popupRedirectResolver:h9,persistence:[j8,u8,NT]}),r=qk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=v9(a.toString());a8(s,l,()=>l(s.currentUser)),i8(s,d=>l(d))}}const i=Gk("auth");return i&&XD(s,`http://${i}`),s}function b9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}HD({loadJS(t){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ti("internal-error");a.customData=i,s(a)},r.type="text/javascript",r.charset="UTF-8",b9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f9("Browser");var A2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fl,RT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,w){function C(){}C.prototype=w.prototype,k.D=w.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(L,P,O){for(var $=Array(arguments.length-2),W=2;W<arguments.length;W++)$[W-2]=arguments[W];return w.prototype[P].apply(L,$)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,s),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,w,C){C||(C=0);var L=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)L[P]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(P=0;16>P;++P)L[P]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=k.g[0],C=k.g[1],P=k.g[2];var O=k.g[3],$=w+(O^C&(P^O))+L[0]+3614090360&4294967295;w=C+($<<7&4294967295|$>>>25),$=O+(P^w&(C^P))+L[1]+3905402710&4294967295,O=w+($<<12&4294967295|$>>>20),$=P+(C^O&(w^C))+L[2]+606105819&4294967295,P=O+($<<17&4294967295|$>>>15),$=C+(w^P&(O^w))+L[3]+3250441966&4294967295,C=P+($<<22&4294967295|$>>>10),$=w+(O^C&(P^O))+L[4]+4118548399&4294967295,w=C+($<<7&4294967295|$>>>25),$=O+(P^w&(C^P))+L[5]+1200080426&4294967295,O=w+($<<12&4294967295|$>>>20),$=P+(C^O&(w^C))+L[6]+2821735955&4294967295,P=O+($<<17&4294967295|$>>>15),$=C+(w^P&(O^w))+L[7]+4249261313&4294967295,C=P+($<<22&4294967295|$>>>10),$=w+(O^C&(P^O))+L[8]+1770035416&4294967295,w=C+($<<7&4294967295|$>>>25),$=O+(P^w&(C^P))+L[9]+2336552879&4294967295,O=w+($<<12&4294967295|$>>>20),$=P+(C^O&(w^C))+L[10]+4294925233&4294967295,P=O+($<<17&4294967295|$>>>15),$=C+(w^P&(O^w))+L[11]+2304563134&4294967295,C=P+($<<22&4294967295|$>>>10),$=w+(O^C&(P^O))+L[12]+1804603682&4294967295,w=C+($<<7&4294967295|$>>>25),$=O+(P^w&(C^P))+L[13]+4254626195&4294967295,O=w+($<<12&4294967295|$>>>20),$=P+(C^O&(w^C))+L[14]+2792965006&4294967295,P=O+($<<17&4294967295|$>>>15),$=C+(w^P&(O^w))+L[15]+1236535329&4294967295,C=P+($<<22&4294967295|$>>>10),$=w+(P^O&(C^P))+L[1]+4129170786&4294967295,w=C+($<<5&4294967295|$>>>27),$=O+(C^P&(w^C))+L[6]+3225465664&4294967295,O=w+($<<9&4294967295|$>>>23),$=P+(w^C&(O^w))+L[11]+643717713&4294967295,P=O+($<<14&4294967295|$>>>18),$=C+(O^w&(P^O))+L[0]+3921069994&4294967295,C=P+($<<20&4294967295|$>>>12),$=w+(P^O&(C^P))+L[5]+3593408605&4294967295,w=C+($<<5&4294967295|$>>>27),$=O+(C^P&(w^C))+L[10]+38016083&4294967295,O=w+($<<9&4294967295|$>>>23),$=P+(w^C&(O^w))+L[15]+3634488961&4294967295,P=O+($<<14&4294967295|$>>>18),$=C+(O^w&(P^O))+L[4]+3889429448&4294967295,C=P+($<<20&4294967295|$>>>12),$=w+(P^O&(C^P))+L[9]+568446438&4294967295,w=C+($<<5&4294967295|$>>>27),$=O+(C^P&(w^C))+L[14]+3275163606&4294967295,O=w+($<<9&4294967295|$>>>23),$=P+(w^C&(O^w))+L[3]+4107603335&4294967295,P=O+($<<14&4294967295|$>>>18),$=C+(O^w&(P^O))+L[8]+1163531501&4294967295,C=P+($<<20&4294967295|$>>>12),$=w+(P^O&(C^P))+L[13]+2850285829&4294967295,w=C+($<<5&4294967295|$>>>27),$=O+(C^P&(w^C))+L[2]+4243563512&4294967295,O=w+($<<9&4294967295|$>>>23),$=P+(w^C&(O^w))+L[7]+1735328473&4294967295,P=O+($<<14&4294967295|$>>>18),$=C+(O^w&(P^O))+L[12]+2368359562&4294967295,C=P+($<<20&4294967295|$>>>12),$=w+(C^P^O)+L[5]+4294588738&4294967295,w=C+($<<4&4294967295|$>>>28),$=O+(w^C^P)+L[8]+2272392833&4294967295,O=w+($<<11&4294967295|$>>>21),$=P+(O^w^C)+L[11]+1839030562&4294967295,P=O+($<<16&4294967295|$>>>16),$=C+(P^O^w)+L[14]+4259657740&4294967295,C=P+($<<23&4294967295|$>>>9),$=w+(C^P^O)+L[1]+2763975236&4294967295,w=C+($<<4&4294967295|$>>>28),$=O+(w^C^P)+L[4]+1272893353&4294967295,O=w+($<<11&4294967295|$>>>21),$=P+(O^w^C)+L[7]+4139469664&4294967295,P=O+($<<16&4294967295|$>>>16),$=C+(P^O^w)+L[10]+3200236656&4294967295,C=P+($<<23&4294967295|$>>>9),$=w+(C^P^O)+L[13]+681279174&4294967295,w=C+($<<4&4294967295|$>>>28),$=O+(w^C^P)+L[0]+3936430074&4294967295,O=w+($<<11&4294967295|$>>>21),$=P+(O^w^C)+L[3]+3572445317&4294967295,P=O+($<<16&4294967295|$>>>16),$=C+(P^O^w)+L[6]+76029189&4294967295,C=P+($<<23&4294967295|$>>>9),$=w+(C^P^O)+L[9]+3654602809&4294967295,w=C+($<<4&4294967295|$>>>28),$=O+(w^C^P)+L[12]+3873151461&4294967295,O=w+($<<11&4294967295|$>>>21),$=P+(O^w^C)+L[15]+530742520&4294967295,P=O+($<<16&4294967295|$>>>16),$=C+(P^O^w)+L[2]+3299628645&4294967295,C=P+($<<23&4294967295|$>>>9),$=w+(P^(C|~O))+L[0]+4096336452&4294967295,w=C+($<<6&4294967295|$>>>26),$=O+(C^(w|~P))+L[7]+1126891415&4294967295,O=w+($<<10&4294967295|$>>>22),$=P+(w^(O|~C))+L[14]+2878612391&4294967295,P=O+($<<15&4294967295|$>>>17),$=C+(O^(P|~w))+L[5]+4237533241&4294967295,C=P+($<<21&4294967295|$>>>11),$=w+(P^(C|~O))+L[12]+1700485571&4294967295,w=C+($<<6&4294967295|$>>>26),$=O+(C^(w|~P))+L[3]+2399980690&4294967295,O=w+($<<10&4294967295|$>>>22),$=P+(w^(O|~C))+L[10]+4293915773&4294967295,P=O+($<<15&4294967295|$>>>17),$=C+(O^(P|~w))+L[1]+2240044497&4294967295,C=P+($<<21&4294967295|$>>>11),$=w+(P^(C|~O))+L[8]+1873313359&4294967295,w=C+($<<6&4294967295|$>>>26),$=O+(C^(w|~P))+L[15]+4264355552&4294967295,O=w+($<<10&4294967295|$>>>22),$=P+(w^(O|~C))+L[6]+2734768916&4294967295,P=O+($<<15&4294967295|$>>>17),$=C+(O^(P|~w))+L[13]+1309151649&4294967295,C=P+($<<21&4294967295|$>>>11),$=w+(P^(C|~O))+L[4]+4149444226&4294967295,w=C+($<<6&4294967295|$>>>26),$=O+(C^(w|~P))+L[11]+3174756917&4294967295,O=w+($<<10&4294967295|$>>>22),$=P+(w^(O|~C))+L[2]+718787259&4294967295,P=O+($<<15&4294967295|$>>>17),$=C+(O^(P|~w))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(P+($<<21&4294967295|$>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+O&4294967295}r.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var C=w-this.blockSize,L=this.B,P=this.h,O=0;O<w;){if(P==0)for(;O<=C;)i(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<w;)if(L[P++]=k.charCodeAt(O++),P==this.blockSize){i(this,L),P=0;break}}else for(;O<w;)if(L[P++]=k[O++],P==this.blockSize){i(this,L),P=0;break}}this.h=P,this.o+=w},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var C=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=C&255,C/=256;for(this.u(k),k=Array(16),w=C=0;4>w;++w)for(var L=0;32>L;L+=8)k[C++]=this.g[w]>>>L&255;return k};function a(k,w){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=w(k)}function l(k,w){this.h=w;for(var C=[],L=!0,P=k.length-1;0<=P;P--){var O=k[P]|0;L&&O==w||(C[P]=O,L=!1)}this.g=C}var d={};function u(k){return-128<=k&&128>k?a(k,function(w){return new l([w|0],0>w?-1:0)}):new l([k|0],0>k?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return g;if(0>k)return I(h(-k));for(var w=[],C=1,L=0;k>=C;L++)w[L]=k/C|0,C*=4294967296;return new l(w,0)}function p(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return I(p(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(w,8)),L=g,P=0;P<k.length;P+=8){var O=Math.min(8,k.length-P),$=parseInt(k.substring(P,P+O),w);8>O?(O=h(Math.pow(w,O)),L=L.j(O).add(h($))):(L=L.j(C),L=L.add(h($)))}return L}var g=u(0),v=u(1),b=u(16777216);t=l.prototype,t.m=function(){if(E(this))return-I(this).m();for(var k=0,w=1,C=0;C<this.g.length;C++){var L=this.i(C);k+=(0<=L?L:4294967296+L)*w,w*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(E(this))return"-"+I(this).toString(k);for(var w=h(Math.pow(k,6)),C=this,L="";;){var P=y(C,w).g;C=F(C,P.j(w));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=P,S(C))return O+L;for(;6>O.length;)O="0"+O;L=O+L}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function E(k){return k.h==-1}t.l=function(k){return k=F(this,k),E(k)?-1:S(k)?0:1};function I(k){for(var w=k.g.length,C=[],L=0;L<w;L++)C[L]=~k.g[L];return new l(C,~k.h).add(v)}t.abs=function(){return E(this)?I(this):this},t.add=function(k){for(var w=Math.max(this.g.length,k.g.length),C=[],L=0,P=0;P<=w;P++){var O=L+(this.i(P)&65535)+(k.i(P)&65535),$=(O>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);L=$>>>16,O&=65535,$&=65535,C[P]=$<<16|O}return new l(C,C[C.length-1]&-2147483648?-1:0)};function F(k,w){return k.add(I(w))}t.j=function(k){if(S(this)||S(k))return g;if(E(this))return E(k)?I(this).j(I(k)):I(I(this).j(k));if(E(k))return I(this.j(I(k)));if(0>this.l(b)&&0>k.l(b))return h(this.m()*k.m());for(var w=this.g.length+k.g.length,C=[],L=0;L<2*w;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(var P=0;P<k.g.length;P++){var O=this.i(L)>>>16,$=this.i(L)&65535,W=k.i(P)>>>16,H=k.i(P)&65535;C[2*L+2*P]+=$*H,D(C,2*L+2*P),C[2*L+2*P+1]+=O*H,D(C,2*L+2*P+1),C[2*L+2*P+1]+=$*W,D(C,2*L+2*P+1),C[2*L+2*P+2]+=O*W,D(C,2*L+2*P+2)}for(L=0;L<w;L++)C[L]=C[2*L+1]<<16|C[2*L];for(L=w;L<2*w;L++)C[L]=0;return new l(C,0)};function D(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function A(k,w){this.g=k,this.h=w}function y(k,w){if(S(w))throw Error("division by zero");if(S(k))return new A(g,g);if(E(k))return w=y(I(k),w),new A(I(w.g),I(w.h));if(E(w))return w=y(k,I(w)),new A(I(w.g),w.h);if(30<k.g.length){if(E(k)||E(w))throw Error("slowDivide_ only works with positive integers.");for(var C=v,L=w;0>=L.l(k);)C=j(C),L=j(L);var P=M(C,1),O=M(L,1);for(L=M(L,2),C=M(C,2);!S(L);){var $=O.add(L);0>=$.l(k)&&(P=P.add(C),O=$),L=M(L,1),C=M(C,1)}return w=F(k,P.j(w)),new A(P,w)}for(P=g;0<=k.l(w);){for(C=Math.max(1,Math.floor(k.m()/w.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),O=h(C),$=O.j(w);E($)||0<$.l(k);)C-=L,O=h(C),$=O.j(w);S(O)&&(O=v),P=P.add(O),k=F(k,$)}return new A(P,k)}t.A=function(k){return y(this,k).h},t.and=function(k){for(var w=Math.max(this.g.length,k.g.length),C=[],L=0;L<w;L++)C[L]=this.i(L)&k.i(L);return new l(C,this.h&k.h)},t.or=function(k){for(var w=Math.max(this.g.length,k.g.length),C=[],L=0;L<w;L++)C[L]=this.i(L)|k.i(L);return new l(C,this.h|k.h)},t.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),C=[],L=0;L<w;L++)C[L]=this.i(L)^k.i(L);return new l(C,this.h^k.h)};function j(k){for(var w=k.g.length+1,C=[],L=0;L<w;L++)C[L]=k.i(L)<<1|k.i(L-1)>>>31;return new l(C,k.h)}function M(k,w){var C=w>>5;w%=32;for(var L=k.g.length-C,P=[],O=0;O<L;O++)P[O]=0<w?k.i(O+C)>>>w|k.i(O+C+1)<<32-w:k.i(O+C);return new l(P,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,fl=l}).apply(typeof A2!="undefined"?A2:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var op=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PT,bu,LT,Up,Ry,DT,MT,FT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,N,B){return f==Array.prototype||f==Object.prototype||(f[N]=B.value),f};function s(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof op=="object"&&op];for(var N=0;N<f.length;++N){var B=f[N];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=s(this);function i(f,N){if(N)e:{var B=r;f=f.split(".");for(var U=0;U<f.length-1;U++){var ae=f[U];if(!(ae in B))break e;B=B[ae]}f=f[f.length-1],U=B[f],N=N(U),N!=U&&N!=null&&e(B,f,{configurable:!0,writable:!0,value:N})}}function a(f,N){f instanceof String&&(f+="");var B=0,U=!1,ae={next:function(){if(!U&&B<f.length){var he=B++;return{value:N(he,f[he]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(f){return f||function(){return a(this,function(N,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function u(f){var N=typeof f;return N=N!="object"?N:f?Array.isArray(f)?"array":N:"null",N=="array"||N=="object"&&typeof f.length=="number"}function h(f){var N=typeof f;return N=="object"&&f!=null||N=="function"}function p(f,N,B){return f.call.apply(f.bind,arguments)}function g(f,N,B){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,U),f.apply(N,ae)}}return function(){return f.apply(N,arguments)}}function v(f,N,B){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,v.apply(null,arguments)}function b(f,N){var B=Array.prototype.slice.call(arguments,1);return function(){var U=B.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function S(f,N){function B(){}B.prototype=N.prototype,f.aa=N.prototype,f.prototype=new B,f.prototype.constructor=f,f.Qb=function(U,ae,he){for(var Pe=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Pe[Ot-2]=arguments[Ot];return N.prototype[ae].apply(U,Pe)}}function E(f){const N=f.length;if(0<N){const B=Array(N);for(let U=0;U<N;U++)B[U]=f[U];return B}return[]}function I(f,N){for(let B=1;B<arguments.length;B++){const U=arguments[B];if(u(U)){const ae=f.length||0,he=U.length||0;f.length=ae+he;for(let Pe=0;Pe<he;Pe++)f[ae+Pe]=U[Pe]}else f.push(U)}}class F{constructor(N,B){this.i=N,this.j=B,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function D(f){return/^[\s\xa0]*$/.test(f)}function A(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function y(f){return y[" "](f),f}y[" "]=function(){};var j=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function M(f,N,B){for(const U in f)N.call(B,f[U],U,f)}function k(f,N){for(const B in f)N.call(void 0,f[B],B,f)}function w(f){const N={};for(const B in f)N[B]=f[B];return N}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,N){let B,U;for(let ae=1;ae<arguments.length;ae++){U=arguments[ae];for(B in U)f[B]=U[B];for(let he=0;he<C.length;he++)B=C[he],Object.prototype.hasOwnProperty.call(U,B)&&(f[B]=U[B])}}function P(f){var N=1;f=f.split(":");const B=[];for(;0<N&&f.length;)B.push(f.shift()),N--;return f.length&&B.push(f.join(":")),B}function O(f){d.setTimeout(()=>{throw f},0)}function $(){var f=J;let N=null;return f.g&&(N=f.g,f.g=f.g.next,f.g||(f.h=null),N.next=null),N}class W{constructor(){this.h=this.g=null}add(N,B){const U=H.get();U.set(N,B),this.h?this.h.next=U:this.g=U,this.h=U}}var H=new F(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(N,B){this.h=N,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,G=!1,J=new W,ne=()=>{const f=d.Promise.resolve(void 0);Q=()=>{f.then(z)}};var z=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(B){O(B)}var N=H;N.j(f),100>N.h&&(N.h++,f.next=N.g,N.g=f)}G=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,N){this.type=f,this.g=this.target=N,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var te=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,N=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const B=()=>{};d.addEventListener("test",B,N),d.removeEventListener("test",B,N)}catch(B){}return f})();function fe(f,N){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var B=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=N,N=f.relatedTarget){if(j){e:{try{y(N.nodeName);var ae=!0;break e}catch(he){}ae=!1}ae||(N=null)}}else B=="mouseover"?N=f.fromElement:B=="mouseout"&&(N=f.toElement);this.relatedTarget=N,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ce[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&fe.aa.h.call(this)}}S(fe,ce);var Ce={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Te=0;function ke(f,N,B,U,ae){this.listener=f,this.proxy=null,this.src=N,this.type=B,this.capture=!!U,this.ha=ae,this.key=++Te,this.da=this.fa=!1}function ue(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Le(f){this.src=f,this.g={},this.h=0}Le.prototype.add=function(f,N,B,U,ae){var he=f.toString();f=this.g[he],f||(f=this.g[he]=[],this.h++);var Pe=et(f,N,U,ae);return-1<Pe?(N=f[Pe],B||(N.fa=!1)):(N=new ke(N,this.src,he,!!U,ae),N.fa=B,f.push(N)),N};function Ae(f,N){var B=N.type;if(B in f.g){var U=f.g[B],ae=Array.prototype.indexOf.call(U,N,void 0),he;(he=0<=ae)&&Array.prototype.splice.call(U,ae,1),he&&(ue(N),f.g[B].length==0&&(delete f.g[B],f.h--))}}function et(f,N,B,U){for(var ae=0;ae<f.length;++ae){var he=f[ae];if(!he.da&&he.listener==N&&he.capture==!!B&&he.ha==U)return ae}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),Jt={};function Ts(f,N,B,U,ae){if(Array.isArray(N)){for(var he=0;he<N.length;he++)Ts(f,N[he],B,U,ae);return null}return B=rs(B),f&&f[ge]?f.K(N,B,h(U)?!!U.capture:!1,ae):Cs(f,N,B,!1,U,ae)}function Cs(f,N,B,U,ae,he){if(!N)throw Error("Invalid event type");var Pe=h(ae)?!!ae.capture:!!ae,Ot=Is(f);if(Ot||(f[pt]=Ot=new Le(f)),B=Ot.add(N,B,U,Pe,he),B.proxy)return B;if(U=bn(),B.proxy=U,U.src=f,U.listener=B,f.addEventListener)te||(ae=Pe),ae===void 0&&(ae=!1),f.addEventListener(N.toString(),U,ae);else if(f.attachEvent)f.attachEvent(As(N.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return B}function bn(){function f(B){return N.call(f.src,f.listener,B)}const N=qs;return f}function Os(f,N,B,U,ae){if(Array.isArray(N))for(var he=0;he<N.length;he++)Os(f,N[he],B,U,ae);else U=h(U)?!!U.capture:!!U,B=rs(B),f&&f[ge]?(f=f.i,N=String(N).toString(),N in f.g&&(he=f.g[N],B=et(he,B,U,ae),-1<B&&(ue(he[B]),Array.prototype.splice.call(he,B,1),he.length==0&&(delete f.g[N],f.h--)))):f&&(f=Is(f))&&(N=f.g[N.toString()],f=-1,N&&(f=et(N,B,U,ae)),(B=-1<f?N[f]:null)&&Es(B))}function Es(f){if(typeof f!="number"&&f&&!f.da){var N=f.src;if(N&&N[ge])Ae(N.i,f);else{var B=f.type,U=f.proxy;N.removeEventListener?N.removeEventListener(B,U,f.capture):N.detachEvent?N.detachEvent(As(B),U):N.addListener&&N.removeListener&&N.removeListener(U),(B=Is(N))?(Ae(B,f),B.h==0&&(B.src=null,N[pt]=null)):ue(f)}}}function As(f){return f in Jt?Jt[f]:Jt[f]="on"+f}function qs(f,N){if(f.da)f=!0;else{N=new fe(N,this);var B=f.listener,U=f.ha||f.src;f.fa&&Es(f),f=B.call(U,N)}return f}function Is(f){return f=f[pt],f instanceof Le?f:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rs(f){return typeof f=="function"?f:(f[sn]||(f[sn]=function(N){return f.handleEvent(N)}),f[sn])}function Se(){ee.call(this),this.i=new Le(this),this.M=this,this.F=null}S(Se,ee),Se.prototype[ge]=!0,Se.prototype.removeEventListener=function(f,N,B,U){Os(this,f,N,B,U)};function Ke(f,N){var B,U=f.F;if(U)for(B=[];U;U=U.F)B.push(U);if(f=f.M,U=N.type||N,typeof N=="string")N=new ce(N,f);else if(N instanceof ce)N.target=N.target||f;else{var ae=N;N=new ce(U,f),L(N,ae)}if(ae=!0,B)for(var he=B.length-1;0<=he;he--){var Pe=N.g=B[he];ae=Oe(Pe,U,!0,N)&&ae}if(Pe=N.g=f,ae=Oe(Pe,U,!0,N)&&ae,ae=Oe(Pe,U,!1,N)&&ae,B)for(he=0;he<B.length;he++)Pe=N.g=B[he],ae=Oe(Pe,U,!1,N)&&ae}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var f=this.i,N;for(N in f.g){for(var B=f.g[N],U=0;U<B.length;U++)ue(B[U]);delete f.g[N],f.h--}}this.F=null},Se.prototype.K=function(f,N,B,U){return this.i.add(String(f),N,!1,B,U)},Se.prototype.L=function(f,N,B,U){return this.i.add(String(f),N,!0,B,U)};function Oe(f,N,B,U){if(N=f.i.g[String(N)],!N)return!0;N=N.concat();for(var ae=!0,he=0;he<N.length;++he){var Pe=N[he];if(Pe&&!Pe.da&&Pe.capture==B){var Ot=Pe.listener,Vs=Pe.ha||Pe.src;Pe.fa&&Ae(f.i,Pe),ae=Ot.call(Vs,U)!==!1&&ae}}return ae&&!U.defaultPrevented}function Tt(f,N,B){if(typeof f=="function")B&&(f=v(f,B));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:d.setTimeout(f,N||0)}function Zt(f){f.g=Tt(()=>{f.g=null,f.i&&(f.i=!1,Zt(f))},f.l);const N=f.h;f.h=null,f.m.apply(null,N)}class Ut extends ee{constructor(N,B){super(),this.m=N,this.l=B,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Zt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(f){ee.call(this),this.h=f,this.g={}}S($t,ee);var In=[];function Ur(f){M(f.g,function(N,B){this.g.hasOwnProperty(B)&&Es(N)},f),f.g={}}$t.prototype.N=function(){$t.aa.N.call(this),Ur(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=d.JSON.stringify,zr=d.JSON.parse,es=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function wr(){}wr.prototype.h=null;function Fi(f){return f.h||(f.h=f.i())}function Bi(){}var Rn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){ce.call(this,"d")}S(ar,ce);function $i(){ce.call(this,"c")}S($i,ce);var or={},_d=null;function ko(){return _d=_d||new Se}or.La="serverreachability";function wd(f){ce.call(this,or.La,f)}S(wd,ce);function Oi(f){const N=ko();Ke(N,new wd(N))}or.STAT_EVENT="statevent";function jd(f,N){ce.call(this,or.STAT_EVENT,f),this.stat=N}S(jd,ce);function ws(f){const N=ko();Ke(N,new jd(N,f))}or.Ma="timingevent";function Ml(f,N){ce.call(this,or.Ma,f),this.size=N}S(Ml,ce);function Hr(f,N){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},N)}function To(){this.g=!0}To.prototype.xa=function(){this.g=!1};function Co(f,N,B,U,ae,he){f.info(function(){if(f.g)if(he)for(var Pe="",Ot=he.split("&"),Vs=0;Vs<Ot.length;Vs++){var It=Ot[Vs].split("=");if(1<It.length){var Ks=It[0];It=It[1];var Rs=Ks.split("_");Pe=2<=Rs.length&&Rs[1]=="type"?Pe+(Ks+"="+It+"&"):Pe+(Ks+"=redacted&")}}else Pe=null;else Pe=he;return"XMLHTTP REQ ("+U+") [attempt "+ae+"]: "+N+`
`+B+`
`+Pe})}function Fl(f,N,B,U,ae,he,Pe){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ae+"]: "+N+`
`+B+`
`+he+" "+Pe})}function Gr(f,N,B,U){f.info(function(){return"XMLHTTP TEXT ("+N+"): "+Ag(f,B)+(U?" "+U:"")})}function Sd(f,N){f.info(function(){return"TIMEOUT: "+N})}To.prototype.info=function(){};function Ag(f,N){if(!f.g)return N;if(!N)return null;try{var B=JSON.parse(N);if(B){for(f=0;f<B.length;f++)if(Array.isArray(B[f])){var U=B[f];if(!(2>U.length)){var ae=U[1];if(Array.isArray(ae)&&!(1>ae.length)){var he=ae[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Pe=1;Pe<ae.length;Pe++)ae[Pe]=""}}}}return mi(B)}catch(Ot){return N}}var Bl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function Eo(){}S(Eo,wr),Eo.prototype.g=function(){return new XMLHttpRequest},Eo.prototype.i=function(){return{}},Wr=new Eo;function qr(f,N,B,U){this.j=f,this.i=N,this.l=B,this.R=U||1,this.U=new $t(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hh}function Hh(){this.i=null,this.g="",this.h=!1}var Nd={},$l={};function Ol(f,N,B){f.L=1,f.v=Aa(cr(N)),f.m=B,f.P=!0,kd(f,null)}function kd(f,N){f.F=Date.now(),qt(f),f.A=cr(f.v);var B=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),Ra(B.i,"t",U),f.C=0,B=f.j.J,f.h=new Hh,f.g=lm(f.j,B?N:null,!f.m),0<f.O&&(f.M=new Ut(v(f.Y,f,f.g),f.O)),N=f.U,B=f.g,U=f.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(In[0]=ae.toString()),ae=In);for(var he=0;he<ae.length;he++){var Pe=Ts(B,ae[he],U||N.handleEvent,!1,N.h||N);if(!Pe)break;N.g[Pe.key]=Pe}N=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,N)):(f.u="GET",f.g.ea(f.A,f.u,null,N)),Oi(),Co(f.i,f.u,f.A,f.l,f.R,f.m)}qr.prototype.ca=function(f){f=f.target;const N=this.M;N&&Wn(f)==3?N.j():this.Y(f)},qr.prototype.Y=function(f){try{if(f==this.g)e:{const Rs=Wn(this.g);var N=this.g.Ba();const Nr=this.g.Z();if(!(3>Rs)&&(Rs!=3||this.g&&(this.h.h||this.g.oa()||Rd(this.g)))){this.J||Rs!=4||N==7||(N==8||0>=Nr?Oi(3):Oi(2)),Ao(this);var B=this.g.Z();this.X=B;t:if(Gh(this)){var U=Rd(this.g);f="";var ae=U.length,he=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){jr(this),ka(this);var Pe="";break t}this.h.i=new d.TextDecoder}for(N=0;N<ae;N++)this.h.h=!0,f+=this.h.i.decode(U[N],{stream:!(he&&N==ae-1)});U.length=0,this.h.g+=f,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=B==200,Fl(this.i,this.u,this.A,this.l,this.R,Rs,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Vs=this.g;if((Ot=Vs.g?Vs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Ot)){var It=Ot;break t}}It=null}if(B=It)Gr(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Td(this,B);else{this.o=!1,this.s=3,ws(12),jr(this),ka(this);break e}}if(this.P){B=!0;let ur;for(;!this.J&&this.C<Pe.length;)if(ur=Ig(this,Pe),ur==$l){Rs==4&&(this.s=4,ws(14),B=!1),Gr(this.i,this.l,null,"[Incomplete Response]");break}else if(ur==Nd){this.s=4,ws(15),Gr(this.i,this.l,Pe,"[Invalid Chunk]"),B=!1;break}else Gr(this.i,this.l,ur,null),Td(this,ur);if(Gh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rs!=4||Pe.length!=0||this.h.h||(this.s=1,ws(16),B=!1),this.o=this.o&&B,!B)Gr(this.i,this.l,Pe,"[Invalid Chunked Response]"),jr(this),ka(this);else if(0<Pe.length&&!this.W){this.W=!0;var Ks=this.j;Ks.g==this&&Ks.ba&&!Ks.M&&(Ks.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),Ld(Ks),Ks.M=!0,ws(11))}}else Gr(this.i,this.l,Pe,null),Td(this,Pe);Rs==4&&jr(this),this.o&&!this.J&&(Rs==4?Yl(this.j,this):(this.o=!1,qt(this)))}else Wl(this.g),B==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,ws(12)):(this.s=0,ws(13)),jr(this),ka(this)}}}catch(Rs){}finally{}};function Gh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ig(f,N){var B=f.C,U=N.indexOf(`
`,B);return U==-1?$l:(B=Number(N.substring(B,U)),isNaN(B)?Nd:(U+=1,U+B>N.length?$l:(N=N.slice(U,U+B),f.C=U+B,N)))}qr.prototype.cancel=function(){this.J=!0,jr(this)};function qt(f){f.S=Date.now()+f.I,Wh(f,f.I)}function Wh(f,N){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Hr(v(f.ba,f),N)}function Ao(f){f.B&&(d.clearTimeout(f.B),f.B=null)}qr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Sd(this.i,this.A),this.L!=2&&(Oi(),ws(17)),jr(this),this.s=2,ka(this)):Wh(this,this.S-f)};function ka(f){f.j.G==0||f.J||Yl(f.j,f)}function jr(f){Ao(f);var N=f.M;N&&typeof N.ma=="function"&&N.ma(),f.M=null,Ur(f.U),f.g&&(N=f.g,f.g=null,N.abort(),N.ma())}function Td(f,N){try{var B=f.j;if(B.G!=0&&(B.g==f||Pn(B.h,f))){if(!f.K&&Pn(B.h,f)&&B.G==3){try{var U=B.Da.g.parse(N)}catch(It){U=null}if(Array.isArray(U)&&U.length==3){var ae=U;if(ae[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<f.F)Xl(B),Jr(B);else break e;Ql(B),ws(18)}}else B.za=ae[1],0<B.za-B.T&&37500>ae[2]&&B.F&&B.v==0&&!B.C&&(B.C=Hr(v(B.Za,B),6e3));if(1>=Kh(B.h)&&B.ca){try{B.ca()}catch(It){}B.ca=void 0}}else Gi(B,11)}else if((f.K||B.g==f)&&Xl(B),!D(N))for(ae=B.Da.g.parse(N),N=0;N<ae.length;N++){let It=ae[N];if(B.T=It[0],It=It[1],B.G==2)if(It[0]=="c"){B.K=It[1],B.ia=It[2];const Ks=It[3];Ks!=null&&(B.la=Ks,B.j.info("VER="+B.la));const Rs=It[4];Rs!=null&&(B.Aa=Rs,B.j.info("SVER="+B.Aa));const Nr=It[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(U=1.5*Nr,B.L=U,B.j.info("backChannelRequestTimeoutMs_="+U)),U=B;const ur=f.g;if(ur){const Fo=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fo){var he=U.h;he.g||Fo.indexOf("spdy")==-1&&Fo.indexOf("quic")==-1&&Fo.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Cd(he,he.h),he.h=null))}if(U.D){const Zl=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(U.ya=Zl,Ht(U.I,U.D,Zl))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-f.F,B.j.info("Handshake RTT: "+B.R+"ms")),U=B;var Pe=f;if(U.qa=om(U,U.J?U.ia:null,U.W),Pe.K){Qh(U.h,Pe);var Ot=Pe,Vs=U.L;Vs&&(Ot.I=Vs),Ot.B&&(Ao(Ot),qt(Ot)),U.g=Pe}else Mo(U);0<B.i.length&&xi(B)}else It[0]!="stop"&&It[0]!="close"||Gi(B,7);else B.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Gi(B,7):rn(B):It[0]!="noop"&&B.l&&B.l.ta(It),B.v=0)}}Oi(4)}catch(It){}}var qh=class{constructor(f,N){this.g=f,this.map=N}};function Io(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Kh(f){return f.h?1:f.g?f.g.size:0}function Pn(f,N){return f.h?f.h==N:f.g?f.g.has(N):!1}function Cd(f,N){f.g?f.g.add(N):f.h=N}function Qh(f,N){f.h&&f.h==N?f.h=null:f.g&&f.g.has(N)&&f.g.delete(N)}Io.prototype.cancel=function(){if(this.i=Xh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Xh(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let N=f.i;for(const B of f.g.values())N=N.concat(B.D);return N}return E(f.i)}function Vl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var N=[],B=f.length,U=0;U<B;U++)N.push(f[U]);return N}N=[],B=0;for(U in f)N[B++]=f[U];return N}function Ul(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(u(f)||typeof f=="string"){var N=[];f=f.length;for(var B=0;B<f;B++)N.push(B);return N}N=[],B=0;for(const U in f)N[B++]=U;return N}}}function Ta(f,N){if(f.forEach&&typeof f.forEach=="function")f.forEach(N,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,N,void 0);else for(var B=Ul(f),U=Vl(f),ae=U.length,he=0;he<ae;he++)N.call(void 0,U[he],B&&B[he],f)}var Ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rg(f,N){if(f){f=f.split("&");for(var B=0;B<f.length;B++){var U=f[B].indexOf("="),ae=null;if(0<=U){var he=f[B].substring(0,U);ae=f[B].substring(U+1)}else he=f[B];N(he,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Vi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Vi){this.h=f.h,Po(this,f.j),this.o=f.o,this.g=f.g,Ca(this,f.s),this.l=f.l;var N=f.i,B=new pi;B.i=N.i,N.g&&(B.g=new Map(N.g),B.h=N.h),Ea(this,B),this.m=f.m}else f&&(N=String(f).match(Ro))?(this.h=!1,Po(this,N[1]||"",!0),this.o=Ct(N[2]||""),this.g=Ct(N[3]||"",!0),Ca(this,N[4]),this.l=Ct(N[5]||"",!0),Ea(this,N[6]||"",!0),this.m=Ct(N[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}Vi.prototype.toString=function(){var f=[],N=this.j;N&&f.push(Ia(N,zl,!0),":");var B=this.g;return(B||N=="file")&&(f.push("//"),(N=this.o)&&f.push(Ia(N,zl,!0),"@"),f.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&f.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&f.push("/"),f.push(Ia(B,B.charAt(0)=="/"?Zh:Jh,!0))),(B=this.i.toString())&&f.push("?",B),(B=this.m)&&f.push("#",Ia(B,Ed)),f.join("")};function cr(f){return new Vi(f)}function Po(f,N,B){f.j=B?Ct(N,!0):N,f.j&&(f.j=f.j.replace(/:$/,""))}function Ca(f,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);f.s=N}else f.s=null}function Ea(f,N,B){N instanceof pi?(f.i=N,fi(f.i,f.h)):(B||(N=Ia(N,em)),f.i=new pi(N,f.h))}function Ht(f,N,B){f.i.set(N,B)}function Aa(f){return Ht(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Ct(f,N){return f?N?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ia(f,N,B){return typeof f=="string"?(f=encodeURI(f).replace(N,Yh),B&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Yh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var zl=/[#\/\?@]/g,Jh=/[#\?:]/g,Zh=/[#\?]/g,em=/[#\?@]/g,Ed=/#/g;function pi(f,N){this.h=this.g=null,this.i=f||null,this.j=!!N}function nn(f){f.g||(f.g=new Map,f.h=0,f.i&&Rg(f.i,function(N,B){f.add(decodeURIComponent(N.replace(/\+/g," ")),B)}))}t=pi.prototype,t.add=function(f,N){nn(this),this.i=null,f=Sr(this,f);var B=this.g.get(f);return B||this.g.set(f,B=[]),B.push(N),this.h+=1,this};function Kr(f,N){nn(f),N=Sr(f,N),f.g.has(N)&&(f.i=null,f.h-=f.g.get(N).length,f.g.delete(N))}function Qr(f,N){return nn(f),N=Sr(f,N),f.g.has(N)}t.forEach=function(f,N){nn(this),this.g.forEach(function(B,U){B.forEach(function(ae){f.call(N,ae,U,this)},this)},this)},t.na=function(){nn(this);const f=Array.from(this.g.values()),N=Array.from(this.g.keys()),B=[];for(let U=0;U<N.length;U++){const ae=f[U];for(let he=0;he<ae.length;he++)B.push(N[U])}return B},t.V=function(f){nn(this);let N=[];if(typeof f=="string")Qr(this,f)&&(N=N.concat(this.g.get(Sr(this,f))));else{f=Array.from(this.g.values());for(let B=0;B<f.length;B++)N=N.concat(f[B])}return N},t.set=function(f,N){return nn(this),this.i=null,f=Sr(this,f),Qr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[N]),this.h+=1,this},t.get=function(f,N){return f?(f=this.V(f),0<f.length?String(f[0]):N):N};function Ra(f,N,B){Kr(f,N),0<B.length&&(f.i=null,f.g.set(Sr(f,N),E(B)),f.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],N=Array.from(this.g.keys());for(var B=0;B<N.length;B++){var U=N[B];const he=encodeURIComponent(String(U)),Pe=this.V(U);for(U=0;U<Pe.length;U++){var ae=he;Pe[U]!==""&&(ae+="="+encodeURIComponent(String(Pe[U]))),f.push(ae)}}return this.i=f.join("&")};function Sr(f,N){return N=String(N),f.j&&(N=N.toLowerCase()),N}function fi(f,N){N&&!f.j&&(nn(f),f.i=null,f.g.forEach(function(B,U){var ae=U.toLowerCase();U!=ae&&(Kr(this,U),Ra(this,ae,B))},f)),f.j=N}function Pg(f,N){const B=new To;if(d.Image){const U=new Image;U.onload=b(Gn,B,"TestLoadImage: loaded",!0,N,U),U.onerror=b(Gn,B,"TestLoadImage: error",!1,N,U),U.onabort=b(Gn,B,"TestLoadImage: abort",!1,N,U),U.ontimeout=b(Gn,B,"TestLoadImage: timeout",!1,N,U),d.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else N(!1)}function tm(f,N){const B=new To,U=new AbortController,ae=setTimeout(()=>{U.abort(),Gn(B,"TestPingServer: timeout",!1,N)},1e4);fetch(f,{signal:U.signal}).then(he=>{clearTimeout(ae),he.ok?Gn(B,"TestPingServer: ok",!0,N):Gn(B,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ae),Gn(B,"TestPingServer: error",!1,N)})}function Gn(f,N,B,U,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),U(B)}catch(he){}}function Lg(){this.g=new es}function sm(f,N,B){const U=B||"";try{Ta(f,function(ae,he){let Pe=ae;h(ae)&&(Pe=mi(ae)),N.push(U+he+"="+encodeURIComponent(Pe))})}catch(ae){throw N.push(U+"type="+encodeURIComponent("_badmap")),ae}}function Ui(f){this.l=f.Ub||null,this.j=f.eb||!1}S(Ui,wr),Ui.prototype.g=function(){return new Lo(this.l,this.j)},Ui.prototype.i=(function(f){return function(){return f}})({});function Lo(f,N){Se.call(this),this.D=f,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Lo,Se),t=Lo.prototype,t.open=function(f,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=N,this.readyState=1,Yr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(N.body=f),(this.D||d).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nm(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function nm(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var N=f.value?f.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!f.done}))&&(this.response=this.responseText+=N)}f.done?Xr(this):Yr(this),this.readyState==3&&nm(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Xr(this))},t.Qa=function(f){this.g&&(this.response=f,Xr(this))},t.ga=function(){this.g&&Xr(this)};function Xr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Yr(f)}t.setRequestHeader=function(f,N){this.u.append(f,N)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],N=this.h.entries();for(var B=N.next();!B.done;)B=B.value,f.push(B[0]+": "+B[1]),B=N.next();return f.join(`\r
`)};function Yr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function zi(f){let N="";return M(f,function(B,U){N+=U,N+=":",N+=B,N+=`\r
`}),N}function Pa(f,N,B){e:{for(U in B){var U=!1;break e}U=!0}U||(B=zi(B),typeof f=="string"?B!=null&&encodeURIComponent(String(B)):Ht(f,N,B))}function is(f){Se.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(is,Se);var Dg=/^https?$/i,Ad=["POST","PUT"];t=is.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,N,B,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);N=N?N.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?Fi(this.o):Fi(Wr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(N,String(f),!0),this.B=!1}catch(he){Do(this,he);return}if(f=B||"",B=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ae in U)B.set(ae,U[ae]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const he of U.keys())B.set(he,U.get(he));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(B.keys()).find(he=>he.toLowerCase()=="content-type"),ae=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ad,N,void 0))||U||ae||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Pe]of B)this.g.setRequestHeader(he,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gl(this),this.u=!0,this.g.send(f),this.u=!1}catch(he){Do(this,he)}};function Do(f,N){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=N,f.m=5,Hl(f),dr(f)}function Hl(f){f.A||(f.A=!0,Ke(f,"complete"),Ke(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ke(this,"complete"),Ke(this,"abort"),dr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),is.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Id(this):this.bb())},t.bb=function(){Id(this)};function Id(f){if(f.h&&typeof l!="undefined"&&(!f.v[1]||Wn(f)!=4||f.Z()!=2)){if(f.u&&Wn(f)==4)Tt(f.Ea,0,f);else if(Ke(f,"readystatechange"),Wn(f)==4){f.h=!1;try{const Pe=f.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var B;if(!(B=N)){var U;if(U=Pe===0){var ae=String(f.D).match(Ro)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),U=!Dg.test(ae?ae.toLowerCase():"")}B=U}if(B)Ke(f,"complete"),Ke(f,"success");else{f.m=6;try{var he=2<Wn(f)?f.g.statusText:""}catch(Ot){he=""}f.l=he+" ["+f.Z()+"]",Hl(f)}}finally{dr(f)}}}}function dr(f,N){if(f.g){Gl(f);const B=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,N||Ke(f,"ready");try{B.onreadystatechange=U}catch(ae){}}}function Gl(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Wn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var N=this.g.responseText;return f&&N.indexOf(f)==0&&(N=N.substring(f.length)),zr(N)}};function Rd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(N){return null}}function Wl(f){const N={};f=(f.g&&2<=Wn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(D(f[U]))continue;var B=P(f[U]);const ae=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const he=N[ae]||[];N[ae]=he,he.push(B)}k(N,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(f,N,B){return B&&B.internalChannelParams&&B.internalChannelParams[f]||N}function Pd(f){this.Aa=0,this.i=[],this.j=new To,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gi("baseRetryDelayMs",5e3,f),this.cb=gi("retryDelaySeedMs",1e4,f),this.Wa=gi("forwardChannelMaxRetries",2,f),this.wa=gi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Io(f&&f.concurrentRequestLimit),this.Da=new Lg,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pd.prototype,t.la=8,t.G=1,t.connect=function(f,N,B,U){ws(0),this.W=f,this.H=N||{},B&&U!==void 0&&(this.H.OSID=B,this.H.OAID=U),this.F=this.X,this.I=om(this,null,this.W),xi(this)};function rn(f){if(ql(f),f.G==3){var N=f.U++,B=cr(f.I);if(Ht(B,"SID",f.K),Ht(B,"RID",N),Ht(B,"TYPE","terminate"),Hi(f,B),N=new qr(f,f.j,N),N.L=2,N.v=Aa(cr(B)),B=!1,d.navigator&&d.navigator.sendBeacon)try{B=d.navigator.sendBeacon(N.v.toString(),"")}catch(U){}!B&&d.Image&&(new Image().src=N.v,B=!0),B||(N.g=lm(N.j,null),N.g.ea(N.v)),N.F=Date.now(),qt(N)}am(f)}function Jr(f){f.g&&(Ld(f),f.g.cancel(),f.g=null)}function ql(f){Jr(f),f.u&&(d.clearTimeout(f.u),f.u=null),Xl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function xi(f){if(!lr(f.h)&&!f.s){f.s=!0;var N=f.Ga;Q||ne(),G||(Q(),G=!0),J.add(N,f),f.B=0}}function Mg(f,N){return Kh(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=N.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Hr(v(f.Ga,f,N),im(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ae=new qr(this,this.j,f);let he=this.o;if(this.S&&(he?(he=w(he),L(he,this.S)):he=this.S),this.m!==null||this.O||(ae.H=he,he=null),this.P)e:{for(var N=0,B=0;B<this.i.length;B++){t:{var U=this.i[B];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(N+=U,4096<N){N=B;break e}if(N===4096||B===this.i.length-1){N=B+1;break e}}N=1e3}else N=1e3;N=La(this,ae,N),B=cr(this.I),Ht(B,"RID",f),Ht(B,"CVER",22),this.D&&Ht(B,"X-HTTP-Session-Id",this.D),Hi(this,B),he&&(this.O?N="headers="+encodeURIComponent(String(zi(he)))+"&"+N:this.m&&Pa(B,this.m,he)),Cd(this.h,ae),this.Ua&&Ht(B,"TYPE","init"),this.P?(Ht(B,"$req",N),Ht(B,"SID","null"),ae.T=!0,Ol(ae,B,null)):Ol(ae,B,N),this.G=2}}else this.G==3&&(f?Kl(this,f):this.i.length==0||lr(this.h)||Kl(this))};function Kl(f,N){var B;N?B=N.l:B=f.U++;const U=cr(f.I);Ht(U,"SID",f.K),Ht(U,"RID",B),Ht(U,"AID",f.T),Hi(f,U),f.m&&f.o&&Pa(U,f.m,f.o),B=new qr(f,f.j,B,f.B+1),f.m===null&&(B.H=f.o),N&&(f.i=N.D.concat(f.i)),N=La(f,B,1e3),B.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Cd(f.h,B),Ol(B,U,N)}function Hi(f,N){f.H&&M(f.H,function(B,U){Ht(N,U,B)}),f.l&&Ta({},function(B,U){Ht(N,U,B)})}function La(f,N,B){B=Math.min(f.i.length,B);var U=f.l?v(f.l.Na,f.l,f):null;e:{var ae=f.i;let he=-1;for(;;){const Pe=["count="+B];he==-1?0<B?(he=ae[0].g,Pe.push("ofs="+he)):he=0:Pe.push("ofs="+he);let Ot=!0;for(let Vs=0;Vs<B;Vs++){let It=ae[Vs].g;const Ks=ae[Vs].map;if(It-=he,0>It)he=Math.max(0,ae[Vs].g-100),Ot=!1;else try{sm(Ks,Pe,"req"+It+"_")}catch(Rs){U&&U(Ks)}}if(Ot){U=Pe.join("&");break e}}}return f=f.i.splice(0,B),N.D=f,U}function Mo(f){if(!f.g&&!f.u){f.Y=1;var N=f.Fa;Q||ne(),G||(Q(),G=!0),J.add(N,f),f.v=0}}function Ql(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Hr(v(f.Fa,f),im(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,rm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Hr(v(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ws(10),Jr(this),rm(this))};function Ld(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function rm(f){f.g=new qr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var N=cr(f.qa);Ht(N,"RID","rpc"),Ht(N,"SID",f.K),Ht(N,"AID",f.T),Ht(N,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ht(N,"TO",f.ja),Ht(N,"TYPE","xmlhttp"),Hi(f,N),f.m&&f.o&&Pa(N,f.m,f.o),f.L&&(f.g.I=f.L);var B=f.g;f=f.ia,B.L=1,B.v=Aa(cr(N)),B.m=null,B.P=!0,kd(B,f)}t.Za=function(){this.C!=null&&(this.C=null,Jr(this),Ql(this),ws(19))};function Xl(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Yl(f,N){var B=null;if(f.g==N){Xl(f),Ld(f),f.g=null;var U=2}else if(Pn(f.h,N))B=N.D,Qh(f.h,N),U=1;else return;if(f.G!=0){if(N.o)if(U==1){B=N.m?N.m.length:0,N=Date.now()-N.F;var ae=f.B;U=ko(),Ke(U,new Ml(U,B)),xi(f)}else Mo(f);else if(ae=N.s,ae==3||ae==0&&0<N.X||!(U==1&&Mg(f,N)||U==2&&Ql(f)))switch(B&&0<B.length&&(N=f.h,N.i=N.i.concat(B)),ae){case 1:Gi(f,5);break;case 4:Gi(f,10);break;case 3:Gi(f,6);break;default:Gi(f,2)}}}function im(f,N){let B=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(B*=2),B*N}function Gi(f,N){if(f.j.info("Error code "+N),N==2){var B=v(f.fb,f),U=f.Xa;const ae=!U;U=new Vi(U||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Po(U,"https"),Aa(U),ae?Pg(U.toString(),B):tm(U.toString(),B)}else ws(2);f.G=0,f.l&&f.l.sa(N),am(f),ql(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ws(2)):(this.j.info("Failed to ping google.com"),ws(1))};function am(f){if(f.G=0,f.ka=[],f.l){const N=Xh(f.h);(N.length!=0||f.i.length!=0)&&(I(f.ka,N),I(f.ka,f.i),f.h.i.length=0,E(f.i),f.i.length=0),f.l.ra()}}function om(f,N,B){var U=B instanceof Vi?cr(B):new Vi(B);if(U.g!="")N&&(U.g=N+"."+U.g),Ca(U,U.s);else{var ae=d.location;U=ae.protocol,N=N?N+"."+ae.hostname:ae.hostname,ae=+ae.port;var he=new Vi(null);U&&Po(he,U),N&&(he.g=N),ae&&Ca(he,ae),B&&(he.l=B),U=he}return B=f.D,N=f.ya,B&&N&&Ht(U,B,N),Ht(U,"VER",f.la),Hi(f,U),U}function lm(f,N,B){if(N&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=f.Ca&&!f.pa?new is(new Ui({eb:B})):new is(f.pa),N.Ha(f.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dd(){}t=Dd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jl(){}Jl.prototype.g=function(f,N){return new Ln(f,N)};function Ln(f,N){Se.call(this),this.g=new Pd(N),this.l=f,this.h=N&&N.messageUrlParams||null,f=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(f?f["X-WebChannel-Content-Type"]=N.messageContentType:f={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(f?f["X-WebChannel-Client-Profile"]=N.va:f={"X-WebChannel-Client-Profile":N.va}),this.g.S=f,(f=N&&N.Sb)&&!D(f)&&(this.g.m=f),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!D(N)&&(this.g.D=N,f=this.h,f!==null&&N in f&&(f=this.h,N in f&&delete f[N])),this.j=new vi(this)}S(Ln,Se),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){rn(this.g)},Ln.prototype.o=function(f){var N=this.g;if(typeof f=="string"){var B={};B.__data__=f,f=B}else this.u&&(B={},B.__data__=mi(f),f=B);N.i.push(new qh(N.Ya++,f)),N.G==3&&xi(N)},Ln.prototype.N=function(){this.g.l=null,delete this.j,rn(this.g),delete this.g,Ln.aa.N.call(this)};function cm(f){ar.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var N=f.__sm__;if(N){e:{for(const B in N){f=B;break e}f=void 0}(this.i=f)&&(f=this.i,N=N!==null&&f in N?N[f]:void 0),this.data=N}else this.data=f}S(cm,ar);function dm(){$i.call(this),this.status=1}S(dm,$i);function vi(f){this.g=f}S(vi,Dd),vi.prototype.ua=function(){Ke(this.g,"a")},vi.prototype.ta=function(f){Ke(this.g,new cm(f))},vi.prototype.sa=function(f){Ke(this.g,new dm)},vi.prototype.ra=function(){Ke(this.g,"b")},Jl.prototype.createWebChannel=Jl.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,FT=function(){return new Jl},MT=function(){return ko()},DT=or,Ry={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bl.NO_ERROR=0,Bl.TIMEOUT=8,Bl.HTTP_ERROR=6,Up=Bl,zh.COMPLETE="complete",LT=zh,Bi.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",Se.prototype.listen=Se.prototype.K,bu=Bi,is.prototype.listenOnce=is.prototype.L,is.prototype.getLastError=is.prototype.Ka,is.prototype.getLastErrorCode=is.prototype.Ba,is.prototype.getStatus=is.prototype.Z,is.prototype.getResponseJson=is.prototype.Oa,is.prototype.getResponseText=is.prototype.oa,is.prototype.send=is.prototype.ea,is.prototype.setWithCredentials=is.prototype.Ha,PT=is}).apply(typeof op!="undefined"?op:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const I2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new A0("@firebase/firestore");function lu(){return wl.logLevel}function He(t,...e){if(wl.logLevel<=At.DEBUG){const s=e.map(U0);wl.debug(`Firestore (${hd}): ${t}`,...s)}}function ya(t,...e){if(wl.logLevel<=At.ERROR){const s=e.map(U0);wl.error(`Firestore (${hd}): ${t}`,...s)}}function qc(t,...e){if(wl.logLevel<=At.WARN){const s=e.map(U0);wl.warn(`Firestore (${hd}): ${t}`,...s)}}function U0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t="Unexpected state"){const e=`FIRESTORE (${hd}) INTERNAL ASSERTION FAILED: `+t;throw ya(e),new Error(e)}function Vt(t,e){t||ot()}function ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends Sa{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Tn.UNAUTHENTICATED)))}shutdown(){}}class w9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class j9{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Vt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,s(u)):Promise.resolve();let a=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ma,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},d=u=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((u=>d(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?d(u):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ma)}}),0),l()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string"),new BT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new Tn(e)}}class S9{constructor(e,s,r){this.l=e,this.h=s,this.P=r,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class N9{constructor(e,s,r){this.l=e,this.h=s,this.P=r}getToken(){return Promise.resolve(new S9(this.l,this.h,this.P))}start(e,s){e.enqueueRetryable((()=>s(Tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,s){Vt(this.o===void 0);const r=a=>{a.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,He("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?s(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Vt(typeof s.token=="string"),this.R=s.token,new k9(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),s=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<t;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=C9(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<s&&(r+=e.charAt(i[a]%e.length))}return r}}function Bt(t,e){return t<e?-1:t>e?1:0}function Kc(t,e,s){return t.length===e.length&&t.every(((r,i)=>s(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new De(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new De(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new De(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _s.fromMillis(Date.now())}static fromDate(e){return _s.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*s));return new _s(s,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dt(e)}static min(){return new dt(new _s(0,0))}static max(){return new dt(new _s(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,s,r){s===void 0?s=0:s>e.length&&ot(),r===void 0?r=e.length-s:r>e.length-s&&ot(),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return eh.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof eh?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let i=0;i<r;i++){const a=e.get(i),l=s.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class Wt extends eh{construct(e,s,r){return new Wt(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((i=>i.length>0)))}return new Wt(s)}static emptyPath(){return new Wt([])}}const E9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends eh{construct(e,s,r){return new pn(e,s,r)}static isValidIdentifier(e){return E9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pn(["__name__"])}static fromServerFormat(e){const s=[];let r="",i=0;const a=()=>{if(r.length===0)throw new De(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new De(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new De(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(r+=d,i++):(a(),i++)}if(a(),l)throw new De(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(s)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(Wt.fromString(e))}static fromName(e){return new Xe(Wt.fromString(e).popFirst(5))}static empty(){return new Xe(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return Wt.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new Wt(e.slice()))}}function A9(t,e){const s=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(r===1e9?new _s(s+1,0):new _s(s,r));return new xo(i,Xe.empty(),e)}function I9(t){return new xo(t.readTime,t.key,-1)}class xo{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new xo(dt.min(),Xe.empty(),-1)}static max(){return new xo(dt.max(),Xe.empty(),-1)}}function R9(t,e){let s=t.readTime.compareTo(e.readTime);return s!==0?s:(s=Xe.comparator(t.documentKey,e.documentKey),s!==0?s:Bt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==P9)throw t;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new we(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(s,a).next(r,i)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof we?s:we.resolve(s)}catch(s){return we.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):we.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):we.reject(s)}static resolve(e){return new we(((s,r)=>{s(e)}))}static reject(e){return new we(((s,r)=>{r(e)}))}static waitFor(e){return new we(((s,r)=>{let i=0,a=0,l=!1;e.forEach((d=>{++i,d.next((()=>{++a,l&&a===i&&s()}),(u=>r(u)))})),l=!0,a===i&&s()}))}static or(e){let s=we.resolve(!1);for(const r of e)s=s.next((i=>i?we.resolve(i):r()));return s}static forEach(e,s){const r=[];return e.forEach(((i,a)=>{r.push(s.call(this,i,a))})),this.waitFor(r)}static mapArray(e,s){return new we(((r,i)=>{const a=e.length,l=new Array(a);let d=0;for(let u=0;u<a;u++){const h=u;s(e[h]).next((p=>{l[h]=p,++d,d===a&&r(l)}),(p=>i(p)))}}))}static doWhile(e,s){return new we(((r,i)=>{const a=()=>{e()===!0?s().next((()=>{a()}),i):r()};a()}))}}function D9(t){const e=t.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Nh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ie(r),this.se=r=>s.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}z0.oe=-1;function Zf(t){return t==null}function ff(t){return t===0&&1/t==-1/0}function M9(t){return typeof t=="number"&&Number.isInteger(t)&&!ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){let e=0;for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e++;return e}function Al(t,e){for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e(s,t[s])}function OT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,s){this.comparator=e,this.root=s||un.EMPTY}insert(e,s){return new gs(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new gs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return s+r.left.size;i<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lp(this.root,e,this.comparator,!1)}getReverseIterator(){return new lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lp(this.root,e,this.comparator,!0)}}class lp{constructor(e,s,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=s?r(e.key,s):1,s&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,s,r,i,a){this.key=e,this.value=s,this.color=r!=null?r:un.RED,this.left=i!=null?i:un.EMPTY,this.right=a!=null?a:un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,i,a){return new un(e!=null?e:this.key,s!=null?s:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,s,r),null):a===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(e,s,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,i=this;if(s(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(e,i.key)===0){if(i.right.isEmpty())return un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(e,s,r,i,a){return this}insert(e,s,r){return new un(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new gs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;s(i.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new P2(this.data.getIterator())}getIteratorFrom(e){return new P2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new xn(this.comparator);return s.data=e,s}}class P2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new xr([])}unionWith(e){let s=new xn(pn.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new xr(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Kc(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(i){try{return atob(i)}catch(a){throw typeof DOMException!="undefined"&&a instanceof DOMException?new VT("Invalid base64 string: "+a):a}})(e);return new vn(s)}static fromUint8Array(e){const s=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new vn(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const F9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(Vt(!!t),typeof t=="string"){let e=0;const s=F9.exec(t);if(Vt(!!s),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ks(t.seconds),nanos:ks(t.nanos)}}function ks(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jl(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t){var e,s;return((s=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="server_timestamp"}function H0(t){const e=t.mapValue.fields.__previous_value__;return eg(e)?H0(e):e}function th(t){const e=vo(t.mapValue.fields.__local_write_time__.timestampValue);return new _s(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,s,r,i,a,l,d,u,h){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=u,this.useFetchStreams=h}}class sh{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new sh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp={mapValue:{}};function Sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eg(t)?4:O9(t)?9007199254740991:$9(t)?10:11:ot()}function Di(t,e){if(t===e)return!0;const s=Sl(t);if(s!==Sl(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return th(t).isEqual(th(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=vo(i.timestampValue),d=vo(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return jl(i.bytesValue).isEqual(jl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return ks(i.geoPointValue.latitude)===ks(a.geoPointValue.latitude)&&ks(i.geoPointValue.longitude)===ks(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return ks(i.integerValue)===ks(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=ks(i.doubleValue),d=ks(a.doubleValue);return l===d?ff(l)===ff(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return Kc(t.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},d=a.mapValue.fields||{};if(R2(l)!==R2(d))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(d[u]===void 0||!Di(l[u],d[u])))return!1;return!0})(t,e);default:return ot()}}function nh(t,e){return(t.values||[]).find((s=>Di(s,e)))!==void 0}function Qc(t,e){if(t===e)return 0;const s=Sl(t),r=Sl(e);if(s!==r)return Bt(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return Bt(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=ks(a.integerValue||a.doubleValue),u=ks(l.integerValue||l.doubleValue);return d<u?-1:d>u?1:d===u?0:isNaN(d)?isNaN(u)?0:-1:1})(t,e);case 3:return L2(t.timestampValue,e.timestampValue);case 4:return L2(th(t),th(e));case 5:return Bt(t.stringValue,e.stringValue);case 6:return(function(a,l){const d=jl(a),u=jl(l);return d.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),u=l.split("/");for(let h=0;h<d.length&&h<u.length;h++){const p=Bt(d[h],u[h]);if(p!==0)return p}return Bt(d.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=Bt(ks(a.latitude),ks(l.latitude));return d!==0?d:Bt(ks(a.longitude),ks(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return D2(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var d,u,h,p;const g=a.fields||{},v=l.fields||{},b=(d=g.value)===null||d===void 0?void 0:d.arrayValue,S=(u=v.value)===null||u===void 0?void 0:u.arrayValue,E=Bt(((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return E!==0?E:D2(b,S)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===cp.mapValue&&l===cp.mapValue)return 0;if(a===cp.mapValue)return 1;if(l===cp.mapValue)return-1;const d=a.fields||{},u=Object.keys(d),h=l.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const v=Bt(u[g],p[g]);if(v!==0)return v;const b=Qc(d[u[g]],h[p[g]]);if(b!==0)return b}return Bt(u.length,p.length)})(t.mapValue,e.mapValue);default:throw ot()}}function L2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Bt(t,e);const s=vo(t),r=vo(e),i=Bt(s.seconds,r.seconds);return i!==0?i:Bt(s.nanos,r.nanos)}function D2(t,e){const s=t.values||[],r=e.values||[];for(let i=0;i<s.length&&i<r.length;++i){const a=Qc(s[i],r[i]);if(a)return a}return Bt(s.length,r.length)}function Xc(t){return Py(t)}function Py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(s){const r=vo(s);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(s){return jl(s).toBase64()})(t.bytesValue):"referenceValue"in t?(function(s){return Xe.fromName(s).toString()})(t.referenceValue):"geoPointValue"in t?(function(s){return`geo(${s.latitude},${s.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(s){let r="[",i=!0;for(const a of s.values||[])i?i=!1:r+=",",r+=Py(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(s){const r=Object.keys(s.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Py(s.fields[l])}`;return i+"}"})(t.mapValue):ot()}function gf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ly(t){return!!t&&"integerValue"in t}function G0(t){return!!t&&"arrayValue"in t}function M2(t){return!!t&&"nullValue"in t}function F2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zp(t){return!!t&&"mapValue"in t}function $9(t){var e,s;return((s=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="__vector__"}function Pu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Al(t.mapValue.fields,((s,r)=>e.mapValue.fields[s]=Pu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(t.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Pu(t.arrayValue.values[s]);return e}return Object.assign({},t)}function O9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!zp(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(s)}setAll(e){let s=pn.emptyPath(),r={},i=[];e.forEach(((l,d)=>{if(!s.isImmediateParentOf(d)){const u=this.getFieldsMap(s);this.applyChanges(u,r,i),r={},i=[],s=d.popLast()}l?r[d.lastSegment()]=Pu(l):i.push(d.lastSegment())}));const a=this.getFieldsMap(s);this.applyChanges(a,r,i)}delete(e){const s=this.field(e.popLast());zp(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=s.mapValue.fields[e.get(r)];zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=i),s=i}return s.mapValue.fields}applyChanges(e,s,r){Al(s,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new nr(Pu(this.value))}}function UT(t){const e=[];return Al(t.fields,((s,r)=>{const i=new pn([s]);if(zp(r)){const a=UT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,s,r,i,a,l,d){this.key=e,this.documentType=s,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new En(e,0,dt.min(),dt.min(),dt.min(),nr.empty(),0)}static newFoundDocument(e,s,r,i){return new En(e,1,s,dt.min(),r,i,0)}static newNoDocument(e,s){return new En(e,2,s,dt.min(),dt.min(),nr.empty(),0)}static newUnknownDocument(e,s){return new En(e,3,s,dt.min(),dt.min(),nr.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,s){this.position=e,this.inclusive=s}}function B2(t,e,s){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Xe.comparator(Xe.fromName(l.referenceValue),s.key):r=Qc(l,s.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function $2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let s=0;s<t.position.length;s++)if(!Di(t.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,s="asc"){this.field=e,this.dir=s}}function V9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{}class $s extends zT{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new z9(e,s,r):s==="array-contains"?new W9(e,r):s==="in"?new q9(e,r):s==="not-in"?new K9(e,r):s==="array-contains-any"?new Q9(e,r):new $s(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new H9(e,r):new G9(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(Qc(s,this.value)):s!==null&&Sl(this.value)===Sl(s)&&this.matchesComparison(Qc(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends zT{constructor(e,s){super(),this.filters=e,this.op=s,this.ae=null}static create(e,s){return new di(e,s)}matches(e){return HT(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function HT(t){return t.op==="and"}function GT(t){return U9(t)&&HT(t)}function U9(t){for(const e of t.filters)if(e instanceof di)return!1;return!0}function Dy(t){if(t instanceof $s)return t.field.canonicalString()+t.op.toString()+Xc(t.value);if(GT(t))return t.filters.map((e=>Dy(e))).join(",");{const e=t.filters.map((s=>Dy(s))).join(",");return`${t.op}(${e})`}}function WT(t,e){return t instanceof $s?(function(r,i){return i instanceof $s&&r.op===i.op&&r.field.isEqual(i.field)&&Di(r.value,i.value)})(t,e):t instanceof di?(function(r,i){return i instanceof di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,d)=>a&&WT(l,i.filters[d])),!0):!1})(t,e):void ot()}function qT(t){return t instanceof $s?(function(s){return`${s.field.canonicalString()} ${s.op} ${Xc(s.value)}`})(t):t instanceof di?(function(s){return s.op.toString()+" {"+s.getFilters().map(qT).join(" ,")+"}"})(t):"Filter"}class z9 extends $s{constructor(e,s,r){super(e,s,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const s=Xe.comparator(e.key,this.key);return this.matchesComparison(s)}}class H9 extends $s{constructor(e,s){super(e,"in",s),this.keys=KT("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class G9 extends $s{constructor(e,s){super(e,"not-in",s),this.keys=KT("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function KT(t,e){var s;return(((s=e.arrayValue)===null||s===void 0?void 0:s.values)||[]).map((r=>Xe.fromName(r.referenceValue)))}class W9 extends $s{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return G0(s)&&nh(s.arrayValue,this.value)}}class q9 extends $s{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&nh(this.value.arrayValue,s)}}class K9 extends $s{constructor(e,s){super(e,"not-in",s)}matches(e){if(nh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&!nh(this.value.arrayValue,s)}}class Q9 extends $s{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!G0(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>nh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e,s=null,r=[],i=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=d,this.ue=null}}function O2(t,e=null,s=[],r=[],i=null,a=null,l=null){return new X9(t,e,s,r,i,a,l)}function W0(t){const e=ut(t);if(e.ue===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>Dy(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Zf(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>Xc(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>Xc(r))).join(",")),e.ue=s}return e.ue}function q0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!V9(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(!WT(t.filters[s],e.filters[s]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$2(t.startAt,e.startAt)&&$2(t.endAt,e.endAt)}function My(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,s=null,r=[],i=[],a=null,l="F",d=null,u=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Y9(t,e,s,r,i,a,l,d){return new Na(t,e,s,r,i,a,l,d)}function K0(t){return new Na(t)}function V2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Q0(t){return t.collectionGroup!==null}function Uc(t){const e=ut(t);if(e.ce===null){e.ce=[];const s=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),s.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new xn(pn.comparator);return l.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((a=>{s.has(a.canonicalString())||a.isKeyField()||e.ce.push(new rh(a,r))})),s.has(pn.keyField().canonicalString())||e.ce.push(new rh(pn.keyField(),r))}return e.ce}function Ei(t){const e=ut(t);return e.le||(e.le=J9(e,Uc(t))),e.le}function J9(t,e){if(t.limitType==="F")return O2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new rh(i.field,a)}));const s=t.endAt?new Yc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yc(t.startAt.position,t.startAt.inclusive):null;return O2(t.path,t.collectionGroup,e,t.filters,t.limit,s,r)}}function Fy(t,e){const s=t.filters.concat([e]);return new Na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),s,t.limit,t.limitType,t.startAt,t.endAt)}function xf(t,e,s){return new Na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,s,t.startAt,t.endAt)}function tg(t,e){return q0(Ei(t),Ei(e))&&t.limitType===e.limitType}function QT(t){return`${W0(Ei(t))}|lt:${t.limitType}`}function Cc(t){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((i=>qT(i))).join(", ")}]`),Zf(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((i=>Xc(i))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((i=>Xc(i))).join(",")),`Target(${r})`})(Ei(t))}; limitType=${t.limitType})`}function sg(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Xe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Uc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,d,u){const h=B2(l,d,u);return l.inclusive?h<=0:h<0})(r.startAt,Uc(r),i)||r.endAt&&!(function(l,d,u){const h=B2(l,d,u);return l.inclusive?h>=0:h>0})(r.endAt,Uc(r),i))})(t,e)}function Z9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XT(t){return(e,s)=>{let r=!1;for(const i of Uc(t)){const a=eM(i,e,s);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function eM(t,e,s){const r=t.field.isKeyField()?Xe.comparator(e.key,s.key):(function(a,l,d){const u=l.data.field(a),h=d.data.field(a);return u!==null&&h!==null?Qc(u,h):ot()})(t.field,e,s);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,s]);i.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[s]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Al(this.inner,((s,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new gs(Xe.comparator);function ba(){return tM}const YT=new gs(Xe.comparator);function _u(...t){let e=YT;for(const s of t)e=e.insert(s.key,s);return e}function JT(t){let e=YT;return t.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function dl(){return Lu()}function ZT(){return Lu()}function Lu(){return new md((t=>t.toString()),((t,e)=>t.isEqual(e)))}const sM=new gs(Xe.comparator),nM=new xn(Xe.comparator);function kt(...t){let e=nM;for(const s of t)e=e.add(s);return e}const rM=new xn(Bt);function iM(){return rM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(e)?"-0":e}}function eC(t){return{integerValue:""+t}}function aM(t,e){return M9(e)?eC(e):X0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this._=void 0}}function oM(t,e,s){return t instanceof ih?(function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&eg(a)&&(a=H0(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}})(s,e):t instanceof ah?sC(t,e):t instanceof oh?nC(t,e):(function(i,a){const l=tC(i,a),d=U2(l)+U2(i.Pe);return Ly(l)&&Ly(i.Pe)?eC(d):X0(i.serializer,d)})(t,e)}function lM(t,e,s){return t instanceof ah?sC(t,e):t instanceof oh?nC(t,e):s}function tC(t,e){return t instanceof vf?(function(r){return Ly(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class ih extends ng{}class ah extends ng{constructor(e){super(),this.elements=e}}function sC(t,e){const s=rC(e);for(const r of t.elements)s.some((i=>Di(i,r)))||s.push(r);return{arrayValue:{values:s}}}class oh extends ng{constructor(e){super(),this.elements=e}}function nC(t,e){let s=rC(e);for(const r of t.elements)s=s.filter((i=>!Di(i,r)));return{arrayValue:{values:s}}}class vf extends ng{constructor(e,s){super(),this.serializer=e,this.Pe=s}}function U2(t){return ks(t.integerValue||t.doubleValue)}function rC(t){return G0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,s){this.field=e,this.transform=s}}function dM(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ah&&i instanceof ah||r instanceof oh&&i instanceof oh?Kc(r.elements,i.elements,Di):r instanceof vf&&i instanceof vf?Di(r.Pe,i.Pe):r instanceof ih&&i instanceof ih})(t.transform,e.transform)}class uM{constructor(e,s){this.version=e,this.transformResults=s}}class Br{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rg{}function iC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Y0(t.key,Br.none()):new kh(t.key,t.data,Br.none());{const s=t.data,r=nr.empty();let i=new xn(pn.comparator);for(let a of e.fields)if(!i.has(a)){let l=s.field(a);l===null&&a.length>1&&(a=a.popLast(),l=s.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new jo(t.key,r,new xr(i.toArray()),Br.none())}}function hM(t,e,s){t instanceof kh?(function(i,a,l){const d=i.value.clone(),u=H2(i.fieldTransforms,a,l.transformResults);d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,s):t instanceof jo?(function(i,a,l){if(!Hp(i.precondition,a))return void a.convertToUnknownDocument(l.version);const d=H2(i.fieldTransforms,a,l.transformResults),u=a.data;u.setAll(aC(i)),u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,s):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,s)}function Du(t,e,s,r){return t instanceof kh?(function(a,l,d,u){if(!Hp(a.precondition,l))return d;const h=a.value.clone(),p=G2(a.fieldTransforms,u,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,s,r):t instanceof jo?(function(a,l,d,u){if(!Hp(a.precondition,l))return d;const h=G2(a.fieldTransforms,u,l),p=l.data;return p.setAll(aC(a)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,s,r):(function(a,l,d){return Hp(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,s)}function mM(t,e){let s=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=tC(r.transform,i||null);a!=null&&(s===null&&(s=nr.empty()),s.set(r.field,a))}return s||null}function z2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Kc(r,i,((a,l)=>dM(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kh extends rg{constructor(e,s,r,i=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class jo extends rg{constructor(e,s,r,i,a=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function aC(t){const e=new Map;return t.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=t.data.field(s);e.set(s,r)}})),e}function H2(t,e,s){const r=new Map;Vt(t.length===s.length);for(let i=0;i<s.length;i++){const a=t[i],l=a.transform,d=e.data.field(a.field);r.set(a.field,lM(l,d,s[i]))}return r}function G2(t,e,s){const r=new Map;for(const i of t){const a=i.transform,l=s.data.field(i.field);r.set(i.field,oM(a,l,e))}return r}class Y0 extends rg{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pM extends rg{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,s,r,i){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&hM(a,e,r[i])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=Du(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=Du(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=ZT();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=s.has(i.key)?null:d;const u=iC(l,d);u!==null&&r.set(i.key,u),l.isValidDocument()||l.convertToNoDocument(dt.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),kt())}isEqual(e){return this.batchId===e.batchId&&Kc(this.mutations,e.mutations,((s,r)=>z2(s,r)))&&Kc(this.baseMutations,e.baseMutations,((s,r)=>z2(s,r)))}}class J0{constructor(e,s,r,i){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=i}static from(e,s,r){Vt(e.mutations.length===r.length);let i=(function(){return sM})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new J0(e,s,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ds,Rt;function vM(t){switch(t){default:return ot();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function oC(t){if(t===void 0)return ya("GRPC error has no .code"),pe.UNKNOWN;switch(t){case Ds.OK:return pe.OK;case Ds.CANCELLED:return pe.CANCELLED;case Ds.UNKNOWN:return pe.UNKNOWN;case Ds.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Ds.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Ds.INTERNAL:return pe.INTERNAL;case Ds.UNAVAILABLE:return pe.UNAVAILABLE;case Ds.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Ds.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Ds.NOT_FOUND:return pe.NOT_FOUND;case Ds.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Ds.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Ds.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Ds.ABORTED:return pe.ABORTED;case Ds.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Ds.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Ds.DATA_LOSS:return pe.DATA_LOSS;default:return ot()}}(Rt=Ds||(Ds={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new fl([4294967295,4294967295],0);function W2(t){const e=yM().encode(t),s=new RT;return s.update(e),new Uint8Array(s.digest())}function q2(t){const e=new DataView(t.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new fl([s,r],0),new fl([i,a],0)]}class Z0{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new wu(`Invalid padding: ${s}`);if(r<0)throw new wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wu(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new wu(`Invalid padding when bitmap length is 0: ${s}`);this.Ie=8*e.length-s,this.Te=fl.fromNumber(this.Ie)}Ee(e,s,r){let i=e.add(s.multiply(fl.fromNumber(r)));return i.compare(bM)===1&&(i=new fl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const s=W2(e),[r,i]=q2(s);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);if(!this.de(l))return!1}return!0}static create(e,s,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Z0(a,i,s);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.Ie===0)return;const s=W2(e),[r,i]=q2(s);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);this.Ae(l)}}Ae(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,s,r,i,a){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const i=new Map;return i.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new ig(dt.min(),i,new gs(Bt),ba(),kt())}}class Th{constructor(e,s,r,i,a){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new Th(r,s,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,s,r,i){this.Re=e,this.removedTargetIds=s,this.key=r,this.Ve=i}}class lC{constructor(e,s){this.targetId=e,this.me=s}}class cC{constructor(e,s,r=vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=i}}class K2{constructor(){this.fe=0,this.ge=X2(),this.pe=vn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=kt(),s=kt(),r=kt();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:s=s.add(i);break;case 1:r=r.add(i);break;default:ot()}})),new Th(this.pe,this.ye,e,s,r)}Ce(){this.we=!1,this.ge=X2()}Fe(e,s){this.we=!0,this.ge=this.ge.insert(e,s)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _M{constructor(e){this.Le=e,this.Be=new Map,this.ke=ba(),this.qe=Q2(),this.Qe=new gs(Bt)}Ke(e){for(const s of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(s,e.Ve):this.Ue(s,e.key,e.Ve);for(const s of e.removedTargetIds)this.Ue(s,e.key,e.Ve)}We(e){this.forEachTarget(e,(s=>{const r=this.Ge(s);switch(e.state){case 0:this.ze(s)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(s);break;case 3:this.ze(s)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(s)&&(this.je(s),r.De(e.resumeToken));break;default:ot()}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.Be.forEach(((r,i)=>{this.ze(i)&&s(i)}))}He(e){const s=e.targetId,r=e.me.count,i=this.Je(s);if(i){const a=i.target;if(My(a))if(r===0){const l=new Xe(a.path);this.Ue(s,l,En.newNoDocument(l,dt.min()))}else Vt(r===1);else{const l=this.Ye(s);if(l!==r){const d=this.Ze(e),u=d?this.Xe(d,e,l):1;if(u!==0){this.je(s);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(s,h)}}}}}Ze(e){const s=e.me.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=s;let l,d;try{l=jl(r).toUint8Array()}catch(u){if(u instanceof VT)return qc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{d=new Z0(l,i,a)}catch(u){return qc(u instanceof wu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return d.Ie===0?null:d}Xe(e,s,r){return s.me.count===r-this.nt(e,s.targetId)?0:2}nt(e,s){const r=this.Le.getRemoteKeysForTarget(s);let i=0;return r.forEach((a=>{const l=this.Le.tt(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Ue(s,a,null),i++)})),i}rt(e){const s=new Map;this.Be.forEach(((a,l)=>{const d=this.Je(l);if(d){if(a.current&&My(d.target)){const u=new Xe(d.target.path);this.ke.get(u)!==null||this.it(l,u)||this.Ue(l,u,En.newNoDocument(u,e))}a.be&&(s.set(l,a.ve()),a.Ce())}}));let r=kt();this.qe.forEach(((a,l)=>{let d=!0;l.forEachWhile((u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ke.forEach(((a,l)=>l.setReadTime(e)));const i=new ig(e,s,this.Qe,this.ke,r);return this.ke=ba(),this.qe=Q2(),this.Qe=new gs(Bt),i}$e(e,s){if(!this.ze(e))return;const r=this.it(e,s.key)?2:0;this.Ge(e).Fe(s.key,r),this.ke=this.ke.insert(s.key,s),this.qe=this.qe.insert(s.key,this.st(s.key).add(e))}Ue(e,s,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,s)?i.Fe(s,1):i.Me(s),this.qe=this.qe.insert(s,this.st(s).delete(e)),r&&(this.ke=this.ke.insert(s,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const s=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let s=this.Be.get(e);return s||(s=new K2,this.Be.set(e,s)),s}st(e){let s=this.qe.get(e);return s||(s=new xn(Bt),this.qe=this.qe.insert(e,s)),s}ze(e){const s=this.Je(e)!==null;return s||He("WatchChangeAggregator","Detected inactive target",e),s}Je(e){const s=this.Be.get(e);return s&&s.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new K2),this.Le.getRemoteKeysForTarget(e).forEach((s=>{this.Ue(e,s,null)}))}it(e,s){return this.Le.getRemoteKeysForTarget(e).has(s)}}function Q2(){return new gs(Xe.comparator)}function X2(){return new gs(Xe.comparator)}const wM={asc:"ASCENDING",desc:"DESCENDING"},jM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SM={and:"AND",or:"OR"};class NM{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function By(t,e){return t.useProto3Json||Zf(e)?e:{value:e}}function yf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kM(t,e){return yf(t,e.toTimestamp())}function Ai(t){return Vt(!!t),dt.fromTimestamp((function(s){const r=vo(s);return new _s(r.seconds,r.nanos)})(t))}function e1(t,e){return $y(t,e).canonicalString()}function $y(t,e){const s=(function(i){return new Wt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?s:s.child(e)}function uC(t){const e=Wt.fromString(t);return Vt(gC(e)),e}function Oy(t,e){return e1(t.databaseId,e.path)}function xv(t,e){const s=uC(e);if(s.get(1)!==t.databaseId.projectId)throw new De(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+t.databaseId.projectId);if(s.get(3)!==t.databaseId.database)throw new De(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+t.databaseId.database);return new Xe(mC(s))}function hC(t,e){return e1(t.databaseId,e)}function TM(t){const e=uC(t);return e.length===4?Wt.emptyPath():mC(e)}function Vy(t){return new Wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mC(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Y2(t,e,s){return{name:Oy(t,e),fields:s.value.mapValue.fields}}function CM(t,e){let s;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ot()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(Vt(p===void 0||typeof p=="string"),vn.fromBase64String(p||"")):(Vt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),vn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(h){const p=h.code===void 0?pe.UNKNOWN:oC(h.code);return new De(p,h.message||"")})(l);s=new cC(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xv(t,r.document.name),a=Ai(r.document.updateTime),l=r.document.createTime?Ai(r.document.createTime):dt.min(),d=new nr({mapValue:{fields:r.document.fields}}),u=En.newFoundDocument(i,a,l,d),h=r.targetIds||[],p=r.removedTargetIds||[];s=new Gp(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xv(t,r.document),a=r.readTime?Ai(r.readTime):dt.min(),l=En.newNoDocument(i,a),d=r.removedTargetIds||[];s=new Gp([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xv(t,r.document),a=r.removedTargetIds||[];s=new Gp([],a,i,null)}else{if(!("filter"in e))return ot();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new xM(i,a),d=r.targetId;s=new lC(d,l)}}return s}function EM(t,e){let s;if(e instanceof kh)s={update:Y2(t,e.key,e.value)};else if(e instanceof Y0)s={delete:Oy(t,e.key)};else if(e instanceof jo)s={update:Y2(t,e.key,e.data),updateMask:BM(e.fieldMask)};else{if(!(e instanceof pM))return ot();s={verify:Oy(t,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof ih)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ah)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof oh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vf)return{fieldPath:l.field.canonicalString(),increment:d.Pe};throw ot()})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:kM(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ot()})(t,e.precondition)),s}function AM(t,e){return t&&t.length>0?(Vt(e!==void 0),t.map((s=>(function(i,a){let l=i.updateTime?Ai(i.updateTime):Ai(a);return l.isEqual(dt.min())&&(l=Ai(a)),new uM(l,i.transformResults||[])})(s,e)))):[]}function IM(t,e){return{documents:[hC(t,e.path)]}}function RM(t,e){const s={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=hC(t,i);const a=(function(h){if(h.length!==0)return fC(di.create(h,"and"))})(e.filters);a&&(s.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((p=>(function(v){return{field:Ec(v.field),direction:DM(v.dir)}})(p)))})(e.orderBy);l&&(s.structuredQuery.orderBy=l);const d=By(t,e.limit);return d!==null&&(s.structuredQuery.limit=d),e.startAt&&(s.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{_t:s,parent:i}}function PM(t){let e=TM(t.parent);const s=t.structuredQuery,r=s.from?s.from.length:0;let i=null;if(r>0){Vt(r===1);const p=s.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];s.where&&(a=(function(g){const v=pC(g);return v instanceof di&&GT(v)?v.getFilters():[v]})(s.where));let l=[];s.orderBy&&(l=(function(g){return g.map((v=>(function(S){return new rh(Ac(S.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(s.orderBy));let d=null;s.limit&&(d=(function(g){let v;return v=typeof g=="object"?g.value:g,Zf(v)?null:v})(s.limit));let u=null;s.startAt&&(u=(function(g){const v=!!g.before,b=g.values||[];return new Yc(b,v)})(s.startAt));let h=null;return s.endAt&&(h=(function(g){const v=!g.before,b=g.values||[];return new Yc(b,v)})(s.endAt)),Y9(e,i,l,a,d,"F",u,h)}function LM(t,e){const s=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function pC(t){return t.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Ac(s.unaryFilter.field);return $s.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ac(s.unaryFilter.field);return $s.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ac(s.unaryFilter.field);return $s.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ac(s.unaryFilter.field);return $s.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ot()}})(t):t.fieldFilter!==void 0?(function(s){return $s.create(Ac(s.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}})(s.fieldFilter.op),s.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(s){return di.create(s.compositeFilter.filters.map((r=>pC(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ot()}})(s.compositeFilter.op))})(t):ot()}function DM(t){return wM[t]}function MM(t){return jM[t]}function FM(t){return SM[t]}function Ec(t){return{fieldPath:t.canonicalString()}}function Ac(t){return pn.fromServerFormat(t.fieldPath)}function fC(t){return t instanceof $s?(function(s){if(s.op==="=="){if(F2(s.value))return{unaryFilter:{field:Ec(s.field),op:"IS_NAN"}};if(M2(s.value))return{unaryFilter:{field:Ec(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(F2(s.value))return{unaryFilter:{field:Ec(s.field),op:"IS_NOT_NAN"}};if(M2(s.value))return{unaryFilter:{field:Ec(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ec(s.field),op:MM(s.op),value:s.value}}})(t):t instanceof di?(function(s){const r=s.getFilters().map((i=>fC(i)));return r.length===1?r[0]:{compositeFilter:{op:FM(s.op),filters:r}}})(t):ot()}function BM(t){const e=[];return t.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function gC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,s,r,i,a=dt.min(),l=dt.min(),d=vn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=u}withSequenceNumber(e){return new oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.ct=e}}function OM(t){const e=PM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.un=new UM}addToCollectionParentIndex(e,s){return this.un.add(s),we.resolve()}getCollectionParents(e,s){return we.resolve(this.un.getEntries(s))}addFieldIndex(e,s){return we.resolve()}deleteFieldIndex(e,s){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,s){return we.resolve()}getDocumentsMatchingTarget(e,s){return we.resolve(null)}getIndexType(e,s){return we.resolve(0)}getFieldIndexes(e,s){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,s){return we.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,s){return we.resolve(xo.min())}updateCollectionGroup(e,s,r){return we.resolve()}updateIndexEntries(e,s){return we.resolve()}}class UM{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s]||new xn(Wt.comparator),a=!i.has(r);return this.index[s]=i.add(r),a}has(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xn(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Jc(0)}static kn(){return new Jc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.changes=new md((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?we.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,s,r,i){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,s)))).next((i=>(r!==null&&Du(r.mutation,i,xr.empty(),_s.now()),i)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,kt()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=kt()){const i=dl();return this.populateOverlays(e,i,s).next((()=>this.computeViews(e,s,i,r).next((a=>{let l=_u();return a.forEach(((d,u)=>{l=l.insert(d,u.overlayedDocument)})),l}))))}getOverlayedDocuments(e,s){const r=dl();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,kt())))}populateOverlays(e,s,r){const i=[];return r.forEach((a=>{s.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,d)=>{s.set(l,d)}))}))}computeViews(e,s,r,i){let a=ba();const l=Lu(),d=(function(){return Lu()})();return s.forEach(((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof jo)?a=a.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Du(p.mutation,h,p.mutation.getFieldMask(),_s.now())):l.set(h.key,xr.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((h,p)=>l.set(h,p))),s.forEach(((h,p)=>{var g;return d.set(h,new HM(p,(g=l.get(h))!==null&&g!==void 0?g:null))})),d)))}recalculateAndSaveOverlays(e,s){const r=Lu();let i=new gs(((l,d)=>l-d)),a=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((l=>{for(const d of l)d.keys().forEach((u=>{const h=s.get(u);if(h===null)return;let p=r.get(u)||xr.empty();p=d.applyToLocalView(h,p),r.set(u,p);const g=(i.get(d.batchId)||kt()).add(u);i=i.insert(d.batchId,g)}))})).next((()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const u=d.getNext(),h=u.key,p=u.value,g=ZT();p.forEach((v=>{if(!a.has(v)){const b=iC(s.get(v),r.get(v));b!==null&&g.set(v,b),a=a.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return we.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,i){return(function(l){return Xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):Q0(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,i):this.getDocumentsMatchingCollectionQuery(e,s,r,i)}getNextDocuments(e,s,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,i-a.size):we.resolve(dl());let d=-1,u=a;return l.next((h=>we.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),a.get(p)?we.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{u=u.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,u,h,kt()))).next((p=>({batchId:d,changes:JT(p)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Xe(s)).next((r=>{let i=_u();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,i){const a=s.collectionGroup;let l=_u();return this.indexManager.getCollectionParents(e,a).next((d=>we.forEach(d,(u=>{const h=(function(g,v){return new Na(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(s,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,v)=>{l=l.insert(g,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,s,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,a,i)))).next((l=>{a.forEach(((u,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,En.newInvalidDocument(p)))}));let d=_u();return l.forEach(((u,h)=>{const p=a.get(u);p!==void 0&&Du(p.mutation,h,xr.empty(),_s.now()),sg(s,h)&&(d=d.insert(u,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,s){return we.resolve(this.hr.get(s))}saveBundleMetadata(e,s){return this.hr.set(s.id,(function(i){return{id:i.id,version:i.version,createTime:Ai(i.createTime)}})(s)),we.resolve()}getNamedQuery(e,s){return we.resolve(this.Pr.get(s))}saveNamedQuery(e,s){return this.Pr.set(s.name,(function(i){return{name:i.name,query:OM(i.bundledQuery),readTime:Ai(i.readTime)}})(s)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.overlays=new gs(Xe.comparator),this.Ir=new Map}getOverlay(e,s){return we.resolve(this.overlays.get(s))}getOverlays(e,s){const r=dl();return we.forEach(s,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((i,a)=>{this.ht(e,s,a)})),we.resolve()}removeOverlaysForBatchId(e,s,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),we.resolve()}getOverlaysForCollection(e,s,r){const i=dl(),a=s.length+1,l=new Xe(s.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const u=d.getNext().value,h=u.getKey();if(!s.isPrefixOf(h.path))break;h.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return we.resolve(i)}getOverlaysForCollectionGroup(e,s,r,i){let a=new gs(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===s&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=dl(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=dl(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=i)););return we.resolve(d)}ht(e,s,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new gM(s,r));let a=this.Ir.get(s);a===void 0&&(a=kt(),this.Ir.set(s,a)),this.Ir.set(s,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.Tr=new xn(Zs.Er),this.dr=new xn(Zs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,s){const r=new Zs(e,s);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Vr(new Zs(e,s))}mr(e,s){e.forEach((r=>this.removeReference(r,s)))}gr(e){const s=new Xe(new Wt([])),r=new Zs(s,e),i=new Zs(s,e+1),a=[];return this.dr.forEachInRange([r,i],(l=>{this.Vr(l),a.push(l.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const s=new Xe(new Wt([])),r=new Zs(s,e),i=new Zs(s,e+1);let a=kt();return this.dr.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const s=new Zs(e,0),r=this.Tr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Zs{constructor(e,s){this.key=e,this.wr=s}static Er(e,s){return Xe.comparator(e.key,s.key)||Bt(e.wr,s.wr)}static Ar(e,s){return Bt(e.wr,s.wr)||Xe.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Sr=1,this.br=new xn(Zs.Er)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new fM(a,s,r,i);this.mutationQueue.push(l);for(const d of i)this.br=this.br.add(new Zs(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return we.resolve(l)}lookupMutationBatch(e,s){return we.resolve(this.Dr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=this.vr(r),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Zs(s,0),i=new Zs(s,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],(l=>{const d=this.Dr(l.wr);a.push(d)})),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new xn(Bt);return s.forEach((i=>{const a=new Zs(i,0),l=new Zs(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],(d=>{r=r.add(d.wr)}))})),we.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1;let a=r;Xe.isDocumentKey(a)||(a=a.child(""));const l=new Zs(new Xe(a),0);let d=new xn(Bt);return this.br.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(d=d.add(u.wr)),!0)}),l),we.resolve(this.Cr(d))}Cr(e){const s=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&s.push(i)})),s}removeMutationBatch(e,s){Vt(this.Fr(s.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return we.forEach(s.mutations,(i=>{const a=new Zs(i.key,s.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,s){const r=new Zs(s,0),i=this.br.firstAfterOrEqual(r);return we.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Fr(e,s){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const s=this.vr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.Mr=e,this.docs=(function(){return new gs(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,i=this.docs.get(r),a=i?i.size:0,l=this.Mr(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return we.resolve(r?r.document.mutableCopy():En.newInvalidDocument(s))}getEntries(e,s){let r=ba();return s.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():En.newInvalidDocument(i))})),we.resolve(r)}getDocumentsMatchingQuery(e,s,r,i){let a=ba();const l=s.path,d=new Xe(l.child("")),u=this.docs.getIteratorFrom(d);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||R9(I9(p),r)<=0||(i.has(p.key)||sg(s,p))&&(a=a.insert(p.key,p.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,s,r,i){ot()}Or(e,s){return we.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new YM(this)}getSize(e){return we.resolve(this.size)}}class YM extends zM{constructor(e){super(),this.cr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?s.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),we.waitFor(s)}getFromCache(e,s){return this.cr.getEntry(e,s)}getAllFromCache(e,s){return this.cr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.persistence=e,this.Nr=new md((s=>W0(s)),q0),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new t1,this.targetCount=0,this.kr=Jc.Bn()}forEachTarget(e,s){return this.Nr.forEach(((r,i)=>s(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.Lr&&(this.Lr=s),we.resolve()}Kn(e){this.Nr.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.kr=new Jc(s),this.highestTargetId=s),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,s){return this.Kn(s),this.targetCount+=1,we.resolve()}updateTargetData(e,s){return this.Kn(s),we.resolve()}removeTargetData(e,s){return this.Nr.delete(s.target),this.Br.gr(s.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,s,r){let i=0;const a=[];return this.Nr.forEach(((l,d)=>{d.sequenceNumber<=s&&r.get(d.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),we.waitFor(a).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,s){const r=this.Nr.get(s)||null;return we.resolve(r)}addMatchingKeys(e,s,r){return this.Br.Rr(s,r),we.resolve()}removeMatchingKeys(e,s,r){this.Br.mr(s,r);const i=this.persistence.referenceDelegate,a=[];return i&&s.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),we.waitFor(a)}removeMatchingKeysForTargetId(e,s){return this.Br.gr(s),we.resolve()}getMatchingKeysForTargetId(e,s){const r=this.Br.yr(s);return we.resolve(r)}containsKey(e,s){return we.resolve(this.Br.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,s){this.qr={},this.overlays={},this.Qr=new z0(0),this.Kr=!1,this.Kr=!0,this.$r=new KM,this.referenceDelegate=e(this),this.Ur=new JM(this),this.indexManager=new VM,this.remoteDocumentCache=(function(i){return new XM(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new $M(s),this.Gr=new WM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new qM,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.qr[e.toKey()];return r||(r=new QM(s,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,s,r){He("MemoryPersistence","Starting transaction:",e);const i=new e7(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,s){return we.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,s))))}}class e7 extends L9{constructor(e){super(),this.currentSequenceNumber=e}}class s1{constructor(e){this.persistence=e,this.Jr=new t1,this.Yr=null}static Zr(e){return new s1(e)}get Xr(){if(this.Yr)return this.Yr;throw ot()}addReference(e,s,r){return this.Jr.addReference(r,s),this.Xr.delete(r.toString()),we.resolve()}removeReference(e,s,r){return this.Jr.removeReference(r,s),this.Xr.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,s){return this.Xr.add(s.toString()),we.resolve()}removeTarget(e,s){this.Jr.gr(s.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,s)))}zr(){this.Yr=new Set}jr(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Xr,(r=>{const i=Xe.fromPath(r);return this.ei(e,i).next((a=>{a||s.removeEntry(i,dt.min())}))})).next((()=>(this.Yr=null,s.apply(e))))}updateLimboDocument(e,s){return this.ei(e,s).next((r=>{r?this.Xr.delete(s.toString()):this.Xr.add(s.toString())}))}Wr(e){return 0}ei(e,s){return we.or([()=>we.resolve(this.Jr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Hr(e,s)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,s,r,i){this.targetId=e,this.fromCache=s,this.$i=r,this.Ui=i}static Wi(e,s){let r=kt(),i=kt();for(const a of s.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new n1(e,s.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return tL()?8:D9(An())>0?6:4})()}initialize(e,s){this.Ji=e,this.indexManager=s,this.Gi=!0}getDocumentsMatchingQuery(e,s,r,i){const a={result:null};return this.Yi(e,s).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.Zi(e,s,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new t7;return this.Xi(e,s,l).next((d=>{if(a.result=d,this.zi)return this.es(e,s,l,d.size)}))})).next((()=>a.result))}es(e,s,r,i){return r.documentReadCount<this.ji?(lu()<=At.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",Cc(s),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),we.resolve()):(lu()<=At.DEBUG&&He("QueryEngine","Query:",Cc(s),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(lu()<=At.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",Cc(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(s))):we.resolve())}Yi(e,s){if(V2(s))return we.resolve(null);let r=Ei(s);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(s.limit!==null&&i===1&&(s=xf(s,null,"F"),r=Ei(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=kt(...a);return this.Ji.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.ts(s,d);return this.ns(s,h,l,u.readTime)?this.Yi(e,xf(s,null,"F")):this.rs(e,h,s,u)}))))})))))}Zi(e,s,r,i){return V2(s)||i.isEqual(dt.min())?we.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const l=this.ts(s,a);return this.ns(s,l,r,i)?we.resolve(null):(lu()<=At.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cc(s)),this.rs(e,l,s,A9(i,-1)).next((d=>d)))}))}ts(e,s){let r=new xn(XT(e));return s.forEach(((i,a)=>{sg(e,a)&&(r=r.add(a))})),r}ns(e,s,r,i){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const a=e.limitType==="F"?s.last():s.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,s,r){return lu()<=At.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Cc(s)),this.Ji.getDocumentsMatchingQuery(e,s,xo.min(),r)}rs(e,s,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((a=>(s.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,s,r,i){this.persistence=e,this.ss=s,this.serializer=i,this.os=new gs(Bt),this._s=new md((a=>W0(a)),q0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GM(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.os)))}}function r7(t,e,s,r){return new n7(t,e,s,r)}async function xC(t,e){const s=ut(t);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return s.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,s.ls(e),s.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let u=kt();for(const h of i){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of a){d.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return s.localDocuments.getDocuments(r,u).next((h=>({hs:h,removedBatchIds:l,addedBatchIds:d})))}))}))}function i7(t,e){const s=ut(t);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=s.cs.newChangeBuffer({trackRemovals:!0});return(function(d,u,h,p){const g=h.batch,v=g.keys();let b=we.resolve();return v.forEach((S=>{b=b.next((()=>p.getEntry(u,S))).next((E=>{const I=h.docVersions.get(S);Vt(I!==null),E.version.compareTo(I)<0&&(g.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(u,g)))})(s,r,e,a).next((()=>a.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let u=kt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(u=u.add(d.batch.mutations[h].key));return u})(e)))).next((()=>s.localDocuments.getDocuments(r,i)))}))}function vC(t){const e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Ur.getLastRemoteSnapshotVersion(s)))}function a7(t,e){const s=ut(t),r=e.snapshotVersion;let i=s.os;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=s.cs.newChangeBuffer({trackRemovals:!0});i=s.os;const d=[];e.targetChanges.forEach(((p,g)=>{const v=i.get(g);if(!v)return;d.push(s.Ur.removeMatchingKeys(a,p.removedDocuments,g).next((()=>s.Ur.addMatchingKeys(a,p.addedDocuments,g))));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(vn.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),(function(E,I,F){return E.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(v,b,p)&&d.push(s.Ur.updateTargetData(a,b))}));let u=ba(),h=kt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(s.persistence.referenceDelegate.updateLimboDocument(a,p))})),d.push(o7(a,l,e.documentUpdates).next((p=>{u=p.Ps,h=p.Is}))),!r.isEqual(dt.min())){const p=s.Ur.getLastRemoteSnapshotVersion(a).next((g=>s.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(p)}return we.waitFor(d).next((()=>l.apply(a))).next((()=>s.localDocuments.getLocalViewOfDocuments(a,u,h))).next((()=>u))})).then((a=>(s.os=i,a)))}function o7(t,e,s){let r=kt(),i=kt();return s.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ba();return s.forEach(((d,u)=>{const h=a.get(d);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(d)),u.isNoDocument()&&u.version.isEqual(dt.min())?(e.removeEntry(d,u.readTime),l=l.insert(d,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),l=l.insert(d,u)):He("LocalStore","Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",u.version)})),{Ps:l,Is:i}}))}function l7(t,e){const s=ut(t);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function c7(t,e){const s=ut(t);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return s.Ur.getTargetData(r,e).next((a=>a?(i=a,we.resolve(i)):s.Ur.allocateTargetId(r).next((l=>(i=new oo(e,l,"TargetPurposeListen",r.currentSequenceNumber),s.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=s.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.os=s.os.insert(r.targetId,r),s._s.set(e,r.targetId)),r}))}async function Uy(t,e,s){const r=ut(t),i=r.os.get(e),a=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Nh(l))throw l;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function J2(t,e,s){const r=ut(t);let i=dt.min(),a=kt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(u,h,p){const g=ut(u),v=g._s.get(p);return v!==void 0?we.resolve(g.os.get(v)):g.Ur.getTargetData(h,p)})(r,l,Ei(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,d.targetId).next((u=>{a=u}))})).next((()=>r.ss.getDocumentsMatchingQuery(l,e,s?i:dt.min(),s?a:kt()))).next((d=>(d7(r,Z9(e),d),{documents:d,Ts:a})))))}function d7(t,e,s){let r=t.us.get(e)||dt.min();s.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.us.set(e,r)}class Z2{constructor(){this.activeTargetIds=iM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u7{constructor(){this.so=new Z2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,s,r){this.oo[e]=s}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Z2,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp=null;function vv(){return dp===null?dp=(function(){return 268435456+Math.round(2147483648*Math.random())})():dp++,"0x"+dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class f7 extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const r=s.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+s.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(s,r,i,a,l){const d=vv(),u=this.xo(s,r.toUriEncodedString());He("RestConnection",`Sending RPC '${s}' ${d}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,l),this.No(s,u,h,i).then((p=>(He("RestConnection",`Received RPC '${s}' ${d}: `,p),p)),(p=>{throw qc("RestConnection",`RPC '${s}' ${d} failed with error: `,p,"url: ",u,"request:",i),p}))}Lo(s,r,i,a,l,d){return this.Mo(s,r,i,a,l)}Oo(s,r,i){s["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hd})(),s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,l)=>s[l]=a)),i&&i.headers.forEach(((a,l)=>s[l]=a))}xo(s,r){const i=m7[s];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,s,r,i){const a=vv();return new Promise(((l,d)=>{const u=new PT;u.setWithCredentials(!0),u.listenOnce(LT.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Up.NO_ERROR:const p=u.getResponseJson();He(Nn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case Up.TIMEOUT:He(Nn,`RPC '${e}' ${a} timed out`),d(new De(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:const g=u.getStatus();if(He(Nn,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const S=(function(I){const F=I.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(F)>=0?F:pe.UNKNOWN})(b.status);d(new De(S,b.message))}else d(new De(pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(new De(pe.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{He(Nn,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);He(Nn,`RPC '${e}' ${a} sending request:`,i),u.send(s,"POST",h,r,15)}))}Bo(e,s,r){const i=vv(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=FT(),d=MT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,s,r),u.encodeInitMessageHeaders=!0;const p=a.join("");He(Nn,`Creating RPC '${e}' stream ${i}: ${p}`,u);const g=l.createWebChannel(p,u);let v=!1,b=!1;const S=new p7({Io:I=>{b?He(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(v||(He(Nn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),He(Nn,`RPC '${e}' stream ${i} sending:`,I),g.send(I))},To:()=>g.close()}),E=(I,F,D)=>{I.listen(F,(A=>{try{D(A)}catch(y){setTimeout((()=>{throw y}),0)}}))};return E(g,bu.EventType.OPEN,(()=>{b||(He(Nn,`RPC '${e}' stream ${i} transport opened.`),S.yo())})),E(g,bu.EventType.CLOSE,(()=>{b||(b=!0,He(Nn,`RPC '${e}' stream ${i} transport closed`),S.So())})),E(g,bu.EventType.ERROR,(I=>{b||(b=!0,qc(Nn,`RPC '${e}' stream ${i} transport errored:`,I),S.So(new De(pe.UNAVAILABLE,"The operation could not be completed")))})),E(g,bu.EventType.MESSAGE,(I=>{var F;if(!b){const D=I.data[0];Vt(!!D);const A=D,y=A.error||((F=A[0])===null||F===void 0?void 0:F.error);if(y){He(Nn,`RPC '${e}' stream ${i} received error:`,y);const j=y.status;let M=(function(C){const L=Ds[C];if(L!==void 0)return oC(L)})(j),k=y.message;M===void 0&&(M=pe.INTERNAL,k="Unknown error status: "+j+" with message "+y.message),b=!0,S.So(new De(M,k)),g.close()}else He(Nn,`RPC '${e}' stream ${i} received:`,D),S.bo(D)}})),E(d,DT.STAT_EVENT,(I=>{I.stat===Ry.PROXY?He(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Ry.NOPROXY&&He(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.wo()}),0),S}}function yv(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t){return new NM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,s,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=s,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const s=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,s-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,s,r,i,a,l,d,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yC(e,s)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,s){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():s&&s.code===pe.RESOURCE_EXHAUSTED?(ya(s.toString()),ya("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):s&&s.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(s)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),s=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===s&&this.P_(r,i)}),(r=>{e((()=>{const i=new De(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,s){const r=this.h_(this.Yo);this.stream=this.T_(e,s),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return s=>{this.ui.enqueueAndForget((()=>this.Yo===e?s():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class g7 extends bC{constructor(e,s,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,i,l),this.serializer=a}T_(e,s){return this.connection.Bo("Listen",e,s)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const s=CM(this.serializer,e),r=(function(a){if(!("targetChange"in a))return dt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?dt.min():l.readTime?Ai(l.readTime):dt.min()})(e);return this.listener.d_(s,r)}A_(e){const s={};s.database=Vy(this.serializer),s.addTarget=(function(a,l){let d;const u=l.target;if(d=My(u)?{documents:IM(a,u)}:{query:RM(a,u)._t},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=dC(a,l.resumeToken);const h=By(a,l.expectedCount);h!==null&&(d.expectedCount=h)}else if(l.snapshotVersion.compareTo(dt.min())>0){d.readTime=yf(a,l.snapshotVersion.toTimestamp());const h=By(a,l.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=LM(this.serializer,e);r&&(s.labels=r),this.a_(s)}R_(e){const s={};s.database=Vy(this.serializer),s.removeTarget=e,this.a_(s)}}class x7 extends bC{constructor(e,s,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,i,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,s){return this.connection.Bo("Write",e,s)}E_(e){return Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const s=AM(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.g_(r,s)}p_(){const e={};e.database=Vy(this.serializer),this.a_(e)}m_(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>EM(this.serializer,r)))};this.a_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7 extends class{}{constructor(e,s,r,i){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new De(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,s,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Mo(e,$y(s,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new De(pe.UNKNOWN,a.toString())}))}Lo(e,s,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Lo(e,$y(s,r),i,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new De(pe.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class y7{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ya(s),this.D_=!1):He("OnlineStateTracker",s)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,s,r,i,a){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((l=>{r.enqueueAndForget((async()=>{Il(this)&&(He("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const h=ut(u);h.L_.add(4),await Ch(h),h.q_.set("Unknown"),h.L_.delete(4),await og(h)})(this))}))})),this.q_=new y7(r,i)}}async function og(t){if(Il(t))for(const e of t.B_)await e(!0)}async function Ch(t){for(const e of t.B_)await e(!1)}function _C(t,e){const s=ut(t);s.N_.has(e.targetId)||(s.N_.set(e.targetId,e),o1(s)?a1(s):pd(s).r_()&&i1(s,e))}function r1(t,e){const s=ut(t),r=pd(s);s.N_.delete(e),r.r_()&&wC(s,e),s.N_.size===0&&(r.r_()?r.o_():Il(s)&&s.q_.set("Unknown"))}function i1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const s=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}pd(t).A_(e)}function wC(t,e){t.Q_.xe(e),pd(t).R_(e)}function a1(t){t.Q_=new _M({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pd(t).start(),t.q_.v_()}function o1(t){return Il(t)&&!pd(t).n_()&&t.N_.size>0}function Il(t){return ut(t).L_.size===0}function jC(t){t.Q_=void 0}async function _7(t){t.q_.set("Online")}async function w7(t){t.N_.forEach(((e,s)=>{i1(t,e)}))}async function j7(t,e){jC(t),o1(t)?(t.q_.M_(e),a1(t)):t.q_.set("Unknown")}async function S7(t,e,s){if(t.q_.set("Online"),e instanceof cC&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const d of a.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bf(t,r)}else if(e instanceof Gp?t.Q_.Ke(e):e instanceof lC?t.Q_.He(e):t.Q_.We(e),!s.isEqual(dt.min()))try{const r=await vC(t.localStore);s.compareTo(r)>=0&&await(function(a,l){const d=a.Q_.rt(l);return d.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=a.N_.get(h);p&&a.N_.set(h,p.withResumeToken(u.resumeToken,l))}})),d.targetMismatches.forEach(((u,h)=>{const p=a.N_.get(u);if(!p)return;a.N_.set(u,p.withResumeToken(vn.EMPTY_BYTE_STRING,p.snapshotVersion)),wC(a,u);const g=new oo(p.target,u,h,p.sequenceNumber);i1(a,g)})),a.remoteSyncer.applyRemoteEvent(d)})(t,s)}catch(r){He("RemoteStore","Failed to raise snapshot:",r),await bf(t,r)}}async function bf(t,e,s){if(!Nh(e))throw e;t.L_.add(1),await Ch(t),t.q_.set("Offline"),s||(s=()=>vC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{He("RemoteStore","Retrying IndexedDB access"),await s(),t.L_.delete(1),await og(t)}))}function SC(t,e){return e().catch((s=>bf(t,s,e)))}async function lg(t){const e=ut(t),s=yo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;N7(e);)try{const i=await l7(e.localStore,r);if(i===null){e.O_.length===0&&s.o_();break}r=i.batchId,k7(e,i)}catch(i){await bf(e,i)}NC(e)&&kC(e)}function N7(t){return Il(t)&&t.O_.length<10}function k7(t,e){t.O_.push(e);const s=yo(t);s.r_()&&s.V_&&s.m_(e.mutations)}function NC(t){return Il(t)&&!yo(t).n_()&&t.O_.length>0}function kC(t){yo(t).start()}async function T7(t){yo(t).p_()}async function C7(t){const e=yo(t);for(const s of t.O_)e.m_(s.mutations)}async function E7(t,e,s){const r=t.O_.shift(),i=J0.from(r,e,s);await SC(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await lg(t)}async function A7(t,e){e&&yo(t).V_&&await(async function(r,i){if((function(l){return vM(l)&&l!==pe.ABORTED})(i.code)){const a=r.O_.shift();yo(r).s_(),await SC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await lg(r)}})(t,e),NC(t)&&kC(t)}async function tj(t,e){const s=ut(t);s.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=Il(s);s.L_.add(3),await Ch(s),r&&s.q_.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.L_.delete(3),await og(s)}async function I7(t,e){const s=ut(t);e?(s.L_.delete(2),await og(s)):e||(s.L_.add(2),await Ch(s),s.q_.set("Unknown"))}function pd(t){return t.K_||(t.K_=(function(s,r,i){const a=ut(s);return a.w_(),new g7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:_7.bind(null,t),Ro:w7.bind(null,t),mo:j7.bind(null,t),d_:S7.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),o1(t)?a1(t):t.q_.set("Unknown")):(await t.K_.stop(),jC(t))}))),t.K_}function yo(t){return t.U_||(t.U_=(function(s,r,i){const a=ut(s);return a.w_(),new x7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:T7.bind(null,t),mo:A7.bind(null,t),f_:C7.bind(null,t),g_:E7.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await lg(t)):(await t.U_.stop(),t.O_.length>0&&(He("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,s,r,i,a){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,i,a){const l=Date.now()+r,d=new l1(e,s,l,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c1(t,e){if(ya("AsyncQueue",`${e}: ${t}`),Nh(t))return new De(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.comparator=e?(s,r)=>e(s,r)||Xe.comparator(s.key,r.key):(s,r)=>Xe.comparator(s.key,r.key),this.keyedMap=_u(),this.sortedSet=new gs(this.comparator)}static emptySet(e){return new zc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof zc)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new zc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.W_=new gs(Xe.comparator)}track(e){const s=e.doc.key,r=this.W_.get(s);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(s,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(s):e.type===1&&r.type===2?this.W_=this.W_.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):ot():this.W_=this.W_.insert(s,e)}G_(){const e=[];return this.W_.inorderTraversal(((s,r)=>{e.push(r)})),e}}class Zc{constructor(e,s,r,i,a,l,d,u,h){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,s,r,i,a){const l=[];return s.forEach((d=>{l.push({type:0,doc:d})})),new Zc(e,s,zc.emptySet(s),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==r[i].type||!s[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class P7{constructor(){this.queries=nj(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(s,r){const i=ut(s),a=i.queries;i.queries=nj(),a.forEach(((l,d)=>{for(const u of d.j_)u.onError(r)}))})(this,new De(pe.ABORTED,"Firestore shutting down"))}}function nj(){return new md((t=>QT(t)),tg)}async function TC(t,e){const s=ut(t);let r=3;const i=e.query;let a=s.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new R7,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await s.onListen(i,!0);break;case 1:a.z_=await s.onListen(i,!1);break;case 2:await s.onFirstRemoteStoreListen(i)}}catch(l){const d=c1(l,`Initialization of query '${Cc(e.query)}' failed`);return void e.onError(d)}s.queries.set(i,a),a.j_.push(e),e.Z_(s.onlineState),a.z_&&e.X_(a.z_)&&d1(s)}async function CC(t,e){const s=ut(t),r=e.query;let i=3;const a=s.queries.get(r);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function L7(t,e){const s=ut(t);let r=!1;for(const i of e){const a=i.query,l=s.queries.get(a);if(l){for(const d of l.j_)d.X_(i)&&(r=!0);l.z_=i}}r&&d1(s)}function D7(t,e,s){const r=ut(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(s);r.queries.delete(e)}function d1(t){t.Y_.forEach((e=>{e.next()}))}var zy,rj;(rj=zy||(zy={})).ea="default",rj.Cache="cache";class EC{constructor(e,s,r){this.query=e,this.ta=s,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Zc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.na?this.ia(e)&&(this.ta.next(e),s=!0):this.sa(e,this.onlineState)&&(this.oa(e),s=!0),this.ra=e,s}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let s=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),s=!0),s}sa(e,s){if(!e.fromCache||!this.J_())return!0;const r=s!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const s=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}oa(e){e=Zc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.key=e}}class IC{constructor(e){this.key=e}}class M7{constructor(e,s){this.query=e,this.Ta=s,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=kt(),this.mutatedKeys=kt(),this.Aa=XT(e),this.Ra=new zc(this.Aa)}get Va(){return this.Ta}ma(e,s){const r=s?s.fa:new sj,i=s?s.Ra:this.Ra;let a=s?s.mutatedKeys:this.mutatedKeys,l=i,d=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const v=i.get(p),b=sg(this.query,g)?g:null,S=!!v&&this.mutatedKeys.has(v.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let I=!1;v&&b?v.data.isEqual(b.data)?S!==E&&(r.track({type:3,doc:b}),I=!0):this.ga(v,b)||(r.track({type:2,doc:b}),I=!0,(u&&this.Aa(b,u)>0||h&&this.Aa(b,h)<0)&&(d=!0)):!v&&b?(r.track({type:0,doc:b}),I=!0):v&&!b&&(r.track({type:1,doc:v}),I=!0,(u||h)&&(d=!0)),I&&(b?(l=l.add(b),a=E?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ra:l,fa:r,ns:d,mutatedKeys:a}}ga(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((p,g)=>(function(b,S){const E=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return E(b)-E(S)})(p.type,g.type)||this.Aa(p.doc,g.doc))),this.pa(r),i=i!=null&&i;const d=s&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,l.length!==0||h?{snapshot:new Zc(this.query,e.Ra,a,l,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sj,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((s=>this.Ta=this.Ta.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ta=this.Ta.delete(s))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=kt(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const s=[];return e.forEach((r=>{this.da.has(r)||s.push(new IC(r))})),this.da.forEach((r=>{e.has(r)||s.push(new AC(r))})),s}ba(e){this.Ta=e.Ts,this.da=kt();const s=this.ma(e.documents);return this.applyChanges(s,!0)}Da(){return Zc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class F7{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class B7{constructor(e){this.key=e,this.va=!1}}class $7{constructor(e,s,r,i,a,l){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new md((d=>QT(d)),tg),this.Ma=new Map,this.xa=new Set,this.Oa=new gs(Xe.comparator),this.Na=new Map,this.La=new t1,this.Ba={},this.ka=new Map,this.qa=Jc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function O7(t,e,s=!0){const r=FC(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await RC(r,e,s,!0),i}async function V7(t,e){const s=FC(t);await RC(s,e,!0,!1)}async function RC(t,e,s,r){const i=await c7(t.localStore,Ei(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,s);let d;return r&&(d=await U7(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&s&&_C(t.remoteStore,i),d}async function U7(t,e,s,r,i){t.Ka=(g,v,b)=>(async function(E,I,F,D){let A=I.view.ma(F);A.ns&&(A=await J2(E.localStore,I.query,!1).then((({documents:k})=>I.view.ma(k,A))));const y=D&&D.targetChanges.get(I.targetId),j=D&&D.targetMismatches.get(I.targetId)!=null,M=I.view.applyChanges(A,E.isPrimaryClient,y,j);return aj(E,I.targetId,M.wa),M.snapshot})(t,g,v,b);const a=await J2(t.localStore,e,!0),l=new M7(e,a.Ts),d=l.ma(a.documents),u=Th.createSynthesizedTargetChangeForCurrentChange(s,r&&t.onlineState!=="Offline",i),h=l.applyChanges(d,t.isPrimaryClient,u);aj(t,s,h.wa);const p=new F7(e,s,l);return t.Fa.set(e,p),t.Ma.has(s)?t.Ma.get(s).push(e):t.Ma.set(s,[e]),h.snapshot}async function z7(t,e,s){const r=ut(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter((l=>!tg(l,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uy(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),s&&r1(r.remoteStore,i.targetId),Hy(r,i.targetId)})).catch(Sh)):(Hy(r,i.targetId),await Uy(r.localStore,i.targetId,!0))}async function H7(t,e){const s=ut(t),r=s.Fa.get(e),i=s.Ma.get(r.targetId);s.isPrimaryClient&&i.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),r1(s.remoteStore,r.targetId))}async function G7(t,e,s){const r=J7(t);try{const i=await(function(l,d){const u=ut(l),h=_s.now(),p=d.reduce(((b,S)=>b.add(S.key)),kt());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let S=ba(),E=kt();return u.cs.getEntries(b,p).next((I=>{S=I,S.forEach(((F,D)=>{D.isValidDocument()||(E=E.add(F))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,S))).next((I=>{g=I;const F=[];for(const D of d){const A=mM(D,g.get(D.key).overlayedDocument);A!=null&&F.push(new jo(D.key,A,UT(A.value.mapValue),Br.exists(!0)))}return u.mutationQueue.addMutationBatch(b,h,F,d)})).next((I=>{v=I;const F=I.applyToLocalDocumentSet(g,E);return u.documentOverlayCache.saveOverlays(b,I.batchId,F)}))})).then((()=>({batchId:v.batchId,changes:JT(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,d,u){let h=l.Ba[l.currentUser.toKey()];h||(h=new gs(Bt)),h=h.insert(d,u),l.Ba[l.currentUser.toKey()]=h})(r,i.batchId,s),await Eh(r,i.changes),await lg(r.remoteStore)}catch(i){const a=c1(i,"Failed to persist write");s.reject(a)}}async function PC(t,e){const s=ut(t);try{const r=await a7(s.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=s.Na.get(a);l&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?Vt(l.va):i.removedDocuments.size>0&&(Vt(l.va),l.va=!1))})),await Eh(s,r,e)}catch(r){await Sh(r)}}function ij(t,e,s){const r=ut(t);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const i=[];r.Fa.forEach(((a,l)=>{const d=l.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(l,d){const u=ut(l);u.onlineState=d;let h=!1;u.queries.forEach(((p,g)=>{for(const v of g.j_)v.Z_(d)&&(h=!0)})),h&&d1(u)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W7(t,e,s){const r=ut(t);r.sharedClientState.updateQueryState(e,"rejected",s);const i=r.Na.get(e),a=i&&i.key;if(a){let l=new gs(Xe.comparator);l=l.insert(a,En.newNoDocument(a,dt.min()));const d=kt().add(a),u=new ig(dt.min(),new Map,new gs(Bt),l,d);await PC(r,u),r.Oa=r.Oa.remove(a),r.Na.delete(e),u1(r)}else await Uy(r.localStore,e,!1).then((()=>Hy(r,e,s))).catch(Sh)}async function q7(t,e){const s=ut(t),r=e.batch.batchId;try{const i=await i7(s.localStore,e);DC(s,r,null),LC(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Eh(s,i)}catch(i){await Sh(i)}}async function K7(t,e,s){const r=ut(t);try{const i=await(function(l,d){const u=ut(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return u.mutationQueue.lookupMutationBatch(h,d).next((g=>(Vt(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>u.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);DC(r,e,s),LC(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Eh(r,i)}catch(i){await Sh(i)}}function LC(t,e){(t.ka.get(e)||[]).forEach((s=>{s.resolve()})),t.ka.delete(e)}function DC(t,e,s){const r=ut(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(s?a.reject(s):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Hy(t,e,s=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),s&&t.Ca.$a(r,s);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||MC(t,r)}))}function MC(t,e){t.xa.delete(e.path.canonicalString());const s=t.Oa.get(e);s!==null&&(r1(t.remoteStore,s),t.Oa=t.Oa.remove(e),t.Na.delete(s),u1(t))}function aj(t,e,s){for(const r of s)r instanceof AC?(t.La.addReference(r.key,e),Q7(t,r)):r instanceof IC?(He("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||MC(t,r.key)):ot()}function Q7(t,e){const s=e.key,r=s.path.canonicalString();t.Oa.get(s)||t.xa.has(r)||(He("SyncEngine","New document in limbo: "+s),t.xa.add(r),u1(t))}function u1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const s=new Xe(Wt.fromString(e)),r=t.qa.next();t.Na.set(r,new B7(s)),t.Oa=t.Oa.insert(s,r),_C(t.remoteStore,new oo(Ei(K0(s.path)),r,"TargetPurposeLimboResolution",z0.oe))}}async function Eh(t,e,s){const r=ut(t),i=[],a=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,u)=>{l.push(r.Ka(u,e,s).then((h=>{var p;if((h||s)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=s==null?void 0:s.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=n1.Wi(u.targetId,h);a.push(g)}})))})),await Promise.all(l),r.Ca.d_(i),await(async function(u,h){const p=ut(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>we.forEach(h,(v=>we.forEach(v.$i,(b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b))).next((()=>we.forEach(v.Ui,(b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))))))}catch(g){if(!Nh(g))throw g;He("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.os.get(v),S=b.snapshotVersion,E=b.withLastLimboFreeSnapshotVersion(S);p.os=p.os.insert(v,E)}}})(r.localStore,a))}async function X7(t,e){const s=ut(t);if(!s.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=await xC(s.localStore,e);s.currentUser=e,(function(a,l){a.ka.forEach((d=>{d.forEach((u=>{u.reject(new De(pe.CANCELLED,l))}))})),a.ka.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eh(s,r.hs)}}function Y7(t,e){const s=ut(t),r=s.Na.get(e);if(r&&r.va)return kt().add(r.key);{let i=kt();const a=s.Ma.get(e);if(!a)return i;for(const l of a){const d=s.Fa.get(l);i=i.unionWith(d.view.Va)}return i}}function FC(t){const e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W7.bind(null,e),e.Ca.d_=L7.bind(null,e.eventManager),e.Ca.$a=D7.bind(null,e.eventManager),e}function J7(t){const e=ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K7.bind(null,e),e}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ag(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,s){return null}Ha(e,s){return null}za(e){return r7(this.persistence,new s7,e.initialUser,this.serializer)}Ga(e){return new ZM(s1.Zr,this.serializer)}Wa(e){return new u7}async terminate(){var e,s;(e=this.gcScheduler)===null||e===void 0||e.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class Gy{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ij(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X7.bind(null,this.syncEngine),await I7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new P7})()}createDatastore(e){const s=ag(e.databaseInfo.databaseId),r=(function(a){return new f7(a)})(e.databaseInfo);return(function(a,l,d,u){return new v7(a,l,d,u)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,i,a,l,d){return new b7(r,i,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(s=>ij(this.syncEngine,s,0)),(function(){return ej.D()?new ej:new h7})())}createSyncEngine(e,s){return(function(i,a,l,d,u,h,p){const g=new $7(i,a,l,d,u,h);return p&&(g.Qa=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await(async function(i){const a=ut(i);He("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ch(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(s=this.eventManager)===null||s===void 0||s.terminate()}}Gy.provider={build:()=>new Gy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ya("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,s,r,i,a){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=i,this.user=Tn.UNAUTHENTICATED,this.clientId=$T.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{He("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(He("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=c1(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function bv(t,e){t.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const s=t.configuration;await e.initialize(s);let r=s.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await xC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function oj(t,e){t.asyncQueue.verifyOperationInProgress();const s=await eF(t);He("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(s,t.configuration),t.setCredentialChangeListener((r=>tj(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>tj(e.remoteStore,i))),t._onlineComponents=e}async function eF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{await bv(t,t._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(s))throw s;qc("Error using user provided cache. Falling back to memory cache: "+s),await bv(t,new _f)}}else He("FirestoreClient","Using default OfflineComponentProvider"),await bv(t,new _f);return t._offlineComponents}async function $C(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),await oj(t,t._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),await oj(t,new Gy))),t._onlineComponents}function tF(t){return $C(t).then((e=>e.syncEngine))}async function OC(t){const e=await $C(t),s=e.eventManager;return s.onListen=O7.bind(null,e.syncEngine),s.onUnlisten=z7.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=V7.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=H7.bind(null,e.syncEngine),s}function sF(t,e,s={}){const r=new ma;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,u,h){const p=new BC({next:v=>{p.Za(),l.enqueueAndForget((()=>CC(a,g)));const b=v.docs.has(d);!b&&v.fromCache?h.reject(new De(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&u&&u.source==="server"?h.reject(new De(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new EC(K0(d.path),p,{includeMetadataChanges:!0,_a:!0});return TC(a,g)})(await OC(t),t.asyncQueue,e,s,r))),r.promise}function nF(t,e,s={}){const r=new ma;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,u,h){const p=new BC({next:v=>{p.Za(),l.enqueueAndForget((()=>CC(a,g))),v.fromCache&&u.source==="server"?h.reject(new De(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new EC(d,p,{includeMetadataChanges:!0,_a:!0});return TC(a,g)})(await OC(t),t.asyncQueue,e,s,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e,s){if(!s)throw new De(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rF(t,e,s,r){if(e===!0&&r===!0)throw new De(pe.INVALID_ARGUMENT,`${t} and ${s} cannot be used together.`)}function cj(t){if(!Xe.isDocumentKey(t))throw new De(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dj(t){if(Xe.isDocumentKey(t))throw new De(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot()}function _a(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=cg(t);throw new De(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return t}function iF(t,e){if(e<=0)throw new De(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){var s,r;if(e.host===void 0){if(e.ssl!==void 0)throw new De(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(s=e.ssl)===null||s===void 0||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new De(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new De(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new De(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new De(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,s,r,i){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uj(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _9;switch(r.type){case"firstParty":return new N9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new De(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=lj.get(s);r&&(He("ComponentProvider","Removing Datastore"),lj.delete(s),r.terminate())})(this),Promise.resolve()}}function aF(t,e,s,r={}){var i;const a=(t=_a(t,Ah))._getSettings(),l=`${e}:${s}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let d,u;if(typeof r.mockUserToken=="string")d=r.mockUserToken,u=Tn.MOCK_USER;else{d=K6(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new De(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Tn(h)}t._authCredentials=new w9(new BT(d,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hi(this.firestore,e,this._query)}}class rr{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class go extends hi{constructor(e,s,r){super(e,s,K0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new Xe(e))}withConverter(e){return new go(this.firestore,e,this._path)}}function fd(t,e,...s){if(t=Gs(t),h1("collection","path",e),t instanceof Ah){const r=Wt.fromString(e,...s);return dj(r),new go(t,null,r)}{if(!(t instanceof rr||t instanceof go))throw new De(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...s));return dj(r),new go(t.firestore,null,r)}}function dg(t,e){if(t=_a(t,Ah),h1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new De(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hi(t,null,(function(r){return new Na(Wt.emptyPath(),r)})(e))}function fs(t,e,...s){if(t=Gs(t),arguments.length===1&&(e=$T.newId()),h1("doc","path",e),t instanceof Ah){const r=Wt.fromString(e,...s);return cj(r),new rr(t,null,new Xe(r))}{if(!(t instanceof rr||t instanceof go))throw new De(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Wt.fromString(e,...s));return cj(r),new rr(t.firestore,t instanceof go?t.converter:null,new Xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yC(this,"async_queue_retry"),this.Vu=()=>{const r=yv();r&&He("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const s=yv();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const s=yv();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const s=new ma;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Nh(e))throw e;He("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const s=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),d})(r);throw ya("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=s,s}enqueueAfterDelay(e,s,r){this.fu(),this.Ru.indexOf(e)>-1&&(s=0);const i=l1.createAndSchedule(this,e,s,r,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&ot()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const s of this.Tu)if(s.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.Tu)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const s=this.Tu.indexOf(e);this.Tu.splice(s,1)}}class Ih extends Ah{constructor(e,s,r,i){super(e,s,r,i),this.type="firestore",this._queue=new hj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hj(e),this._firestoreClient=void 0,await e}}}function oF(t,e){const s=typeof t=="object"?t:P0(),r=typeof t=="string"?t:"(default)",i=R0(s,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=W6("firestore");a&&aF(i,...a)}return i}function ug(t){if(t._terminated)throw new De(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lF(t),t._firestoreClient}function lF(t){var e,s,r;const i=t._freezeSettings(),a=(function(d,u,h,p){return new B9(d,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VC(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((s=i.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Z7(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(d){const u=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ed(vn.fromBase64String(e))}catch(s){throw new De(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new ed(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new De(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new De(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new De(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=/^__.*__$/;class dF{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new jo(e,this.data,this.fieldMask,s,this.fieldTransforms):new kh(e,this.data,s,this.fieldTransforms)}}class UC{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new jo(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function zC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class f1{constructor(e,s,r,i,a,l){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new f1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var s;const r=(s=this.path)===null||s===void 0?void 0:s.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var s;const r=(s=this.path)===null||s===void 0?void 0:s.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(zC(this.Cu)&&cF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class uF{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||ag(e)}Qu(e,s,r,i=!1){return new f1({Cu:e,methodName:s,qu:r,path:pn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(t){const e=t._freezeSettings(),s=ag(t._databaseId);return new uF(t._databaseId,!!e.ignoreUndefinedProperties,s)}function HC(t,e,s,r,i,a={}){const l=t.Qu(a.merge||a.mergeFields?2:0,e,s,i);x1("Data must be an object, but it was:",l,r);const d=WC(r,l);let u,h;if(a.merge)u=new xr(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const v=Wy(e,g,s);if(!l.contains(v))throw new De(pe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);KC(p,v)||p.push(v)}u=new xr(p),h=l.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=l.fieldTransforms;return new dF(new nr(d),u,h)}class fg extends mg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fg}}class g1 extends mg{_toFieldTransform(e){return new cM(e.path,new ih)}isEqual(e){return e instanceof g1}}function hF(t,e,s,r){const i=t.Qu(1,e,s);x1("Data must be an object, but it was:",i,r);const a=[],l=nr.empty();Al(r,((u,h)=>{const p=v1(e,u,s);h=Gs(h);const g=i.Nu(p);if(h instanceof fg)a.push(p);else{const v=Rh(h,g);v!=null&&(a.push(p),l.set(p,v))}}));const d=new xr(a);return new UC(l,d,i.fieldTransforms)}function mF(t,e,s,r,i,a){const l=t.Qu(1,e,s),d=[Wy(e,r,s)],u=[i];if(a.length%2!=0)throw new De(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)d.push(Wy(e,a[v])),u.push(a[v+1]);const h=[],p=nr.empty();for(let v=d.length-1;v>=0;--v)if(!KC(h,d[v])){const b=d[v];let S=u[v];S=Gs(S);const E=l.Nu(b);if(S instanceof fg)h.push(b);else{const I=Rh(S,E);I!=null&&(h.push(b),p.set(b,I))}}const g=new xr(h);return new UC(p,g,l.fieldTransforms)}function GC(t,e,s,r=!1){return Rh(s,t.Qu(r?4:3,e))}function Rh(t,e){if(qC(t=Gs(t)))return x1("Unsupported field value:",e,t),WC(t,e);if(t instanceof mg)return(function(r,i){if(!zC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const d of r){let u=Rh(d,i.Lu(l));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Gs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=_s.fromDate(r);return{timestampValue:yf(i.serializer,a)}}if(r instanceof _s){const a=new _s(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yf(i.serializer,a)}}if(r instanceof m1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ed)return{bytesValue:dC(i.serializer,r._byteString)};if(r instanceof rr){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:e1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof p1)return(function(l,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((u=>{if(typeof u!="number")throw d.Bu("VectorValues must only contain numeric values.");return X0(d.serializer,u)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${cg(r)}`)})(t,e)}function WC(t,e){const s={};return OT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Al(t,((r,i)=>{const a=Rh(i,e.Mu(r));a!=null&&(s[r]=a)})),{mapValue:{fields:s}}}function qC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _s||t instanceof m1||t instanceof ed||t instanceof rr||t instanceof mg||t instanceof p1)}function x1(t,e,s){if(!qC(s)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(s)){const r=cg(s);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Wy(t,e,s){if((e=Gs(e))instanceof hg)return e._internalPath;if(typeof e=="string")return v1(t,e);throw wf("Field path arguments must be of type string or ",t,!1,void 0,s)}const pF=new RegExp("[~\\*/\\[\\]]");function v1(t,e,s){if(e.search(pF)>=0)throw wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,s);try{return new hg(...e.split("."))._internalPath}catch(r){throw wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,s)}}function wf(t,e,s,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let d=`Function ${e}() called with invalid data`;s&&(d+=" (via `toFirestore()`)"),d+=". ";let u="";return(a||l)&&(u+=" (found",a&&(u+=` in field ${r}`),l&&(u+=` in document ${i}`),u+=")"),new De(pe.INVALID_ARGUMENT,d+t+u)}function KC(t,e){return t.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,s,r,i,a){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(gg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class fF extends y1{data(){return super.data()}}function gg(t,e){return typeof e=="string"?v1(t,e):e instanceof hg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b1{}class Ph extends b1{}function Un(t,e,...s){let r=[];e instanceof b1&&r.push(e),r=r.concat(s),(function(a){const l=a.filter((u=>u instanceof _1)).length,d=a.filter((u=>u instanceof xg)).length;if(l>1||l>0&&d>0)throw new De(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class xg extends Ph{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new xg(e,s,r)}_apply(e){const s=this._parse(e);return XC(e._query,s),new hi(e.firestore,e.converter,Fy(e._query,s))}_parse(e){const s=pg(e.firestore);return(function(a,l,d,u,h,p,g){let v;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new De(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){pj(g,p);const b=[];for(const S of g)b.push(mj(u,a,S));v={arrayValue:{values:b}}}else v=mj(u,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||pj(g,p),v=GC(d,l,g,p==="in"||p==="not-in");return $s.create(h,p,v)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function gl(t,e,s){const r=e,i=gg("where",t);return xg._create(i,r,s)}class _1 extends b1{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new _1(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:di.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(i,a){let l=i;const d=a.getFlattenedFilters();for(const u of d)XC(l,u),l=Fy(l,u)})(e._query,s),new hi(e.firestore,e.converter,Fy(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class w1 extends Ph{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new w1(e,s)}_apply(e){const s=(function(i,a,l){if(i.startAt!==null)throw new De(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new De(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rh(a,l)})(e._query,this._field,this._direction);return new hi(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new Na(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,s))}}function lo(t,e="asc"){const s=e,r=gg("orderBy",t);return w1._create(r,s)}class j1 extends Ph{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new j1(e,s,r)}_apply(e){return new hi(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}}function zn(t){return iF("limit",t),j1._create("limit",t,"F")}class S1 extends Ph{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new S1(e,s,r)}_apply(e){const s=QC(e,this.type,this._docOrFields,this._inclusive);return new hi(e.firestore,e.converter,(function(i,a){return new Na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,s))}}function ul(...t){return S1._create("startAt",t,!0)}class N1 extends Ph{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new N1(e,s,r)}_apply(e){const s=QC(e,this.type,this._docOrFields,this._inclusive);return new hi(e.firestore,e.converter,(function(i,a){return new Na(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,s))}}function hl(...t){return N1._create("endAt",t,!0)}function QC(t,e,s,r){if(s[0]=Gs(s[0]),s[0]instanceof y1)return(function(a,l,d,u,h){if(!u)throw new De(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const p=[];for(const g of Uc(a))if(g.field.isKeyField())p.push(gf(l,u.key));else{const v=u.data.field(g.field);if(eg(v))throw new De(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=g.field.canonicalString();throw new De(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(v)}return new Yc(p,h)})(t._query,t.firestore._databaseId,e,s[0]._document,r);{const i=pg(t.firestore);return(function(l,d,u,h,p,g){const v=l.explicitOrderBy;if(p.length>v.length)throw new De(pe.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let S=0;S<p.length;S++){const E=p[S];if(v[S].field.isKeyField()){if(typeof E!="string")throw new De(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof E}`);if(!Q0(l)&&E.indexOf("/")!==-1)throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${E}' contains a slash.`);const I=l.path.child(Wt.fromString(E));if(!Xe.isDocumentKey(I))throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${I}' is not because it contains an odd number of segments.`);const F=new Xe(I);b.push(gf(d,F))}else{const I=GC(u,h,E);b.push(I)}}return new Yc(b,g)})(t._query,t.firestore._databaseId,i,e,s,r)}}function mj(t,e,s){if(typeof(s=Gs(s))=="string"){if(s==="")throw new De(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q0(e)&&s.indexOf("/")!==-1)throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(Wt.fromString(s));if(!Xe.isDocumentKey(r))throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gf(t,new Xe(r))}if(s instanceof rr)return gf(t,s._key);throw new De(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cg(s)}.`)}function pj(t,e){if(!Array.isArray(t)||t.length===0)throw new De(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XC(t,e){const s=(function(i,a){for(const l of i)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new De(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class xF{convertValue(e,s="none"){switch(Sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ks(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw ot()}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return Al(e,((i,a)=>{r[i]=this.convertValue(a,s)})),r}convertVectorValue(e){var s,r,i;const a=(i=(r=(s=e.fields)===null||s===void 0?void 0:s.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((l=>ks(l.doubleValue)));return new p1(a)}convertGeoPoint(e){return new m1(ks(e.latitude),ks(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=H0(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(th(e));default:return null}}convertTimestamp(e){const s=vo(e);return new _s(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=Wt.fromString(e);Vt(gC(r));const i=new sh(r.get(1),r.get(3)),a=new Xe(r.popFirst(5));return i.isEqual(s)||ya(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e,s){let r;return r=t?s&&(s.merge||s.mergeFields)?t.toFirestore(e,s):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JC extends y1{constructor(e,s,r,i,a,l){super(e,s,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Wp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(gg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}}class Wp extends JC{data(e={}){return super.data(e)}}class vF{constructor(e,s,r,i){this._firestore=e,this._userDataWriter=s,this._snapshot=i,this.metadata=new ju(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Wp(this._firestore,this._userDataWriter,r.key,r,new ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new De(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((d=>{const u=new Wp(i._firestore,i._userDataWriter,d.doc.key,d.doc,new ju(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const u=new Wp(i._firestore,i._userDataWriter,d.doc.key,d.doc,new ju(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return d.type!==0&&(h=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),p=l.indexOf(d.doc.key)),{type:yF(d.type),doc:u,oldIndex:h,newIndex:p}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function yF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t){t=_a(t,rr);const e=_a(t.firestore,Ih);return sF(ug(e),t._key).then((s=>bF(e,t,s)))}class ZC extends xF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ed(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,s)}}function fn(t){t=_a(t,hi);const e=_a(t.firestore,Ih),s=ug(e),r=new ZC(e);return gF(t._query),nF(s,t._query).then((i=>new vF(e,r,t,i)))}function lh(t,e,s){t=_a(t,rr);const r=_a(t.firestore,Ih),i=YC(t.converter,e,s);return e5(r,[HC(pg(r),"setDoc",t._key,i,t.converter!==null,s).toMutation(t._key,Br.none())])}function e5(t,e){return(function(r,i){const a=new ma;return r.asyncQueue.enqueueAndForget((async()=>G7(await tF(r),i,a))),a.promise})(ug(t),e)}function bF(t,e,s){const r=s.docs.get(e._key),i=new ZC(t);return new JC(t,i,e._key,r,new ju(s.hasPendingWrites,s.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=pg(e)}set(e,s,r){this._verifyNotCommitted();const i=_v(e,this._firestore),a=YC(i.converter,s,r),l=HC(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Br.none())),this}update(e,s,r,...i){this._verifyNotCommitted();const a=_v(e,this._firestore);let l;return l=typeof(s=Gs(s))=="string"||s instanceof hg?mF(this._dataReader,"WriteBatch.update",a._key,s,r,i):hF(this._dataReader,"WriteBatch.update",a._key,s),this._mutations.push(l.toMutation(a._key,Br.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=_v(e,this._firestore);return this._mutations=this._mutations.concat(new Y0(s._key,Br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _v(t,e){if((t=Gs(t)).firestore!==e)throw new De(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ni(){return new g1("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){return ug(t=_a(t,Ih)),new _F(t,(e=>e5(t,e)))}(function(e,s=!0){(function(i){hd=i})(dd),Wc(new yl("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new Ih(new j9(r.getProvider("auth-internal")),new T9(r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new De(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sh(h.options.projectId,p)})(l,i),l);return a=Object.assign({useFetchStreams:s},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),po(I2,"4.7.3",e),po(I2,"4.7.3","esm2017")})();const t5={apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};t5.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const s5=cD().length?P0():Xk(t5),Mt=oF(s5),up=y9(s5),n5=R.createContext(void 0),fj=`${wo}/auth/session`,gj=`${wo}/auth/logout`,jF=({children:t})=>{const[e,s]=R.useState(null),[r,i]=R.useState("idle"),a=R.useRef({tried:!1}),l=R.useCallback(E=>{E!=null&&E.authenticated&&E.user?(s(E.user),i("authenticated")):(s(null),i("unauthenticated"))},[]),d=R.useCallback(async()=>{if(i("loading"),!fj){console.warn("[Auth] AUTH_BASE_URL is not configured. Skipping session fetch."),s(null),i("unauthenticated");return}try{const E=await fetch(fj,{credentials:"include"});if(!E.ok)throw new Error(`Failed to fetch session (${E.status})`);const I=await E.json();l(I)}catch(E){console.error("[Auth] Failed to refresh session.",E),s(null),i("unauthenticated")}},[l]);R.useEffect(()=>{d()},[d]),R.useEffect(()=>{console.log("[AuthDebug] session user:",e);const E=up.currentUser;console.log("[AuthDebug] firebase currentUser uid:",E==null?void 0:E.uid),E==null||E.getIdTokenResult().then(I=>{console.log("[AuthDebug] firebase claims:",I.claims)}).catch(I=>{console.warn("[AuthDebug] failed to fetch token claims",I)})},[e]),R.useEffect(()=>{const E=o8(up,I=>{console.log("[AuthDebug] firebase currentUser uid:",I==null?void 0:I.uid)});return()=>E()},[]),R.useEffect(()=>{if(!e){a.current.tried=!1;return}a.current.tried||(a.current.tried=!0,(async()=>{try{const E=await B6();await r8(up,E),console.log("[AuthDebug] signed in to Firebase with custom token")}catch(E){console.error("[AuthDebug] failed to sign in to Firebase",E)}})())},[e]);const u=R.useCallback(E=>{window.location.href=`${wo}/auth/${E}/login`},[]),h=R.useCallback(()=>u("discord"),[u]),p=R.useCallback(()=>u("google"),[u]),g=R.useCallback(async()=>{if(await l8(up).catch(()=>{}),!gj){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),s(null),i("unauthenticated");return}try{const E=await fetch(gj,{method:"POST",credentials:"include"});if(!E.ok)throw new Error(`Logout failed (${E.status})`)}catch(E){console.error("[Auth] Failed to logout. Clearing local session anyway.",E)}finally{s(null),i("unauthenticated")}},[]),v=R.useCallback(async()=>{await d()},[d]),b=r==="idle"||r==="loading",S=R.useMemo(()=>({user:e,status:r,isLoading:b,loginWithDiscord:h,loginWithGoogle:p,logout:g,refreshSession:v}),[e,r,b,h,p,g,v]);return n.jsx(n5.Provider,{value:S,children:t})},Rl=()=>{const t=R.useContext(n5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},SF="https://i.pravatar.cc/72",NF=({fallbackName:t})=>{var D,A;const{user:e,status:s,logout:r,isLoading:i}=Rl(),a=Or(),[l,d]=R.useState(!1),u=R.useRef(null),h=s==="authenticated",p=h?(A=(D=e==null?void 0:e.displayName)!=null?D:t)!=null?A:"Player":t!=null?t:"Guest",g=h&&(e!=null&&e.avatarUrl)?e.avatarUrl:SF;R.useEffect(()=>{const y=j=>{u.current&&!u.current.contains(j.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),R.useEffect(()=>{i&&d(!1)},[i]);const v=R.useCallback(()=>d(!1),[]),b=()=>{d(y=>!y)},S=()=>{a("/login"),v()},E=()=>{a("/settings/account"),v()},I=R.useCallback(async()=>{try{await r()}finally{v(),a("/")}},[v,r,a]),F=()=>{var y;if(i)return n.jsx("p",{className:xt.accountStatusText,children:"Checking session..."});if(s==="unauthenticated")return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:xt.accountHeader,children:[n.jsx("p",{className:xt.accountName,children:"Not signed in"}),n.jsx("p",{className:xt.accountSub,children:"Your scans stay synced when you log in."})]}),n.jsx("button",{type:"button",className:xt.accountPrimary,onClick:S,children:"Sign in"}),n.jsx("p",{className:xt.accountHint,children:"Use Discord or Google on the sign-in page."})]});if(s==="authenticated"){const j=!!((y=e==null?void 0:e.roles)!=null&&y.includes("admin"));return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:xt.accountHeader,children:[n.jsx("img",{className:xt.accountMiniAvatar,src:g,alt:p}),n.jsxs("div",{children:[n.jsx("p",{className:xt.accountName,children:p}),n.jsxs("p",{className:xt.accountSub,children:["Signed in via ",(e==null?void 0:e.provider)==="google"?"Google":"Discord"]})]})]}),n.jsx("button",{type:"button",className:xt.accountItem,onClick:E,children:"Account & Profile"}),j?n.jsx("a",{className:xt.accountItem,href:"https://control-panel.sfdatahub.com/",target:"_blank",rel:"noreferrer",children:"Console Panel"}):null,n.jsx("hr",{className:xt.accountDivider}),n.jsx("button",{type:"button",className:`${xt.accountItem} ${xt.accountLogout}`,onClick:I,children:"Logout"})]})}return null};return n.jsxs("div",{className:xt.accountRoot,ref:u,children:[i?n.jsxs("div",{className:xt.avatarSpinnerShell,role:"status","aria-live":"polite","aria-label":"Checking login status",children:[n.jsx("span",{className:xt.avatarSpinner,"aria-hidden":"true"}),n.jsx("span",{className:xt.srOnly,children:"Checking login status"})]}):n.jsx("button",{type:"button",className:xt.avatarBtn,"aria-haspopup":"menu","aria-expanded":l,"aria-label":p,onClick:b,children:n.jsx("img",{className:xt.avatar,src:g,alt:p})}),!i&&l&&n.jsx("div",{className:xt.accountDropdown,role:"menu",children:F()})]})},r5=R.createContext(null);function kF({children:t,role:e}){const[s,r]=R.useState(!1),[i,a]=R.useState("csv"),l=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=R.useCallback(p=>{l&&(p!=null&&p.tab?a(p.tab):a("csv"),r(!0))},[l]),u=R.useCallback(()=>r(!1),[]),h=R.useMemo(()=>({isOpen:s,open:d,close:u,activeTab:i,setTab:a,canUse:l}),[s,d,u,i,l]);return n.jsx(r5.Provider,{value:h,children:t})}function i5(){const t=R.useContext(r5);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}const ii={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},ai=t=>`https://drive.google.com/uc?export=view&id=${t}`,a5=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Ws=[{key:"warrior",label:"Warrior",iconUrl:ai(ii.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:ai(ii.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:ai(ii.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:ai(ii.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:ai(ii["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:ai(ii.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:ai(ii["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:ai(ii.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:ai(ii.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:ai(ii.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:ai(ii.paladin),fallback:""}],qy=Object.fromEntries(Ws.map(t=>[t.key,t])),Ky=new Map;function xs(t,e){Ky.set(a5(t),e)}for(const t of Ws)xs(t.key,t.key),xs(t.label,t.key);xs("war","warrior");xs("krieger","warrior");xs("magier","mage");xs("jaeger","scout");xs("jger","scout");xs("assa","assassin");xs("meuchelmoerder","assassin");xs("meuchelmrder","assassin");xs("demonhunter","demon-hunter");xs("dh","demon-hunter");xs("daemonenjaeger","demon-hunter");xs("dmonenjger","demon-hunter");xs("zerker","berserker");xs("battlemage","battle-mage");xs("kampfmagier","battle-mage");xs("bm","battle-mage");xs("druide","druid");xs("barde","bard");xs("necro","necromancer");xs("nekromant","necromancer");xs("pala","paladin");function TF(t){const e=a5(t);if(!e)return{};const s=Ky.get(e);if(s){const r=qy[s];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of Ky.entries())if(r.startsWith(e)||e.startsWith(r)){const a=qy[i];return{url:a.iconUrl,fallback:a.fallback}}return{}}const CF=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Ws,CLASS_BY_KEY:qy,iconForClassName:TF},Symbol.toStringTag,{value:"Module"}));function vg(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const s=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(s!=null&&s[1])return s[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function qp(t){if(t==null)return;const e=vg(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function o5(t,e=64){if(t==null)return;const s=vg(t);if(!s)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${s}&sz=w${r}`}function l5(t,e){const s="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${s}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function c5(t,e,s,r){const i=qp(t);return i?l5(i,{w:e,h:s,fit:r}):void 0}function Vr(t,e=64){const s=o5(t,e);return s?l5(s,{w:e,h:e,fit:"contain"}):void 0}function wv(t){if(t==null)return;const e=vg(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function EF(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const Nl=Object.assign(t=>qp(t),{id:vg,direct:qp,thumb:o5,proxy:c5,thumbProxy:Vr,raw:wv,gif:wv,gifProxy:t=>{const e=wv(t);return e&&/^https?:\/\//i.test(e)?EF(e):qp(t)}}),jv=t=>Number.isFinite(t),_c=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},AF=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function IF(t,e=64){if(!t)return;const s=a=>a.toLowerCase().replace(/[^a-z0-9]+/g,""),r=s(t);let i=Ws.find(a=>s(a.label)===r);if(i||(i=Ws.find(a=>s(a.label).startsWith(r)||r.startsWith(s(a.label)))),!!i)return Vr(i.iconUrl,e)}function RF(t){const e=t.ref.parent,s=e==null?void 0:e.parent,r=s==null?void 0:s.parent;return{root:r==null?void 0:r.id,id:s==null?void 0:s.id}}function PF({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:s}){const r=Or(),[i,a]=Z.useState(""),[l,d]=Z.useState(""),[u,h]=Z.useState(!1),[p,g]=Z.useState(null),[v,b]=Z.useState([]),[S,E]=Z.useState([]),[I,F]=Z.useState([]),[D,A]=Z.useState(-1),y=Z.useRef(null);Z.useEffect(()=>{const w=setTimeout(()=>d(i.trim()),200);return()=>clearTimeout(w)},[i]),Z.useEffect(()=>{async function w(){g(null);const C=l;if(C.length<1){b([]),E([]),F([]),A(-1);return}h(!0);try{let L=function(Ce){var Le,Ae,et,pt,Jt,Ts,Cs,bn,Os,Es,As,qs,Is,sn,rs,Se,Ke,Oe,Tt,Zt,Ut,$t,In,Ur,mi,zr,es,wr,Fi,Bi,Rn,ar,$i,or;const ge=Ce.data(),{root:Te,id:ke}=RF(Ce),ue=ke||ge.playerId||ge.guildIdentifier||"";if(Te==="players"||ge.playerId&&!ge.guildIdentifier){if(!ue||H.has(ue))return;H.add(ue),Q.push({kind:"player",id:ue,name:(et=(Ae=ge.name)!=null?Ae:(Le=ge.values)==null?void 0:Le.Name)!=null?et:null,nameFold:(pt=ge.nameFold)!=null?pt:null,server:(Cs=(Ts=ge.server)!=null?Ts:(Jt=ge.values)==null?void 0:Jt.Server)!=null?Cs:null,guildName:(Es=(Os=ge.guildName)!=null?Os:(bn=ge.values)==null?void 0:bn.Guild)!=null?Es:null,className:(Is=(qs=ge.className)!=null?qs:(As=ge.values)==null?void 0:As.Class)!=null?Is:null,level:_c((rs=ge.level)!=null?rs:(sn=ge.values)==null?void 0:sn.Level),ts:_c(ge.timestamp)});return}if(Te==="guilds"||ge.guildIdentifier&&!ge.playerId){if(!ue||q.has(ue))return;q.add(ue),G.push({kind:"guild",id:ue,name:(Oe=(Ke=ge.name)!=null?Ke:(Se=ge.values)==null?void 0:Se.Name)!=null?Oe:null,nameFold:(Tt=ge.nameFold)!=null?Tt:null,server:($t=(Ut=ge.server)!=null?Ut:(Zt=ge.values)==null?void 0:Zt.Server)!=null?$t:null,memberCount:_c((zr=(Ur=ge.memberCount)!=null?Ur:(In=ge.values)==null?void 0:In["Guild Member Count"])!=null?zr:(mi=ge.values)==null?void 0:mi.GuildMemberCount),hofRank:_c((or=(ar=(Bi=(wr=ge.hofRank)!=null?wr:(es=ge.values)==null?void 0:es["Hall of Fame Rank"])!=null?Bi:(Fi=ge.values)==null?void 0:Fi.HoF)!=null?ar:(Rn=ge.values)==null?void 0:Rn.Rank)!=null?or:($i=ge.values)==null?void 0:$i["Guild Rank"]),ts:_c(ge.timestamp)});return}};const P=AF(C),O=dg(Mt,"latest"),$=await fn(Un(O,lo("nameFold"),ul(P),hl(P+""),zn(e*6))),W=await fn(Un(O,gl("nameNgrams","array-contains",P),zn(e*6))),H=new Set,q=new Set,Q=[],G=[];$.forEach(L),W.forEach(L);const J=fd(Mt,"servers"),ne=C.toLowerCase(),z=C.toUpperCase(),ee=[fn(Un(J,lo("displayName"),ul(C),hl(C+""),zn(e*4))),fn(Un(J,lo("code"),ul(z),hl(z+""),zn(e*4))),fn(Un(J,lo("host"),ul(ne),hl(ne+""),zn(e*4)))],ce=await Promise.allSettled(ee),te=new Set,fe=[];for(const Ce of ce)Ce.status==="fulfilled"&&Ce.value.forEach(ge=>{var ue,Le,Ae,et,pt;const Te=ge.data(),ke=ge.id;!ke||te.has(ke)||(te.add(ke),fe.push({kind:"server",id:ke,displayName:(ue=Te.displayName)!=null?ue:null,code:(Le=Te.code)!=null?Le:null,host:(Ae=Te.host)!=null?Ae:null,region:(et=Te.region)!=null?et:null,type:(pt=Te.type)!=null?pt:null,numericId:_c(Te.numericId),active:typeof Te.active=="boolean"?Te.active:null}))});b(Q.slice(0,e)),E(G.slice(0,e)),F(fe.slice(0,e)),A(Q.length+G.length+fe.length?0:-1)}catch(L){g((L==null?void 0:L.message)||"Unbekannter Fehler bei der Suche."),b([]),E([]),F([]),A(-1)}finally{h(!1)}}return w(),()=>{}},[l,e]),Z.useEffect(()=>{const w=C=>{y.current&&(y.current.contains(C.target)||(b([]),E([]),F([]),A(-1)))};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const j=[...v,...S,...I],M=w=>{w.kind==="player"?r(`/player/${encodeURIComponent(w.id)}`):w.kind==="guild"?r(`/guild/${encodeURIComponent(w.id)}`):r(`/server/${encodeURIComponent(w.id)}`),b([]),E([]),F([]),A(-1),a("")},k=w=>{if(j.length)if(w.key==="ArrowDown")w.preventDefault(),A(C=>(C+1)%j.length);else if(w.key==="ArrowUp")w.preventDefault(),A(C=>(C-1+j.length)%j.length);else if(w.key==="Enter"){w.preventDefault();const C=j[D>=0?D:0];C&&M(C)}else w.key==="Escape"&&(b([]),E([]),F([]),A(-1))};return n.jsxs("div",{ref:y,style:ht.wrap,children:[n.jsx("input",{style:ht.input,placeholder:t,value:i,onChange:w=>a(w.target.value),onKeyDown:k,"aria-label":"Spieler, Gilden und Server suchen"}),(u||p||v.length||S.length||I.length)&&n.jsxs("div",{style:ht.dropdown,children:[u&&n.jsx("div",{style:ht.hint,children:"Suche"}),p&&!u&&n.jsxs("div",{style:ht.err,children:[" ",p]}),!u&&!p&&(v.length>0||S.length>0||I.length>0)&&n.jsxs(n.Fragment,{children:[v.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:ht.sectionHdr,children:"Spieler"}),v.map((w,C)=>{var O,$,W,H;const L=C===D,P=(O=s==null?void 0:s(w.className,64))!=null?O:IF(w.className,64);return n.jsxs("button",{onClick:()=>M(w),style:L?ht.itemActive:ht.item,title:w.name||"",onMouseEnter:()=>A(C),children:[n.jsx("div",{style:ht.iconBoxPlain,children:P?n.jsx("img",{src:P,alt:"",style:ht.iconImgShadow,onError:q=>{const Q=q.currentTarget.parentElement;Q&&(Q.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):n.jsx("div",{style:ht.iconFallback,children:(w.className||" ? ").toString().slice(0,2)})}),n.jsxs("div",{style:ht.meta,children:[n.jsxs("div",{style:ht.line1,children:[n.jsx("span",{style:ht.name,children:($=w.name)!=null?$:"Unbekannt"}),jv(w.level)&&n.jsxs("span",{style:ht.badge,children:["Lvl ",w.level]})]}),n.jsxs("div",{style:ht.line2,children:[w.guildName?n.jsxs("span",{children:["",w.guildName,""]}):n.jsx("span",{style:ht.muted,children:""}),n.jsx("span",{style:ht.sep,children:""}),n.jsx("span",{children:(W=w.className)!=null?W:"Klasse ?"}),n.jsx("span",{style:ht.sep,children:""}),n.jsx("span",{children:(H=w.server)!=null?H:"Server ?"})]})]})]},`p-${w.id}-${C}`)})]}),S.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:ht.sectionHdr,children:"Gilden"}),S.map((w,C)=>{var O,$;const L=v.length+C,P=L===D;return n.jsxs("button",{onClick:()=>M(w),style:P?ht.itemActive:ht.item,title:w.name||"",onMouseEnter:()=>A(L),children:[n.jsx("div",{style:ht.iconBox,children:""}),n.jsxs("div",{style:ht.meta,children:[n.jsxs("div",{style:ht.line1,children:[n.jsx("span",{style:ht.name,children:(O=w.name)!=null?O:"Unbekannt"}),jv(w.hofRank)&&n.jsxs("span",{style:ht.badge,children:["HoF #",w.hofRank]})]}),n.jsxs("div",{style:ht.line2,children:[n.jsx("span",{children:($=w.server)!=null?$:"Server ?"}),n.jsx("span",{style:ht.sep,children:""}),n.jsx("span",{children:jv(w.memberCount)?`${w.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${w.id}-${C}`)})]}),I.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:ht.sectionHdr,children:"Server"}),I.map((w,C)=>{var O,$,W,H,q,Q;const L=v.length+S.length+C,P=L===D;return n.jsxs("button",{onClick:()=>M(w),style:P?ht.itemActive:ht.item,title:w.displayName||w.code||w.host||"",onMouseEnter:()=>A(L),children:[n.jsx("div",{style:ht.iconBoxPlain,children:n.jsx("div",{style:ht.serverGlyph,children:""})}),n.jsxs("div",{style:ht.meta,children:[n.jsxs("div",{style:ht.line1,children:[n.jsx("span",{style:ht.name,children:(W=($=(O=w.displayName)!=null?O:w.code)!=null?$:w.host)!=null?W:w.id}),w.active!=null&&n.jsx("span",{style:ht.badge,children:w.active?"Aktiv":"Inaktiv"})]}),n.jsxs("div",{style:ht.line2,children:[n.jsx("span",{children:(H=w.code)!=null?H:""}),n.jsx("span",{style:ht.sep,children:""}),n.jsx("span",{children:(q=w.host)!=null?q:""}),n.jsx("span",{style:ht.sep,children:""}),n.jsx("span",{children:(Q=w.region)!=null?Q:""}),w.type?n.jsxs(n.Fragment,{children:[n.jsx("span",{style:ht.sep,children:""}),n.jsx("span",{children:w.type.toUpperCase()})]}):null]})]})]},`s-${w.id}-${C}`)})]})]}),!u&&!p&&v.length===0&&S.length===0&&I.length===0&&l.length>=1&&n.jsx("div",{style:ht.hint,children:"Keine Treffer"})]})]})}const ht={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}},LF=[{id:"main.home",route:"/",area:"main",titleKey:"nav.home",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:5},{id:"main.dashboard",route:"/dashboard",area:"main",titleKey:"nav.dashboard",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:10},{id:"main.guildHub",route:"/guild-hub",area:"main",titleKey:"nav.guildHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:20},{id:"main.discover",route:"/discover",area:"main",titleKey:"nav.discover",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:30},{id:"main.toplists",route:"/toplists",area:"main",titleKey:"nav.toplists",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:40},{id:"main.guidehub",route:"/guidehub",area:"main",titleKey:"nav.guideHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:50},{id:"main.tools",route:"/tools",area:"main",titleKey:"nav.tools",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:55},{id:"main.community",route:"/community",area:"main",titleKey:"nav.community",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:60},{id:"main.scans",route:"/scans",area:"main",titleKey:"nav.scans",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:70},{id:"main.settings",route:"/settings",area:"main",titleKey:"nav.settings",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:80},{id:"main.admin",route:"/admin",area:"main",titleKey:"nav.admin",status:"active",minRole:"moderator",allowedRoles:["moderator","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:90},{id:"main.playground",route:"/playground",area:"main",titleKey:"nav.playground",status:"beta",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:100,isExperimental:!0}],xj=["guest","user","moderator","developer","admin"];function d5(t){const e=t.trim();if(!e)return"/";const s=e.startsWith("/")?e:`/${e}`;return s==="/"?s:s.replace(/\/+$/,"").toLowerCase()}function u5(t){if(typeof t!="string")return;const e=t.toLowerCase();if(e==="admin")return"admin";if(e==="developer"||e==="dev")return"developer";if(e==="moderator"||e==="mod")return"moderator";if(e==="user")return"user";if(e==="guest")return"guest"}function h5(t){if(!Array.isArray(t))return;const e=t.map(s=>u5(s)).filter(Boolean);return e.length?e:void 0}function m5(t){if(!Array.isArray(t))return;const e=t.map(s=>typeof s=="string"?s.trim():"").filter(s=>s.length>0);return e.length?e:void 0}function p5(t){if(!Array.isArray(t))return;const e=t.map(s=>typeof s=="string"?s.trim():"").filter(s=>s.length>0);return e.length?e:void 0}function k1(t){var e,s,r;return{...t,id:t.id.trim(),route:d5(t.route),area:t.area.trim(),allowedRoles:(e=h5(t.allowedRoles))!=null?e:t.allowedRoles,allowedGroups:(s=m5(t.allowedGroups))!=null?s:t.allowedGroups,allowedUserIds:(r=p5(t.allowedUserIds))!=null?r:t.allowedUserIds}}function DF(t,e){if(!e||typeof e!="object")return null;const s=e,r=typeof s.route=="string"?s.route:"",i=typeof s.area=="string"?s.area:"",a=typeof s.id=="string"&&s.id.trim()||t||(r?`feature:${r}`:"");if(!r||!a||!i)return null;const l={id:a,route:r,area:i,titleKey:typeof s.titleKey=="string"?s.titleKey:void 0,status:typeof s.status=="string"?s.status:void 0,minRole:u5(s.minRole),allowedRoles:h5(s.allowedRoles),allowedGroups:m5(s.allowedGroups),allowedUserIds:p5(s.allowedUserIds),showInTopbar:typeof s.showInTopbar=="boolean"?s.showInTopbar:void 0,showInSidebar:typeof s.showInSidebar=="boolean"?s.showInSidebar:void 0,navOrder:typeof s.navOrder=="number"?s.navOrder:void 0,isExperimental:typeof s.isExperimental=="boolean"?s.isExperimental:void 0,description:typeof s.description=="string"?s.description:void 0};return k1(l)}function MF(t){const e={},s={};return t.forEach(r=>{const i=k1(r);e[i.id]=i,s[i.route]=i}),{byId:e,byRoute:s}}const pa=MF(LF),FF={...pa,loading:!1,error:null};function BF(t,e){const s={...t!=null?t:{}};return Object.entries(e).forEach(([i,a])=>{if(a!==void 0){const l=i;s[l]=a}}),s}function $F(t){const e={...pa.byId},s={...pa.byRoute};return t.forEach(r=>{const i=k1(r),a=e[i.id],l=BF(a,i);e[l.id]=l,s[l.route]=l}),{byId:e,byRoute:s}}const f5=Z.createContext(FF),OF=({children:t})=>{const[e,s]=Z.useState({...pa,loading:!0,error:null});Z.useEffect(()=>{let i=!0;return(async()=>{try{const l=await fn(fd(Mt,"feature_access")),d=[];l.forEach(h=>{const p=DF(h.id,h.data());p&&d.push(p)});const u=$F(d);i&&s({...u,loading:!1,error:null})}catch(l){const d=l,u=d==null?void 0:d.code,h=u==="permission-denied"||u==="failed-precondition";typeof window!="undefined"&&window.location.hostname==="localhost"&&console.warn(`[FeatureAccess] Firestore feature_access ${h?"not readable":"load failed"}. Falling back to defaults.`,l),i&&s(g=>({...g,loading:!1,error:l instanceof Error?l.message:"Failed to load feature access rules"}))}})(),()=>{i=!1}},[]);const r=Z.useMemo(()=>e,[e]);return n.jsx(f5.Provider,{value:r,children:t})};function VF(){return Z.useContext(f5)}function UF(t,e){var i,a,l;if(!t)return;const s=e!=null?e:pa,r=d5(t);return(l=(a=(i=s.byId[t])!=null?i:s.byRoute[r])!=null?a:pa.byId[t])!=null?l:pa.byRoute[r]}function zF(t){return!t||t.length===0?"guest":t.includes("admin")?"admin":t.includes("dev")||t.includes("developer")?"developer":t.includes("mod")||t.includes("moderator")?"moderator":"user"}function HF(t,e,s,r,i){if(s)return!0;const a=!!r;if(t.status==="logged_in"&&!a)return!1;const l=e!=null?e:"user";if(t.status==="hidden"||t.status==="dev_only"&&l!=="developer"&&l!=="admin"||t.allowedUserIds&&t.allowedUserIds.length>0&&(!r||!t.allowedUserIds.includes(r))||t.allowedGroups&&t.allowedGroups.length>0&&!(i!=null?i:[]).some(u=>t.allowedGroups.includes(u)))return!1;if(t.allowedRoles&&t.allowedRoles.length>0)return!!l&&t.allowedRoles.includes(l);if(t.minRole){const d=xj.indexOf(l),u=xj.indexOf(t.minRole);return d>=u&&d!==-1}return!0}function T1(){var E;let t=null;try{t=Rl().user}catch(I){console.warn("[FeatureAccess] useFeatureAccess used outside AuthProvider; continuing with user-level access.")}const{byId:e,byRoute:s,loading:r,error:i}=VF(),a=Z.useMemo(()=>({byId:e!=null?e:pa.byId,byRoute:s!=null?s:pa.byRoute}),[e,s]),l=Z.useMemo(()=>zF(t==null?void 0:t.roles),[t==null?void 0:t.roles]),d=Z.useMemo(()=>{var I;return!!((I=t==null?void 0:t.roles)!=null&&I.includes("admin"))},[t==null?void 0:t.roles]),u=Z.useMemo(()=>{var I;return(I=t==null?void 0:t.accessGroups)!=null?I:[]},[t==null?void 0:t.accessGroups]),h=(E=t==null?void 0:t.id)!=null?E:null,p=Z.useCallback(I=>UF(I,a),[a]),g=Z.useCallback(I=>I?HF(I,l,d,h,u):!0,[d,u,h,l]),v=Z.useCallback(I=>{if(!I)return!0;const F=p(I);return g(F)},[g,p]),b=Z.useCallback(I=>{if(!I)return!0;const F=p(I);return F?F.status==="hidden"||F.showInSidebar===!1?!1:g(F):!0},[g,p]),S=Z.useCallback(I=>{if(!I)return!0;const F=p(I);return F?F.status==="hidden"||F.showInTopbar===!1?!1:g(F):!0},[g,p]);return{loading:r,error:i,rulesById:e,rulesByRoute:s,storeRules:a,resolveRule:p,canAccessRule:g,canAccessFeature:v,isVisibleInSidebar:b,isVisibleInTopbar:S}}const GF=[{to:"/",label:"Home",featureId:"main.home"},{to:"/dashboard",label:"Dashboard",featureId:"main.dashboard"},{to:"/guild-hub",label:"Guild Hub",featureId:"main.guildHub"},{to:"/community",label:"Community",featureId:"main.community"},{to:"/tools",label:"Tools",featureId:"main.tools"}];function WF(t){var d,u,h;if(!t)return;const e=String(t),s=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),a=r.replace(/\s+/g,""),l=[void 0,void 0,void 0,void 0,CF];for(const p of l){if(!p)continue;const g=(h=(u=(d=p[s])!=null?d:p[r])!=null?u:p[i])!=null?h:p[a];if(typeof g=="string")return g}}function qF({user:t}){const{open:e,canUse:s}=i5(),{isVisibleInTopbar:r}=T1(),i=Z.useMemo(()=>GF.filter(l=>!l.featureId||r(l.featureId)),[r]),a=()=>{e({tab:"json"})};return n.jsxs("header",{className:xt.topbar,children:[n.jsxs("div",{className:xt.topbarLeft,children:[n.jsx("button",{className:xt.btnIco,"aria-label":"Benachrichtigungen",children:n.jsx(VR,{className:xt.ico})}),n.jsx("button",{className:xt.btnIco,"aria-label":"Favoriten",children:n.jsx(QP,{className:xt.ico})}),i.length>0?n.jsx("nav",{className:xt.topbarNav,"aria-label":"Schnellzugriff",children:i.map(l=>n.jsx(ms,{to:l.to,className:({isActive:d})=>`${xt.pill} ${xt.topbarLink} ${d?xt.pillActive:""}`,children:l.label},l.to))}):null]}),n.jsx("div",{className:xt.searchWrap,children:n.jsx(PF,{placeholder:"Suchen (Spieler)",getClassIcon:WF,maxPerSection:10})}),n.jsxs("div",{className:xt.topbarRight,children:[n.jsxs("a",{className:`${xt.pill} ${xt.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[n.jsx(pP,{className:xt.ico}),"www.sfgame.net"]}),n.jsxs("button",{className:xt.upload,"aria-label":"Scan hochladen",onClick:a,disabled:!s,title:s?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[n.jsx(s6,{className:xt.ico}),n.jsx("span",{className:xt.label,children:"Scan hochladen"})]}),n.jsx(NF,{fallbackName:t==null?void 0:t.name})]})]})}const KF="_root_11g8l_3",QF="_expanded_11g8l_45",XF="_headRow_11g8l_55",YF="_headTitle_11g8l_63",JF="_headDot_11g8l_65",ZF="_headLabel_11g8l_67",eB="_pinBtn_11g8l_69",tB="_navScroll_11g8l_81",sB="_pad_11g8l_83",nB="_segCard_11g8l_89",rB="_segTitle_11g8l_121",iB="_navCol_11g8l_139",aB="_navItemWrap_11g8l_141",oB="_navBtn_11g8l_147",lB="_navBtnActive_11g8l_171",cB="_label_11g8l_175",dB="_trailing_11g8l_205",uB="_isOpen_11g8l_253",hB="_footer_11g8l_279",mB="_login_11g8l_281",pB="_userMeta_11g8l_303",fB="_legal_11g8l_317",gB="_labelText_11g8l_341",xB="_char_11g8l_351",vB="_mainNavCard_11g8l_419",Dt={root:KF,expanded:QF,headRow:XF,headTitle:YF,headDot:JF,headLabel:ZF,pinBtn:eB,navScroll:tB,pad:sB,segCard:nB,segTitle:rB,navCol:iB,navItemWrap:aB,navBtn:oB,navBtnActive:lB,label:cB,trailing:dB,isOpen:uB,footer:hB,login:mB,userMeta:pB,legal:fB,labelText:gB,char:xB,mainNavCard:vB},yB="_panel_90cjk_1",bB="_open_90cjk_31",_B="_col_90cjk_43",wB="_link_90cjk_55",jB="_linkActive_90cjk_73",Mu={panel:yB,open:bB,col:_B,link:wB,linkActive:jB};function SB(t,e=8){const s=t.getBoundingClientRect();return{left:Math.round(s.right+e),top:Math.round(s.top)}}function NB({anchorEl:t,open:e,items:s,renderLink:r,onMouseEnter:i,onMouseLeave:a}){const[l,d]=Z.useState({left:0,top:0});return Z.useEffect(()=>{if(!e||!t)return;const u=()=>d(SB(t));u();const h=new ResizeObserver(u);return h.observe(document.documentElement),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u),()=>{h.disconnect(),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,t]),typeof document=="undefined"?null:(e&&(s!=null&&s.length)&&console.log("submenu items:",s.map(u=>u.label)),ER.createPortal(n.jsx("div",{className:`${Mu.panel} ${e?Mu.open:""}`,style:{left:l.left,top:l.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:a,role:"menu",children:n.jsx("div",{className:Mu.col,children:s.map(u=>r(u))})}),document.body))}const kB=[{to:"/",label:"Home",icon:n.jsx(xP,{className:"ico"}),end:!0,featureId:"main.home"},{to:"/discover",label:"Discover",icon:n.jsx(iP,{className:"ico"}),featureId:"main.discover"},{to:"/dashboard",label:"Dashboard",icon:n.jsx(_P,{className:"ico"}),featureId:"main.dashboard"},{to:"/settings",label:"Settings",icon:n.jsx(BP,{className:"ico"}),featureId:"main.settings"},{to:"/guild-hub",label:"Guild Hub",icon:n.jsx(El,{className:"ico"}),featureId:"main.guildHub"},{to:"/admin",label:"Admin",icon:n.jsx(UP,{className:"ico"}),featureId:"main.admin"},{to:"/playground",label:"Playground",icon:n.jsx(Gf,{className:"ico"}),featureId:"main.playground"}],TB=[{to:"/toplists",label:"Toplists",icon:n.jsx(e6,{className:"ico"}),featureId:"main.toplists"},{to:"/guidehub",label:"Guide Hub",icon:n.jsx(zR,{className:"ico"}),featureId:"main.guidehub"},{to:"/tools",label:"Tools",icon:n.jsx(i6,{className:"ico"}),i18nKey:"nav.tools",featureId:"main.tools"},{to:"/community",label:"Community",icon:n.jsx(SP,{className:"ico"}),featureId:"main.community"},{to:"/scans",label:"Scans",icon:n.jsx(hP,{className:"ico"}),featureId:"main.scans"}],CB={"/guild-hub":[{to:"/guild-hub",label:"Overview"},{to:"/guild-hub/planner",label:"Guild Planner"},{to:"/guild-hub/fusion-planner",label:"Fusion Planner"},{to:"/guild-hub/compare-guilds",label:"Gildenvergleich"},{to:"/guild-hub/waitlist",label:"Waitlist"},{to:"/guild-hub/settings",label:"Settings"}],"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"},{to:"/admin/users",label:"Users",minRole:"mod"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]};function EB(t,e){return e?e==="admin"?t.includes("admin"):t.includes("admin")||t.includes("mod"):!0}function AB(t,e){return t?t.filter(s=>EB(e,s.minRole)):[]}const IB=220;function RB(t=IB){const[e,s]=Z.useState(!1),r=Z.useRef(null),i=Z.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),a=Z.useCallback(()=>{i(),s(!0)},[i]),l=Z.useCallback(()=>{i(),r.current=window.setTimeout(()=>s(!1),t)},[i,t]);return Z.useEffect(()=>()=>i(),[i]),{open:e,onEnter:a,onLeave:l,setOpen:s}}function C1({text:t,isOpen:e,duration:s=1,step:r=45}){const i=Z.useMemo(()=>Array.from(t),[t]);return n.jsx("span",{className:Dt.label,children:n.jsx("span",{className:Dt.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${s}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((a,l)=>n.jsx("span",{className:Dt.char,style:{"--i":l},"aria-hidden":"true",children:a===" "?"":a},`${t}-${l}`))})})}function PB({it:t,label:e,collapsed:s,allowSubmenus:r,subItems:i}){const a=i.length>0,{open:l,onEnter:d,onLeave:u,setOpen:h}=RB(),p=Z.useRef(null),g=Z.useCallback(()=>{if(!r||!a){h(!1);return}d()},[r,a,d,h]);return n.jsxs("div",{ref:p,className:`${Dt.navItemWrap} ${l?Dt.isOpen:""}`,onMouseEnter:g,onMouseLeave:u,children:[n.jsxs(ms,{to:t.to,end:!!t.end,className:({isActive:v})=>`${Dt.navBtn} ${v?Dt.navBtnActive:""}`,children:[t.icon,n.jsx(C1,{text:e,isOpen:!s}),a&&!s&&n.jsx("span",{className:Dt.trailing,"aria-hidden":"true",children:n.jsx(qR,{className:"ico"})})]}),a&&n.jsx(NB,{anchorEl:p.current,open:l,items:i.map(({to:v,label:b})=>({to:v,label:b})),renderLink:v=>n.jsx(ms,{to:v.to,end:!0,className:({isActive:b})=>`${Mu.link} ${b?Mu.linkActive:""}`,children:v.label},v.to),onMouseEnter:d,onMouseLeave:u})]})}function vj({title:t,items:e,collapsed:s,allowSubmenus:r,userRoles:i,translate:a,isItemVisible:l}){return n.jsxs(n.Fragment,{children:[t&&n.jsx("div",{className:`${Dt.navTitle} ${Dt.segTitle}`,children:t}),n.jsx("div",{className:Dt.navCol,children:e.map(d=>{if(!l(d))return null;const u=AB(CB[d.to],i),h=d.i18nKey?a(d.i18nKey):d.label;return u.length?n.jsx(PB,{it:d,label:h,collapsed:s,allowSubmenus:r,subItems:u},d.to):n.jsxs(ms,{to:d.to,end:!!d.end,className:({isActive:p})=>`${Dt.navBtn} ${p?Dt.navBtnActive:""}`,children:[d.icon,n.jsx(C1,{text:h,isOpen:!s})]},d.to)})})]})}const LB=90,DB=180;function MB({expanded:t,setExpanded:e,pinned:s,setPinned:r,hoverToExpand:i=!0}){var w;const a=Z.useRef(null),l=Z.useRef(null),[d,u]=Z.useState(!1),h=Z.useCallback(()=>{a.current&&(window.clearTimeout(a.current),a.current=null),l.current&&(window.clearTimeout(l.current),l.current=null)},[]),p=Z.useCallback(()=>{!i||s||(h(),u(!1),a.current=window.setTimeout(()=>e(!0),LB))},[i,s,h,e]),g=Z.useCallback(()=>{!i||s||(h(),l.current=window.setTimeout(()=>{e(!1),u(!1)},DB))},[i,s,h,e]);Z.useEffect(()=>()=>h(),[h]),Z.useEffect(()=>{s&&u(!0)},[s]);const v=C=>{C.propertyName==="width"&&t&&!s&&u(!0)};Z.useEffect(()=>{if(t&&!s){const C=window.setTimeout(()=>u(!0),250);return()=>window.clearTimeout(C)}},[t,s]);const b=!t,S=s||t&&d,E=Or(),{t:I}=bk(),{status:F,user:D,logout:A}=Rl(),y=F==="authenticated",j=(w=D==null?void 0:D.roles)!=null?w:[],{isVisibleInSidebar:M}=T1(),k=()=>{y?A():E("/login")};return n.jsxs("aside",{id:"sidebar-root",className:`${Dt.root} ${t?Dt.expanded:""}`,"data-collapsed":b?"true":"false",onMouseEnter:p,onMouseLeave:g,onTransitionEnd:v,"aria-label":"Navigation",children:[n.jsxs("div",{className:Dt.headRow,children:[n.jsxs("div",{className:Dt.headTitle,children:[n.jsx("span",{className:Dt.headDot})," ",n.jsx("span",{className:Dt.headLabel,children:"Navigation"})]}),n.jsx("button",{className:Dt.pinBtn,"aria-pressed":s,title:s?"Unpin":"Pin",onClick:()=>r(!s),type:"button",children:s?n.jsx(AP,{className:"ico"}):n.jsx(CP,{className:"ico"})})]}),n.jsx("div",{className:Dt.navScroll,children:n.jsxs("div",{className:Dt.pad,children:[n.jsx("div",{className:`${Dt.segCard} ${Dt.mainNavCard}`,children:n.jsx(vj,{items:kB,collapsed:b,allowSubmenus:S,userRoles:j,translate:I,isItemVisible:C=>{var L;return M((L=C.featureId)!=null?L:C.to)}})}),n.jsx("div",{className:Dt.segTitle,children:"Kategorien"}),n.jsx("div",{className:`${Dt.segCard} ${Dt.mainNavCard}`,children:n.jsx(vj,{items:TB,collapsed:b,allowSubmenus:S,userRoles:j,translate:I,isItemVisible:C=>{var L;return M((L=C.featureId)!=null?L:C.to)}})})]})}),n.jsxs("div",{className:`${Dt.footer} ${Dt.segCard} ${Dt.mainNavCard}`,children:[n.jsxs("button",{className:Dt.login,type:"button",onClick:k,children:[n.jsx(El,{className:"ico"}),n.jsx(C1,{text:y?"Logout":"Login",isOpen:!b})]}),y&&(D!=null&&D.displayName)?n.jsx("div",{className:Dt.userMeta,title:D.displayName,children:D.displayName}):null,n.jsx("div",{className:Dt.legal,children:"(c) 2025 SFDataHub - Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const Kp="/assets/logo-sfdatahub-CUdhlsEb.png";function FB({src:t,alt:e="",children:s,to:r="/",loading:i="eager",decoding:a="async"}){const l=t!=null?t:Kp;return n.jsxs("div",{className:"logo-dock",children:[n.jsx(ms,{to:r,"aria-label":"Go to home",children:n.jsx("img",{className:"logo-img",src:l,alt:e,loading:i,decoding:a,onError:d=>{const u=d.currentTarget;u.src!==Kp&&(u.src=Kp)}})}),s]})}function BB(){const[t,e]=R.useState(!1),[s,r]=R.useState(!1),i=s||t,a=R.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]);return n.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":a},children:[n.jsx(FB,{src:"/logo.png"}),n.jsx(qF,{}),n.jsx("div",{className:"logo-fill"}),n.jsx(MB,{expanded:i,setExpanded:e,pinned:s,setPinned:r,hoverToExpand:!s}),n.jsx("div",{className:"content",children:n.jsx("div",{className:"content-inner",children:n.jsx("div",{className:"content-body",children:n.jsx(Ak,{})})})})]})}const g5=R.createContext({});function E1(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const A1=R.createContext(null),I1=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $B(t=!0){const e=R.useContext(A1);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=e,a=R.useId();R.useEffect(()=>{t&&i(a)},[t]);const l=R.useCallback(()=>t&&r&&r(a),[a,r,t]);return!s&&r?[!1,l]:[!0]}const R1=typeof window!="undefined",x5=R1?R.useLayoutEffect:R.useEffect,vr=t=>t;let v5=vr;function P1(t){let e;return()=>(e===void 0&&(e=t()),e)}const kl=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r},Ii=t=>t*1e3,Ri=t=>t/1e3,OB={useManualTiming:!1};function VB(t){let e=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(h){a.has(h)&&(u.schedule(h),t()),h(l)}const u={schedule:(h,p=!1,g=!1)=>{const b=g&&r?e:s;return p&&a.add(h),b.has(h)||b.add(h),h},cancel:h=>{s.delete(h),a.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[e,s]=[s,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const hp=["read","resolveKeyframes","update","preRender","render","postRender"],UB=40;function y5(t,e){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,l=hp.reduce((F,D)=>(F[D]=VB(a),F),{}),{read:d,resolveKeyframes:u,update:h,preRender:p,render:g,postRender:v}=l,b=()=>{const F=performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,UB),1),i.timestamp=F,i.isProcessing=!0,d.process(i),u.process(i),h.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,s&&e&&(r=!1,t(b))},S=()=>{s=!0,r=!0,i.isProcessing||t(b)};return{schedule:hp.reduce((F,D)=>{const A=l[D];return F[D]=(y,j=!1,M=!1)=>(s||S(),A.schedule(y,j,M)),F},{}),cancel:F=>{for(let D=0;D<hp.length;D++)l[hp[D]].cancel(F)},state:i,steps:l}}const{schedule:Yt,cancel:wa,state:dn,steps:Sv}=y5(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:vr,!0),b5=R.createContext({strict:!1}),yj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},td={};for(const t in yj)td[t]={isEnabled:e=>yj[t].some(s=>!!e[s])};function zB(t){for(const e in t)td[e]={...td[e],...t[e]}}const HB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||HB.has(t)}let _5=t=>!jf(t);function GB(t){t&&(_5=e=>e.startsWith("on")?!jf(e):t(e))}try{GB(require("@emotion/is-prop-valid").default)}catch(t){}function WB(t,e,s){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(_5(i)||s===!0&&jf(i)||!e&&!jf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function qB(t){if(typeof Proxy=="undefined")return t;const e=new Map,s=(...r)=>t(...r);return new Proxy(s,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const yg=R.createContext({});function ch(t){return typeof t=="string"||Array.isArray(t)}function bg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const L1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],D1=["initial",...L1];function _g(t){return bg(t.animate)||D1.some(e=>ch(t[e]))}function w5(t){return!!(_g(t)||t.variants)}function KB(t,e){if(_g(t)){const{initial:s,animate:r}=t;return{initial:s===!1||ch(s)?s:void 0,animate:ch(r)?r:void 0}}return t.inherit!==!1?e:{}}function QB(t){const{initial:e,animate:s}=KB(t,R.useContext(yg));return R.useMemo(()=>({initial:e,animate:s}),[bj(e),bj(s)])}function bj(t){return Array.isArray(t)?t.join(" "):t}const XB=Symbol.for("motionComponentSymbol");function Rc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YB(t,e,s){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):Rc(s)&&(s.current=r))},[e])}const M1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JB="framerAppearId",j5="data-"+M1(JB),{schedule:F1}=y5(queueMicrotask,!1),S5=R.createContext({});function ZB(t,e,s,r,i){var a,l;const{visualElement:d}=R.useContext(yg),u=R.useContext(b5),h=R.useContext(A1),p=R.useContext(I1).reducedMotion,g=R.useRef(null);r=r||u.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:d,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,b=R.useContext(S5);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&e$(g.current,s,i,b);const S=R.useRef(!1);R.useInsertionEffect(()=>{v&&S.current&&v.update(s,h)});const E=s[j5],I=R.useRef(!!E&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,E))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,E)));return x5(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),F1.render(v.render),I.current&&v.animationState&&v.animationState.animateChanges())}),R.useEffect(()=>{v&&(!I.current&&v.animationState&&v.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,E)}),I.current=!1))}),v}function e$(t,e,s,r){const{layoutId:i,layout:a,drag:l,dragConstraints:d,layoutScroll:u,layoutRoot:h}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:N5(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||d&&Rc(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:h})}function N5(t){if(t)return t.options.allowProjection!==!1?t.projection:N5(t.parent)}function t$({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:r,Component:i}){var a,l;t&&zB(t);function d(h,p){let g;const v={...R.useContext(I1),...h,layoutId:s$(h)},{isStatic:b}=v,S=QB(h),E=r(h,b);if(!b&&R1){n$();const I=r$(v);g=I.MeasureLayout,S.visualElement=ZB(i,E,v,e,I.ProjectionNode)}return n.jsxs(yg.Provider,{value:S,children:[g&&S.visualElement?n.jsx(g,{visualElement:S.visualElement,...v}):null,s(i,h,YB(E,S.visualElement,p),E,b,S.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const u=R.forwardRef(d);return u[XB]=i,u}function s$({layoutId:t}){const e=R.useContext(g5).id;return e&&t!==void 0?e+"-"+t:t}function n$(t,e){R.useContext(b5).strict}function r$(t){const{drag:e,layout:s}=td;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const i$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function B1(t){return typeof t!="string"||t.includes("-")?!1:!!(i$.indexOf(t)>-1||/[A-Z]/u.test(t))}function _j(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function $1(t,e,s,r){if(typeof e=="function"){const[i,a]=_j(r);e=e(s!==void 0?s:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=_j(r);e=e(s!==void 0?s:t.custom,i,a)}return e}const Qy=t=>Array.isArray(t),a$=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),o$=t=>Qy(t)?t[t.length-1]||0:t,en=t=>!!(t&&t.getVelocity);function Qp(t){const e=en(t)?t.get():t;return a$(e)?e.toValue():e}function l$({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:s},r,i,a){const l={latestValues:c$(r,i,a,t),renderState:e()};return s&&(l.onMount=d=>s({props:r,current:d,...l}),l.onUpdate=d=>s(d)),l}const k5=t=>(e,s)=>{const r=R.useContext(yg),i=R.useContext(A1),a=()=>l$(t,e,r,i);return s?a():E1(a)};function c$(t,e,s,r){const i={},a=r(t,{});for(const v in a)i[v]=Qp(a[v]);let{initial:l,animate:d}=t;const u=_g(t),h=w5(t);e&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let p=s?s.initial===!1:!1;p=p||l===!1;const g=p?d:l;if(g&&typeof g!="boolean"&&!bg(g)){const v=Array.isArray(g)?g:[g];for(let b=0;b<v.length;b++){const S=$1(t,v[b]);if(S){const{transitionEnd:E,transition:I,...F}=S;for(const D in F){let A=F[D];if(Array.isArray(A)){const y=p?A.length-1:0;A=A[y]}A!==null&&(i[D]=A)}for(const D in E)i[D]=E[D]}}}return i}const gd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pl=new Set(gd),T5=t=>e=>typeof e=="string"&&e.startsWith(t),C5=T5("--"),d$=T5("var(--"),O1=t=>d$(t)?u$.test(t.split("/*")[0].trim()):!1,u$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,E5=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ja=(t,e,s)=>s>e?e:s<t?t:s,xd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dh={...xd,transform:t=>ja(0,1,t)},mp={...xd,default:1},Lh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),to=Lh("deg"),Pi=Lh("%"),Ze=Lh("px"),h$=Lh("vh"),m$=Lh("vw"),wj={...Pi,parse:t=>Pi.parse(t)/100,transform:t=>Pi.transform(t*100)},p$={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze},f$={rotate:to,rotateX:to,rotateY:to,rotateZ:to,scale:mp,scaleX:mp,scaleY:mp,scaleZ:mp,skew:to,skewX:to,skewY:to,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:dh,originX:wj,originY:wj,originZ:Ze},jj={...xd,transform:Math.round},V1={...p$,...f$,zIndex:jj,size:Ze,fillOpacity:dh,strokeOpacity:dh,numOctaves:jj},g$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x$=gd.length;function v$(t,e,s){let r="",i=!0;for(let a=0;a<x$;a++){const l=gd[a],d=t[l];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(l.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||s){const h=E5(d,V1[l]);if(!u){i=!1;const p=g$[l]||l;r+=`${p}(${h}) `}s&&(e[l]=h)}}return r=r.trim(),s?r=s(e,i?"":r):i&&(r="none"),r}function U1(t,e,s){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,d=!1;for(const u in e){const h=e[u];if(Pl.has(u)){l=!0;continue}else if(C5(u)){i[u]=h;continue}else{const p=E5(h,V1[u]);u.startsWith("origin")?(d=!0,a[u]=p):r[u]=p}}if(e.transform||(l||s?r.transform=v$(e,t.transform,s):r.transform&&(r.transform="none")),d){const{originX:u="50%",originY:h="50%",originZ:p=0}=a;r.transformOrigin=`${u} ${h} ${p}`}}const y$={offset:"stroke-dashoffset",array:"stroke-dasharray"},b$={offset:"strokeDashoffset",array:"strokeDasharray"};function _$(t,e,s=1,r=0,i=!0){t.pathLength=1;const a=i?y$:b$;t[a.offset]=Ze.transform(-r);const l=Ze.transform(e),d=Ze.transform(s);t[a.array]=`${l} ${d}`}function Sj(t,e,s){return typeof t=="string"?t:Ze.transform(e+s*t)}function w$(t,e,s){const r=Sj(e,t.x,t.width),i=Sj(s,t.y,t.height);return`${r} ${i}`}function z1(t,{attrX:e,attrY:s,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:d=1,pathOffset:u=0,...h},p,g){if(U1(t,h,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b,dimensions:S}=t;v.transform&&(S&&(b.transform=v.transform),delete v.transform),S&&(i!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=w$(S,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(v.x=e),s!==void 0&&(v.y=s),r!==void 0&&(v.scale=r),l!==void 0&&_$(v,l,d,u,!1)}const H1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),A5=()=>({...H1(),attrs:{}}),G1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function I5(t,{style:e,vars:s},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in s)t.style.setProperty(a,s[a])}const R5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function P5(t,e,s,r){I5(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(R5.has(i)?i:M1(i),e.attrs[i])}const Sf={};function j$(t){Object.assign(Sf,t)}function L5(t,{layout:e,layoutId:s}){return Pl.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Sf[t]||t==="opacity")}function W1(t,e,s){var r;const{style:i}=t,a={};for(const l in i)(en(i[l])||e.style&&en(e.style[l])||L5(l,t)||((r=s==null?void 0:s.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function D5(t,e,s){const r=W1(t,e,s);for(const i in t)if(en(t[i])||en(e[i])){const a=gd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function S$(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(s){e.dimensions={x:0,y:0,width:0,height:0}}}const Nj=["x","y","width","height","cx","cy","r"],N$={useVisualState:k5({scrapeMotionValuesFromProps:D5,createRenderState:A5,onUpdate:({props:t,prevProps:e,current:s,renderState:r,latestValues:i})=>{if(!s)return;let a=!!t.drag;if(!a){for(const d in i)if(Pl.has(d)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let d=0;d<Nj.length;d++){const u=Nj[d];t[u]!==e[u]&&(l=!0)}l&&Yt.read(()=>{S$(s,r),Yt.render(()=>{z1(r,i,G1(s.tagName),t.transformTemplate),P5(s,r)})})}})},k$={useVisualState:k5({scrapeMotionValuesFromProps:W1,createRenderState:H1})};function M5(t,e,s){for(const r in e)!en(e[r])&&!L5(r,s)&&(t[r]=e[r])}function T$({transformTemplate:t},e){return R.useMemo(()=>{const s=H1();return U1(s,e,t),Object.assign({},s.vars,s.style)},[e])}function C$(t,e){const s=t.style||{},r={};return M5(r,s,t),Object.assign(r,T$(t,e)),r}function E$(t,e){const s={},r=C$(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}function A$(t,e,s,r){const i=R.useMemo(()=>{const a=A5();return z1(a,e,G1(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};M5(a,t.style,t),i.style={...a,...i.style}}return i}function I$(t=!1){return(s,r,i,{latestValues:a},l)=>{const u=(B1(s)?A$:E$)(r,a,l,s),h=WB(r,typeof s=="string",t),p=s!==R.Fragment?{...h,...u,ref:i}:{},{children:g}=r,v=R.useMemo(()=>en(g)?g.get():g,[g]);return R.createElement(s,{...p,children:v})}}function R$(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...B1(r)?N$:k$,preloadedFeatures:t,useRender:I$(i),createVisualElement:e,Component:r};return t$(l)}}function F5(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}function wg(t,e,s){const r=t.getProps();return $1(r,e,s!==void 0?s:r.custom,t)}const P$=P1(()=>window.ScrollTimeline!==void 0);class L${constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=s}attachTimeline(e,s){const r=this.animations.map(i=>{if(P$()&&i.attachTimeline)return i.attachTimeline(e);if(typeof s=="function")return s(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class B5 extends L${then(e,s){return Promise.all(this.animations).then(e).catch(s)}}function q1(t,e){return t?t[e]||t.default||t:void 0}const Nf=2e4;function K1(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<Nf;)e+=s,r=t.next(e);return e>=Nf?1/0:e}function D$(t,e=100,s){const r=s({...t,keyframes:[0,e]}),i=Math.min(K1(r),Nf);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Ri(i)}}function jg(t){return typeof t=="function"}function kj(t,e){t.timeline=e,t.onfinish=null}const Q1=t=>Array.isArray(t)&&typeof t[0]=="number",M$={linearEasing:void 0};function F$(t,e){const s=P1(t);return()=>{var r;return(r=M$[e])!==null&&r!==void 0?r:s()}}const kf=F$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),$5=(t,e,s=10)=>{let r="";const i=Math.max(Math.round(e/s),2);for(let a=0;a<i;a++)r+=t(kl(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function O5(t){return!!(typeof t=="function"&&kf()||!t||typeof t=="string"&&(t in Xy||kf())||Q1(t)||Array.isArray(t)&&t.every(O5))}const Su=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,Xy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Su([0,.65,.55,1]),circOut:Su([.55,0,1,.45]),backIn:Su([.31,.01,.66,-.59]),backOut:Su([.33,1.53,.69,.99])};function V5(t,e){if(t)return typeof t=="function"&&kf()?$5(t,e):Q1(t)?Su(t):Array.isArray(t)?t.map(s=>V5(s,e)||Xy.easeOut):Xy[t]}const oi={x:!1,y:!1};function U5(){return oi.x||oi.y}function z5(t,e,s){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=s==null?void 0:s[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function H5(t,e){const s=z5(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[s,i,()=>r.abort()]}function Tj(t){return e=>{e.pointerType==="touch"||U5()||t(e)}}function B$(t,e,s={}){const[r,i,a]=H5(t,s),l=Tj(d=>{const{target:u}=d,h=e(d);if(typeof h!="function"||!u)return;const p=Tj(g=>{h(g),u.removeEventListener("pointerleave",p)});u.addEventListener("pointerleave",p,i)});return r.forEach(d=>{d.addEventListener("pointerenter",l,i)}),a}const G5=(t,e)=>e?t===e?!0:G5(t,e.parentElement):!1,X1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function O$(t){return $$.has(t.tagName)||t.tabIndex!==-1}const Nu=new WeakSet;function Cj(t){return e=>{e.key==="Enter"&&t(e)}}function Nv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const V$=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=Cj(()=>{if(Nu.has(s))return;Nv(s,"down");const i=Cj(()=>{Nv(s,"up")}),a=()=>Nv(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",a,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Ej(t){return X1(t)&&!U5()}function U$(t,e,s={}){const[r,i,a]=H5(t,s),l=d=>{const u=d.currentTarget;if(!Ej(d)||Nu.has(u))return;Nu.add(u);const h=e(d),p=(b,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!Ej(b)||!Nu.has(u))&&(Nu.delete(u),typeof h=="function"&&h(b,{success:S}))},g=b=>{p(b,s.useGlobalTarget||G5(u,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return r.forEach(d=>{!O$(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(s.useGlobalTarget?window:d).addEventListener("pointerdown",l,i),d.addEventListener("focus",h=>V$(h,i),i)}),a}function z$(t){return t==="x"||t==="y"?oi[t]?null:(oi[t]=!0,()=>{oi[t]=!1}):oi.x||oi.y?null:(oi.x=oi.y=!0,()=>{oi.x=oi.y=!1})}const W5=new Set(["width","height","top","left","right","bottom",...gd]);let Xp;function H$(){Xp=void 0}const Li={now:()=>(Xp===void 0&&Li.set(dn.isProcessing||OB.useManualTiming?dn.timestamp:performance.now()),Xp),set:t=>{Xp=t,queueMicrotask(H$)}};function Y1(t,e){t.indexOf(e)===-1&&t.push(e)}function Sg(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class J1{constructor(){this.subscriptions=[]}add(e){return Y1(this.subscriptions,e),()=>Sg(this.subscriptions,e)}notify(e,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function q5(t,e){return e?t*(1e3/e):0}const Aj=30,G$=t=>!isNaN(parseFloat(t)),Fu={current:void 0};class W${constructor(e,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Li.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Li.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=G$(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new J1);const r=this.events[e].add(s);return e==="change"?()=>{r(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Fu.current&&Fu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Aj)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Aj);return q5(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sd(t,e){return new W$(t,e)}function q$(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,sd(s))}function K$(t,e){const s=wg(t,e);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const l in a){const d=o$(a[l]);q$(t,l,d)}}function Q$(t){return!!(en(t)&&t.add)}function Yy(t,e){const s=t.getValue("willChange");if(Q$(s))return s.add(e)}function K5(t){return t.props[j5]}const Q5=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,X$=1e-7,Y$=12;function J$(t,e,s,r,i){let a,l,d=0;do l=e+(s-e)/2,a=Q5(l,r,i)-t,a>0?s=l:e=l;while(Math.abs(a)>X$&&++d<Y$);return l}function Dh(t,e,s,r){if(t===e&&s===r)return vr;const i=a=>J$(a,0,1,t,s);return a=>a===0||a===1?a:Q5(i(a),e,r)}const X5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Y5=t=>e=>1-t(1-e),J5=Dh(.33,1.53,.69,.99),Z1=Y5(J5),Z5=X5(Z1),e3=t=>(t*=2)<1?.5*Z1(t):.5*(2-Math.pow(2,-10*(t-1))),eb=t=>1-Math.sin(Math.acos(t)),t3=Y5(eb),s3=X5(eb),n3=t=>/^0[^.\s]+$/u.test(t);function Z$(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||n3(t):!0}const Bu=t=>Math.round(t*1e5)/1e5,tb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eO(t){return t==null}const tO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sb=(t,e)=>s=>!!(typeof s=="string"&&tO.test(s)&&s.startsWith(t)||e&&!eO(s)&&Object.prototype.hasOwnProperty.call(s,e)),r3=(t,e,s)=>r=>{if(typeof r!="string")return r;const[i,a,l,d]=r.match(tb);return{[t]:parseFloat(i),[e]:parseFloat(a),[s]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},sO=t=>ja(0,255,t),kv={...xd,transform:t=>Math.round(sO(t))},ml={test:sb("rgb","red"),parse:r3("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+kv.transform(t)+", "+kv.transform(e)+", "+kv.transform(s)+", "+Bu(dh.transform(r))+")"};function nO(t){let e="",s="",r="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Jy={test:sb("#"),parse:nO,transform:ml.transform},Pc={test:sb("hsl","hue"),parse:r3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pi.transform(Bu(e))+", "+Pi.transform(Bu(s))+", "+Bu(dh.transform(r))+")"},kn={test:t=>ml.test(t)||Jy.test(t)||Pc.test(t),parse:t=>ml.test(t)?ml.parse(t):Pc.test(t)?Pc.parse(t):Jy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ml.transform(t):Pc.transform(t)},rO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iO(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(tb))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(rO))===null||s===void 0?void 0:s.length)||0)>0}const i3="number",a3="color",aO="var",oO="var(",Ij="${}",lO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(lO,u=>(kn.test(u)?(r.color.push(a),i.push(a3),s.push(kn.parse(u))):u.startsWith(oO)?(r.var.push(a),i.push(aO),s.push(u)):(r.number.push(a),i.push(i3),s.push(parseFloat(u))),++a,Ij)).split(Ij);return{values:s,split:d,indexes:r,types:i}}function o3(t){return uh(t).values}function l3(t){const{split:e,types:s}=uh(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const d=s[l];d===i3?a+=Bu(i[l]):d===a3?a+=kn.transform(i[l]):a+=i[l]}return a}}const cO=t=>typeof t=="number"?0:t;function dO(t){const e=o3(t);return l3(t)(e.map(cO))}const bo={test:iO,parse:o3,createTransformer:l3,getAnimatableNone:dO},uO=new Set(["brightness","contrast","saturate","opacity"]);function hO(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(tb)||[];if(!r)return t;const i=s.replace(r,"");let a=uO.has(e)?1:0;return r!==s&&(a*=100),e+"("+a+i+")"}const mO=/\b([a-z-]*)\(.*?\)/gu,Zy={...bo,getAnimatableNone:t=>{const e=t.match(mO);return e?e.map(hO).join(" "):t}},pO={...V1,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:Zy,WebkitFilter:Zy},nb=t=>pO[t];function c3(t,e){let s=nb(t);return s!==Zy&&(s=bo),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const fO=new Set(["auto","none","0"]);function gO(t,e,s){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!fO.has(a)&&uh(a).values.length&&(i=t[r]),r++}if(i&&s)for(const a of e)t[a]=c3(s,i)}const Rj=t=>t===xd||t===Ze,Pj=(t,e)=>parseFloat(t.split(", ")[e]),Lj=(t,e)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Pj(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Pj(a[1],t):0}},xO=new Set(["x","y","z"]),vO=gd.filter(t=>!xO.has(t));function yO(t){const e=[];return vO.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const nd={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Lj(4,13),y:Lj(5,14)};nd.translateX=nd.x;nd.translateY=nd.y;const xl=new Set;let e0=!1,t0=!1;function d3(){if(t0){const t=Array.from(xl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const i=yO(r);i.length&&(s.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,l])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}t0=!1,e0=!1,xl.forEach(t=>t.complete()),xl.clear()}function u3(){xl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(t0=!0)})}function bO(){u3(),d3()}class rb{constructor(e,s,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(xl.add(this),e0||(e0=!0,Yt.read(u3),Yt.resolveKeyframes(d3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),d=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&s){const u=r.readValue(s,d);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=d),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),xl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,xl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const h3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_O=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function wO(t){const e=_O.exec(t);if(!e)return[,];const[,s,r,i]=e;return[`--${s!=null?s:r}`,i]}function m3(t,e,s=1){const[r,i]=wO(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return h3(l)?parseFloat(l):l}return O1(i)?m3(i,e,s+1):i}const p3=t=>e=>e.test(t),jO={test:t=>t==="auto",parse:t=>t},f3=[xd,Ze,Pi,to,m$,h$,jO],Dj=t=>f3.find(p3(t));class g3 extends rb{constructor(e,s,r,i,a){super(e,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),O1(h))){const p=m3(h,s.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!W5.has(r)||e.length!==2)return;const[i,a]=e,l=Dj(i),d=Dj(a);if(l!==d)if(Rj(l)&&Rj(d))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let i=0;i<e.length;i++)Z$(e[i])&&r.push(i);r.length&&gO(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:s,name:r,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const a=s.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,d=i[l];i[l]=nd[r](s.measureViewportBox(),window.getComputedStyle(s.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,h])=>{s.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const Mj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(bo.test(t)||t==="0")&&!t.startsWith("url("));function SO(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function NO(t,e,s,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Mj(i,e),d=Mj(a,e);return!l||!d?!1:SO(t)||(s==="spring"||jg(s))&&r}const kO=t=>t!==null;function Ng(t,{repeat:e,repeatType:s="loop"},r){const i=t.filter(kO),a=e&&s!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const TO=40;class x3{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Li.now(),this.options={autoplay:e,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:l,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>TO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&bO(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=Li.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:d,onUpdate:u,isGenerator:h}=this.options;if(!h&&!NO(e,r,i,a))if(l)this.options.duration=0;else{u&&u(Ng(e,this.options,s)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,s);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...p},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const os=(t,e,s)=>t+(e-t)*s;function Tv(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function CO({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let i=0,a=0,l=0;if(!e)i=a=l=s;else{const d=s<.5?s*(1+e):s+e-s*e,u=2*s-d;i=Tv(u,d,t+1/3),a=Tv(u,d,t),l=Tv(u,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Tf(t,e){return s=>s>0?e:t}const Cv=(t,e,s)=>{const r=t*t,i=s*(e*e-r)+r;return i<0?0:Math.sqrt(i)},EO=[Jy,ml,Pc],AO=t=>EO.find(e=>e.test(t));function Fj(t){const e=AO(t);if(!e)return!1;let s=e.parse(t);return e===Pc&&(s=CO(s)),s}const Bj=(t,e)=>{const s=Fj(t),r=Fj(e);if(!s||!r)return Tf(t,e);const i={...s};return a=>(i.red=Cv(s.red,r.red,a),i.green=Cv(s.green,r.green,a),i.blue=Cv(s.blue,r.blue,a),i.alpha=os(s.alpha,r.alpha,a),ml.transform(i))},IO=(t,e)=>s=>e(t(s)),Mh=(...t)=>t.reduce(IO),s0=new Set(["none","hidden"]);function RO(t,e){return s0.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function PO(t,e){return s=>os(t,e,s)}function ib(t){return typeof t=="number"?PO:typeof t=="string"?O1(t)?Tf:kn.test(t)?Bj:MO:Array.isArray(t)?v3:typeof t=="object"?kn.test(t)?Bj:LO:Tf}function v3(t,e){const s=[...t],r=s.length,i=t.map((a,l)=>ib(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)s[l]=i[l](a);return s}}function LO(t,e){const s={...t,...e},r={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ib(t[i])(t[i],e[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function DO(t,e){var s;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],d=t.indexes[l][i[l]],u=(s=t.values[d])!==null&&s!==void 0?s:0;r[a]=u,i[l]++}return r}const MO=(t,e)=>{const s=bo.createTransformer(e),r=uh(t),i=uh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?s0.has(t)&&!i.values.length||s0.has(e)&&!r.values.length?RO(t,e):Mh(v3(DO(r,i),i.values),s):Tf(t,e)};function y3(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?os(t,e,s):ib(t)(t,e)}const FO=5;function b3(t,e,s){const r=Math.max(e-FO,0);return q5(s-t(r),e-r)}const bs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ev=.001;function BO({duration:t=bs.duration,bounce:e=bs.bounce,velocity:s=bs.velocity,mass:r=bs.mass}){let i,a,l=1-e;l=ja(bs.minDamping,bs.maxDamping,l),t=ja(bs.minDuration,bs.maxDuration,Ri(t)),l<1?(i=h=>{const p=h*l,g=p*t,v=p-s,b=n0(h,l),S=Math.exp(-g);return Ev-v/b*S},a=h=>{const g=h*l*t,v=g*s+s,b=Math.pow(l,2)*Math.pow(h,2)*t,S=Math.exp(-g),E=n0(Math.pow(h,2),l);return(-i(h)+Ev>0?-1:1)*((v-b)*S)/E}):(i=h=>{const p=Math.exp(-h*t),g=(h-s)*t+1;return-Ev+p*g},a=h=>{const p=Math.exp(-h*t),g=(s-h)*(t*t);return p*g});const d=5/t,u=OO(i,a,d);if(t=Ii(t),isNaN(u))return{stiffness:bs.stiffness,damping:bs.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const $O=12;function OO(t,e,s){let r=s;for(let i=1;i<$O;i++)r=r-t(r)/e(r);return r}function n0(t,e){return t*Math.sqrt(1-e*e)}const VO=["duration","bounce"],UO=["stiffness","damping","mass"];function $j(t,e){return e.some(s=>t[s]!==void 0)}function zO(t){let e={velocity:bs.velocity,stiffness:bs.stiffness,damping:bs.damping,mass:bs.mass,isResolvedFromDuration:!1,...t};if(!$j(t,UO)&&$j(t,VO))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*ja(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:bs.mass,stiffness:i,damping:a}}else{const s=BO(t);e={...e,...s,mass:bs.mass},e.isResolvedFromDuration=!0}return e}function ab(t=bs.visualDuration,e=bs.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],d={done:!1,value:a},{stiffness:u,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:b}=zO({...s,velocity:-Ri(s.velocity||0)}),S=v||0,E=h/(2*Math.sqrt(u*p)),I=l-a,F=Ri(Math.sqrt(u/p)),D=Math.abs(I)<5;r||(r=D?bs.restSpeed.granular:bs.restSpeed.default),i||(i=D?bs.restDelta.granular:bs.restDelta.default);let A;if(E<1){const j=n0(F,E);A=M=>{const k=Math.exp(-E*F*M);return l-k*((S+E*F*I)/j*Math.sin(j*M)+I*Math.cos(j*M))}}else if(E===1)A=j=>l-Math.exp(-F*j)*(I+(S+F*I)*j);else{const j=F*Math.sqrt(E*E-1);A=M=>{const k=Math.exp(-E*F*M),w=Math.min(j*M,300);return l-k*((S+E*F*I)*Math.sinh(w)+j*I*Math.cosh(w))/j}}const y={calculatedDuration:b&&g||null,next:j=>{const M=A(j);if(b)d.done=j>=g;else{let k=0;E<1&&(k=j===0?Ii(S):b3(A,j,M));const w=Math.abs(k)<=r,C=Math.abs(l-M)<=i;d.done=w&&C}return d.value=d.done?l:M,d},toString:()=>{const j=Math.min(K1(y),Nf),M=$5(k=>y.next(j*k).value,j,30);return j+"ms "+M}};return y}function Oj({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:u,restDelta:h=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},b=w=>d!==void 0&&w<d||u!==void 0&&w>u,S=w=>d===void 0?u:u===void 0||Math.abs(d-w)<Math.abs(u-w)?d:u;let E=s*e;const I=g+E,F=l===void 0?I:l(I);F!==I&&(E=F-g);const D=w=>-E*Math.exp(-w/r),A=w=>F+D(w),y=w=>{const C=D(w),L=A(w);v.done=Math.abs(C)<=h,v.value=v.done?F:L};let j,M;const k=w=>{b(v.value)&&(j=w,M=ab({keyframes:[v.value,S(v.value)],velocity:b3(A,w,v.value),damping:i,stiffness:a,restDelta:h,restSpeed:p}))};return k(0),{calculatedDuration:null,next:w=>{let C=!1;return!M&&j===void 0&&(C=!0,y(w),k(w)),j!==void 0&&w>=j?M.next(w-j):(!C&&y(w),v)}}}const HO=Dh(.42,0,1,1),GO=Dh(0,0,.58,1),_3=Dh(.42,0,.58,1),w3=t=>Array.isArray(t)&&typeof t[0]!="number",WO={linear:vr,easeIn:HO,easeInOut:_3,easeOut:GO,circIn:eb,circInOut:s3,circOut:t3,backIn:Z1,backInOut:Z5,backOut:J5,anticipate:e3},Vj=t=>{if(Q1(t)){v5(t.length===4);const[e,s,r,i]=t;return Dh(e,s,r,i)}else if(typeof t=="string")return WO[t];return t};function qO(t,e,s){const r=[],i=s||y3,a=t.length-1;for(let l=0;l<a;l++){let d=i(t[l],t[l+1]);if(e){const u=Array.isArray(e)?e[l]||vr:e;d=Mh(u,d)}r.push(d)}return r}function j3(t,e,{clamp:s=!0,ease:r,mixer:i}={}){const a=t.length;if(v5(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=qO(e,r,i),u=d.length,h=p=>{if(l&&p<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=kl(t[g],t[g+1],p);return d[g](v)};return s?p=>h(ja(t[0],t[a-1],p)):h}function S3(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const i=kl(0,e,r);t.push(os(s,1,i))}}function N3(t){const e=[0];return S3(e,t.length-1),e}function KO(t,e){return t.map(s=>s*e)}function QO(t,e){return t.map(()=>e||_3).splice(0,t.length-1)}function Cf({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const i=w3(r)?r.map(Vj):Vj(r),a={done:!1,value:e[0]},l=KO(s&&s.length===e.length?s:N3(e),t),d=j3(l,e,{ease:Array.isArray(i)?i:QO(e,i)});return{calculatedDuration:t,next:u=>(a.value=d(u),a.done=u>=t,a)}}const XO=t=>{const e=({timestamp:s})=>t(s);return{start:()=>Yt.update(e,!0),stop:()=>wa(e),now:()=>dn.isProcessing?dn.timestamp:Li.now()}},YO={decay:Oj,inertia:Oj,tween:Cf,keyframes:Cf,spring:ab},JO=t=>t/100;class ob extends x3{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:s,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||rb,d=(u,h)=>this.onKeyframesResolved(u,h);this.resolver=new l(a,d,s,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,d=jg(s)?s:YO[s]||Cf;let u,h;d!==Cf&&typeof e[0]!="number"&&(u=Mh(JO,y3(e[0],e[1])),e=[0,100]);const p=d({...this.options,keyframes:e});a==="mirror"&&(h=d({...this.options,keyframes:[...e].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=K1(p));const{calculatedDuration:g}=p,v=g+i,b=v*(r+1)-i;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:v,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:d,keyframes:u,calculatedDuration:h,totalDuration:p,resolvedDuration:g}=r;if(this.startTime===null)return a.next(0);const{delay:v,repeat:b,repeatType:S,repeatDelay:E,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-v*(this.speed>=0?1:-1),D=this.speed>=0?F<0:F>p;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let A=this.currentTime,y=a;if(b){const w=Math.min(this.currentTime,p)/g;let C=Math.floor(w),L=w%1;!L&&w>=1&&(L=1),L===1&&C--,C=Math.min(C,b+1),!!(C%2)&&(S==="reverse"?(L=1-L,E&&(L-=E/g)):S==="mirror"&&(y=l)),A=ja(0,1,L)*g}const j=D?{done:!1,value:u[0]}:y.next(A);d&&(j.value=d(j.value));let{done:M}=j;!D&&h!==null&&(M=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return k&&i!==void 0&&(j.value=Ng(u,this.options,i)),I&&I(j.value),k&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Ri(e.calculatedDuration):0}get time(){return Ri(this.currentTime)}set time(e){e=Ii(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ri(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=XO,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ZO=new Set(["opacity","clipPath","filter","transform"]);function eV(t,e,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:d="easeInOut",times:u}={}){const h={[e]:s};u&&(h.offset=u);const p=V5(d,i);return Array.isArray(p)&&(h.easing=p),t.animate(h,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const tV=P1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ef=10,sV=2e4;function nV(t){return jg(t.type)||t.type==="spring"||!O5(t.ease)}function rV(t,e){const s=new ob({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<sV;)r=s.sample(a),i.push(r.value),a+=Ef;return{times:void 0,keyframes:i,duration:a-Ef,ease:"linear"}}const k3={anticipate:e3,backInOut:Z5,circInOut:s3};function iV(t){return t in k3}class Uj extends x3{constructor(e){super(e);const{name:s,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new g3(a,(l,d)=>this.onKeyframesResolved(l,d),s,r,i),this.resolver.scheduleResolve()}initPlayback(e,s){let{duration:r=300,times:i,ease:a,type:l,motionValue:d,name:u,startTime:h}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&kf()&&iV(a)&&(a=k3[a]),nV(this.options)){const{onComplete:g,onUpdate:v,motionValue:b,element:S,...E}=this.options,I=rV(e,E);e=I.keyframes,e.length===1&&(e[1]=e[0]),r=I.duration,i=I.times,a=I.ease,l="keyframes"}const p=eV(d.owner.current,u,e,{...this.options,duration:r,times:i,ease:a});return p.startTime=h!=null?h:this.calcStartTime(),this.pendingTimeline?(kj(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;d.set(Ng(e,this.options,s)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return Ri(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return Ri(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=Ii(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return vr;const{animation:r}=s;kj(r,e)}return vr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:r,duration:i,type:a,ease:l,times:d}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:g,element:v,...b}=this.options,S=new ob({...b,keyframes:r,duration:i,type:a,ease:l,times:d,isGenerator:!0}),E=Ii(this.time);h.setWithVelocity(S.sample(E-Ef).value,S.sample(E).value,Ef)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:r,repeatDelay:i,repeatType:a,damping:l,type:d}=e;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=s.owner.getProps();return tV()&&r&&ZO.has(r)&&!u&&!h&&!i&&a!=="mirror"&&l!==0&&d!=="inertia"}}const aV={type:"spring",stiffness:500,damping:25,restSpeed:10},oV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lV={type:"keyframes",duration:.8},cV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dV=(t,{keyframes:e})=>e.length>2?lV:Pl.has(t)?t.startsWith("scale")?oV(e[1]):aV:cV;function uV({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:d,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const lb=(t,e,s,r={},i,a)=>l=>{const d=q1(r,t)||{},u=d.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ii(u);let p={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:i};uV(d)||(p={...p,...dV(t,p)}),p.duration&&(p.duration=Ii(p.duration)),p.repeatDelay&&(p.repeatDelay=Ii(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!a&&e.get()!==void 0){const v=Ng(p.keyframes,d);if(v!==void 0)return Yt.update(()=>{p.onUpdate(v),p.onComplete()}),new B5([])}return!a&&Uj.supports(p)?new Uj(p):new ob(p)};function hV({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function cb(t,e,{delay:s=0,transitionOverride:r,type:i}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:d,...u}=e;r&&(l=r);const h=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const g in u){const v=t.getValue(g,(a=t.latestValues[g])!==null&&a!==void 0?a:null),b=u[g];if(b===void 0||p&&hV(p,g))continue;const S={delay:s,...q1(l||{},g)};let E=!1;if(window.MotionHandoffAnimation){const F=K5(t);if(F){const D=window.MotionHandoffAnimation(F,g,Yt);D!==null&&(S.startTime=D,E=!0)}}Yy(t,g),v.start(lb(g,v,b,t.shouldReduceMotion&&W5.has(g)?{type:!1}:S,t,E));const I=v.animation;I&&h.push(I)}return d&&Promise.all(h).then(()=>{Yt.update(()=>{d&&K$(t,d)})}),h}function r0(t,e,s={}){var r;const i=wg(t,e,s.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const l=i?()=>Promise.all(cb(t,i,s)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=a;return mV(t,e,p+h,g,v,s)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,p]=u==="beforeChildren"?[l,d]:[d,l];return h().then(()=>p())}else return Promise.all([l(),d(s.delay)])}function mV(t,e,s=0,r=0,i=1,a){const l=[],d=(t.variantChildren.size-1)*r,u=i===1?(h=0)=>h*r:(h=0)=>d-h*r;return Array.from(t.variantChildren).sort(pV).forEach((h,p)=>{h.notify("AnimationStart",e),l.push(r0(h,e,{...a,delay:s+u(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function pV(t,e){return t.sortNodePosition(e)}function fV(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>r0(t,a,s));r=Promise.all(i)}else if(typeof e=="string")r=r0(t,e,s);else{const i=typeof e=="function"?wg(t,e,s.custom):e;r=Promise.all(cb(t,i,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}const gV=D1.length;function T3(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?T3(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<gV;s++){const r=D1[s],i=t.props[r];(ch(i)||i===!1)&&(e[r]=i)}return e}const xV=[...L1].reverse(),vV=L1.length;function yV(t){return e=>Promise.all(e.map(({animation:s,options:r})=>fV(t,s,r)))}function bV(t){let e=yV(t),s=zj(),r=!0;const i=u=>(h,p)=>{var g;const v=wg(t,p,u==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:b,transitionEnd:S,...E}=v;h={...h,...E,...S}}return h};function a(u){e=u(t)}function l(u){const{props:h}=t,p=T3(t.parent)||{},g=[],v=new Set;let b={},S=1/0;for(let I=0;I<vV;I++){const F=xV[I],D=s[F],A=h[F]!==void 0?h[F]:p[F],y=ch(A),j=F===u?D.isActive:null;j===!1&&(S=I);let M=A===p[F]&&A!==h[F]&&y;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),D.protectedKeys={...b},!D.isActive&&j===null||!A&&!D.prevProp||bg(A)||typeof A=="boolean")continue;const k=_V(D.prevProp,A);let w=k||F===u&&D.isActive&&!M&&y||I>S&&y,C=!1;const L=Array.isArray(A)?A:[A];let P=L.reduce(i(F),{});j===!1&&(P={});const{prevResolvedValues:O={}}=D,$={...O,...P},W=Q=>{w=!0,v.has(Q)&&(C=!0,v.delete(Q)),D.needsAnimating[Q]=!0;const G=t.getValue(Q);G&&(G.liveStyle=!1)};for(const Q in $){const G=P[Q],J=O[Q];if(b.hasOwnProperty(Q))continue;let ne=!1;Qy(G)&&Qy(J)?ne=!F5(G,J):ne=G!==J,ne?G!=null?W(Q):v.add(Q):G!==void 0&&v.has(Q)?W(Q):D.protectedKeys[Q]=!0}D.prevProp=A,D.prevResolvedValues=P,D.isActive&&(b={...b,...P}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(M&&k)||C)&&g.push(...L.map(Q=>({animation:Q,options:{type:F}})))}if(v.size){const I={};v.forEach(F=>{const D=t.getBaseTarget(F),A=t.getValue(F);A&&(A.liveStyle=!0),I[F]=D!=null?D:null}),g.push({animation:I})}let E=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(g):Promise.resolve()}function d(u,h){var p;if(s[u].isActive===h)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(v=>{var b;return(b=v.animationState)===null||b===void 0?void 0:b.setActive(u,h)}),s[u].isActive=h;const g=l(u);for(const v in s)s[v].protectedKeys={};return g}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>s,reset:()=>{s=zj(),r=!0}}}function _V(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F5(e,t):!1}function Xo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zj(){return{animate:Xo(!0),whileInView:Xo(),whileHover:Xo(),whileTap:Xo(),whileDrag:Xo(),whileFocus:Xo(),exit:Xo()}}class So{constructor(e){this.isMounted=!1,this.node=e}update(){}}class wV extends So{constructor(e){super(e),e.animationState||(e.animationState=bV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let jV=0;class SV extends So{constructor(){super(...arguments),this.id=jV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const NV={animation:{Feature:wV},exit:{Feature:SV}};function hh(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function Fh(t){return{point:{x:t.pageX,y:t.pageY}}}const kV=t=>e=>X1(e)&&t(e,Fh(e));function $u(t,e,s,r){return hh(t,e,kV(s),r)}const Hj=(t,e)=>Math.abs(t-e);function TV(t,e){const s=Hj(t.x,e.x),r=Hj(t.y,e.y);return Math.sqrt(s**2+r**2)}class C3{constructor(e,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Iv(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=TV(g.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:S}=g,{timestamp:E}=dn;this.history.push({...S,timestamp:E});const{onStart:I,onMove:F}=this.handlers;v||(I&&I(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Av(v,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Iv(g.type==="pointercancel"?this.lastMoveEventInfo:Av(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,I),S&&S(g,I)},!X1(e))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const l=Fh(e),d=Av(l,this.transformPagePoint),{point:u}=d,{timestamp:h}=dn;this.history=[{...u,timestamp:h}];const{onSessionStart:p}=s;p&&p(e,Iv(d,this.history)),this.removeListeners=Mh($u(this.contextWindow,"pointermove",this.handlePointerMove),$u(this.contextWindow,"pointerup",this.handlePointerUp),$u(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wa(this.updatePoint)}}function Av(t,e){return e?{point:e(t.point)}:t}function Gj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Iv({point:t},e){return{point:t,delta:Gj(t,E3(e)),offset:Gj(t,CV(e)),velocity:EV(e,.1)}}function CV(t){return t[0]}function E3(t){return t[t.length-1]}function EV(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const i=E3(t);for(;s>=0&&(r=t[s],!(i.timestamp-r.timestamp>Ii(e)));)s--;if(!r)return{x:0,y:0};const a=Ri(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const A3=1e-4,AV=1-A3,IV=1+A3,I3=.01,RV=0-I3,PV=0+I3;function _r(t){return t.max-t.min}function LV(t,e,s){return Math.abs(t-e)<=s}function Wj(t,e,s,r=.5){t.origin=r,t.originPoint=os(e.min,e.max,t.origin),t.scale=_r(s)/_r(e),t.translate=os(s.min,s.max,t.origin)-t.originPoint,(t.scale>=AV&&t.scale<=IV||isNaN(t.scale))&&(t.scale=1),(t.translate>=RV&&t.translate<=PV||isNaN(t.translate))&&(t.translate=0)}function Ou(t,e,s,r){Wj(t.x,e.x,s.x,r?r.originX:void 0),Wj(t.y,e.y,s.y,r?r.originY:void 0)}function qj(t,e,s){t.min=s.min+e.min,t.max=t.min+_r(e)}function DV(t,e,s){qj(t.x,e.x,s.x),qj(t.y,e.y,s.y)}function Kj(t,e,s){t.min=e.min-s.min,t.max=t.min+_r(e)}function Vu(t,e,s){Kj(t.x,e.x,s.x),Kj(t.y,e.y,s.y)}function MV(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?os(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?os(s,t,r.max):Math.min(t,s)),t}function Qj(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function FV(t,{top:e,left:s,bottom:r,right:i}){return{x:Qj(t.x,s,i),y:Qj(t.y,e,r)}}function Xj(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function BV(t,e){return{x:Xj(t.x,e.x),y:Xj(t.y,e.y)}}function $V(t,e){let s=.5;const r=_r(t),i=_r(e);return i>r?s=kl(e.min,e.max-r,t.min):r>i&&(s=kl(t.min,t.max-i,e.min)),ja(0,1,s)}function OV(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const i0=.35;function VV(t=i0){return t===!1?t=0:t===!0&&(t=i0),{x:Yj(t,"left","right"),y:Yj(t,"top","bottom")}}function Yj(t,e,s){return{min:Jj(t,e),max:Jj(t,s)}}function Jj(t,e){return typeof t=="number"?t:t[e]||0}const Zj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lc=()=>({x:Zj(),y:Zj()}),eS=()=>({min:0,max:0}),ys=()=>({x:eS(),y:eS()});function Lr(t){return[t("x"),t("y")]}function R3({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function UV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function zV(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Rv(t){return t===void 0||t===1}function a0({scale:t,scaleX:e,scaleY:s}){return!Rv(t)||!Rv(e)||!Rv(s)}function ol(t){return a0(t)||P3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function P3(t){return tS(t.x)||tS(t.y)}function tS(t){return t&&t!=="0%"}function Af(t,e,s){const r=t-s,i=e*r;return s+i}function sS(t,e,s,r,i){return i!==void 0&&(t=Af(t,i,r)),Af(t,s,r)+e}function o0(t,e=0,s=1,r,i){t.min=sS(t.min,e,s,r,i),t.max=sS(t.max,e,s,r,i)}function L3(t,{x:e,y:s}){o0(t.x,e.translate,e.scale,e.originPoint),o0(t.y,s.translate,s.scale,s.originPoint)}const nS=.999999999999,rS=1.0000000000001;function HV(t,e,s,r=!1){const i=s.length;if(!i)return;e.x=e.y=1;let a,l;for(let d=0;d<i;d++){a=s[d],l=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Mc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,L3(t,l)),r&&ol(a.latestValues)&&Mc(t,a.latestValues))}e.x<rS&&e.x>nS&&(e.x=1),e.y<rS&&e.y>nS&&(e.y=1)}function Dc(t,e){t.min=t.min+e,t.max=t.max+e}function iS(t,e,s,r,i=.5){const a=os(t.min,t.max,i);o0(t,e,s,a,r)}function Mc(t,e){iS(t.x,e.x,e.scaleX,e.scale,e.originX),iS(t.y,e.y,e.scaleY,e.scale,e.originY)}function D3(t,e){return R3(zV(t.getBoundingClientRect(),e))}function GV(t,e,s){const r=D3(t,s),{scroll:i}=e;return i&&(Dc(r.x,i.offset.x),Dc(r.y,i.offset.y)),r}const M3=({current:t})=>t?t.ownerDocument.defaultView:null,WV=new WeakMap;class qV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ys(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Fh(p).point)},a=(p,g)=>{const{drag:v,dragPropagation:b,onDragStart:S}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=z$(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lr(I=>{let F=this.getAxisMotionValue(I).get()||0;if(Pi.test(F)){const{projection:D}=this.visualElement;if(D&&D.layout){const A=D.layout.layoutBox[I];A&&(F=_r(A)*(parseFloat(F)/100))}}this.originPoint[I]=F}),S&&Yt.postRender(()=>S(p,g)),Yy(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:S,onDrag:E}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:I}=g;if(b&&this.currentDirection===null){this.currentDirection=KV(I),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,I),this.updateAxis("y",g.point,I),this.visualElement.render(),E&&E(p,g)},d=(p,g)=>this.stop(p,g),u=()=>Lr(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new C3(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:M3(this.visualElement)})}stop(e,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Yt.postRender(()=>a(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:i}=this.getProps();if(!r||!pp(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=MV(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;s&&Rc(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=FV(i.layoutBox,s):this.constraints=!1,this.elastic=VV(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Lr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=OV(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Rc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=GV(r,i.root,this.visualElement.getTransformPagePoint());let l=BV(i.layout.layoutBox,a);if(s){const d=s(UV(l));this.hasMutatedConstraints=!!d,d&&(l=R3(d))}return l}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},h=Lr(p=>{if(!pp(p,s,this.currentDirection))return;let g=u&&u[p]||{};l&&(g={min:0,max:0});const v=i?200:1e6,b=i?40:1e7,S={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(h).then(d)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return Yy(this.visualElement,e),r.start(lb(e,r,0,s,this.visualElement,!1))}stopAnimation(){Lr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Lr(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Lr(s=>{const{drag:r}=this.getProps();if(!pp(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[s];a.set(e[s]-os(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Rc(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Lr(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const u=d.get();i[l]=$V({min:u,max:u},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Lr(l=>{if(!pp(l,e,null))return;const d=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];d.set(os(u,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;WV.set(this.visualElement,this);const e=this.visualElement.current,s=$u(e,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Rc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Yt.read(r);const l=hh(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Lr(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())}));return()=>{l(),s(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=i0,dragMomentum:d=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function pp(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function KV(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class QV extends So{constructor(e){super(e),this.removeGroupControls=vr,this.removeListeners=vr,this.controls=new qV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const aS=t=>(e,s)=>{t&&Yt.postRender(()=>t(e,s))};class XV extends So{constructor(){super(...arguments),this.removePointerDownListener=vr}onPointerDown(e){this.session=new C3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:M3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:aS(e),onStart:aS(s),onMove:r,onEnd:(a,l)=>{delete this.session,i&&Yt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=$u(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ze.test(t))t=parseFloat(t);else return t;const s=oS(t,e.target.x),r=oS(t,e.target.y);return`${s}% ${r}%`}},YV={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,i=bo.parse(t);if(i.length>5)return r;const a=bo.createTransformer(t),l=typeof i[0]!="number"?1:0,d=s.x.scale*e.x,u=s.y.scale*e.y;i[0+l]/=d,i[1+l]/=u;const h=os(d,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),a(i)}};class JV extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;j$(ZV),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Yp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==s||s===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Yt.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),F1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function F3(t){const[e,s]=$B(),r=R.useContext(g5);return n.jsx(JV,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(S5),isPresent:e,safeToRemove:s})}const ZV={borderRadius:{...cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cu,borderTopRightRadius:cu,borderBottomLeftRadius:cu,borderBottomRightRadius:cu,boxShadow:YV};function B3(t,e,s){const r=en(t)?t:sd(t);return r.start(lb("",r,e,s)),r.animation}function $3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const eU=(t,e)=>t.depth-e.depth;class tU{constructor(){this.children=[],this.isDirty=!1}add(e){Y1(this.children,e),this.isDirty=!0}remove(e){Sg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eU),this.isDirty=!1,this.children.forEach(e)}}function sU(t,e){const s=Li.now(),r=({timestamp:i})=>{const a=i-s;a>=e&&(wa(r),t(a-e))};return Yt.read(r,!0),()=>wa(r)}const O3=["TopLeft","TopRight","BottomLeft","BottomRight"],nU=O3.length,lS=t=>typeof t=="string"?parseFloat(t):t,cS=t=>typeof t=="number"||Ze.test(t);function rU(t,e,s,r,i,a){i?(t.opacity=os(0,s.opacity!==void 0?s.opacity:1,iU(r)),t.opacityExit=os(e.opacity!==void 0?e.opacity:1,0,aU(r))):a&&(t.opacity=os(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let l=0;l<nU;l++){const d=`border${O3[l]}Radius`;let u=dS(e,d),h=dS(s,d);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||cS(u)===cS(h)?(t[d]=Math.max(os(lS(u),lS(h),r),0),(Pi.test(h)||Pi.test(u))&&(t[d]+="%")):t[d]=h}(e.rotate||s.rotate)&&(t.rotate=os(e.rotate||0,s.rotate||0,r))}function dS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iU=V3(0,.5,t3),aU=V3(.5,.95,vr);function V3(t,e,s){return r=>r<t?0:r>e?1:s(kl(t,e,r))}function uS(t,e){t.min=e.min,t.max=e.max}function Rr(t,e){uS(t.x,e.x),uS(t.y,e.y)}function hS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mS(t,e,s,r,i){return t-=e,t=Af(t,1/s,r),i!==void 0&&(t=Af(t,1/i,r)),t}function oU(t,e=0,s=1,r=.5,i,a=t,l=t){if(Pi.test(e)&&(e=parseFloat(e),e=os(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=os(a.min,a.max,r);t===a&&(d-=e),t.min=mS(t.min,e,s,d,i),t.max=mS(t.max,e,s,d,i)}function pS(t,e,[s,r,i],a,l){oU(t,e[s],e[r],e[i],e.scale,a,l)}const lU=["x","scaleX","originX"],cU=["y","scaleY","originY"];function fS(t,e,s,r){pS(t.x,e,lU,s?s.x:void 0,r?r.x:void 0),pS(t.y,e,cU,s?s.y:void 0,r?r.y:void 0)}function gS(t){return t.translate===0&&t.scale===1}function U3(t){return gS(t.x)&&gS(t.y)}function xS(t,e){return t.min===e.min&&t.max===e.max}function dU(t,e){return xS(t.x,e.x)&&xS(t.y,e.y)}function vS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function z3(t,e){return vS(t.x,e.x)&&vS(t.y,e.y)}function yS(t){return _r(t.x)/_r(t.y)}function bS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uU{constructor(){this.members=[]}add(e){Y1(this.members,e),e.scheduleRender()}remove(e){if(Sg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hU(t,e,s){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(s==null?void 0:s.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:b,skewY:S}=s;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,u=t.y.scale*e.y;return(d!==1||u!==1)&&(r+=`scale(${d}, ${u})`),r||"none"}const ll={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ku=typeof window!="undefined"&&window.MotionDebug!==void 0,Pv=["","X","Y","Z"],mU={visibility:"hidden"},_S=1e3;let pU=0;function Lv(t,e,s,r){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function H3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=K5(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Yt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&H3(r)}function G3({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},d=e==null?void 0:e()){this.id=pU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ku&&(ll.totalNodes=ll.resolvedTargetDeltas=ll.recalculatedProjection=0),this.nodes.forEach(xU),this.nodes.forEach(wU),this.nodes.forEach(jU),this.nodes.forEach(vU),ku&&window.MotionDebug.record(ll)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new tU)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new J1),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const u=this.eventHandlers.get(l);u&&u.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$3(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(h||u)&&(this.isLayoutDirty=!0),t){let g;const v=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=sU(v,250),Yp.hasAnimatedSinceResize&&(Yp.hasAnimatedSinceResize=!1,this.nodes.forEach(jS))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||p.getDefaultTransition()||CU,{onLayoutAnimationStart:I,onLayoutAnimationComplete:F}=p.getProps(),D=!this.targetLayout||!z3(this.targetLayout,S)||b,A=!v&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,A);const y={...q1(E,"layout"),onPlay:I,onComplete:F};(p.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else v||jS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wS);return}this.isUpdating||this.nodes.forEach(bU),this.isUpdating=!1,this.nodes.forEach(_U),this.nodes.forEach(fU),this.nodes.forEach(gU),this.clearAllSnapshots();const d=Li.now();dn.delta=ja(0,1e3/60,d-dn.timestamp),dn.timestamp=d,dn.isProcessing=!0,Sv.update.process(dn),Sv.preRender.process(dn),Sv.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,F1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yU),this.sharedNodes.forEach(NU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ys(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!U3(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&(d||ol(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return l&&(u=this.removeTransform(u)),EU(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:d}=this.options;if(!d)return ys();const u=d.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(AU))){const{scroll:p}=this.root;p&&(Dc(u.x,p.offset.x),Dc(u.y,p.offset.y))}return u}removeElementScroll(l){var d;const u=ys();if(Rr(u,l),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Rr(u,l),Dc(u.x,g.offset.x),Dc(u.y,g.offset.y))}return u}applyTransform(l,d=!1){const u=ys();Rr(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Mc(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ol(p.latestValues)&&Mc(u,p.latestValues)}return ol(this.latestValues)&&Mc(u,this.latestValues),u}removeTransform(l){const d=ys();Rr(d,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!ol(h.latestValues))continue;a0(h.latestValues)&&h.updateSnapshot();const p=ys(),g=h.measurePageBox();Rr(p,g),fS(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return ol(this.latestValues)&&fS(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var d;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ys(),this.relativeTargetOrigin=ys(),Vu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ys(),this.targetWithTransforms=ys()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),L3(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ys(),this.relativeTargetOrigin=ys(),Vu(this.relativeTargetOrigin,this.target,b.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ku&&ll.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||a0(this.parent.latestValues)||P3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const d=this.getLead(),u=!!this.resumingFrom||this!==d;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Rr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;HV(this.layoutCorrected,this.treeScale,this.path,u),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ys());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hS(this.prevProjectionDelta.x,this.projectionDelta.x),hS(this.prevProjectionDelta.y,this.projectionDelta.y)),Ou(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!bS(this.projectionDelta.x,this.prevProjectionDelta.x)||!bS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),ku&&ll.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lc(),this.projectionDelta=Lc(),this.projectionDeltaWithTransform=Lc()}setAnimationOrigin(l,d=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},g=Lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=ys(),b=u?u.source:void 0,S=this.layout?this.layout.source:void 0,E=b!==S,I=this.getStack(),F=!I||I.members.length<=1,D=!!(E&&!F&&this.options.crossfade===!0&&!this.path.some(TU));this.animationProgress=0;let A;this.mixTargetDelta=y=>{const j=y/1e3;SS(g.x,l.x,j),SS(g.y,l.y,j),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kU(this.relativeTarget,this.relativeTargetOrigin,v,j),A&&dU(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ys()),Rr(A,this.relativeTarget)),E&&(this.animationValues=p,rU(p,h,this.latestValues,j,D,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{Yp.hasAnimatedSinceResize=!0,this.currentAnimation=B3(0,_S,{...l,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_S),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:u,layout:h,latestValues:p}=l;if(!(!d||!u||!h)){if(this!==l&&this.layout&&h&&W3(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||ys();const g=_r(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+g;const v=_r(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+v}Rr(d,u),Mc(d,p),Ou(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new uU),this.sharedNodes.get(l).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:d}=this.options;return d?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:d}=this.options;return d?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const h={};u.z&&Lv("z",l,h,this.animationValues);for(let p=0;p<Pv.length;p++)Lv(`rotate${Pv[p]}`,l,h,this.animationValues),Lv(`skew${Pv[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}getProjectionStyles(l){var d,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mU;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Qp(l==null?void 0:l.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=Qp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ol(this.latestValues)&&(E.transform=p?p({},""):"none",this.hasProjected=!1),E}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=hU(this.projectionDeltaWithTransform,this.treeScale,v),p&&(h.transform=p(v,h.transform));const{x:b,y:S}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,g.animationValues?h.opacity=g===this?(u=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const E in Sf){if(v[E]===void 0)continue;const{correct:I,applyTo:F}=Sf[E],D=h.transform==="none"?v[E]:I(v[E],g);if(F){const A=F.length;for(let y=0;y<A;y++)h[F[y]]=D}else h[E]=D}return this.options.layoutId&&(h.pointerEvents=g===this?Qp(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(wS),this.root.sharedNodes.clear()}}}function fU(t){t.updateLayout()}function gU(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=s.source!==t.layout.source;a==="size"?Lr(g=>{const v=l?s.measuredBox[g]:s.layoutBox[g],b=_r(v);v.min=r[g].min,v.max=v.min+b}):W3(a,s.layoutBox,r)&&Lr(g=>{const v=l?s.measuredBox[g]:s.layoutBox[g],b=_r(r[g]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const d=Lc();Ou(d,r,s.layoutBox);const u=Lc();l?Ou(u,t.applyTransform(i,!0),s.measuredBox):Ou(u,r,s.layoutBox);const h=!U3(d);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const S=ys();Vu(S,s.layoutBox,v.layoutBox);const E=ys();Vu(E,r,b.layoutBox),z3(S,E)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:u,layoutDelta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function xU(t){ku&&ll.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yU(t){t.clearSnapshot()}function wS(t){t.clearMeasurements()}function bU(t){t.isLayoutDirty=!1}function _U(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wU(t){t.resolveTargetDelta()}function jU(t){t.calcProjection()}function SU(t){t.resetSkewAndRotation()}function NU(t){t.removeLeadSnapshot()}function SS(t,e,s){t.translate=os(e.translate,0,s),t.scale=os(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function NS(t,e,s,r){t.min=os(e.min,s.min,r),t.max=os(e.max,s.max,r)}function kU(t,e,s,r){NS(t.x,e.x,s.x,r),NS(t.y,e.y,s.y,r)}function TU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CU={duration:.45,ease:[.4,0,.1,1]},kS=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),TS=kS("applewebkit/")&&!kS("chrome/")?Math.round:vr;function CS(t){t.min=TS(t.min),t.max=TS(t.max)}function EU(t){CS(t.x),CS(t.y)}function W3(t,e,s){return t==="position"||t==="preserve-aspect"&&!LV(yS(e),yS(s),.2)}function AU(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const IU=G3({attachResizeListener:(t,e)=>hh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dv={current:void 0},q3=G3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dv.current){const t=new IU({});t.mount(window),t.setOptions({layoutScroll:!0}),Dv.current=t}return Dv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),RU={pan:{Feature:XV},drag:{Feature:QV,ProjectionNode:q3,MeasureLayout:F3}};function ES(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&Yt.postRender(()=>a(e,Fh(e)))}class PU extends So{mount(){const{current:e}=this.node;e&&(this.unmount=B$(e,s=>(ES(this.node,s,"Start"),r=>ES(this.node,r,"End"))))}unmount(){}}class LU extends So{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(s){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mh(hh(this.node.current,"focus",()=>this.onFocus()),hh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AS(t,e,s){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&Yt.postRender(()=>a(e,Fh(e)))}class DU extends So{mount(){const{current:e}=this.node;e&&(this.unmount=U$(e,s=>(AS(this.node,s,"Start"),(r,{success:i})=>AS(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const l0=new WeakMap,Mv=new WeakMap,MU=t=>{const e=l0.get(t.target);e&&e(t)},FU=t=>{t.forEach(MU)};function BU({root:t,...e}){const s=t||document;Mv.has(s)||Mv.set(s,{});const r=Mv.get(s),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(FU,{root:t,...e})),r[i]}function $U(t,e,s){const r=BU(e);return l0.set(t,s),r.observe(t),()=>{l0.delete(t),r.unobserve(t)}}const OU={some:0,all:1};class VU extends So{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=e,l={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:OU[i]},d=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(u)};return $U(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(UU(e,s))&&this.startObserver()}unmount(){}}function UU({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const zU={inView:{Feature:VU},tap:{Feature:DU},focus:{Feature:LU},hover:{Feature:PU}},HU={layout:{ProjectionNode:q3,MeasureLayout:F3}},If={current:null},db={current:!1};function K3(){if(db.current=!0,!!R1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>If.current=t.matches;t.addListener(e),e()}else If.current=!1}const GU=[...f3,kn,bo],WU=t=>GU.find(p3(t)),rd=new WeakMap;function qU(t,e,s){for(const r in e){const i=e[r],a=s[r];if(en(i))t.addValue(r,i);else if(en(a))t.addValue(r,sd(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,sd(l!==void 0?l:i,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const IS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Q3{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rb,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Li.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Yt.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:p}=l;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=s.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=_g(s),this.isVariantNode=w5(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in v){const S=v[b];u[b]!==void 0&&en(S)&&S.set(u[b],!1)}}mount(e){this.current=e,rd.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),db.current||K3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:If.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){rd.delete(this.current),this.projection&&this.projection.unmount(),wa(this.notifyUpdate),wa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pl.has(e),i=s.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in td){const s=td[e];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ys()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<IS.length;r++){const i=IS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=qU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=sd(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(h3(i)||n3(i))?i=parseFloat(i):!WU(i)&&bo.test(s)&&(i=c3(e,s)),this.setBaseTarget(e,en(i)?i.get():i)),en(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=$1(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!en(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new J1),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class X3 extends Q3{constructor(){super(...arguments),this.KeyframeResolver=g3}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function KU(t){return window.getComputedStyle(t)}class Y3 extends X3{constructor(){super(...arguments),this.type="html",this.renderInstance=I5}readValueFromInstance(e,s){if(Pl.has(s)){const r=nb(s);return r&&r.default||0}else{const r=KU(e),i=(C5(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return D3(e,s)}build(e,s,r){U1(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return W1(e,s,r)}}class J3 extends X3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ys}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Pl.has(s)){const r=nb(s);return r&&r.default||0}return s=R5.has(s)?s:M1(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return D5(e,s,r)}build(e,s,r){z1(e,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,s,r,i){P5(e,s,r,i)}mount(e){this.isSVGTag=G1(e.tagName),super.mount(e)}}const QU=(t,e)=>B1(t)?new J3(e):new Y3(e,{allowProjection:t!==R.Fragment}),XU=R$({...NV,...zU,...RU,...HU},QU),Z3=qB(XU);function Tu(t){const e=E1(()=>sd(t)),{isStatic:s}=R.useContext(I1);if(s){const[,r]=R.useState(t);R.useEffect(()=>e.on("change",r),[])}return e}function eE(t,e){const s=Tu(e()),r=()=>s.set(e());return r(),x5(()=>{const i=()=>Yt.preRender(r,!1,!0),a=t.map(l=>l.on("change",i));return()=>{a.forEach(l=>l()),wa(r)}}),s}const YU=t=>t&&typeof t=="object"&&t.mix,JU=t=>YU(t)?t.mix:void 0;function ZU(...t){const e=!Array.isArray(t[0]),s=e?0:-1,r=t[0+s],i=t[1+s],a=t[2+s],l=t[3+s],d=j3(i,a,{mixer:JU(a[0]),...l});return e?d(r):d}function ez(t){Fu.current=[],t();const e=eE(Fu.current,t);return Fu.current=void 0,e}function fp(t,e,s,r){if(typeof t=="function")return ez(t);const i=typeof e=="function"?e:ZU(e,s,r);return Array.isArray(t)?RS(t,i):RS([t],([a])=>i(a))}function RS(t,e){const s=E1(()=>[]);return eE(t,()=>{s.length=0;const r=t.length;for(let i=0;i<r;i++)s[i]=t[i].get();return e(s)})}function tE(){!db.current&&K3();const[t]=R.useState(If.current);return t}const tz=(t,e,s)=>{const r=e-t;return((s-t)%r+r)%r+t};function sE(t,e){return w3(t)?t[tz(0,t.length,e)]:t}function ub(t){return typeof t=="object"&&!Array.isArray(t)}function nE(t,e,s,r){return typeof t=="string"&&ub(e)?z5(t,s,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function sz(t,e,s){return t*(e+1)}function PS(t,e,s,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?s:(i=r.get(e))!==null&&i!==void 0?i:t}function nz(t,e,s){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<s&&(Sg(t,i),r--)}}function rz(t,e,s,r,i,a){nz(t,i,a);for(let l=0;l<e.length;l++)t.push({value:e[l],at:os(i,a,r[l]),easing:sE(s,l)})}function iz(t,e){for(let s=0;s<t.length;s++)t[s]=t[s]/(e+1)}function az(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const oz="easeInOut";function lz(t,{defaultTransition:e={},...s}={},r,i){const a=e.duration||.3,l=new Map,d=new Map,u={},h=new Map;let p=0,g=0,v=0;for(let b=0;b<t.length;b++){const S=t[b];if(typeof S=="string"){h.set(S,g);continue}else if(!Array.isArray(S)){h.set(S.name,PS(g,S.at,p,h));continue}let[E,I,F={}]=S;F.at!==void 0&&(g=PS(g,F.at,p,h));let D=0;const A=(y,j,M,k=0,w=0)=>{const C=cz(y),{delay:L=0,times:P=N3(C),type:O="keyframes",repeat:$,repeatType:W,repeatDelay:H=0,...q}=j;let{ease:Q=e.ease||"easeOut",duration:G}=j;const J=typeof L=="function"?L(k,w):L,ne=C.length,z=jg(O)?O:i==null?void 0:i[O];if(ne<=2&&z){let fe=100;if(ne===2&&hz(C)){const Te=C[1]-C[0];fe=Math.abs(Te)}const Ce={...q};G!==void 0&&(Ce.duration=Ii(G));const ge=D$(Ce,fe,z);Q=ge.ease,G=ge.duration}G!=null||(G=a);const ee=g+J;P.length===1&&P[0]===0&&(P[1]=1);const ce=P.length-C.length;if(ce>0&&S3(P,ce),C.length===1&&C.unshift(null),$){G=sz(G,$);const fe=[...C],Ce=[...P];Q=Array.isArray(Q)?[...Q]:[Q];const ge=[...Q];for(let Te=0;Te<$;Te++){C.push(...fe);for(let ke=0;ke<fe.length;ke++)P.push(Ce[ke]+(Te+1)),Q.push(ke===0?"linear":sE(ge,ke-1))}iz(P,$)}const te=ee+G;rz(M,C,Q,P,ee,te),D=Math.max(J+G,D),v=Math.max(te,v)};if(en(E)){const y=LS(E,d);A(I,F,DS("default",y))}else{const y=nE(E,I,r,u),j=y.length;for(let M=0;M<j;M++){I=I,F=F;const k=y[M],w=LS(k,d);for(const C in I)A(I[C],dz(F,C),DS(C,w),M,j)}}p=g,g+=D}return d.forEach((b,S)=>{for(const E in b){const I=b[E];I.sort(az);const F=[],D=[],A=[];for(let j=0;j<I.length;j++){const{at:M,value:k,easing:w}=I[j];F.push(k),D.push(kl(0,v,M)),A.push(w||"easeOut")}D[0]!==0&&(D.unshift(0),F.unshift(F[0]),A.unshift(oz)),D[D.length-1]!==1&&(D.push(1),F.push(null)),l.has(S)||l.set(S,{keyframes:{},transition:{}});const y=l.get(S);y.keyframes[E]=F,y.transition[E]={...e,duration:v,ease:A,times:D,...s}}}),l}function LS(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function DS(t,e){return e[t]||(e[t]=[]),e[t]}function cz(t){return Array.isArray(t)?t:[t]}function dz(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const uz=t=>typeof t=="number",hz=t=>t.every(uz);function mz(t,e){return t in e}class pz extends Q3{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,s){if(mz(s,e)){const r=e[s];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,s){delete s.output[e]}measureInstanceViewportBox(){return ys()}build(e,s){Object.assign(e.output,s)}renderInstance(e,{output:s}){Object.assign(e,s)}sortInstanceNodePosition(){return 0}}function fz(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},s=$3(t)?new J3(e):new Y3(e);s.mount(t),rd.set(t,s)}function gz(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},s=new pz(e);s.mount(t),rd.set(t,s)}function xz(t,e){return en(t)||typeof t=="number"||typeof t=="string"&&!ub(e)}function rE(t,e,s,r){const i=[];if(xz(t,e))i.push(B3(t,ub(e)&&e.default||e,s&&(s.default||s)));else{const a=nE(t,e,r),l=a.length;for(let d=0;d<l;d++){const u=a[d],h=u instanceof Element?fz:gz;rd.has(u)||h(u);const p=rd.get(u),g={...s};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(d,l)),i.push(...cb(p,{...e,transition:g},{}))}}return i}function vz(t,e,s){const r=[];return lz(t,e,s,{spring:ab}).forEach(({keyframes:a,transition:l},d)=>{r.push(...rE(d,a,l))}),r}function yz(t){return Array.isArray(t)&&t.some(Array.isArray)}function bz(t){function e(s,r,i){let a=[];return yz(s)?a=vz(s,r,t):a=rE(s,r,i,t),new B5(a)}return e}const gp=bz(),ua={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function _z(){return n.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+ua.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function wz(){return n.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[n.jsxs("defs",{children:[n.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[n.jsx("stop",{offset:"0%",stopColor:ua.icon,stopOpacity:"0.42"}),n.jsx("stop",{offset:"70%",stopColor:ua.icon,stopOpacity:"0"})]}),n.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[n.jsx("stop",{offset:"0%",stopColor:ua.icon,stopOpacity:"0.20"}),n.jsx("stop",{offset:"70%",stopColor:ua.icon,stopOpacity:"0"})]})]}),n.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),n.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function MS({rounded:t="rounded-3xl",padded:e=!0,children:s}){const r=tE();return n.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:ua.border,background:"var(--nav, "+ua.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[n.jsx(_z,{}),n.jsx(Z3.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),n.jsx(wz,{}),n.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:s})]})}const Fv={borderColor:"#2B4C73",background:"#1A2F4A"},xp={borderColor:"#2B4C73",background:"#152A42"};function wt({hex:t,title:e,subtitle:s,actions:r,subheader:i,left:a,right:l,children:d,rounded:u="rounded-3xl",padded:h=!0,centerFramed:p=!1,leftWidth:g=0,rightWidth:v=0,stickyRails:b=!0,mode:S="card",outerPadding:E="px-4 py-3",leftPlacement:I="inside",stickyTopbar:F=!0,stickySubheader:D=!0,shellViewportOffset:A="var(--app-topbar-h,72px)",topbarHeight:y=56}){const j={"--left":typeof g=="number"?`${g}px`:g,"--right":typeof v=="number"?`${v}px`:v},M=n.jsxs(n.Fragment,{children:[t&&n.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:Fv,children:t}),(e||s||r)&&n.jsxs("div",{className:[F?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:Fv,children:[n.jsxs("div",{className:"min-w-0",children:[e&&n.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),s&&n.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:s})]}),r?n.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&n.jsx("div",{className:[D?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...D?{top:F?`${y}px`:0}:{},...Fv},children:i})]}),k=S==="card"?({children:C})=>n.jsx(MS,{rounded:u,padded:h,children:C}):({children:C})=>n.jsx("div",{className:`w-full ${E}`,children:C}),w=n.jsx("div",{className:"relative min-h-0 h-full",style:j,children:n.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[a?n.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...xp,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:a}):g?n.jsx("div",{}):n.jsx("div",{className:"hidden md:block"}),p?n.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:xp,children:d}):n.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),l?n.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...xp,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?n.jsx("div",{}):n.jsx("div",{className:"hidden md:block"})]})});return I==="bleed"&&S==="card"?n.jsx("div",{className:`w-full ${E}`,children:n.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[M,n.jsx("div",{className:"flex-1 min-h-0",style:j,children:n.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[a?n.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...xp,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:a}):g?n.jsx("div",{}):n.jsx("div",{className:"hidden md:block"}),n.jsx(MS,{rounded:u,padded:h,children:n.jsx("div",{className:"flex-1 min-h-0 h-full",children:w})})]})})]})}):n.jsx(k,{children:n.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${A})`},children:[M,n.jsx("div",{className:"flex-1 min-h-0",children:w})]})})}const jz="_row_x5rfq_3",Sz="_colFull_x5rfq_17",Nz="_colCommunity_x5rfq_31",kz="_colGuides_x5rfq_33",Tz="_card_x5rfq_129",Cz="_header_x5rfq_143",Ez="_title_x5rfq_155",Az="_subtitle_x5rfq_157",Iz="_empty_x5rfq_159",Rz="_errorNote_x5rfq_161",Pz="_linkBtn_x5rfq_163",Lz="_primaryBtn_x5rfq_163",Dz="_navBtn_x5rfq_163",Mz="_closeBtn_x5rfq_163",Fz="_actionsRight_x5rfq_179",Bz="_tileGrid_x5rfq_185",$z="_tile_x5rfq_185",Oz="_tileIcon_x5rfq_211",Vz="_tileIconFallback_x5rfq_213",Uz="_tileLabel_x5rfq_215",zz="_newsList_x5rfq_221",Hz="_newsItem_x5rfq_223",Gz="_newsMeta_x5rfq_225",Wz="_newsAuthor_x5rfq_227",qz="_newsTime_x5rfq_229",Kz="_newsText_x5rfq_231",Qz="_newsImage_x5rfq_233",Xz="_carouselCtrls_x5rfq_241",Yz="_carousel_x5rfq_241",Jz="_slide_x5rfq_249",Zz="_slideActive_x5rfq_251",eH="_slideInactive_x5rfq_253",tH="_slideThumb_x5rfq_255",sH="_slideFallback_x5rfq_257",nH="_slideCaption_x5rfq_259",rH="_liveCard_x5rfq_265",iH="_liveAvatar_x5rfq_267",aH="_liveAvatarFallback_x5rfq_269",oH="_liveInfo_x5rfq_271",lH="_liveName_x5rfq_273",cH="_liveMeta_x5rfq_275",dH="_liveBadge_x5rfq_277",uH="_liveViewers_x5rfq_279",hH="_modalOverlay_x5rfq_285",mH="_modal_x5rfq_285",pH="_modalHeader_x5rfq_289",fH="_modalTitle_x5rfq_291",gH="_modalFilters_x5rfq_295",xH="_formRow_x5rfq_297",vH="_formRowCheckbox_x5rfq_299",yH="_select_x5rfq_301",bH="_input_x5rfq_301",_H="_tableWrap_x5rfq_303",wH="_table_x5rfq_303",Me={row:jz,colFull:Sz,colCommunity:Nz,colGuides:kz,card:Tz,header:Cz,title:Ez,subtitle:Az,empty:Iz,errorNote:Rz,linkBtn:Pz,primaryBtn:Lz,navBtn:Dz,closeBtn:Mz,actionsRight:Fz,tileGrid:Bz,tile:$z,tileIcon:Oz,tileIconFallback:Vz,tileLabel:Uz,newsList:zz,newsItem:Hz,newsMeta:Gz,newsAuthor:Wz,newsTime:qz,newsText:Kz,newsImage:Qz,carouselCtrls:Xz,carousel:Yz,slide:Jz,slideActive:Zz,slideInactive:eH,slideThumb:tH,slideFallback:sH,slideCaption:nH,liveCard:rH,liveAvatar:iH,liveAvatarFallback:aH,liveInfo:oH,liveName:lH,liveMeta:cH,liveBadge:dH,liveViewers:uH,modalOverlay:hH,modal:mH,modalHeader:pH,modalTitle:fH,modalFilters:gH,formRow:xH,formRowCheckbox:vH,select:yH,input:bH,tableWrap:_H,table:wH},jH=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function iE(){const t=[];for(const s of jH)try{const i=await(await fetch(s,{cache:"no-store"})).text(),a=SH(i);t.push(...a)}catch(r){}const e=new Map;for(const s of t){const r=String(s["Creator Name"]||s.creator_name||s.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,s)}return Array.from(e.values())}function FS(t){const e=[];let s="",r=!1;for(let i=0;i<t.length;i++){const a=t[i];a==='"'?r&&t[i+1]==='"'?(s+='"',i++):r=!r:a===","&&!r?(e.push(s),s=""):s+=a}return e.push(s),e}function SH(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const s=FS(e[0]);return e.slice(1).map(r=>{const i=FS(r),a={};return s.forEach((l,d)=>{var u;return a[l.trim()]=((u=i[d])!=null?u:"").trim()}),a})}function NH(t){try{const e=Date.now(),s=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-s),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const a=Math.floor(i/60);if(a<60)return`${a}m`;const l=Math.floor(a/60);return l<24?`${l}h`:`${Math.floor(l/24)}d`}catch(e){return""}}function kH(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const s=e.pathname.toLowerCase();if(s.startsWith("/shorts/"))return s.split("/")[2]||null}}catch(e){}return null}const TH=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help/",label:"Help"},{to:"/settings/",label:"Settings"}],BS={},CH=()=>n.jsxs("section",{className:Me.card,"data-i18n-scope":"home.tiles",children:[n.jsxs("header",{className:Me.header,children:[n.jsx("span",{className:Me.title,"data-i18n":"home.title",children:"Home"}),n.jsx("span",{className:Me.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),n.jsx("div",{className:Me.tileGrid,role:"list",children:TH.map(t=>n.jsxs(zt,{to:t.to,role:"listitem",className:Me.tile,"aria-label":t.label,children:[BS[t.to]?n.jsx("img",{src:BS[t.to],alt:"",className:Me.tileIcon}):n.jsx("div",{className:Me.tileIconFallback,"aria-hidden":!0,children:t.label.slice(0,2).toUpperCase()}),n.jsx("div",{className:Me.tileLabel,"data-i18n":`nav.${t.label.toLowerCase()}`,children:t.label})]},t.to))})]}),EH=()=>{const[t,e]=R.useState(null),[s,r]=R.useState(null);R.useEffect(()=>{async function a(){{e([]);return}}return a(),()=>{}},[]);const i=!t||t.length===0;return n.jsxs("section",{className:Me.card,"data-i18n-scope":"home.news","aria-busy":t==null,children:[n.jsx("header",{className:Me.header,children:n.jsx("span",{className:Me.title,"data-i18n":"home.news.title",children:"Community news"})}),n.jsxs("div",{className:Me.newsList,children:[t==null?void 0:t.map(a=>{var l;return n.jsxs("article",{className:Me.newsItem,children:[n.jsxs("div",{className:Me.newsMeta,children:[n.jsx("span",{className:Me.newsAuthor,children:a.author||"Discord"}),n.jsx("span",{className:Me.newsTime,children:NH(a.timestamp)})]}),n.jsx("p",{className:Me.newsText,children:a.text}),a.image&&n.jsx("img",{src:a.image,alt:"",className:Me.newsImage}),a.url&&n.jsx("a",{href:a.url,target:"_blank",rel:"noreferrer",className:Me.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(l=a.id)!=null?l:`${a.author}-${a.timestamp}`)}),i&&n.jsx("div",{className:Me.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),s&&n.jsx("div",{className:Me.errorNote,"aria-live":"polite",children:s})]})},AH=()=>{const[t,e]=R.useState([]),[s,r]=R.useState(0),i=R.useRef(null);R.useEffect(()=>{let u=!0;async function h(){try{const g=(await iE()).map(v=>{const b=String(v["Creator Name"]||v.creator_name||v.name||"").trim(),S=String(v["YouTube Link"]||v.youtube||v.YouTube||"").trim();if(!S)return null;const E=kH(S),I=E?`https://i.ytimg.com/vi/${E}/hqdefault.jpg`:void 0;return{title:b,url:S,thumb:I}}).filter(Boolean).slice(0,12);u&&e(g)}catch(p){u&&e([])}}return h(),()=>{u=!1}},[]),R.useEffect(()=>{if(!(t.length<=1))return i.current=window.setInterval(()=>r(u=>(u+1)%t.length),6e3),()=>{i.current&&window.clearInterval(i.current)}},[t]);const a=()=>r(u=>(u-1+t.length)%Math.max(t.length,1)),l=()=>r(u=>(u+1)%Math.max(t.length,1)),d=u=>{u.key==="ArrowLeft"&&(u.preventDefault(),a()),u.key==="ArrowRight"&&(u.preventDefault(),l())};return n.jsxs("section",{className:Me.card,"data-i18n-scope":"home.youtube",children:[n.jsxs("header",{className:Me.header,children:[n.jsx("span",{className:Me.title,"data-i18n":"home.youtube.title",children:"YouTube"}),n.jsxs("div",{className:Me.carouselCtrls,children:[n.jsx("button",{className:Me.navBtn,onClick:a,"aria-label":"Prev",children:""}),n.jsx("button",{className:Me.navBtn,onClick:l,"aria-label":"Next",children:""})]})]}),n.jsx("div",{className:Me.carousel,tabIndex:0,onKeyDown:d,"aria-roledescription":"carousel",children:t.length===0?n.jsx("div",{className:Me.empty,children:"No videos"}):t.map((u,h)=>n.jsxs("a",{href:u.url,target:"_blank",rel:"noreferrer",className:[Me.slide,h===s?Me.slideActive:Me.slideInactive].join(" "),children:[u.thumb?n.jsx("img",{src:u.thumb,alt:"",className:Me.slideThumb}):n.jsx("div",{className:Me.slideFallback,children:u.title.slice(0,2).toUpperCase()}),n.jsx("div",{className:Me.slideCaption,children:u.title})]},u.url))})]})},IH=({onOpenSchedule:t})=>{var p;const[e,s]=R.useState(null),[r,i]=R.useState(new Map),[a,l]=R.useState(0),d=R.useRef(null);if(R.useEffect(()=>{async function g(){{s([]);return}}return g(),()=>{}},[]),R.useEffect(()=>{let g=!0;async function v(){try{const b=await iE(),S=new Map;for(const E of b){const I=String(E["Creator Name"]||E.creator_name||E.name||"").trim(),F=String(E["Twitch Link"]||E.twitch||E.Twitch||"").trim();if(!I||!F)continue;const D=(()=>{try{return new URL(F).pathname.replace(/^\//,"").toLowerCase()}catch(A){return F.toLowerCase()}})();D&&S.set(D,F),S.set(I.toLowerCase(),F)}g&&i(S)}catch(b){g&&i(new Map)}}return v(),()=>{g=!1}},[]),R.useEffect(()=>{if(!(!e||e.length<=1))return d.current=window.setInterval(()=>l(g=>(g+1)%e.length),8e3),()=>{d.current&&window.clearInterval(d.current)}},[e]),!e||e.length===0)return n.jsxs("section",{className:Me.card,"data-i18n-scope":"home.live",children:[n.jsx("header",{className:Me.header,children:n.jsx("span",{className:Me.title,"data-i18n":"home.live.title",children:"Live now"})}),n.jsx("div",{className:Me.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),n.jsx("div",{className:Me.actionsRight,children:n.jsx("button",{className:Me.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const u=e[a],h=(()=>{const g=((u==null?void 0:u.name)||"").toLowerCase();if(u!=null&&u.url)return u.url;if(g)return r.has(g)?r.get(g):r.has(g.replace(/^@/,""))?r.get(g.replace(/^@/,"")):`https://www.twitch.tv/${g}`})();return n.jsxs("section",{className:Me.card,"data-i18n-scope":"home.live",children:[n.jsx("header",{className:Me.header,children:n.jsx("span",{className:Me.title,"data-i18n":"home.live.title",children:"Live now"})}),n.jsxs("div",{className:Me.liveCard,children:[u!=null&&u.avatar?n.jsx("img",{src:u.avatar,alt:"",className:Me.liveAvatar}):n.jsx("div",{className:Me.liveAvatarFallback,"aria-hidden":!0,children:(p=u==null?void 0:u.name)==null?void 0:p.slice(0,2).toUpperCase()}),n.jsxs("div",{className:Me.liveInfo,children:[n.jsx("div",{className:Me.liveName,children:u==null?void 0:u.name}),n.jsxs("div",{className:Me.liveMeta,children:[n.jsx("span",{className:Me.liveBadge,children:"LIVE"}),typeof(u==null?void 0:u.viewers)=="number"&&n.jsxs("span",{className:Me.liveViewers,children:[u.viewers.toLocaleString()," viewers"]})]})]}),h&&n.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:Me.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),n.jsxs("div",{className:Me.carouselCtrls,children:[n.jsx("button",{className:Me.navBtn,onClick:()=>l(g=>(g-1+e.length)%e.length),"aria-label":"Prev",children:""}),n.jsx("button",{className:Me.navBtn,onClick:()=>l(g=>(g+1)%e.length),"aria-label":"Next",children:""})]})]})},RH=({open:t,onClose:e})=>{var b;const[s,r]=R.useState(null),[i,a]=R.useState("All"),[l,d]=R.useState(""),[u,h]=R.useState(!1);if(R.useEffect(()=>{if(!t)return;async function S(){{r([]);return}}return S(),()=>{}},[t]),R.useEffect(()=>{const S=E=>{E.key==="Escape"&&e()};return t&&window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),!t)return null;const p=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),g=(s||[]).filter(S=>{if(i!=="All"&&S.platform.toLowerCase()!==i.toLowerCase()||u&&S.weekday&&S.weekday.toLowerCase()!==p.toLowerCase())return!1;if(l){const E=l.toLowerCase();if(!`${S.streamer} ${S.title}`.toLowerCase().includes(E))return!1}return!0}),v=((b=s==null?void 0:s.length)!=null?b:0)===0;return n.jsx("div",{className:Me.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:n.jsxs("div",{className:Me.modal,children:[n.jsxs("header",{className:Me.modalHeader,children:[n.jsx("h2",{id:"schedule-title",className:Me.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),n.jsx("button",{className:Me.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),n.jsxs("div",{className:Me.modalFilters,children:[n.jsxs("label",{className:Me.formRow,children:[n.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),n.jsxs("select",{value:i,onChange:S=>a(S.target.value),className:Me.select,children:[n.jsx("option",{value:"All",children:"All"}),n.jsx("option",{value:"Twitch",children:"Twitch"}),n.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),n.jsxs("label",{className:Me.formRow,children:[n.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),n.jsx("input",{value:l,onChange:S=>d(S.target.value),className:Me.input,placeholder:"Streamer / Title"})]}),n.jsxs("label",{className:Me.formRowCheckbox,children:[n.jsx("input",{type:"checkbox",checked:u,onChange:S=>h(S.target.checked)}),n.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),n.jsx("div",{className:Me.tableWrap,children:n.jsxs("table",{className:Me.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"weekday"}),n.jsx("th",{children:"start_utc"}),n.jsx("th",{children:"end_utc"}),n.jsx("th",{children:"timezone"}),n.jsx("th",{children:"platform"}),n.jsx("th",{children:"channel_url"}),n.jsx("th",{children:"streamer"}),n.jsx("th",{children:"title"})]})}),n.jsx("tbody",{children:v?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:Me.empty,children:"No schedule yet"})}):g.map((S,E)=>n.jsxs("tr",{children:[n.jsx("td",{children:S.weekday}),n.jsx("td",{children:S.start_utc}),n.jsx("td",{children:S.end_utc}),n.jsx("td",{children:S.timezone}),n.jsx("td",{children:S.platform}),n.jsx("td",{children:S.channel_url?n.jsx("a",{href:S.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),n.jsx("td",{children:S.streamer}),n.jsx("td",{children:S.title})]},E))})]})})]})})},PH=()=>{const[t,e]=R.useState(!1);return n.jsxs(wt,{title:"home.title",subtitle:"home.subtitle",children:[n.jsx("div",{className:Me.row,children:n.jsx("div",{className:Me.colFull,children:n.jsx(CH,{})})}),n.jsxs("div",{className:Me.row,children:[n.jsx("div",{className:Me.colCommunity,children:n.jsx(EH,{})}),n.jsx("div",{className:Me.colGuides,children:n.jsx(AH,{})})]}),n.jsx("div",{className:Me.row,children:n.jsx("div",{className:Me.colFull,children:n.jsx(IH,{onOpenSchedule:()=>e(!0)})})}),n.jsx(RH,{open:t,onClose:()=>e(!1)})]})},LH="_wrapper_125p4_1",DH="_card_125p4_19",MH="_logo_125p4_45",FH="_heading_125p4_61",BH="_subcopy_125p4_73",$H="_buttonStack_125p4_83",OH="_providerButton_125p4_97",VH="_discord_125p4_145",UH="_google_125p4_153",zH="_disclaimer_125p4_161",HH="_status_125p4_173",GH="_sessionBlock_125p4_183",WH="_logoutButton_125p4_197",qH="_linkButton_125p4_227",KH="_loading_125p4_245",QH="_spinner_125p4_261",ln={wrapper:LH,card:DH,logo:MH,heading:FH,subcopy:BH,buttonStack:$H,providerButton:OH,discord:VH,google:UH,disclaimer:zH,status:HH,sessionBlock:GH,logoutButton:WH,linkButton:qH,loading:KH,spinner:QH},XH=()=>{const t=Or(),{status:e,user:s,loginWithDiscord:r,loginWithGoogle:i,logout:a}=Rl(),l=e==="loading"||e==="idle",d=e==="authenticated"&&!!s,u=()=>{l||r()},h=()=>{l||i()},p=async()=>{await a()},g=()=>{t("/")};let v;return l?v=n.jsxs("div",{className:ln.loading,children:[n.jsx("div",{className:ln.spinner}),n.jsx("div",{children:"Checking session"})]}):d&&s?v=n.jsxs("div",{className:ln.sessionBlock,children:[n.jsxs("div",{className:ln.status,children:["You are logged in as ",s.displayName,"."]}),n.jsx("button",{className:ln.logoutButton,type:"button",onClick:p,children:"Logout"}),n.jsx("button",{className:ln.linkButton,type:"button",onClick:g,children:"Back to dashboard"})]}):v=n.jsxs("div",{className:ln.buttonStack,children:[n.jsx("button",{className:`${ln.providerButton} ${ln.discord}`,type:"button",onClick:u,children:"Login with Discord"}),n.jsx("button",{className:`${ln.providerButton} ${ln.google}`,type:"button",onClick:h,children:"Login with Google"})]}),n.jsx(wt,{title:"Account Access",subtitle:"Connect with your community identity",mode:"page",padded:!0,children:n.jsx("div",{className:ln.wrapper,children:n.jsxs("div",{className:ln.card,children:[n.jsx("img",{className:ln.logo,src:Kp,alt:"SFDataHub logo"}),n.jsx("h1",{className:ln.heading,children:"Sign in"}),n.jsx("p",{className:ln.subcopy,children:"Choose a method to access SFDataHub."}),v,n.jsx("p",{className:ln.disclaimer,children:"We store only your SFDataHub user ID, display name, avatar, and roles to personalize your experience."})]})})})};function YH(){return n.jsx(wt,{hex:n.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:n.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:n.jsx(JH,{}),right:n.jsx(ZH,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsx(Bv,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),n.jsx(Bv,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),n.jsx(Bv,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function JH(){return n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx($v,{to:"/dashboard/kpis",children:"KPIs"}),n.jsx($v,{to:"/dashboard/activity",children:"Activity"}),n.jsx($v,{to:"/dashboard/progression",children:"Progression"})]})]})}function ZH(){return n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),n.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function Bv({to:t,title:e,desc:s}){return n.jsxs(zt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),s?n.jsx("div",{className:"mt-1 text-sm opacity-75",children:s}):null]})}function $v({to:t,children:e}){return n.jsx(zt,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function eG(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Dashboard  KPIs"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(Ov,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),n.jsx(Ov,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),n.jsx(Ov,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Ov({label:t,value:e,hint:s}){return n.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[n.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),n.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function tG(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Dashboard  Activity"}),n.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),n.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[n.jsx("li",{children:" Neues Scan-File hochgeladen"}),n.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),n.jsx("li",{children:" Gilden-Event geplant"})]})]})}function sG(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Dashboard  Progression"}),n.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[n.jsx(Vv,{title:"Scrapbook 100%",progress:72}),n.jsx(Vv,{title:"Fortress Ausbaustufe",progress:48}),n.jsx(Vv,{title:"Underworld Boss",progress:35})]})]})}function Vv({title:t,progress:e}){return n.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),n.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:n.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),n.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function nG(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Discover"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(Yo,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),n.jsx(Yo,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),n.jsx(Yo,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),n.jsx(Yo,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),n.jsx(Yo,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),n.jsx(Yo,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"}),n.jsx(Yo,{to:"/players/compare",title:"Compare Players",desc:"Direkter Spieler-Vergleich"})]})]})}function Yo({to:t,title:e,desc:s}){return n.jsxs(zt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function rG({children:t,framed:e=!0}){return e?n.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:ua.border,backgroundColor:ua.tile},children:t}):n.jsx("main",{className:"min-w-0",children:t})}function iG(t,e){if(!t)return"";const s=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return s;const r=s.includes("?")?"&":"?";return`${s}${r}bg=transparent&background=transparent`}const aG=({srcOrId:t,aspectRatio:e="16/10",height:s,allowFullscreen:r=!0,lazy:i=!0,className:a,showInfo:l=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:u=0,tryTransparentBg:h=!0})=>{const[p,g]=R.useState(!1),v=R.useMemo(()=>iG(t,h),[t,h]),b=i?"lazy":"eager",S={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},E={position:"relative",width:"100%",padding:u?`${u}px`:0,boxSizing:"border-box",background:"transparent"},I=s?{position:"relative",width:"100%",height:s,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},F={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return n.jsx("div",{className:a,style:S,children:n.jsx("div",{style:E,children:n.jsxs("div",{style:I,children:[n.jsx("iframe",{src:v,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:b,scrolling:"no",title:"Heyzine Flipbook"}),l&&n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button","aria-label":"Info",onClick:()=>g(D=>!D),style:F,title:"Info",children:"i"}),p&&n.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",n.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},oG="#0C1C2E",lG=()=>n.jsx(wt,{children:n.jsx(rG,{children:n.jsxs("div",{style:{position:"relative",width:"100%"},children:[n.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:oG,borderRadius:16,pointerEvents:"none",zIndex:0}}),n.jsx("div",{style:{position:"relative",zIndex:1},children:n.jsx(aG,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),cG="_pageWrap_72re9_7",dG="_infoLine_72re9_17",uG="_viewerHost_72re9_43",hG="_overlay_72re9_99",mG="_dragZoneLeft_72re9_101",pG="_dragZoneRight_72re9_103",fG="_inbookLink_72re9_105",Xa={pageWrap:cG,infoLine:dG,viewerHost:uG,overlay:hG,dragZoneLeft:mG,dragZoneRight:pG,inbookLink:fG};var Cu={exports:{}},gG=Cu.exports,$S;function xG(){return $S||($S=1,(function(t,e){(function(s,r){r(e)})(gG,(function(s){class r{constructor(y,j){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=j,this.nowDrawingDensity=this.createdDensity,this.render=y}setDensity(y){this.createdDensity=y,this.nowDrawingDensity=y}setDrawingDensity(y){this.nowDrawingDensity=y}setPosition(y){this.state.position=y}setAngle(y){this.state.angle=y}setArea(y){this.state.area=y}setHardDrawingAngle(y){this.state.hardDrawingAngle=y}setHardAngle(y){this.state.hardAngle=y,this.state.hardDrawingAngle=y}setOrientation(y){this.orientation=y}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(y,j,M){super(y,M),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=j}draw(y){const j=this.render.getContext(),M=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,w=this.render.getRect().height;j.save(),j.translate(M.x,M.y),j.beginPath();for(let C of this.state.area)C!==null&&(C=this.render.convertToGlobal(C),j.lineTo(C.x-M.x,C.y-M.y));j.rotate(this.state.angle),j.clip(),this.isLoad?j.drawImage(this.image,0,0,k,w):this.drawLoader(j,{x:0,y:0},k,w),j.restore()}simpleDraw(y){const j=this.render.getRect(),M=this.render.getContext(),k=j.pageWidth,w=j.height,C=y===1?j.left+j.pageWidth:j.left,L=j.top;this.isLoad?M.drawImage(this.image,C,L,k,w):this.drawLoader(M,{x:C,y:L},k,w)}drawLoader(y,j,M,k){y.beginPath(),y.strokeStyle="rgb(200, 200, 200)",y.fillStyle="rgb(255, 255, 255)",y.lineWidth=1,y.rect(j.x+1,j.y+1,M-1,k-1),y.stroke(),y.fill();const w={x:j.x+M/2,y:j.y+k/2};y.beginPath(),y.lineWidth=10,y.arc(w.x,w.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),y.stroke(),y.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class a{constructor(y,j){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=j,this.app=y,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let j=0;j<this.pages.length;j++)this.portraitSpread.push([j]);let y=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([y]),y++);for(let j=y;j<this.pages.length;j+=2)j<this.pages.length-1?this.landscapeSpread.push([j,j+1]):(this.landscapeSpread.push([j]),this.pages[j].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(y){const j=this.getSpread();for(let M=0;M<j.length;M++)if(y===j[M][0]||y===j[M][1])return M;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(y){if(y>=0&&y<this.pages.length)return this.pages[y];throw new Error("Invalid page number")}nextBy(y){const j=this.pages.indexOf(y);return j<this.pages.length-1?this.pages[j+1]:null}prevBy(y){const j=this.pages.indexOf(y);return j>0?this.pages[j-1]:null}getFlippingPage(y){const j=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[j].newTemporaryCopy():this.pages[j-1];{const M=y===0?this.getSpread()[j+1]:this.getSpread()[j-1];return M.length===1||y===0?this.pages[M[0]]:this.pages[M[1]]}}getBottomPage(y){const j=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[j+1]:this.pages[j-1];{const M=y===0?this.getSpread()[j+1]:this.getSpread()[j-1];return M.length===1?this.pages[M[0]]:y===0?this.pages[M[1]]:this.pages[M[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(y=null){if(y===null&&(y=this.currentPageIndex),y<0||y>=this.pages.length)return;const j=this.getSpreadIndexByPage(y);j!==null&&(this.currentSpreadIndex=j,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(y){if(!(y>=0&&y<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=y}showSpread(){const y=this.getSpread()[this.currentSpreadIndex];y.length===2?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(this.pages[y[1]])):this.render.getOrientation()==="landscape"&&y[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[y[0]])),this.currentPageIndex=y[0],this.app.updatePageIndex(this.currentPageIndex)}}class l extends a{constructor(y,j,M){super(y,j),this.imagesHref=M}load(){for(const y of this.imagesHref){const j=new i(this.render,y,"soft");j.load(),this.pages.push(j)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(y,j){return y===null||j===null?1/0:Math.sqrt(Math.pow(j.x-y.x,2)+Math.pow(j.y-y.y,2))}static GetSegmentLength(y){return d.GetDistanceBetweenTwoPoint(y[0],y[1])}static GetAngleBetweenTwoLine(y,j){const M=y[0].y-y[1].y,k=j[0].y-j[1].y,w=y[1].x-y[0].x,C=j[1].x-j[0].x;return Math.acos((M*k+w*C)/(Math.sqrt(M*M+w*w)*Math.sqrt(k*k+C*C)))}static PointInRect(y,j){return j===null?null:j.x>=y.left&&j.x<=y.width+y.left&&j.y>=y.top&&j.y<=y.top+y.height?j:null}static GetRotatedPoint(y,j,M){return{x:y.x*Math.cos(M)+y.y*Math.sin(M)+j.x,y:y.y*Math.cos(M)-y.x*Math.sin(M)+j.y}}static LimitPointToCircle(y,j,M){if(d.GetDistanceBetweenTwoPoint(y,M)<=j)return M;const k=y.x,w=y.y,C=M.x,L=M.y;let P=Math.sqrt(Math.pow(j,2)*Math.pow(k-C,2)/(Math.pow(k-C,2)+Math.pow(w-L,2)))+k;M.x<0&&(P*=-1);let O=(P-k)*(w-L)/(k-C)+w;return k-C+w===0&&(O=j),{x:P,y:O}}static GetIntersectBetweenTwoSegment(y,j,M){return d.PointInRect(y,d.GetIntersectBeetwenTwoLine(j,M))}static GetIntersectBeetwenTwoLine(y,j){const M=y[0].y-y[1].y,k=j[0].y-j[1].y,w=y[1].x-y[0].x,C=j[1].x-j[0].x,L=y[0].x*y[1].y-y[1].x*y[0].y,P=j[0].x*j[1].y-j[1].x*j[0].y,O=M*P-k*L,$=w*P-C*L,W=-(L*C-P*w)/(M*C-k*w),H=-(M*P-k*L)/(M*C-k*w);if(isFinite(W)&&isFinite(H))return{x:W,y:H};if(Math.abs(O-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(y,j){const M=Math.abs(y.x-j.x),k=Math.abs(y.y-j.y),w=Math.max(M,k),C=[y];function L(P,O,$,W,H){return O>P?P+H*($/W):O<P?P-H*($/W):P}for(let P=1;P<=w;P+=1)C.push({x:L(y.x,j.x,M,w,P),y:L(y.y,j.y,k,w,P)});return C}}class u extends r{constructor(y,j,M){super(y,M),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=j,this.element.classList.add("stf__item"),this.element.classList.add("--"+M)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(y){const j=y||this.nowDrawingDensity,M=this.render.convertToGlobal(this.state.position),k=this.render.getRect().pageWidth,w=this.render.getRect().height;this.element.classList.remove("--simple");const C=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${k}px;
            height: ${w}px;
        `;j==="hard"?this.drawHard(C):this.drawSoft(M,C)}drawHard(y=""){const j=this.render.getRect().left+this.render.getRect().width/2,M=this.state.hardDrawingAngle,k=y+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${M}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${j}px, 0, 0) rotateY(${M}deg);`);this.element.style.cssText=k}drawSoft(y,j=""){let M="polygon( ";for(const w of this.state.area)if(w!==null){let C=this.render.getDirection()===1?{x:-w.x+this.state.position.x,y:w.y-this.state.position.y}:{x:w.x-this.state.position.x,y:w.y-this.state.position.y};C=d.GetRotatedPoint(C,{x:0,y:0},this.state.angle),M+=C.x+"px "+C.y+"px, "}M=M.slice(0,-2),M+=")";const k=j+`transform-origin: 0 0; clip-path: ${M}; -webkit-clip-path: ${M};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${y.x}px, ${y.y}px);`:`transform: translate3d(${y.x}px, ${y.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=k}simpleDraw(y){const j=this.render.getRect(),M=j.pageWidth,k=j.height,w=y===1?j.left+j.pageWidth:j.left,C=j.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${k}px; 
            left: ${w}px; 
            top: ${C}px; 
            width: ${M}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(y){super.setOrientation(y),this.element.classList.remove("--left","--right"),this.element.classList.add(y===1?"--right":"--left")}setDrawingDensity(y){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+y),super.setDrawingDensity(y)}}class h extends a{constructor(y,j,M,k){super(y,j),this.element=M,this.pagesElement=k}load(){for(const y of this.pagesElement){const j=new u(this.render,y,y.dataset.density==="hard"?"hard":"soft");j.load(),this.pages.push(j)}this.createSpread()}}class p{constructor(y,j,M,k){this.direction=y,this.corner=j,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(M,10),this.pageHeight=parseInt(k,10)}calc(y){try{return this.position=this.calcAngleAndPosition(y),this.calculateIntersectPoint(this.position),!0}catch(j){return!1}}getFlippingClipArea(){const y=[];let j=!1;return y.push(this.rect.topLeft),y.push(this.topIntersectPoint),this.sideIntersectPoint===null?j=!0:(y.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(j=!1)),y.push(this.bottomIntersectPoint),(j||this.corner==="bottom")&&y.push(this.rect.bottomLeft),y}getBottomClipArea(){const y=[];return y.push(this.topIntersectPoint),this.corner==="top"?y.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&y.push({x:this.pageWidth,y:0}),y.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&y.push(this.sideIntersectPoint):this.corner==="top"&&y.push({x:this.pageWidth,y:this.pageHeight}),y.push(this.bottomIntersectPoint),y.push(this.topIntersectPoint),y}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const y=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?y:Math.PI-y}calcAngleAndPosition(y){let j=y;if(this.updateAngleAndGeometry(j),j=this.corner==="top"?this.checkPositionAtCenterLine(j,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(j,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(j.x-this.pageWidth)<1&&Math.abs(j.y)<1)throw new Error("Point is too small");return j}updateAngleAndGeometry(y){this.angle=this.calculateAngle(y),this.rect=this.getPageRect(y)}calculateAngle(y){const j=this.pageWidth-y.x+1,M=this.corner==="bottom"?this.pageHeight-y.y:y.y;let k=2*Math.acos(j/Math.sqrt(M*M+j*j));M<0&&(k=-k);const w=Math.PI-k;if(!isFinite(k)||w>=0&&w<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(k=-k),k}getPageRect(y){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],y):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],y)}getRectFromBasePoint(y,j){return{topLeft:this.getRotatedPoint(y[0],j),topRight:this.getRotatedPoint(y[1],j),bottomLeft:this.getRotatedPoint(y[2],j),bottomRight:this.getRotatedPoint(y[3],j)}}getRotatedPoint(y,j){return{x:y.x*Math.cos(this.angle)+y.y*Math.sin(this.angle)+j.x,y:y.y*Math.cos(this.angle)-y.x*Math.sin(this.angle)+j.y}}calculateIntersectPoint(y){const j={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[y,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(j,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(y,j,M){let k=y;const w=d.LimitPointToCircle(j,this.pageWidth,k);k!==w&&(k=w,this.updateAngleAndGeometry(k));const C=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let L=this.rect.bottomRight,P=this.rect.topLeft;if(this.corner==="bottom"&&(L=this.rect.topRight,P=this.rect.bottomLeft),L.x<=0){const O=d.LimitPointToCircle(M,C,P);O!==k&&(k=O,this.updateAngleAndGeometry(k))}return k}getSegmentToShadowLine(){const y=this.getShadowStartPoint();return[y,y!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class g{constructor(y,j){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=y,this.app=j}fold(y){this.setState("user_fold"),this.calc===null&&this.start(y),this.do(this.render.convertToPage(y))}flip(y){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(y)||(this.calc!==null&&this.render.finishAnimation(),!this.start(y)))return;const j=this.getBoundsRect();this.setState("flipping");const M=j.height/10,k=this.calc.getCorner()==="bottom"?j.height-M:M,w=this.calc.getCorner()==="bottom"?j.height:0;this.calc.calc({x:j.pageWidth-M,y:k}),this.animateFlippingTo({x:j.pageWidth-M,y:k},{x:-j.pageWidth,y:w},!0)}start(y){this.reset();const j=this.render.convertToBook(y),M=this.getBoundsRect(),k=this.getDirectionByPoint(j),w=j.y>=M.height/2?"bottom":"top";if(!this.checkDirection(k))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(k),this.bottomPage=this.app.getPageCollection().getBottomPage(k),this.render.getOrientation()==="landscape")if(k===1){const C=this.app.getPageCollection().nextBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}else{const C=this.app.getPageCollection().prevBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}return this.render.setDirection(k),this.calc=new p(k,w,M.pageWidth.toString(10),M.height.toString(10)),!0}catch(C){return!1}}do(y){if(this.calc!==null&&this.calc.calc(y)){const j=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*j)/100):this.flippingPage.setHardAngle(-90*(200-2*j)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),j,this.calc.getDirection())}}flipToPage(y,j){const M=this.app.getPageCollection().getCurrentSpreadIndex(),k=this.app.getPageCollection().getSpreadIndexByPage(y);try{k>M&&(this.app.getPageCollection().setCurrentSpreadIndex(k-1),this.flipNext(j)),k<M&&(this.app.getPageCollection().setCurrentSpreadIndex(k+1),this.flipPrev(j))}catch(w){}}flipNext(y){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:y==="top"?1:this.render.getRect().height-2})}flipPrev(y){this.flip({x:10,y:y==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const y=this.calc.getPosition(),j=this.getBoundsRect(),M=this.calc.getCorner()==="bottom"?j.height:0;y.x<=0?this.animateFlippingTo(y,{x:-j.pageWidth,y:M},!0):this.animateFlippingTo(y,{x:j.pageWidth,y:M},!1)}showCorner(y){if(!this.checkState("read","fold_corner"))return;const j=this.getBoundsRect(),M=j.pageWidth;if(this.isPointOnCorners(y))if(this.calc===null){if(!this.start(y))return;this.setState("fold_corner"),this.calc.calc({x:M-1,y:1});const k=50,w=this.calc.getCorner()==="bottom"?j.height-1:1,C=this.calc.getCorner()==="bottom"?j.height-k:k;this.animateFlippingTo({x:M-1,y:w},{x:M-k,y:C},!1,!1)}else this.do(this.render.convertToPage(y));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(y,j,M,k=!0){const w=d.GetCordsFromTwoPoint(y,j),C=[];for(const P of w)C.push(()=>this.do(P));const L=this.getAnimationDuration(w.length);this.render.startAnimation(C,L,()=>{this.calc&&(M&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),k&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(y){this.state!==y&&(this.app.updateState(y),this.state=y)}getDirectionByPoint(y){const j=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(y.x-j.pageWidth<=j.width/5)return 1}else if(y.x<j.width/2)return 1;return 0}getAnimationDuration(y){const j=this.app.getSettings().flippingTime;return y>=1e3?j:y/1e3*j}checkDirection(y){return y===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...y){for(const j of y)if(this.state===j)return!0;return!1}isPointOnCorners(y){const j=this.getBoundsRect(),M=j.pageWidth,k=Math.sqrt(Math.pow(M,2)+Math.pow(j.height,2))/5,w=this.render.convertToBook(y);return w.x>0&&w.y>0&&w.x<j.width&&w.y<j.height&&(w.x<k||w.x>j.width-k)&&(w.y<k||w.y>j.height-k)}}class v{constructor(y,j){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=j,this.app=y;const M=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=M.exec(window.navigator.userAgent)!==null}render(y){if(this.animation!==null){const j=Math.round((y-this.animation.startedAt)/this.animation.durationFrame);j<this.animation.frames.length?this.animation.frames[j]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=y,this.drawFrame()}start(){this.update();const y=j=>{this.render(j),requestAnimationFrame(y)};requestAnimationFrame(y)}startAnimation(y,j,M){this.finishAnimation(),this.animation={frames:y,duration:j,durationFrame:j/y.length,onAnimateEnd:M,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const y=this.calculateBoundsRect();this.orientation!==y&&(this.orientation=y,this.app.updateOrientation(y))}calculateBoundsRect(){let y="landscape";const j=this.getBlockWidth(),M=j/2,k=this.getBlockHeight()/2,w=this.setting.width/this.setting.height;let C=this.setting.width,L=this.setting.height,P=M-C;return this.setting.size==="stretch"?(j<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(y="portrait"),C=y==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,C>this.setting.maxWidth&&(C=this.setting.maxWidth),L=C/w,L>this.getBlockHeight()&&(L=this.getBlockHeight(),C=L*w),P=y==="portrait"?M-C/2-C:M-C):j<2*C&&this.app.getSettings().usePortrait&&(y="portrait",P=M-C/2-C),this.boundsRect={left:P,top:k-L/2,width:2*C,height:L,pageWidth:C},y}setShadowData(y,j,M,k){if(!this.app.getSettings().drawShadow)return;const w=100*this.getSettings().maxShadowOpacity;this.shadow={pos:y,angle:j,width:3*this.getRect().pageWidth/4*M/100,opacity:(100-M)*w/100/100,direction:k,progress:2*M}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(y){this.pageRect=y}setDirection(y){this.direction=y}setRightPage(y){y!==null&&y.setOrientation(1),this.rightPage=y}setLeftPage(y){y!==null&&y.setOrientation(0),this.leftPage=y}setBottomPage(y){y!==null&&y.setOrientation(this.direction===1?0:1),this.bottomPage=y}setFlippingPage(y){y!==null&&y.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=y}convertToBook(y){const j=this.getRect();return{x:y.x-j.left,y:y.y-j.top}}isSafari(){return this.safari}convertToPage(y,j){j||(j=this.direction);const M=this.getRect();return{x:j===0?y.x-M.left-M.width/2:M.width/2-y.x+M.left,y:y.y-M.top}}convertToGlobal(y,j){if(j||(j=this.direction),y==null)return null;const M=this.getRect();return{x:j===0?y.x+M.left+M.width/2:M.width/2-y.x+M.left,y:y.y+M.top}}convertRectToGlobal(y,j){return j||(j=this.direction),{topLeft:this.convertToGlobal(y.topLeft,j),topRight:this.convertToGlobal(y.topRight,j),bottomLeft:this.convertToGlobal(y.bottomLeft,j),bottomRight:this.convertToGlobal(y.bottomRight,j)}}}class b extends v{constructor(y,j,M){super(y,j),this.canvas=M,this.ctx=M.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const y=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(y.left+y.pageWidth,y.top,y.width,y.height),this.ctx.clip())}drawBookShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const j=y.width/20;this.ctx.rect(y.left,y.top,y.width,y.height);const M={x:y.left+y.width/2-j/2,y:0};this.ctx.translate(M.x,M.y);const k=this.ctx.createLinearGradient(0,0,j,0);k.addColorStop(0,"rgba(0, 0, 0, 0)"),k.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),k.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),k.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),k.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),k.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=k,this.ctx.fillRect(0,0,j,2*y.height),this.ctx.restore()}drawOuterShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(y.left,y.top,y.width,y.height);const j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(j.x,j.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const M=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),M.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),M.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),M.addColorStop(0,"rgba(0, 0, 0, 0)"),M.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=M,this.ctx.fillRect(0,0,this.shadow.width,2*y.height),this.ctx.restore()}drawInnerShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(M.topLeft.x,M.topLeft.y),this.ctx.lineTo(M.topRight.x,M.topRight.y),this.ctx.lineTo(M.bottomRight.x,M.bottomRight.y),this.ctx.lineTo(M.bottomLeft.x,M.bottomLeft.y),this.ctx.translate(j.x,j.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const k=3*this.shadow.width/4,w=this.ctx.createLinearGradient(0,0,k,0);this.shadow.direction===0?(this.ctx.translate(-k,-100),w.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),w.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),w.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),w.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=w,this.ctx.fillRect(0,0,k,2*y.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class S{constructor(y,j,M){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=w=>{if(this.checkTarget(w.target)){const C=this.getMousePos(w.clientX,w.clientY);this.app.startUserTouch(C),w.preventDefault()}},this.onTouchStart=w=>{if(this.checkTarget(w.target)&&w.changedTouches.length>0){const C=w.changedTouches[0],L=this.getMousePos(C.clientX,C.clientY);this.touchPoint={point:L,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(L)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||w.preventDefault()}},this.onMouseUp=w=>{const C=this.getMousePos(w.clientX,w.clientY);this.app.userStop(C)},this.onMouseMove=w=>{const C=this.getMousePos(w.clientX,w.clientY);this.app.userMove(C,!1)},this.onTouchMove=w=>{if(w.changedTouches.length>0){const C=w.changedTouches[0],L=this.getMousePos(C.clientX,C.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-L.x)>10||this.app.getState()!=="read")&&w.cancelable&&this.app.userMove(L,!0),this.app.getState()!=="read"&&w.preventDefault()):this.app.userMove(L,!0)}},this.onTouchEnd=w=>{if(w.changedTouches.length>0){const C=w.changedTouches[0],L=this.getMousePos(C.clientX,C.clientY);let P=!1;if(this.touchPoint!==null){const O=L.x-this.touchPoint.point.x,$=Math.abs(L.y-this.touchPoint.point.y);Math.abs(O)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(O>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),P=!0),this.touchPoint=null}this.app.userStop(L,P)}},this.parentElement=y,y.classList.add("stf__parent"),y.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=y.querySelector(".stf__wrapper"),this.app=j;const k=this.app.getSettings().usePortrait?1:2;y.style.minWidth=M.minWidth*k+"px",y.style.minHeight=M.minHeight+"px",M.size==="fixed"&&(y.style.minWidth=M.width*k+"px",y.style.minHeight=M.height+"px"),M.autoSize&&(y.style.width="100%",y.style.maxWidth=2*M.maxWidth+"px"),y.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=M.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(y){this.wrapper.classList.remove("--portrait","--landscape"),y==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(y,j){const M=this.distElement.getBoundingClientRect();return{x:y-M.left,y:j-M.top}}checkTarget(y){return!this.app.getSettings().clickEventForward||!["a","button"].includes(y.tagName.toLowerCase())}}class E extends S{constructor(y,j,M,k){super(y,j,M),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=y.querySelector(".stf__block"),this.items=k;for(const w of k)this.distElement.appendChild(w);this.setHandlers()}clear(){for(const y of this.items)this.parentElement.appendChild(y)}updateItems(y){this.removeHandlers(),this.distElement.innerHTML="";for(const j of y)this.distElement.appendChild(j);this.items=y,this.setHandlers()}update(){this.app.getRender().update()}}class I extends S{constructor(y,j,M){super(y,j,M),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=y.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const y=getComputedStyle(this.canvas),j=parseInt(y.getPropertyValue("width"),10),M=parseInt(y.getPropertyValue("height"),10);this.canvas.width=j,this.canvas.height=M}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class F extends v{constructor(y,j,M){super(y,j),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=M,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const y=this.getRect(),j=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let M=(100-j)*(2.5*y.pageWidth)/100+20;M>y.pageWidth&&(M=y.pageWidth);let k=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${M}px;
            height: ${y.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*j/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;k+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=k}drawHardOuterShadow(){const y=this.getRect();let j=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*y.pageWidth)/100+20;j>y.pageWidth&&(j=y.pageWidth);let M=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${j}px;
            height: ${y.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;M+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=M}drawInnerShadow(){const y=this.getRect(),j=3*this.shadow.width/4,M=this.getDirection()===0?j:0,k=this.getDirection()===0?"to left":"to right",w=this.convertToGlobal(this.shadow.pos),C=this.shadow.angle+3*Math.PI/2,L=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let P="polygon( ";for(const $ of L){let W=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};W=d.GetRotatedPoint(W,{x:M,y:100},C),P+=W.x+"px "+W.y+"px, "}P=P.slice(0,-2),P+=")";const O=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${j}px;
            height: ${2*y.height}px;
            background: linear-gradient(${k},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${M}px 100px;
            transform: translate3d(${w.x-M}px, ${w.y-100}px, 0) rotate(${C}rad);
            clip-path: ${P};
            -webkit-clip-path: ${P};
        `;this.innerShadow.style.cssText=O}drawOuterShadow(){const y=this.getRect(),j=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.shadow.angle+3*Math.PI/2,k=this.getDirection()===1?this.shadow.width:0,w=this.getDirection()===0?"to right":"to left",C=[{x:0,y:0},{x:y.pageWidth,y:0},{x:y.pageWidth,y:y.height},{x:0,y:y.height}];let L="polygon( ";for(const O of C)if(O!==null){let $=this.getDirection()===1?{x:-O.x+this.shadow.pos.x,y:O.y-this.shadow.pos.y}:{x:O.x-this.shadow.pos.x,y:O.y-this.shadow.pos.y};$=d.GetRotatedPoint($,{x:k,y:100},M),L+=$.x+"px "+$.y+"px, "}L=L.slice(0,-2),L+=")";const P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*y.height}px;
            background: linear-gradient(${w}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${k}px 100px;
            transform: translate3d(${j.x-k}px, ${j.y-100}px, 0) rotate(${M}rad);
            clip-path: ${L};
            -webkit-clip-path: ${L};
        `;this.outerShadow.style.cssText=P}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const y=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(y))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const y of this.app.getPageCollection().getPages())y!==this.leftPage&&y!==this.rightPage&&y!==this.flippingPage&&y!==this.bottomPage&&(y.getElement().style.cssText="display: none"),y.getTemporaryCopy()!==this.flippingPage&&y.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class D{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(y){const j=this._default;if(Object.assign(j,y),j.size!=="stretch"&&j.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(j.width<=0||j.height<=0)throw new Error("Invalid width or height");if(j.flippingTime<=0)throw new Error("Invalid flipping time");return j.size==="stretch"?(j.minWidth<=0&&(j.minWidth=100),j.maxWidth<j.minWidth&&(j.maxWidth=2e3),j.minHeight<=0&&(j.minHeight=100),j.maxHeight<j.minHeight&&(j.maxHeight=2e3)):(j.minWidth=j.width,j.maxWidth=j.width,j.minHeight=j.height,j.maxHeight=j.height),j}}(function(A,y){y===void 0&&(y={});var j=y.insertAt;if(typeof document!="undefined"){var M=document.head||document.getElementsByTagName("head")[0],k=document.createElement("style");k.type="text/css",j==="top"&&M.firstChild?M.insertBefore(k,M.firstChild):M.appendChild(k),k.styleSheet?k.styleSheet.cssText=A:k.appendChild(document.createTextNode(A))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),s.PageFlip=class extends class{constructor(){this.events=new Map}on(A,y){return this.events.has(A)?this.events.get(A).push(y):this.events.set(A,[y]),this}off(A){this.events.delete(A)}trigger(A,y,j=null){if(this.events.has(A))for(const M of this.events.get(A))M({data:j,object:y})}}{constructor(A,y){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new D().getSettings(y),this.block=A}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(A){this.ui=new I(this.block,this,this.setting);const y=this.ui.getCanvas();this.render=new b(this,this.setting,y),this.flipController=new g(this.render,this),this.pages=new l(this,this.render,A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(A){this.ui=new E(this.block,this,this.setting,A),this.render=new F(this,this.setting,this.ui.getDistElement()),this.flipController=new g(this.render,this),this.pages=new h(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(A){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new l(this,this.render,A),this.pages.load(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}updateFromHtml(A){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new h(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.ui.updateItems(A),this.render.reload(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(A){this.pages.show(A)}flipNext(A="top"){this.flipController.flipNext(A)}flipPrev(A="top"){this.flipController.flipPrev(A)}flip(A,y="top"){this.flipController.flipToPage(A,y)}updateState(A){this.trigger("changeState",this,A)}updatePageIndex(A){this.trigger("flip",this,A)}updateOrientation(A){this.ui.setOrientationStyle(A),this.update(),this.trigger("changeOrientation",this,A)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(A){return this.pages.getPage(A)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(A){this.mousePosition=A,this.isUserTouch=!0,this.isUserMove=!1}userMove(A,y){this.isUserTouch||y||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,A)>5&&(this.isUserMove=!0,this.flipController.fold(A)):this.flipController.showCorner(A)}userStop(A,y=!1){this.isUserTouch&&(this.isUserTouch=!1,y||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(A)))}},Object.defineProperty(s,"__esModule",{value:!0})}))})(Cu,Cu.exports)),Cu.exports}var vG=xG();const yG="_viewerRoot_hj39c_5",bG="_stage_hj39c_17",_G="_host_hj39c_43",wG="_hud_hj39c_91",jG="_hBtn_hj39c_125",SG="_hText_hj39c_153",NG="_title_hj39c_167",kG="_sep_hj39c_169",TG="_spacer_hj39c_171",CG="_errorBox_hj39c_175",fr={viewerRoot:yG,stage:bG,host:_G,hud:wG,hBtn:jG,hText:SG,title:NG,sep:kG,spacer:TG,errorBox:CG},EG="/".endsWith("/")?"/":"//",aE=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${EG}${e}`.replace(/\/{2,}/g,"/")},AG=async t=>{const e=aE(`flipbooks/${t}/manifest.json`),s=await fetch(e,{cache:"no-cache"});if(!s.ok)throw new Error(`Manifest not found for slug "${t}"`);return s.json()},IG=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},RG=(t,e,s)=>Math.max(e,Math.min(s,t)),Ls={hostEl:null,pf:null,slug:null},li={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},PG=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function LG(t){for(const e of t)e&&(li.cache.has(e)||li.inFlight.has(e)||li.queue.includes(e)||li.queue.push(e));oE()}function oE(){PG(()=>{for(;li.inFlight.size<li.maxParallel&&li.queue.length>0;){const t=li.queue.shift();li.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{li.inFlight.delete(t),li.cache.add(t),oE()},e.src=t}})}const DG=({slug:t,initialPage:e=1,onReady:s,onPageChange:r,noSound:i=!0})=>{const a=R.useRef(null),l=R.useRef(null),[d,u]=R.useState(null),[h,p]=R.useState(null),g=R.useRef(),v=R.useRef(),b=R.useRef(e);R.useEffect(()=>{g.current=s},[s]),R.useEffect(()=>{v.current=r},[r]),R.useEffect(()=>{b.current=e},[e]);const S=R.useMemo(()=>aE(`flipbooks/${t}`),[t]),E=R.useCallback(A=>{var y,j;if((y=A.srcset)!=null&&y.length){const M=[...A.srcset].sort((w,C)=>w.width-C.width),k=(j=M.find(w=>w.width>=1600))!=null?j:M[M.length-1];return/^https?:\/\//i.test(k.src)||k.src.startsWith("/")?k.src:`${S}/${k.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(A.src)||A.src.startsWith("/")?A.src:`${S}/${A.src}`.replace(/\/{2,}/g,"/")},[S]);R.useEffect(()=>{let A=!0;return p(null),AG(t).then(y=>{A&&u(y)}).catch(y=>{A&&p(y.message||"Failed to load flipbook manifest.")}),()=>{A=!1}},[t]),R.useEffect(()=>{const A=l.current,y=a.current;if(!A||!y||!d||(Ls.hostEl||(Ls.hostEl=document.createElement("div"),Ls.hostEl.className=fr.host),Ls.hostEl.parentElement!==A&&A.appendChild(Ls.hostEl),!Ls.hostEl.isConnected))return;if(!(!Ls.pf||Ls.slug!==t)){try{Ls.pf.update()}catch($){}return}if(Ls.pf){try{Ls.pf.destroy()}catch($){}Ls.pf=null}const M={width:d.pageWidth,height:d.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},k=new vG.PageFlip(Ls.hostEl,M);Ls.pf=k,Ls.slug=t;const w=d.pages.map(E);k.loadFromImages(w);const C=$=>{const W=[],H=$+1,q=$+2;d.pages[H]&&W.push(E(d.pages[H])),d.pages[q]&&W.push(E(d.pages[q])),LG(W)},L=()=>{var W;const $=RG(b.current,1,d.pageCount)-1;k.turnToPage($,"hard"),setTimeout(()=>C($),220),(W=g.current)==null||W.call(g,k)};k.on("init",L),k.on("flip",$=>{var H;const W=$.data;(H=v.current)==null||H.call(v,W),setTimeout(()=>C(W),220)});const P=new ResizeObserver(()=>{var $;try{($=Ls.pf)==null||$.update()}catch(W){}});P.observe(y);const O=$=>{var W,H;$.key==="ArrowLeft"&&($.preventDefault(),(W=Ls.pf)==null||W.flipPrev()),$.key==="ArrowRight"&&($.preventDefault(),(H=Ls.pf)==null||H.flipNext())};return window.addEventListener("keydown",O,{passive:!1}),()=>{window.removeEventListener("keydown",O),P.disconnect()}},[d,E,t]);const I=()=>{var A;return(A=Ls.pf)==null?void 0:A.flipPrev()},F=()=>{var A;return(A=Ls.pf)==null?void 0:A.flipNext()},D=()=>{var j;const A=a.current;if(!A)return;const y=A;(j=y.requestFullscreen||y.webkitRequestFullscreen||y.msRequestFullscreen)==null||j.call(y)};return h?n.jsxs("div",{className:fr.errorBox,children:["Flipbook konnte nicht geladen werden: ",h]}):d?n.jsxs("div",{className:fr.viewerRoot,ref:a,"aria-label":d.title,children:[n.jsx("div",{className:fr.stage,ref:l}),n.jsxs("div",{className:fr.hud,children:[n.jsx("button",{className:fr.hBtn,onClick:I,"aria-label":"Zurck",children:""}),n.jsxs("div",{className:fr.hText,children:[n.jsx("span",{className:fr.title,children:d.title}),n.jsx("span",{className:fr.sep,children:""}),n.jsxs("span",{children:[d.pageCount," Seiten"]})]}),n.jsx("div",{className:fr.spacer}),IG()&&n.jsx("button",{className:fr.hBtn,onClick:D,"aria-label":"Fullscreen",children:""}),n.jsx("button",{className:fr.hBtn,onClick:F,"aria-label":"Weiter",children:""})]})]}):n.jsx("div",{className:fr.errorBox,children:"Lade Flipbook"})},MG=Z.memo(DG),FG={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},BG=()=>{const t="sf-history-book",[e,s]=R.useState(1),r=R.useRef(null),i=R.useMemo(()=>{var p;return(p=FG[e])!=null?p:[]},[e]),a=R.useCallback(p=>{r.current=p},[]),l=R.useCallback(p=>{s(p+1)},[]),d=R.useCallback(p=>{const g=r.current;if(g)try{g.turnToPage(Math.max(0,p-1))}catch(v){}},[]),u=R.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipPrev()},[]),h=R.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipNext()},[]);return n.jsx(wt,{title:"SF History Book",children:n.jsxs("div",{className:Xa.pageWrap,children:[n.jsx("div",{className:Xa.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),n.jsxs("div",{className:Xa.viewerHost,children:[n.jsx(MG,{slug:t,initialPage:1,onReady:a,onPageChange:l,noSound:!0}),n.jsxs("div",{className:Xa.overlay,"aria-hidden":!0,children:[n.jsx("div",{className:Xa.dragZoneLeft,onClick:u}),n.jsx("div",{className:Xa.dragZoneRight,onClick:h}),i.map((p,g)=>{const v={"--t":`${p.t}%`,"--l":`${p.l}%`,"--w":`${p.w}%`,"--h":`${p.h}%`};return p.kind==="goto"?n.jsx("button",{className:Xa.inbookLink,style:v,"aria-label":p.label,onClick:()=>d(p.toPage)},g):n.jsx("a",{className:Xa.inbookLink,style:v,"aria-label":p.label,href:p.href,target:"_blank",rel:"noopener noreferrer"},g)})]})]})]})})},lE=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(lE.map(t=>[t.id,t]));const cE="TL_FILTERS_V2",sr={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function $G(){var t;try{const e=localStorage.getItem(cE);if(!e)return sr;const s=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,60,90].includes(s.days)?s.days:sr.days,i=["cards","buttons","table"].includes(s.listView)?s.listView:sr.listView,a=["hud","sheet"].includes(s.filterMode)?s.filterMode:sr.filterMode,l=typeof s.quickFav=="boolean"?s.quickFav:!!s.favoritesOnly,d=typeof s.quickActive=="boolean"?s.quickActive:!!s.activeOnly;return{...sr,...s,servers:Array.isArray(s.servers)?s.servers:[],classes:Array.isArray(s.classes)?s.classes:[],favoritesOnly:typeof s.favoritesOnly=="boolean"?s.favoritesOnly:l,activeOnly:typeof s.activeOnly=="boolean"?s.activeOnly:d,quickFav:l,quickActive:d,days:r,listView:i,filterMode:a,bottomFilterOpen:!!s.bottomFilterOpen,serverSheetOpen:!!s.serverSheetOpen,sortBy:typeof s.sortBy=="string"?s.sortBy:sr.sortBy,searchText:typeof s.searchText=="string"?s.searchText:sr.searchText}}catch(e){return sr}}function OG(t){try{localStorage.setItem(cE,JSON.stringify(t))}catch(e){}}const dE=R.createContext(null),OS=t=>Array.from(new Set(t));function vp(t,e){return typeof t=="function"?t(e):t}function VG({children:t}){const[e,s]=R.useState(()=>$G());R.useEffect(()=>{OG(e)},[e]);const r=w=>s(C=>({...C,servers:OS(vp(w,C.servers))})),i=w=>s(C=>{const L=new Set(C.servers);return L.has(w)?L.delete(w):L.add(w),{...C,servers:Array.from(L)}}),a=()=>s(w=>({...w,servers:[]})),l=w=>s(C=>({...C,classes:OS(vp(w,C.classes))})),d=w=>s(C=>{const L=new Set(C.classes);return L.has(w)?L.delete(w):L.add(w),{...C,classes:Array.from(L)}}),u=()=>s(w=>({...w,classes:[]})),h=w=>s(C=>({...C,days:w})),p=w=>h(w),g=w=>s(C=>({...C,sortBy:w||"level"})),v=w=>s(C=>({...C,favoritesOnly:!!w,quickFav:!!w})),b=w=>s(C=>({...C,activeOnly:!!w,quickActive:!!w})),S=w=>s(C=>({...C,searchText:w})),E=w=>s(C=>{const L=vp(w,C.quickFav);return{...C,quickFav:L,favoritesOnly:L}}),I=w=>s(C=>{const L=vp(w,C.quickActive);return{...C,quickActive:L,activeOnly:L}}),F=w=>s(C=>({...C,filterMode:w})),D=w=>s(C=>({...C,listView:w})),A=w=>s(C=>({...C,bottomFilterOpen:!!w})),y=w=>s(C=>({...C,serverSheetOpen:!!w})),j=()=>s(sr),M=()=>j(),k=R.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:a,setClasses:l,toggleClass:d,clearClasses:u,setDays:h,setRange:p,setSortBy:g,setFavoritesOnly:v,setActiveOnly:b,setSearchText:S,setQuickFav:E,setQuickActive:I,setFilterMode:F,setListView:D,setBottomFilterOpen:A,setServerSheetOpen:y,resetFilters:j,resetAll:M}),[e]);return n.jsx(dE.Provider,{value:k,children:t})}function Bh(){const t=R.useContext(dE);return t||{...sr,range:sr.days,searchText:sr.searchText,quickFav:sr.quickFav,quickActive:sr.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const UG="_hudWrap_107o7_9",zG="_hudBtn_107o7_11",HG="_hudSubBtn_107o7_15",GG="_iconRow_107o7_19",WG="_segmented_107o7_21",qG="_sortLabel_107o7_27",KG="_sortSelect_107o7_29",QG="_chip_107o7_31",XG="_isActive_107o7_33",Zn={hudWrap:UG,hudBtn:zG,hudSubBtn:HG,iconRow:GG,segmented:WG,sortLabel:qG,sortSelect:KG,chip:QG,isActive:XG};function YG({active:t=!1,title:e,iconUrl:s,fallback:r="",size:i=40,onClick:a}){const l=Math.round(i*.7),d=Z.useMemo(()=>{const F=[],D=c5(s,l*2,l*2,"contain");D&&F.push(D);const A=Vr(s,l*2);return A&&A!==D&&F.push(A),!F.length&&s&&F.push(s),F},[s,l]),[u,h]=Z.useState(0),[p,g]=Z.useState(!1),[v,b]=Z.useState(!1);Z.useEffect(()=>h(0),[d]);const S=d[u]||"",E={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:v||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};p&&(E.background="rgba(255,255,255,.04)"),t&&(E.outline="2px solid #5C8BC6");const I={display:"block",width:l,height:l,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return n.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:a,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onFocus:()=>b(!0),onBlur:()=>b(!1),style:E,children:S?n.jsx("img",{src:S,alt:e||"class",width:l,height:l,loading:"lazy",style:I,onError:()=>{h(F=>F+1<d.length?F+1:F)}}):n.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const JG=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function ZG(){const{servers:t,classes:e,setClasses:s,range:r,setRange:i,sortBy:a,setSortBy:l,quickFav:d,setQuickFav:u,quickActive:h,setQuickActive:p,filterMode:g,setBottomFilterOpen:v,serverSheetOpen:b,setServerSheetOpen:S,resetAll:E}=Bh();return n.jsxs("div",{className:Zn.hudWrap,children:[n.jsxs("button",{type:"button",className:Zn.hudBtn,onClick:I=>{I.preventDefault(),I.stopPropagation(),S(!0)},"aria-haspopup":"dialog","aria-expanded":b||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),n.jsxs("div",{className:Zn.iconRow,children:[Ws.map(I=>n.jsx(YG,{active:e.includes(I.key),title:I.label,iconUrl:I.iconUrl,fallback:I.fallback,size:40,onClick:()=>s(F=>F.includes(I.key)?F.filter(D=>D!==I.key):[...F,I.key])},I.key)),n.jsx("button",{type:"button",className:Zn.hudSubBtn,onClick:()=>s(Ws.map(I=>I.key)),children:"All"}),n.jsx("button",{type:"button",className:Zn.hudSubBtn,onClick:()=>s([]),children:"None"})]}),n.jsx("div",{className:Zn.segmented,role:"group","aria-label":"Range",children:JG.map(I=>n.jsx("button",{type:"button","aria-pressed":r===I.value,onClick:()=>i(I.value),children:I.label},I.label))}),n.jsx("label",{className:Zn.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),n.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:a,onChange:I=>l(I.target.value),className:Zn.sortSelect,"aria-label":"Sort",children:[n.jsx("option",{value:"level",children:"Level"}),n.jsx("option",{value:"scrapbook",children:"Scrapbook"}),n.jsx("option",{value:"activity",children:"Activity"}),n.jsx("option",{value:"lastScan",children:"Last scan"})]}),n.jsx("button",{type:"button",className:`${Zn.chip} ${d?Zn.isActive:""}`,onClick:()=>u(I=>!I),children:" Favorites"}),n.jsx("button",{type:"button",className:`${Zn.chip} ${h?Zn.isActive:""}`,onClick:()=>p(I=>!I),children:" Active"}),n.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[n.jsx("button",{type:"button",className:Zn.hudSubBtn,onClick:E,children:"Reset"}),g==="sheet"&&n.jsx("button",{type:"button",className:Zn.hudBtn,onClick:I=>{I.preventDefault(),I.stopPropagation(),v(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const tn={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function eW({open:t,onClose:e,mode:s="modal",serversByRegion:r,selected:i,onToggle:a,onSelectAllInRegion:l,onClearAll:d}){const[u,h]=R.useState(""),p=R.useRef(null),[g,v]=R.useState(null),[b,S]=R.useState(!1);R.useEffect(()=>{if(!t)return;const A=y=>{y.key==="Escape"&&e()};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[t,e]),R.useEffect(()=>{if(t&&p.current){const A=p.current.querySelector("#sheet-serversearch");A==null||A.focus()}},[t]);const E=R.useMemo(()=>["EU","US","INT","Fusion"].every(y=>{var j;return!((j=r==null?void 0:r[y])!=null&&j.length)}),[r]);R.useEffect(()=>{if(!t||!E)return;let A=!0;return(async()=>{try{S(!0);const y=await br(fs(Mt,"stats_public","toplists_bundle_v1"));if(!A)return;const j=y.data()||{},M=Array.isArray(j.servers)?j.servers:JSON.parse(j.servers||"[]");v(tW(M))}catch(y){v(null)}finally{A&&S(!1)}})(),()=>{A=!1}},[t,E]);const I=R.useMemo(()=>E?g!=null?g:{EU:[],US:[],INT:[],Fusion:[]}:r,[E,r,g]),F=R.useMemo(()=>Object.keys(I),[I]),D=A=>{const y=u.trim().toLowerCase();return y?A.toLowerCase().includes(y):!0};return t?n.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:nW,onClick:A=>{A.target===A.currentTarget&&e()},children:n.jsxs("div",{ref:p,style:s==="modal"?uE:rW,className:"sf-server-sheet",children:[n.jsxs("div",{style:iW,children:[n.jsx("h2",{id:"server-dialog-title",style:aW,children:"Select servers"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{type:"button",onClick:d,style:VS,children:"Clear"}),n.jsx("button",{type:"button",onClick:e,style:mW,children:"Done"})]})]}),n.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[n.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),n.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:u,onChange:A=>h(A.target.value),"aria-label":"Search servers",autoComplete:"off",style:lW})]}),n.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:F.map(A=>{const y=(I[A]||[]).filter(D);return n.jsxs("section",{"aria-labelledby":`region-${A}`,children:[n.jsxs("div",{style:cW,children:[n.jsxs("h3",{id:`region-${A}`,style:oW,children:[A," ",b&&E?n.jsx("span",{style:{marginLeft:6,fontSize:12,color:tn.text2},children:"(loading)"}):null]}),n.jsx("div",{style:{display:"flex",gap:8},children:n.jsx("button",{type:"button",style:VS,onClick:()=>{l?l(A):y.filter(M=>!i.includes(M)).forEach(a)},children:"Select all"})})]}),n.jsxs("div",{style:dW,children:[y.map(j=>{const M=i.includes(j);return n.jsx("button",{type:"button",onClick:()=>a(j),"aria-pressed":M,title:j,style:{...uW,...M?hW:null},children:j},j)}),y.length===0&&n.jsx("div",{style:{color:tn.text2,fontSize:13,padding:"4px 2px"},children:b&&E?"Loading":"No servers found"})]})]},A)})})]})}):null}function tW(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const s of t){const r=s.toUpperCase();r.startsWith("EU")?e.EU.push(s):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(s):r.startsWith("F")?e.Fusion.push(s):e.INT.push(s)}return Object.keys(e).forEach(s=>e[s].sort(sW)),e}function sW(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const nW={position:"fixed",inset:0,background:tn.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},uE={width:"min(900px, 100%)",background:tn.tile,border:`1px solid ${tn.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:tn.text},rW={...uE,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},iW={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},aW={fontSize:18,margin:0},oW={fontSize:14,margin:0,color:tn.text2},lW={width:"100%",background:tn.input,color:tn.text,border:`1px solid ${tn.line}`,borderRadius:12,padding:"10px 12px"},cW={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},dW={display:"flex",flexWrap:"wrap",gap:8},uW={background:tn.chip,border:`1px solid ${tn.line}`,padding:"6px 10px",borderRadius:999,color:tn.text},hW={outline:`2px solid ${tn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},mW={background:"#25456B",color:tn.text,border:`1px solid ${tn.accent}`,borderRadius:10,padding:"8px 12px"},VS={background:"transparent",color:tn.text,border:`1px solid ${tn.line}`,borderRadius:10,padding:"8px 12px"},pW=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=pW,document.head.appendChild(e)}}const gn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function fW({open:t,onClose:e}){const{searchText:s,setSearchText:r,range:i,setRange:a,sortBy:l,setSortBy:d,quickFav:u,setQuickFav:h,quickActive:p,setQuickActive:g}=Bh(),v=R.useRef(null);if(R.useEffect(()=>{if(!t)return;const S=E=>{E.key==="Escape"&&e()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),R.useEffect(()=>{if(t&&v.current){const S=v.current.querySelector("#sheet-search");S==null||S.focus()}},[t]),!t)return null;const b=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return n.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:gW,onClick:S=>{S.target===S.currentTarget&&e()},children:n.jsxs("div",{ref:v,style:xW,children:[n.jsxs("div",{style:vW,children:[n.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:gn.text},children:"Filters"}),n.jsx("button",{type:"button",onClick:e,style:bW,children:"Done"})]}),n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),n.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:s,onChange:S=>r(S.target.value),"aria-label":"Search",autoComplete:"off",style:hE})]}),n.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[n.jsx("span",{style:{color:gn.text2,fontSize:12},children:"Range"}),n.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:b.map(S=>n.jsx("button",{type:"button","aria-pressed":i===S.value,onClick:()=>a(S.value),style:{...Uv,...i===S.value?zv:null},children:S.label},S.label))})]}),n.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[n.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:gn.text2,fontSize:12},children:"Sort"}),n.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:l,onChange:S=>d(S.target.value),"aria-label":"Sort",autoComplete:"off",style:yW,children:[n.jsx("option",{value:"sum",children:"Base Sum"}),n.jsx("option",{value:"main",children:"Main Base Stat"}),n.jsx("option",{value:"constitution",children:"Constitution"}),n.jsx("option",{value:"level",children:"Level"}),n.jsx("option",{value:"delta",children:" Rank"}),n.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[n.jsx("button",{type:"button",onClick:()=>h(S=>!S),"aria-pressed":u,style:{...Uv,...u?zv:null},children:" Favorites"}),n.jsx("button",{type:"button",onClick:()=>g(S=>!S),"aria-pressed":p,style:{...Uv,...p?zv:null},children:" Active"})]})]})})}const gW={position:"fixed",inset:0,background:gn.backdrop,zIndex:60,display:"grid",alignItems:"end"},xW={background:gn.tile,borderTop:`1px solid ${gn.line}`,borderLeft:`1px solid ${gn.line}`,borderRight:`1px solid ${gn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:gn.text,maxHeight:"80vh",overflow:"auto"},vW={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},hE={width:"100%",background:gn.input,color:gn.text,border:`1px solid ${gn.line}`,borderRadius:12,padding:"10px 12px"},yW={...hE,appearance:"none"},Uv={background:"#14273E",border:`1px solid ${gn.line}`,padding:"6px 10px",borderRadius:999,color:gn.text},zv={outline:`2px solid ${gn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},bW={background:"#25456B",color:gn.text,border:`1px solid ${gn.accent}`,borderRadius:10,padding:"8px 12px"},_W=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=_W,document.head.appendChild(e)}}function wW(){var i;const t=Bh(),e=(i=t==null?void 0:t.listView)!=null?i:"table",s=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:s;return e==="table"?null:n.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[n.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:n.jsxs("div",{children:["Showing ",r.length," / ",s.length]})}),e==="cards"&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(a=>{var l,d,u,h,p,g,v;return n.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[n.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(l=a.name)!=null?l:""}),n.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=a.server)!=null?d:""})]}),n.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",n.jsx("span",{style:{textTransform:"uppercase"},children:(u=a.class)!=null?u:""}),"  Lv ",(h=a.level)!=null?h:"","  Scrap ",(p=a.scrapbook)!=null?p:""]}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[n.jsx(Hv,{children:a.active?"Active":"Idle"}),a.favorite&&n.jsx(Hv,{children:" Fav"}),n.jsx(Hv,{children:`Scan ${(g=a.lastScanDays)!=null?g:"?"}d`})]})]},(v=a.id)!=null?v:`${a.name}-${a.server}`)})}),e==="buttons"&&n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(a=>{var l,d,u,h;return n.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[a.favorite&&" ",(l=a.name)!=null?l:"",n.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=a.server)!=null?d:"","  Lv ",(u=a.level)!=null?u:"",")"]})]},(h=a.id)!=null?h:`${a.name}-${a.server}`)})})]})}function Hv({children:t}){return n.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const mE=R.createContext(null),US=(t,e)=>t.length===e.length&&t.every((s,r)=>s===e[r]);function jW(t,e){return t.timeRange===e.timeRange&&US(t.servers,e.servers)&&US(t.classes,e.classes)}function SW(t,e){return t.field===e.field&&t.dir===e.dir}function NW({children:t}){const[e,s]=R.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=R.useState({field:"Level",dir:"desc"}),[a,l]=R.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=R.useCallback(g=>{s(v=>{const b=typeof g=="function"?g(v):{...v,...g};return jW(v,b)?v:b})},[]),u=R.useCallback(g=>{i(v=>{const b=typeof g=="function"?g(v):g;return SW(v,b)?v:b})},[]),h=R.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);R.useEffect(()=>{let g=!1;return g||l(v=>v.loading||v.error||v.data.length?{...v,loading:!1,error:null}:v),()=>{g=!0}},[h]);const p=R.useMemo(()=>({state:a,filters:e,sort:r,setFilters:d,setSort:u}),[a,e,r,d,u]);return n.jsx(mE.Provider,{value:p,children:t})}function kW(){const t=R.useContext(mE);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}const zS=(()=>{const t={EU:[],US:[],INT:[],Fusion:[]},e=(s,r)=>{t[s].includes(r)||t[s].push(r)};return lE.forEach(s=>{var a;const r=(a=s.id)!=null?a:"",i=r.toUpperCase();i.startsWith("EU")?e("EU",r):i.startsWith("US")||i.startsWith("NA")||i.startsWith("AM")?e("US",r):i.startsWith("F")?e("Fusion",r):e("INT",r)}),Object.keys(t).forEach(s=>{t[s].sort((r,i)=>r.localeCompare(i,void 0,{numeric:!0,sensitivity:"base"}))}),t})();function TW(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function CW(){const t=Bh(),{filterMode:e,setFilterMode:s,listView:r,setListView:i,bottomFilterOpen:a,setBottomFilterOpen:l,serverSheetOpen:d,setServerSheetOpen:u,servers:h,setServers:p,classes:g,range:v,sortBy:b}=t;return n.jsxs(n.Fragment,{children:[n.jsxs(wt,{mode:"card",title:"Top Lists",actions:n.jsx(AW,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?n.jsx(ZG,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[n.jsx(wW,{}),r==="table"&&n.jsx(NW,{children:n.jsx(EW,{servers:h!=null?h:[],classes:g!=null?g:[],range:v!=null?v:"all",sortKey:b!=null?b:"level"})})]}),n.jsx(eW,{mode:"modal",open:d,onClose:()=>u(!1),serversByRegion:zS,selected:h,onToggle:S=>p(E=>E.includes(S)?E.filter(I=>I!==S):[...E,S]),onSelectAllInRegion:S=>p(zS[S]),onClearAll:()=>p([])}),n.jsx(fW,{open:e==="sheet"&&a,onClose:()=>l(!1)})]})}function EW({servers:t,classes:e,range:s,sortKey:r}){const{state:i,setFilters:a,setSort:l}=kW(),{loading:d,error:u,data:h,lastUpdated:p}=i;R.useEffect(()=>{const v=s==="all"?"all":s===60?"30d":`${s}d`;a({servers:t,classes:e,timeRange:v})},[t,e,s,a]),R.useEffect(()=>{const v=TW(r);l(v)},[r,l]);const g=v=>v==null?"":new Intl.NumberFormat("en").format(v);return n.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[n.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[n.jsxs("div",{children:[d?"Loading":u?"Error":"Ready","  ",h.length," rows"]}),n.jsx("div",{children:p?`Updated: ${new Date(p*1e3).toLocaleString()}`:null})]}),u&&n.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),n.jsx("div",{style:{wordBreak:"break-all"},children:u}),n.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{padding:"8px 6px"},children:"#"}),n.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),n.jsxs("tbody",{children:[h.map((v,b)=>{var S,E,I;return n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("td",{style:{padding:"8px 6px"},children:v["#"]}),n.jsx("td",{style:{padding:"8px 6px"},children:v[" Rank"]}),n.jsx("td",{style:{padding:"8px 6px"},children:v.Server}),n.jsx("td",{style:{padding:"8px 6px"},children:v.Name}),n.jsx("td",{style:{padding:"8px 6px"},children:v.Class}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Level)}),n.jsx("td",{style:{padding:"8px 6px"},children:(S=v.Guild)!=null?S:""}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Main)}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Con)}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v["Sum Base Stats"])}),n.jsx("td",{style:{padding:"8px 6px"},children:(E=v.Ratio)!=null?E:""}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Mine)}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Treasury)}),n.jsx("td",{style:{padding:"8px 6px"},children:(I=v["Last Scan"])!=null?I:""}),n.jsx("td",{style:{padding:"8px 6px"},children:v["Stats+"]})]},`${v.Name}-${v.Server}-${b}`)}),d&&h.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!u&&h.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function AW(){const{filterMode:t,setFilterMode:e,listView:s,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:a}=Bh();return n.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[n.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[n.jsx(HS,{to:"/toplists/players",label:"Players"}),n.jsx(HS,{to:"/toplists/guilds",label:"Guilds"})]}),n.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),n.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[n.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),n.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),n.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),n.jsx("button",{onClick:()=>a(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),n.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[n.jsx("button",{"aria-pressed":s==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),n.jsx("button",{"aria-pressed":s==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),n.jsx("button",{"aria-pressed":s==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function HS({to:t,label:e}){return n.jsx(ms,{to:t,className:({isActive:s})=>["rounded-lg px-3 py-1.5 text-sm text-white border",s?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const IW=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function RW(){return n.jsxs("div",{style:{display:"grid",gap:12},children:[n.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),IW.map(t=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[n.jsxs("div",{children:["#",t.rank]}),n.jsxs("div",{children:[t.name,"  ",t.server]}),n.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),n.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function PW(t="players"){const e=Or(),{search:s,pathname:r}=ir();return[new URLSearchParams(s).get("tab")||t,d=>{const u=new URLSearchParams(s);u.set("tab",d),e(`${r}?${u.toString()}`,{replace:!1})}]}function LW(){const[t]=PW("players");return n.jsx(VG,{children:t==="players"?n.jsx(CW,{}):n.jsx(RW,{})})}function DW(){return n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Players  Browse"})})}function MW(){return n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Players  Rankings"})})}function FW(){return n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Players  Stats"})})}const yp={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},BW={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},er=(t,e)=>Math.min(Math.max(Math.round(t),0),e),$W=t=>{var s,r,i,a;const e={...yp,...t||{}};return{...e,class:er(e.class,15),race:er(e.race,8),mouth:er(e.mouth,30),hair:er(e.hair,40),hairColor:er(e.hairColor,12),horn:er(e.horn,10),hornColor:er(e.hornColor,10),brows:er(e.brows,10),eyes:er(e.eyes,20),beard:er(e.beard,15),nose:er(e.nose,10),ears:er(e.ears,10),extra:er(e.extra,20),special:er(e.special,200),showBorder:(s=e.showBorder)!=null?s:!0,background:(r=e.background)!=null?r:yp.background,frame:(i=e.frame)!=null?i:yp.frame,mirrorHorizontal:(a=e.mirrorHorizontal)!=null?a:yp.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function pE({config:t,label:e}){const s=R.useRef(null),r=R.useRef(null),[i,a]=R.useState("idle"),l=R.useMemo(()=>({...$W(t),background:"",frame:"",showBorder:!1}),[JSON.stringify(t||{})]);R.useEffect(()=>{let u=!1;a("loading");try{const h=s.current;if(!h){a("error");return}const p=new hk(h,l);r.current=p,a("ready")}catch(h){console.error("[PortraitMaker] failed to initialize",h),u||a("error")}return()=>{var h,p;u=!0;try{(p=(h=r.current)==null?void 0:h.dispose)==null||p.call(h)}catch(g){}r.current=null}},[l]);const d=i!=="ready"?BW[i]:null;return n.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[n.jsx("div",{className:"avatar-portrait__canvas-shell",children:n.jsx("canvas",{ref:s,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`})}),d&&n.jsx("span",{className:"avatar-portrait__status",children:d})]})}function OW({label:t,size:e=40}){const s=(t||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return n.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:s||"?"})}function VW({className:t,label:e,size:s=40}){const r=d=>d.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||""),a=Ws.find(d=>r(d.label)===i)||Ws.find(d=>r(d.label).startsWith(i)||i.startsWith(r(d.label))),l=a?Vr(a.iconUrl,s*2):null;return l?n.jsx("div",{className:"player-profile__class-avatar",style:{width:s,height:s},children:n.jsx("img",{src:l,alt:"",draggable:!1})}):n.jsx(OW,{label:e,size:s})}function UW({data:t,loading:e,actionFeedback:s,onAction:r}){return n.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[n.jsx(pE,{config:t.portrait,label:t.playerName}),n.jsxs("div",{className:"player-profile__hero-body",children:[n.jsxs("div",{className:"player-profile__identity",children:[n.jsx(VW,{className:t.className,label:t.playerName,size:48}),n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__player-name",children:t.playerName}),n.jsxs("div",{className:"player-profile__player-meta",children:[n.jsx("span",{children:t.className||"Klasse ?"}),t.guild&&n.jsxs("span",{children:[" ",t.guild]}),t.server&&n.jsxs("span",{children:[" ",t.server]})]}),t.lastScanLabel&&n.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",t.lastScanLabel]}),t.status&&n.jsx("div",{className:`player-profile__status player-profile__status--${t.status}`,children:t.status==="online"?"aktiv":"inaktiv"})]})]}),n.jsx("div",{className:"player-profile__hero-metrics",children:t.metrics.map(i=>n.jsxs("div",{className:"player-profile__hero-metric",children:[n.jsx("div",{className:"player-profile__hero-metric-label",children:i.label}),n.jsx("div",{className:"player-profile__hero-metric-value",children:i.value}),i.hint&&n.jsx("div",{className:"player-profile__hero-metric-hint",children:i.hint})]},i.label))}),t.badges.length>0&&n.jsx("div",{className:"player-profile__hero-badges",children:t.badges.map(i=>n.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${i.tone||"neutral"}`,title:i.hint,children:[i.icon&&n.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:i.icon}),n.jsx("span",{children:i.label}),n.jsx("strong",{children:i.value})]},i.label))}),t.actions.length>0&&n.jsxs("div",{className:"player-profile__hero-actions",children:[t.actions.map(i=>n.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||i.disabled,title:i.title,onClick:()=>r==null?void 0:r(i.key),children:i.label},i.key)),s&&n.jsx("p",{className:"player-profile__hero-feedback",children:s})]})]})]})}function zW({data:t}){return n.jsxs("div",{className:"player-profile__tab-panel",children:[n.jsx("div",{className:"player-profile__grid",children:t.summary.map(e=>n.jsxs("article",{className:"player-profile__card",children:[n.jsx("div",{className:"player-profile__card-label",children:e.label}),n.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&n.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),n.jsxs("div",{className:"player-profile__section",children:[n.jsxs("header",{className:"player-profile__section-head",children:[n.jsx("h3",{children:"Attribute"}),n.jsx("span",{children:"Basis vs. Gesamt"})]}),n.jsx("div",{className:"player-profile__attr-grid",children:t.attributes.map(e=>n.jsxs("div",{className:"player-profile__attr-card",children:[n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__attr-label",children:e.label}),n.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&n.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),n.jsxs("div",{className:"player-profile__split",children:[n.jsxs("div",{className:"player-profile__section",children:[n.jsx("header",{className:"player-profile__section-head",children:n.jsx("h3",{children:"Resistenzen"})}),n.jsx("ul",{className:"player-profile__list",children:t.resistances.map(e=>n.jsxs("li",{children:[n.jsx("span",{children:e.label}),n.jsx("strong",{children:e.value})]},e.label))})]}),n.jsxs("div",{className:"player-profile__section",children:[n.jsx("header",{className:"player-profile__section-head",children:n.jsx("h3",{children:"konomie"})}),n.jsx("ul",{className:"player-profile__list",children:t.resources.map(e=>n.jsxs("li",{children:[n.jsx("span",{children:e.label}),n.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function HW({items:t}){return n.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>n.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[n.jsxs("div",{className:"player-profile__progress-head",children:[n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__card-label",children:e.label}),n.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),n.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),n.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:n.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&n.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function GW({series:t}){return n.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>{var s;return n.jsxs("article",{className:"player-profile__trend-card",children:[n.jsxs("div",{className:"player-profile__trend-head",children:[n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__card-label",children:e.label}),e.subLabel&&n.jsx("div",{className:"player-profile__card-hint",children:e.subLabel})]}),n.jsxs("div",{className:"player-profile__card-value",children:[(s=e.points[e.points.length-1])==null?void 0:s.toLocaleString("de-DE"),e.unit||""]})]}),n.jsx(KW,{points:e.points})]},e.label)})})}function WW({rows:t}){return n.jsxs("div",{className:"player-profile__tab-panel",children:[n.jsx("div",{className:"player-profile__section-head",children:n.jsx("h3",{children:"Serververgleich"})}),n.jsx("div",{className:"player-profile__comparison-wrapper",children:n.jsxs("table",{className:"player-profile__comparison",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Kategorie"}),n.jsx("th",{children:"Spieler"}),n.jsx("th",{children:"Cluster"}),n.jsx("th",{children:""})]})}),n.jsx("tbody",{children:t.map(e=>n.jsxs("tr",{children:[n.jsx("td",{children:e.label}),n.jsx("td",{children:e.playerValue}),n.jsx("td",{children:e.benchmark}),n.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function qW({entries:t}){return n.jsx("div",{className:"player-profile__tab-panel",children:n.jsx("ol",{className:"player-profile__timeline",children:t.map(e=>n.jsxs("li",{children:[n.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),n.jsxs("div",{className:"player-profile__timeline-card",children:[n.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),n.jsx("div",{className:"player-profile__timeline-title",children:e.title}),n.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}function KW({points:t}){if(!t.length)return n.jsx("div",{className:"player-profile__trend-chart player-profile__trend-chart--empty"});const e=Math.min(...t),s=Math.max(...t),r=Math.max(1,s-e||1),a=t.map((l,d)=>{const u=t.length>1?d/(t.length-1)*100:0,h=100-(l-e)/r*100;return`${d===0?"M":"L"}${u},${h}`}).join(" ");return n.jsx("div",{className:"player-profile__trend-chart",children:n.jsx("svg",{viewBox:"0 0 100 100",role:"img","aria-label":"Verlauf",children:n.jsx("path",{d:a})})})}const QW=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Gv(){const t=zf(),e=t.id||t.pid||t.playerId||t.player||"",s=Or(),[r,i]=R.useState(!0),[a,l]=R.useState(null),[d,u]=R.useState(null),[h,p]=R.useState("Statistiken"),[g,v]=R.useState(null),b=R.useRef(null);R.useEffect(()=>{let A=!1;async function y(){var j,M,k,w,C,L,P,O,$,W,H,q,Q,G,J;i(!0),l(null);try{const ne=(e||"").trim();if(!ne)throw new Error("Kein Spieler gewhlt.");const z=fs(Mt,`players/${ne}/latest/latest`),ee=await br(z);if(!ee.exists())throw new Error("Spieler nicht gefunden.");const ce=ee.data(),te=typeof ce.values=="object"&&ce.values?ce.values:{},fe=(M=Eu((j=ce.level)!=null?j:te==null?void 0:te.Level))!=null?M:null,Ce=((w=(k=ce.className)!=null?k:te==null?void 0:te.Class)!=null?w:null)||null,ge=((L=(C=ce.guildName)!=null?C:te==null?void 0:te.Guild)!=null?L:null)||null,Te=(O=(P=ce.name)!=null?P:te==null?void 0:te.Name)!=null?O:ne,ke=(W=($=ce.server)!=null?$:te==null?void 0:te.Server)!=null?W:null,ue=(q=Eu((H=ce.totalStats)!=null?H:te==null?void 0:te["Total Stats"]))!=null?q:null,Le=(J=Eu((G=(Q=te==null?void 0:te.Album)!=null?Q:te==null?void 0:te["Album %"])!=null?G:te==null?void 0:te.AlbumPct))!=null?J:null,Ae=XW(Eu(ce.timestamp)),et=typeof ce.portrait=="object"?ce.portrait:typeof ce.portraitOptions=="object"?ce.portraitOptions:typeof(te==null?void 0:te.portraitOptions)=="object"?te.portraitOptions:void 0;A||u({id:ne,name:Te,className:Ce,level:fe,guild:ge,server:ke,scrapbookPct:Le,totalStats:ue,lastScanDays:Ae,values:te,portraitConfig:et})}catch(ne){A||(u(null),l((ne==null?void 0:ne.message)||"Unbekannter Fehler beim Laden."))}finally{A||i(!1)}}return y(),()=>{A=!0}},[e]),R.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const S=R.useMemo(()=>d?eq(d):null,[d]),E=A=>{v(A),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>v(null),3500)},I=async A=>{if(d){if(A==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const y=`${window.location.origin}/players/profile/${d.id}`;try{await navigator.clipboard.writeText(y),E("Profil-Link wurde kopiert.")}catch(j){E("Konnte Link nicht kopieren.")}}return}if(A==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:d.name,text:`Shakes & Fidget Charakter ${d.name}`,url:window.location.href}),E("Profil geteilt.")}catch(y){E("Teilen abgebrochen.")}return}if(A==="guild"&&d.guild){s(`/guilds?search=${encodeURIComponent(d.guild)}`);return}if(A==="rescan"){E("Rescan-Queue folgt  aktuell noch Platzhalter.");return}}},F=()=>{if(!S)return null;switch(h){case"Statistiken":return n.jsx(zW,{data:S.stats});case"Charts":return n.jsx(GW,{series:S.charts});case"Fortschritt":return n.jsx(HW,{items:S.progress});case"Vergleich":return n.jsx(WW,{rows:S.comparison});case"Historie":return n.jsx(qW,{entries:S.history});default:return null}},D=()=>n.jsxs("div",{className:"player-profile__loading",children:[n.jsx("p",{children:a!=null?a:"Spieler nicht gefunden."}),n.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>s("/"),style:{marginTop:12},children:"Zur Startseite"})]});return n.jsx(wt,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:n.jsxs("div",{className:"player-profile",children:[r&&!d&&n.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!d||!S)&&D(),S&&n.jsxs(n.Fragment,{children:[n.jsx(UW,{data:S.hero,loading:r,actionFeedback:g,onAction:I}),n.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:QW.map(A=>{const y=h===A;return n.jsx("button",{type:"button",role:"tab","aria-selected":y,className:`player-profile__tab-button ${y?"player-profile__tab-button--active":""}`,onClick:()=>p(A),children:A},A)})}),F()]})]})})}const Eu=t=>{if(t==null||t==="")return null;const e=String(t).replace(/[^0-9.-]/g,""),s=Number(e);return Number.isFinite(s)?s:null},XW=t=>{if(!t)return null;const e=Date.now()/1e3,s=Math.max(0,e-t);return Math.floor(s/86400)},Wv=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),YW=t=>{const e=new Map;return Object.entries(t||{}).forEach(([s,r])=>e.set(Wv(s),r)),{number(s,r=null){for(const i of s){const a=Eu(e.get(Wv(i)));if(a!=null)return a}return r},text(s,r=null){for(const i of s){const a=e.get(Wv(i));if(a!=null&&String(a).trim())return String(a).trim()}return r}}},fE=t=>{let e=2166136261;for(let s=0;s<t.length;s++)e^=t.charCodeAt(s),e=Math.imul(e,16777619);return()=>{e+=1831565813;let s=Math.imul(e^e>>>15,1|e);return s^=s+Math.imul(s^s>>>7,61|s),((s^s>>>14)>>>0)/4294967296}},Hs=(t,e="")=>t==null?e:t.toLocaleString("de-DE"),Jp=t=>t==null?"":`${Math.round(t)}%`,GS=t=>t==null?null:t===0?"heute":`${t} Tag${t===1?"":"e"} her`,JW={warrior:1,berserker:1,paladin:1,scout:5,assassin:5,"demon hunter":6,bard:6,mage:8,"battle mage":8,necromancer:9,druid:9},ZW=t=>{var r;if(t.portraitConfig)return t.portraitConfig;const e=fE(t.id||t.name),s=JW[((r=t.className)==null?void 0:r.toLowerCase())||""]||Math.floor(e()*10)+1;return{genderName:e()>.5?"female":"male",class:s,race:Math.floor(e()*8)+1,hair:Math.floor(e()*40)+1,hairColor:Math.floor(e()*10)+1,mouth:Math.floor(e()*20)+1,eyes:Math.floor(e()*20)+1,brows:Math.floor(e()*10)+1,beard:Math.floor(e()*10),nose:Math.floor(e()*10)+1,ears:Math.floor(e()*10)+1,extra:Math.floor(e()*10),background:e()>.5?"gradient":"retroGradient",frame:e()>.8?"goldenFrame":""}},eq=t=>{var W,H,q,Q,G,J,ne,z,ee,ce,te;const e=t.values||{},s=YW(e),r=fE(t.id),i=(W=t.level)!=null?W:s.number(["level"]),a=(H=t.scrapbookPct)!=null?H:s.number(["album","scrapbook","albumpct"]),l=s.number(["honor","ehre"]),d=(q=t.totalStats)!=null?q:s.number(["totalstats","stats"]),p=[["Base Strength","Strke","basestrength"],["Base Dexterity","Geschick","basedexterity"],["Base Intelligence","Intelligenz","baseintelligence"],["Base Constitution","Konstitution","baseconstitution"],["Base Luck","Glck","baseluck"]].map(fe=>{var Ce;return(Ce=s.number(fe,0))!=null?Ce:0}).reduce((fe,Ce)=>fe+(Ce!=null?Ce:0),0),g=a!=null?a:Math.round(r()*80+10),v=(Q=s.number(["fortresslevel","fortress"]))!=null?Q:Math.round(r()*20)+30,b=(G=s.number(["underworld","underworldlevel"]))!=null?G:Math.round(r()*10)+20,S=(J=s.number(["tower","towerfloor"]))!=null?J:Math.round(r()*90)+10,E=(ne=s.number(["pets","petprogress"]))!=null?ne:Math.round(r()*50)+25,I=(i!=null?i:0)*1200+p+Math.round((a!=null?a:0)*3200),F=(z=s.text(["mount","reittier"]))!=null?z:"Greifendrachen (280%)",D=(ee=s.text(["guildrole","role"]))!=null?ee:"Member",A=s.number(["hofrank","halloffamerank","hofposition"]),y=[{label:"Level",value:i?`Lvl ${Hs(i)}`:""},{label:"Power Score",value:Hs(I)},{label:"Scrapbook",value:Jp(g)},{label:"Total Stats",value:Hs(d)}],j=[{label:"Mount",value:F,tone:"neutral"},{label:"Honor",value:Hs(l),tone:"success"},{label:"Gildenrolle",value:D,tone:"warning"},{label:"HoF",value:A?`#${Hs(A)}`:"",tone:"neutral"}],M={playerName:t.name,className:t.className,guild:t.guild,server:t.server,levelLabel:i?`Level ${Hs(i)}`:void 0,lastScanLabel:(ce=GS(t.lastScanDays))!=null?ce:void 0,status:t.lastScanDays!=null&&t.lastScanDays<=2?"online":"offline",metrics:y,badges:j,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!t.guild},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:ZW(t)},k=[{label:"Strke",base:["Base Strength"],total:["Strength"]},{label:"Geschick",base:["Base Dexterity"],total:["Dexterity"]},{label:"Intelligenz",base:["Base Intelligence"],total:["Intelligence"]},{label:"Konstitution",base:["Base Constitution"],total:["Constitution"]},{label:"Glck",base:["Base Luck"],total:["Luck"]}],w={summary:[{label:"Power Score",value:Hs(I),hint:"Level * SumBase"},{label:"Honor",value:Hs(l)},{label:"HoF Platz",value:A?`#${Hs(A)}`:""},{label:"Letzter Scan",value:(te=GS(t.lastScanDays))!=null?te:""}],attributes:k.map(fe=>({label:fe.label,baseLabel:Hs(s.number(fe.base)),totalLabel:s.number(fe.total)!=null?`Gesamt ${Hs(s.number(fe.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(r()*40+40)}%`},{label:"Schatten",value:`${Math.round(r()*40+35)}%`},{label:"Frost",value:`${Math.round(r()*30+30)}%`},{label:"Licht",value:`${Math.round(r()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Hs(Math.round((i!=null?i:1)*(r()*8+3)))}k`},{label:"XP/h",value:`${Hs(Math.round((i!=null?i:1)*(r()*5+2)))}k`},{label:"Mount Bonus",value:F},{label:"Quest Slots",value:`${Math.round(r()*2)+3}`}]},C=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(g!=null?g:0)/100),targetLabel:`${Jp(g)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:g!=null&&g>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,S/100),targetLabel:`Ebene ${Math.round(S)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudeausbau",progress:Math.min(1,v/25),targetLabel:`Lvl ${Math.round(v)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,b/30),targetLabel:`Lvl ${Math.round(b)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,E/100),targetLabel:`${Math.round(E)} / 100`,meta:"Habitate offen"}],L=(fe,Ce=.12)=>{const ge=fe!=null?fe:Math.round(r()*100),Te=[];let ke=ge*.85;for(let ue=0;ue<8;ue++)ke+=ke*(r()*Ce-Ce/2),Te.push(Math.max(0,Math.round(ke)));return Te[Te.length-1]=ge,Te},P=[{label:"Level Verlauf",points:L(i!=null?i:0,.06),unit:"",subLabel:"7 Tage"},{label:"Total Stats",points:L(d!=null?d:0,.18),unit:"",subLabel:"Summe Attribute"},{label:"Honor",points:L(l!=null?l:0,.25),unit:"",subLabel:"Hall of Fame"}],O=[{label:"Level",playerValue:i?`Lvl ${Hs(i)}`:"",benchmark:i?`Lvl ${Hs(Math.round(i*.92))}`:"",diffLabel:i?`+${Math.round(i*.08)}`:"",trend:"up"},{label:"Power Score",playerValue:Hs(I),benchmark:Hs(Math.round(I*.9)),diffLabel:`+${Hs(Math.round(I*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:Jp(g),benchmark:`${Math.min(100,Math.round((g!=null?g:60)-8))}%`,diffLabel:g!=null?`+${Math.round(g-60)}%`:"",trend:g!=null&&g>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(v)}`,benchmark:`Lvl ${Math.round(v-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(b)}`,benchmark:`Lvl ${Math.round(b-2)}`,diffLabel:"+2",trend:"neutral"}],$=tq(t,s,r);return{hero:M,stats:w,progress:C,charts:P,comparison:O,history:$}},tq=(t,e,s)=>{var l,d;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:t.guild?`Joined ${t.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const a=e.text(["lastdungeon","lastfight"]);return a&&r.push({dateLabel:bp(Math.round(s()*15)+5),title:"Dungeon Clear",description:a,tag:"Dungeon"}),r.push({dateLabel:bp(2),title:"Level-Up",description:`Erreichte Level ${Hs(t.level)}`,tag:"Level"}),r.push({dateLabel:bp(10),title:"Scrapbook Meilenstein",description:`${Jp((l=t.scrapbookPct)!=null?l:Math.round(s()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:bp(18),title:"Festung",description:`Fortress Level ${Math.round((d=e.number(["fortress"],Math.round(s()*20+15)))!=null?d:0)}`,tag:"Festung"}),r},bp=t=>new Date(Date.now()-t*864e5).toLocaleDateString("de-DE");function id(t,e=300){const[s,r]=Z.useState(t);return Z.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),s}function ad(t){const e=Z.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(t).matches,[t]),[s,r]=Z.useState(()=>e());return Z.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(t),a=l=>r(l.matches);return r(i.matches),i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[t]),s}const sq='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function od(t,e){Z.useEffect(()=>{var l;if(!e)return;const s=t.current;if(!s)return;const r=()=>s.querySelectorAll(sq);(l=r()[0])==null||l.focus();const a=d=>{if(d.key!=="Tab")return;const u=r();if(u.length===0)return;const h=u[0],p=u[u.length-1];d.shiftKey?document.activeElement===h&&(d.preventDefault(),p.focus()):document.activeElement===p&&(d.preventDefault(),h.focus())};return s.addEventListener("keydown",a),()=>s.removeEventListener("keydown",a)},[t,e])}const nq="_page_1jzf5_1",rq="_header_1jzf5_13",iq="_headerStack_1jzf5_25",aq="_kicker_1jzf5_37",oq="_title_1jzf5_53",lq="_subtitle_1jzf5_65",cq="_headerActions_1jzf5_79",dq="_secondaryAction_1jzf5_89",uq="_infoStrip_1jzf5_131",hq="_infoCard_1jzf5_143",mq="_infoLabel_1jzf5_163",pq="_inlineFilters_1jzf5_177",fq="_filterField_1jzf5_197",gq="_select_1jzf5_227",xq="_searchInput_1jzf5_229",vq="_layout_1jzf5_249",yq="_selectionColumn_1jzf5_261",bq="_selectionCard_1jzf5_273",_q="_slotHeader_1jzf5_293",wq="_slotLabel_1jzf5_307",jq="_slotStatus_1jzf5_323",Sq="_clearButton_1jzf5_335",Nq="_slotBody_1jzf5_355",kq="_resultList_1jzf5_367",Tq="_emptyResult_1jzf5_385",Cq="_resultItem_1jzf5_397",Eq="_resultName_1jzf5_421",Aq="_resultMeta_1jzf5_433",Iq="_selectButton_1jzf5_445",Rq="_selectedCard_1jzf5_465",Pq="_selectedName_1jzf5_479",Lq="_selectedMeta_1jzf5_489",Dq="_selectedTagline_1jzf5_491",Mq="_comparisonColumn_1jzf5_503",Fq="_comparisonCard_1jzf5_515",Bq="_comparisonHeader_1jzf5_535",$q="_sectionTitle_1jzf5_551",Oq="_diffBadge_1jzf5_561",Vq="_metricGrid_1jzf5_579",Uq="_metricCard_1jzf5_591",zq="_metricLabel_1jzf5_611",Hq="_metricValues_1jzf5_627",Gq="_metricDivider_1jzf5_643",Wq="_metricDelta_1jzf5_653",qq="_freshnessRow_1jzf5_665",Kq="_freshnessItem_1jzf5_677",Qq="_freshnessBadge_1jzf5_685",Xq="_freshnessPopover_1jzf5_733",Yq="_popoverTitle_1jzf5_757",Jq="_classCard_1jzf5_807",Zq="_classGrid_1jzf5_827",eK="_classColumn_1jzf5_837",tK="_classBar_1jzf5_857",sK="_classSlice_1jzf5_873",nK="_classLegend_1jzf5_907",rK="_emptyState_1jzf5_931",iK="_supportPanels_1jzf5_947",aK="_checklistCard_1jzf5_959",oK="_infoCardExtended_1jzf5_961",lK="_checklist_1jzf5_959",cK="_infoNote_1jzf5_1033",dK="_sheetOverlay_1jzf5_1045",uK="_sheetOpen_1jzf5_1073",hK="_sheet_1jzf5_1045",mK="_sheetHeader_1jzf5_1105",pK="_sheetBody_1jzf5_1119",ie={page:nq,header:rq,headerStack:iq,kicker:aq,title:oq,subtitle:lq,headerActions:cq,secondaryAction:dq,infoStrip:uq,infoCard:hq,infoLabel:mq,inlineFilters:pq,filterField:fq,select:gq,searchInput:xq,layout:vq,selectionColumn:yq,selectionCard:bq,slotHeader:_q,slotLabel:wq,slotStatus:jq,clearButton:Sq,slotBody:Nq,resultList:kq,emptyResult:Tq,resultItem:Cq,resultName:Eq,resultMeta:Aq,selectButton:Iq,selectedCard:Rq,selectedName:Pq,selectedMeta:Lq,selectedTagline:Dq,comparisonColumn:Mq,comparisonCard:Fq,comparisonHeader:Bq,sectionTitle:$q,diffBadge:Oq,metricGrid:Vq,metricCard:Uq,metricLabel:zq,metricValues:Hq,metricDivider:Gq,metricDelta:Wq,freshnessRow:qq,freshnessItem:Kq,freshnessBadge:Qq,freshnessPopover:Xq,popoverTitle:Yq,classCard:Jq,classGrid:Zq,classColumn:eK,classBar:tK,classSlice:sK,classLegend:nK,emptyState:rK,supportPanels:iK,checklistCard:aK,infoCardExtended:oK,checklist:lK,infoNote:cK,sheetOverlay:dK,sheetOpen:uK,sheet:hK,sheetHeader:mK,sheetBody:pK},gE=["Ari","Borin","Celeste","Doran","Lena","Nix"],fK={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},hb={raid:"Raid",event:"Event",task:"Task"},mb={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},WS={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},qS={urgent:4,high:3,medium:2,low:1},gK={"7d":7,"30d":30,"90d":90,all:null},qv={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},xK=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:Jo(5,20),createdAt:Fn(2,14),updatedAt:Fn(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:wp(3),nextUpdateAt:_p(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:Jo(2,12),createdAt:Fn(4,9),updatedAt:Fn(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:wp(8),nextUpdateAt:_p(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:Jo(7,17),createdAt:Fn(1,10),updatedAt:Fn(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:wp(22),nextUpdateAt:_p(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:Fn(1,19),createdAt:Fn(9,10),updatedAt:Fn(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:Fn(1,19),nextUpdateAt:Jo(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:Jo(12,18),createdAt:Fn(6,15),updatedAt:Fn(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:wp(1),nextUpdateAt:_p(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:Jo(18,13),createdAt:Fn(12,18),updatedAt:Fn(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:Fn(2,16),nextUpdateAt:Jo(4,9)}];function Jo(t,e=12){const s=new Date;return s.setDate(s.getDate()+t),s.setHours(e,0,0,0),s.toISOString()}function _p(t){const e=new Date;return e.setHours(e.getHours()+t,e.getMinutes(),0,0),e.toISOString()}function Fn(t,e=12){const s=new Date;return s.setDate(s.getDate()-t),s.setHours(e,0,0,0),s.toISOString()}function wp(t){const e=new Date;return e.setHours(e.getHours()-t,e.getMinutes(),0,0),e.toISOString()}function KS(t){return{...t,page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),owner:Array.from(new Set(t.owner))}}function vK(t,e,s){const r=Date.now(),i=gK[e.range];return t.filter(a=>{const l=s===""||a.title.toLowerCase().includes(s.toLowerCase())||a.description.toLowerCase().includes(s.toLowerCase()),d=e.type==="all"||a.type===e.type,u=e.status==="all"||a.status===e.status,h=e.owner.length===0||e.owner.includes(a.owner)||a.assignees.some(g=>e.owner.includes(g));let p=!0;if(i!==null){const g=new Date(a.dueAt).getTime(),v=r+i*24*60*60*1e3;p=g<=v}return l&&d&&u&&h&&p})}function yK(t,e,s){const r=[...t];return r.sort((i,a)=>{let l=0;switch(e){case"dueAt":l=new Date(i.dueAt).getTime()-new Date(a.dueAt).getTime();break;case"updatedAt":l=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break;case"priority":l=qS[i.priority]-qS[a.priority];break;case"title":l=i.title.localeCompare(a.title);break;default:l=0}return s==="asc"?l:-l}),r}function bK(t,e,s){const r=(e-1)*s;return t.slice(r,r+s)}function Mi(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function $h(t){const e=Date.now()-new Date(t).getTime(),s=Math.round(e/6e4);if(s<60)return`${s} min`;const r=Math.round(s/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function mh(t,e){const s=new Date(t).getTime()-e;if(s<=0)return"faellig";const r=Math.floor(s/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function _K(t){return t.length===0?null:t.reduce((e,s)=>e?WS[s.freshness]>WS[e.freshness]?s:e:s,null)}const c0=["EU-01","EU-02","US-01","US-02","ASIA-01"],Uu=new Intl.NumberFormat("de-DE");function wK(){const t=ad("(min-width: 768px)"),[e,s]=Z.useState("all"),[r,i]=Z.useState(null),[a,l]=Z.useState(null),[d,u]=Z.useState(null),[h,p]=Z.useState(null),g=[r,a].filter(Boolean).length,v=Z.useMemo(()=>{const P=[d,h].filter(Boolean);if(!P.length)return 0;const O=P.reduce(($,W)=>{var H;return $+((H=W.level)!=null?H:0)},0);return Math.round(O/P.length)},[d,h]),[b,S]=Z.useState(null),[E,I]=Z.useState(!1),F=Z.useRef(null);od(F,E&&!t),Z.useEffect(()=>{t&&I(!1)},[t]),Z.useEffect(()=>{if(!b)return;const P=$=>{const W=$.target;W&&(W.closest(`.${ie.freshnessBadge}`)||W.closest(`.${ie.freshnessPopover}`)||S(null))},O=$=>{$.key==="Escape"&&S(null)};return document.addEventListener("pointerdown",P),document.addEventListener("keydown",O),()=>{document.removeEventListener("pointerdown",P),document.removeEventListener("keydown",O)}},[b]);const D=Z.useMemo(()=>d?mh(d.nextUpdateAt,Date.now()):"",[d]),A=Z.useMemo(()=>h?mh(h.nextUpdateAt,Date.now()):"",[h]),y=()=>I(!0),j=()=>I(!1),M=P=>{s(P)},k=(P,O)=>{P==="playerA"?(i(O.id),u(O)):(l(O.id),p(O))},w=P=>{P==="playerA"?(i(null),u(null)):(l(null),p(null))},C=P=>{S(O=>O===P?null:P)},L=d&&h;return n.jsxs(wt,{title:"Players",subtitle:"Spielervergleich",centerFramed:!1,children:[n.jsxs("div",{className:ie.page,children:[n.jsxs("header",{className:ie.header,children:[n.jsxs("div",{className:ie.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.kicker,children:"Players"}),n.jsx("h1",{className:ie.title,children:"Spieler vergleichen"}),n.jsx("p",{className:ie.subtitle,children:"Waehle zwei Charaktere aus, gleiche Level, Scrapbook und Freshness ab und finde die staerkere Option fuer dein Team oder deine Analyse."})]}),n.jsx("div",{className:ie.headerActions,children:!t&&n.jsx("button",{type:"button",className:ie.secondaryAction,onClick:y,children:"Filter"})})]}),n.jsxs("div",{className:ie.infoStrip,children:[n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Slots gefuellt"}),n.jsxs("strong",{children:[Uu.format(g)," Spieler"]})]}),n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Durchschnittslevel"}),n.jsx("strong",{children:Uu.format(v)})]}),n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Serverfilter"}),n.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&n.jsx("div",{className:ie.inlineFilters,children:n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:e,onChange:P=>M(P.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),c0.map(P=>n.jsx("option",{value:P,children:P},P))]})]})})]}),n.jsxs("div",{className:ie.layout,children:[n.jsxs("section",{className:ie.selectionColumn,children:[n.jsx(QS,{title:"Spieler A",slot:"playerA",selectedPlayer:d,excludeId:a,onSelect:k,onClear:w,serverFilter:e,onServerChange:M}),n.jsx(QS,{title:"Spieler B",slot:"playerB",selectedPlayer:h,excludeId:r,onSelect:k,onClear:w,serverFilter:e,onServerChange:M})]}),n.jsxs("section",{className:ie.comparisonColumn,children:[n.jsxs("div",{className:ie.comparisonCard,children:[n.jsxs("div",{className:ie.comparisonHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.kicker,children:"Vergleich"}),n.jsx("h2",{className:ie.sectionTitle,children:"Kennzahlen"})]}),L&&n.jsxs("span",{className:ie.diffBadge,children:["Delta Level: ",Uu.format(d.level-h.level)]})]}),L?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:ie.metricGrid,children:[n.jsx(XS,{label:"Level",aValue:d.level,bValue:h.level}),n.jsx(XS,{label:"Scrapbook (%)",aValue:d.scrapbookPct,bValue:h.scrapbookPct,isDecimal:!0}),n.jsx(jK,{playerA:d,playerB:h,countdownA:D,countdownB:A,activePopover:b,onToggle:C})]}),n.jsx(SK,{playerA:d,playerB:h})]}):n.jsx("div",{className:ie.emptyState,children:n.jsx("p",{children:"Waehle zwei Spieler aus, um den direkten Vergleich zu starten."})})]}),n.jsxs("div",{className:ie.supportPanels,children:[n.jsx(NK,{}),n.jsx(kK,{})]})]})]})]}),!t&&n.jsx("div",{className:`${ie.sheetOverlay} ${E?ie.sheetOpen:""}`,children:n.jsxs("div",{className:ie.sheet,role:"dialog","aria-modal":"true",ref:F,children:[n.jsxs("header",{className:ie.sheetHeader,children:[n.jsx("h3",{children:"Filter"}),n.jsx("button",{type:"button",className:ie.clearButton,onClick:j,children:"Schliessen"})]}),n.jsx("div",{className:ie.sheetBody,children:n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:e,onChange:P=>M(P.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),c0.map(P=>n.jsx("option",{value:P,children:P},P))]})]})})]})})]})}function QS({title:t,slot:e,selectedPlayer:s,excludeId:r,onSelect:i,onClear:a,serverFilter:l,onServerChange:d}){const[u,h]=Z.useState(""),p=id(u,300);Z.useEffect(()=>{h("")},[s,l]);const{results:g,loading:v}=TK(p,l,r);return n.jsxs("article",{className:ie.selectionCard,children:[n.jsxs("div",{className:ie.slotHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.slotLabel,children:t}),n.jsx("p",{className:ie.slotStatus,children:s?"Ausgewaehlt":"Noch keine Auswahl"})]}),s&&n.jsx("button",{type:"button",className:ie.clearButton,onClick:()=>a(e),children:"Reset"})]}),n.jsxs("div",{className:ie.slotBody,children:[n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:l,onChange:b=>d(b.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),c0.map(b=>n.jsx("option",{value:b,children:b},b))]})]}),n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Suchen"}),n.jsx("input",{className:ie.searchInput,placeholder:"Spielernamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),n.jsxs("div",{className:ie.resultList,role:"list",children:[v&&n.jsx("div",{className:ie.emptyResult,children:"Lade..."}),!v&&g.length===0&&n.jsx("div",{className:ie.emptyResult,children:"Kein Spieler gefunden."}),!v&&g.map(b=>n.jsxs("div",{className:ie.resultItem,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.resultName,children:b.name}),n.jsxs("p",{className:ie.resultMeta,children:[b.server," - Level ",b.level," - ",b.className]})]}),n.jsx("button",{type:"button",className:ie.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),s&&n.jsxs("div",{className:ie.selectedCard,children:[n.jsx("p",{className:ie.selectedName,children:s.name}),n.jsxs("p",{className:ie.selectedMeta,children:[s.server," - Level ",s.level," - ",s.className," -"," ",s.guildName||"ohne Gilde"]}),n.jsx("p",{className:ie.selectedTagline,children:s.tagline})]})]})]})}function XS({label:t,aValue:e,bValue:s,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):Uu.format(d),a=e-s;let l="gleich";if(a!==0){const d=r?Math.abs(a).toFixed(1).replace(".",","):Uu.format(Math.abs(a));l=a>0?`+${d}`:`-${d}`}return n.jsxs("div",{className:ie.metricCard,children:[n.jsx("p",{className:ie.metricLabel,children:t}),n.jsxs("div",{className:ie.metricValues,children:[n.jsx("span",{"aria-label":"Spieler A",children:i(e)}),n.jsx("span",{className:ie.metricDivider,children:"vs"}),n.jsx("span",{"aria-label":"Spieler B",children:i(s)})]}),n.jsx("p",{className:ie.metricDelta,children:l})]})}function jK({playerA:t,playerB:e,countdownA:s,countdownB:r,activePopover:i,onToggle:a}){return n.jsxs("div",{className:ie.metricCard,children:[n.jsx("p",{className:ie.metricLabel,children:"Freshness"}),n.jsx("div",{className:ie.freshnessRow,children:[t,e].map(l=>{const d=l.id===t.id?s:r,u=`fresh-${l.id}`,h=i===u;return n.jsxs("div",{className:ie.freshnessItem,children:[n.jsxs("button",{type:"button",className:ie.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[n.jsx("span",{children:l.freshness.toUpperCase()}),n.jsx("small",{children:$h(l.lastScanAt)})]}),h&&n.jsxs("div",{className:ie.freshnessPopover,role:"dialog",children:[n.jsx("p",{className:ie.popoverTitle,children:l.name}),n.jsxs("dl",{children:[n.jsxs("div",{children:[n.jsx("dt",{children:"Status"}),n.jsx("dd",{children:mb[l.freshness]})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Zuletzt gescannt"}),n.jsx("dd",{children:Mi(l.lastScanAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Naechstes Update"}),n.jsxs("dd",{children:[Mi(l.nextUpdateAt)," (",d,")"]})]})]})]})]},l.id)})})]})}function SK({playerA:t,playerB:e}){const s=Z.useMemo(()=>Array.from(new Set([...t.stats,...e.stats].map(i=>i.label))),[t.stats,e.stats]),r=i=>{const a=i.stats.length?i.stats:[{label:"Keine Daten",percent:100}];return n.jsxs("div",{className:ie.classColumn,children:[n.jsx("h3",{children:i.name}),n.jsx("div",{className:ie.classBar,"aria-label":`Statverteilung ${i.name}`,children:a.map(l=>n.jsxs("span",{style:{width:`${l.percent}%`},className:ie.classSlice,children:[n.jsx("small",{children:l.label}),n.jsxs("strong",{children:[l.percent,"%"]})]},`${i.id}-${l.label}`))})]})};return n.jsxs("div",{className:ie.classCard,children:[n.jsx("p",{className:ie.metricLabel,children:"Stat-Verteilung"}),n.jsx("div",{className:ie.classGrid,children:[t,e].map(r)}),s.length>0&&n.jsx("ul",{className:ie.classLegend,children:s.map(i=>n.jsx("li",{children:i},i))})]})}function NK(){const t=["Build, Edelsteine und Attribute nebeneinander legen","Buff-Food und Potions fuer beide Spieler abstimmen","Scrapbook- und Sammelstatus pruefen","Letzten Scan aktualisieren und Screens hochladen","Server- oder Account-Konflikte frueh klaeren"];return n.jsxs("section",{className:ie.checklistCard,children:[n.jsx("h3",{children:"Vor dem Vergleich pruefen"}),n.jsx("ul",{className:ie.checklist,children:t.map(e=>n.jsx("li",{children:e},e))})]})}function kK(){return n.jsxs("section",{className:ie.infoCardExtended,children:[n.jsx("h3",{children:"Matchup-Diff"}),n.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",n.jsx("code",{children:"lib/players/matchups/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),n.jsx("p",{className:ie.infoNote,children:"Sammle jetzt schon Vergleichsmetriken (DPS, PvP, Arena), damit die spaetere Automatik sie direkt uebernehmen kann."}),n.jsx("button",{type:"button",className:ie.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function TK(t,e,s){const[r,i]=Z.useState([]),[a,l]=Z.useState(!1);return Z.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),l(!1);return}let u=!1;async function h(){l(!0);try{const p=d.toLowerCase(),g=dg(Mt,"latest"),v=await fn(Un(g,lo("nameFold"),ul(p),hl(p+""),zn(15))),b=await fn(Un(g,gl("nameNgrams","array-contains",p),zn(15))),S=new Set,E=[],I=F=>{var Q,G,J,ne,z,ee,ce,te,fe,Ce,ge,Te,ke,ue,Le,Ae,et,pt,Jt,Ts,Cs,bn,Os,Es,As,qs,Is,sn,rs;const D=F.data(),y=(Q=F.ref.parent)==null?void 0:Q.parent,j=y==null?void 0:y.parent;if((j==null?void 0:j.id)!=="players")return;const k=(J=(G=y==null?void 0:y.id)!=null?G:D.playerIdentifier)!=null?J:F.id;if(!k||S.has(k)||s&&k===s)return;const w=(ee=(z=D.name)!=null?z:(ne=D.values)==null?void 0:ne.Name)!=null?ee:"Unbekannter Spieler",C=(fe=(te=D.server)!=null?te:(ce=D.values)==null?void 0:ce.Server)!=null?fe:"Unknown";if(e!=="all"&&C!==e)return;const L=(ue=(ke=(ge=D.className)!=null?ge:(Ce=D.values)==null?void 0:Ce.Class)!=null?ke:(Te=D.values)==null?void 0:Te.Class)!=null?ue:"Unbekannte Klasse",P=(et=(Ae=D.guildName)!=null?Ae:(Le=D.values)==null?void 0:Le.Guild)!=null?et:"",O=so(D.level)||so((pt=D.values)==null?void 0:pt.Level)||so((Jt=D.values)==null?void 0:Jt.Level),$=so(D.scrapbookPct)||so((Ts=D.values)==null?void 0:Ts["Album %"])||so((Cs=D.values)==null?void 0:Cs.AlbumPct)||so((bn=D.values)==null?void 0:bn["Scrapbook %"]),W=(As=(Es=D.updatedAt)!=null?Es:(Os=D.values)==null?void 0:Os.UpdatedAt)!=null?As:D.timestamp?new Date(D.timestamp*1e3).toISOString():new Date().toISOString(),H=(qs=D.nextUpdateAt)!=null?qs:EK(12),q=CK((Is=D.values)!=null?Is:D.stats);S.add(k),E.push({id:k,name:w,tagline:(sn=D.tagline)!=null?sn:P?`Mitglied in ${P}`:L,server:C,className:L,guildName:P,level:O||0,scrapbookPct:$,lastScanAt:W,updatedAt:W,nextUpdateAt:H,freshness:(rs=D.freshness)!=null?rs:"unknown",stats:q})};v.forEach(I),b.forEach(I),u||(E.sort((F,D)=>F.name.localeCompare(D.name)),i(E))}catch(p){console.error("[Players Compare] player search failed",p),u||i([])}finally{u||l(!1)}}return h(),()=>{u=!0}},[t,e,s]),{results:r,loading:a}}const YS={Strength:"Staerke",Dexterity:"Geschick",Intelligence:"Intelligenz",Constitution:"Konstitution"};function CK(t={}){const e=Object.keys(YS).map(r=>{var a;const i=(a=t==null?void 0:t[r])!=null?a:t==null?void 0:t[r.toLowerCase()];return{label:YS[r],value:so(i)}}).filter(r=>r.value>0),s=e.reduce((r,i)=>r+i.value,0);return s?e.map(r=>({label:r.label,percent:Math.max(1,Math.round(r.value/s*100))})):[]}function so(t){const e=Number(t);return Number.isFinite(e)?e:0}function EK(t){const e=new Date;return e.setHours(e.getHours()+t),e.toISOString()}function AK(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Guilds"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(JS,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),n.jsx(JS,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function JS({to:t,title:e,desc:s}){return n.jsxs(zt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function IK(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Guilds  Rankings"}),n.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function RK(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Guilds  Stats"}),n.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function PK(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const LK={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function DK(t){var s;const e=PK(t);return(s=LK[e])!=null?s:null}function MK(t,e=128){var a,l;const s=DK(t);if(!s)return{id:null,url:null,thumb:null,fallback:""};const r=(a=Nl(s))!=null?a:null,i=r&&(l=Vr(r,e))!=null?l:null;return{id:s,url:r,thumb:i,fallback:""}}function ph(t,e=128){return MK(t,e).thumb}const Ll={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},kg=(t,e)=>({...t||{},...e||{}}),ZS=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),s=Math.floor((Date.now()-e.getTime())/864e5);return s<=0?"today":s===1?"yesterday":`${s}d ago`},FK=t=>Object.values(t||{}).reduce((e,s)=>e+(s||0),0),cn=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function BK(t){var v,b,S,E,I,F,D,A;const e=cn(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const s=cn(t==null?void 0:t.baseMain),r=cn(t==null?void 0:t.conBase);if(s!=null&&r!=null)return s+r;const i=(t==null?void 0:t.baseStats)||{},a=cn(i==null?void 0:i.sumBaseTotal);if(a!=null)return a;const l=cn(i==null?void 0:i.main),d=cn(i==null?void 0:i.con);if(l!=null&&d!=null)return l+d;const u=(t==null?void 0:t.values)||{},h=(b=(v=cn(u==null?void 0:u.SumBaseTotal))!=null?v:cn(u==null?void 0:u.sumBaseTotal))!=null?b:cn(u==null?void 0:u["Sum Base Total"]);if(h!=null)return h;const p=(I=(E=(S=cn(u==null?void 0:u.Main))!=null?S:cn(u==null?void 0:u.main))!=null?E:cn(u==null?void 0:u.BaseMain))!=null?I:cn(u==null?void 0:u.baseMain),g=(A=(D=(F=cn(u==null?void 0:u.Con))!=null?F:cn(u==null?void 0:u.con))!=null?D:cn(u==null?void 0:u.ConBase))!=null?A:cn(u==null?void 0:u.conBase);return p!=null&&g!=null?p+g:null}function Zo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function $K(t,e=56){if(!t)return;const s=Zo(t),r=Ws.find(i=>Zo(i.label)===s||Zo(i.key)===s)||Ws.find(i=>Zo(i.label).startsWith(s)||s.startsWith(Zo(i.label))||Zo(i.key).startsWith(s)||s.startsWith(Zo(i.key)));return r?Vr(r.iconUrl,e):void 0}function OK({name:t,memberClass:e,online:s,theme:r=Ll}){const i=t.split("_").map(l=>l[0]).join("").slice(0,2).toUpperCase(),a=$K(e,56);return n.jsxs("div",{className:"relative",children:[a?n.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:l=>{const d=l.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):n.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),s&&n.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const VK={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},UK=({role:t})=>n.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(VK[t]||""),children:t});function eN(t,e){const s=(t!=null?t:"").trim();if(s)return s;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function zK(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,s=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:s!=null&&r!=null?s+r:null;return i!=null?i.toLocaleString("de-DE"):""}function jp({label:t,value:e,theme:s=Ll}){return n.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:s.border,background:s.tile},children:[n.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),n.jsx("div",{className:"text-lg font-semibold",style:{color:s.title},children:e})]})}function HK({member:t,theme:e,actions:s,extraKPIs:r}){var p,g,v,b,S,E,I,F,D;if(!t)return null;const i=kg(Ll,e),a=t,l=eN((g=(p=a.guildJoined)!=null?p:a.joinedAt)!=null?g:null,(v=a.guildJoinedMs)!=null?v:null),d=eN((b=a.lastActivity)!=null?b:null,(S=a.lastActivityMs)!=null?S:typeof a.lastOnline=="number"?a.lastOnline:null),u=zK(a),h=typeof a.totalStats=="number"?a.totalStats.toLocaleString("de-DE"):"";return n.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[n.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),n.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[n.jsx("div",{className:"shrink-0",children:n.jsx(OK,{name:t.name,memberClass:(F=(I=a.class)!=null?I:(E=a.values)==null?void 0:E.Class)!=null?F:null,online:a.online,theme:i})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),a.role&&n.jsx(UK,{role:a.role})]}),n.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[a.class||"",a.server?`  ${a.server}`:"","  Joined ",l,"  Last ",d]})]}),n.jsx("div",{className:"ml-auto",children:s})]}),n.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsx(jp,{label:"Level",value:(D=a.level)!=null?D:"",theme:i}),typeof a.scrapbook=="number"&&n.jsx(jp,{label:"Scrapbook",value:`${a.scrapbook}%`,theme:i}),n.jsx(jp,{label:"Sum Base",value:u,theme:i}),n.jsx(jp,{label:"Total Stats",value:h,theme:i}),r]})]})}function el(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function GK(t,e=40){if(!t)return;const s=el(t);let r=Ws.find(i=>el(i.label)===s||el(i.key)===s)||Ws.find(i=>el(i.label).startsWith(s)||s.startsWith(el(i.label))||el(i.key).startsWith(s)||s.startsWith(el(i.key)));return r?Vr(r.iconUrl,e):void 0}function WK({name:t,memberClass:e,online:s,theme:r=Ll}){const i=t.split("_").map(l=>l[0]).join("").slice(0,2).toUpperCase(),a=GK(e,40);return n.jsxs("div",{className:"relative",children:[a?n.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:l=>{const d=l.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):n.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),s&&n.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const qK=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return n.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function KK({rows:t,selId:e,onSelect:s,rightCols:r,theme:i}){const a=kg(Ll,i);return n.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:a.border},children:[n.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),n.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:a.tableBg},children:[n.jsx("div",{className:"h-8 sticky top-0",style:{background:a.header}}),t.map((l,d)=>{var u,h,p;return n.jsxs("button",{onClick:()=>s(l.id),"aria-pressed":l.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(l.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[n.jsx(WK,{name:l.name,memberClass:(p=(h=l.class)!=null?h:(u=l.values)==null?void 0:u.Class)!=null?p:null,online:l.online,theme:a}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:l.name}),n.jsxs("div",{className:"text-xs truncate",style:{color:a.sub},children:[l.class,l.server?`  ${l.server}`:""]})]}),n.jsx("div",{className:"justify-self-end",children:n.jsx(qK,{role:l.role})}),r(l)]},l.id)})]})]})}function tl(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function QK(t,e=40){if(!t)return;const s=tl(t);let r=Ws.find(i=>tl(i.label)===s||tl(i.key)===s)||Ws.find(i=>tl(i.label).startsWith(s)||s.startsWith(tl(i.label))||tl(i.key).startsWith(s)||s.startsWith(tl(i.key)));return r?Vr(r.iconUrl,e):void 0}function XK({rows:t,selId:e,onSelect:s,footer:r,theme:i}){const a=kg(Ll,i);return n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(l=>{var v,b,S,E,I,F,D,A,y;const d=l,u=l.name.slice(0,2).toUpperCase(),h=QK((S=(b=d.class)!=null?b:(v=d.values)==null?void 0:v.Class)!=null?S:null,40),p=typeof d.level=="number"?d.level:typeof((E=d.values)==null?void 0:E.Level)=="number"?d.values.Level:"",g=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((I=d.values)==null?void 0:I.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return n.jsxs("button",{onClick:()=>s(l.id),"aria-pressed":l.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(l.id===e?" ring-1":""),style:{borderColor:a.border,background:`linear-gradient(180deg, ${a.tile} 0%, ${a.tableBg} 100%)`,boxShadow:l.id===e?`0 12px 30px -12px ${a.glow}`:"none"},children:[n.jsxs("div",{className:"flex items-center gap-3",children:[h?n.jsx("img",{src:h,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:a.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:j=>{const M=j.currentTarget.parentElement;M&&(M.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${a.tile};color:${a.title};border-color:${a.border}">${u}</div>`)}}):n.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:a.tile,color:a.title,borderColor:a.border},children:u}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:l.name}),n.jsxs("div",{className:"text-xs",style:{color:a.sub},children:[(A=(D=d.class)!=null?D:(F=d.values)==null?void 0:F.Class)!=null?A:"",d.server?`  ${d.server}`:""]})]}),n.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:a.border},children:(y=d.role)!=null?y:""})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),n.jsx("div",{className:"font-semibold",style:{color:a.title},children:p})]}),g&&n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),n.jsx("div",{className:"font-semibold",style:{color:a.title},children:g})]})]}),n.jsx("div",{className:"mt-3",children:r(l)})]},l.id)})})}const YK=t=>{if(!t)return;const e={};return["main","con","sumBaseTotal"].forEach(s=>{const r=t[s];typeof r=="number"&&(e[s]=r)}),Object.keys(e).length?e:void 0};function JK({members:t,defaultView:e="list",defaultQuery:s="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:a,onSelect:l,renderActions:d,renderKPIs:u,theme:h}){var L;const p=R.useMemo(()=>kg(Ll,h),[h]),[g,v]=R.useState(e),[b,S]=R.useState(s),[E,I]=R.useState(r.key),[F,D]=R.useState(r.dir),[A,y]=R.useState((L=t[0])==null?void 0:L.id),j=a!=null?a:A,M=P=>{a||y(P);const O=t.find($=>$.id===P);O&&l&&l(O)},k=R.useMemo(()=>{const P=b.trim().toLowerCase();return P?t.filter(O=>O.name.toLowerCase().includes(P)||O.class.toLowerCase().includes(P)||String(O.role).toLowerCase().includes(P)):t},[t,b]),w=R.useMemo(()=>{const P=F==="asc"?1:-1,O=$=>{var W,H;switch(E){case"sumBaseStats":{const q=BK($);return q==null?-1/0:q}case"totalStats":return(H=(W=$.totalStats)!=null?W:FK(YK($.baseStats)))!=null?H:-1/0;default:return $[E]}};return[...k].sort(($,W)=>{const H=O($),q=O(W);return H===q?0:H>q?P:-P})},[k,E,F]),C=R.useMemo(()=>w.find(P=>P.id===j)||w[0],[w,j]);return n.jsxs("div",{children:[i&&n.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:p.tile,borderColor:p.border},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"View"}),n.jsxs("select",{value:g,onChange:P=>v(P.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[n.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),n.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Search"}),n.jsx("input",{value:b,onChange:P=>S(P.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:p.border}})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Sort by"}),n.jsxs("select",{value:String(E),onChange:P=>I(P.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[n.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),n.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),n.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),n.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),n.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),n.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),n.jsx("button",{onClick:()=>D(P=>P==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:p.border},children:F==="asc"?"":""})]})]}),n.jsx(HK,{member:C,actions:C&&(d?d(C):n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Profile"}),n.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Compare"}),n.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Message"})]})),extraKPIs:C&&u?u(C):null,theme:p}),g==="list"?n.jsx(KK,{rows:w,selId:j,onSelect:M,theme:p,rightCols:P=>{var O;return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-right text-sm",children:(O=P.level)!=null?O:""}),n.jsx("div",{className:"text-right text-xs",style:{color:p.sub},children:ZS(P.lastOnline)})]})}}):n.jsx(XK,{rows:w,selId:j,onSelect:M,theme:p,footer:P=>n.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:p.sub},children:n.jsxs("span",{children:["Last ",ZS(P.lastOnline)]})})})]})}function ZK({guildName:t,server:e,emblemUrl:s,lastScanISO:r,members:i,avgLevel:a,totalPower:l,activity7d:d,topClasses:u,tickerItems:h,href:p,onClick:g,className:v}){const b=!!tE(),S=R.useMemo(()=>{if(!r)return null;const O=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(O/6e4));if($<60)return`${$}m`;const W=Math.floor($/60);return W<24?`${W}h`:`${Math.floor(W/24)}d`},[r]),E=Tu(0),I=Tu(0),F=Tu(0),D=Tu(0),A=fp(E,O=>Math.round(O).toString()),y=fp(I,O=>Math.round(O).toString()),j=fp(F,O=>Math.round(O).toLocaleString()),M=fp(D,O=>`${Math.round(O)}%`);R.useEffect(()=>{const O=b?0:.6;if(O===0){E.set(i),I.set(a),F.set(l!=null?l:0),D.set(d!=null?d:0);return}const $=[gp(E,i,{duration:O}),gp(I,a,{duration:O}),gp(F,l!=null?l:0,{duration:O}),gp(D,d!=null?d:0,{duration:O})];return()=>$.forEach(W=>W.stop())},[i,a,l,d,b]);const k=R.useRef(null);R.useEffect(()=>{if(b||!k.current)return;const O=k.current;let $=0,W=0;const H=()=>{W+=.016;const q=W*14%140-20;O.style.setProperty("--s-x",`${q}%`),$=requestAnimationFrame(H)};return $=requestAnimationFrame(H),()=>cancelAnimationFrame($)},[b]);const w={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},C=100,L=p?"a":"div",P=p?{href:p}:{onClick:g};return n.jsxs(L,{...P,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",v!=null?v:""].join(" "),style:{background:`linear-gradient(135deg, ${w.bgFrom}, ${w.bgTo})`},children:[n.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),n.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[n.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[s?n.jsx("img",{src:s,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):n.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:n.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),n.jsx("div",{ref:k,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),S&&n.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:w.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${w.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",S]}),n.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${C}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),n.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${C}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${C}deg, transparent 0 46px, ${w.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),n.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[n.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[n.jsx("h3",{className:"truncate font-extrabold",style:{color:w.title,fontSize:22},children:t}),n.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:w.soft,border:`1px solid ${w.border}`},children:e})]}),n.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[n.jsx(Sp,{label:"Members",value:A}),n.jsx(Sp,{label:" Level",value:y}),n.jsx(Sp,{label:"Total Power",value:j}),typeof d=="number"&&n.jsx(Sp,{label:"Activity (7d)",value:M})]}),u!=null&&u.length?n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:w.soft},children:"Top Classes"}),u.slice(0,3).map(O=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${w.border}`,color:w.text},children:[O.iconUrl?n.jsx("img",{src:O.iconUrl,alt:O.key,className:"h-4 w-4 object-contain"}):n.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:w.accent,opacity:.85}}),n.jsxs("span",{className:"text-xs",children:[O.key," ",n.jsxs("span",{className:"opacity-70",children:["(",Math.round(O.percent),"%)"]})]})]},O.key))]}):null]})]})]}),h!=null&&h.length?n.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${w.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:n.jsx(eQ,{items:h,muted:b,color:w.soft})}):null]})}function Sp({label:t,value:e}){return n.jsxs("div",{className:"relative z-10 min-w-0",children:[n.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),n.jsx(Z3.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function eQ({items:t,muted:e,color:s}){const r=R.useRef(null);return R.useEffect(()=>{if(e||!r.current)return;const i=r.current;let a=0,l=0;const d=()=>{a+=.016;const u=a*40%(i.scrollWidth+60);i.style.transform=`translateX(${-u}px)`,l=requestAnimationFrame(d)};return l=requestAnimationFrame(d),()=>cancelAnimationFrame(l)},[e]),n.jsx("div",{className:"overflow-hidden",children:n.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:s},children:t.concat(t).map((i,a)=>n.jsx("span",{className:"mx-6 text-xs align-middle",children:i},a))})})}const tQ="_wrap_q5gkc_53",sQ="_banner_q5gkc_59",nQ="_bannerRowTop_q5gkc_61",rQ="_bannerStripe_q5gkc_71",iQ="_bannerTitle_q5gkc_79",aQ="_bannerRowBottom_q5gkc_93",oQ="_bannerSub_q5gkc_95",lQ="_monthPickerWrap_q5gkc_101",cQ="_monthPickerLabel_q5gkc_113",dQ="_monthPicker_q5gkc_101",uQ="_monthButton_q5gkc_131",hQ="_monthButtonText_q5gkc_159",mQ="_chev_q5gkc_161",pQ="_monthList_q5gkc_165",fQ="_monthOption_q5gkc_195",gQ="_monthBadge_q5gkc_221",xQ="_gridRow_q5gkc_237",vQ="_gridRowBottom_q5gkc_239",yQ="_sideImage_q5gkc_253",bQ="_sideImagePh_q5gkc_271",_Q="_emblemPanel_q5gkc_275",wQ="_emblemFrame_q5gkc_295",jQ="_emblemImg_q5gkc_297",SQ="_emblemPlaceholder_q5gkc_299",NQ="_emblemShimmer_q5gkc_307",kQ="_emblemCaption_q5gkc_315",TQ="_card_q5gkc_319",CQ="_cardHeader_q5gkc_331",EQ="_cardTitle_q5gkc_339",AQ="_cardSubtitle_q5gkc_341",IQ="_headerRight_q5gkc_343",RQ="_cardBody_q5gkc_345",PQ="_tableWrap_q5gkc_349",LQ="_tableTitle_q5gkc_351",DQ="_table_q5gkc_349",MQ="_th_q5gkc_355",FQ="_td_q5gkc_355",BQ="_tdEmpty_q5gkc_365",$Q="_sectionDivider_q5gkc_375",OQ="_sectionStripe_q5gkc_389",VQ="_sectionTitle_q5gkc_397",lt={wrap:tQ,banner:sQ,bannerRowTop:nQ,bannerStripe:rQ,bannerTitle:iQ,bannerRowBottom:aQ,bannerSub:oQ,monthPickerWrap:lQ,monthPickerLabel:cQ,monthPicker:dQ,monthButton:uQ,monthButtonText:hQ,chev:mQ,monthList:pQ,monthOption:fQ,monthBadge:gQ,gridRow:xQ,gridRowBottom:vQ,sideImage:yQ,sideImagePh:bQ,emblemPanel:_Q,emblemFrame:wQ,emblemImg:jQ,emblemPlaceholder:SQ,emblemShimmer:NQ,emblemCaption:kQ,card:TQ,cardHeader:CQ,cardTitle:EQ,cardSubtitle:AQ,headerRight:IQ,cardBody:RQ,tableWrap:PQ,tableTitle:LQ,table:DQ,th:MQ,td:FQ,tdEmpty:BQ,sectionDivider:$Q,sectionStripe:OQ,sectionTitle:VQ};function UQ(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function tN(t,e="de-DE"){const s=new Date(t);return Number.isNaN(s.getTime())?"":s.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const sN=({title:t,subtitle:e,children:s,rightBadge:r})=>n.jsxs("section",{className:lt.card,children:[(t||e||r)&&n.jsxs("header",{className:lt.cardHeader,children:[n.jsxs("div",{className:lt.headerTitles,children:[t&&n.jsx("h3",{className:lt.cardTitle,children:t}),e&&n.jsx("div",{className:lt.cardSubtitle,children:e})]}),r&&n.jsx("div",{className:lt.headerRight,children:r})]}),n.jsx("div",{className:lt.cardBody,children:s})]}),nN=({block:t})=>{var r,i;const e=t.columns,s=(r=t.rows)!=null?r:[];return n.jsxs("div",{className:lt.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&n.jsx("div",{className:lt.tableTitle,children:t.title}),n.jsxs("table",{className:lt.table,children:[n.jsx("thead",{children:n.jsx("tr",{children:e.map(a=>n.jsx("th",{className:lt.th,style:{width:a.width},children:a.label},a.key))})}),n.jsx("tbody",{children:s.length===0?n.jsx("tr",{children:n.jsx("td",{className:lt.tdEmpty,colSpan:e.length,children:"No data"})}):s.map((a,l)=>{var d;return n.jsx("tr",{children:e.map(u=>{var v;const h=a[u.key],p=typeof h=="number"||typeof h=="string"?h:"",g=u.format==="num"?UQ(p):p;return n.jsx("td",{className:lt.td,"data-align":(v=u.align)!=null?v:"left",children:u.render?u.render(a):g},u.key)})},(d=a.id)!=null?d:l)})})]}),t.footer&&n.jsx("div",{className:lt.tableFooter,children:t.footer})]})},zQ=(t,e)=>{R.useEffect(()=>{function s(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[t,e])},HQ=({months:t,currentKey:e,onChange:s,fallbackDate:r})=>{var p;if(!(Array.isArray(t)&&t.length>0&&e))return n.jsx("div",{className:lt.bannerSub,children:r!=null?r:""});const a=R.useRef(null),[l,d]=R.useState(!1);zQ(a,()=>d(!1));const u=t.find(g=>g.key===e),h=u?`${tN(u.fromISO)}${tN(u.toISO)}  ${u.daysSpan}d${u.available?"":"  n/a"}`:void 0;return n.jsxs("div",{className:lt.monthPickerWrap,children:[n.jsx("div",{className:lt.monthPickerLabel,children:"Monat"}),n.jsxs("div",{className:lt.monthPicker,ref:a,children:[n.jsxs("button",{type:"button",className:lt.monthButton,onClick:()=>d(g=>!g),"aria-haspopup":"listbox","aria-expanded":l,children:[n.jsx("span",{className:lt.monthButtonText,children:(p=u==null?void 0:u.label)!=null?p:""}),n.jsx("svg",{className:lt.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),l&&n.jsx("ul",{className:lt.monthList,role:"listbox",children:t.map(g=>n.jsx("li",{children:n.jsx("button",{type:"button",className:lt.monthOption,onClick:()=>{d(!1),s==null||s(g.key)},role:"option","aria-selected":g.key===e,children:g.label})},g.key))})]}),h&&n.jsx("span",{className:lt.monthBadge,children:h})]})},GQ=({title:t,monthRange:e,months:s,currentMonthKey:r,onMonthChange:i})=>n.jsxs("div",{className:lt.banner,children:[n.jsxs("div",{className:lt.bannerRowTop,children:[n.jsx("div",{className:lt.bannerStripe}),n.jsx("div",{className:lt.bannerTitle,children:t}),n.jsx("div",{className:lt.bannerStripe})]}),n.jsx("div",{className:lt.bannerRowBottom,children:n.jsx(HQ,{months:s,currentKey:r,onChange:i,fallbackDate:e})})]}),WQ=({emblemUrl:t,caption:e})=>n.jsxs("div",{className:lt.emblemPanel,children:[n.jsxs("div",{className:lt.emblemFrame,children:[t?n.jsx("img",{src:t,alt:"Guild Emblem",className:lt.emblemImg}):n.jsx("div",{className:lt.emblemPlaceholder,children:"Emblem"}),n.jsx("div",{className:lt.emblemShimmer})]}),e&&n.jsx("div",{className:lt.emblemCaption,children:e})]}),rN=({imgUrl:t,alt:e})=>n.jsx("div",{className:lt.sideImage,children:t?n.jsx("img",{src:t,alt:e!=null?e:"side"}):n.jsx("div",{className:lt.sideImagePh,children:"Image"})}),Kv=({children:t,className:e})=>n.jsx("div",{className:`${lt.gridRow} ${e!=null?e:""}`,children:t}),qQ=({children:t})=>n.jsxs("div",{className:lt.sectionDivider,children:[n.jsx("div",{className:lt.sectionStripe}),n.jsx("div",{className:lt.sectionTitle,children:t}),n.jsx("div",{className:lt.sectionStripe})]}),KQ=({data:t,onMonthChange:e})=>{const{header:s,panels:r,tablesTop:i,tablesBottom:a}=t;return n.jsxs("div",{className:lt.wrap,children:[n.jsx(GQ,{title:s.title,monthRange:s.monthRange,months:s.months,currentMonthKey:s.currentMonthKey,onMonthChange:e}),n.jsxs(Kv,{children:[n.jsx(rN,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),n.jsx(WQ,{emblemUrl:s.emblemUrl,caption:s.centerCaption}),n.jsx(rN,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),n.jsx(Kv,{children:i.map((l,d)=>n.jsx(sN,{title:l.title,subtitle:l.subtitle,children:n.jsx(nN,{block:l})},d))}),n.jsx(qQ,{children:"Guild Overview"}),n.jsx(Kv,{className:lt.gridRowBottom,children:a.map((l,d)=>n.jsx(sN,{title:l.title,subtitle:l.subtitle,children:n.jsx(nN,{block:l})},d))})]})},QQ=({guildId:t,guildName:e,guildServer:s})=>{const[r,i]=R.useState(!0),[a,l]=R.useState(null),[d,u]=R.useState(void 0),h=R.useRef({}),[p,g]=R.useState(()=>Np(e,s));R.useEffect(()=>{let b=!1;async function S(){var E,I,F,D,A;i(!0);try{const y=fd(Mt,`guilds/${t}/history_monthly`),j=await fn(y),M=[];for(const C of j.docs){const L=C.id,P=C.data();if(!P)continue;h.current[L]=P;const O=(E=P==null?void 0:P.meta)!=null?E:{},$=O.fromISO||O.baselineISO||O.firstISO||"",W=O.toISO||O.latestISO||O.nowISO||"",H=Number((I=O.daysSpan)!=null?I:Math.floor((+new Date(W)-+new Date($))/864e5))||0,q=!!((D=(F=P==null?void 0:P.status)==null?void 0:F.available)!=null?D:$&&W&&H<=40),Q=O.label||new Date(L+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});M.push({key:L,label:Q,fromISO:$||new Date(L+"-01").toISOString(),toISO:W||new Date(L+"-28").toISOString(),daysSpan:H,available:q,reason:q||(A=P==null?void 0:P.status)==null?void 0:A.reason})}if(M.sort((C,L)=>C.key<L.key?1:-1),b)return;if(M.length===0){l(null),u(void 0),g(Np(e,s)),i(!1);return}l(M);const k=M[0].key;u(k);const w=h.current[k];g(iN(w,{guildName:e,guildServer:s,currentMonthKey:k,months:M}))}catch(y){console.error(y),l(null),u(void 0),g(Np(e,s))}finally{b||i(!1)}}return S(),()=>{b=!0}},[t,e,s]);async function v(b){u(b);let S=h.current[b];if(!S)try{const E=fs(Mt,`guilds/${t}/history_monthly/${b}`),I=await br(E);I.exists()?(S=I.data(),h.current[b]=S):S=null}catch(E){console.error(E),S=null}if(!S){g(Np(e,s,{currentMonthKey:b,months:a!=null?a:void 0}));return}g(iN(S,{guildName:e,guildServer:s,currentMonthKey:b,months:a!=null?a:void 0}))}return n.jsx(KQ,{data:p,onMonthChange:v})};function Np(t,e,s){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:ph(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:s==null?void 0:s.currentMonthKey,months:s==null?void 0:s.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[sl("Most Base Stats gained",e?`Server ${e}`:void 0),sl("Sum Base Stats"),sl("Highest Base Stats")],tablesBottom:[sl("Main & Con"),sl("Sum Base Stats"),sl("Highest Base Stats"),sl("Highest Total Stats")]}}function sl(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function iN(t,e){var l,d,u,h,p,g,v,b;(l=t==null?void 0:t.meta)!=null;const s={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:ph(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((S,E)=>{var I,F,D,A,y,j,M,k;return{id:(I=S.playerId)!=null?I:E,rank:E+1,name:(F=S.name)!=null?F:"-",level:(A=(D=S.levelLatest)!=null?D:S.level)!=null?A:null,base:(j=(y=S.baseLatest)!=null?y:S.base)!=null?j:null,delta:(k=(M=S.baseDelta)!=null?M:S.delta)!=null?k:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((u=t==null?void 0:t.sumBaseStats)!=null?u:[]).map((S,E)=>{var I,F,D,A,y,j,M;return{id:(I=S.playerId)!=null?I:E,rank:E+1,name:(F=S.name)!=null?F:"-",base:(D=S.base)!=null?D:null,stam:(y=(A=S.stamDelta)!=null?A:S.staminaDelta)!=null?y:null,sho:(M=(j=S.shoDelta)!=null?j:S.shootingDelta)!=null?M:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((h=t==null?void 0:t.highestBaseStats)!=null?h:[]).map((S,E)=>{var I,F,D,A,y;return{id:(I=S.playerId)!=null?I:E,rank:E+1,name:(F=S.name)!=null?F:"-",stats:(A=(D=S.stats)!=null?D:S.base)!=null?A:null,delta:(y=S.delta)!=null?y:null}})}],a=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.mainAndCon)!=null?p:[]).map((S,E)=>{var I,F,D,A,y,j;return{id:(I=S.playerId)!=null?I:E,rank:E+1,name:(F=S.name)!=null?F:"-",class:(A=(D=S.class)!=null?D:S.className)!=null?A:"",stats:(y=S.stats)!=null?y:null,delta:(j=S.delta)!=null?j:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((g=t==null?void 0:t.sumBaseStats)!=null?g:[]).map((S,E)=>{var I,F,D,A,y;return{id:(I=S.playerId)!=null?I:E,rank:E+1,name:(F=S.name)!=null?F:"-",base:(D=S.base)!=null?D:null,stam:(A=S.stamDelta)!=null?A:null,sho:(y=S.shoDelta)!=null?y:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((v=t==null?void 0:t.highestBaseStats)!=null?v:[]).map((S,E)=>{var I,F,D,A;return{id:(I=S.playerId)!=null?I:E,rank:E+1,name:(F=S.name)!=null?F:"-",stats:(D=S.stats)!=null?D:null,delta:(A=S.delta)!=null?A:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((b=t==null?void 0:t.highestTotalStats)!=null?b:[]).map((S,E)=>{var I,F,D,A;return{id:(I=S.playerId)!=null?I:E,rank:E+1,name:(F=S.name)!=null?F:"-",total:(D=S.total)!=null?D:null,delta:(A=S.delta)!=null?A:null}})}];return{header:s,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:a}}const XQ="_root_r1uj3_5",YQ="_sectionDivider_r1uj3_17",JQ="_sectionStripe_r1uj3_31",ZQ="_sectionTitle_r1uj3_33",du={root:XQ,sectionDivider:YQ,sectionStripe:JQ,sectionTitle:ZQ},eX="_root_4jywc_1",tX="_accent_4jywc_31",aN={root:eX,default:"_default_4jywc_29",accent:tX};function _o({text:t,tone:e="default",className:s}){return n.jsx("div",{className:`${aN.root} ${aN[e]} ${s!=null?s:""}`.trim(),children:t})}const kp=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function xE(t,e=64){if(!t)return;const s=kp(t);let r=Ws.find(i=>kp(i.label)===s);return r||(r=Ws.find(i=>kp(i.label).startsWith(s)||s.startsWith(kp(i.label)))),r?Vr(r.iconUrl,e):void 0}const sX="_card_vvv3s_3",nX="_wrap_vvv3s_31",rX="_divider_vvv3s_45",iX="_rows_vvv3s_77",aX="_row_vvv3s_77",oX="_left_vvv3s_109",lX="_label_vvv3s_111",cX="_avgHead_vvv3s_113",dX="_avgNum_vvv3s_115",uX="_top3_vvv3s_121",hX="_chip_vvv3s_123",mX="_badge_vvv3s_151",pX="_name_vvv3s_159",fX="_score_vvv3s_161",gX="_headerSpacer_vvv3s_167",$n={card:sX,wrap:nX,divider:rX,rows:iX,row:aX,left:oX,label:lX,avgHead:cX,avgNum:dX,top3:uX,chip:hX,badge:mX,name:pX,score:fX,headerSpacer:gX};function xX({name:t,value:e,classLabel:s,colors:r}){const i=xE(s,64);return n.jsxs("div",{className:$n.chip,children:[n.jsx("span",{className:$n.badge,children:i?n.jsx("img",{src:i,alt:""}):null}),n.jsx("span",{className:$n.name,children:t!=null?t:""}),n.jsx("span",{className:$n.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function vX({snapshot:t,colors:e,title:s="Base Stats"}){var l;const r=(l=t==null?void 0:t.members)!=null?l:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,h)=>{var p,g;return((p=h[d])!=null?p:0)-((g=u[d])!=null?g:0)}).slice(0,3),a=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return n.jsxs("div",{className:$n.card,children:[n.jsx(_o,{text:s}),n.jsx("div",{className:$n.headerSpacer}),n.jsxs("div",{className:$n.wrap,children:[n.jsx("div",{className:$n.divider}),n.jsx("div",{className:$n.rows,children:a.map((d,u)=>n.jsxs("div",{className:$n.row,children:[n.jsxs("div",{className:$n.left,children:[n.jsx("div",{className:$n.label,children:d.label}),n.jsx("div",{className:$n.avgHead,children:""}),n.jsx("div",{className:$n.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),n.jsx("div",{className:$n.top3,children:d.list.map((h,p)=>n.jsx(xX,{name:h.name,value:h[d.key],classLabel:h.class,colors:e},p))})]},u))})]})]})}const yX="_card_1enwc_1",bX="_wrap_1enwc_1",_X="_divider_1enwc_1",wX="_rows_1enwc_1",jX="_row_1enwc_1",SX="_left_1enwc_1",NX="_label_1enwc_1",kX="_avgHead_1enwc_1",TX="_avgNum_1enwc_1",CX="_top3_1enwc_1",EX="_chip_1enwc_1",AX="_badge_1enwc_1",IX="_name_1enwc_1",RX="_score_1enwc_1",PX="_headerSpacer_1enwc_1",On={card:yX,wrap:bX,divider:_X,rows:wX,row:jX,left:SX,label:NX,avgHead:kX,avgNum:TX,top3:CX,chip:EX,badge:AX,name:IX,score:RX,headerSpacer:PX};function LX({name:t,value:e,classLabel:s,colors:r}){const i=xE(s,64);return n.jsxs("div",{className:On.chip,children:[n.jsx("span",{className:On.badge,children:i?n.jsx("img",{src:i,alt:""}):null}),n.jsx("span",{className:On.name,children:t!=null?t:""}),n.jsx("span",{className:On.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function DX({snapshot:t,colors:e,title:s="Total Stats"}){var l;const r=(l=t==null?void 0:t.members)!=null?l:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,h)=>{var p,g;return((p=h[d])!=null?p:0)-((g=u[d])!=null?g:0)}).slice(0,3),a=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return n.jsxs("div",{className:On.card,children:[n.jsx(_o,{text:s}),n.jsx("div",{className:On.headerSpacer}),n.jsxs("div",{className:On.wrap,children:[n.jsx("div",{className:On.divider}),n.jsx("div",{className:On.rows,children:a.map((d,u)=>n.jsxs("div",{className:On.row,children:[n.jsxs("div",{className:On.left,children:[n.jsx("div",{className:On.label,children:d.label}),n.jsx("div",{className:On.avgHead,children:""}),n.jsx("div",{className:On.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),n.jsx("div",{className:On.top3,children:d.list.map((h,p)=>n.jsx(LX,{name:h.name,value:h[d.key],classLabel:h.class,colors:e},p))})]},u))})]})]})}function MX({guild:t,snapshot:e,colors:s}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(_o,{text:"General Info"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function FX({colors:t}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(_o,{text:"Fortress"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function BX({colors:t}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(_o,{text:"Rankings"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function $X({colors:t}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(_o,{text:"Serververgleich"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const OX=R.memo(function({guild:e,snapshot:s,emblemUrl:r,colors:i}){const a=i.icon,l=({text:d})=>n.jsxs("div",{className:du.sectionDivider,children:[n.jsx("div",{className:du.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}}),n.jsx("div",{className:du.sectionTitle,style:{color:i.soft},children:d}),n.jsx("div",{className:du.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}})]});return n.jsxs("div",{className:du.root+" space-y-4",children:[n.jsx(l,{text:"GUILD OVERVIEW"}),n.jsx("div",{style:{marginTop:6,marginBottom:10},children:n.jsx(l,{text:"AVERAGE PLAYER STATS"})}),n.jsx(MX,{guild:e,snapshot:s,colors:i}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[n.jsx(vX,{snapshot:s,colors:i}),n.jsx(DX,{snapshot:s,colors:i})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[n.jsx(FX,{colors:i}),n.jsx(BX,{colors:i})]}),n.jsx("div",{className:"mt-4",children:n.jsx($X,{colors:i})})]})}),VX="_wrapper_zqchq_3",UX="_grid_zqchq_9",zX="_tile_zqchq_13",HX="_disabled_zqchq_37",GX="_crestWrap_zqchq_41",WX="_crest_zqchq_41",qX="_ring_zqchq_53",KX="_badge_zqchq_55",QX="_meta_zqchq_67",XX="_nameRow_zqchq_69",YX="_name_zqchq_69",JX="_share_zqchq_73",ZX="_sub_zqchq_75",eY="_tileButton_zqchq_79",tY="_donutCard_zqchq_85",sY="_donutHeader_zqchq_87",nY="_legend_zqchq_91",rY="_legendItem_zqchq_93",iY="_legendSwatch_zqchq_95",aY="_legendRight_zqchq_97",oY="_centerLabel_zqchq_101",ps={wrapper:VX,grid:UX,tile:zX,disabled:HX,crestWrap:GX,crest:WX,ring:qX,badge:KX,meta:QX,nameRow:XX,name:YX,share:JX,sub:ZX,tileButton:eY,donutCard:tY,donutHeader:sY,legend:nY,legendItem:rY,legendSwatch:iY,legendRight:aY,centerLabel:oY},d0=56;function Rf(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function oN(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const lY=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function cY(t){return t?/drive\.google\.com/.test(t):!1}function lN(t,e=d0){if(t)return cY(t)?Vr(t,e):t}function dY(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const s={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return s[e]?s[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function uY(t){var p,g,v,b,S,E;if(!t)return null;const e=t,s=t,r=(p=e.key)!=null?p:s.id,i=(g=e.label)!=null?g:s.name,a=(b=(v=s.crestUrl)!=null?v:e.iconUrl)!=null?b:s.iconUrl,l=(S=e.iconUrl)!=null?S:s.iconUrl,d=(E=e.fallback)!=null?E:s.fallback;if(!r||!i)return null;const u=lN(a,d0),h=lN(l,d0);return{id:r,name:String(i),crestUrl:u||h,iconUrl:h||u,fallback:d?String(d):void 0}}function vE(t,e){var p,g,v,b,S,E,I,F,D,A,y,j,M,k,w,C,L,P,O,$,W;const s={},r={},i={},a={},l=e.map(H=>H.id);for(const H of l)s[H]=0,r[H]=0,i[H]=0,a[H]=null;for(const H of Array.isArray(t)?t:[]){const q=(j=(A=(F=(E=(b=(v=(g=(p=H.classId)!=null?p:H.class)!=null?g:H.klass)!=null?v:H.playerClass)!=null?b:H.cls)!=null?E:(S=H.values)==null?void 0:S.Class)!=null?F:(I=H.values)==null?void 0:I.class)!=null?A:(D=H.values)==null?void 0:D.Klasse)!=null?j:(y=H.values)==null?void 0:y.klasse,Q=dY(q);if(!Q||!l.includes(Q))continue;s[Q]+=1;const G=lY((C=(k=H.level)!=null?k:(M=H.values)==null?void 0:M.Level)!=null?C:(w=H.values)==null?void 0:w.level);G!=null&&(r[Q]+=G,i[Q]+=1,(!a[Q]||((P=(L=a[Q])==null?void 0:L.level)!=null?P:-1/0)<G)&&(a[Q]={id:H.id,name:(W=($=H.name)!=null?$:(O=H.values)==null?void 0:O.Name)!=null?W:null,level:G}))}const d=Object.values(s).reduce((H,q)=>H+q,0),u={},h={};return l.forEach(H=>{u[H]=d>0?s[H]/d*100:0,h[H]=i[H]>0?r[H]/i[H]:null}),{counts:s,shares:u,avg:h,top:a}}const hY=({valuePct:t})=>{const s=2*Math.PI*28,r=s*(1-Math.max(0,Math.min(100,t))/100);return n.jsxs("svg",{className:ps.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[n.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),n.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:s,strokeDashoffset:r,strokeLinecap:"round"})]})},mY=({data:t,classMeta:e,onPickClass:s})=>{const[r,i]=R.useState({}),a=Array.isArray(t)?t:[],l=Array.isArray(e)?e:[],{counts:d,shares:u,avg:h,top:p}=R.useMemo(()=>vE(a,l),[a,l]);return n.jsx("section",{className:ps.wrapper,children:n.jsx("div",{className:ps.grid,style:{gridTemplateColumns:"1fr"},children:l.map(g=>{var D,A,y;const v=(D=d[g.id])!=null?D:0,b=(A=u[g.id])!=null?A:0,S=h[g.id],E=p[g.id],I=v<=0,F=r[g.id]?void 0:g.crestUrl||g.iconUrl;return n.jsxs("div",{className:`${ps.tile} ${I?ps.disabled:""}`,title:I?`${g.name}: kein Mitglied`:`${g.name}  ${oN(v)}  ${Rf(b)}${S?`   ${S.toFixed(1)}`:""}`,children:[n.jsxs("div",{className:ps.crestWrap,children:[F?n.jsx("img",{className:ps.crest,src:F,alt:g.name,onError:()=>i(j=>({...j,[g.id]:!0}))}):n.jsx("div",{className:ps.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(y=g.fallback)!=null?y:""}),n.jsx(hY,{valuePct:b}),n.jsx("div",{className:ps.badge,children:oN(v)})]}),n.jsxs("div",{className:ps.meta,children:[n.jsxs("div",{className:ps.nameRow,children:[n.jsx("div",{className:ps.name,children:g.name}),n.jsx("div",{className:ps.share,children:Rf(b)})]}),n.jsxs("div",{className:ps.sub,children:[S?` Lvl ${S.toFixed(1)}`:"",E?`  Top: ${E.name}${E.level?` (Lv ${E.level})`:""}`:""]})]}),!I&&s&&n.jsx("button",{className:ps.tileButton,onClick:()=>s(g.id),"aria-label":`${g.name} filtern`})]},g.id)})})})},pY=({data:t,classMeta:e})=>{const s=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:a}=R.useMemo(()=>vE(s,r),[s,r]),l=R.useMemo(()=>Object.values(a).reduce((d,u)=>d+u,0),[a]);return n.jsxs("div",{className:ps.donutCard,children:[n.jsxs("div",{className:ps.donutHeader,children:[n.jsx("div",{children:"Klassen-Verteilung"}),n.jsxs("div",{className:ps.legendRight,children:["Gesamt: ",l]})]}),n.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[n.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[n.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const g=Math.PI*2,v=r.map((S,E)=>{var I;return{id:S.id,pct:(I=i[S.id])!=null?I:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*E)} 60% 55%)`}});let b=0;return v.map(S=>{const E=(S.pct||0)/100;if(E<=0)return null;const I=b,F=b+g*E;b=F;const D=F-I>Math.PI?1:0,A=130+100*Math.cos(I),y=130+100*Math.sin(I),j=130+100*Math.cos(F),M=130+100*Math.sin(F),k=130+64*Math.cos(F),w=130+64*Math.sin(F),C=130+64*Math.cos(I),L=130+64*Math.sin(I),P=`M ${A} ${y} A 100 100 0 ${D} 1 ${j} ${M} L ${k} ${w} A 64 64 0 ${D} 0 ${C} ${L} Z`;return n.jsx("path",{d:P,fill:S.color,opacity:.95},S.id)})})()]}),n.jsx("div",{className:ps.legend,children:r.map((d,u)=>{var g,v;const h=(g=i[d.id])!=null?g:0,p=(v=a[d.id])!=null?v:0;return n.jsxs("div",{className:ps.legendItem,title:`${d.name}: ${p}  ${Rf(h)}`,children:[n.jsx("span",{className:ps.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*u)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),n.jsx("span",{children:d.name}),n.jsxs("span",{className:ps.legendRight,children:[p,"  ",Rf(h)]})]},d.id)})})]}),n.jsx("div",{className:ps.centerLabel,children:"Anteile je Klasse"})]})},Fs={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},fY=t=>{var e,s,r,i,a,l,d,u,h,p,g,v,b,S,E;return{id:t.id,name:(e=t.name)!=null?e:"Unknown",class:(s=t.class)!=null?s:"Unknown",role:(r=t.role)!=null?r:"Unknown",level:(i=t.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(a=t.lastActivityMs)!=null?a:null,server:null,baseStats:{main:(l=t.baseMain)!=null?l:void 0,con:(d=t.conBase)!=null?d:void 0,sumBaseTotal:(u=t.sumBaseTotal)!=null?u:void 0},totalStats:(h=t.totalStats)!=null?h:void 0,values:{treasury:(p=t.treasury)!=null?p:void 0,mine:(g=t.mine)!=null?g:void 0,attrTotal:(v=t.attrTotal)!=null?v:void 0,conTotal:(b=t.conTotal)!=null?b:void 0,lastScan:(S=t.lastScan)!=null?S:void 0,lastActivity:(E=t.lastActivity)!=null?E:void 0}}},Qv=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},gY=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function yE({title:t,right:e,children:s}){return n.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:Fs.tile,border:`1px solid ${Fs.line}`},children:[(t||e)&&n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:Fs.line},children:[n.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:Fs.soft},children:t}),e]}),n.jsx("div",{className:"p-4",children:s})]})}function uu({k:t,v:e}){return n.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[n.jsx("span",{className:"opacity-80",children:t}),n.jsx("span",{className:"font-semibold",style:{color:Fs.title},children:e})]})}function xY({guild:t}){var s,r;const e=ph(t.name,800);return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:n.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?n.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):n.jsx("div",{className:"text-6xl",children:""})})}),n.jsx(yE,{title:"GILDEN INFO",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsx(uu,{k:"Mitglieder",v:(s=t.memberCount)!=null?s:""}),n.jsx(uu,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),n.jsx(uu,{k:"Server",v:(r=t.server)!=null?r:""}),n.jsx(uu,{k:"Inaktiv",v:"0"}),n.jsx(uu,{k:"Aktivitt",v:"100%"})]})})]})}function Xv(){var I,F,D,A,y,j;const t=zf(),e=t.id||t.gid||t.guildId||t.guild||"",s=Or(),[r,i]=R.useState(!0),[a,l]=R.useState(null),[d,u]=R.useState(null),[h,p]=R.useState(null),[g,v]=R.useState("grid"),b=R.useMemo(()=>(Array.isArray(Ws)?Ws:[]).map(uY).filter(Boolean),[]);R.useEffect(()=>{let M=!1;async function k(){var w,C,L,P,O,$,W,H,q,Q,G,J,ne,z,ee,ce,te,fe,Ce,ge,Te,ke,ue,Le,Ae,et,pt,Jt,Ts,Cs,bn,Os,Es,As,qs,Is,sn;i(!0),l(null);try{const rs=e.trim();if(!rs){l("Keine Gilde gewhlt."),i(!1);return}const Se=fs(Mt,`guilds/${rs}/latest/latest`),Ke=await br(Se);if(!Ke.exists()){l("Gilde nicht gefunden."),i(!1);return}const Oe=Ke.data(),Tt=(L=(C=Oe.name)!=null?C:(w=Oe.values)==null?void 0:w.Name)!=null?L:rs,Zt=($=(O=Oe.server)!=null?O:(P=Oe.values)==null?void 0:P.Server)!=null?$:null,Ut=(G=Qv((Q=(H=Oe.memberCount)!=null?H:(W=Oe.values)==null?void 0:W["Guild Member Count"])!=null?Q:(q=Oe.values)==null?void 0:q.GuildMemberCount))!=null?G:null,$t=(ge=Qv((Ce=(te=(ee=(ne=Oe.hofRank)!=null?ne:(J=Oe.values)==null?void 0:J["Hall of Fame Rank"])!=null?ee:(z=Oe.values)==null?void 0:z.HoF)!=null?te:(ce=Oe.values)==null?void 0:ce.Rank)!=null?Ce:(fe=Oe.values)==null?void 0:fe["Guild Rank"]))!=null?ge:null,In=gY(Qv(Oe.timestamp));M||u({id:rs,name:Tt,server:Zt,memberCount:Ut,hofRank:$t,lastScanDays:In});const mi=fs(Mt,`guilds/${rs}/snapshots/members_summary`),zr=await br(mi);if(zr.exists()&&!M){const es=zr.data(),wr={guildId:String((Te=es.guildId)!=null?Te:rs),updatedAt:String((Le=(ue=es.updatedAt)!=null?ue:(ke=Oe.values)==null?void 0:ke.Timestamp)!=null?Le:""),updatedAtMs:Number((et=(Ae=es.updatedAtMs)!=null?Ae:Oe.timestamp*1e3)!=null?et:0),count:Number((pt=es.count)!=null?pt:0),hash:String((Jt=es.hash)!=null?Jt:""),avgLevel:(Ts=es.avgLevel)!=null?Ts:null,avgTreasury:(Cs=es.avgTreasury)!=null?Cs:null,avgMine:(bn=es.avgMine)!=null?bn:null,avgBaseMain:(Os=es.avgBaseMain)!=null?Os:null,avgConBase:(Es=es.avgConBase)!=null?Es:null,avgSumBaseTotal:(As=es.avgSumBaseTotal)!=null?As:null,avgAttrTotal:(qs=es.avgAttrTotal)!=null?qs:null,avgConTotal:(Is=es.avgConTotal)!=null?Is:null,avgTotalStats:(sn=es.avgTotalStats)!=null?sn:null,members:Array.isArray(es.members)?es.members:[]};p(wr)}}catch(rs){M||l((rs==null?void 0:rs.message)||"Fehler beim Laden.")}finally{M||i(!1)}}return k(),()=>{M=!0}},[e]);const S=R.useMemo(()=>{var M;return((M=h==null?void 0:h.members)!=null?M:[]).map(k=>fY(k))},[h]);if(r)return n.jsx(wt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:n.jsx("div",{className:"text-sm",style:{color:Fs.soft},children:"Lade Gildenprofil"})});if(!d)return n.jsx(wt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:n.jsxs("div",{className:"text-sm",style:{color:Fs.soft},children:[a!=null?a:"Unbekannter Fehler.",n.jsx("div",{className:"mt-3",children:n.jsx("button",{onClick:()=>s("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const E=n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"px-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${Fs.line}`,position:"relative",zIndex:2},children:[n.jsx("div",{className:"min-w-[120px]",children:n.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:Fs.tile,border:`1px solid ${Fs.line}`,color:Fs.title},children:(I=d.server)!=null?I:"S?.EU"})}),n.jsx("div",{className:"flex-1 text-center",children:n.jsx("div",{className:"font-extrabold",style:{color:Fs.title,fontSize:26,lineHeight:1.15},children:d.name})}),n.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:Fs.soft},children:["Zuletzt aktualisiert:",h!=null&&h.updatedAt?h.updatedAt:""," ",n.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),n.jsx("div",{style:{height:1,background:Fs.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return n.jsxs(wt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[E,n.jsx("div",{className:"px-6 pb-8",children:n.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[n.jsx("div",{className:"col-span-12 md:col-span-3",children:n.jsx(xY,{guild:d})}),n.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[n.jsx(OX,{guild:d,snapshot:h,emblemUrl:ph(d.name,512)||void 0,colors:Fs}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-full max-w-[980px]",children:n.jsx(ZK,{guildName:d.name,server:(F=d.server)!=null?F:"",emblemUrl:ph(d.name,512)||void 0,lastScanISO:h!=null&&h.updatedAtMs?new Date(h.updatedAtMs).toISOString():void 0,members:(D=d.memberCount)!=null?D:0,avgLevel:(A=h==null?void 0:h.avgLevel)!=null?A:0,totalPower:(y=h==null?void 0:h.avgTotalStats)!=null?y:void 0,tickerItems:h!=null&&h.updatedAt?[`Updated ${h.updatedAt}`,`Members ${(j=d.memberCount)!=null?j:0}`]:void 0})})}),n.jsx(vY,{members:S,guildId:d.id,guildName:d.name,guildServer:d.server})]}),n.jsxs("div",{className:"col-span-12 md:col-span-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("button",{onClick:()=>v("grid"),"aria-label":"Klassenbersicht",children:n.jsx(_o,{text:"Klassenbersicht",tone:g==="grid"?"accent":"default"})}),n.jsx("button",{onClick:()=>v("donut"),"aria-label":"Klassenverteilung",children:n.jsx(_o,{text:"Klassenverteilung",tone:g==="donut"?"accent":"default"})})]}),g==="grid"?n.jsx(mY,{data:S,classMeta:b,onPickClass:M=>{const k=new URL(window.location.href);k.searchParams.set("tab","bersicht"),k.searchParams.set("class",M),window.location.href=k.toString()}}):n.jsx(pY,{data:S,classMeta:b})]})]})})]})}function vY({members:t,guildId:e,guildName:s,guildServer:r}){const[i,a]=R.useState("bersicht");return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:Fs.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(l=>{const d=l===i;return n.jsx("button",{role:"tab","aria-selected":d,onClick:()=>a(l),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?Fs.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:Fs.title},children:l},l)})}),n.jsxs(yE,{children:[i==="bersicht"&&n.jsx(JK,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&n.jsxs("div",{className:"text-sm",style:{color:Fs.soft},children:["Platzhalter ",n.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&n.jsx(QQ,{guildId:e,guildName:s,guildServer:r}),i==="Historie"&&n.jsxs("div",{className:"text-sm",style:{color:Fs.soft},children:["Platzhalter ",n.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function yY(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Servers"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(cN,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),n.jsx(cN,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function cN({to:t,title:e,desc:s}){return n.jsxs(zt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function bY(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Servers  Rankings"}),n.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function _Y(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Servers  Stats"}),n.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const Js={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function dN({children:t,style:e}){return n.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function wY({size:t=36}){return n.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:n.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function wc({label:t,value:e}){return n.jsxs("div",{style:{background:Js.tileAlt,border:`1px solid ${Js.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[n.jsx("div",{style:{fontSize:12,color:Js.textSoft,marginBottom:4},children:t}),n.jsx("div",{style:{fontSize:22,color:Js.title,fontWeight:700},children:e})]})}function jY(t){const e=t.trim(),s=e.toUpperCase(),r=e.toLowerCase(),i=s.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),a=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let l="";const d=s.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const u=d[1],h=String(parseInt(d[2],10)),p=u==="EU"?"eu":u==="US"?"us":u==="AM"?"net":u.toLowerCase();l=`s${h}.sfgame.${p}`}return Array.from(new Set([e,s,r,i,a,l].filter(Boolean)))}function Yv(){var E,I,F,D;const t=zf(),e=Or(),s=ir(),r=t.id||t.sid||t.serverId||t.server||"",[i,a]=R.useState(!0),[l,d]=R.useState(null),[u,h]=R.useState(null),[p,g]=R.useState(null);R.useEffect(()=>{let A=!1;async function y(){a(!0),d(null),h(null),g(null);try{const j=r.trim();if(!j)throw new Error("Kein Server gewhlt.");const M=fs(Mt,`servers/${j}`),k=await br(M);if(k.exists()){A||(h(k.id),g(k.data()));return}const w=fd(Mt,"servers"),C=jY(j),L=[];for(const W of C)L.push(fn(Un(w,gl("code","==",W),zn(1)))),L.push(fn(Un(w,gl("displayName","==",W),zn(1)))),L.push(fn(Un(w,gl("host","==",W),zn(1))));const P=await Promise.allSettled(L);let O=null,$=null;for(const W of P){if(W.status!=="fulfilled")continue;const H=W.value;if(!H.empty){const q=H.docs[0];O=q.id,$=q.data();break}}if(!O||!$)throw new Error("Server nicht gefunden.");A||(h(O),g($),O!==j&&e(`/server/${encodeURIComponent(O)}`,{replace:!0,state:{from:s.pathname}}))}catch(j){A||d((j==null?void 0:j.message)||"Fehler beim Laden.")}finally{A||a(!1)}}return y(),()=>{A=!0}},[r,e,s.pathname]);const v=R.useMemo(()=>n.jsxs("div",{style:{padding:24,color:Js.textSoft},children:[l!=null?l:"Unbekannter Fehler.",n.jsx("div",{style:{marginTop:12},children:n.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:Js.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,e]);if(i)return n.jsx(wt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:n.jsx("div",{style:{padding:16,color:Js.textSoft},children:"Lade Serverprofil"})});if(!p)return n.jsx(wt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:v});const b=p.displayName||p.code||u||r,S=p.active===!0?"Aktiv":p.active===!1?"Inaktiv":"";return n.jsxs(wt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[n.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${Js.line}`},children:n.jsxs(dN,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[n.jsx(wY,{size:36}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:18,color:Js.title,fontWeight:700},children:b}),n.jsxs("div",{style:{fontSize:12,color:Js.textSoft},children:[p.host||"","  ",p.region||"","  ",((E=p.type)==null?void 0:E.toUpperCase())||""]})]})]})}),n.jsxs(dN,{style:{paddingTop:12,paddingBottom:24},children:[n.jsxs("div",{style:{background:Js.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${Js.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:0,color:Js.title,fontSize:24,fontWeight:800},children:b}),n.jsxs("div",{style:{marginTop:6,color:Js.textSoft,fontSize:13},children:[p.host||"","  ",p.region||"","  ",((I=p.type)==null?void 0:I.toUpperCase())||""]})]}),n.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[n.jsxs("span",{style:{color:Js.textSoft},children:["Status: ",S]}),n.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:p.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[n.jsx(wc,{label:"Code",value:p.code||""}),n.jsx(wc,{label:"Host",value:p.host||""}),n.jsx(wc,{label:"Region",value:p.region||""}),n.jsx(wc,{label:"Typ",value:((F=p.type)==null?void 0:F.toUpperCase())||""}),n.jsx(wc,{label:"Numeric ID",value:(D=p.numericId)!=null?D:""}),n.jsx(wc,{label:"Status",value:S})]}),n.jsxs("div",{style:{marginTop:16,background:Js.tileAlt,padding:15,borderRadius:12,border:`1px solid ${Js.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:Js.textSoft},children:["Platzhalter ",n.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const SY="_page_177kv_1",NY="_sectionCard_177kv_15",kY="_identityCard_177kv_29",TY="_identityGrid_177kv_39",CY="_profileName_177kv_63",EY="_identityMeta_177kv_77",AY="_mainCharacter_177kv_95",IY="_characterHeader_177kv_117",RY="_characterTitle_177kv_131",PY="_characterSubtitle_177kv_143",LY="_classIcon_177kv_153",DY="_metaGrid_177kv_181",MY="_metaLabel_177kv_193",FY="_metaValue_177kv_207",BY="_portrait_177kv_217",$Y="_sectionHeader_177kv_245",OY="_sectionHint_177kv_265",VY="_bioText_177kv_275",UY="_tagGroups_177kv_295",zY="_tagGroupLabel_177kv_309",HY="_tagList_177kv_323",GY="_tag_177kv_295",WY="_showcaseGrid_177kv_353",qY="_characterCard_177kv_365",KY="_characterCardHeader_177kv_385",QY="_characterName_177kv_399",XY="_badge_177kv_411",YY="_characterMeta_177kv_433",JY="_characterStats_177kv_449",ZY="_statGrid_177kv_465",eJ="_statTile_177kv_477",tJ="_statLabel_177kv_491",sJ="_statValue_177kv_505",nJ="_statSubtext_177kv_519",rJ="_emptyState_177kv_531",iJ="_recordsHighlights_177kv_551",aJ="_highlightCard_177kv_565",oJ="_recordType_177kv_579",lJ="_recordTitle_177kv_593",cJ="_timeline_177kv_607",dJ="_timelineItem_177kv_625",uJ="_timelineBullet_177kv_635",hJ="_timelineContent_177kv_653",mJ="_timelineTitle_177kv_661",pJ="_timelineMeta_177kv_673",fJ="_achievementsHighlights_177kv_685",gJ="_achievementCard_177kv_699",xJ="_achievementIcon_177kv_723",vJ="_achievementName_177kv_747",yJ="_achievementDesc_177kv_759",bJ="_achievementTier_177kv_771",_J="_achievementDate_177kv_785",wJ="_achievementsGrid_177kv_795",jJ="_achievementBadge_177kv_807",SJ="_tierGold_177kv_831",NJ="_tierSilver_177kv_839",kJ="_tierBronze_177kv_847",Ie={page:SY,sectionCard:NY,identityCard:kY,identityGrid:TY,profileName:CY,identityMeta:EY,mainCharacter:AY,characterHeader:IY,characterTitle:RY,characterSubtitle:PY,classIcon:LY,metaGrid:DY,metaLabel:MY,metaValue:FY,portrait:BY,sectionHeader:$Y,sectionHint:OY,bioText:VY,tagGroups:UY,tagGroupLabel:zY,tagList:HY,tag:GY,showcaseGrid:WY,characterCard:qY,characterCardHeader:KY,characterName:QY,badge:XY,characterMeta:YY,characterStats:JY,statGrid:ZY,statTile:eJ,statLabel:tJ,statValue:sJ,statSubtext:nJ,emptyState:rJ,recordsHighlights:iJ,highlightCard:aJ,recordType:oJ,recordTitle:lJ,timeline:cJ,timelineItem:dJ,timelineBullet:uJ,timelineContent:hJ,timelineTitle:mJ,timelineMeta:pJ,achievementsHighlights:fJ,achievementCard:gJ,achievementIcon:xJ,achievementName:vJ,achievementDesc:yJ,achievementTier:bJ,achievementDate:_J,achievementsGrid:wJ,achievementBadge:jJ,tierGold:SJ,tierSilver:NJ,tierBronze:kJ},TJ={profileUser:{displayName:"Aurora Drake",languages:["en","de"],roles:["guildleader","tryhard"]},mainCharacter:{name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",lastScanAt:"2025-11-18T21:14:00.000Z"},bio:"Veteran guild leader focused on high-end fusion planning and experimental scrapbook routes. Available for collabs, raid clinics, and panel talks about SF scanning culture.",showcaseCharacters:[{id:"c1",name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",tag:"main",scrapbookPercent:92,highlightProgress:"Fortress 17"},{id:"c2",name:"Stardiver",class:"Scout",level:223,server:"S17  Blackwater",guildName:"Vault Seven",tag:"alt",scrapbookPercent:81,highlightProgress:"Dungeon 12"},{id:"c3",name:"Archivist Aria",class:"Warrior",level:210,server:"S09  Emerald Peak",guildName:"Heritage Keepers",tag:"archive",scrapbookPercent:68,highlightProgress:"Event Trophy 24"},{id:"c4",name:"Flux Operative",class:"Assassin",level:198,server:"S77  Quantum Vale",guildName:"Pulse Collective",tag:"event",scrapbookPercent:74,highlightProgress:"Festival Rank A"}],scanStats:{totalScans:1428,uniquePlayersScanned:613,uniqueGuildsScanned:108,scansLast30d:74,topServers:["S51 Neverwinter","S17 Blackwater","S77 Quantum Vale"],firstScanAt:"2022-07-12T10:00:00.000Z"},recordsAndMilestones:[{id:"r1",type:"record",title:"Fastest double fusion hand-in",when:"2024-05-09T00:00:00.000Z",context:"Guild Week  Starfall Syndicate"},{id:"r2",type:"record",title:"Scrapbook mentor program launched",when:"2023-11-14T00:00:00.000Z",context:"Community Scan Clinic"},{id:"r3",type:"milestone",title:"1000 scans uploaded",when:"2023-05-07T00:00:00.000Z",context:"SFDataHub milestone"},{id:"r4",type:"milestone",title:"Guest host at SF Magazine Live",when:"2022-10-19T00:00:00.000Z",context:"SFTV Stage"}],achievements:[{id:"a1",nameKey:"achievements.legendaryScout.name",descriptionKey:"achievements.legendaryScout.description",tier:"gold",unlockedAt:"2024-06-21T00:00:00.000Z"},{id:"a2",nameKey:"achievements.scanCoach.name",descriptionKey:"achievements.scanCoach.description",tier:"silver",unlockedAt:"2023-12-02T00:00:00.000Z"},{id:"a3",nameKey:"achievements.guildPulse.name",descriptionKey:"achievements.guildPulse.description",tier:"silver",unlockedAt:"2023-04-17T00:00:00.000Z"},{id:"a4",nameKey:"achievements.veteranArchivist.name",descriptionKey:"achievements.veteranArchivist.description",tier:"bronze",unlockedAt:"2022-12-28T00:00:00.000Z"},{id:"a5",nameKey:"achievements.eventStrategist.name",descriptionKey:"achievements.eventStrategist.description",tier:"bronze"}]},CJ=1e3*60*60*24,uN={gold:3,silver:2,bronze:1};function EJ(t){const e=new Date(t).getTime();if(Number.isNaN(e))return null;const s=Date.now()-e;return s<0?0:Math.floor(s/CJ)}function Tp(t){const e=new Date(t);return Number.isNaN(e.getTime())?rt("profile.public.identity.dateUnknown"):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}function AJ(){const{profileId:t}=zf(),e=TJ,s=EJ(e.mainCharacter.lastScanAt),r=new Intl.NumberFormat,i=e.recordsAndMilestones.filter(p=>p.type==="record").slice(0,3),a=[...e.achievements].sort((p,g)=>uN[g.tier]-uN[p.tier]).slice(0,3),l=[{label:rt("profile.public.stats.totalScans"),value:r.format(e.scanStats.totalScans)},{label:rt("profile.public.stats.uniquePlayers"),value:r.format(e.scanStats.uniquePlayersScanned)},{label:rt("profile.public.stats.uniqueGuilds"),value:r.format(e.scanStats.uniqueGuildsScanned)},{label:rt("profile.public.stats.last30d"),value:r.format(e.scanStats.scansLast30d)}],d=s==null?rt("profile.public.identity.dateUnknown"):s===0?rt("profile.public.identity.lastScanToday"):`${s} ${rt("profile.public.identity.daysAgoSuffix")}`,u=rt("profile.public.identity.portraitPlaceholder"),h=e.scanStats.topServers.length>0?e.scanStats.topServers.join(", "):rt("profile.public.identity.unknownValue");return n.jsx(wt,{title:rt("profile.public.title"),subtitle:rt("profile.public.subtitle"),centerFramed:!1,padded:!0,children:n.jsxs("div",{className:Ie.page,children:[n.jsx("section",{className:`${Ie.sectionCard} ${Ie.identityCard}`,children:n.jsxs("div",{className:Ie.identityGrid,children:[n.jsxs("div",{children:[n.jsx("h1",{className:Ie.profileName,children:e.profileUser.displayName}),n.jsxs("div",{className:Ie.identityMeta,children:[n.jsxs("span",{children:[rt("profile.public.identity.profileIdLabel"),": ",t!=null?t:rt("profile.public.identity.unknownValue")]}),n.jsxs("span",{children:[rt("profile.public.identity.lastScanLabel"),": ",d]})]}),n.jsxs("article",{className:Ie.mainCharacter,children:[n.jsxs("div",{className:Ie.characterHeader,children:[n.jsxs("div",{children:[n.jsx("div",{className:Ie.metaLabel,children:rt("profile.public.identity.mainCharacterLabel")}),n.jsx("div",{className:Ie.characterTitle,children:e.mainCharacter.name}),n.jsxs("div",{className:Ie.characterSubtitle,children:[e.mainCharacter.class,"  ",rt("profile.public.identity.levelShort")," ",e.mainCharacter.level]})]}),n.jsx("div",{className:Ie.classIcon,children:e.mainCharacter.class.charAt(0)})]}),n.jsxs("div",{className:Ie.metaGrid,children:[n.jsxs("div",{children:[n.jsx("div",{className:Ie.metaLabel,children:rt("profile.public.identity.serverLabel")}),n.jsx("div",{className:Ie.metaValue,children:e.mainCharacter.server})]}),n.jsxs("div",{children:[n.jsx("div",{className:Ie.metaLabel,children:rt("profile.public.identity.guildLabel")}),n.jsx("div",{className:Ie.metaValue,children:e.mainCharacter.guildName})]})]})]})]}),n.jsx("div",{className:Ie.portrait,children:u})]})}),n.jsxs("section",{className:Ie.sectionCard,children:[n.jsx("div",{className:Ie.sectionHeader,children:n.jsx("span",{children:rt("profile.public.bio.title")})}),n.jsx("p",{className:Ie.bioText,children:e.bio}),n.jsxs("div",{className:Ie.tagGroups,children:[n.jsxs("div",{children:[n.jsx("div",{className:Ie.tagGroupLabel,children:rt("profile.public.bio.languagesLabel")}),n.jsx("div",{className:Ie.tagList,children:e.profileUser.languages.length>0?e.profileUser.languages.map(p=>n.jsx("span",{className:Ie.tag,children:p.toUpperCase()},p)):n.jsx("span",{className:Ie.tag,children:rt("profile.public.identity.unknownValue")})})]}),n.jsxs("div",{children:[n.jsx("div",{className:Ie.tagGroupLabel,children:rt("profile.public.bio.rolesLabel")}),n.jsx("div",{className:Ie.tagList,children:e.profileUser.roles.length>0?e.profileUser.roles.map(p=>n.jsx("span",{className:Ie.tag,children:rt(`profile.public.roles.${p}`)},p)):n.jsx("span",{className:Ie.tag,children:rt("profile.public.identity.unknownValue")})})]})]})]}),n.jsxs("section",{className:Ie.sectionCard,children:[n.jsxs("div",{className:Ie.sectionHeader,children:[n.jsx("span",{children:rt("profile.public.showcase.title")}),n.jsx("span",{className:Ie.sectionHint,children:rt("profile.public.showcase.subtitle")})]}),e.showcaseCharacters.length===0?n.jsx("div",{className:Ie.emptyState,children:rt("profile.public.showcase.empty")}):n.jsx("div",{className:Ie.showcaseGrid,children:e.showcaseCharacters.map(p=>n.jsxs("article",{className:Ie.characterCard,children:[n.jsxs("div",{className:Ie.characterCardHeader,children:[n.jsxs("div",{children:[n.jsx("div",{className:Ie.characterName,children:p.name}),n.jsxs("div",{className:Ie.characterMeta,children:[n.jsx("span",{children:p.class}),n.jsxs("span",{children:[rt("profile.public.identity.levelShort")," ",p.level]})]})]}),n.jsx("span",{className:Ie.badge,children:rt(`profile.public.showcase.tags.${p.tag}`)})]}),n.jsxs("div",{className:Ie.characterMeta,children:[n.jsx("span",{children:p.server}),n.jsx("span",{children:p.guildName})]}),n.jsxs("div",{className:Ie.characterStats,children:[n.jsxs("span",{children:[rt("profile.public.showcase.scrapbookLabel")," ",p.scrapbookPercent,"%"]}),n.jsxs("span",{children:[rt("profile.public.showcase.highlightLabel"),": ",p.highlightProgress]})]})]},p.id))})]}),n.jsxs("section",{className:Ie.sectionCard,children:[n.jsx("div",{className:Ie.sectionHeader,children:n.jsx("span",{children:rt("profile.public.stats.title")})}),n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Ie.statGrid,children:l.map(p=>n.jsxs("article",{className:Ie.statTile,children:[n.jsx("div",{className:Ie.statLabel,children:p.label}),n.jsx("div",{className:Ie.statValue,children:p.value})]},p.label))}),n.jsxs("div",{className:Ie.statSubtext,children:[rt("profile.public.stats.topServersLabel"),": ",h]}),n.jsxs("div",{className:Ie.statSubtext,children:[rt("profile.public.stats.firstScanLabel"),": ",Tp(e.scanStats.firstScanAt)]})]})]}),n.jsxs("section",{className:Ie.sectionCard,children:[n.jsx("div",{className:Ie.sectionHeader,children:n.jsx("span",{children:rt("profile.public.records.title")})}),e.recordsAndMilestones.length===0?n.jsx("div",{className:Ie.emptyState,children:rt("profile.public.records.empty")}):n.jsxs(n.Fragment,{children:[i.length>0&&n.jsx("div",{className:Ie.recordsHighlights,children:i.map(p=>n.jsxs("article",{className:Ie.highlightCard,children:[n.jsx("div",{className:Ie.recordType,children:rt(`profile.public.records.type.${p.type}`)}),n.jsx("div",{className:Ie.recordTitle,children:p.title}),n.jsxs("div",{className:Ie.timelineMeta,children:[Tp(p.when),"  ",p.context]})]},p.id))}),n.jsx("ul",{className:Ie.timeline,children:e.recordsAndMilestones.map(p=>n.jsxs("li",{className:Ie.timelineItem,children:[n.jsx("div",{className:Ie.timelineBullet}),n.jsxs("div",{className:Ie.timelineContent,children:[n.jsx("div",{className:Ie.timelineTitle,children:p.title}),n.jsxs("div",{className:Ie.timelineMeta,children:[Tp(p.when),"  ",p.context]})]})]},p.id))})]})]}),n.jsxs("section",{className:Ie.sectionCard,children:[n.jsxs("div",{className:Ie.sectionHeader,children:[n.jsx("span",{children:rt("profile.public.achievements.title")}),e.achievements.length>0&&n.jsx("span",{className:Ie.sectionHint,children:rt("profile.public.achievements.highlights")})]}),e.achievements.length===0?n.jsx("div",{className:Ie.emptyState,children:rt("profile.public.achievements.empty")}):n.jsxs(n.Fragment,{children:[a.length>0&&n.jsx("div",{className:Ie.achievementsHighlights,children:a.map(p=>n.jsxs("article",{className:Ie.achievementCard,children:[n.jsx("div",{className:[Ie.achievementIcon,p.tier==="gold"?Ie.tierGold:p.tier==="silver"?Ie.tierSilver:Ie.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),n.jsx("div",{className:Ie.achievementTier,children:rt(`profile.public.achievements.tiers.${p.tier}`)}),n.jsx("div",{className:Ie.achievementName,children:rt(p.nameKey)}),n.jsx("div",{className:Ie.achievementDesc,children:rt(p.descriptionKey)}),p.unlockedAt&&n.jsx("div",{className:Ie.achievementDate,children:Tp(p.unlockedAt)})]},p.id))}),n.jsx("div",{className:Ie.achievementsGrid,children:e.achievements.map(p=>n.jsxs("article",{className:Ie.achievementBadge,children:[n.jsx("div",{className:[Ie.achievementIcon,p.tier==="gold"?Ie.tierGold:p.tier==="silver"?Ie.tierSilver:Ie.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),n.jsx("div",{className:Ie.achievementName,children:rt(p.nameKey)}),n.jsx("div",{className:Ie.achievementDesc,children:rt(p.descriptionKey)})]},p.id))})]})]})]})})}const IJ="_wrap_k6pqt_1",RJ="_centerLogoWrap_k6pqt_21",PJ="_centerLogoLink_k6pqt_37",LJ="_centerLogo_k6pqt_21",DJ="_arc_k6pqt_55",MJ="_left_k6pqt_57",FJ="_right_k6pqt_59",BJ="_sub_k6pqt_61",$J="_full_k6pqt_63",OJ="_arcItem_k6pqt_65",VJ="_iconBtn_k6pqt_71",UJ="_active_k6pqt_125",zJ="_iconImg_k6pqt_135",HJ="_placeholderIcon_k6pqt_139",GJ="_placeholderText_k6pqt_157",WJ="_iconLabel_k6pqt_161",hn={wrap:IJ,centerLogoWrap:RJ,centerLogoLink:PJ,centerLogo:LJ,arc:DJ,left:MJ,right:FJ,sub:BJ,full:$J,arcItem:OJ,iconBtn:VJ,active:UJ,iconImg:zJ,placeholderIcon:HJ,placeholderText:GJ,iconLabel:WJ},qJ=({to:t,label:e,icon:s,variant:r="main"})=>{const{search:i}=ir();let a=!1;try{const l=new URLSearchParams(i),d=l.get("tab"),u=l.get("sub"),h=l.get("sub2"),p=new URL(t,window.location.origin).searchParams,g=p.get("tab"),v=p.get("sub"),b=p.get("sub2");r==="main"?a=d===g:r==="sub"?a=d===g&&!!v&&u===v:a=d===g&&!!v&&u===v&&!!b&&h===b}catch(l){a=!1}return n.jsxs(zt,{to:t,"aria-label":e,className:[hn.iconBtn,a?hn.active:""].join(" "),title:e,replace:!1,children:[s?n.jsx("img",{src:s,alt:"",className:hn.iconImg}):n.jsx("div",{className:hn.placeholderIcon,"aria-hidden":"true",children:n.jsx("span",{className:hn.placeholderText,children:e.slice(0,2).toUpperCase()})}),n.jsx("div",{className:hn.iconLabel,children:e})]})},Cp=({items:t,side:e,anchorSide:s,compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:l=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!s)return null;const u=R.useMemo(()=>{const g=t.length;if(g===0)return[];let v=-90,b=90;e==="left"?(v=90,b=270):e==="sub"||e==="sub2"?s==="left"?(v=90,b=270):(v=-90,b=90):e==="full"&&(v=0,b=360);const S=(b-v)/(g+1),E=r?190:250;return t.map((I,F)=>{const A=(v+S*(F+1))*Math.PI/180;return{it:I,x:Math.cos(A)*E,y:Math.sin(A)*E}})},[t,e,s,r]),h=(()=>{const g={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?g.left=`calc(50% - ${a}px)`:e==="right"?g.left=`calc(50% + ${a}px)`:e==="sub"?g.left=s==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`:e==="sub2"&&(g.left=s==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),g})(),p=e==="sub"?"sub":e==="sub2"?"sub2":"main";return n.jsx("div",{className:[hn.arc,e==="left"?hn.left:"",e==="right"?hn.right:"",e==="sub"?hn.sub:"",e==="sub2"?hn.sub2:"",e==="full"?hn.full:""].join(" "),style:h,children:u.map(({it:g,x:v,y:b})=>n.jsx("div",{className:hn.arcItem,style:{transform:`translate(${v}px, ${b}px)`},children:n.jsx(qJ,{to:g.to,label:g.label,icon:g.icon,variant:p})},g.key))})},KJ=({logoSrc:t,categories:e})=>{const[s]=Cl(),r=s.get("tab")||null,i=s.get("sub")||null;s.get("sub2");const a=R.useMemo(()=>e.find(A=>A.key===r)||null,[e,r]),l=(a==null?void 0:a.sub)||[],d=R.useMemo(()=>l.find(A=>A.key===i)||null,[l,i]),u=(d==null?void 0:d.sub2)||[],h=(a==null?void 0:a.side)==="left"||(a==null?void 0:a.side)==="right"?a.side:"right",p=R.useRef(null),[g,v]=R.useState(!1),[b,S]=R.useState(220),[E,I]=R.useState(440),[F,D]=R.useState(660);return R.useLayoutEffect(()=>{(()=>{var L,P;const j=((P=(L=p.current)==null?void 0:L.getBoundingClientRect().width)!=null?P:380)/2,k=Math.round(j+60),w=Math.round(k+220),C=Math.round(w+220);S(k),I(w),D(C),v(!0)})()},[]),R.useEffect(()=>{let A=0,y=null,j={main:b,out:E,sup:F};const M=()=>{y!=null&&window.clearTimeout(y),y=window.setTimeout(()=>{A=requestAnimationFrame(()=>{var q,Q;const w=((Q=(q=p.current)==null?void 0:q.getBoundingClientRect().width)!=null?Q:380)/2,L=Math.round(w+60),P=Math.round(L+220),O=Math.round(P+220),$=Math.abs(L-j.main),W=Math.abs(P-j.out),H=Math.abs(O-j.sup);$>1&&S(L),W>1&&I(P),H>1&&D(O),j={main:L,out:P,sup:O}})},120)};return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),y!=null&&window.clearTimeout(y),A&&cancelAnimationFrame(A)}},[b,E,F]),n.jsxs("div",{className:hn.wrap,children:[n.jsx("div",{className:hn.centerLogoWrap,children:n.jsx(zt,{to:"/guidehub",className:hn.centerLogoLink,"aria-label":"Guide Hub Home",children:n.jsx("img",{ref:p,src:t,alt:"Guide Hub",className:hn.centerLogo})})}),g&&n.jsxs(n.Fragment,{children:[n.jsx(Cp,{items:e.filter(A=>A.side==="left").map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"left",variant:"main",arcOffset:b}),n.jsx(Cp,{items:e.filter(A=>A.side==="right").map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"right",variant:"main",arcOffset:b}),h&&l.length>0&&n.jsx(Cp,{items:l.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub",anchorSide:h,variant:"sub",outerOffset:E,compact:!0}),h&&u.length>0&&n.jsx(Cp,{items:u.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub2",anchorSide:h,variant:"sub2",superOffset:F,compact:!0})]})]})},hN=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],QJ="_topWrap_1vr4p_1",XJ="_divider_1vr4p_19",YJ="_contentArea_1vr4p_53",JJ="_placeholder_1vr4p_65",ZJ="_placeholderTitle_1vr4p_79",eZ="_placeholderText_1vr4p_93",jc={topWrap:QJ,divider:XJ,contentArea:YJ,placeholder:JJ,placeholderTitle:ZJ,placeholderText:eZ},tZ="/assets/logo_guidehub-c4zKGdF-.png";function Dl({title:t}){return n.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[n.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),n.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const sZ=()=>n.jsx(Dl,{title:"Game Features"});function cs({title:t}){return n.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[n.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),n.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const nZ=()=>n.jsx(cs,{title:"Progression"}),rZ=()=>n.jsx(cs,{title:"Hellevator"}),iZ=()=>n.jsx(cs,{title:"Legendary Dungeon"}),aZ=()=>n.jsx(cs,{title:"Events"}),oZ="_card_1rxdx_21",lZ="_hoverLift_1rxdx_51",cZ="_title_1rxdx_63",dZ="_body_1rxdx_89",uZ="_iconStack_1rxdx_99",hu={card:oZ,hoverLift:lZ,title:cZ,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:dZ,iconStack:uZ};function hZ({title:t,padding:e="md",hover:s=!0,className:r="",children:i}){return n.jsxs("div",{className:[hu.card,hu[`pad-${e}`],s?hu.hoverLift:"",r].join(" "),children:[t?n.jsx("div",{className:hu.title,children:t}):null,n.jsx("div",{className:hu.body,children:i})]})}const mZ=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],pZ="_grid_1amcc_3",fZ="_tileBtn_1amcc_45",gZ="_wrap_1amcc_87",xZ="_headerBar_1amcc_99",vZ="_title_1amcc_117",mu={grid:pZ,tileBtn:fZ,wrap:gZ,headerBar:xZ,title:vZ};function yZ(){const[t,e]=Cl(),s=r=>{const i=new URLSearchParams(t);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return n.jsxs("div",{className:mu.wrap,children:[n.jsx("div",{className:mu.headerBar,children:n.jsx("h2",{className:mu.title,children:"Calculators"})}),n.jsx("div",{className:mu.grid,children:mZ.map(r=>n.jsx("button",{className:mu.tileBtn,onClick:()=>s(r.slug),"aria-label":r.title,children:n.jsx(hZ,{title:r.title,padding:"md",hover:!0,children:n.jsx(n.Fragment,{children:" "})})},r.slug))})]})}const bZ=()=>n.jsx(cs,{title:"Infographics (Dropdown inside page)"}),_Z=()=>n.jsx(cs,{title:"Class book"}),wZ=()=>n.jsx(cs,{title:"Dungeons"}),jZ=()=>n.jsx(Dl,{title:"Fortress"}),SZ=()=>n.jsx(Dl,{title:"Fortress Calculator"}),NZ="_wrap_1skhh_7",kZ="_headerBar_1skhh_21",TZ="_title_1skhh_39",CZ="_meta_1skhh_55",EZ="_description_1skhh_67",AZ="_contentWrapper_1skhh_83",IZ="_tableSection_1skhh_97",RZ="_table_1skhh_97",PZ="_infoBox_1skhh_151",LZ="_sectionTitle_1skhh_165",DZ="_divider_1skhh_181",tr={wrap:NZ,headerBar:kZ,title:TZ,meta:CZ,description:EZ,contentWrapper:AZ,tableSection:IZ,table:RZ,infoBox:PZ,sectionTitle:LZ,divider:DZ};function MZ(){return n.jsxs("div",{className:tr.wrap,children:[n.jsxs("div",{className:tr.headerBar,children:[n.jsx("h2",{className:tr.title,children:"Fortress Package skip order"}),n.jsx("span",{className:tr.meta,children:"Last updated: 21.02.2025"})]}),n.jsx("p",{className:tr.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),n.jsxs("div",{className:tr.contentWrapper,children:[n.jsxs("section",{className:tr.tableSection,children:[n.jsx("h3",{className:tr.sectionTitle,children:"Fortress Build Order"}),n.jsxs("table",{className:tr.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Building"}),n.jsx("th",{children:"Level"}),n.jsx("th",{children:"Gold Cost"}),n.jsx("th",{children:"Shroom Cost"}),n.jsx("th",{children:"Wood Cost"}),n.jsx("th",{children:"Stone Cost"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"35"}),n.jsx("td",{children:"12"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"20"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"150"}),n.jsx("td",{children:"50"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"138"}),n.jsx("td",{children:"46"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"30"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"440"}),n.jsx("td",{children:"140"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"15"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"406"}),n.jsx("td",{children:"129"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"40"}),n.jsx("td",{children:"12"}),n.jsx("td",{children:"1,100"}),n.jsx("td",{children:"333"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"20"}),n.jsx("td",{children:"12"}),n.jsx("td",{children:"1,015"}),n.jsx("td",{children:"308"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"50"}),n.jsx("td",{children:"24"}),n.jsx("td",{children:"2,500"}),n.jsx("td",{children:"800"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"25"}),n.jsx("td",{children:"24"}),n.jsx("td",{children:"2,308"}),n.jsx("td",{children:"738"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"60"}),n.jsx("td",{children:"36"}),n.jsx("td",{children:"6,000"}),n.jsx("td",{children:"2,000"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"30"}),n.jsx("td",{children:"36"}),n.jsx("td",{children:"5,538"}),n.jsx("td",{children:"1,849"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"7"}),n.jsx("td",{children:"70"}),n.jsx("td",{children:"48"}),n.jsx("td",{children:"13,417"}),n.jsx("td",{children:"4,433"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"8"}),n.jsx("td",{children:"80"}),n.jsx("td",{children:"78"}),n.jsx("td",{children:"27,200"}),n.jsx("td",{children:"9,280"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Hall of Knight"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"720"}),n.jsx("td",{children:"240"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Hall of Knight"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"1,408"}),n.jsx("td",{children:"448"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Hall of Knight"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"2,640"}),n.jsx("td",{children:"800"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Gem Mine"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"15"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"50"}),n.jsx("td",{children:"17"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Treasury"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"25"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"40"}),n.jsx("td",{children:"13"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"20"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"30"}),n.jsx("td",{children:"20"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"92"}),n.jsx("td",{children:"74"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"8"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"248"}),n.jsx("td",{children:"200"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"21"}),n.jsx("td",{children:"500"}),n.jsx("td",{children:"320"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"22"}),n.jsx("td",{children:"0"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"90"}),n.jsx("td",{children:"16"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"9"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"264"}),n.jsx("td",{children:"45"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"12"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"660"}),n.jsx("td",{children:"107"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Barracks"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"20"}),n.jsx("td",{children:"14"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Barracks"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"8"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"82"}),n.jsx("td",{children:"55"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Total cost"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"577"}),n.jsx("td",{children:"363"}),n.jsx("td",{children:"99,881"}),n.jsx("td",{children:"33,218"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress Pack ressources"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"300"}),n.jsx("td",{children:"100,000"}),n.jsx("td",{children:"50,000"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Left over"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"-577"}),n.jsx("td",{children:"-63"}),n.jsx("td",{children:"119"}),n.jsx("td",{children:"16,782"})]})]})]})]}),n.jsxs("section",{className:tr.infoBox,children:[n.jsx("h3",{className:tr.sectionTitle,children:"Important"}),n.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Archery Guild"}),n.jsx("li",{children:"Mage's Tower"}),n.jsx("li",{children:"Fortifications"})]}),n.jsx("div",{className:tr.divider}),n.jsx("h3",{className:tr.sectionTitle,children:"Total Costs"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total Gold:"})," 577 ",n.jsx("br",{}),n.jsx("strong",{children:"Total Shrooms:"})," 363 ",n.jsx("br",{}),n.jsx("strong",{children:"Total Wood:"})," 99,881 ",n.jsx("br",{}),n.jsx("strong",{children:"Total Stone:"})," 33,218 ",n.jsx("br",{})]}),n.jsx("h3",{className:tr.sectionTitle,children:"Remaining Resources"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Remaining Gold:"})," -577 ",n.jsx("br",{}),n.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",n.jsx("br",{}),n.jsx("strong",{children:"Remaining Wood:"})," 119 ",n.jsx("br",{}),n.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const FZ=()=>n.jsx(Dl,{title:"Fortress attack duplication guide"}),BZ=()=>n.jsx(Dl,{title:"Underworld"}),$Z=()=>n.jsx(Dl,{title:"Underworld Calculator"}),OZ=()=>n.jsx(Dl,{title:"Underworld Pro Package skip order"}),VZ=()=>n.jsx(cs,{title:"Arena / AM"}),UZ="_wrap_mm7x0_5",zZ="_headerBar_mm7x0_19",HZ="_title_mm7x0_37",GZ="_meta_mm7x0_51",WZ="_description_mm7x0_63",qZ="_controls_mm7x0_79",KZ="_search_mm7x0_83",QZ="_tableWrap_mm7x0_119",XZ="_table_mm7x0_119",YZ="_thead_mm7x0_143",JZ="_th_mm7x0_143",ZZ="_td_mm7x0_167",eee="_tierCell_mm7x0_179",tee="_amountCell_mm7x0_181",see="_bonusCell_mm7x0_183",nee="_tags_mm7x0_185",ree="_tierBox_mm7x0_191",iee="_tierIcon_mm7x0_193",aee="_tierTexts_mm7x0_203",oee="_tierName_mm7x0_205",lee="_badge_mm7x0_211",cee="_badgeMax_mm7x0_231",dee="_badgeAchiev_mm7x0_233",uee="_badgeX2_mm7x0_235",hee="_badgeX12_mm7x0_237",mee="_badgeX60_mm7x0_239",pee="_iconHead_mm7x0_245",fee="_achiev_mm7x0_261",gee="_achievImg_mm7x0_263",xee="_dataRow_mm7x0_291",vee="_tierCellHover_mm7x0_311",$e={wrap:UZ,headerBar:zZ,title:HZ,meta:GZ,description:WZ,controls:qZ,search:KZ,tableWrap:QZ,table:XZ,thead:YZ,th:JZ,td:ZZ,tierCell:eee,amountCell:tee,bonusCell:see,tags:nee,tierBox:ree,tierIcon:iee,tierTexts:aee,tierName:oee,badge:lee,badgeMax:cee,badgeAchiev:dee,badgeX2:uee,badgeX12:hee,badgeX60:mee,iconHead:pee,achiev:fee,achievImg:gee,dataRow:xee,tierCellHover:vee};function bE(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function yee(t){const e=t.filter(Boolean).join(" ");return bE(e)}const bee={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function _ee(t){var s;const e=Array.isArray(t)?yee(t):bE(t!=null?t:"");return(s=bee[e])!=null?s:null}function Tg(t,e=512){var a,l;const s=_ee(t);if(!s)return{id:null,url:null,thumb:null,fallback:""};const r=(a=Nl(s))!=null?a:null,i=r&&(l=Vr(r,e))!=null?l:null;return{id:s,url:r,thumb:i,fallback:""}}function vl(t,e=512){return Tg(t,e).thumb}const Ya={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},mN={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function Ja({keyName:t,label:e}){const s=Tg(t,36);return n.jsxs("div",{className:$e.iconHead,children:[s.thumb?n.jsx("img",{src:s.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):n.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(s.fallback||e).slice(0,1).toUpperCase()}),n.jsx("span",{children:e})]})}function wee({name:t}){const e=Object.keys(mN).find(r=>t.toLowerCase().includes(r.toLowerCase())),s=Tg(e?mN[e]:"achiev_generic",16);return n.jsxs("div",{className:$e.achiev,children:[s.thumb?n.jsx("img",{src:s.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):n.jsx("div",{className:$e.achievImg}),n.jsx("span",{children:t})]})}const Pf=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function Jv(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const s=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(s)+r}function jee(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function See(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const pN={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},Nee="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function kee(t){const e=t.trim().toLowerCase();return e?Pf.filter(s=>{var r;return`${s.tier} ${s.amount} ${(r=s.note)!=null?r:""}`.toLowerCase().includes(e)}):Pf}function Tee(){const[t,e]=R.useState(""),[s,r]=R.useState(null),i=kee(t),a=R.useMemo(()=>Math.max(...Pf.map(d=>Jv(d.amount))),[]),l=R.useMemo(()=>{const d=new Map;for(const h of i)d.has(h.tier)||d.set(h.tier,[]),d.get(h.tier).push(h);const u=Array.from(new Set(Pf.map(h=>h.tier)));return Array.from(d.entries()).sort((h,p)=>u.indexOf(h[0])-u.indexOf(p[0]))},[i]);return n.jsxs("div",{className:$e.wrap,children:[n.jsxs("div",{className:$e.headerBar,children:[n.jsx("h2",{className:$e.title,children:"Arena Manager  Rune bonuses"}),n.jsx("span",{className:$e.meta,children:"last updated: 15.01.2025"})]}),n.jsx("p",{className:$e.description,children:Nee}),n.jsx("div",{className:$e.controls,children:n.jsx("input",{className:$e.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:d=>e(d.target.value)})}),n.jsx("div",{className:$e.tableWrap,children:n.jsxs("table",{className:$e.table,children:[n.jsx("thead",{className:$e.thead,children:n.jsxs("tr",{className:$e.headRow,children:[n.jsx("th",{className:`${$e.th} ${$e.tierCell}`,children:"Tier"}),n.jsx("th",{className:`${$e.th} ${$e.amountCell}`,children:"Amount"}),n.jsx("th",{className:$e.th,children:n.jsx(Ja,{keyName:Ya.gold,label:"Gold Bonus"})}),n.jsx("th",{className:$e.th,children:n.jsx(Ja,{keyName:Ya.xp,label:"XP Bonus"})}),n.jsx("th",{className:$e.th,children:n.jsx(Ja,{keyName:Ya.hp,label:"HP Bonus"})}),n.jsx("th",{className:$e.th,children:n.jsx(Ja,{keyName:Ya.totalRes,label:"Total Resistance"})}),n.jsx("th",{className:$e.th,children:n.jsx(Ja,{keyName:Ya.singleRes,label:"Single Resistance"})}),n.jsx("th",{className:$e.th,children:n.jsx(Ja,{keyName:Ya.elem,label:"Elemental Damage"})}),n.jsx("th",{className:$e.th,children:n.jsx(Ja,{keyName:Ya.item,label:"Improved Item Quality"})}),n.jsx("th",{className:$e.th,children:n.jsx(Ja,{keyName:Ya.epics,label:"Chances of Epics"})}),n.jsx("th",{className:$e.th,children:"Tags"})]})}),n.jsx("tbody",{children:l.map(([d,u])=>{const h=Math.max(...u.map(p=>Jv(p.amount)));return u.map((p,g)=>{var S,E,I,F,D,A,y,j;const v=Math.abs(Jv(p.amount)-a)<1e-6,b=See(p.note);return n.jsxs("tr",{className:$e.dataRow,onMouseEnter:()=>r(d),onMouseLeave:()=>r(null),children:[g===0&&n.jsx("td",{className:`${$e.td} ${$e.tierCell} ${Math.abs(h-a)<1e-6?$e.tierMax:""} ${s===d?$e.tierCellHover:""}`,rowSpan:u.length,children:n.jsxs("div",{className:$e.tierBox,children:[n.jsx("div",{className:$e.tierIcon,children:d.slice(0,1).toUpperCase()}),n.jsxs("div",{className:$e.tierTexts,children:[n.jsx("div",{className:$e.tierName,children:d}),pN[d]&&n.jsx(wee,{name:pN[d]})]})]})}),n.jsx("td",{className:`${$e.td} ${$e.amountCell}`,children:p.amount}),n.jsx("td",{className:`${$e.td} ${$e.bonusCell}`,children:(S=p.gold)!=null?S:""}),n.jsx("td",{className:`${$e.td} ${$e.bonusCell}`,children:(E=p.xp)!=null?E:""}),n.jsx("td",{className:`${$e.td} ${$e.bonusCell}`,children:(I=p.hp)!=null?I:""}),n.jsx("td",{className:`${$e.td} ${$e.bonusCell}`,children:(F=p.totalRes)!=null?F:""}),n.jsx("td",{className:`${$e.td} ${$e.bonusCell}`,children:(D=p.singleRes)!=null?D:""}),n.jsx("td",{className:`${$e.td} ${$e.bonusCell}`,children:(A=p.elemDmg)!=null?A:""}),n.jsx("td",{className:`${$e.td} ${$e.bonusCell}`,children:(y=p.itemQuality)!=null?y:""}),n.jsx("td",{className:`${$e.td} ${$e.bonusCell}`,children:(j=p.epics)!=null?j:""}),n.jsxs("td",{className:`${$e.td} ${$e.tags}`,children:[v&&n.jsx("span",{className:`${$e.badge} ${$e.badgeMax}`,children:"MAX"}),jee(p.note)&&n.jsx("span",{className:`${$e.badge} ${$e.badgeAchiev}`,children:"Achievement"}),b==="x2"&&n.jsx("span",{className:`${$e.badge} ${$e.badgeX2}`,children:"x2"}),b==="x12"&&n.jsx("span",{className:`${$e.badge} ${$e.badgeX12}`,children:"x12"}),b==="x60"&&n.jsx("span",{className:`${$e.badge} ${$e.badgeX60}`,children:"x60"}),b==="x8"&&n.jsx("span",{className:$e.badge,children:"x8"})]})]},`${d}-${g}`)})})})]})})]})}const Cee="_wrap_zrza7_11",Eee="_headerBar_zrza7_15",Aee="_title_zrza7_31",Iee="_meta_zrza7_33",Ree="_centerCol_zrza7_37",Pee="_text_zrza7_53",Lee="_imageBox_zrza7_55",Dee="_imageFallback_zrza7_57",Mee="_credit_zrza7_59",ea={wrap:Cee,headerBar:Eee,title:Aee,meta:Iee,centerCol:Ree,text:Pee,imageBox:Lee,imageFallback:Dee,credit:Mee};function Fee(){const t=Tg("ambuildorder"),e=R.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),s=R.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,i=e||s||r;return n.jsxs("div",{className:ea.wrap,children:[n.jsxs("div",{className:ea.headerBar,children:[n.jsx("h2",{className:ea.title,children:"Arena Manager  Build Order"}),n.jsx("span",{className:ea.meta,children:"Last updated: 30.11.2024"})]}),n.jsxs("div",{className:ea.centerCol,children:[n.jsxs("div",{className:ea.text,children:[n.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),n.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",n.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?n.jsx("div",{className:ea.imageBox,children:n.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):n.jsx("div",{className:ea.imageFallback,children:""}),n.jsxs("p",{className:ea.credit,children:["Credit to ",n.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const Bee=()=>n.jsx(cs,{title:"Hellevator Guide"}),$ee=()=>n.jsx(cs,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),Oee=()=>n.jsx(cs,{title:"Event List"}),Vee=()=>n.jsx(cs,{title:"Event Cycle"}),Uee="_foCalc_18a5w_3",zee="_panel_18a5w_211",Hee="_panelHead_18a5w_227",Gee="_panelTitle_18a5w_241",Wee="_controls_18a5w_243",qee="_ctrlLabel_18a5w_245",Kee="_ctrlSelect_18a5w_249",Qee="_tableWrap_18a5w_291",Xee="_table_18a5w_291",Yee="_th_18a5w_305",Jee="_td_18a5w_321",Zee="_row_18a5w_333",ete="_note_18a5w_335",hs={foCalc:Uee,panel:zee,panelHead:Hee,panelTitle:Gee,controls:Wee,ctrlLabel:qee,ctrlSelect:Kee,tableWrap:Qee,table:Xee,th:Yee,td:Jee,row:Zee,note:ete},_E={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},Ss=(t,e=0)=>t*3600+e*60,re=[Ss(0,15),Ss(0,31),Ss(1,6),Ss(2,20),Ss(5,0),Ss(8,0),Ss(11,25),Ss(18,27),Ss(40,0),Ss(87,16),Ss(190,46),Ss(320,0),Ss(480,0),Ss(615,33),Ss(800,0)],Et=[Ss(1054,17),Ss(1122,51),Ss(1245,42),Ss(1343,20),Ss(1440,0)],tte={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:re[0]},{level:2,wood:150,stone:50,gold:20,timeSec:re[1]},{level:3,wood:440,stone:140,gold:30,timeSec:re[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:re[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:re[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:re[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:re[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:re[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:re[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:re[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:re[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:re[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:re[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:re[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:re[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:Et[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:Et[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:Et[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:Et[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:Et[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:re[0]},{level:2,wood:138,stone:46,gold:10,timeSec:re[1]},{level:3,wood:406,stone:129,gold:15,timeSec:re[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:re[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:re[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:re[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:re[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:re[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:re[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:re[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:re[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:re[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:re[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:re[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:re[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:re[0]},{level:2,wood:28,stone:37,gold:14,timeSec:re[1]},{level:3,wood:81,stone:103,gold:21,timeSec:re[2]},{level:4,wood:203,stone:246,gold:28,timeSec:re[3]},{level:5,wood:462,stone:591,gold:35,timeSec:re[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:re[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:re[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:re[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:re[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:re[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:re[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:re[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:re[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:re[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:re[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:Et[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:Et[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:Et[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:Et[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:Et[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:re[0]},{level:2,wood:160,stone:53,gold:50,timeSec:re[1]},{level:3,wood:469,stone:149,gold:75,timeSec:re[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:re[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:re[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:re[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:re[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:re[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:re[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:re[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:re[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:re[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:re[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:re[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:re[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:re[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:re[0]},{level:2,wood:200,stone:67,gold:30,timeSec:re[1]},{level:3,wood:587,stone:187,gold:45,timeSec:re[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:re[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:re[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:re[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:re[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:re[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:re[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:re[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:re[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:re[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:re[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:re[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:re[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:Et[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:Et[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:Et[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:Et[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:Et[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:Ss(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:re[0]},{level:2,wood:30,stone:20,gold:4,timeSec:re[1]},{level:3,wood:88,stone:56,gold:6,timeSec:re[2]},{level:4,wood:220,stone:133,gold:8,timeSec:re[3]},{level:5,wood:500,stone:320,gold:10,timeSec:re[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:re[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:re[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:re[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:re[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:re[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:re[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:re[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:re[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:re[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:re[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:Et[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:Et[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:Et[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:Et[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:Et[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:re[0]},{level:2,wood:90,stone:16,gold:6,timeSec:re[1]},{level:3,wood:264,stone:45,gold:9,timeSec:re[2]},{level:4,wood:660,stone:107,gold:12,timeSec:re[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:re[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:re[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:re[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:re[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:re[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:re[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:re[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:re[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:re[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:re[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:re[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:Et[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:Et[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:Et[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:Et[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:Et[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:re[0]},{level:2,wood:82,stone:55,gold:8,timeSec:re[1]},{level:3,wood:240,stone:153,gold:12,timeSec:re[2]},{level:4,wood:600,stone:364,gold:16,timeSec:re[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:re[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:re[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:re[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:re[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:re[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:re[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:re[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:re[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:re[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:re[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:re[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:re[0]},{level:2,wood:100,stone:33,gold:8,timeSec:re[1]},{level:3,wood:293,stone:93,gold:12,timeSec:re[2]},{level:4,wood:733,stone:222,gold:16,timeSec:re[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:re[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:re[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:re[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:re[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:re[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:re[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:re[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:re[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:re[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:re[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:re[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:Et[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:Et[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:Et[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:Et[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:Et[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:re[0]},{level:2,wood:240,stone:61,gold:12,timeSec:re[1]},{level:3,wood:675,stone:205,gold:18,timeSec:re[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:re[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:re[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:re[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:re[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:re[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:re[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:re[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:re[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:re[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:re[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:re[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:re[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:re[0]},{level:2,wood:164,stone:27,gold:10,timeSec:re[1]},{level:3,wood:480,stone:76,gold:15,timeSec:re[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:re[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:re[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:re[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:re[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:re[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:re[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:re[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:re[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:re[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:re[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:re[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:re[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:re[0]},{level:2,wood:120,stone:53,gold:30,timeSec:re[1]},{level:3,wood:352,stone:149,gold:45,timeSec:re[2]},{level:4,wood:880,stone:356,gold:60,timeSec:re[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:re[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:re[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:re[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:re[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:re[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:re[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:re[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:re[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:re[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:re[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:re[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:Et[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:Et[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:Et[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:Et[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:Et[4]}]}},ste=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],nte="fortress",rte={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function ite(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function fN(t){const e=Math.max(0,Math.round(t)),s=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,a=l=>l.toString().padStart(2,"0");return`${a(s)}:${a(r)}:${a(i)}`}const ate=()=>{const[t,e]=R.useState(nte),[s,r]=R.useState(1),i=R.useMemo(()=>{var p;const d=rte[t],u=_E[d],h=(p=u==null?void 0:u.id)!=null?p:u;return Nl.gifProxy(h)||Nl.gif(h)||""},[t]),a=R.useMemo(()=>{var d,u;return(u=(d=tte[t])==null?void 0:d.costs)!=null?u:[]},[t]),l=R.useMemo(()=>ite(s),[s]);return n.jsxs("div",{className:`${hs.foCalc}`,children:[n.jsxs("div",{className:"tabs",children:[n.jsx("span",{className:"tabSelectLabel",children:"Select building"}),n.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:ste.map(d=>n.jsx("option",{value:d.key,children:d.label},d.key))})]}),n.jsxs("div",{className:"mediaRow",children:[n.jsx("div",{className:"media",children:i?n.jsx("img",{src:i,alt:t}):null}),n.jsxs("div",{className:hs.panel,children:[n.jsxs("div",{className:hs.panelHead,children:[n.jsxs("div",{className:hs.panelTitle,children:["Fortress  ",t]}),n.jsxs("div",{className:hs.controls,children:[n.jsx("span",{className:hs.ctrlLabel,children:"L2 (Laborers)"}),n.jsx("select",{className:hs.ctrlSelect,value:s,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:16},(d,u)=>u).map(d=>n.jsx("option",{value:d,children:d},d))})]})]}),n.jsx("div",{className:hs.tableWrap,children:n.jsxs("table",{className:hs.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:hs.th,children:"Level"}),n.jsx("th",{className:hs.th,children:"Wood"}),n.jsx("th",{className:hs.th,children:"Stone"}),n.jsx("th",{className:hs.th,children:"Build Time"}),n.jsx("th",{className:hs.th,children:"Build Time (L2)"}),n.jsx("th",{className:hs.th,children:"Skip (Mushr.)"})]})}),n.jsx("tbody",{children:a.map(d=>{var g,v,b,S,E,I,F;const u=(g=d.timeSec)!=null?g:0,h=Math.round(u*(1-l)),p=Math.ceil(Math.ceil(h/60)/10);return n.jsxs("tr",{className:hs.row,children:[n.jsx("td",{className:hs.td,children:d.level}),n.jsx("td",{className:hs.td,children:(S=(b=(v=d.wood)==null?void 0:v.toLocaleString)==null?void 0:b.call(v))!=null?S:d.wood}),n.jsx("td",{className:hs.td,children:(F=(I=(E=d.stone)==null?void 0:E.toLocaleString)==null?void 0:I.call(E))!=null?F:d.stone}),n.jsx("td",{className:hs.td,children:fN(u)}),n.jsx("td",{className:hs.td,children:fN(h)}),n.jsx("td",{className:hs.td,children:p.toLocaleString()})]},d.level)})})]})}),n.jsx("div",{className:hs.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},ote="_uwCalc_64lws_3",lte="_panel_64lws_211",cte="_panelHead_64lws_227",dte="_panelTitle_64lws_241",ute="_controls_64lws_243",hte="_ctrlLabel_64lws_245",mte="_ctrlSelect_64lws_251",pte="_tableWrap_64lws_295",fte="_table_64lws_295",gte="_th_64lws_309",xte="_td_64lws_325",vte="_row_64lws_337",yte="_note_64lws_339",ns={uwCalc:ote,panel:lte,panelHead:cte,panelTitle:dte,controls:ute,ctrlLabel:hte,ctrlSelect:mte,tableWrap:pte,table:fte,th:gte,td:xte,row:vte,note:yte},bte={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},_te={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function wte(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function jte(t){const e=Math.max(0,t),s=Math.round(e),r=Math.floor(s/3600),i=Math.floor(s%3600/60),a=s%60;return{h:r,m:i,s:a}}function gN(t){const{h:e,m:s,s:r}=jte(t),i=a=>String(a).padStart(2,"0");return`${i(e)}:${i(s)}:${i(r)}`}function Ste(t,e){var i,a;const s=wte(e);return((a=(i=_te[t])==null?void 0:i.costs)!=null?a:[]).map(l=>{const d=l.timeSec*(1-s),u=Math.ceil(Math.ceil(d/60)/10);return{...l,timeAdjSec:d,skipMushroomsAdj:u}})}const Nte=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],kte=()=>{const[t,e]=R.useState("hearthofdarkngif"),[s,r]=R.useState(1),i=R.useMemo(()=>{var h;const d=_E[t],u=(h=d==null?void 0:d.id)!=null?h:d;return Nl.gifProxy(u)||Nl.gif(u)||""},[t]),a=R.useMemo(()=>{var d;return(d=bte[t])!=null?d:"hearthofdarkn"},[t]),l=R.useMemo(()=>Ste(a,s),[a,s]);return n.jsxs("div",{className:ns.uwCalc,children:[n.jsxs("div",{className:"tabs",children:[n.jsx("span",{className:"tabSelectLabel",children:"Select building"}),n.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:Nte.map(d=>n.jsx("option",{value:d,children:d.replace(/gif$/i,"")},d))})]}),n.jsxs("div",{className:"mediaRow",children:[n.jsx("div",{className:"media",children:i?n.jsx("img",{src:i,alt:t}):null}),n.jsxs("div",{className:ns.panel,children:[n.jsxs("div",{className:ns.panelHead,children:[n.jsxs("div",{className:ns.panelTitle,children:["Underworld  ",a]}),n.jsxs("div",{className:ns.controls,children:[n.jsx("label",{htmlFor:"uw-l2",className:ns.ctrlLabel,children:"L2 (Laborers)"}),n.jsx("select",{id:"uw-l2",className:ns.ctrlSelect,value:s,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:15},(d,u)=>u+1).map(d=>n.jsx("option",{value:d,children:d},d))})]})]}),n.jsx("div",{className:ns.tableWrap,children:n.jsxs("table",{className:ns.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:ns.th,children:"Level"}),n.jsx("th",{className:ns.th,children:"Soul"}),n.jsx("th",{className:ns.th,children:"Gold"}),n.jsx("th",{className:ns.th,children:"Build Time"}),n.jsx("th",{className:ns.th,children:"Build Time (L2)"}),n.jsx("th",{className:ns.th,children:"Skip (Mushr.)"})]})}),n.jsx("tbody",{children:l.length===0?n.jsx("tr",{className:ns.row,children:n.jsx("td",{className:ns.td,colSpan:6,children:"No data for this building yet."})}):l.map(d=>n.jsxs("tr",{className:ns.row,children:[n.jsx("td",{className:ns.td,children:d.level}),n.jsx("td",{className:ns.td,children:d.soul}),n.jsx("td",{className:ns.td,children:d.gold}),n.jsx("td",{className:ns.td,children:gN(d.timeSec)}),n.jsx("td",{className:ns.td,children:gN(d.timeAdjSec)}),n.jsx("td",{className:ns.td,children:d.skipMushroomsAdj})]},d.level))})]})}),n.jsx("p",{className:ns.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},Tte=()=>n.jsx(cs,{title:"Max Item Stats Calculator"}),Cte="_wrap_mnr0g_1",Ete="_card_mnr0g_13",Ate="_title_mnr0g_33",Ite="_form_mnr0g_45",Rte="_field_mnr0g_57",Pte="_input_mnr0g_71",Lte="_gemsRow_mnr0g_87",Dte="_gemBox_mnr0g_101",Mte="_disabled_mnr0g_127",Fte="_gemImg_mnr0g_135",Bte="_gemFallback_mnr0g_149",$te="_normalGem_mnr0g_165",Ote="_blackGem_mnr0g_173",Vte="_legendaryGem_mnr0g_181",Ute="_gemLabel_mnr0g_189",zte="_gemValue_mnr0g_199",Hte="_hint_mnr0g_211",Lt={wrap:Cte,card:Ete,title:Ate,form:Ite,field:Rte,input:Pte,gemsRow:Lte,gemBox:Dte,disabled:Mte,gemImg:Fte,gemFallback:Bte,normalGem:$te,blackGem:Ote,legendaryGem:Vte,gemLabel:Ute,gemValue:zte,hint:Hte},Gte={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},Wte=.25,Lf=t=>Math.round(Number.isFinite(t)?t:0);function qte(t){const e=Number(t.charLevel),s=Number(t.mineLevel),r=Number(t.guildHoK);if(s<25){const I=e*Wte*(1+(s-1)*.25)+r/3;return Lf(I)}const{A:i,B:a,C:l,D:d,E:u,F:h,G:p,H:g,I:v,J:b}=Gte,E=i+a*e+l/s+d*e**2+u/s**2+h*e/s+p*e**3+g/s**3+v*e/s**2+b*e**2/s+r/3;return Lf(E)}function Kte(t){return Lf(t*(2/3))}function Qte(t){return Lf(t)}const Zv={char:1e3,mine:100,hok:1e3},Xte=()=>{const[t,e]=R.useState(""),[s,r]=R.useState(""),[i,a]=R.useState(""),l=R.useMemo(()=>t===""||s===""||i===""?null:qte({charLevel:Number(t),mineLevel:Number(s),guildHoK:Number(i)}),[t,s,i]),d=R.useMemo(()=>l==null?null:Kte(l),[l]),u=R.useMemo(()=>l==null?null:Qte(l),[l]),h=vl("luckbig"),p=vl("blackbig"),g=vl("legendarybig");return n.jsx("div",{className:Lt.wrap,children:n.jsxs("div",{className:Lt.card,children:[n.jsx("h2",{className:Lt.title,children:"Gem Calculator"}),n.jsxs("div",{className:Lt.form,children:[n.jsxs("label",{className:Lt.field,children:[n.jsx("span",{children:"Char Level"}),n.jsx("input",{type:"number",inputMode:"numeric",className:Lt.input,placeholder:"e.g., 360",value:t,onChange:v=>{const b=v.currentTarget.value;if(b==="")return e("");const S=Number(b);e(Number.isFinite(S)?S:"")},max:Zv.char})]}),n.jsxs("label",{className:Lt.field,children:[n.jsx("span",{children:"Mine Level"}),n.jsx("input",{type:"number",inputMode:"numeric",className:Lt.input,placeholder:"e.g., 10",value:s,onChange:v=>{const b=v.currentTarget.value;if(b==="")return r("");const S=Number(b);r(Number.isFinite(S)?S:"")},max:Zv.mine})]}),n.jsxs("label",{className:Lt.field,children:[n.jsx("span",{children:"Guild HoK"}),n.jsx("input",{type:"number",inputMode:"numeric",className:Lt.input,placeholder:"e.g., 840",value:i,onChange:v=>{const b=v.currentTarget.value;if(b==="")return a("");const S=Number(b);a(Number.isFinite(S)?S:"")},max:Zv.hok})]})]}),n.jsxs("div",{className:Lt.gemsRow,children:[n.jsxs("div",{className:`${Lt.gemBox} ${l==null?Lt.disabled:""}`,children:[h?n.jsx("img",{className:Lt.gemImg,src:h,alt:"Normal Gem"}):n.jsx("div",{className:`${Lt.gemFallback} ${Lt.normalGem}`}),n.jsx("div",{className:Lt.gemLabel,children:"Normal"}),n.jsx("div",{className:Lt.gemValue,children:l!=null?l:""})]}),n.jsxs("div",{className:`${Lt.gemBox} ${d==null?Lt.disabled:""}`,children:[p?n.jsx("img",{className:Lt.gemImg,src:p,alt:"Black Gem"}):n.jsx("div",{className:`${Lt.gemFallback} ${Lt.blackGem}`}),n.jsx("div",{className:Lt.gemLabel,children:"Black"}),n.jsx("div",{className:Lt.gemValue,children:d!=null?d:""})]}),n.jsxs("div",{className:`${Lt.gemBox} ${u==null?Lt.disabled:""}`,children:[g?n.jsx("img",{className:Lt.gemImg,src:g,alt:"Legendary Gem"}):n.jsx("div",{className:`${Lt.gemFallback} ${Lt.legendaryGem}`}),n.jsx("div",{className:Lt.gemLabel,children:"Legendary"}),n.jsx("div",{className:Lt.gemValue,children:u!=null?u:""})]})]}),n.jsxs("p",{className:Lt.hint,children:["The values are approximations and represent the ",n.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},Yte="_container_19zdf_1",Jte="_headerBar_19zdf_13",Zte="_title_19zdf_31",ese="_meta_19zdf_47",tse="_description_19zdf_59",pu={container:Yte,headerBar:Jte,title:Zte,meta:ese,description:tse},wE=({title:t,meta:e,description:s})=>n.jsxs("header",{className:pu.container,children:[n.jsxs("div",{className:pu.headerBar,children:[n.jsx("h2",{className:pu.title,children:t}),e&&n.jsx("span",{className:pu.meta,children:e})]}),s&&n.jsx("p",{className:pu.description,children:s})]}),sse=()=>n.jsxs(n.Fragment,{children:[n.jsx(wE,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:n.jsxs(n.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",n.jsx("em",{children:"max possible"})," you can find."]})}),n.jsx(Xte,{})]}),nse="_wrapper_67xyv_1",rse="_panel_67xyv_11",ise="_header_67xyv_27",ase="_title_67xyv_41",ose="_resetBtn_67xyv_53",lse="_table_67xyv_73",cse="_row_67xyv_99",dse="_name_67xyv_115",use="_selectCell_67xyv_125",hse="_sumCell_67xyv_143",mse="_footer_67xyv_155",pse="_footerLine_67xyv_175",fse="_note_67xyv_187",Ns={wrapper:nse,panel:rse,header:ise,title:ase,resetBtn:ose,table:lse,row:cse,name:dse,selectCell:use,sumCell:hse,footer:mse,footerLine:pse,note:fse};function zu(t,e,s){var l;if(!Array.isArray(t)||e<=0||s<=0)return 0;const r=Math.min(e,s),i=Math.max(e,s);let a=0;for(let d=r;d<=i;d++)a+=(l=t[d])!=null?l:0;return a}function gse(t){const e=[0];for(let s=1;s<=t;s++)e.push(s);return e}function mt(t,e){const s=[0,...t.map(r=>Number(r)||0)];if(e&&s.length<e+1)for(;s.length<e+1;)s.push(0);return s}const xse=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:mt([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:mt([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:mt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:mt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:mt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:mt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:mt([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:mt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:mt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:mt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:mt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:mt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:mt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:mt([0,0,0,0,0,0,0,0,0,0],10)}],vse=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:mt([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:mt([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:mt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:mt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:mt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:mt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:mt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:mt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:mt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:mt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:mt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:mt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:mt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:mt([0,0,0,0,0,0,0,0,0,0],10)}],xN=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],yse=(()=>{const t=[0,...xN],e=1e3-xN.length;for(let s=0;s<e;s++)t.push(3e7);return t})(),bse=mt([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),_se=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),aa={light:xse.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:vse.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:yse,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:bse,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:_se,specialType:"sandstorm"}]},Df=t=>t.toLocaleString("en-US");function vN(){const t={},e={},s={};return aa.light.forEach(r=>t[r.key]={from:0,to:0}),aa.shadow.forEach(r=>e[r.key]={from:0,to:0}),aa.special.forEach(r=>{r.specialType==="twister"?s[r.key]={from:486,to:1e3}:r.specialType==="cloi"?s[r.key]={from:2,to:11}:s[r.key]={from:0,to:0}}),{light:t,shadow:e,special:s}}function jE({row:t,range:e,onChange:s}){var d,u;const r=R.useMemo(()=>gse(t.maxLevel),[t.maxLevel]),i=(d=e.from)!=null?d:0,a=(u=e.to)!=null?u:0,l=R.useMemo(()=>i===0||a===0?0:zu(t.levels,i,a),[t.levels,i,a]);return n.jsxs("tr",{className:Ns.row,children:[n.jsx("td",{className:Ns.name,children:t.name}),n.jsx("td",{className:Ns.selectCell,children:n.jsx("select",{value:i,onChange:h=>s({from:Number(h.target.value),to:a}),children:r.map(h=>n.jsx("option",{value:h,children:h===0?"":h},h))})}),n.jsx("td",{className:Ns.selectCell,children:n.jsx("select",{value:a,onChange:h=>s({from:i,to:Number(h.target.value)}),children:r.map(h=>n.jsx("option",{value:h,children:h===0?"":h},h))})}),n.jsxs("td",{className:Ns.sumCell,children:[Df(l)," XP"]})]})}function yN({title:t,rows:e,ranges:s,setRanges:r}){const i=R.useMemo(()=>e.reduce((a,l)=>{const d=s[l.key]||{from:0,to:0};return a+zu(l.levels,d.from,d.to)},0),[e,s]);return n.jsxs("div",{className:Ns.panel,children:[n.jsx("div",{className:Ns.header,children:n.jsx("div",{className:Ns.title,children:t})}),n.jsxs("table",{className:Ns.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Dungeon"}),n.jsx("th",{children:"From"}),n.jsx("th",{children:"To"}),n.jsx("th",{children:"Sum XP"})]})}),n.jsx("tbody",{children:e.map(a=>{var l;return n.jsx(jE,{row:a,range:(l=s[a.key])!=null?l:{from:0,to:0},onChange:d=>r(a.key,d)},a.key)})})]}),n.jsx("div",{className:Ns.footer,children:n.jsxs("div",{className:Ns.footerLine,children:[n.jsxs("span",{children:["Sum Total ",t]}),n.jsxs("span",{children:[Df(i)," XP"]})]})})]})}function wse(){const t=vN(),[e,s]=R.useState(t.light),[r,i]=R.useState(t.shadow),[a,l]=R.useState(t.special),d=R.useMemo(()=>aa.light.reduce((v,b)=>{const S=e[b.key];return v+(S?zu(b.levels,S.from,S.to):0)},0),[e]),u=R.useMemo(()=>aa.shadow.reduce((v,b)=>{const S=r[b.key];return v+(S?zu(b.levels,S.from,S.to):0)},0),[r]),h=R.useMemo(()=>aa.special.reduce((v,b)=>{const S=a[b.key];return v+(S?zu(b.levels,S.from,S.to):0)},0),[a]),p=d+u+h,g=()=>{const v=vN();s(v.light),i(v.shadow),l(v.special)};return n.jsxs("div",{className:Ns.wrapper,children:[n.jsx(yN,{title:"Light World",rows:aa.light,ranges:e,setRanges:(v,b)=>s(S=>({...S,[v]:b}))}),n.jsx(yN,{title:"Shadow World",rows:aa.shadow,ranges:r,setRanges:(v,b)=>i(S=>({...S,[v]:b}))}),n.jsxs("div",{className:Ns.panel,children:[n.jsxs("div",{className:Ns.header,children:[n.jsx("div",{className:Ns.title,children:"Special Dungeons"}),n.jsx("button",{className:Ns.resetBtn,onClick:g,children:"RESET"})]}),n.jsxs("table",{className:Ns.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Dungeon"}),n.jsx("th",{children:"From"}),n.jsx("th",{children:"To"}),n.jsx("th",{children:"Sum"})]})}),n.jsx("tbody",{children:aa.special.map(v=>{var b;return n.jsx(jE,{row:v,range:(b=a[v.key])!=null?b:{from:0,to:0},onChange:S=>l(E=>({...E,[v.key]:S}))},v.key)})})]}),n.jsxs("div",{className:Ns.footer,children:[n.jsxs("div",{className:Ns.footerLine,children:[n.jsx("span",{children:"Sum Total Special"}),n.jsxs("span",{children:[Df(h)," XP"]})]}),n.jsxs("div",{className:Ns.footerLine,children:[n.jsx("span",{children:"Total XP"}),n.jsxs("span",{children:[Df(p)," XP"]})]}),n.jsxs("div",{className:Ns.note,children:["Flle die XP-Arrays in ",n.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function jse(){return n.jsx("div",{style:{padding:12},children:n.jsx(wse,{})})}const Sse=()=>n.jsx(cs,{title:"Progression  Early Game"}),Nse="_wrap_n2poq_31",kse="_title_n2poq_33",Tse="_infoBox_n2poq_39",Cse="_infoTitle_n2poq_63",Ese="_infoList_n2poq_73",Ase="_section_n2poq_89",Ise="_h2_n2poq_101",Rse="_h3_n2poq_103",Pse="_intro_n2poq_105",Lse="_ul_n2poq_107",Dse="_img_n2poq_113",Gt={wrap:Nse,title:kse,infoBox:Tse,infoTitle:Cse,infoList:Ese,section:Ase,h2:Ise,h3:Rse,intro:Pse,ul:Lse,img:Dse},Mse=()=>{Cl();const t=[vl("first-weekend-guide-day1",900),vl("first-weekend-guide-day2",900),vl("first-weekend-guide-day3",900)];return n.jsxs("div",{className:Gt.wrap,children:[n.jsx("h1",{className:Gt.title,children:"First Weekend Guide"}),n.jsxs("aside",{className:Gt.infoBox,role:"note","aria-label":"Important Level Tips",children:[n.jsx("div",{className:Gt.infoTitle,children:"Important Level Tips"}),n.jsxs("ul",{className:Gt.infoList,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),n.jsx("p",{className:Gt.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),n.jsxs("div",{className:Gt.section,children:[n.jsx("h2",{className:Gt.h2,children:"Preparation before launch"}),n.jsxs("ul",{className:Gt.ul,children:[n.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),n.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),n.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),n.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),n.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),n.jsxs("div",{className:Gt.section,children:[n.jsx("h2",{className:Gt.h2,children:"Day 1"}),n.jsx("h3",{className:Gt.h3,children:"Level 13"}),n.jsxs("ul",{className:Gt.ul,children:[n.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),n.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&n.jsx("img",{className:Gt.img,src:t[0],alt:"Day 1 overview"})]}),n.jsxs("div",{className:Gt.section,children:[n.jsx("h3",{className:Gt.h3,children:"Level 410"}),n.jsxs("ul",{className:Gt.ul,children:[n.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),n.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),n.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),n.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),n.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),n.jsxs("div",{className:Gt.section,children:[n.jsx("h2",{className:Gt.h2,children:"Day 2"}),n.jsx("h3",{className:Gt.h3,children:"Level 1015"}),n.jsxs("ul",{className:Gt.ul,children:[n.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),n.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),n.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),n.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&n.jsx("img",{className:Gt.img,src:t[1],alt:"Day 2 overview"})]}),n.jsxs("div",{className:Gt.section,children:[n.jsx("h2",{className:Gt.h2,children:"Day 3"}),n.jsx("h3",{className:Gt.h3,children:"Level 1520"}),n.jsxs("ul",{className:Gt.ul,children:[n.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),n.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&n.jsx("img",{className:Gt.img,src:t[2],alt:"Day 3 overview"})]})]})},Fse=()=>n.jsx(cs,{title:"Max Item Stats Calculator"}),Bse=()=>n.jsx(cs,{title:"Fortress Package skip order (Early)"}),$se=()=>n.jsx(cs,{title:"Underworld Pro Package skip order (Early)"}),Ose=()=>n.jsx(cs,{title:"Gem Calculator (Early)"}),Vse=()=>n.jsx(cs,{title:"Fortress attack duplication guide (Early)"}),Use=()=>n.jsx(cs,{title:"Progression  Mid Game"}),zse="_wrap_1x7jo_31",Hse="_header_1x7jo_35",Gse="_titles_1x7jo_55",Wse="_h1_1x7jo_57",qse="_lead_1x7jo_59",Kse="_ctaRow_1x7jo_63",Qse="_cta_1x7jo_63",Xse="_section_1x7jo_85",Yse="_sectionGrid_1x7jo_87",Jse="_card_1x7jo_99",Zse="_h2_1x7jo_103",ene="_h3_1x7jo_105",tne="_p_1x7jo_107",sne="_ul_1x7jo_111",nne="_ol_1x7jo_111",rne="_figure_1x7jo_117",ine="_figureNarrow_1x7jo_139",ane="_img_1x7jo_149",one="_fallbackImg_1x7jo_151",lne="_figCaption_1x7jo_159",cne="_tableWrap_1x7jo_163",dne="_table_1x7jo_163",une="_footer_1x7jo_217",hne="_tools_1x7jo_219",mne="_toolBtn_1x7jo_221",St={wrap:zse,header:Hse,titles:Gse,h1:Wse,lead:qse,ctaRow:Kse,cta:Qse,section:Xse,sectionGrid:Yse,card:Jse,h2:Zse,h3:ene,p:tne,ul:sne,ol:nne,figure:rne,figureNarrow:ine,img:ane,fallbackImg:one,figCaption:lne,tableWrap:cne,table:dne,footer:une,tools:hne,toolBtn:mne},pne=1400;function fne(){const t=R.useMemo(()=>vl("goldxpcurve",pne),[]);return n.jsxs("div",{className:St.wrap,children:[n.jsxs("header",{className:St.header,children:[n.jsxs("div",{className:St.titles,children:[n.jsx("h1",{className:St.h1,children:"Dungeon Pause"}),n.jsx("p",{className:St.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),n.jsxs("div",{className:St.ctaRow,children:[n.jsx(zt,{className:St.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),n.jsx(zt,{className:St.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),n.jsxs("section",{className:St.section,children:[n.jsx("h2",{className:St.h2,children:"Worum gehts?"}),n.jsxs("p",{className:St.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",n.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",n.jsx("strong",{children:"Level 370"})," und endet um ",n.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),n.jsxs("section",{className:St.section,children:[n.jsx("h3",{className:St.h3,children:"XP & Gold  Verlauf"}),n.jsxs("div",{className:`${St.figure} ${St.figureNarrow}`,children:[t?n.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:St.img}):n.jsx("div",{className:St.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),n.jsx("div",{className:St.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),n.jsxs("section",{className:St.sectionGrid,children:[n.jsxs("div",{className:St.card,children:[n.jsx("h3",{className:St.h3,children:"Start & Ende"}),n.jsxs("ul",{className:St.ul,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",n.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",n.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),n.jsxs("div",{className:St.card,children:[n.jsx("h3",{className:St.h3,children:"Twister & Light/Shadow"}),n.jsxs("ul",{className:St.ul,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Twister:"})," bei ca. ",n.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),n.jsxs("li",{children:["Whrend der Pause weiterhin ",n.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",n.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",n.jsx("em",{children:"Devilsatt"})," &"," ",n.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),n.jsxs("section",{className:St.section,children:[n.jsx("h3",{className:St.h3,children:"Vorgehen"}),n.jsxs("ol",{className:St.ol,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",n.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",n.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",n.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),n.jsxs("section",{className:St.section,children:[n.jsx("h3",{className:St.h3,children:"Kompaktbersicht"}),n.jsx("div",{className:St.tableWrap,children:n.jsxs("table",{className:St.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Aspekt"}),n.jsx("th",{children:"Empfehlung"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Start (Faustregel)"}),n.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Ende (Faustregel)"}),n.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Open XP vor Eintritt"}),n.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Twister"}),n.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Light/Shadow"}),n.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Whrend der Pause"}),n.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Pets"}),n.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Optimaler Exit"}),n.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),n.jsx("footer",{className:St.footer,children:n.jsxs("div",{className:St.tools,children:[n.jsx(zt,{className:St.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),n.jsx(zt,{className:St.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const gne=()=>n.jsx(cs,{title:"Dungeon Pause open XP Calculator"}),xne="_wrap_1uhww_3",vne="_headerBar_1uhww_15",yne="_title_1uhww_33",bne="_meta_1uhww_45",_ne="_description_1uhww_55",wne="_section_1uhww_69",jne="_sectionTitle_1uhww_77",Sne="_steps_1uhww_87",ji={wrap:xne,headerBar:vne,title:yne,meta:bne,description:_ne,section:wne,sectionTitle:jne,steps:Sne};function Nne(){return n.jsxs("div",{className:ji.wrap,children:[n.jsxs("div",{className:ji.headerBar,children:[n.jsx("h2",{className:ji.title,children:"Dungeon Pause Exit"}),n.jsx("span",{className:ji.meta,children:"Last updated: 28.03.2025"})]}),n.jsx("p",{className:ji.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),n.jsxs("section",{className:ji.section,children:[n.jsx("h3",{className:ji.sectionTitle,children:"Sequence for the Exit"}),n.jsxs("ol",{className:ji.steps,children:[n.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),n.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),n.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),n.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),n.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),n.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),n.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),n.jsxs("section",{className:ji.section,children:[n.jsx("h3",{className:ji.sectionTitle,children:"Extra Tip"}),n.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const kne=()=>n.jsx(cs,{title:"Gem Calculator (Mid)"}),Tne=()=>n.jsx(cs,{title:"Calendar Skip"}),Cne=()=>n.jsx(cs,{title:"Progression  Late Game"}),Ene="_layout_13sgm_29",Ane="_side_13sgm_49",Ine="_sideHead_13sgm_61",Rne="_search_13sgm_71",Pne="_spotBtn_13sgm_89",Lne="_sideList_13sgm_109",Dne="_sideItem_13sgm_111",Mne="_active_13sgm_119",Fne="_sideTitle_13sgm_121",Bne="_ico_13sgm_123",$ne="_badge_13sgm_125",One="_detail_13sgm_139",Vne="_detailInner_13sgm_141",Une="_detailHead_13sgm_143",zne="_detailTitle_13sgm_145",Hne="_empty_13sgm_147",Gne="_grid_13sgm_151",Wne="_card_13sgm_157",qne="_cardHead_13sgm_175",Kne="_btnGrid_13sgm_177",Qne="_itemBtn_13sgm_179",Xne="_spotWrap_13sgm_203",Yne="_spot_13sgm_89",Jne="_spotHead_13sgm_227",Zne="_spotSearch_13sgm_235",ere="_spotClose_13sgm_243",tre="_spotList_13sgm_253",sre="_spotItem_13sgm_255",nre="_spotItemEmpty_13sgm_259",rre="_spotCat_13sgm_261",ire="_spotLabel_13sgm_263",are="_mark_13sgm_267",yt={layout:Ene,side:Ane,sideHead:Ine,search:Rne,spotBtn:Pne,sideList:Lne,sideItem:Dne,active:Mne,sideTitle:Fne,ico:Bne,badge:$ne,detail:One,detailInner:Vne,detailHead:Une,detailTitle:zne,empty:Hne,grid:Gne,card:Wne,cardHead:qne,btnGrid:Kne,itemBtn:Qne,spotWrap:Xne,spot:Yne,spotHead:Jne,spotSearch:Zne,spotClose:ere,spotList:tre,spotItem:sre,spotItemEmpty:nre,spotCat:rre,spotLabel:ire,mark:are};function ore(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fu(t,e){if(!e)return t;const s=new RegExp(`(${ore(e)})`,"ig");return t.replace(s,`<mark class="${yt.mark}">$1</mark>`)}function bN(t){if(!t||!t.length)return 0;let e=0;for(const s of t)if(s.sub2&&s.sub2.length)if(s.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of s.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=s.sub2.length;else e+=1;return e}function lre(t){const e=[];for(const s of t){const r=s.label;if(!(!s.sub||!s.sub.length))for(const i of s.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(l=>l.sub2&&l.sub2.length))for(const l of i.sub2)if(l.sub2&&l.sub2.length)for(const d of l.sub2)e.push({full:`${r}  ${i.label}  ${l.label}  ${d.label}`,catKey:s.key,subKey:i.key,sub2Key:d.key});else e.push({full:`${r}  ${i.label}  ${l.label}`,catKey:s.key,subKey:i.key,sub2Key:l.key});else for(const l of i.sub2)e.push({full:`${r}  ${i.label}  ${l.label}`,catKey:s.key,subKey:i.key,sub2Key:l.key});else e.push({full:`${r}  ${i.label}`,catKey:s.key,subKey:i.key})}return e}function cre(t,e){var s;return e&&t.some(r=>r.key===e)?e:((s=t==null?void 0:t[0])==null?void 0:s.key)||""}const dre=({categories:t,onNavigate:e,autoFocusSearch:s})=>{const[r,i]=R.useState(()=>{var D;return((D=t==null?void 0:t[0])==null?void 0:D.key)||""}),[a,l]=R.useState(""),[d,u]=R.useState(!1),h=R.useRef(null),p=R.useMemo(()=>{const D=a.trim().toLowerCase();if(!D)return t;const A=y=>y.toLowerCase().includes(D);return t.map(y=>{const j=A(y.label),M=[];for(const k of y.sub||[]){const w=A(k.label);if(k.sub2&&k.sub2.length)if(k.sub2.some(L=>L.sub2&&L.sub2.length)){const L=[];for(const P of k.sub2)if(P.sub2&&P.sub2.length){const O=P.sub2.filter($=>A($.label));O.length&&L.push({...P,sub2:O})}else A(P.label)&&L.push(P);(w||L.length)&&M.push({...k,sub2:L})}else{const L=k.sub2.filter(P=>A(P.label));(w||L.length)&&M.push({...k,sub2:L})}else w&&M.push(k)}return j||M.length?{...y,sub:M.length?M:y.sub}:null}).filter(Boolean)},[t,a]),g=R.useMemo(()=>{const D=p.length?p:t,A=cre(D,r);return D.find(y=>y.key===A)||D[0]||null},[p,t,r]),v=R.useMemo(()=>lre(t),[t]),[b,S]=R.useState(""),E=R.useMemo(()=>{const D=b.trim().toLowerCase();return D?v.filter(A=>A.full.toLowerCase().includes(D)):v},[v,b]);R.useEffect(()=>{const D=A=>{const y=A.key.toLowerCase()==="k";(A.metaKey||A.ctrlKey)&&y&&(A.preventDefault(),u(!0),setTimeout(()=>{var j;return(j=h.current)==null?void 0:j.focus()},0)),A.key==="Escape"&&u(!1)};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[]);const I=R.useRef(null);R.useEffect(()=>{var D;s&&((D=I.current)==null||D.focus())},[s]);const F=()=>{var M;const D=a.trim().toLowerCase(),A=(D?v.find(k=>k.full.toLowerCase().includes(D)):v[0])||null;if(A){e({tab:A.catKey,sub:A.subKey,sub2:A.sub2Key});return}const y=g,j=(M=y==null?void 0:y.sub)==null?void 0:M[0];if(!(!y||!j))if(j.sub2&&j.sub2.length)if(j.sub2.some(w=>w.sub2&&w.sub2.length)){const w=j.sub2[0];w.sub2&&w.sub2.length?e({tab:y.key,sub:j.key,sub2:w.sub2[0].key}):e({tab:y.key,sub:j.key,sub2:w.key})}else e({tab:y.key,sub:j.key,sub2:j.sub2[0].key});else e({tab:y.key,sub:j.key})};return n.jsxs("div",{className:yt.layout,children:[n.jsxs("div",{className:yt.side,children:[n.jsxs("div",{className:yt.sideHead,children:[n.jsx("input",{ref:I,className:yt.search,type:"search",placeholder:"Suche",value:a,onChange:D=>l(D.target.value),onKeyDown:D=>{D.key==="Enter"&&F()}}),n.jsx("button",{className:yt.spotBtn,type:"button",onClick:()=>{u(!0),setTimeout(()=>{var D;return(D=h.current)==null?void 0:D.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),n.jsx("div",{className:yt.sideList,children:(p.length?p:t).map(D=>n.jsxs("div",{className:`${yt.sideItem} ${(g==null?void 0:g.key)===D.key?yt.active:""}`,onClick:()=>i(D.key),children:[n.jsxs("span",{className:yt.sideTitle,children:[D.icon?n.jsx("span",{className:yt.ico,"aria-hidden":!0,children:D.icon}):null,D.label]}),n.jsx("span",{className:yt.badge,children:bN(D.sub)})]},D.key))})]}),n.jsx("div",{className:yt.detail,children:g?n.jsxs("div",{className:yt.detailInner,children:[n.jsxs("div",{className:yt.detailHead,children:[n.jsxs("h3",{className:yt.detailTitle,children:[g.icon?n.jsx("span",{className:yt.ico,"aria-hidden":!0,children:g.icon}):null,g.label]}),n.jsxs("div",{className:yt.badge,children:[bN(g.sub)," Eintrge"]})]}),n.jsx("div",{className:yt.grid,children:(g.sub||[]).map(D=>{const A=D.sub2&&D.sub2.length>0,y=A&&D.sub2.some(j=>j.sub2&&j.sub2.length);return n.jsxs("div",{className:yt.card,children:[n.jsx("div",{className:yt.cardHead,dangerouslySetInnerHTML:{__html:fu(D.label,a)}}),A?n.jsx("div",{className:yt.btnGrid,children:y?D.sub2.flatMap(j=>j.sub2&&j.sub2.length?j.sub2.map(M=>n.jsx("button",{className:yt.itemBtn,onClick:()=>e({tab:g.key,sub:D.key,sub2:M.key}),dangerouslySetInnerHTML:{__html:fu(`${j.label}  ${M.label}`,a)}},`${j.key}__${M.key}`)):[n.jsx("button",{className:yt.itemBtn,onClick:()=>e({tab:g.key,sub:D.key,sub2:j.key}),dangerouslySetInnerHTML:{__html:fu(j.label,a)}},j.key)]):D.sub2.map(j=>n.jsx("button",{className:yt.itemBtn,onClick:()=>e({tab:g.key,sub:D.key,sub2:j.key}),dangerouslySetInnerHTML:{__html:fu(j.label,a)}},j.key))}):n.jsx("div",{className:yt.btnGrid,children:n.jsx("button",{className:yt.itemBtn,onClick:()=>e({tab:g.key,sub:D.key}),dangerouslySetInnerHTML:{__html:fu(D.label,a)}})})]},D.key)})}),a&&g.sub&&g.sub.length>0&&g.sub.every(D=>!D.sub2||!D.sub2.length?!D.label.toLowerCase().includes(a.trim().toLowerCase()):D.sub2.some(y=>y.sub2&&y.sub2.length)?D.sub2.every(y=>y.sub2&&y.sub2.length?y.sub2.every(j=>!j.label.toLowerCase().includes(a.trim().toLowerCase())):!y.label.toLowerCase().includes(a.trim().toLowerCase())):D.sub2.every(y=>!y.label.toLowerCase().includes(a.trim().toLowerCase())))?n.jsxs("div",{className:yt.empty,children:["Keine Treffer in ",g.label,"."]}):null]}):n.jsx("div",{className:yt.empty,children:"Keine Kategorie gefunden."})}),d&&n.jsx("div",{className:yt.spotWrap,onClick:()=>u(!1),children:n.jsxs("div",{className:yt.spot,onClick:D=>D.stopPropagation(),children:[n.jsxs("div",{className:yt.spotHead,children:[n.jsx("input",{ref:h,className:yt.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:b,onChange:D=>S(D.target.value)}),n.jsx("button",{className:yt.spotClose,onClick:()=>u(!1),children:"Esc"})]}),n.jsx("div",{className:yt.spotList,children:E.length===0?n.jsx("div",{className:yt.spotItemEmpty,children:"Keine Treffer"}):E.map((D,A)=>n.jsxs("div",{className:yt.spotItem,onClick:()=>{u(!1),e({tab:D.catKey,sub:D.subKey,sub2:D.sub2Key})},children:[n.jsx("div",{className:yt.spotCat,children:D.catKey}),n.jsx("div",{className:yt.spotLabel,children:D.full})]},A))})]})})]})},ure={gamefeatures:sZ,progression:nZ,hellevator:rZ,"legendary-dungeon":iZ,events:aZ,calculators:yZ,infographics:bZ,"class-book":_Z,dungeons:wZ},_N={gamefeatures:{fortress:jZ,underworld:BZ,arenaam:VZ},hellevator:{"hellevator-guide":Bee},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":$ee},events:{"event-list":Oee,"event-cycle":Vee},calculators:{"fortress-calculator":ate,"underworld-calculator":kte,"max-item-stats-calculator":Tte,"gem-calculator":sse,"dungeon-pause-open-xp-calculator":jse},progression:{early:Sse,mid:Use,late:Cne}},ey={gamefeatures:{arenaam:{"am-rune-bonuses":Tee,"am-build-order":Fee},underworld:{"underworld-calculator":$Z,"underworld-pro-package-skip-order":OZ},fortress:{"fortress-calculator":SZ,"fortress-package-skip-order":MZ,"fortress-attack-duplication":FZ}},progression:{early:{"first-weekend-guide":Mse,"max-item-stats-calculator":Fse,"fortress-package-skip-order":Bse,"underworld-pro-package-skip-order":$se,"gem-calculator":Ose,"fortress-attack-duplication":Vse},mid:{"dungeon-pause":fne,"dungeon-pause-open-xp-calculator":gne,"dungeon-pause-exit":Nne,"gem-calculator":kne,"calendar-skip":Tne}}};function hre(){const[t,e]=Cl(),s=t.get("tab")||"",r=t.get("sub")||"",i=t.get("sub2")||"";let a=null;s?s&&!r?a=ure[s]||null:s&&r&&!i?a=_N[s]&&_N[s][r]||null:s&&r&&i&&(a=ey[s]&&ey[s][r]&&ey[s][r][i]||null):a=null;const l=d=>{const u=new URLSearchParams(t);u.set("tab",d.tab),d.sub?u.set("sub",d.sub):u.delete("sub"),d.sub2?u.set("sub2",d.sub2):u.delete("sub2"),e(u,{replace:!1})};return n.jsxs(wt,{children:[n.jsx("div",{className:jc.topWrap,children:n.jsx(KJ,{logoSrc:tZ,categories:hN,titleI18nKey:"guides.index.title"})}),n.jsx("div",{className:jc.divider}),n.jsx("div",{className:jc.contentArea,children:a?n.jsx(a,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:jc.placeholder,children:[n.jsx("h2",{className:jc.placeholderTitle,children:"Guides"}),n.jsx("p",{className:jc.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),n.jsx(dre,{categories:hN,onNavigate:l,autoFocusSearch:!1})]})})]})}const mre="_wrap_1353r_1",pre="_centerLogoWrap_1353r_21",fre="_centerLogoLink_1353r_37",gre="_centerLogo_1353r_21",xre="_arc_1353r_71",vre="_left_1353r_73",yre="_right_1353r_75",bre="_sub_1353r_77",_re="_full_1353r_79",wre="_arcItem_1353r_81",jre="_iconBtn_1353r_87",Sre="_active_1353r_141",Nre="_iconImg_1353r_151",kre="_placeholderIcon_1353r_155",Tre="_placeholderText_1353r_173",Cre="_iconLabel_1353r_177",mn={wrap:mre,centerLogoWrap:pre,centerLogoLink:fre,centerLogo:gre,arc:xre,left:vre,right:yre,sub:bre,full:_re,arcItem:wre,iconBtn:jre,active:Sre,iconImg:Nre,placeholderIcon:kre,placeholderText:Tre,iconLabel:Cre},Ere=({to:t,label:e,icon:s,variant:r="main"})=>{const{search:i}=ir();let a=!1;try{const l=new URLSearchParams(i),d=l.get("tab"),u=l.get("sub"),p=new URL(t,window.location.origin).searchParams,g=p.get("tab"),v=p.get("sub");a=r==="sub"?d===g&&!!v&&u===v:d===g}catch(l){a=!1}return n.jsxs(zt,{to:t,"aria-label":e,className:[mn.iconBtn,r==="sub"?mn.muted:"",a?mn.active:""].join(" "),title:e,replace:!1,children:[s?n.jsx("img",{src:s,alt:"",className:mn.iconImg}):n.jsx("div",{className:mn.placeholderIcon,"aria-hidden":"true",children:n.jsx("span",{className:mn.placeholderText,children:e.slice(0,2).toUpperCase()})}),n.jsx("div",{className:mn.iconLabel,children:e})]})},ty=({items:t,side:e,anchorSide:s="right",compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:l=440})=>{const d=R.useMemo(()=>{const h=t.length;if(h===0)return[];let p=-90,g=90;e==="left"?(p=90,g=270):e==="sub"?s==="left"?(p=90,g=270):(p=-90,g=90):e==="full"&&(p=0,g=360);const v=(g-p)/(h+1),b=r?190:250;return t.map((S,E)=>{const F=(p+v*(E+1))*Math.PI/180;return{it:S,x:Math.cos(F)*b,y:Math.sin(F)*b}})},[t,e,s,r]),u=(()=>{const h={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?h.left=`calc(50% - ${a}px)`:e==="right"?h.left=`calc(50% + ${a}px)`:e==="sub"&&(h.left=s==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`),h})();return n.jsx("div",{className:[mn.arc,e==="left"?mn.left:"",e==="right"?mn.right:"",e==="sub"?mn.sub:"",e==="full"?mn.full:""].join(" "),style:u,children:d.map(({it:h,x:p,y:g})=>n.jsx("div",{className:mn.arcItem,style:{transform:`translate(${p}px, ${g}px)`},children:n.jsx(Ere,{to:h.to,label:h.label,icon:h.icon,variant:i})},h.key))})},Are=["creators","scans","predictions","news","records","feedback"],u0=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],Ire={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},Rre=new Set(Are),Pre=u0.reduce((t,e)=>(t[e.key]=e,t),{}),Lre=t=>typeof t=="string"&&Rre.has(t),Dre=({logoSrc:t})=>{const[e]=Cl(),s=e.get("tab")||null,r=R.useMemo(()=>u0.filter(b=>b.side==="left"),[]),i=R.useMemo(()=>u0.filter(b=>b.side==="right"),[]),a=Lre(s)?s:null,l=a?Ire[a]:[],d=a?Pre[a].side:"right",u=R.useRef(null),[h,p]=R.useState(220),[g,v]=R.useState(440);return R.useEffect(()=>{const b=()=>{var A,y;const E=((y=(A=u.current)==null?void 0:A.offsetWidth)!=null?y:380)/2,F=Math.round(E+60),D=Math.round(F+220);p(F),v(D)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),n.jsxs("div",{className:mn.wrap,children:[n.jsx("div",{className:mn.centerLogoWrap,children:n.jsx(zt,{to:"/community",className:mn.centerLogoLink,"aria-label":"Community Hub Home",children:n.jsx("img",{ref:u,src:t,alt:"Community Hub",className:mn.centerLogo})})}),n.jsx(ty,{items:r.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"left",variant:"main",arcOffset:h}),n.jsx(ty,{items:i.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"right",variant:"main",arcOffset:h}),l.length>0&&n.jsx(ty,{items:l.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"sub",anchorSide:d,compact:!0,variant:"sub",outerOffset:g})]})},Mre="_topWrap_1rivx_1",Fre="_divider_1rivx_19",Bre="_contentArea_1rivx_53",$re="_placeholder_1rivx_63",Ore="_placeholderTitle_1rivx_77",Vre="_placeholderText_1rivx_91",Sc={topWrap:Mre,divider:Fre,contentArea:Bre,placeholder:$re,placeholderTitle:Ore,placeholderText:Vre},Ure="/assets/logo_communityhub-LVMLHRD6.png",zre=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function SE(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function Hre(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,i,a]=e.map(l=>parseInt(l,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(a))return new Date(a,i-1,r).toISOString()}const s=new Date(t);return Number.isNaN(s.getTime())?new Date().toISOString():s.toISOString()}function sy(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function Gre(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function Wre(t){return t.avatar?t.avatar:`/avatars/${SE(t.code||t.name||"creator")}.png`}function qre(t){const e=SE(t.code||t.name||"creator"),s=[],r=sy(t.youtube);r&&s.push({type:"YouTube",url:r});const i=sy(t.twitch);i&&s.push({type:"Twitch",url:i});const a=sy(t.discord);return a&&s.push({type:"Discord",url:a}),{id:`sheet-${e}`,name:t.name,avatar:Wre(t),description:Gre(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:Hre(t.latestActivity),platforms:s}}function Kre(t){var s,r,i;const e=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];return{generatedAt:(s=t==null?void 0:t.generatedAt)!=null?s:new Date().toISOString(),data:e,warnings:(i=(r=t==null?void 0:t.warnings)!=null?r:t==null?void 0:t.errors)!=null?i:[],stats:t==null?void 0:t.stats}}function NE(t="/data/creators-live.json"){const[e,s]=R.useState(null),[r,i]=R.useState(""),[a,l]=R.useState(!1),[d,u]=R.useState(0);return R.useEffect(()=>{let h=!1;async function p(){l(!0),i("");try{const g=await fetch(t,{cache:"no-store"});if(!g.ok)throw new Error(`HTTP ${g.status}`);const v=await g.json();h||s(Kre(v))}catch(g){h||(i((g==null?void 0:g.message)||"Failed to load creator snapshot"),s(null))}finally{h||l(!1)}}return p(),()=>{h=!0}},[t,d]),{snapshot:e,error:r,loading:a,refresh:()=>u(h=>h+1)}}const Qre=zre,Xre=Qre.map(qre),Yre=[...Xre];function kE(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function co(t,e,s=kE){if(t<=0)return"";const r=s(t);return e?`${r} ${e}`:r}function fh(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function Jre(t,e){const s=e==="asc"?1:-1;return(r,i)=>{switch(t){case"subs":return(r.subscribers-i.subscribers)*s;case"views":return(r.totalViews-i.totalViews)*s;case"activity":return(fh(r.lastActive)-fh(i.lastActive))*s*-1;case"language":return r.language.localeCompare(i.language)*s;default:return 0}}}function Zre(t){const e={width:16,height:16};switch(t){case"YouTube":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[n.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),n.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[n.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),n.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),n.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[n.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),n.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),n.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[n.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),n.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),n.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function wN({c:t}){return n.jsxs("article",{className:"cc-card",children:[n.jsxs("header",{className:"cc-card-head",children:[n.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const s=e.currentTarget;s.onerror=null,s.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),n.jsxs("div",{className:"cc-card-title",children:[n.jsx("h3",{className:"cc-name",children:t.name}),n.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>n.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[Zre(e.type),n.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),n.jsx("p",{className:"cc-desc",children:t.description}),n.jsxs("div",{className:"cc-stats",children:[n.jsx("span",{title:"Subscribers",children:co(t.subscribers,"subs")}),n.jsx("span",{title:"Total views",children:co(t.totalViews,"views")}),n.jsx("span",{title:"Weekly views",children:co(t.weeklyViews,"/wk")}),n.jsx("span",{title:"Weekly posts",children:co(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),n.jsxs("footer",{className:"cc-meta",children:[n.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),n.jsxs("span",{className:"cc-meta-right",children:["active ",fh(t.lastActive),"d ago"]})]})]},t.id)}function eie({data:t}){return n.jsx("div",{className:"cc-table-wrap",children:n.jsxs("table",{className:"cc-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Lang"}),n.jsx("th",{children:"Subs"}),n.jsx("th",{children:"Total Views"}),n.jsx("th",{children:"Weekly Views"}),n.jsx("th",{children:"Weekly Posts"}),n.jsx("th",{children:"Active"})]})}),n.jsx("tbody",{children:t.map(e=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"cc-table-name",children:[n.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),n.jsx("span",{children:e.name})]})}),n.jsx("td",{children:e.language.toUpperCase()}),n.jsx("td",{children:co(e.subscribers)}),n.jsx("td",{children:co(e.totalViews)}),n.jsx("td",{children:co(e.weeklyViews)}),n.jsx("td",{children:co(e.weeklyPosts,void 0,s=>`${s}`)}),n.jsxs("td",{children:[fh(e.lastActive),"d"]})]},e.id))})]})})}function TE(){var ee,ce;const[t,e]=R.useState("static"),[s,r]=R.useState("cards"),[i,a]=R.useState("subs"),[l,d]=R.useState("desc"),[u,h]=R.useState("all"),[p,g]=R.useState("all"),[v,b]=R.useState(0),[S,E]=R.useState(365),[I,F]=R.useState(null),[D,A]=R.useState(""),[y,j]=R.useState(!1),[M,k]=R.useState(""),[w,C]=R.useState(null),{snapshot:L,error:P}=NE(),O=(ee=L==null?void 0:L.data)!=null&&ee.length?L.data:null,$=O!=null?O:Yre,W=t==="static"?$:(ce=w!=null?w:O)!=null?ce:[],H=R.useMemo(()=>{const te=new Set(W.map(fe=>fe.language));return Array.from(te).sort()},[W]),q=R.useMemo(()=>W.filter(te=>u==="all"?!0:te.language===u).filter(te=>p==="all"?!0:te.platforms.some(fe=>fe.type===p)).filter(te=>te.subscribers>=v).filter(te=>fh(te.lastActive)<=S).slice().sort(Jre(i,l)),[W,u,p,v,S,i,l]);R.useEffect(()=>{if(!I&&q.length){const te=q[Math.floor(Math.random()*q.length)];F(te.id)}},[q,I]);const Q=R.useMemo(()=>q.find(te=>te.id===I)||null,[q,I]),G=R.useMemo(()=>q.slice().sort((te,fe)=>fe.weeklyViews-te.weeklyViews).slice(0,5),[q]),J=R.useMemo(()=>q.slice().sort((te,fe)=>fe.weeklyPosts-te.weeklyPosts).slice(0,5),[q]);async function ne(){k(""),j(!0);try{const te=await fetch(D,{headers:{Accept:"application/json"}});if(!te.ok)throw new Error(`HTTP ${te.status}`);const fe=await te.json(),Ce=Array.isArray(fe)?fe:Array.isArray(fe==null?void 0:fe.data)?fe.data:[];C(Ce)}catch(te){k((te==null?void 0:te.message)||"Fetch failed")}finally{j(!1)}}const z=q.length===0;return n.jsxs("section",{className:"cc-wrap",children:[n.jsxs("div",{className:"cc-heading",children:[n.jsx("h1",{children:"Content Creator Hub"}),n.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),L&&n.jsxs("p",{className:"cc-sync",children:[n.jsxs("span",{children:["Live stats synced ",new Date(L.generatedAt).toLocaleString()]}),n.jsxs("span",{children:[L.data.length," profiles"]})]}),P&&n.jsx("p",{className:"cc-sync-error",children:P})]}),n.jsxs("div",{className:"cc-toolbar",children:[n.jsxs("div",{className:"cc-toolbar-row",children:[n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Data"}),n.jsxs("select",{value:t,onChange:te=>e(te.target.value),children:[n.jsx("option",{value:"static",children:"Static"}),n.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"View"}),n.jsxs("select",{value:s,onChange:te=>r(te.target.value),children:[n.jsx("option",{value:"cards",children:"Cards"}),n.jsx("option",{value:"table",children:"Table"}),n.jsx("option",{value:"json",children:"JSON"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Sort by"}),n.jsxs("select",{value:i,onChange:te=>a(te.target.value),children:[n.jsx("option",{value:"subs",children:"Subs"}),n.jsx("option",{value:"views",children:"Views"}),n.jsx("option",{value:"activity",children:"Activity"}),n.jsx("option",{value:"language",children:"Language"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Dir"}),n.jsxs("select",{value:l,onChange:te=>d(te.target.value),children:[n.jsx("option",{value:"desc",children:"Desc"}),n.jsx("option",{value:"asc",children:"Asc"})]})]})]}),n.jsxs("div",{className:"cc-toolbar-row",children:[n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Language"}),n.jsxs("select",{value:u,onChange:te=>h(te.target.value),children:[n.jsx("option",{value:"all",children:"All"}),H.map(te=>n.jsx("option",{value:te,children:te.toUpperCase()},te))]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Platform"}),n.jsxs("select",{value:p,onChange:te=>g(te.target.value),children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"YouTube",children:"YouTube"}),n.jsx("option",{value:"Twitch",children:"Twitch"}),n.jsx("option",{value:"TikTok",children:"TikTok"}),n.jsx("option",{value:"Discord",children:"Discord"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Min subs"}),n.jsx("input",{type:"number",min:0,value:v,onChange:te=>b(Number(te.target.value||0)),placeholder:"0"})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Active within"}),n.jsxs("select",{value:S,onChange:te=>E(Number(te.target.value)),children:[n.jsx("option",{value:7,children:"7 days"}),n.jsx("option",{value:30,children:"30 days"}),n.jsx("option",{value:90,children:"90 days"}),n.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&n.jsxs("div",{className:"cc-api",children:[n.jsxs("div",{className:"cc-api-ctrls",children:[n.jsxs("label",{className:"cc-field cc-field-grow",children:[n.jsx("span",{children:"API URL"}),n.jsx("input",{type:"url",value:D,onChange:te=>A(te.target.value),placeholder:"https://api.example.com/creators"})]}),n.jsx("button",{className:"cc-btn",onClick:ne,disabled:!D||y,children:y?"Loading":"Fetch"})]}),M&&n.jsx("div",{className:"cc-api-error",children:M}),n.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),Q&&n.jsxs("div",{className:"cc-spotlight",children:[n.jsxs("div",{className:"cc-spot-head",children:[n.jsx("h2",{children:"Random CC Spotlight"}),n.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!q.length)return;const te=q[Math.floor(Math.random()*q.length)];F(te.id)},children:"Shuffle"})]}),n.jsx(wN,{c:Q})]}),n.jsxs("div",{className:"cc-main",children:[n.jsxs("div",{className:"cc-main-left",children:[z&&n.jsxs("div",{className:"cc-empty",children:[n.jsx("h3",{children:"No creators match the filters"}),n.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!z&&s==="cards"&&n.jsx("div",{className:"cc-grid",children:q.map(te=>n.jsx(wN,{c:te},te.id))}),!z&&s==="table"&&n.jsx(eie,{data:q}),s==="json"&&n.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(q,null,2)})]}),n.jsxs("aside",{className:"cc-main-right",children:[n.jsxs("div",{className:"cc-side",children:[n.jsx("h3",{children:"Weekly Toplists"}),n.jsxs("div",{className:"cc-toplist",children:[n.jsxs("div",{children:[n.jsx("h4",{children:"By Weekly Views"}),n.jsx("ol",{children:G.map(te=>n.jsxs("li",{children:[n.jsx("span",{children:te.name}),n.jsx("span",{className:"cc-top-val",children:kE(te.weeklyViews)})]},te.id))})]}),n.jsxs("div",{children:[n.jsx("h4",{children:"By Weekly Posts"}),n.jsx("ol",{children:J.map(te=>n.jsxs("li",{children:[n.jsx("span",{children:te.name}),n.jsx("span",{className:"cc-top-val",children:te.weeklyPosts})]},te.id))})]})]})]}),n.jsxs("div",{className:"cc-side cc-legal",children:[n.jsx("h3",{children:"Legal & Disclaimer"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Only public data; no embedding without permission."}),n.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),n.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function CE(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  Scans"}),n.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function EE(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  Predictions"}),n.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function AE(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  News"}),n.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function IE(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  Feedback"}),n.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const tie=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],ny=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],sie={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},nie=t=>sie[t],rie=(t,e=64)=>{var i;const s=nie(t),r=Nl(s);return r&&(i=Vr(r,e))!=null?i:null},iie="_recordsPage_kdw96_1",aie="_navArea_kdw96_15",oie="_tabList_kdw96_27",lie="_tabButton_kdw96_55",cie="_tabButtonActive_kdw96_101",die="_sectionContent_kdw96_115",uie="_placeholderPanel_kdw96_127",hie="_placeholderTitle_kdw96_143",mie="_placeholderText_kdw96_157",pie="_milestoneSection_kdw96_171",fie="_sectionHeader_kdw96_183",gie="_filterBar_kdw96_197",xie="_filterButtons_kdw96_231",vie="_filterButton_kdw96_231",yie="_filterButtonActive_kdw96_295",bie="_filterSelectWrapper_kdw96_309",_ie="_filterLabel_kdw96_321",wie="_filterSelect_kdw96_309",jie="_emptyFilterMessage_kdw96_355",Sie="_currentSection_kdw96_369",Nie="_currentGrid_kdw96_381",kie="_currentCard_kdw96_393",Tie="_categoryLabel_kdw96_419",Cie="_recordTitle_kdw96_433",Eie="_currentDetails_kdw96_445",Aie="_notes_kdw96_457",Iie="_infoPanel_kdw96_469",Rie="_infoCard_kdw96_481",Pie="_disclaimerCard_kdw96_483",Lie="_infoHeader_kdw96_525",Die="_infoAuthor_kdw96_539",Mie="_authorName_kdw96_557",Fie="_authorBadge_kdw96_565",Bie="_infoAuthorIcon_kdw96_591",$ie="_infoDate_kdw96_623",Oie="_infoBody_kdw96_633",Vie="_infoTitle_kdw96_645",Uie="_infoLink_kdw96_665",zie="_milestoneGrid_kdw96_719",Hie="_milestoneCard_kdw96_731",Gie="_milestoneCategory_kdw96_757",Wie="_milestoneTitle_kdw96_771",qie="_milestoneDetails_kdw96_785",Kie="_detailRow_kdw96_797",Qie="_detailLabel_kdw96_809",Xie="_detailValue_kdw96_823",Yie="_sourceLink_kdw96_833",Jie="_emptyState_kdw96_855",Fe={recordsPage:iie,navArea:aie,tabList:oie,tabButton:lie,tabButtonActive:cie,sectionContent:die,placeholderPanel:uie,placeholderTitle:hie,placeholderText:mie,milestoneSection:pie,sectionHeader:fie,filterBar:gie,filterButtons:xie,filterButton:vie,filterButtonActive:yie,filterSelectWrapper:bie,filterLabel:_ie,filterSelect:wie,emptyFilterMessage:jie,currentSection:Sie,currentGrid:Nie,currentCard:kie,categoryLabel:Tie,recordTitle:Cie,currentDetails:Eie,notes:Aie,infoPanel:Iie,infoCard:Rie,disclaimerCard:Pie,infoHeader:Lie,infoAuthor:Die,authorName:Mie,authorBadge:Fie,infoAuthorIcon:Bie,infoDate:$ie,infoBody:Oie,infoTitle:Vie,infoLink:Uie,milestoneGrid:zie,milestoneCard:Hie,milestoneCategory:Gie,milestoneTitle:Wie,milestoneDetails:qie,detailRow:Kie,detailLabel:Qie,detailValue:Xie,sourceLink:Yie,emptyState:Jie},Zie=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],eae={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},tae=({title:t,description:e,hint:s})=>n.jsxs("article",{className:Fe.placeholderPanel,children:[n.jsx("h2",{className:Fe.placeholderTitle,children:t}),n.jsx("p",{className:Fe.placeholderText,children:e}),s&&n.jsx("p",{className:Fe.emptyState,children:s})]}),sae=()=>{const[t,e]=R.useState("all"),s=R.useMemo(()=>{const a=new Set,l=[];for(const d of ny)a.has(d.category)||(a.add(d.category),l.push(d.category));return["all",...l]},[]),r=t==="all"?ny:ny.filter(a=>a.category===t),i=a=>{e(a)};return n.jsxs("section",{className:Fe.milestoneSection,"aria-label":"Records milestones",children:[n.jsxs("div",{className:Fe.sectionHeader,children:[n.jsx("p",{children:"Milestones"}),n.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),n.jsxs("div",{className:Fe.filterBar,children:[n.jsx("div",{className:Fe.filterButtons,children:s.map(a=>n.jsx("button",{type:"button",className:[Fe.filterButton,t===a&&Fe.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(a),"aria-pressed":t===a,children:a==="all"?"All Categories":a},a))}),n.jsxs("label",{className:Fe.filterSelectWrapper,children:[n.jsx("span",{className:Fe.filterLabel,children:"Category"}),n.jsx("select",{value:t,onChange:a=>i(a.target.value),className:Fe.filterSelect,children:s.map(a=>n.jsx("option",{value:a,children:a==="all"?"All Categories":a},a))})]})]}),r.length===0?n.jsx("p",{className:Fe.emptyFilterMessage,children:"No milestones fall into this category yet."}):n.jsx("div",{className:Fe.milestoneGrid,children:r.map(a=>n.jsxs("article",{className:Fe.milestoneCard,children:[n.jsx("span",{className:Fe.milestoneCategory,children:a.category}),n.jsx("h3",{className:Fe.milestoneTitle,children:a.achievement}),n.jsxs("div",{className:Fe.milestoneDetails,children:[n.jsxs("div",{className:Fe.detailRow,children:[n.jsx("span",{className:Fe.detailLabel,children:"Name"}),n.jsx("span",{className:Fe.detailValue,children:a.name})]}),n.jsxs("div",{className:Fe.detailRow,children:[n.jsx("span",{className:Fe.detailLabel,children:"Server"}),n.jsx("span",{className:Fe.detailValue,children:a.server})]}),n.jsxs("div",{className:Fe.detailRow,children:[n.jsx("span",{className:Fe.detailLabel,children:"Date"}),n.jsx("span",{className:Fe.detailValue,children:a.date})]}),a.notes&&n.jsx("p",{className:Fe.notes,children:a.notes}),a.source&&n.jsx("a",{href:a.source,target:"_blank",rel:"noreferrer",className:Fe.sourceLink,children:"Source"})]})]},`${a.achievement}-${a.name}`))})]})},nae=()=>n.jsxs("section",{className:Fe.currentSection,"aria-label":"Current community records",children:[n.jsxs("div",{className:Fe.sectionHeader,children:[n.jsx("p",{children:"Current Records"}),n.jsx("h2",{children:"The latest verified achievements"})]}),n.jsx("div",{className:Fe.currentGrid,children:tie.map((t,e)=>n.jsxs("article",{className:Fe.currentCard,children:[n.jsx("span",{className:Fe.categoryLabel,children:t.category}),n.jsx("h3",{className:Fe.recordTitle,children:t.record}),n.jsxs("div",{className:Fe.currentDetails,children:[n.jsxs("div",{className:Fe.detailRow,children:[n.jsx("span",{className:Fe.detailLabel,children:"Class"}),n.jsx("span",{className:Fe.detailValue,children:t.classType})]}),n.jsxs("div",{className:Fe.detailRow,children:[n.jsx("span",{className:Fe.detailLabel,children:"Player"}),n.jsx("span",{className:Fe.detailValue,children:t.playerName})]}),n.jsxs("div",{className:Fe.detailRow,children:[n.jsx("span",{className:Fe.detailLabel,children:"Server"}),n.jsx("span",{className:Fe.detailValue,children:t.server})]}),n.jsxs("div",{className:Fe.detailRow,children:[n.jsx("span",{className:Fe.detailLabel,children:"Days"}),n.jsx("span",{className:Fe.detailValue,children:t.days})]}),t.release&&n.jsxs("div",{className:Fe.detailRow,children:[n.jsx("span",{className:Fe.detailLabel,children:"Release"}),n.jsx("span",{className:Fe.detailValue,children:t.release})]}),(t.previousDays||t.previousName)&&n.jsxs("p",{className:Fe.notes,children:["Previous: ",t.previousDays?`${t.previousDays} days`:""," ",t.previousName?`(${t.previousName})`:""]}),t.notes&&n.jsx("p",{className:Fe.notes,children:t.notes})]})]},`${t.category}-${t.playerName}-${e}`))})]}),gu={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function RE(){const[t,e]=R.useState("current"),s=rie("infoCard",32),r=()=>{if(t==="current")return n.jsx(nae,{});if(t==="milestones")return n.jsx(sae,{});const i=eae[t];return n.jsx(tae,{title:i.title,description:i.description,hint:i.hint})};return n.jsxs("section",{className:Fe.recordsPage,children:[n.jsx(wE,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),n.jsxs("div",{className:Fe.infoPanel,children:[n.jsxs("div",{className:Fe.infoCard,children:[n.jsxs("div",{className:Fe.infoHeader,children:[n.jsxs("div",{className:Fe.infoAuthor,children:[s?n.jsx("img",{src:s,alt:"Community Data",className:Fe.infoAuthorIcon}):null,n.jsx("span",{className:Fe.authorName,children:"S&F Tavern Info"}),n.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:Fe.authorBadge,children:"Discord"})]}),n.jsx("span",{className:Fe.infoDate,children:"11.12.2020 14:08"})]}),n.jsxs("div",{className:Fe.infoBody,children:[n.jsx("h3",{className:Fe.infoTitle,children:gu.title}),gu.paragraphs.map(i=>n.jsx("p",{children:i},i))]}),n.jsxs("div",{className:Fe.infoLink,children:[n.jsx("span",{children:gu.linkLabel}),n.jsx("a",{href:gu.linkUrl,target:"_blank",rel:"noreferrer",children:gu.linkUrl})]})]}),n.jsxs("div",{className:Fe.disclaimerCard,children:[n.jsx("h3",{className:Fe.infoTitle,children:"Disclaimer"}),n.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),n.jsx("div",{className:Fe.navArea,children:n.jsx("nav",{className:Fe.tabList,"aria-label":"Records navigation",children:Zie.map(i=>n.jsx("button",{type:"button",className:`${Fe.tabButton} ${t===i.key?Fe.tabButtonActive:""}`,"aria-pressed":t===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),n.jsx("div",{className:Fe.sectionContent,children:r()})]})}const rae={creators:TE,scans:CE,predictions:EE,news:AE,records:RE,feedback:IE};function iae(){const[t]=Cl(),e=t.get("tab")||"",s=rae[e];return n.jsxs(wt,{children:[n.jsx("div",{className:Sc.topWrap,children:n.jsx(Dre,{logoSrc:Ure})}),n.jsx("div",{className:Sc.divider}),n.jsx("div",{className:Sc.contentArea,children:s?n.jsx(s,{}):n.jsxs("div",{className:Sc.placeholder,children:[n.jsx("h2",{className:Sc.placeholderTitle,children:"Community"}),n.jsx("p",{className:Sc.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function aae(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Scans"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsxs(zt,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),n.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),n.jsxs(zt,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),n.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function oae(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Scans  Letzter Scan"}),n.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function lae(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Scans  Archiv"}),n.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function cae(){return n.jsx(wt,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:n.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:n.jsx(dae,{}),right:n.jsx(uae,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[n.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),n.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx(zt,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),n.jsx(zt,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsx(Ep,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),n.jsx(Ep,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),n.jsx(Ep,{to:"/guild-hub/compare-guilds",title:"Gildenvergleich",desc:"Kennzahlen nebeneinander legen"}),n.jsx(Ep,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function dae(){return n.jsxs("nav",{className:"space-y-2 text-sm",children:[n.jsx(xu,{to:"/guild-hub/planner",children:"Planner"}),n.jsx(xu,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),n.jsx(xu,{to:"/guild-hub/compare-guilds",children:"Gildenvergleich"}),n.jsx(xu,{to:"/guild-hub/waitlist",children:"Waitlist"}),n.jsx(xu,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function uae(){return n.jsxs("aside",{className:"space-y-3 text-sm",children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),n.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function Ep({to:t,title:e,desc:s}){return n.jsxs(zt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),s?n.jsx("div",{className:"mt-1 text-sm opacity-75",children:s}):null]})}function xu({to:t,children:e}){return n.jsx(ms,{to:t,className:({isActive:s})=>`block rounded-lg border px-3 py-2 no-underline ${s?"font-semibold":""}`,style:({isActive:s})=>({borderColor:s?"#2B6DE0":"#2B4C73",background:s?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:s?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}const hae="_page_1mlmy_1",mae="_header_1mlmy_13",pae="_headerStack_1mlmy_25",fae="_kicker_1mlmy_37",gae="_title_1mlmy_53",xae="_headerActions_1mlmy_65",vae="_primaryAction_1mlmy_77",yae="_secondaryAction_1mlmy_79",bae="_infoStrip_1mlmy_127",_ae="_infoBlock_1mlmy_147",wae="_infoLabel_1mlmy_161",jae="_freshnessWrapper_1mlmy_181",Sae="_freshnessBadge_1mlmy_189",Nae="_badge_f0_1mlmy_213",kae="_badge_f1_1mlmy_215",Tae="_badge_f2_1mlmy_217",Cae="_badge_f3_1mlmy_219",Eae="_badge_f4_1mlmy_221",Aae="_badge_f5_1mlmy_223",Iae="_badge_f6_1mlmy_225",Rae="_badge_f7_1mlmy_227",Pae="_badge_unknown_1mlmy_229",Lae="_popover_1mlmy_233",Dae="_popoverLabel_1mlmy_265",Mae="_filterToolbar_1mlmy_275",Fae="_filterSheetButton_1mlmy_285",Bae="_inlineFilters_1mlmy_303",$ae="_searchInput_1mlmy_315",Oae="_select_1mlmy_317",Vae="_ownerGroup_1mlmy_335",Uae="_ownerChip_1mlmy_347",zae="_ownerChipActive_1mlmy_365",Hae="_sortGroup_1mlmy_375",Gae="_sortLabel_1mlmy_387",Wae="_directionButton_1mlmy_397",qae="_listBody_1mlmy_415",Kae="_tableWrapper_1mlmy_427",Qae="_table_1mlmy_427",Xae="_stickyColumn_1mlmy_481",Yae="_rowTitleButton_1mlmy_495",Jae="_tableStatus_1mlmy_513",Zae="_cardList_1mlmy_533",eoe="_card_1mlmy_533",toe="_cardHeader_1mlmy_565",soe="_cardTitle_1mlmy_577",noe="_cardMeta_1mlmy_595",roe="_cardDescription_1mlmy_611",ioe="_cardFooter_1mlmy_623",aoe="_cardLabel_1mlmy_639",ooe="_scanBadge_1mlmy_649",loe="_emptyState_1mlmy_665",coe="_sheetBackdrop_1mlmy_681",doe="_sheet_1mlmy_681",uoe="_sheetHandle_1mlmy_721",hoe="_sheetBody_1mlmy_739",moe="_sheetLabel_1mlmy_755",poe="_sheetActions_1mlmy_793",foe="_overlay_1mlmy_807",goe="_panel_1mlmy_825",xoe="_modal_1mlmy_851",voe="_drawer_1mlmy_861",yoe="_panelHeader_1mlmy_869",boe="_panelControls_1mlmy_883",_oe="_panelDescription_1mlmy_913",woe="_detailGrid_1mlmy_925",joe="_panelFooter_1mlmy_957",Soe="_formOverlay_1mlmy_969",Noe="_formPanel_1mlmy_991",koe="_formGrid_1mlmy_1017",Toe="_menuWrapper_1mlmy_1029",Coe="_dotsButton_1mlmy_1037",Eoe="_menu_1mlmy_1029",Aoe="_pagination_1mlmy_1109",be={page:hae,header:mae,headerStack:pae,kicker:fae,title:gae,headerActions:xae,primaryAction:vae,secondaryAction:yae,infoStrip:bae,infoBlock:_ae,infoLabel:wae,freshnessWrapper:jae,freshnessBadge:Sae,badge_f0:Nae,badge_f1:kae,badge_f2:Tae,badge_f3:Cae,badge_f4:Eae,badge_f5:Aae,badge_f6:Iae,badge_f7:Rae,badge_unknown:Pae,popover:Lae,popoverLabel:Dae,filterToolbar:Mae,filterSheetButton:Fae,inlineFilters:Bae,searchInput:$ae,select:Oae,ownerGroup:Vae,ownerChip:Uae,ownerChipActive:zae,sortGroup:Hae,sortLabel:Gae,directionButton:Wae,listBody:qae,tableWrapper:Kae,table:Qae,stickyColumn:Xae,rowTitleButton:Yae,tableStatus:Jae,cardList:Zae,card:eoe,cardHeader:toe,cardTitle:soe,cardMeta:noe,cardDescription:roe,cardFooter:ioe,cardLabel:aoe,scanBadge:ooe,emptyState:loe,sheetBackdrop:coe,sheet:doe,sheetHandle:uoe,sheetBody:hoe,sheetLabel:moe,sheetActions:poe,overlay:foe,panel:goe,modal:xoe,drawer:voe,panelHeader:yoe,panelControls:boe,panelDescription:_oe,detailGrid:woe,panelFooter:joe,formOverlay:Soe,formPanel:Noe,formGrid:koe,menuWrapper:Toe,dotsButton:Coe,menu:Eoe,pagination:Aoe};function Ioe(){var ne;const[t,e]=Z.useState(xK),[s,r]=Z.useState(qv),[i,a]=Z.useState(qv),l=id(s.q,300),d=Z.useMemo(()=>{const z=vK(t,s,l);return yK(z,s.sort,s.dir)},[t,s,l]),u=Z.useMemo(()=>bK(d,s.page,s.pageSize),[d,s.page,s.pageSize]),h=Math.max(1,Math.ceil(d.length/s.pageSize)),p=Z.useMemo(()=>Array.from(new Set(t.map(z=>z.owner))),[t]),g=ad("(min-width: 768px)"),v=ad("(min-width: 1024px)"),[b,S]=Z.useState(!1),[E,I]=Z.useState(null),F=(ne=t.find(z=>z.id===E))!=null?ne:null,D=Z.useRef(null);od(D,!!F&&!v);const[A,y]=Z.useState(null),[j,M]=Z.useState(!1),k=Z.useRef(null);od(k,j);const w=Z.useMemo(()=>_K(t),[t]),C=Z.useMemo(()=>w?mh(w.nextUpdateAt,Date.now()):"",[w]),L=g,P=v,O=n.jsxs("div",{className:be.headerActions,children:[n.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>{y(null),M(!0)},children:"Neuer Eintrag"}),!g&&n.jsx("button",{type:"button",className:be.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>S(!0),children:"Filter"})]}),$=z=>{const ee=KS(z);r(ee),a(ee)},W=(z,ee)=>{const ce=KS({...s,[z]:ee,page:z==="page"||z==="pageSize"?ee:1});$(ce)},H=()=>{$(i),S(!1)},q=()=>{$(qv),S(!1)},Q=(z,ee=!1)=>{if(ee)a(ce=>{const fe=ce.owner.includes(z)?ce.owner.filter(Ce=>Ce!==z):[...ce.owner,z];return{...ce,owner:fe}});else{const te=s.owner.includes(z)?s.owner.filter(fe=>fe!==z):[...s.owner,z];W("owner",te)}},G=(z,ee)=>{e(ce=>ce.map(te=>te.id===z?{...te,status:ee,updatedAt:new Date().toISOString()}:te))},J=z=>{e(ee=>ee.some(te=>te.id===z.id)?ee.map(te=>te.id===z.id?z:te):[z,...ee]),M(!1)};return n.jsxs(wt,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[n.jsxs("div",{className:be.page,children:[n.jsxs("header",{className:be.header,children:[n.jsxs("div",{className:be.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:be.kicker,children:"Deployment"}),n.jsx("h1",{className:be.title,children:"Planer"})]}),O]}),n.jsxs("div",{className:be.infoStrip,children:[n.jsxs("div",{className:be.infoBlock,children:[n.jsx("span",{className:be.infoLabel,children:"Offen"}),n.jsx("strong",{children:d.filter(z=>z.status==="open").length})]}),n.jsxs("div",{className:be.infoBlock,children:[n.jsx("span",{className:be.infoLabel,children:"In Arbeit"}),n.jsx("strong",{children:d.filter(z=>z.status==="in_progress").length})]}),w&&n.jsx(Roe,{code:w.freshness,label:mb[w.freshness],updatedAt:w.lastScanAt,nextUpdateAt:w.nextUpdateAt,countdown:C})]})]}),n.jsx("section",{className:be.filterToolbar,children:g?n.jsx(Poe,{filters:s,owners:p,onChange:W,onOwnerToggle:z=>Q(z,!1)}):n.jsx("button",{type:"button",className:be.filterSheetButton,onClick:()=>S(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),n.jsx("section",{className:be.listBody,children:L?n.jsx(Loe,{items:u,sort:s.sort,dir:s.dir,onSortChange:z=>{const ee=s.sort===z&&s.dir==="asc"?"desc":"asc";W("sort",z),W("dir",ee)},onSelect:z=>I(z.id),onStatusChange:G,onEdit:z=>{y(z),M(!0)}}):n.jsx(Doe,{items:u,onSelect:z=>I(z.id),onStatusChange:G,onEdit:z=>{y(z),M(!0)}})}),n.jsx(Foe,{page:s.page,totalPages:h,onChange:z=>W("page",z)})]}),b&&n.jsx(Moe,{filters:i,owners:p,onChange:a,onOwnerToggle:z=>Q(z,!0),onClose:()=>S(!1),onApply:H,onReset:q}),F&&n.jsx(LE,{ref:D,item:F,mode:P?"drawer":"modal",onClose:()=>I(null),onEdit:()=>{y(F),M(!0),I(null)},onStatusChange:G}),j&&n.jsx(DE,{ref:k,owners:p.length?p:gE,item:A,onClose:()=>M(!1),onSubmit:J})]})}function Roe({code:t,label:e,updatedAt:s,nextUpdateAt:r,countdown:i}){var d;const[a,l]=Z.useState(!1);return n.jsxs("div",{className:be.freshnessWrapper,children:[n.jsx("button",{type:"button",className:`${be.freshnessBadge} ${(d=be[`badge_${t}`])!=null?d:""}`,"aria-label":`Freshness ${e}`,onClick:()=>l(u=>!u),children:e}),a&&n.jsxs("div",{className:be.popover,role:"dialog","aria-label":"Freshness Details",children:[n.jsxs("div",{children:[n.jsx("span",{className:be.popoverLabel,children:"Zuletzt gescannt"}),n.jsx("strong",{children:Mi(s)})]}),n.jsxs("div",{children:[n.jsx("span",{className:be.popoverLabel,children:"Naechster Scan"}),n.jsx("strong",{children:Mi(r)})]}),n.jsxs("div",{children:[n.jsx("span",{className:be.popoverLabel,children:"Countdown"}),n.jsx("strong",{children:i})]})]})]})}function Poe({filters:t,owners:e,onChange:s,onOwnerToggle:r}){return n.jsxs("div",{className:be.inlineFilters,children:[n.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:be.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>s("q",i.target.value)}),n.jsxs("select",{className:be.select,name:"plannerType","aria-label":"Planner Typ",value:t.type,onChange:i=>s("type",i.target.value),children:[n.jsx("option",{value:"all",children:"Typ (alle)"}),n.jsx("option",{value:"raid",children:"Raid"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"task",children:"Task"})]}),n.jsxs("select",{className:be.select,name:"plannerStatus","aria-label":"Planner Status",value:t.status,onChange:i=>s("status",i.target.value),children:[n.jsx("option",{value:"all",children:"Status (alle)"}),n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),n.jsxs("select",{className:be.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:t.range,onChange:i=>s("range",i.target.value),children:[n.jsx("option",{value:"7d",children:"7 Tage"}),n.jsx("option",{value:"30d",children:"30 Tage"}),n.jsx("option",{value:"90d",children:"90 Tage"}),n.jsx("option",{value:"all",children:"Alle"})]}),n.jsx("div",{className:be.ownerGroup,children:e.map(i=>{const a=t.owner.includes(i);return n.jsx("button",{type:"button",className:`${be.ownerChip} ${a?be.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),n.jsxs("div",{className:be.sortGroup,children:[n.jsx("label",{htmlFor:"planner-sort",className:be.sortLabel,children:"Sortieren"}),n.jsxs("select",{id:"planner-sort",name:"plannerSort",className:be.select,value:t.sort,onChange:i=>s("sort",i.target.value),children:[n.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),n.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),n.jsx("option",{value:"priority",children:"Prioritaet"}),n.jsx("option",{value:"title",children:"Titel"})]}),n.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:be.directionButton,onClick:()=>s("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"":""})]})]})}function Loe({items:t,sort:e,dir:s,onSortChange:r,onSelect:i,onStatusChange:a,onEdit:l}){const d=u=>e===u?s==="asc"?" ":" ":"";return t.length===0?n.jsx(PE,{}):n.jsx("div",{className:be.tableWrapper,children:n.jsxs("table",{className:be.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsxs("th",{className:be.stickyColumn,onClick:()=>r("title"),children:["Titel",d("title")]}),n.jsx("th",{children:"Typ"}),n.jsx("th",{children:"Owner"}),n.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",d("dueAt")]}),n.jsx("th",{children:"Status"}),n.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",d("updatedAt")]}),n.jsx("th",{})]})}),n.jsx("tbody",{children:t.map(u=>n.jsxs("tr",{children:[n.jsx("td",{className:be.stickyColumn,children:n.jsx("button",{type:"button",className:be.rowTitleButton,onClick:()=>i(u),children:u.title})}),n.jsx("td",{children:hb[u.type]}),n.jsx("td",{children:u.owner}),n.jsx("td",{children:Mi(u.dueAt)}),n.jsx("td",{children:n.jsxs("select",{name:`plannerStatus-${u.id}`,"aria-label":`Status fuer ${u.title}`,className:be.tableStatus,value:u.status,onChange:h=>a(u.id,h.target.value),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),n.jsx("td",{children:$h(u.updatedAt)}),n.jsx("td",{children:n.jsx(ME,{onEdit:()=>l(u),onComplete:()=>a(u.id,"done")})})]},u.id))})]})})}function Doe({items:t,onSelect:e,onStatusChange:s,onEdit:r}){return t.length===0?n.jsx(PE,{}):n.jsx("div",{className:be.cardList,children:t.map(i=>n.jsxs("article",{className:be.card,children:[n.jsxs("div",{className:be.cardHeader,children:[n.jsxs("div",{children:[n.jsx("button",{type:"button",className:be.cardTitle,onClick:()=>e(i),children:i.title}),n.jsxs("div",{className:be.cardMeta,children:[n.jsx("span",{children:hb[i.type]}),n.jsx("span",{children:fK[i.status]}),n.jsxs("span",{children:["Due ",Mi(i.dueAt)]})]})]}),n.jsx(ME,{onEdit:()=>r(i),onComplete:()=>s(i.id,"done")})]}),n.jsx("p",{className:be.cardDescription,children:i.description}),n.jsxs("div",{className:be.cardFooter,children:[n.jsxs("div",{children:[n.jsx("span",{className:be.cardLabel,children:"Owner"}),n.jsx("strong",{children:i.owner})]}),n.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:be.tableStatus,value:i.status,onChange:a=>s(i.id,a.target.value),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),n.jsxs("span",{className:be.scanBadge,children:["Letzter Scan ",$h(i.lastScanAt)]})]})]},i.id))})}function PE(){return n.jsx("div",{className:be.emptyState,children:n.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function Moe({filters:t,owners:e,onChange:s,onOwnerToggle:r,onClose:i,onApply:a,onReset:l}){return n.jsx("div",{className:be.sheetBackdrop,role:"presentation",onClick:i,children:n.jsxs("div",{className:be.sheet,role:"dialog","aria-label":"Filter",onClick:d=>d.stopPropagation(),children:[n.jsx("div",{className:be.sheetHandle}),n.jsxs("div",{className:be.sheetBody,children:[n.jsx("h2",{children:"Filter"}),n.jsxs("label",{className:be.sheetLabel,children:["Suche",n.jsx("input",{type:"search",name:"plannerSheetSearch",value:t.q,onChange:d=>s(u=>({...u,q:d.target.value}))})]}),n.jsxs("label",{className:be.sheetLabel,children:["Typ",n.jsxs("select",{name:"plannerSheetType",value:t.type,onChange:d=>s(u=>({...u,type:d.target.value})),children:[n.jsx("option",{value:"all",children:"Alle"}),n.jsx("option",{value:"raid",children:"Raid"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"task",children:"Task"})]})]}),n.jsxs("label",{className:be.sheetLabel,children:["Status",n.jsxs("select",{name:"plannerSheetStatus",value:t.status,onChange:d=>s(u=>({...u,status:d.target.value})),children:[n.jsx("option",{value:"all",children:"Alle"}),n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),n.jsxs("label",{className:be.sheetLabel,children:["Zeitraum",n.jsxs("select",{name:"plannerSheetRange",value:t.range,onChange:d=>s(u=>({...u,range:d.target.value})),children:[n.jsx("option",{value:"7d",children:"7 Tage"}),n.jsx("option",{value:"30d",children:"30 Tage"}),n.jsx("option",{value:"90d",children:"90 Tage"}),n.jsx("option",{value:"all",children:"Alle"})]})]}),n.jsxs("div",{className:be.sheetLabel,children:["Owner",n.jsx("div",{className:be.ownerGroup,children:e.map(d=>{const u=t.owner.includes(d);return n.jsx("button",{type:"button",className:`${be.ownerChip} ${u?be.ownerChipActive:""}`,onClick:()=>r(d),children:d},d)})})]})]}),n.jsxs("div",{className:be.sheetActions,children:[n.jsx("button",{type:"button",onClick:l,children:"Zuruecksetzen"}),n.jsx("button",{type:"button",className:be.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const LE=Z.forwardRef(({item:t,mode:e,onClose:s,onEdit:r,onStatusChange:i},a)=>n.jsx("div",{className:be.overlay,children:n.jsxs("div",{ref:a,className:`${be.panel} ${e==="drawer"?be.drawer:be.modal}`,children:[n.jsxs("header",{className:be.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:be.cardLabel,children:hb[t.type]}),n.jsx("h2",{children:t.title})]}),n.jsx("button",{type:"button",className:be.secondaryAction,onClick:s,children:"Schliessen"})]}),n.jsxs("div",{className:be.panelControls,children:[n.jsxs("label",{children:["Status",n.jsxs("select",{value:t.status,onChange:l=>i(t.id,l.target.value),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),n.jsxs("label",{children:["Prioritaet",n.jsxs("select",{disabled:!0,value:t.priority,children:[n.jsx("option",{value:"urgent",children:"Urgent"}),n.jsx("option",{value:"high",children:"Hoch"}),n.jsx("option",{value:"medium",children:"Mittel"}),n.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),n.jsx("p",{className:be.panelDescription,children:t.description}),n.jsxs("dl",{className:be.detailGrid,children:[n.jsxs("div",{children:[n.jsx("dt",{children:"Owner"}),n.jsx("dd",{children:t.owner})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Assignees"}),n.jsx("dd",{children:t.assignees.join(", ")})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Termin"}),n.jsx("dd",{children:Mi(t.dueAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Zuletzt aktualisiert"}),n.jsx("dd",{children:$h(t.updatedAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Erstellt"}),n.jsx("dd",{children:Mi(t.createdAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Tags"}),n.jsx("dd",{children:t.tags.join(", ")})]})]}),n.jsxs("div",{className:be.panelFooter,children:[n.jsx("button",{type:"button",className:be.secondaryAction,onClick:r,children:"Bearbeiten"}),n.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>i(t.id,"done"),children:"Als erledigt markieren"})]})]})}));LE.displayName="DetailPanel";const DE=Z.forwardRef(({owners:t,item:e,onClose:s,onSubmit:r},i)=>{const[a,l]=Z.useState(()=>{var h;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(h=t[0])!=null?h:gE[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});Z.useEffect(()=>{e&&l(e)},[JSON.stringify(e)]);const d=h=>{h.preventDefault(),a.title.trim()&&r({...a,updatedAt:new Date().toISOString()})},u=h=>{l(p=>{const v=p.tags.includes(h)?p.tags.filter(b=>b!==h):[...p.tags,h];return{...p,tags:v}})};return n.jsx("div",{className:be.formOverlay,children:n.jsxs("form",{ref:i,className:be.formPanel,onSubmit:d,children:[n.jsxs("header",{className:be.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:be.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),n.jsx("h2",{children:e?e.title:"Planner Task"})]}),n.jsx("button",{type:"button",className:be.secondaryAction,onClick:s,children:"Schliessen"})]}),n.jsxs("label",{className:be.sheetLabel,children:["Titel",n.jsx("input",{name:"plannerFormTitle",value:a.title,onChange:h=>l(p=>({...p,title:h.target.value})),required:!0})]}),n.jsxs("label",{className:be.sheetLabel,children:["Beschreibung",n.jsx("textarea",{name:"plannerFormDescription",value:a.description,onChange:h=>l(p=>({...p,description:h.target.value})),rows:4})]}),n.jsxs("div",{className:be.formGrid,children:[n.jsxs("label",{children:["Typ",n.jsxs("select",{name:"plannerFormType",value:a.type,onChange:h=>l(p=>({...p,type:h.target.value})),children:[n.jsx("option",{value:"raid",children:"Raid"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"task",children:"Task"})]})]}),n.jsxs("label",{children:["Status",n.jsxs("select",{name:"plannerFormStatus",value:a.status,onChange:h=>l(p=>({...p,status:h.target.value})),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),n.jsxs("label",{children:["Owner",n.jsx("select",{name:"plannerFormOwner",value:a.owner,onChange:h=>l(p=>({...p,owner:h.target.value})),children:t.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("label",{children:["Prioritaet",n.jsxs("select",{name:"plannerFormPriority",value:a.priority,onChange:h=>l(p=>({...p,priority:h.target.value})),children:[n.jsx("option",{value:"urgent",children:"Urgent"}),n.jsx("option",{value:"high",children:"Hoch"}),n.jsx("option",{value:"medium",children:"Mittel"}),n.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),n.jsxs("label",{className:be.sheetLabel,children:["Termin",n.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:a.dueAt.slice(0,16),onChange:h=>l(p=>({...p,dueAt:new Date(h.target.value).toISOString()}))})]}),n.jsxs("div",{className:be.sheetLabel,children:["Tags",n.jsx("div",{className:be.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(h=>{const p=a.tags.includes(h);return n.jsx("button",{type:"button",className:`${be.ownerChip} ${p?be.ownerChipActive:""}`,onClick:()=>u(h),children:h},h)})})]}),n.jsxs("footer",{className:be.panelFooter,children:[n.jsx("button",{type:"button",className:be.secondaryAction,onClick:s,children:"Abbrechen"}),n.jsx("button",{type:"submit",className:be.primaryAction,children:"Speichern"})]})]})})});DE.displayName="PlannerFormOverlay";function ME({onEdit:t,onComplete:e}){const[s,r]=Z.useState(!1),i=Z.useRef(null);return Z.useEffect(()=>{if(!s)return;const a=l=>{var d;(d=i.current)!=null&&d.contains(l.target)||r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[s]),n.jsxs("div",{className:be.menuWrapper,ref:i,children:[n.jsx("button",{type:"button",className:be.dotsButton,"aria-haspopup":"menu","aria-expanded":s,onClick:()=>r(a=>!a),children:"..."}),s&&n.jsxs("div",{className:be.menu,role:"menu",children:[n.jsx("button",{type:"button",onClick:()=>t(),children:"Bearbeiten"}),n.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),n.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function Foe({page:t,totalPages:e,onChange:s}){return n.jsxs("div",{className:be.pagination,children:[n.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>s(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),n.jsxs("span",{children:["Seite ",t," / ",e]}),n.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>s(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const Boe="_page_1cvuk_1",$oe="_header_1cvuk_13",Ooe="_headerLeading_1cvuk_29",Voe="_backLink_1cvuk_41",Uoe="_headerStack_1cvuk_77",zoe="_kicker_1cvuk_89",Hoe="_title_1cvuk_105",Goe="_subtitle_1cvuk_117",Woe="_headerActions_1cvuk_129",qoe="_plannerNotice_1cvuk_141",Koe="_noticeItem_1cvuk_163",Qoe="_noticeWarning_1cvuk_185",Xoe="_noticeDot_1cvuk_197",Yoe="_tabSection_1cvuk_213",Joe="_tabBar_1cvuk_225",Zoe="_tabItem_1cvuk_239",ele="_tabItemActive_1cvuk_279",tle="_tabLabel_1cvuk_291",sle="_tabHelper_1cvuk_301",nle="_tabPanel_1cvuk_311",rle="_tabBadge_1cvuk_331",ile="_primaryAction_1cvuk_1331",ale="_secondaryAction_1cvuk_1333",ole="_infoStrip_1cvuk_1383",lle="_infoBlock_1cvuk_1403",cle="_infoLabel_1cvuk_1415",dle="_infoHint_1cvuk_1441",ule="_stageGrid_1cvuk_1453",hle="_panel_1cvuk_1465",mle="_panelHeader_1cvuk_1487",ple="_panelKicker_1cvuk_1501",fle="_panelTitle_1cvuk_1517",gle="_panelLead_1cvuk_1529",xle="_badge_1cvuk_1541",vle="_panelBody_1cvuk_1563",yle="_placeholderGrid_1cvuk_1575",ble="_placeholderCard_1cvuk_1587",_le="_placeholderTitle_1cvuk_1609",wle="_placeholderText_1cvuk_1619",jle="_helperSection_1cvuk_1631",Sle="_helperCard_1cvuk_1639",Nle="_helperKicker_1cvuk_1661",kle="_helperTitle_1cvuk_1677",Tle="_helperText_1cvuk_1689",Cle="_helperActions_1cvuk_1701",Qe={page:Boe,header:$oe,headerLeading:Ooe,backLink:Voe,headerStack:Uoe,kicker:zoe,title:Hoe,subtitle:Goe,headerActions:Woe,plannerNotice:qoe,noticeItem:Koe,noticeWarning:Qoe,noticeDot:Xoe,tabSection:Yoe,tabBar:Joe,tabItem:Zoe,tabItemActive:ele,tabLabel:tle,tabHelper:sle,tabPanel:nle,tabBadge:rle,primaryAction:ile,secondaryAction:ale,infoStrip:ole,infoBlock:lle,infoLabel:cle,infoHint:dle,stageGrid:ule,panel:hle,panelHeader:mle,panelKicker:ple,panelTitle:fle,panelLead:gle,badge:xle,panelBody:vle,placeholderGrid:yle,placeholderCard:ble,placeholderTitle:_le,placeholderText:wle,helperSection:jle,helperCard:Sle,helperKicker:Nle,helperTitle:kle,helperText:Tle,helperActions:Cle},Ele="_setupGrid_rdp6l_1",Ale="_setupLeft_rdp6l_13",Ile="_setupRight_rdp6l_15",Rle="_card_rdp6l_27",Ple="_cardHeader_rdp6l_49",Lle="_cardKicker_rdp6l_61",Dle="_cardTitle_rdp6l_77",Mle="_cardText_rdp6l_89",Fle="_toggleGroup_rdp6l_101",Ble="_toggleButton_rdp6l_113",$le="_toggleButtonActive_rdp6l_143",Ole="_modeHint_rdp6l_155",Vle="_formGrid_rdp6l_167",Ule="_formField_rdp6l_179",zle="_formLabel_rdp6l_191",Hle="_input_rdp6l_201",Gle="_suggestions_rdp6l_231",Wle="_suggestionBtn_rdp6l_257",qle="_suggestionName_rdp6l_297",Kle="_suggestionMeta_rdp6l_305",Qle="_partnerActions_rdp6l_315",Xle="_primaryAction_rdp6l_329",Yle="_secondaryAction_rdp6l_331",Jle="_partnerList_rdp6l_381",Zle="_partnerRow_rdp6l_393",ece="_partnerName_rdp6l_413",tce="_partnerMeta_rdp6l_423",sce="_removeButton_rdp6l_433",nce="_emptyState_rdp6l_463",rce="_previewBlock_rdp6l_473",ice="_previewLabel_rdp6l_485",ace="_previewValue_rdp6l_499",oce="_previewCard_rdp6l_509",lce="_previewTitle_rdp6l_523",cce="_previewMeta_rdp6l_533",dce="_previewList_rdp6l_543",uce="_previewItem_rdp6l_555",hce="_setupInfo_rdp6l_569",mce="_setupWarning_rdp6l_593",pce="_setupInfoIcon_rdp6l_605",fce="_setupInfoTitle_rdp6l_629",gce="_setupInfoText_rdp6l_639",Re={setupGrid:Ele,setupLeft:Ale,setupRight:Ile,card:Rle,cardHeader:Ple,cardKicker:Lle,cardTitle:Dle,cardText:Mle,toggleGroup:Fle,toggleButton:Ble,toggleButtonActive:$le,modeHint:Ole,formGrid:Vle,formField:Ule,formLabel:zle,input:Hle,suggestions:Gle,suggestionBtn:Wle,suggestionName:qle,suggestionMeta:Kle,partnerActions:Qle,primaryAction:Xle,secondaryAction:Yle,partnerList:Jle,partnerRow:Zle,partnerName:ece,partnerMeta:tce,removeButton:sce,emptyState:nce,previewBlock:rce,previewLabel:ice,previewValue:ace,previewCard:oce,previewTitle:lce,previewMeta:cce,previewList:dce,previewItem:uce,setupInfo:hce,setupWarning:mce,setupInfoIcon:pce,setupInfoTitle:fce,setupInfoText:gce};function xce({setupState:t,onChangeMode:e,onChangeBaseGuild:s,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var I,F,D,A,y,j,M,k,w,C;const[a,l]=Z.useState(()=>{var L,P,O,$;return{name:(P=(L=t.baseGuild)==null?void 0:L.name)!=null?P:"",server:($=(O=t.baseGuild)==null?void 0:O.server)!=null?$:""}}),[d,u]=Z.useState({id:void 0,name:"",server:""}),h=id(a.name,250),p=id(d.name,250),g=jN(h,a.server||"all"),v=jN(p,d.server||"all"),b=!!((F=(I=t.baseGuild)==null?void 0:I.name)!=null&&F.trim()&&((A=(D=t.baseGuild)==null?void 0:D.server)!=null&&A.trim())),S=t.partnerGuilds.length>0;Z.useEffect(()=>{var P,O,$,W;const L={name:(O=(P=t.baseGuild)==null?void 0:P.name)!=null?O:"",server:(W=($=t.baseGuild)==null?void 0:$.server)!=null?W:""};(L.name!==a.name||L.server!==a.server)&&l(L)},[(y=t.baseGuild)==null?void 0:y.name,(j=t.baseGuild)==null?void 0:j.server]);const E=()=>{!d.name.trim()||!d.server.trim()||(r(d),u({id:void 0,name:"",server:""}))};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:Re.setupGrid,children:[n.jsxs("div",{className:Re.setupLeft,children:[n.jsxs("div",{className:Re.card,children:[n.jsx("div",{className:Re.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Re.cardKicker,children:"Modus"}),n.jsx("h3",{className:Re.cardTitle,children:"Scan-based oder manuell"}),n.jsx("p",{className:Re.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),n.jsxs("div",{className:Re.toggleGroup,role:"group","aria-label":"Setup Modus",children:[n.jsx("button",{type:"button",className:`${Re.toggleButton} ${t.mode==="scan"?Re.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),n.jsx("button",{type:"button",className:`${Re.toggleButton} ${t.mode==="manual"?Re.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),n.jsx("p",{className:Re.modeHint,children:t.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),n.jsxs("div",{className:Re.card,children:[n.jsx("div",{className:Re.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Re.cardKicker,children:"Base Guild"}),n.jsx("h3",{className:Re.cardTitle,children:"Stammdaten"}),n.jsx("p",{className:Re.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),n.jsxs("div",{className:Re.formGrid,children:[n.jsxs("label",{className:Re.formField,children:[n.jsx("span",{className:Re.formLabel,children:"Guild name"}),n.jsx("input",{type:"text",className:Re.input,value:a.name,onChange:L=>{const P=L.target.value;l(O=>({...O,name:P}))},onBlur:()=>s({name:a.name}),placeholder:"z.B. Solaris"}),g.length>0&&n.jsx("div",{className:Re.suggestions,children:g.map(L=>n.jsxs("button",{type:"button",className:Re.suggestionBtn,onClick:()=>{l({name:L.name,server:L.server}),s({id:L.id,name:L.name,server:L.server})},children:[n.jsx("span",{className:Re.suggestionName,children:L.name}),n.jsx("span",{className:Re.suggestionMeta,children:L.server})]},L.id))})]}),n.jsxs("label",{className:Re.formField,children:[n.jsx("span",{className:Re.formLabel,children:"Server"}),n.jsx("input",{type:"text",className:Re.input,value:a.server,onChange:L=>{const P=L.target.value;l(O=>({...O,server:P}))},onBlur:()=>s({server:a.server}),placeholder:"z.B. EU-01"})]})]})]}),n.jsxs("div",{className:Re.card,children:[n.jsx("div",{className:Re.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Re.cardKicker,children:"Partner Guilds"}),n.jsx("h3",{className:Re.cardTitle,children:"Partner hinzufuegen"}),n.jsx("p",{className:Re.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),n.jsxs("div",{className:Re.formGrid,children:[n.jsxs("label",{className:Re.formField,children:[n.jsx("span",{className:Re.formLabel,children:"Name"}),n.jsx("input",{type:"text",className:Re.input,value:d.name,onChange:L=>u(P=>({...P,name:L.target.value})),placeholder:"z.B. Nova Alliance"}),v.length>0&&n.jsx("div",{className:Re.suggestions,children:v.map(L=>n.jsxs("button",{type:"button",className:Re.suggestionBtn,onClick:()=>u({id:L.id,name:L.name,server:L.server}),children:[n.jsx("span",{className:Re.suggestionName,children:L.name}),n.jsx("span",{className:Re.suggestionMeta,children:L.server})]},L.id))})]}),n.jsxs("label",{className:Re.formField,children:[n.jsx("span",{className:Re.formLabel,children:"Server"}),n.jsx("input",{type:"text",className:Re.input,value:d.server,onChange:L=>u(P=>({...P,server:L.target.value})),placeholder:"z.B. EU-02"})]})]}),n.jsxs("div",{className:Re.partnerActions,children:[n.jsx("button",{type:"button",className:Re.primaryAction,onClick:E,children:"Add partner guild"}),n.jsx("button",{type:"button",className:Re.secondaryAction,onClick:()=>u({name:"",server:""}),children:"Reset fields"})]}),n.jsx("div",{className:Re.partnerList,children:t.partnerGuilds.length===0?n.jsx("div",{className:Re.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(L=>n.jsxs("div",{className:Re.partnerRow,children:[n.jsxs("div",{children:[n.jsx("div",{className:Re.partnerName,children:L.name||"Unbenannt"}),n.jsx("div",{className:Re.partnerMeta,children:L.server||"Server n/a"})]}),n.jsx("button",{type:"button",className:Re.removeButton,onClick:()=>i(L.id),children:"Remove"})]},L.id))})]})]}),n.jsx("aside",{className:Re.setupRight,children:n.jsxs("div",{className:Re.card,children:[n.jsx("div",{className:Re.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Re.cardKicker,children:"Preview"}),n.jsx("h3",{className:Re.cardTitle,children:"Uebersicht"}),n.jsx("p",{className:Re.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),n.jsxs("div",{className:Re.previewBlock,children:[n.jsx("div",{className:Re.previewLabel,children:"Modus"}),n.jsx("div",{className:Re.previewValue,children:t.mode==="scan"?"Scan-based":"Manual"})]}),n.jsxs("div",{className:Re.previewBlock,children:[n.jsx("div",{className:Re.previewLabel,children:"Base Guild"}),n.jsx("div",{className:Re.previewCard,children:(M=t.baseGuild)!=null&&M.name||(k=t.baseGuild)!=null&&k.server?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Re.previewTitle,children:((w=t.baseGuild)==null?void 0:w.name)||"Unbenannt"}),n.jsx("div",{className:Re.previewMeta,children:((C=t.baseGuild)==null?void 0:C.server)||"Server n/a"})]}):n.jsx("div",{className:Re.emptyState,children:"No base guild selected yet."})})]}),n.jsxs("div",{className:Re.previewBlock,children:[n.jsx("div",{className:Re.previewLabel,children:"Partner Guilds"}),n.jsx("div",{className:Re.previewList,children:t.partnerGuilds.length===0?n.jsx("div",{className:Re.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(L=>n.jsxs("div",{className:Re.previewItem,children:[n.jsx("div",{className:Re.previewTitle,children:L.name||"Unbenannt"}),n.jsx("div",{className:Re.previewMeta,children:L.server||"Server n/a"})]},L.id))})]})]})})]}),b?S?null:n.jsxs("div",{className:Re.setupInfo,role:"status","aria-live":"polite",children:[n.jsx("span",{className:Re.setupInfoIcon,"aria-hidden":!0,children:"i"}),n.jsxs("div",{children:[n.jsx("div",{className:Re.setupInfoTitle,children:"Optional: add partner guilds."}),n.jsx("p",{className:Re.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):n.jsxs("div",{className:`${Re.setupInfo} ${Re.setupWarning}`,role:"status","aria-live":"polite",children:[n.jsx("span",{className:Re.setupInfoIcon,"aria-hidden":!0,children:"i"}),n.jsxs("div",{children:[n.jsx("div",{className:Re.setupInfoTitle,children:"No base guild selected yet."}),n.jsx("p",{className:Re.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function jN(t,e){const[s,r]=Z.useState([]);return Z.useEffect(()=>{const i=t.trim().toLowerCase();if(!i){r([]);return}let a=!1;async function l(){try{const d=dg(Mt,"latest"),u=await fn(Un(d,lo("nameFold"),ul(i),hl(i+""),zn(12))),h=await fn(Un(d,gl("nameNgrams","array-contains",i),zn(12))),p=new Set,g=[],v=b=>{var j,M,k,w,C,L,P,O,$,W;const S=b.data(),I=(j=b.ref.parent)==null?void 0:j.parent;if(((M=I==null?void 0:I.parent)==null?void 0:M.id)!=="guilds")return;const D=(w=(k=I==null?void 0:I.id)!=null?k:S.guildIdentifier)!=null?w:b.id;if(!D||p.has(D))return;const A=(P=(L=S.server)!=null?L:(C=S.values)==null?void 0:C.Server)!=null?P:"Unknown";if(e!=="all"&&A!==e)return;const y=(W=($=S.name)!=null?$:(O=S.values)==null?void 0:O.Name)!=null?W:"Unbekannte Gilde";p.add(D),g.push({id:D,name:y,server:A})};u.forEach(v),h.forEach(v),a||(g.sort((b,S)=>b.name.localeCompare(S.name)),r(g))}catch(d){console.error("[FusionPlanner] guild search failed",d),a||r([])}}return l(),()=>{a=!0}},[t,e]),s}const vce="_membersContainer_1ctw8_1",yce="_scenarioSwitcher_1ctw8_13",bce="_scenarioButton_1ctw8_25",_ce="_scenarioButtonActive_1ctw8_63",wce="_scenarioButtonName_1ctw8_75",jce="_scenarioButtonDesc_1ctw8_83",Sce="_setupInfo_1ctw8_93",Nce="_setupInfoHeader_1ctw8_113",kce="_setupInfoTitle_1ctw8_127",Tce="_setupInfoMode_1ctw8_139",Cce="_setupInfoRow_1ctw8_163",Ece="_setupInfoLabel_1ctw8_175",Ace="_setupInfoValue_1ctw8_189",Ice="_setupInfoMeta_1ctw8_199",Rce="_setupInfoPartners_1ctw8_209",Pce="_setupInfoBadge_1ctw8_221",Lce="_setupInfoEmpty_1ctw8_245",Dce="_membersSummary_1ctw8_255",Mce="_membersSummaryItem_1ctw8_275",Fce="_membersSummaryLabel_1ctw8_287",Bce="_membersSummaryValue_1ctw8_301",$ce="_maxSlotsInput_1ctw8_313",Oce="_membersTable_1ctw8_331",Vce="_membersRow_1ctw8_349",Uce="_membersHead_1ctw8_375",zce="_membersCell_1ctw8_385",Hce="_memberName_1ctw8_395",Gce="_memberBadge_1ctw8_403",Wce="_assignmentCell_1ctw8_427",qce="_assignmentBadge_1ctw8_439",Kce="_assignmentBadgeMain_1ctw8_463",Qce="_assignmentBadgePartner_1ctw8_475",Xce="_assignmentBadgeWatch_1ctw8_487",Yce="_assignmentBadgeIdle_1ctw8_499",Jce="_assignmentActions_1ctw8_507",Zce="_assignmentButton_1ctw8_519",ede="_assignmentButtonActive_1ctw8_551",tde="_decisionGroup_1ctw8_563",sde="_decisionButton_1ctw8_575",nde="_decisionButtonActive_1ctw8_607",rde="_emptyWrap_1ctw8_619",ide="_emptyTitle_1ctw8_633",ade="_emptyText_1ctw8_641",ode="_contextMenuBackdrop_1ctw8_651",lde="_contextMenu_1ctw8_651",cde="_contextMenuItem_1ctw8_693",dde="_partnerPickerCell_1ctw8_725",ude="_partnerLabel_1ctw8_737",hde="_partnerSelect_1ctw8_751",Ne={membersContainer:vce,scenarioSwitcher:yce,scenarioButton:bce,scenarioButtonActive:_ce,scenarioButtonName:wce,scenarioButtonDesc:jce,setupInfo:Sce,setupInfoHeader:Nce,setupInfoTitle:kce,setupInfoMode:Tce,setupInfoRow:Cce,setupInfoLabel:Ece,setupInfoValue:Ace,setupInfoMeta:Ice,setupInfoPartners:Rce,setupInfoBadge:Pce,setupInfoEmpty:Lce,membersSummary:Dce,membersSummaryItem:Mce,membersSummaryLabel:Fce,membersSummaryValue:Bce,maxSlotsInput:$ce,membersTable:Oce,membersRow:Vce,membersHead:Uce,membersCell:zce,memberName:Hce,memberBadge:Gce,assignmentCell:Wce,assignmentBadge:qce,assignmentBadgeMain:Kce,assignmentBadgePartner:Qce,assignmentBadgeWatch:Xce,assignmentBadgeIdle:Yce,assignmentActions:Jce,assignmentButton:Zce,assignmentButtonActive:ede,decisionGroup:tde,decisionButton:sde,decisionButtonActive:nde,emptyWrap:rde,emptyTitle:ide,emptyText:ade,contextMenuBackdrop:ode,contextMenu:lde,contextMenuItem:cde,partnerPickerCell:dde,partnerLabel:ude,partnerSelect:hde};function mde({members:t,scenario:e,onChangeScenarioDecision:s,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:a}){var k,w,C,L,P,O;const[l,d]=Z.useState(null),u=Z.useRef(null),h=a.partnerGuilds.length>0?a.partnerGuilds.map(($,W)=>({id:$.id,label:$.name||`Partner ${W+1}`})):[{id:"partner-default",label:"Partner guild"}],p=Z.useCallback(($,W)=>{d({memberId:$,...W})},[]),g=Z.useCallback(()=>{d(null)},[]),v=Z.useCallback(()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},[]),b=Z.useCallback(($,W,H)=>{v(),u.current=window.setTimeout(()=>{p($,{x:W,y:H})},550)},[v,p]);Z.useEffect(()=>()=>v(),[v]);const S=Z.useCallback(($,W,H)=>{if(W==="main")s($,"take"),r($,"main");else if(W==="partner"){const q=H?`partner:${H}`:"partner";s($,"take"),r($,q)}else s($,"bench"),r($,"none");g()},[g,s,r]),E=Z.useCallback(($,W)=>{s($,W),W==="take"?r($,"main"):r($,"none")},[s,r]);if(!!!((w=(k=a.baseGuild)==null?void 0:k.name)!=null&&w.trim()&&((L=(C=a.baseGuild)==null?void 0:C.server)!=null&&L.trim())))return n.jsxs("div",{className:Ne.emptyWrap,children:[n.jsx("h3",{className:Ne.emptyTitle,children:"No base guild configured"}),n.jsx("p",{className:Ne.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return n.jsxs("div",{className:Ne.emptyWrap,children:[n.jsx("h3",{className:Ne.emptyTitle,children:"Members & Slots"}),n.jsx("p",{className:Ne.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t||t.length===0)return n.jsxs("div",{className:Ne.emptyWrap,children:[n.jsx("h3",{className:Ne.emptyTitle,children:"No members found"}),n.jsx("p",{className:Ne.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const F=(P=e.decisions)!=null?P:{},D=(O=e.targetGuildAssignments)!=null?O:{},A=t.filter($=>F[$.id]==="take").length,y=t.filter($=>F[$.id]==="bench").length,j=t.filter($=>F[$.id]==="drop").length,M=Math.max(0,e.maxSlots-e.reservedSlots-A);return n.jsxs("div",{className:Ne.membersContainer,children:[n.jsx("div",{className:Ne.scenarioSwitcher,children:n.jsxs("div",{className:`${Ne.scenarioButton} ${Ne.scenarioButtonActive}`,children:[n.jsx("span",{className:Ne.scenarioButtonName,children:e.name}),e.description?n.jsx("span",{className:Ne.scenarioButtonDesc,children:e.description}):null]})}),n.jsxs("div",{className:Ne.setupInfo,children:[n.jsxs("div",{className:Ne.setupInfoHeader,children:[n.jsx("div",{className:Ne.setupInfoTitle,children:"Planning for"}),n.jsx("span",{className:Ne.setupInfoMode,children:a.mode==="scan"?"Scan":"Manual"})]}),a.baseGuild?n.jsxs("div",{className:Ne.setupInfoRow,children:[n.jsx("span",{className:Ne.setupInfoLabel,children:"Base Guild"}),n.jsxs("span",{className:Ne.setupInfoValue,children:[a.baseGuild.name||"Unbenannt"," ",n.jsxs("span",{className:Ne.setupInfoMeta,children:["(",a.baseGuild.server||"Server n/a",")"]})]})]}):n.jsx("div",{className:Ne.setupInfoEmpty,children:"No base guild selected in Setup tab."}),n.jsxs("div",{className:Ne.setupInfoRow,children:[n.jsx("span",{className:Ne.setupInfoLabel,children:"Partner Guilds"}),a.partnerGuilds.length?n.jsx("div",{className:Ne.setupInfoPartners,children:a.partnerGuilds.map($=>n.jsxs("span",{className:Ne.setupInfoBadge,children:[$.name||"Unbenannt",n.jsxs("span",{className:Ne.setupInfoMeta,children:[" (",$.server||"Server n/a",")"]})]},$.id))}):n.jsx("span",{className:Ne.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),n.jsxs("div",{className:Ne.membersSummary,children:[n.jsxs("div",{className:Ne.membersSummaryItem,children:[n.jsx("div",{className:Ne.membersSummaryLabel,children:"Selected"}),n.jsxs("div",{className:Ne.membersSummaryValue,children:[A," / ",e.maxSlots]})]}),n.jsxs("div",{className:Ne.membersSummaryItem,children:[n.jsx("div",{className:Ne.membersSummaryLabel,children:"Free slots"}),n.jsx("div",{className:Ne.membersSummaryValue,children:M})]}),n.jsxs("div",{className:Ne.membersSummaryItem,children:[n.jsx("div",{className:Ne.membersSummaryLabel,children:"Bench"}),n.jsx("div",{className:Ne.membersSummaryValue,children:y})]}),n.jsxs("div",{className:Ne.membersSummaryItem,children:[n.jsx("div",{className:Ne.membersSummaryLabel,children:"Drop"}),n.jsx("div",{className:Ne.membersSummaryValue,children:j})]}),n.jsxs("div",{className:Ne.membersSummaryItem,children:[n.jsx("div",{className:Ne.membersSummaryLabel,children:"Reserved"}),n.jsx("div",{className:Ne.membersSummaryValue,children:e.reservedSlots})]}),n.jsxs("div",{className:Ne.membersSummaryItem,children:[n.jsx("div",{className:Ne.membersSummaryLabel,children:"Max slots"}),n.jsx("input",{type:"number",className:Ne.maxSlotsInput,value:e.maxSlots,min:0,onChange:$=>i(Number($.target.value))})]})]}),n.jsxs("div",{className:Ne.membersTable,children:[n.jsxs("div",{className:`${Ne.membersRow} ${Ne.membersHead}`,children:[n.jsx("div",{className:Ne.membersCell,children:"Name"}),n.jsx("div",{className:Ne.membersCell,children:"Level"}),n.jsx("div",{className:Ne.membersCell,children:"Guild"}),n.jsx("div",{className:Ne.membersCell,children:"Class"}),n.jsx("div",{className:Ne.membersCell,children:"Plan"}),n.jsx("div",{className:Ne.membersCell,children:"Decision"}),n.jsx("div",{className:Ne.membersCell,children:"Partner"})]}),t.map($=>{var ne,z,ee,ce,te,fe,Ce,ge,Te;const W=(ne=F[$.id])!=null?ne:"undecided",H=(z=D[$.id])!=null?z:"none",q=H&&H.toString().startsWith("partner:")?H.split(":")[1]:null,Q=(fe=(ee=h.find(ke=>ke.id===q))==null?void 0:ee.label)!=null?fe:H==="partner"?(te=(ce=h[0])==null?void 0:ce.label)!=null?te:"Partner guild":null,G=W==="take"&&H==="main"?"main":W==="take"&&(H==="partner"||q)?"partner":W==="bench"?"watch":"unassigned",J=G==="main"?"Main guild":G==="partner"?Q||"Partner guild":G==="watch"?"Watchlist":"Not planned";return n.jsxs("div",{className:Ne.membersRow,onContextMenu:ke=>{ke.preventDefault(),p($.id,{x:ke.clientX,y:ke.clientY})},onTouchStart:ke=>{const ue=ke.touches[0];ue&&b($.id,ue.clientX,ue.clientY)},onTouchEnd:v,onTouchCancel:v,children:[n.jsx("div",{className:Ne.membersCell,children:n.jsx("div",{className:Ne.memberName,children:$.name})}),n.jsx("div",{className:Ne.membersCell,children:n.jsxs("span",{className:Ne.memberBadge,children:["Lvl ",$.level]})}),n.jsx("div",{className:Ne.membersCell,children:$.guildName}),n.jsx("div",{className:Ne.membersCell,children:(ge=(Ce=$.className)!=null?Ce:$.class)!=null?ge:"?"}),n.jsxs("div",{className:`${Ne.membersCell} ${Ne.assignmentCell}`,children:[n.jsx("span",{className:`${Ne.assignmentBadge} ${G==="main"?Ne.assignmentBadgeMain:G==="partner"?Ne.assignmentBadgePartner:G==="watch"?Ne.assignmentBadgeWatch:Ne.assignmentBadgeIdle}`,children:J}),n.jsxs("div",{className:Ne.assignmentActions,role:"group","aria-label":"Target guild selection",children:[n.jsx("button",{type:"button",className:`${Ne.assignmentButton} ${G==="main"?Ne.assignmentButtonActive:""}`,onClick:()=>S($.id,"main"),children:"Main"}),n.jsx("button",{type:"button",className:`${Ne.assignmentButton} ${G==="watch"?Ne.assignmentButtonActive:""}`,onClick:()=>S($.id,"watch"),children:"Watch"}),n.jsx("button",{type:"button",className:`${Ne.assignmentButton} ${G==="partner"?Ne.assignmentButtonActive:""}`,onClick:()=>S($.id,"partner"),children:"Partner"})]})]}),n.jsx("div",{className:Ne.membersCell,children:n.jsx("div",{className:Ne.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(ke=>n.jsx("button",{type:"button",className:`${Ne.decisionButton} ${W===ke?Ne.decisionButtonActive:""}`,onClick:()=>E($.id,ke),children:ke==="take"?"Take":ke==="bench"?"Bench":ke==="drop"?"Drop":"?"},ke))})}),n.jsxs("div",{className:`${Ne.membersCell} ${Ne.partnerPickerCell}`,children:[n.jsx("label",{className:Ne.partnerLabel,htmlFor:`partner-select-${$.id}`,children:"Partner"}),n.jsx("select",{id:`partner-select-${$.id}`,className:Ne.partnerSelect,value:q!=null?q:(Te=h[0])==null?void 0:Te.id,onChange:ke=>S($.id,"partner",ke.target.value),children:h.map(ke=>n.jsx("option",{value:ke.id,children:ke.label},ke.id))})]})]},$.id)})]}),l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Ne.contextMenuBackdrop,onClick:g}),n.jsxs("div",{className:Ne.contextMenu,style:{top:l.y,left:l.x},children:[n.jsx("button",{type:"button",className:Ne.contextMenuItem,onClick:()=>S(l.memberId,"main"),children:"Move to Main guild"}),n.jsx("button",{type:"button",className:Ne.contextMenuItem,onClick:()=>S(l.memberId,"watch"),children:"Move to Watchlist"}),h.map($=>n.jsxs("button",{type:"button",className:Ne.contextMenuItem,onClick:()=>S(l.memberId,"partner",$.id),children:["Move to ",$.label]},$.id))]})]}):null]})}const pde="_overview_6ytw3_1",fde="_contextBox_6ytw3_15",gde="_contextKicker_6ytw3_35",xde="_contextTitle_6ytw3_51",vde="_contextText_6ytw3_61",yde="_contextDetails_6ytw3_71",bde="_detailItem_6ytw3_85",_de="_detailLabel_6ytw3_99",wde="_detailValue_6ytw3_113",jde="_kpiGrid_6ytw3_121",Sde="_kpiCard_6ytw3_133",Nde="_kpiLabel_6ytw3_153",kde="_kpiValue_6ytw3_167",Tde="_columnsWrapper_6ytw3_177",Cde="_column_6ytw3_177",Ede="_columnDropTarget_6ytw3_213",Ade="_columnHeader_6ytw3_223",Ide="_columnKicker_6ytw3_235",Rde="_columnTitle_6ytw3_251",Pde="_columnCount_6ytw3_259",Lde="_columnBody_6ytw3_281",Dde="_memberCard_6ytw3_293",Mde="_memberTop_6ytw3_337",Fde="_memberName_6ytw3_349",Bde="_memberMeta_6ytw3_357",$de="_memberBadge_6ytw3_369",Ode="_memberBottom_6ytw3_395",Vde="_memberGuild_6ytw3_409",Ude="_memberServer_6ytw3_419",zde="_memberActions_6ytw3_427",Hde="_emptyList_6ytw3_469",Gde="_emptyWrap_6ytw3_487",Wde="_emptyTitle_6ytw3_501",qde="_emptyText_6ytw3_509",Kde="_addPartnerCard_6ytw3_519",Qde="_contextMenuBackdrop_6ytw3_559",Xde="_contextMenu_6ytw3_559",Yde="_contextMenuItem_6ytw3_601",Ge={overview:pde,contextBox:fde,contextKicker:gde,contextTitle:xde,contextText:vde,contextDetails:yde,detailItem:bde,detailLabel:_de,detailValue:wde,kpiGrid:jde,kpiCard:Sde,kpiLabel:Nde,kpiValue:kde,columnsWrapper:Tde,column:Cde,columnDropTarget:Ede,columnHeader:Ade,columnKicker:Ide,columnTitle:Rde,columnCount:Pde,columnBody:Lde,memberCard:Dde,memberTop:Mde,memberName:Fde,memberMeta:Bde,memberBadge:$de,memberBottom:Ode,memberGuild:Vde,memberServer:Ude,memberActions:zde,emptyList:Hde,emptyWrap:Gde,emptyTitle:Wde,emptyText:qde,addPartnerCard:Kde,contextMenuBackdrop:Qde,contextMenu:Xde,contextMenuItem:Yde};function Jde({members:t,scenario:e,setupState:s,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i,onAddPartnerGuild:a}){var H,q,Q;const l=(H=e==null?void 0:e.decisions)!=null?H:{},d=(q=e==null?void 0:e.targetGuildAssignments)!=null?q:{},u=s.partnerGuilds.length>0?s.partnerGuilds.map((G,J)=>({id:G.id,label:G.name||`Partner ${J+1}`})):[{id:"partner-default",label:"Partner guild"}],h=t.filter(G=>l[G.id]==="take"&&d[G.id]==="main"),p=t.filter(G=>l[G.id]==="bench"),g=u.reduce((G,J)=>(G[J.id]=t.filter(ne=>{const z=d[ne.id];return l[ne.id]==="take"&&(z===`partner:${J.id}`||z==="partner")}),G),{}),v=t.filter(G=>!h.includes(G)&&!p.includes(G)&&!Object.values(g).some(J=>J.includes(G))),[b,S]=Z.useState(null),[E,I]=Z.useState(null),F=Z.useRef(null),D=t.length,A=h.length,y=p.length,j=Object.values(g).reduce((G,J)=>G+J.length,0),M=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-A-j):0,k=Z.useCallback((G,J,ne)=>{G&&(J==="main"?(r(G,"take"),i(G,"main")):J==="partner"?(r(G,"take"),i(G,ne?`partner:${ne}`:"partner")):J==="unassigned"?(r(G,"undecided"),i(G,"none")):(r(G,"bench"),i(G,"none")),I(null))},[r,i]),w=Z.useCallback((G,J)=>ne=>{ne.preventDefault();const z=ne.dataTransfer.getData("text/plain");z&&k(z,G,J),S(null)},[k]),C=Z.useCallback(G=>J=>{J.preventDefault(),S(G)},[]),L=Z.useCallback(()=>S(null),[]),P=Z.useCallback((G,J)=>{I({memberId:G,...J})},[]),O=Z.useCallback(()=>{F.current!==null&&(window.clearTimeout(F.current),F.current=null)},[]),$=Z.useCallback((G,J,ne)=>{O(),F.current=window.setTimeout(()=>{P(G,{x:J,y:ne})},550)},[O,P]);if(Z.useEffect(()=>()=>O(),[O]),!e)return n.jsxs("div",{className:Ge.emptyWrap,children:[n.jsx("h3",{className:Ge.emptyTitle,children:"Overview"}),n.jsx("p",{className:Ge.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t.length)return n.jsxs("div",{className:Ge.emptyWrap,children:[n.jsx("h3",{className:Ge.emptyTitle,children:"No members loaded"}),n.jsx("p",{className:Ge.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const W=(G,J,ne,z,ee)=>n.jsxs("div",{className:`${Ge.column} ${b===G?Ge.columnDropTarget:""}`,onDragOver:C(G),onDragEnter:C(G),onDragLeave:L,onDrop:w(G,ee),children:[n.jsxs("div",{className:Ge.columnHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:Ge.columnKicker,children:ne}),n.jsx("h4",{className:Ge.columnTitle,children:J})]}),n.jsx("span",{className:Ge.columnCount,children:z.length})]}),n.jsx("div",{className:Ge.columnBody,children:z.length?z.map(ce=>{var te,fe,Ce,ge;return n.jsxs("div",{className:Ge.memberCard,draggable:!0,onDragStart:Te=>Te.dataTransfer.setData("text/plain",ce.id),onContextMenu:Te=>{Te.preventDefault(),P(ce.id,{x:Te.clientX,y:Te.clientY})},onTouchStart:Te=>{const ke=Te.touches[0];ke&&$(ce.id,ke.clientX,ke.clientY)},onTouchEnd:O,onTouchCancel:O,children:[n.jsxs("div",{className:Ge.memberTop,children:[n.jsxs("div",{children:[n.jsx("div",{className:Ge.memberName,children:ce.name}),n.jsxs("p",{className:Ge.memberMeta,children:[(fe=(te=ce.className)!=null?te:ce.class)!=null?fe:"Unknown","  ",(Ce=ce.role)!=null?Ce:"Unknown"]})]}),n.jsxs("span",{className:Ge.memberBadge,children:["Lvl ",(ge=ce.level)!=null?ge:"?"]})]}),n.jsxs("div",{className:Ge.memberBottom,children:[n.jsxs("span",{className:Ge.memberGuild,children:[ce.guildName," ",n.jsxs("span",{className:Ge.memberServer,children:["(",ce.server||"Server n/a",")"]})]}),n.jsxs("div",{className:Ge.memberActions,children:[n.jsx("button",{type:"button",onClick:()=>k(ce.id,"main"),children:"Main"}),n.jsx("button",{type:"button",onClick:()=>k(ce.id,"watch"),children:"Watch"}),n.jsx("button",{type:"button",onClick:()=>k(ce.id,"partner"),children:"Partner"})]})]})]},ce.id)}):n.jsx("div",{className:Ge.emptyList,children:"No players in this list yet."})})]});return n.jsxs("div",{className:Ge.overview,children:[n.jsxs("div",{className:Ge.contextBox,children:[n.jsxs("div",{children:[n.jsx("p",{className:Ge.contextKicker,children:"Setup"}),n.jsx("h3",{className:Ge.contextTitle,children:"Fusion Overview"}),n.jsx("p",{className:Ge.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),n.jsxs("div",{className:Ge.contextDetails,children:[n.jsxs("div",{className:Ge.detailItem,children:[n.jsx("span",{className:Ge.detailLabel,children:"Base Guild"}),n.jsx("strong",{className:Ge.detailValue,children:((Q=s.baseGuild)==null?void 0:Q.name)||"Unbenannt"})]}),n.jsxs("div",{className:Ge.detailItem,children:[n.jsx("span",{className:Ge.detailLabel,children:"Partner Guilds"}),n.jsx("strong",{className:Ge.detailValue,children:s.partnerGuilds.length})]}),n.jsxs("div",{className:Ge.detailItem,children:[n.jsx("span",{className:Ge.detailLabel,children:"Max Slots"}),n.jsx("strong",{className:Ge.detailValue,children:e.maxSlots})]})]})]}),n.jsxs("div",{className:Ge.kpiGrid,children:[n.jsxs("div",{className:Ge.kpiCard,children:[n.jsx("span",{className:Ge.kpiLabel,children:"Total players"}),n.jsx("strong",{className:Ge.kpiValue,children:D})]}),n.jsxs("div",{className:Ge.kpiCard,children:[n.jsx("span",{className:Ge.kpiLabel,children:"Main guild"}),n.jsx("strong",{className:Ge.kpiValue,children:A})]}),n.jsxs("div",{className:Ge.kpiCard,children:[n.jsx("span",{className:Ge.kpiLabel,children:"Watchlist"}),n.jsx("strong",{className:Ge.kpiValue,children:y})]}),n.jsxs("div",{className:Ge.kpiCard,children:[n.jsx("span",{className:Ge.kpiLabel,children:"Partner guild"}),n.jsx("strong",{className:Ge.kpiValue,children:j})]}),n.jsxs("div",{className:Ge.kpiCard,children:[n.jsx("span",{className:Ge.kpiLabel,children:"Free slots"}),n.jsx("strong",{className:Ge.kpiValue,children:M})]})]}),n.jsxs("div",{className:Ge.columnsWrapper,children:[W("unassigned","Unassigned","Noch ohne Planung",v),W("main","Main guild","Take & Assign main",h),W("watch","Watchlist","Bench for review",p),u.map(G=>{var J;return W("partner",G.label,"Take & Assign partner",(J=g[G.id])!=null?J:[],G.id)}),n.jsx("button",{type:"button",className:Ge.addPartnerCard,onClick:()=>a(`Partner ${u.length+1}`),children:"+ Partner guild"})]}),E?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Ge.contextMenuBackdrop,onClick:()=>I(null)}),n.jsxs("div",{className:Ge.contextMenu,style:{top:E.y,left:E.x},children:[n.jsx("button",{type:"button",className:Ge.contextMenuItem,onClick:()=>k(E.memberId,"main"),children:"Move to Main guild"}),n.jsx("button",{type:"button",className:Ge.contextMenuItem,onClick:()=>k(E.memberId,"watch"),children:"Move to Watchlist"}),u.map(G=>n.jsxs("button",{type:"button",className:Ge.contextMenuItem,onClick:()=>k(E.memberId,"partner",G.id),children:["Move to ",G.label]},G.id))]})]}):null]})}const Zde="_scenariosTab_3v4iw_1",eue="_scenariosHeader_3v4iw_13",tue="_scenariosTitle_3v4iw_35",sue="_scenariosText_3v4iw_45",nue="_scenarioInfo_3v4iw_57",rue="_headerActions_3v4iw_71",iue="_createButton_3v4iw_81",aue="_scenarioList_3v4iw_115",oue="_scenarioCard_3v4iw_127",lue="_scenarioCardActive_3v4iw_147",cue="_scenarioCardTop_3v4iw_157",due="_cardKicker_3v4iw_169",uue="_cardTitle_3v4iw_185",hue="_cardText_3v4iw_197",mue="_scenarioActiveBadge_3v4iw_209",pue="_scenarioMeta_3v4iw_231",fue="_scenarioMetaLabel_3v4iw_243",gue="_scenarioMetaValue_3v4iw_259",xue="_scenarioStats_3v4iw_269",vue="_scenarioStatItem_3v4iw_281",yue="_scenarioStatLabel_3v4iw_295",bue="_scenarioStatValue_3v4iw_311",_ue="_scenarioActions_3v4iw_321",wue="_scenarioActionButton_3v4iw_337",jue="_scenarioActionActive_3v4iw_367",Sue="_scenarioActionGroup_3v4iw_377",Nue="_secondaryActionButton_3v4iw_389",kue="_deleteActionButton_3v4iw_391",Tue="_deleteActionDisabled_3v4iw_443",ft={scenariosTab:Zde,scenariosHeader:eue,scenariosTitle:tue,scenariosText:sue,scenarioInfo:nue,headerActions:rue,createButton:iue,scenarioList:aue,scenarioCard:oue,scenarioCardActive:lue,scenarioCardTop:cue,cardKicker:due,cardTitle:uue,cardText:hue,scenarioActiveBadge:mue,scenarioMeta:pue,scenarioMetaLabel:fue,scenarioMetaValue:gue,scenarioStats:xue,scenarioStatItem:vue,scenarioStatLabel:yue,scenarioStatValue:bue,scenarioActions:_ue,scenarioActionButton:wue,scenarioActionActive:jue,scenarioActionGroup:Sue,secondaryActionButton:Nue,deleteActionButton:kue,deleteActionDisabled:Tue};function Cue({scenarios:t,activeScenarioId:e,onSetActiveScenario:s,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:a,onDeleteScenario:l}){const d=Z.useCallback(p=>{const g=Object.values(p.decisions),v=g.filter(I=>I==="take").length,b=g.filter(I=>I==="bench").length,S=g.filter(I=>I==="drop").length,E=Math.max(0,p.maxSlots-p.reservedSlots-v);return{selected:v,bench:b,drop:S,free:E}},[]),u=p=>{const g=window.prompt("Neuer Szenario-Name",p.name);g!==null&&a(p.id,g)},h=p=>{if(t.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&l(p.id)};return n.jsxs("div",{className:ft.scenariosTab,children:[n.jsxs("div",{className:ft.scenariosHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ft.cardKicker,children:"Scenarios"}),n.jsx("h3",{className:ft.scenariosTitle,children:"Fusion Plans verwalten"}),n.jsx("p",{className:ft.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),n.jsx("div",{className:ft.headerActions,children:n.jsx("button",{type:"button",className:ft.createButton,onClick:r,children:"Neues Szenario"})})]}),n.jsx("p",{className:ft.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),n.jsx("div",{className:ft.scenarioList,children:t.map(p=>{const g=d(p),v=p.id===e,b=t.length<=1;return n.jsxs("article",{className:`${ft.scenarioCard} ${v?ft.scenarioCardActive:""}`,children:[n.jsxs("div",{className:ft.scenarioCardTop,children:[n.jsxs("div",{children:[n.jsx("p",{className:ft.cardKicker,children:"Scenario"}),n.jsx("h3",{className:ft.cardTitle,children:p.name}),p.description?n.jsx("p",{className:ft.cardText,children:p.description}):null]}),v?n.jsx("span",{className:ft.scenarioActiveBadge,children:"Active"}):null]}),n.jsxs("div",{className:ft.scenarioMeta,children:[n.jsxs("div",{children:[n.jsx("span",{className:ft.scenarioMetaLabel,children:"Max slots"}),n.jsx("span",{className:ft.scenarioMetaValue,children:p.maxSlots})]}),n.jsxs("div",{children:[n.jsx("span",{className:ft.scenarioMetaLabel,children:"Reserved"}),n.jsx("span",{className:ft.scenarioMetaValue,children:p.reservedSlots})]})]}),n.jsxs("div",{className:ft.scenarioStats,children:[n.jsxs("div",{className:ft.scenarioStatItem,children:[n.jsx("span",{className:ft.scenarioStatLabel,children:"Selected"}),n.jsx("strong",{className:ft.scenarioStatValue,children:g.selected})]}),n.jsxs("div",{className:ft.scenarioStatItem,children:[n.jsx("span",{className:ft.scenarioStatLabel,children:"Free"}),n.jsx("strong",{className:ft.scenarioStatValue,children:g.free})]}),n.jsxs("div",{className:ft.scenarioStatItem,children:[n.jsx("span",{className:ft.scenarioStatLabel,children:"Bench"}),n.jsx("strong",{className:ft.scenarioStatValue,children:g.bench})]}),n.jsxs("div",{className:ft.scenarioStatItem,children:[n.jsx("span",{className:ft.scenarioStatLabel,children:"Drop"}),n.jsx("strong",{className:ft.scenarioStatValue,children:g.drop})]})]}),n.jsxs("div",{className:ft.scenarioActions,children:[n.jsx("button",{type:"button",className:`${ft.scenarioActionButton} ${v?ft.scenarioActionActive:""}`,onClick:()=>s(p.id),children:"Set active"}),n.jsxs("div",{className:ft.scenarioActionGroup,children:[n.jsx("button",{type:"button",className:ft.secondaryActionButton,onClick:()=>i(p.id),children:"Duplicate"}),n.jsx("button",{type:"button",className:ft.secondaryActionButton,onClick:()=>u(p),children:"Rename"}),n.jsx("button",{type:"button",className:`${ft.deleteActionButton} ${b?ft.deleteActionDisabled:""}`,onClick:()=>h(p),disabled:b,children:"Delete"})]})]})]},p.id)})})]})}const Eue="_resultWrap_179wi_1",Aue="_emptyState_179wi_13",Iue="_emptyTitle_179wi_35",Rue="_emptyText_179wi_43",Pue="_resultHeader_179wi_55",Lue="_resultKicker_179wi_79",Due="_resultTitle_179wi_95",Mue="_resultText_179wi_107",Fue="_emptyNote_179wi_119",Bue="_setupSummary_179wi_131",$ue="_setupSummaryTitle_179wi_149",Oue="_setupSummaryRow_179wi_159",Vue="_setupSummaryLabel_179wi_171",Uue="_setupSummaryValue_179wi_185",zue="_setupSummaryMeta_179wi_195",Hue="_setupSummaryTags_179wi_205",Gue="_setupSummaryTag_179wi_205",Wue="_classDistribution_179wi_241",que="_resultStats_179wi_253",Kue="_resultStatBadge_179wi_267",Que="_resultStatBadgeMuted_179wi_269",Xue="_group_179wi_307",Yue="_groupHeader_179wi_327",Jue="_groupTitle_179wi_341",Zue="_groupHint_179wi_351",ehe="_groupBadge_179wi_361",the="_badgeSuccess_179wi_387",she="_badgeMuted_179wi_399",nhe="_badgeDanger_179wi_409",rhe="_groupEmpty_179wi_421",ihe="_groupTable_179wi_437",ahe="_groupRow_179wi_455",ohe="_groupHead_179wi_327",lhe="_groupCell_179wi_491",che="_memberName_179wi_501",dhe="_memberBadge_179wi_509",qe={resultWrap:Eue,emptyState:Aue,emptyTitle:Iue,emptyText:Rue,resultHeader:Pue,resultKicker:Lue,resultTitle:Due,resultText:Mue,emptyNote:Fue,setupSummary:Bue,setupSummaryTitle:$ue,setupSummaryRow:Oue,setupSummaryLabel:Vue,setupSummaryValue:Uue,setupSummaryMeta:zue,setupSummaryTags:Hue,setupSummaryTag:Gue,classDistribution:Wue,resultStats:que,resultStatBadge:Kue,resultStatBadgeMuted:Que,group:Xue,groupHeader:Yue,groupTitle:Jue,groupHint:Zue,groupBadge:ehe,badgeSuccess:the,badgeMuted:she,badgeDanger:nhe,groupEmpty:rhe,groupTable:ihe,groupRow:ahe,groupHead:ohe,groupCell:lhe,memberName:che,memberBadge:dhe};function uhe({members:t,scenario:e,setupState:s}){var S;if(!e)return n.jsxs("div",{className:qe.emptyState,children:[n.jsx("h3",{className:qe.emptyTitle,children:"No scenario selected"}),n.jsx("p",{className:qe.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!t||t.length===0)return n.jsxs("div",{className:qe.emptyState,children:[n.jsx("h3",{className:qe.emptyTitle,children:"No members available"}),n.jsx("p",{className:qe.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:a,undecidedMembers:l}=Z.useMemo(()=>{const E=[],I=[],F=[],D=[];return t.forEach(A=>{var j;const y=(j=e.decisions[A.id])!=null?j:"undecided";y==="take"?E.push(A):y==="bench"?I.push(A):y==="drop"?F.push(A):D.push(A)}),{takeMembers:E,benchMembers:I,dropMembers:F,undecidedMembers:D}},[t,e.decisions]),d=r.length,u=i.length,h=a.length,p=Math.max(0,e.maxSlots-d),g=e.maxSlots?Math.round(d/e.maxSlots*100):0,v=Z.useMemo(()=>{const E=r.reduce((F,D)=>{var y,j;const A=(y=D.className)!=null?y:D.class;return A&&(F[A]=((j=F[A])!=null?j:0)+1),F},{});return Object.entries(E).map(([F,D])=>`${F}: ${D}`).join(" | ")},[r]),b=(E,I,F,D)=>n.jsxs("div",{className:qe.group,children:[n.jsxs("div",{className:qe.groupHeader,children:[n.jsxs("div",{children:[n.jsx("h4",{className:qe.groupTitle,children:E}),n.jsx("span",{className:qe.groupHint,children:I})]}),n.jsx("span",{className:`${qe.groupBadge} ${D}`,children:F.length})]}),F.length===0?n.jsx("div",{className:qe.groupEmpty,children:"No players in this group."}):n.jsxs("div",{className:qe.groupTable,role:"table",children:[n.jsxs("div",{className:`${qe.groupRow} ${qe.groupHead}`,role:"row",children:[n.jsx("div",{className:qe.groupCell,role:"columnheader",children:"Name"}),n.jsx("div",{className:qe.groupCell,role:"columnheader",children:"Level"}),n.jsx("div",{className:qe.groupCell,role:"columnheader",children:"Guild"}),n.jsx("div",{className:qe.groupCell,role:"columnheader",children:"Class"})]}),F.map(A=>{var y,j;return n.jsxs("div",{className:qe.groupRow,role:"row",children:[n.jsx("div",{className:qe.groupCell,role:"cell",children:n.jsx("span",{className:qe.memberName,children:A.name})}),n.jsx("div",{className:qe.groupCell,role:"cell",children:n.jsxs("span",{className:qe.memberBadge,children:["Lvl ",A.level]})}),n.jsx("div",{className:qe.groupCell,role:"cell",children:A.guildName}),n.jsx("div",{className:qe.groupCell,role:"cell",children:(j=(y=A.className)!=null?y:A.class)!=null?j:"-"})]},A.id)})]})]});return n.jsxs("div",{className:qe.resultWrap,children:[n.jsxs("div",{className:qe.resultHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:qe.resultKicker,children:"Final Plan"}),n.jsx("h3",{className:qe.resultTitle,children:e.name}),n.jsx("p",{className:qe.resultText,children:(S=e.description)!=null?S:"Zusammenfassung des aktuellen Plans."}),r.length===0?n.jsx("p",{className:qe.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,v?n.jsxs("p",{className:qe.classDistribution,children:["Class distribution: ",v]}):null,n.jsxs("div",{className:qe.setupSummary,children:[n.jsx("div",{className:qe.setupSummaryTitle,children:"Fusion plan between"}),s.baseGuild?n.jsxs("div",{className:qe.setupSummaryRow,children:[n.jsx("span",{className:qe.setupSummaryLabel,children:"Base"}),n.jsxs("span",{className:qe.setupSummaryValue,children:[s.baseGuild.name||"Unbenannt"," ",n.jsxs("span",{className:qe.setupSummaryMeta,children:["(",s.baseGuild.server||"Server n/a",")"]})]})]}):n.jsxs("div",{className:qe.setupSummaryRow,children:[n.jsx("span",{className:qe.setupSummaryLabel,children:"Base"}),n.jsx("span",{className:qe.setupSummaryMeta,children:"No base guild selected."})]}),n.jsxs("div",{className:qe.setupSummaryRow,children:[n.jsx("span",{className:qe.setupSummaryLabel,children:"Partners"}),s.partnerGuilds.length?n.jsx("div",{className:qe.setupSummaryTags,children:s.partnerGuilds.map(E=>n.jsxs("span",{className:qe.setupSummaryTag,children:[E.name||"Unbenannt"," ",n.jsxs("span",{className:qe.setupSummaryMeta,children:["(",E.server||"Server n/a",")"]})]},E.id))}):n.jsx("span",{className:qe.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),n.jsxs("div",{className:qe.resultStats,children:[n.jsxs("span",{className:qe.resultStatBadge,children:["Members selected: ",d," / ",e.maxSlots]}),n.jsxs("span",{className:qe.resultStatBadge,children:["Bench: ",u]}),n.jsxs("span",{className:qe.resultStatBadge,children:["Drop: ",h]}),n.jsxs("span",{className:qe.resultStatBadge,children:["Free slots: ",p]}),n.jsxs("span",{className:qe.resultStatBadge,children:["Utilization: ",g,"%"]}),l.length>0?n.jsxs("span",{className:qe.resultStatBadgeMuted,children:["Undecided: ",l.length]}):null]})]}),b("Final roster (selected)","Take",r,qe.badgeSuccess),b("Bench (waiting list)","Bench",i,qe.badgeMuted),b("Not included","Drop",a,qe.badgeDanger)]})}const Ap=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],SN=t=>t.reduce((e,s)=>(e[s.id]="undecided",e),{}),NN=t=>t.reduce((e,s)=>(e[s.id]="none",e),{}),hhe=(t,e,s)=>{var r,i,a,l,d,u,h,p,g,v,b,S,E,I,F,D;return{id:t.id,name:(r=t.name)!=null?r:"Unknown",class:(i=t.class)!=null?i:"Unknown",className:(a=t.class)!=null?a:void 0,role:(l=t.role)!=null?l:"Unknown",level:(d=t.level)!=null?d:void 0,guildName:e,server:s,scrapbook:void 0,lastOnline:(u=t.lastActivityMs)!=null?u:null,baseStats:{main:(h=t.baseMain)!=null?h:void 0,con:(p=t.conBase)!=null?p:void 0,sumBaseTotal:(g=t.sumBaseTotal)!=null?g:void 0},totalStats:(v=t.totalStats)!=null?v:void 0,values:{treasury:(b=t.treasury)!=null?b:void 0,mine:(S=t.mine)!=null?S:void 0,attrTotal:(E=t.attrTotal)!=null?E:void 0,conTotal:(I=t.conTotal)!=null?I:void 0,lastScan:(F=t.lastScan)!=null?F:void 0,lastActivity:(D=t.lastActivity)!=null?D:void 0}}},mhe=t=>{var r,i;if(!t)return null;const e=(r=t.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const s=(i=t.name)==null?void 0:i.trim();return s||null},kN=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,TN=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],phe=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function fhe(){var $;const[t,e]=Z.useState("setup"),[s,r]=Z.useState(Ap),[i,a]=Z.useState(!1),[l,d]=Z.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[u,h]=Z.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:SN(Ap),targetGuildAssignments:NN(Ap),isDefault:!0}]),[p,g]=Z.useState("plan-a"),v=Z.useMemo(()=>{var W,H;return(H=(W=u.find(q=>q.id===p))!=null?W:u[0])!=null?H:null},[p,u]),b=Z.useMemo(()=>{var Q,G;const W=l.baseGuild,H=(Q=W==null?void 0:W.name)==null?void 0:Q.trim(),q=(G=W==null?void 0:W.server)==null?void 0:G.trim();return!!(H&&q)},[l.baseGuild]),S=Z.useMemo(()=>s.length>0,[s.length]),E=Z.useMemo(()=>u.length>0,[u.length]),I=Z.useMemo(()=>{const W=[];return b||W.push("Setup incomplete - no base guild selected."),b&&!S&&W.push("No members loaded yet. Check scans or setup."),E||W.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),W},[b,S,E]),F=(W,H)=>{h(q=>q.map(Q=>Q.id===p?{...Q,decisions:{...Q.decisions,[W]:H}}:Q))},D=(W,H)=>{h(q=>q.map(Q=>{var G;return Q.id===p?{...Q,targetGuildAssignments:{...(G=Q.targetGuildAssignments)!=null?G:{},[W]:H}}:Q}))},A=W=>{const H=Number(W)||0;h(q=>q.map(Q=>Q.id===p?{...Q,maxSlots:Math.max(0,H)}:Q))},y=()=>{h(W=>{const H={id:kN(),name:`Plan ${W.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:SN(s),targetGuildAssignments:NN(s)};return g(H.id),[...W,H]})},j=W=>{h(H=>{var G;const q=H.find(J=>J.id===W);if(!q)return H;const Q={...q,id:kN(),name:`${q.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...q.decisions},targetGuildAssignments:{...(G=q.targetGuildAssignments)!=null?G:{}}};return g(Q.id),[...H,Q]})},M=(W,H)=>{const q=H.trim();q&&h(Q=>Q.map(G=>G.id===W?{...G,name:q}:G))},k=W=>{h(H=>{if(H.length<=1)return H;const q=H.filter(Q=>Q.id!==W);return q.length?(p===W&&g(q[0].id),q):H})};Z.useEffect(()=>{if(l.mode!=="scan"){a(!1),r(Ap);return}const W=[l.baseGuild,...l.partnerGuilds].filter(Boolean);if(W.length===0){a(!1),r([]);return}let H=!1;async function q(){var Q,G,J,ne,z,ee,ce,te,fe,Ce;a(!0);try{const ge=[];for(const Te of W){const ke=mhe(Te);if(!ke)continue;const ue=fs(Mt,`guilds/${ke}/latest/latest`),Le=await br(ue),Ae=Le.exists()?Le.data():null,et=(z=(ne=(G=(Q=Te.name)==null?void 0:Q.trim())!=null?G:Ae==null?void 0:Ae.name)!=null?ne:(J=Ae==null?void 0:Ae.values)==null?void 0:J.Name)!=null?z:ke,pt=(Ce=(fe=(ce=(ee=Te.server)==null?void 0:ee.trim())!=null?ce:Ae==null?void 0:Ae.server)!=null?fe:(te=Ae==null?void 0:Ae.values)==null?void 0:te.Server)!=null?Ce:null,Jt=fs(Mt,`guilds/${ke}/snapshots/members_summary`),Ts=await br(Jt);if(!Ts.exists())continue;const Cs=Ts.data();(Array.isArray(Cs.members)?Cs.members:[]).forEach(Os=>{ge.push(hhe(Os,et,pt))})}H||r(ge)}catch(ge){console.error("[FusionPlanner] Failed to load members",ge),H||r([])}finally{H||a(!1)}}return r([]),q(),()=>{H=!0}},[l.baseGuild,l.partnerGuilds,l.mode]),Z.useEffect(()=>{i||h(W=>W.map(H=>{var J;const q=new Set(s.map(ne=>ne.id)),Q={...H.decisions},G={...(J=H.targetGuildAssignments)!=null?J:{}};return s.forEach(ne=>{Q[ne.id]||(Q[ne.id]="undecided"),G[ne.id]||(G[ne.id]="none")}),Object.keys(Q).forEach(ne=>{q.has(ne)||delete Q[ne]}),Object.keys(G).forEach(ne=>{q.has(ne)||delete G[ne]}),{...H,decisions:Q,targetGuildAssignments:G}}))},[s,i]);const w=W=>{d(H=>({...H,mode:W}))},C=W=>{d(H=>{var Q,G,J;const q=(Q=H.baseGuild)!=null?Q:{id:"base-1",kind:"base",name:"",server:""};return{...H,baseGuild:{...q,...W.id?{id:W.id}:{},name:(G=W.name)!=null?G:q.name,server:(J=W.server)!=null?J:q.server}}})},L=W=>{var G;if(!W.name.trim()||!W.server.trim())return;const H=W.name.trim(),q=W.server.trim(),Q=(G=W.id)==null?void 0:G.trim();d(J=>({...J,partnerGuilds:[...J.partnerGuilds,{id:Q&&!Q.startsWith("partner-")?Q:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:H,server:q,kind:"partner"}]}))},P=W=>{d(H=>({...H,partnerGuilds:H.partnerGuilds.filter(q=>q.id!==W)}))},O=()=>{switch(t){case"setup":return n.jsx(xce,{setupState:l,onChangeMode:w,onChangeBaseGuild:C,onAddPartnerGuild:L,onRemovePartnerGuild:P});case"members":return n.jsx(mde,{members:s,scenario:v,onChangeScenarioDecision:F,onChangeScenarioTargetGuild:D,onChangeScenarioMaxSlots:A,setupState:l});case"overview":return n.jsx(Jde,{members:s,scenario:v,setupState:l,onChangeScenarioDecision:F,onChangeScenarioTargetGuild:D,onAddPartnerGuild:W=>L({name:W,server:"tbd"})});case"scenarios":return n.jsx(Cue,{scenarios:u,activeScenarioId:p,onSetActiveScenario:g,onCreateScenario:y,onDuplicateScenario:j,onRenameScenario:M,onDeleteScenario:k});case"result":return n.jsx(uhe,{members:s,scenario:v,setupState:l});default:return null}};return n.jsx(wt,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:n.jsxs("div",{className:Qe.page,children:[n.jsxs("header",{className:Qe.header,children:[n.jsxs("div",{className:Qe.headerLeading,children:[n.jsx(zt,{to:"/guild-hub",className:Qe.backLink,children:"Back to Guild Hub"}),n.jsxs("div",{className:Qe.headerStack,children:[n.jsx("p",{className:Qe.kicker,children:"Guild Hub"}),n.jsx("h1",{className:Qe.title,children:"Fusion Planner"}),n.jsx("p",{className:Qe.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),n.jsxs("div",{className:Qe.headerActions,children:[n.jsx("button",{type:"button",className:Qe.primaryAction,children:"Neues Setup"}),n.jsx("button",{type:"button",className:Qe.secondaryAction,children:"Checkliste"})]})]}),I.length?n.jsx("div",{className:Qe.plannerNotice,role:"status","aria-live":"polite",children:I.map(W=>n.jsxs("div",{className:`${Qe.noticeItem} ${W.toLowerCase().includes("no base guild")?Qe.noticeWarning:""}`,children:[n.jsx("span",{className:Qe.noticeDot,"aria-hidden":!0}),n.jsx("span",{children:W})]},W))}):null,n.jsxs("section",{className:Qe.tabSection,"aria-label":"Fusion Planner Tabs",children:[n.jsx("div",{className:Qe.tabBar,children:TN.map(W=>{const H=W.key===t;return n.jsxs("button",{type:"button",className:`${Qe.tabItem} ${H?Qe.tabItemActive:""}`,onClick:()=>e(W.key),"aria-pressed":H,children:[n.jsx("span",{className:Qe.tabLabel,children:W.label}),n.jsx("span",{className:Qe.tabHelper,children:W.helper})]},W.key)})}),n.jsxs("div",{className:Qe.tabPanel,children:[n.jsx("span",{className:Qe.tabBadge,children:($=TN.find(W=>W.key===t))==null?void 0:$.label}),O()]})]}),n.jsxs("section",{className:Qe.infoStrip,children:[n.jsxs("div",{className:Qe.infoBlock,children:[n.jsx("span",{className:Qe.infoLabel,children:"Status"}),n.jsx("strong",{children:"Entwurf"}),n.jsx("p",{className:Qe.infoHint,children:"Bereit fuer weitere Eingaben."})]}),n.jsxs("div",{className:Qe.infoBlock,children:[n.jsx("span",{className:Qe.infoLabel,children:"Slots geplant"}),n.jsx("strong",{children:"0 / 40"}),n.jsx("p",{className:Qe.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),n.jsxs("div",{className:Qe.infoBlock,children:[n.jsx("span",{className:Qe.infoLabel,children:"Szenarien"}),n.jsx("strong",{children:"3"}),n.jsx("p",{className:Qe.infoHint,children:"Baseline, Optimistic, Risiko."})]}),n.jsxs("div",{className:Qe.infoBlock,children:[n.jsx("span",{className:Qe.infoLabel,children:"Letztes Update"}),n.jsx("strong",{children:"vor wenigen Minuten"}),n.jsx("p",{className:Qe.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),n.jsx("section",{className:Qe.stageGrid,children:phe.map(W=>n.jsxs("article",{className:Qe.panel,children:[n.jsxs("div",{className:Qe.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:Qe.panelKicker,children:W.step}),n.jsx("h2",{className:Qe.panelTitle,children:W.title}),n.jsx("p",{className:Qe.panelLead,children:W.description})]}),W.badge?n.jsx("span",{className:Qe.badge,children:W.badge}):null]}),n.jsx("div",{className:Qe.panelBody,children:n.jsx("div",{className:Qe.placeholderGrid,children:W.placeholders.map(H=>n.jsxs("div",{className:Qe.placeholderCard,children:[n.jsx("div",{className:Qe.placeholderTitle,children:H}),n.jsx("p",{className:Qe.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},H))})})]},W.key))}),n.jsx("section",{className:Qe.helperSection,children:n.jsxs("div",{className:Qe.helperCard,children:[n.jsxs("div",{children:[n.jsx("p",{className:Qe.helperKicker,children:"Result"}),n.jsx("h3",{className:Qe.helperTitle,children:"Finaler Merge-Plan"}),n.jsx("p",{className:Qe.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),n.jsxs("div",{className:Qe.helperActions,children:[n.jsx("button",{type:"button",className:Qe.secondaryAction,children:"Teilen"}),n.jsx("button",{type:"button",className:Qe.primaryAction,children:"Review starten"})]})]})})]})})}const h0=["EU-01","EU-02","US-01","US-02","ASIA-01"],Hu=new Intl.NumberFormat("de-DE");function ghe(){const t=ad("(min-width: 768px)"),[e,s]=Z.useState("all"),[r,i]=Z.useState(null),[a,l]=Z.useState(null),[d,u]=Z.useState(null),[h,p]=Z.useState(null),g=[r,a].filter(Boolean).length,v=Z.useMemo(()=>{const P=[d,h].filter(Boolean);if(!P.length)return 0;const O=P.reduce(($,W)=>{var H;return $+((H=W.members)!=null?H:0)},0);return Math.round(O/P.length)},[d,h]),[b,S]=Z.useState(null),[E,I]=Z.useState(!1),F=Z.useRef(null);od(F,E&&!t),Z.useEffect(()=>{t&&I(!1)},[t]),Z.useEffect(()=>{if(!b)return;const P=$=>{const W=$.target;W&&(W.closest(`.${ie.freshnessBadge}`)||W.closest(`.${ie.freshnessPopover}`)||S(null))},O=$=>{$.key==="Escape"&&S(null)};return document.addEventListener("pointerdown",P),document.addEventListener("keydown",O),()=>{document.removeEventListener("pointerdown",P),document.removeEventListener("keydown",O)}},[b]);const D=Z.useMemo(()=>d?mh(d.nextUpdateAt,Date.now()):"",[d]),A=Z.useMemo(()=>h?mh(h.nextUpdateAt,Date.now()):"",[h]),y=()=>I(!0),j=()=>I(!1),M=P=>{s(P)},k=(P,O)=>{P==="guildA"?(i(O.id),u(O)):(l(O.id),p(O))},w=P=>{P==="guildA"?(i(null),u(null)):(l(null),p(null))},C=P=>{S(O=>O===P?null:P)},L=d&&h;return n.jsxs(wt,{title:"Guild Hub",subtitle:"Gildenvergleich",centerFramed:!1,children:[n.jsxs("div",{className:ie.page,children:[n.jsxs("header",{className:ie.header,children:[n.jsxs("div",{className:ie.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.kicker,children:"Guild Hub"}),n.jsx("h1",{className:ie.title,children:"Gilden vergleichen"}),n.jsx("p",{className:ie.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken ab, bevor du dich fuer oder gegen einen Zusammenschluss entscheidest."})]}),n.jsx("div",{className:ie.headerActions,children:!t&&n.jsx("button",{type:"button",className:ie.secondaryAction,onClick:y,children:"Filter"})})]}),n.jsxs("div",{className:ie.infoStrip,children:[n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Pool"}),n.jsxs("strong",{children:[Hu.format(g)," Gilden"]})]}),n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Durchschnitt Mitglieder"}),n.jsx("strong",{children:Hu.format(v)})]}),n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Serverfilter"}),n.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&n.jsx("div",{className:ie.inlineFilters,children:n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:e,onChange:P=>M(P.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),h0.map(P=>n.jsx("option",{value:P,children:P},P))]})]})})]}),n.jsxs("div",{className:ie.layout,children:[n.jsxs("section",{className:ie.selectionColumn,children:[n.jsx(CN,{title:"Gilde A",slot:"guildA",selectedGuild:d,excludeId:a,onSelect:k,onClear:w,serverFilter:e,onServerChange:M}),n.jsx(CN,{title:"Gilde B",slot:"guildB",selectedGuild:h,excludeId:r,onSelect:k,onClear:w,serverFilter:e,onServerChange:M})]}),n.jsxs("section",{className:ie.comparisonColumn,children:[n.jsxs("div",{className:ie.comparisonCard,children:[n.jsxs("div",{className:ie.comparisonHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.kicker,children:"Vergleich"}),n.jsx("h2",{className:ie.sectionTitle,children:"Kennzahlen"})]}),L&&n.jsxs("span",{className:ie.diffBadge,children:["Delta Mitglieder:"," ",Hu.format(d.members-h.members)]})]}),L?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:ie.metricGrid,children:[n.jsx(EN,{label:"Mitglieder",aValue:d.members,bValue:h.members}),n.jsx(EN,{label:"Durchschnittslevel",aValue:d.avgLevel,bValue:h.avgLevel,isDecimal:!0}),n.jsx(xhe,{guildA:d,guildB:h,countdownA:D,countdownB:A,activePopover:b,onToggle:C})]}),n.jsx(vhe,{guildA:d,guildB:h})]}):n.jsx("div",{className:ie.emptyState,children:n.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),n.jsxs("div",{className:ie.supportPanels,children:[n.jsx(yhe,{}),n.jsx(bhe,{})]})]})]})]}),!t&&n.jsx("div",{className:`${ie.sheetOverlay} ${E?ie.sheetOpen:""}`,children:n.jsxs("div",{className:ie.sheet,role:"dialog","aria-modal":"true",ref:F,children:[n.jsxs("header",{className:ie.sheetHeader,children:[n.jsx("h3",{children:"Filter"}),n.jsx("button",{type:"button",className:ie.clearButton,onClick:j,children:"Schliessen"})]}),n.jsx("div",{className:ie.sheetBody,children:n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:e,onChange:P=>M(P.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),h0.map(P=>n.jsx("option",{value:P,children:P},P))]})]})})]})})]})}function CN({title:t,slot:e,selectedGuild:s,excludeId:r,onSelect:i,onClear:a,serverFilter:l,onServerChange:d}){const[u,h]=Z.useState(""),p=id(u,300);Z.useEffect(()=>{h("")},[s,l]);const{results:g,loading:v}=_he(p,l,r);return n.jsxs("article",{className:ie.selectionCard,children:[n.jsxs("div",{className:ie.slotHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.slotLabel,children:t}),n.jsx("p",{className:ie.slotStatus,children:s?"Ausgewaehlt":"Noch keine Auswahl"})]}),s&&n.jsx("button",{type:"button",className:ie.clearButton,onClick:()=>a(e),children:"Reset"})]}),n.jsxs("div",{className:ie.slotBody,children:[n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:l,onChange:b=>d(b.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),h0.map(b=>n.jsx("option",{value:b,children:b},b))]})]}),n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Suchen"}),n.jsx("input",{className:ie.searchInput,placeholder:"Gildennamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),n.jsxs("div",{className:ie.resultList,role:"list",children:[v&&n.jsx("div",{className:ie.emptyResult,children:"Lade..."}),!v&&g.length===0&&n.jsx("div",{className:ie.emptyResult,children:"Keine Gilde gefunden."}),!v&&g.map(b=>n.jsxs("div",{className:ie.resultItem,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.resultName,children:b.name}),n.jsxs("p",{className:ie.resultMeta,children:[b.server," - ",b.members," Mitglieder"]})]}),n.jsx("button",{type:"button",className:ie.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),s&&n.jsxs("div",{className:ie.selectedCard,children:[n.jsx("p",{className:ie.selectedName,children:s.name}),n.jsxs("p",{className:ie.selectedMeta,children:[s.server," - ",s.members," Mitglieder - Durchschnittslevel"," ",s.avgLevel.toFixed(1)]}),n.jsx("p",{className:ie.selectedTagline,children:s.tagline})]})]})]})}function EN({label:t,aValue:e,bValue:s,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):Hu.format(d),a=e-s;let l="gleich";if(a!==0){const d=r?Math.abs(a).toFixed(1).replace(".",","):Hu.format(Math.abs(a));l=a>0?`+${d}`:`-${d}`}return n.jsxs("div",{className:ie.metricCard,children:[n.jsx("p",{className:ie.metricLabel,children:t}),n.jsxs("div",{className:ie.metricValues,children:[n.jsx("span",{"aria-label":"Gilde A",children:i(e)}),n.jsx("span",{className:ie.metricDivider,children:"vs"}),n.jsx("span",{"aria-label":"Gilde B",children:i(s)})]}),n.jsx("p",{className:ie.metricDelta,children:l})]})}function xhe({guildA:t,guildB:e,countdownA:s,countdownB:r,activePopover:i,onToggle:a}){return n.jsxs("div",{className:ie.metricCard,children:[n.jsx("p",{className:ie.metricLabel,children:"Freshness"}),n.jsx("div",{className:ie.freshnessRow,children:[t,e].map(l=>{const d=l.id===t.id?s:r,u=`fresh-${l.id}`,h=i===u;return n.jsxs("div",{className:ie.freshnessItem,children:[n.jsxs("button",{type:"button",className:ie.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[n.jsx("span",{children:l.freshness.toUpperCase()}),n.jsx("small",{children:$h(l.lastScanAt)})]}),h&&n.jsxs("div",{className:ie.freshnessPopover,role:"dialog",children:[n.jsx("p",{className:ie.popoverTitle,children:l.name}),n.jsxs("dl",{children:[n.jsxs("div",{children:[n.jsx("dt",{children:"Status"}),n.jsx("dd",{children:mb[l.freshness]})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Zuletzt gescannt"}),n.jsx("dd",{children:Mi(l.lastScanAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Naechstes Update"}),n.jsxs("dd",{children:[Mi(l.nextUpdateAt)," (",d,")"]})]})]})]})]},l.id)})})]})}function vhe({guildA:t,guildB:e}){const s=Z.useMemo(()=>Array.from(new Set([...t.classes,...e.classes].map(r=>r.label))),[t.classes,e.classes]);return n.jsxs("div",{className:ie.classCard,children:[n.jsx("p",{className:ie.metricLabel,children:"Klassenverteilung"}),n.jsx("div",{className:ie.classGrid,children:[t,e].map(r=>n.jsxs("div",{className:ie.classColumn,children:[n.jsx("h3",{children:r.name}),n.jsx("div",{className:ie.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>n.jsxs("span",{style:{width:`${i.percent}%`},className:ie.classSlice,children:[n.jsx("small",{children:i.label}),n.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),n.jsx("ul",{className:ie.classLegend,children:s.map(r=>n.jsx("li",{children:r},r))})]})}function yhe(){const t=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return n.jsxs("section",{className:ie.checklistCard,children:[n.jsx("h3",{children:"Vor dem Vergleich pruefen"}),n.jsx("ul",{className:ie.checklist,children:t.map(e=>n.jsx("li",{children:e},e))})]})}function bhe(){return n.jsxs("section",{className:ie.infoCardExtended,children:[n.jsx("h3",{children:"Transfers-Diff"}),n.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",n.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),n.jsx("p",{className:ie.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),n.jsx("button",{type:"button",className:ie.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function _he(t,e,s){const[r,i]=Z.useState([]),[a,l]=Z.useState(!1);return Z.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),l(!1);return}let u=!1;async function h(){l(!0);try{const p=d.toLowerCase(),g=dg(Mt,"latest"),v=await fn(Un(g,lo("nameFold"),ul(p),hl(p+""),zn(15))),b=await fn(Un(g,gl("nameNgrams","array-contains",p),zn(15))),S=new Set,E=[],I=F=>{var O,$,W,H,q,Q,G,J,ne,z,ee,ce,te,fe,Ce,ge,Te,ke,ue,Le,Ae;const D=F.data(),y=(O=F.ref.parent)==null?void 0:O.parent,j=y==null?void 0:y.parent;if((j==null?void 0:j.id)!=="guilds")return;const k=(W=($=y==null?void 0:y.id)!=null?$:D.guildIdentifier)!=null?W:F.id;if(!k||S.has(k)||s&&k===s)return;const w=(Q=(q=D.name)!=null?q:(H=D.values)==null?void 0:H.Name)!=null?Q:"Unbekannte Gilde",C=(ne=(J=D.server)!=null?J:(G=D.values)==null?void 0:G.Server)!=null?ne:"Unknown";if(e!=="all"&&C!==e)return;const L=(fe=(te=(ee=D.memberCount)!=null?ee:(z=D.values)==null?void 0:z["Guild Member Count"])!=null?te:(ce=D.values)==null?void 0:ce.GuildMemberCount)!=null?fe:0,P=(Te=(ge=D.updatedAt)!=null?ge:(Ce=D.values)==null?void 0:Ce.UpdatedAt)!=null?Te:D.timestamp?new Date(D.timestamp*1e3).toISOString():new Date().toISOString();S.add(k),E.push({id:k,name:w,tagline:(ke=D.tagline)!=null?ke:"",server:C,members:L,avgLevel:(Ae=(Le=D.avgLevel)!=null?Le:(ue=D.values)==null?void 0:ue.AvgLevel)!=null?Ae:0,lastScanAt:P,updatedAt:P,nextUpdateAt:P,freshness:"unknown",classes:[]})};v.forEach(I),b.forEach(I),u||(E.sort((F,D)=>F.name.localeCompare(D.name)),i(E))}catch(p){console.error("[GuildHub CompareGuilds] guild search failed",p),u||i([])}finally{u||l(!1)}}return h(),()=>{u=!0}},[t,e,s]),{results:r,loading:a}}const whe="_page_o27vc_1",jhe="_header_o27vc_13",She="_headerStack_o27vc_25",Nhe="_kicker_o27vc_37",khe="_title_o27vc_53",The="_headerActions_o27vc_65",Che="_primaryAction_o27vc_77",Ehe="_secondaryAction_o27vc_79",Ahe="_infoStrip_o27vc_109",Ihe="_infoPill_o27vc_129",Rhe="_freshnessWrapper_o27vc_163",Phe="_freshnessBadge_o27vc_171",Lhe="_popover_o27vc_191",Dhe="_popoverLabel_o27vc_221",Mhe="_filterToolbar_o27vc_231",Fhe="_filterSheetButton_o27vc_241",Bhe="_inlineFilters_o27vc_259",$he="_searchInput_o27vc_271",Ohe="_select_o27vc_273",Vhe="_chipGroup_o27vc_295",Uhe="_chip_o27vc_295",zhe="_chipActive_o27vc_325",Hhe="_levelRow_o27vc_335",Ghe="_sortControls_o27vc_363",Whe="_sortLabel_o27vc_375",qhe="_directionButton_o27vc_385",Khe="_listBody_o27vc_403",Qhe="_tableWrapper_o27vc_415",Xhe="_table_o27vc_415",Yhe="_cardFooter_o27vc_459",Jhe="_panel_o27vc_461",Zhe="_formPanel_o27vc_463",eme="_statusSelect_o27vc_481",tme="_stickyColumn_o27vc_515",sme="_rowButton_o27vc_529",nme="_scanBadge_o27vc_545",rme="_cardList_o27vc_561",ime="_card_o27vc_459",ame="_cardHeader_o27vc_593",ome="_cardTitle_o27vc_605",lme="_cardMeta_o27vc_623",cme="_cardNotes_o27vc_635",dme="_emptyState_o27vc_659",ume="_sheetBackdrop_o27vc_675",hme="_sheet_o27vc_675",mme="_sheetHandle_o27vc_717",pme="_sheetBody_o27vc_733",fme="_sheetLabel_o27vc_749",gme="_sheetActions_o27vc_785",xme="_overlay_o27vc_797",vme="_drawer_o27vc_837",yme="_modal_o27vc_845",bme="_panelHeader_o27vc_853",_me="_section_o27vc_867",wme="_tagRow_o27vc_899",jme="_historyList_o27vc_913",Sme="_panelFooter_o27vc_943",Nme="_formOverlay_o27vc_955",kme="_formGrid_o27vc_1003",Tme="_warning_o27vc_1015",Cme="_pagination_o27vc_1033",_e={page:whe,header:jhe,headerStack:She,kicker:Nhe,title:khe,headerActions:The,primaryAction:Che,secondaryAction:Ehe,infoStrip:Ahe,infoPill:Ihe,freshnessWrapper:Rhe,freshnessBadge:Phe,popover:Lhe,popoverLabel:Dhe,filterToolbar:Mhe,filterSheetButton:Fhe,inlineFilters:Bhe,searchInput:$he,select:Ohe,chipGroup:Vhe,chip:Uhe,chipActive:zhe,levelRow:Hhe,sortControls:Ghe,sortLabel:Whe,directionButton:qhe,listBody:Khe,tableWrapper:Qhe,table:Xhe,cardFooter:Yhe,panel:Jhe,formPanel:Zhe,statusSelect:eme,stickyColumn:tme,rowButton:sme,scanBadge:nme,cardList:rme,card:ime,cardHeader:ame,cardTitle:ome,cardMeta:lme,cardNotes:cme,emptyState:dme,sheetBackdrop:ume,sheet:hme,sheetHandle:mme,sheetBody:pme,sheetLabel:fme,sheetActions:gme,overlay:xme,drawer:vme,modal:yme,panelHeader:bme,section:_me,tagRow:wme,historyList:jme,panelFooter:Sme,formOverlay:Nme,formGrid:kme,warning:Tme,pagination:Cme},Mf=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],Ff=["EU-01","EU-02","US-01","US-02","ASIA-01"],pb={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},AN={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},ry={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},Eme=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:Za(2),updatedAt:Za(3),freshness:"f1",history:[{date:gr(1),message:"Interview abgeschlossen"},{date:gr(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:Za(10),updatedAt:Za(11),freshness:"f3",history:[{date:gr(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:Za(20),updatedAt:Za(5),freshness:"f4",history:[{date:gr(4),message:"Probe erfolgreich"},{date:gr(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:gr(2),updatedAt:gr(2),freshness:"f5",history:[{date:gr(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:gr(3),updatedAt:gr(1),freshness:"f6",history:[{date:gr(1),message:"Bewerbung zurueckgezogen"},{date:gr(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:Za(5),updatedAt:Za(5),freshness:"f2",history:[{date:gr(1),message:"Profil verifiziert"}]}];function IN(t){return{...t,lvMin:Math.max(1,t.lvMin),lvMax:Math.max(t.lvMin,Math.min(200,t.lvMax)),page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),classes:Array.from(new Set(t.classes)),servers:Array.from(new Set(t.servers))}}function Ame(t,e,s){const r=s.toLowerCase();return t.filter(i=>{const a=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),l=e.status==="all"||i.status===e.status,d=e.classes.length===0||e.classes.includes(i.classRole),u=e.servers.length===0||e.servers.includes(i.server),h=i.level>=e.lvMin&&i.level<=e.lvMax;return a&&l&&d&&u&&h})}function Ime(t,e,s){const r=[...t];return r.sort((i,a)=>{let l=0;switch(e){case"name":l=i.name.localeCompare(a.name);break;case"level":l=i.level-a.level;break;case"status":l=i.status.localeCompare(a.status);break;case"lastScan":l=new Date(i.lastScanAt).getTime()-new Date(a.lastScanAt).getTime();break;case"updatedAt":default:l=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break}return s==="asc"?l:-l}),r}function Rme(t,e,s){const r=(e-1)*s;return t.slice(r,r+s)}function Zp(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function Pme(t){const e=Date.now()-new Date(t).getTime(),s=Math.round(e/6e4);if(s<60)return`${s} min`;const r=Math.round(s/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Lme(t){return t.length?t.reduce((e,s)=>e?AN[s.freshness]>AN[e.freshness]?s:e:s,null):null}function gr(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}function Za(t){const e=new Date;return e.setHours(e.getHours()-t),e.toISOString()}function Dme(){var H;const[t,e]=Z.useState(Eme),[s,r]=Z.useState(ry),[i,a]=Z.useState(ry),l=id(s.q,300),d=Z.useMemo(()=>{const q=Ame(t,s,l);return Ime(q,s.sort,s.dir)},[t,s,l]),u=Z.useMemo(()=>Rme(d,s.page,s.pageSize),[d,s.page,s.pageSize]),h=Math.max(1,Math.ceil(d.length/s.pageSize)),p=ad("(min-width: 768px)"),g=ad("(min-width: 1024px)"),[v,b]=Z.useState(!1),[S,E]=Z.useState(null),I=(H=t.find(q=>q.id===S))!=null?H:null,F=Z.useRef(null);od(F,!!I&&!g);const[D,A]=Z.useState(null),[y,j]=Z.useState(!1),M=Z.useRef(null);od(M,y);const k=Z.useMemo(()=>Lme(t),[t]),w=k&&k.lastScanAt?Pme(k.lastScanAt):"unbekannt",C=q=>{const Q=IN(q);r(Q),a(Q)},L=(q,Q)=>{const G=IN({...s,[q]:Q,page:q==="page"?Q:1});C(G)},P=()=>{C(i),b(!1)},O=()=>{C(ry),b(!1)},$=(q,Q)=>{e(G=>G.map(J=>J.id===q?{...J,status:Q,updatedAt:new Date().toISOString()}:J))},W=q=>{e(Q=>Q.some(J=>J.id===q.id)?Q.map(J=>J.id===q.id?q:J):[q,...Q]),j(!1)};return n.jsxs(wt,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[n.jsxs("div",{className:_e.page,children:[n.jsxs("header",{className:_e.header,children:[n.jsxs("div",{className:_e.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:_e.kicker,children:"Recruiting"}),n.jsx("h1",{className:_e.title,children:"Waitlist"})]}),n.jsxs("div",{className:_e.headerActions,children:[n.jsx("button",{type:"button",className:_e.primaryAction,onClick:()=>{A(null),j(!0)},children:"Neuer Eintrag"}),!p&&n.jsx("button",{type:"button",className:_e.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>b(!0),children:"Filter"})]})]}),n.jsxs("div",{className:_e.infoStrip,children:[n.jsx(iy,{label:"Neu",value:d.filter(q=>q.status==="new").length}),n.jsx(iy,{label:"In Review",value:d.filter(q=>q.status==="in_review").length}),n.jsx(iy,{label:"Zugesagt",value:d.filter(q=>q.status==="accepted").length}),k&&n.jsx(Mme,{label:pb[k.freshness],updatedAt:k.lastScanAt,countdown:w})]})]}),n.jsx("section",{className:_e.filterToolbar,children:p?n.jsx(Fme,{filters:s,onChange:L,onToggleClass:q=>{const Q=s.classes.includes(q)?s.classes.filter(G=>G!==q):[...s.classes,q];L("classes",Q)},onToggleServer:q=>{const Q=s.servers.includes(q)?s.servers.filter(G=>G!==q):[...s.servers,q];L("servers",Q)}}):n.jsx("button",{type:"button",className:_e.filterSheetButton,onClick:()=>b(!0),children:"Filter & Sortierung"})}),n.jsx("section",{className:_e.listBody,children:p?n.jsx(Bme,{items:u,sort:s.sort,dir:s.dir,onSortChange:q=>{const Q=s.sort===q&&s.dir==="asc"?"desc":"asc";L("sort",q),L("dir",Q)},onSelect:E,onStatusChange:$}):n.jsx($me,{items:u,onSelect:E,onStatusChange:$})}),n.jsx(Vme,{page:s.page,totalPages:h,onChange:q=>L("page",q)})]}),v&&n.jsx(Ome,{filters:i,onChange:a,onToggleClass:q=>a(Q=>({...Q,classes:Q.classes.includes(q)?Q.classes.filter(G=>G!==q):[...Q.classes,q]})),onToggleServer:q=>a(Q=>({...Q,servers:Q.servers.includes(q)?Q.servers.filter(G=>G!==q):[...Q.servers,q]})),onClose:()=>b(!1),onApply:P,onReset:O}),I&&n.jsx(BE,{ref:F,item:I,mode:g?"drawer":"modal",onClose:()=>E(null),onEdit:()=>{A(I),j(!0),E(null)}}),y&&n.jsx($E,{ref:M,item:D,entries:t,onClose:()=>j(!1),onSubmit:W})]})}function iy({label:t,value:e}){return n.jsxs("div",{className:_e.infoPill,children:[n.jsx("span",{children:t}),n.jsx("strong",{children:e})]})}function Mme({label:t,updatedAt:e,countdown:s}){const[r,i]=Z.useState(!1);return n.jsxs("div",{className:_e.freshnessWrapper,children:[n.jsx("button",{type:"button",className:_e.freshnessBadge,onClick:()=>i(a=>!a),"aria-expanded":r,children:t}),r&&n.jsxs("div",{className:_e.popover,children:[n.jsxs("div",{children:[n.jsx("span",{className:_e.popoverLabel,children:"Letzter Scan"}),n.jsx("strong",{children:Zp(e)})]}),n.jsxs("div",{children:[n.jsx("span",{className:_e.popoverLabel,children:"Aktualisiert"}),n.jsx("strong",{children:s})]})]})]})}function Fme({filters:t,onChange:e,onToggleClass:s,onToggleServer:r}){return n.jsxs("div",{className:_e.inlineFilters,children:[n.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:_e.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>e("q",i.target.value)}),n.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:_e.select,value:t.status,onChange:i=>e("status",i.target.value),children:[n.jsx("option",{value:"all",children:"Status (alle)"}),n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),n.jsx("div",{className:_e.chipGroup,children:Mf.map(i=>{const a=t.classes.includes(i);return n.jsx("button",{type:"button",className:`${_e.chip} ${a?_e.chipActive:""}`,onClick:()=>s(i),children:i},i)})}),n.jsx("div",{className:_e.chipGroup,children:Ff.map(i=>{const a=t.servers.includes(i);return n.jsx("button",{type:"button",className:`${_e.chip} ${a?_e.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),n.jsxs("div",{className:_e.levelRow,children:[n.jsxs("label",{children:["Lv min",n.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:t.lvMin,min:1,max:t.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),n.jsxs("label",{children:["Lv max",n.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:t.lvMax,min:t.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),n.jsxs("div",{className:_e.sortControls,children:[n.jsx("label",{className:_e.sortLabel,children:"Sortieren"}),n.jsxs("select",{value:t.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[n.jsx("option",{value:"name",children:"Name"}),n.jsx("option",{value:"level",children:"Level"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"lastScan",children:"Letzter Scan"}),n.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),n.jsx("button",{type:"button",className:_e.directionButton,onClick:()=>e("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"ASC":"DESC"})]})]})}function Bme({items:t,sort:e,dir:s,onSortChange:r,onSelect:i,onStatusChange:a}){const l=d=>e===d?s==="asc"?" ":" ":"";return t.length?n.jsx("div",{className:_e.tableWrapper,children:n.jsxs("table",{className:_e.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsxs("th",{className:_e.stickyColumn,onClick:()=>r("name"),children:["Name",l("name")]}),n.jsx("th",{children:"Klasse"}),n.jsxs("th",{onClick:()=>r("level"),children:["Level",l("level")]}),n.jsx("th",{children:"Server"}),n.jsxs("th",{onClick:()=>r("status"),children:["Status",l("status")]}),n.jsx("th",{children:"Notizen"}),n.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",l("lastScan")]})]})}),n.jsx("tbody",{children:t.map(d=>n.jsxs("tr",{children:[n.jsx("td",{className:_e.stickyColumn,children:n.jsx("button",{type:"button",className:_e.rowButton,onClick:()=>i(d.id),children:d.name})}),n.jsx("td",{children:d.classRole}),n.jsx("td",{children:d.level}),n.jsx("td",{children:d.server}),n.jsx("td",{children:n.jsxs("select",{className:_e.statusSelect,name:`waitlistStatus-${d.id}`,"aria-label":`Status fuer ${d.name}`,value:d.status,onChange:u=>a(d.id,u.target.value),children:[n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),n.jsxs("td",{children:[d.notes.slice(0,64),"..."]}),n.jsx("td",{children:n.jsx("span",{className:_e.scanBadge,children:pb[d.freshness]})})]},d.id))})]})}):n.jsx(FE,{})}function $me({items:t,onSelect:e,onStatusChange:s}){return t.length?n.jsx("div",{className:_e.cardList,children:t.map(r=>n.jsxs("article",{className:_e.card,children:[n.jsxs("div",{className:_e.cardHeader,children:[n.jsxs("div",{children:[n.jsx("button",{type:"button",className:_e.cardTitle,onClick:()=>e(r.id),children:r.name}),n.jsxs("p",{className:_e.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),n.jsx("span",{className:_e.scanBadge,children:pb[r.freshness]})]}),n.jsxs("p",{className:_e.cardNotes,children:[r.notes.slice(0,160),"..."]}),n.jsxs("div",{className:_e.cardFooter,children:[n.jsxs("select",{className:_e.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>s(r.id,i.target.value),children:[n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):n.jsx(FE,{})}function FE(){return n.jsx("div",{className:_e.emptyState,children:n.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function Ome({filters:t,onChange:e,onToggleClass:s,onToggleServer:r,onClose:i,onApply:a,onReset:l}){return n.jsx("div",{className:_e.sheetBackdrop,onClick:i,children:n.jsxs("div",{className:_e.sheet,onClick:d=>d.stopPropagation(),children:[n.jsx("div",{className:_e.sheetHandle}),n.jsxs("div",{className:_e.sheetBody,children:[n.jsx("h2",{children:"Filter"}),n.jsxs("label",{className:_e.sheetLabel,children:["Suche",n.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:t.q,onChange:d=>e(u=>({...u,q:d.target.value}))})]}),n.jsxs("label",{className:_e.sheetLabel,children:["Status",n.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:t.status,onChange:d=>e(u=>({...u,status:d.target.value})),children:[n.jsx("option",{value:"all",children:"Alle"}),n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),n.jsxs("div",{className:_e.sheetLabel,children:["Klassen",n.jsx("div",{className:_e.chipGroup,children:Mf.map(d=>{const u=t.classes.includes(d);return n.jsx("button",{type:"button",className:`${_e.chip} ${u?_e.chipActive:""}`,"aria-label":`Klasse ${d}`,onClick:()=>s(d),children:d},d)})})]}),n.jsxs("div",{className:_e.sheetLabel,children:["Server",n.jsx("div",{className:_e.chipGroup,children:Ff.map(d=>{const u=t.servers.includes(d);return n.jsx("button",{type:"button",className:`${_e.chip} ${u?_e.chipActive:""}`,"aria-label":`Server ${d}`,onClick:()=>r(d),children:d},d)})})]}),n.jsxs("div",{className:_e.levelRow,children:[n.jsxs("label",{children:["Lv min",n.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:t.lvMin,onChange:d=>e(u=>({...u,lvMin:Number(d.target.value)}))})]}),n.jsxs("label",{children:["Lv max",n.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:t.lvMax,onChange:d=>e(u=>({...u,lvMax:Number(d.target.value)}))})]})]})]}),n.jsxs("div",{className:_e.sheetActions,children:[n.jsx("button",{type:"button",onClick:l,children:"Zuruecksetzen"}),n.jsx("button",{type:"button",className:_e.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const BE=Z.forwardRef(({item:t,mode:e,onClose:s,onEdit:r},i)=>n.jsx("div",{className:_e.overlay,children:n.jsxs("div",{ref:i,className:`${_e.panel} ${e==="drawer"?_e.drawer:_e.modal}`,children:[n.jsxs("header",{className:_e.panelHeader,children:[n.jsxs("div",{children:[n.jsxs("p",{className:_e.cardMeta,children:[t.classRole," - Lv ",t.level," - ",t.server]}),n.jsx("h2",{children:t.name})]}),n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:s,children:"Schliessen"})]}),n.jsxs("section",{className:_e.section,children:[n.jsx("h3",{children:"Kontakt"}),n.jsx("p",{children:t.contact}),n.jsxs("p",{children:["Quelle: ",t.source]})]}),n.jsxs("section",{className:_e.section,children:[n.jsx("h3",{children:"Notizen"}),n.jsx("p",{children:t.notes})]}),n.jsxs("section",{className:_e.section,children:[n.jsx("h3",{children:"Tags"}),n.jsx("div",{className:_e.tagRow,children:t.tags.length?t.tags.map(a=>n.jsx("span",{children:a},a)):n.jsx("span",{children:"Keine"})})]}),n.jsxs("section",{className:_e.section,children:[n.jsx("h3",{children:"Historie"}),n.jsx("ul",{className:_e.historyList,children:t.history.map(a=>n.jsxs("li",{children:[n.jsx("span",{children:Zp(a.date)}),n.jsx("p",{children:a.message})]},`${a.date}-${a.message}`))})]}),n.jsxs("section",{className:_e.section,children:[n.jsx("h3",{children:"Scan-Infos"}),n.jsxs("p",{children:["Letzter Scan: ",Zp(t.lastScanAt)]}),n.jsxs("p",{children:["Aktualisiert: ",Zp(t.updatedAt)]})]}),n.jsxs("footer",{className:_e.panelFooter,children:[n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:r,children:"Bearbeiten"}),n.jsx("button",{type:"button",className:_e.primaryAction,onClick:s,children:"Schliessen"})]})]})}));BE.displayName="DetailPanel";const $E=Z.forwardRef(({item:t,entries:e,onClose:s,onSubmit:r},i)=>{const[a,l]=Z.useState(()=>t!=null?t:{id:`wl-${Date.now()}`,name:"",classRole:Mf[0],level:1,server:Ff[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});Z.useEffect(()=>{t&&l(t)},[JSON.stringify(t)]);const d=h=>{h.preventDefault(),r({...a,updatedAt:new Date().toISOString()})},u=e.some(h=>h.id!==a.id&&h.name.toLowerCase()===a.name.toLowerCase()&&h.server===a.server);return n.jsx("div",{className:_e.formOverlay,children:n.jsxs("form",{ref:i,className:_e.formPanel,onSubmit:d,children:[n.jsxs("header",{className:_e.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:_e.cardMeta,children:t?"Bearbeiten":"Neu"}),n.jsx("h2",{children:t?t.name:"Neuer Bewerber"})]}),n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:s,children:"Schliessen"})]}),u&&n.jsx("div",{className:_e.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),n.jsxs("label",{className:_e.sheetLabel,children:["Name",n.jsx("input",{name:"waitlistFormName",value:a.name,onChange:h=>l(p=>({...p,name:h.target.value}))})]}),n.jsxs("div",{className:_e.formGrid,children:[n.jsxs("label",{children:["Klasse",n.jsx("select",{name:"waitlistFormClass",value:a.classRole,onChange:h=>l(p=>({...p,classRole:h.target.value})),children:Mf.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("label",{children:["Level",n.jsx("input",{type:"number",name:"waitlistFormLevel",value:a.level,min:1,max:200,onChange:h=>l(p=>({...p,level:Number(h.target.value)}))})]}),n.jsxs("label",{children:["Server",n.jsx("select",{name:"waitlistFormServer",value:a.server,onChange:h=>l(p=>({...p,server:h.target.value})),children:Ff.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("label",{children:["Status",n.jsxs("select",{name:"waitlistFormStatus",value:a.status,onChange:h=>l(p=>({...p,status:h.target.value})),children:[n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),n.jsxs("label",{className:_e.sheetLabel,children:["Kontakt",n.jsx("input",{name:"waitlistFormContact",value:a.contact,onChange:h=>l(p=>({...p,contact:h.target.value}))})]}),n.jsxs("label",{className:_e.sheetLabel,children:["Quelle",n.jsx("input",{name:"waitlistFormSource",value:a.source,onChange:h=>l(p=>({...p,source:h.target.value}))})]}),n.jsxs("label",{className:_e.sheetLabel,children:["Notizen",n.jsx("textarea",{name:"waitlistFormNotes",value:a.notes,onChange:h=>l(p=>({...p,notes:h.target.value})),rows:4})]}),n.jsxs("footer",{className:_e.panelFooter,children:[n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:s,children:"Abbrechen"}),n.jsx("button",{type:"submit",className:_e.primaryAction,children:"Speichern"})]})]})})});$E.displayName="WaitlistForm";function Vme({page:t,totalPages:e,onChange:s}){return n.jsxs("div",{className:_e.pagination,children:[n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>s(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),n.jsxs("span",{children:["Seite ",t," / ",e]}),n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>s(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const Ume=["tab","sub","sub2","q","sort","dir","page","pageSize"];function vd(t=[]){const[e,s]=Cl(),r=Z.useMemo(()=>[...t].sort().join("|"),[t]),i=Z.useMemo(()=>{const p=new Set([...Ume]);return t.forEach(g=>p.add(g)),Array.from(p)},[r]),a=Z.useMemo(()=>{const p={};return i.forEach(g=>{const v=e.get(g);v!==null&&(p[g]=v)}),p},[e,i]),l=Z.useCallback((p,g)=>{var b;const v=new URLSearchParams(e);Object.entries(p).forEach(([S,E])=>{E==null||E===""?v.delete(S):v.set(S,String(E))}),s(v,{replace:(b=g==null?void 0:g.replace)!=null?b:!1})},[e,s]),d=Z.useCallback(p=>{const g=new URLSearchParams(e);(p&&p.length>0?p:i).forEach(b=>g.delete(b)),s(g,{replace:!0})},[e,s,i]),u=Z.useCallback((p,g="")=>{var v;return(v=a[p])!=null?v:g},[a]),h=Z.useCallback((p,g=0)=>{const v=a[p],b=v?Number(v):NaN;return Number.isFinite(b)?b:g},[a]);return{params:a,getParam:u,getNumberParam:h,writeParams:l,resetParams:d}}function zme(){return vd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Activity"})})}function Hme(){return vd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Imports"})})}function Gme(){return vd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Announcements"})})}function Wme(){return vd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Events"})})}function qme(){return vd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Roles"})})}function Kme(){return vd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Settings"})})}const Qme=[{icon:n.jsx(qf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:n.jsx(qP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:n.jsx(MP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],Xme=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],Yme=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function Jme(){return n.jsx(wt,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(zt,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),n.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:n.jsx(Zme,{}),right:n.jsx(epe,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:Qme.map(t=>n.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),n.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),n.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),n.jsx(zt,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),n.jsx("ul",{className:"space-y-3",children:Xme.map(t=>n.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[n.jsx(E0,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),n.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),n.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function Zme(){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),n.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[n.jsx(zt,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),n.jsx(zt,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),n.jsx(zt,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),n.jsx(zt,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),n.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[n.jsx("li",{children:" Pager rotation: Ops Team"}),n.jsx("li",{children:" Slack channel: #sf-alerts"}),n.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function epe(){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),n.jsx("ul",{className:"mt-3 space-y-2",children:Yme.map(t=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),n.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),n.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),n.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),n.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const tpe=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function spe(){return n.jsx(wt,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:n.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[n.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[n.jsx("span",{children:"ID"}),n.jsx("span",{children:"Time"}),n.jsx("span",{children:"Service"}),n.jsx("span",{className:"text-right",children:"Severity"})]}),n.jsx("ul",{children:tpe.map(t=>n.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),n.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),n.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),n.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:npe(t.severity)},children:t.severity})]},t.id))})]})})}function npe(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const ci={background:"#152A42",borderColor:"#2B4C73"},Fc={background:"#1A2F4A",borderColor:"#2B4C73"},ay=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function rpe(){const{data:t,loading:e,refreshing:s,error:r,refresh:i}=lpe(),a=Z.useMemo(()=>[{label:"Total uploads",value:Dr(t.metrics.totalUploads),hint:`${Dr(t.metrics.last24h)} in the last 24h`,icon:n.jsx(nP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:gh(t.metrics.successRate),hint:`${Dr(t.metrics.failed)} failed`,icon:n.jsx(GR,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?oy(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${oy(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:n.jsx(tP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:RN(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:n.jsx(oP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:Dr(t.metrics.uniqueUploaders),hint:`${Dr(t.metrics.uniqueGuilds)} guilds represented`,icon:n.jsx(qf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:Dr(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:n.jsx(Ok,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return n.jsx(wt,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:n.jsx(ipe,{breakdown:t.statusBreakdown,onRefresh:i,loading:e,refreshing:s}),right:n.jsx(ape,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:a.map(l=>n.jsxs("article",{className:"rounded-2xl border p-4",style:ci,children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[l.icon,l.label]}),n.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:l.value})]})}),n.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:l.hint})]},l.label))}),n.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[n.jsxs("article",{className:"rounded-2xl border p-4",style:ci,children:[n.jsx("header",{className:"flex items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),n.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(l=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Fc,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Bc(l.status)},"aria-hidden":"true"}),fb(l.status)]}),n.jsx("span",{className:"font-semibold",children:Dr(l.count)})]}),n.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:n.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(l.share*100,100).toFixed(1)}%`,backgroundColor:Bc(l.status)}})}),n.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[gh(l.share)," of window"]})]},l.status))})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:ci,children:[n.jsx("header",{className:"flex items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),n.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(l=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Fc,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsx("span",{className:"font-semibold",children:l.hourLabel}),n.jsxs("span",{children:[Dr(l.total)," uploads"]})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Bc("success")},"aria-hidden":"true"}),"Success ",Dr(l.success)]}),n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[n.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Bc("failed")},"aria-hidden":"true"}),"Failed ",Dr(l.failed)]})]})]},l.hourLabel))})]})]}),n.jsxs("section",{className:"rounded-2xl border",style:ci,children:[n.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),n.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(uo,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?n.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[n.jsx(E0,{className:"h-3.5 w-3.5"}),r]}):n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(FR,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),n.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[n.jsx("span",{children:"ID"}),n.jsx("span",{children:"Status"}),n.jsx("span",{children:"Uploader"}),n.jsx("span",{children:"Guild"}),n.jsx("span",{className:"text-right",children:"Processing"}),n.jsx("span",{className:"text-right",children:"File size"})]}),n.jsx("ul",{children:t.recentUploads.map(l=>{var d,u,h,p;return n.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:l.id}),n.jsx("span",{children:n.jsx(ope,{status:l.status})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(u=(d=l.uploaderName)!=null?d:l.uploaderId)!=null?u:""}),n.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:l.uploadedAt?l.uploadedAt.toLocaleString():"Timestamp missing"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(p=(h=l.guildName)!=null?h:l.guildId)!=null?p:""}),n.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:l.errorCode?`Issue: ${l.errorCode}`:"Healthy"})]}),n.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:l.processingMs?oy(l.processingMs):"Pending"}),n.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:l.fileSizeBytes?RN(l.fileSizeBytes):""})]},l.id)})})]})]})})}function ipe({breakdown:t,onRefresh:e,loading:s,refreshing:r}){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{className:"rounded-2xl border p-4",style:ci,children:[n.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[n.jsx("span",{children:"Controls"}),n.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[n.jsx(Wf,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),n.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),n.jsxs("div",{className:"rounded-2xl border p-4",style:ci,children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(i=>n.jsxs("li",{className:"flex items-center justify-between gap-2",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Bc(i.status)},"aria-hidden":"true"}),fb(i.status)]}),n.jsx("span",{children:gh(i.share)})]},i.status))}),s&&n.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[n.jsx(uo,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),n.jsxs("div",{className:"rounded-2xl border p-4",style:ci,children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),n.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Fp,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Fp,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Fp,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function ape({issues:t,failures:e,uploaders:s,guilds:r}){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("article",{className:"rounded-2xl border p-4",style:ci,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(Ok,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),n.jsx("span",{children:"Top failure signatures"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?n.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(i=>n.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Fc,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsx("span",{children:i.code}),n.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),n.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:ci,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(E0,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),n.jsx("span",{children:"Latest failed uploads"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?n.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var a;return n.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Fc,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),n.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),n.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(a=i.errorCode)!=null?a:"No error code provided"})]},i.id)})})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:ci,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(qf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Uploader leaderboard"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:s.map(i=>n.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Fc,children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),n.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",gh(i.successRate)]})]}),n.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Dr(i.count)})]},i.id))})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:ci,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(dP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Guild spotlight"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>n.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Fc,children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),n.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",gh(i.successRate)]})]}),n.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Dr(i.count)})]},i.id))})]})]})}function ope({status:t}){const e=Bc(t);return n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[n.jsx(Fp,{className:"h-3 w-3","aria-hidden":"true"}),fb(t)]})}function lpe(){const[t,e]=Z.useState(ay),[s,r]=Z.useState(!0),[i,a]=Z.useState(!1),[l,d]=Z.useState(null),u=Z.useCallback(async(p=!1)=>{p?a(!0):r(!0);try{const g=fd(Mt,"scanUploads"),v=Un(g,lo("uploadedAt","desc"),zn(100)),S=(await fn(v)).docs.map(E=>cpe(E.id,E.data()));S.length>0?(e(S),d(null)):(e(ay),d("No uploads in window  showing fallback snapshot"))}catch(g){console.error("[ScansUploaded] Failed to load Firestore data",g),d("Live data unavailable  fallback snapshot active"),e(ay)}finally{p?a(!1):r(!1)}},[]);Z.useEffect(()=>{u(!1)},[u]);const h=Z.useMemo(()=>upe(t),[t]);return{loading:s,refreshing:i,error:l,data:h,refresh:Z.useCallback(()=>u(!0),[u])}}function cpe(t,e){const s=dpe(e.status);return{id:t,status:s,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof _s?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function dpe(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function upe(t){var C,L;const e=new Map,s=new Map,r=new Map,i=new Map,a=[];let l=0,d=0;const h=Date.now()-1440*60*1e3,p=new Map;t.forEach(P=>{var H,q,Q,G,J,ne,z,ee,ce,te,fe,Ce,ge,Te,ke,ue,Le;const O=(H=e.get(P.status))!=null?H:0;if(e.set(P.status,O+1),P.uploadedAt&&P.uploadedAt.getTime()>=h&&(d+=1),P.processingMs!=null&&a.push(P.processingMs),P.fileSizeBytes!=null&&(l+=P.fileSizeBytes),P.status==="failed"&&P.errorCode){const Ae=(q=s.get(P.errorCode))!=null?q:{count:0,lastSeen:null};s.set(P.errorCode,{count:Ae.count+1,lastSeen:!Ae.lastSeen||P.uploadedAt&&Ae.lastSeen<P.uploadedAt?P.uploadedAt:Ae.lastSeen})}const $=(G=(Q=P.uploaderId)!=null?Q:P.uploaderName)!=null?G:`anon-${P.id}`,W=(z=r.get($))!=null?z:{name:(ne=(J=P.uploaderName)!=null?J:P.uploaderId)!=null?ne:"Unknown",success:0,total:0};if(r.set($,{name:(ce=(ee=P.uploaderName)!=null?ee:P.uploaderId)!=null?ce:"Unknown",success:W.success+(P.status==="success"?1:0),total:W.total+1}),P.guildId||P.guildName){const Ae=(fe=(te=P.guildId)!=null?te:P.guildName)!=null?fe:`guild-${P.id}`,et=(Te=i.get(Ae))!=null?Te:{name:(ge=(Ce=P.guildName)!=null?Ce:P.guildId)!=null?ge:"Unknown",success:0,total:0};i.set(Ae,{name:(ue=(ke=P.guildName)!=null?ke:P.guildId)!=null?ue:"Unknown",success:et.success+(P.status==="success"?1:0),total:et.total+1})}if(P.uploadedAt){const Ae=new Date(P.uploadedAt);Ae.setMinutes(0,0,0);const et=Ae.toISOString(),pt=(Le=p.get(et))!=null?Le:{hourLabel:mpe(Ae),timestamp:Ae,total:0,success:0,failed:0};p.set(et,{hourLabel:pt.hourLabel,timestamp:pt.timestamp,total:pt.total+1,success:pt.success+(P.status==="success"?1:0),failed:pt.failed+(P.status==="failed"?1:0)})}});const g=t.length,v=(C=e.get("success"))!=null?C:0,b=(L=e.get("failed"))!=null?L:0,S=a.length?a.reduce((P,O)=>P+O,0)/a.length:null,E=a.length?hpe(a,95):null,I=r.size,F=i.size,D=Array.from(e.entries()).map(([P,O])=>({status:P,count:O,share:g?O/g:0})).sort((P,O)=>O.count-P.count),A=Array.from(p.values()).sort((P,O)=>O.timestamp.getTime()-P.timestamp.getTime()).slice(0,12),y=Array.from(s.entries()).map(([P,O])=>({code:P,...O})).sort((P,O)=>O.count-P.count).slice(0,6),j=[...t].sort((P,O)=>{var $,W,H,q;return((W=($=O.uploadedAt)==null?void 0:$.getTime())!=null?W:0)-((q=(H=P.uploadedAt)==null?void 0:H.getTime())!=null?q:0)}).slice(0,12),M=t.filter(P=>P.status==="failed").sort((P,O)=>{var $,W,H,q;return((W=($=O.uploadedAt)==null?void 0:$.getTime())!=null?W:0)-((q=(H=P.uploadedAt)==null?void 0:H.getTime())!=null?q:0)}),k=Array.from(r.entries()).map(([P,O])=>({id:P,name:O.name,count:O.total,successRate:O.total?O.success/O.total:0})).sort((P,O)=>O.count-P.count).slice(0,5),w=Array.from(i.entries()).map(([P,O])=>({id:P,name:O.name,count:O.total,successRate:O.total?O.success/O.total:0})).sort((P,O)=>O.count-P.count).slice(0,5);return{metrics:{totalUploads:g,last24h:d,successRate:g?v/g:0,failed:b,avgProcessingMs:S,p95ProcessingMs:E,uniqueUploaders:I,uniqueGuilds:F,totalFileSizeBytes:l},statusBreakdown:D,timeline:A,issues:y,recentFailures:M,recentUploads:j,topUploaders:k,topGuilds:w}}function hpe(t,e){const s=[...t].sort((d,u)=>d-u);if(s.length===0)return 0;const r=e/100*(s.length-1),i=Math.floor(r),a=Math.ceil(r);if(i===a)return s[i];const l=r-i;return s[i]*(1-l)+s[a]*l}function Dr(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function gh(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function oy(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function RN(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let s=t,r=0;for(;s>=1024&&r<e.length-1;)s/=1024,r+=1;return`${s.toFixed(s>=10?0:1)} ${e[r]}`}function Bc(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function fb(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function mpe(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function ly({label:t,value:e,hint:s}){return n.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t}),n.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),s&&n.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:s})]})}function ppe(){var d,u,h,p,g,v;const{snapshot:t,error:e,loading:s,refresh:r}=NE(),i=(d=t==null?void 0:t.warnings)!=null?d:[],a=(h=(u=t==null?void 0:t.data)==null?void 0:u.length)!=null?h:0,l=(p=t==null?void 0:t.stats)!=null?p:{};return n.jsx(wt,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:s,children:s?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsx(ly,{label:"Last successful sync",value:t!=null&&t.generatedAt?new Date(t.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),n.jsx(ly,{label:"Creators tracked",value:a?a.toString():"0"}),n.jsx(ly,{label:"API lookups",value:`${(g=l.youtubeLookups)!=null?g:0}  ${(v=l.twitchLookups)!=null?v:0}`,hint:"YouTube  Twitch"})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsxs("header",{className:"mb-3",children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?n.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):n.jsx("ul",{className:"space-y-2",children:i.map((b,S)=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[n.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[b.creator,"  ",b.scope]}),n.jsx("div",{className:"text-xs text-[#B0C4D9]",children:b.message}),b.source&&n.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:b.source})]},`${b.scope}-${S}`))})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsxs("header",{className:"mb-3",children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),n.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[n.jsxs("li",{children:["Add the following environment variables (e.g. in ",n.jsx("code",{children:".env.local"}),"):",n.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),n.jsxs("li",{children:["Execute the sync script:",n.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),n.jsxs("li",{children:["Commit/deploy the generated ",n.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&n.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}const Cg=`${wo}/admin/users`,fpe=25,gb=()=>{if(!Cg)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},PN=t=>typeof t!="number"?null:_s.fromMillis(t),xb=t=>{var e;return{id:t.id,userId:t.userId,displayName:t.displayName,avatarUrl:t.avatarUrl,primaryProvider:(e=t.primaryProvider)!=null?e:"discord",roles:t.roles,providers:t.providers,profile:t.profile,createdAt:PN(t.createdAt),lastLoginAt:PN(t.lastLoginAt),status:t.status,notes:t.notes}},gpe=t=>{var r;const e=new URLSearchParams;e.set("pageSize",String((r=t.pageSize)!=null?r:fpe)),t.cursor&&e.set("cursor",t.cursor),t.role&&e.set("role",t.role),t.status&&e.set("status",t.status),t.provider&&e.set("provider",t.provider),t.search&&e.set("search",t.search);const s=e.toString();return s?`?${s}`:""},vb=async t=>{let e=`Request failed (${t.status})`;try{const s=await t.json();s!=null&&s.error&&(e=s.error)}catch(s){}return new Error(e)};async function LN(t={}){var r;gb();const e=gpe(t),s=`${Cg}${e}`;try{const i=await fetch(s,{credentials:"include"});if(!i.ok)throw await vb(i);const a=await i.json();return{users:a.users.map(xb),nextPageCursor:(r=a.nextPageCursor)!=null?r:null}}catch(i){throw console.error("[AdminUsers] listAdminUsers failed",i),i instanceof Error?i:new Error("Failed to load admin users")}}async function xpe(t){gb();const e=await fetch(`${Cg}/${encodeURIComponent(t)}`,{credentials:"include"});if(!e.ok)throw await vb(e);const s=await e.json();return xb(s.user)}async function vpe(t,e){gb();const s=await fetch(`${Cg}/${encodeURIComponent(t)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw await vb(s);const r=await s.json();return xb(r.user)}const OE=`${wo}/admin/audit-events`,ype=50,bpe=()=>{if(!OE)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},_pe=t=>typeof t!="number"?null:_s.fromMillis(t),wpe=t=>{var e,s;return{id:t.id,createdAt:_pe(t.createdAt),actorUserId:t.actorUserId,actorDisplayName:(e=t.actorDisplayName)!=null?e:null,targetUserId:t.targetUserId,action:t.action,summary:t.summary,changes:(s=t.changes)!=null?s:{},context:t.context}},jpe=t=>{var r;const e=new URLSearchParams;e.set("limit",String((r=t.limit)!=null?r:ype)),t.cursor&&e.set("cursor",t.cursor),t.actorUserId&&e.set("actorUserId",t.actorUserId),t.targetUserId&&e.set("targetUserId",t.targetUserId),t.action&&e.set("action",t.action);const s=e.toString();return s?`?${s}`:""},Spe=async t=>{let e=`Request failed (${t.status})`;try{const s=await t.json();s!=null&&s.error&&(e=s.error)}catch(s){}return new Error(e)};async function m0(t={}){var i;bpe();const e=`${OE}${jpe(t)}`,s=await fetch(e,{credentials:"include"});if(!s.ok)throw await Spe(s);const r=await s.json();return{events:r.events.map(wpe),nextPageCursor:(i=r.nextPageCursor)!=null?i:null}}async function Npe(t,e=10){return m0({targetUserId:t,limit:e})}const kpe=20,Tpe=50,Gu={borderColor:"#2B4C73",background:"#152A42"},VE={background:"#1A2F4A"};function Cpe(){var d;const{status:t,user:e}=Rl(),s=(d=e==null?void 0:e.roles)!=null?d:[],r=s.includes("admin"),i=r||s.includes("mod"),[a,l]=R.useState("users");return t==="loading"||t==="idle"?n.jsx(wt,{title:"Admin Users",subtitle:"Checking permissions",centerFramed:!0,mode:"page",children:n.jsxs("div",{className:"flex h-full items-center justify-center text-[#B0C4D9]",children:[n.jsx(uo,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating session..."]})}):i?n.jsx(wt,{title:"Admin user management",subtitle:"Moderate accounts, roles, and audit events",centerFramed:!0,mode:"page",actions:n.jsxs("div",{className:"flex items-center rounded-full border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:[n.jsx(El,{className:"mr-2 h-3.5 w-3.5 text-[#5C8BC6]"}),r?"Admin":"Moderator"," access"]}),stickyTopbar:!0,subheader:n.jsx(Epe,{activeTab:a,onChange:l}),children:a==="users"?n.jsx(Ape,{isAdmin:r}):n.jsx(Ipe,{isAdmin:r,onSelectUser:u=>{l("users"),typeof window!="undefined"&&window.dispatchEvent(new CustomEvent("sf-admin-open-user",{detail:{userId:u}}))}})}):n.jsx(wt,{title:"Admin Users",subtitle:"Control panel access",centerFramed:!0,mode:"page",children:n.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#B0C4D9]",children:[n.jsx(HP,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),n.jsx("p",{className:"text-base font-semibold text-white",children:"Access restricted"}),n.jsxs("p",{children:["You need at least the ",n.jsx("strong",{children:"mod"})," role to view this section."]})]})})}function Epe({activeTab:t,onChange:e}){const s=[{key:"users",label:"Users",icon:n.jsx(qf,{className:"h-4 w-4"})},{key:"audit",label:"Audit Log",icon:n.jsx(PP,{className:"h-4 w-4"})}];return n.jsx("div",{className:"flex gap-2",children:s.map(r=>n.jsxs("button",{type:"button",onClick:()=>e(r.key),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs transition ${t===r.key?"bg-[#1F3A59] text-white":"text-[#B0C4D9]"}`,style:{borderColor:"#2B4C73"},"aria-pressed":t===r.key,children:[r.icon,r.label]},r.key))})}function Ape({isAdmin:t}){const[e,s]=R.useState({role:"all",status:"all",provider:"all",search:""}),[r,i]=R.useState(""),a=f0(r,350);R.useEffect(()=>{s(ue=>ue.search===a?ue:{...ue,search:a})},[a]);const[l,d]=R.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[u,h]=R.useState(0),p=R.useMemo(()=>({pageSize:kpe,role:e.role==="all"?void 0:e.role,status:e.status==="all"?void 0:e.status,provider:e.provider==="all"?void 0:e.provider,search:e.search}),[e]);R.useEffect(()=>{let ue=!1;return d(Le=>({...Le,loading:!0,error:null})),LN(p).then(Le=>{ue||d({items:Le.users,cursor:Le.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(Le=>{ue||d(Ae=>({...Ae,loading:!1,loadingMore:!1,error:Le instanceof Error?Le.message:"Failed to load users"}))}),()=>{ue=!0}},[p,u]);const g=()=>h(ue=>ue+1),v=async()=>{if(l.cursor){d(ue=>({...ue,loadingMore:!0,error:null}));try{const ue=await LN({...p,cursor:l.cursor});d(Le=>({items:[...Le.items,...ue.users],cursor:ue.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(ue){d(Le=>{var Ae;return{...Le,loadingMore:!1,error:(Ae=ue==null?void 0:ue.message)!=null?Ae:"Failed to load additional users"}})}}},[b,S]=R.useState(null),[E,I]=R.useState(null),[F,D]=R.useState(!1),[A,y]=R.useState(null),[j,M]=R.useState(""),[k,w]=R.useState(!1),[C,L]=R.useState(null),[P,O]=R.useState(!1),[$,W]=R.useState(!1),[H,q]=R.useState([]),[Q,G]=R.useState(!1),[J,ne]=R.useState(null),z=R.useRef(null);R.useEffect(()=>{z.current=b},[b]);const ee=R.useRef(!1);R.useEffect(()=>{ee.current=k},[k]);const ce=R.useCallback(async ue=>{var Le;G(!0),ne(null);try{const Ae=await Npe(ue,12);z.current===ue&&q(Ae.events)}catch(Ae){z.current===ue&&ne((Le=Ae==null?void 0:Ae.message)!=null?Le:"Failed to load audit history")}finally{z.current===ue&&G(!1)}},[]);R.useEffect(()=>{var et;if(!b){I(null),M(""),w(!1),q([]),ne(null),W(!1);return}const ue=b,Le=l.items.find(pt=>pt.id===ue);Le?(I(Le),M((et=Le.notes)!=null?et:"")):(I(null),M("")),w(!1),D(!0),y(null);let Ae=!1;return xpe(ue).then(pt=>{var Jt;Ae||z.current!==ue||(I(pt),M((Jt=pt.notes)!=null?Jt:""),w(!1),D(!1))}).catch(pt=>{var Jt;Ae||z.current!==ue||(D(!1),y((Jt=pt==null?void 0:pt.message)!=null?Jt:"Failed to load user"))}),ce(ue),()=>{Ae=!0}},[b,l.items,ce]),R.useEffect(()=>{var Le;if(!b)return;const ue=l.items.find(Ae=>Ae.id===b);ue&&(I(Ae=>Ae&&Ae.id===ue.id?{...Ae,...ue}:ue),ee.current||M((Le=ue.notes)!=null?Le:""))},[l.items,b]);const te=R.useCallback(ue=>{d(Le=>({...Le,items:Le.items.map(Ae=>Ae.id===ue.id?ue:Ae)}))},[]),fe=R.useCallback(async ue=>{var Le,Ae;if(E){O(!0),L(null);try{const et=await vpe(E.id,ue);I(et),te(et),"notes"in ue&&(w(!1),M((Le=et.notes)!=null?Le:"")),await ce(et.id)}catch(et){L((Ae=et==null?void 0:et.message)!=null?Ae:"Failed to update user")}finally{O(!1)}}},[E,ce,te]),Ce=ue=>{if(!E||!t||ue==="user")return;const Le=new Set(E.roles);Le.has(ue)?Le.delete(ue):Le.add(ue),Le.add("user"),fe({roles:Array.from(Le)})},ge=ue=>{!E||!t||p0(E.status)===ue||ue==="banned"&&!window.confirm(`Ban ${Wu(E)}? They will lose access to the control panel.`)||fe({status:ue})},Te=ue=>{M(ue),w(!0)},ke=()=>{!E||!t||!k||fe({notes:j.trim().length?j:null})};return R.useEffect(()=>{if(typeof window=="undefined")return;const ue=Le=>{const Ae=Le.detail;Ae!=null&&Ae.userId&&S(Ae.userId)};return window.addEventListener("sf-admin-open-user",ue),()=>{window.removeEventListener("sf-admin-open-user",ue)}},[]),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:Gu,children:[n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[n.jsx(jy,{className:"h-4 w-4 text-[#5C8BC6]"}),n.jsx("input",{type:"text",placeholder:"Search user id or name",value:r,onChange:ue=>i(ue.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),n.jsx(ef,{label:"Role",value:e.role,onChange:ue=>s(Le=>({...Le,role:ue})),options:[{value:"all",label:"All"},{value:"admin",label:"Admin"},{value:"mod",label:"Mod"},{value:"creator",label:"Creator"},{value:"user",label:"User"}]}),n.jsx(ef,{label:"Status",value:e.status,onChange:ue=>s(Le=>({...Le,status:ue})),options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"banned",label:"Banned"}]}),n.jsx(ef,{label:"Provider",value:e.provider,onChange:ue=>s(Le=>({...Le,provider:ue})),options:[{value:"all",label:"All"},{value:"discord",label:"Discord"},{value:"google",label:"Google"}]}),n.jsx("div",{className:"ml-auto flex items-center gap-2",children:n.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[n.jsx(Wf,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),n.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]",children:[n.jsxs("div",{className:"rounded-2xl border",style:Gu,children:[n.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[n.jsxs("span",{className:"text-[#B0C4D9]",children:[l.items.length," users ",e.search?"filtered":""]}),l.loading&&n.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[n.jsx(uo,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[n.jsx("thead",{style:VE,children:n.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[n.jsx("th",{className:"px-4 py-2",children:"User ID"}),n.jsx("th",{className:"px-4 py-2",children:"Display name"}),n.jsx("th",{className:"px-4 py-2",children:"Role"}),n.jsx("th",{className:"px-4 py-2",children:"Status"}),n.jsx("th",{className:"px-4 py-2",children:"Providers"}),n.jsx("th",{className:"px-4 py-2",children:"Created"}),n.jsx("th",{className:"px-4 py-2",children:"Last login"})]})}),n.jsx("tbody",{children:l.items.map(ue=>{var Ae,et,pt;const Le=ue.id===b;return n.jsxs("tr",{onClick:()=>S(ue.id),className:`cursor-pointer border-t text-xs transition hover:bg-[#1F3652] ${Le?"bg-[#1F3652]":""}`,style:{borderColor:"#203650"},children:[n.jsx("td",{className:"px-4 py-2 font-mono text-[#8AA5C4]",children:ue.userId}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zE,{url:WE(ue),name:Wu(ue)}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",children:Wu(ue)}),(Ae=ue.profile)!=null&&Ae.displayName&&ue.profile.displayName!==ue.displayName?n.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:ue.profile.displayName}):null]})]})}),n.jsx("td",{className:"px-4 py-2",children:n.jsx(HE,{role:GE(ue.roles)})}),n.jsx("td",{className:"px-4 py-2",children:n.jsx(Ppe,{status:p0(ue.status)})}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(Bf,{provider:"discord",active:!!((et=ue.providers)!=null&&et.discord)}),n.jsx(Bf,{provider:"google",active:!!((pt=ue.providers)!=null&&pt.google)})]})}),n.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:Hc(ue.createdAt)}),n.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:Hc(ue.lastLoginAt)})]},ue.id)})})]}),!l.loading&&!l.items.length&&n.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No users match these filters."})]}),l.error&&n.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[n.jsx(Iu,{className:"h-3.5 w-3.5"}),l.error]}),n.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[n.jsx("span",{className:"text-[#8AA5C4]",children:l.cursor?"More users available":"End of list"}),n.jsx("button",{type:"button",onClick:v,disabled:!l.cursor||l.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:l.loadingMore?"Loading...":"Load more"})]})]}),n.jsx("aside",{className:"rounded-2xl border p-3",style:Gu,children:E?n.jsx(Rpe,{user:E,isAdmin:t,detailLoading:F,detailError:A,notesValue:j,notesDirty:k,onNotesChange:Te,onNotesSave:ke,onRoleToggle:Ce,onStatusChange:ge,actionError:C,actionPending:P,auditEntries:H,auditLoading:Q,auditError:J,onRefreshAudit:()=>E&&ce(E.id),showRawJson:$,toggleRawJson:()=>W(ue=>!ue)}):n.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#8AA5C4]",children:[n.jsx(ZR,{className:"h-10 w-10 text-[#5C8BC6]"}),"Select a user to see details."]})})]})]})}function Ipe({isAdmin:t,onSelectUser:e}){const[s,r]=R.useState({actor:"",target:"",action:"all"}),[i,a]=R.useState(""),[l,d]=R.useState(""),u=f0(i,350),h=f0(l,350);R.useEffect(()=>{r(F=>F.actor===u&&F.target===h?F:{...F,actor:u,target:h})},[u,h]);const[p,g]=R.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[v,b]=R.useState(0),S=R.useMemo(()=>{const F=s.action==="all"?void 0:s.action,D=s.actor.includes(":")?s.actor:void 0,A=s.target.includes(":")?s.target:void 0;return{limit:Tpe,action:F,actorUserId:D,targetUserId:A}},[s]);R.useEffect(()=>{let F=!1;return g(D=>({...D,loading:!0,error:null})),m0(S).then(D=>{F||g({items:D.events,cursor:D.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(D=>{F||g(A=>{var y;return{...A,loading:!1,loadingMore:!1,error:(y=D==null?void 0:D.message)!=null?y:"Failed to load audit log"}})}),()=>{F=!0}},[S,v]);const E=async()=>{if(p.cursor){g(F=>({...F,loadingMore:!0,error:null}));try{const F=await m0({...S,cursor:p.cursor});g(D=>({items:[...D.items,...F.events],cursor:F.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(F){g(D=>{var A;return{...D,loadingMore:!1,error:(A=F==null?void 0:F.message)!=null?A:"Failed to load more events"}})}}},I=R.useMemo(()=>{const F=s.actor.trim().toLowerCase(),D=s.target.trim().toLowerCase();return p.items.filter(A=>{var M;const y=!F||A.actorUserId.toLowerCase().includes(F)||((M=A.actorDisplayName)!=null?M:"").toLowerCase().includes(F),j=!D||A.targetUserId.toLowerCase().includes(D);return y&&j})},[p.items,s.actor,s.target]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:Gu,children:[n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[n.jsx(jy,{className:"h-4 w-4 text-[#5C8BC6]"}),n.jsx("input",{type:"text",placeholder:"Actor (id or name)",value:i,onChange:F=>a(F.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[n.jsx(jy,{className:"h-4 w-4 text-[#5C8BC6]"}),n.jsx("input",{type:"text",placeholder:"Target user id",value:l,onChange:F=>d(F.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),n.jsx(ef,{label:"Action",value:s.action,onChange:F=>r(D=>({...D,action:F})),options:[{value:"all",label:"All"},{value:"user.role.update",label:"Role update"},{value:"user.status.update",label:"Status update"},{value:"user.notes.update",label:"Notes update"}]}),n.jsx("div",{className:"ml-auto flex items-center gap-2",children:n.jsxs("button",{type:"button",onClick:()=>b(F=>F+1),className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[n.jsx(Wf,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),n.jsxs("div",{className:"rounded-2xl border",style:Gu,children:[n.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[n.jsxs("span",{className:"text-[#8AA5C4]",children:[I.length," events"]}),p.loading&&n.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[n.jsx(uo,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[n.jsx("thead",{style:VE,children:n.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[n.jsx("th",{className:"px-4 py-2",children:"Time"}),n.jsx("th",{className:"px-4 py-2",children:"Actor"}),n.jsx("th",{className:"px-4 py-2",children:"Target User"}),n.jsx("th",{className:"px-4 py-2",children:"Action"}),n.jsx("th",{className:"px-4 py-2",children:"Summary"})]})}),n.jsx("tbody",{children:I.map(F=>{var D;return n.jsxs("tr",{className:"border-t text-xs text-[#E4ECF5]",style:{borderColor:"#203650"},children:[n.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:Hc(F.createdAt)}),n.jsxs("td",{className:"px-4 py-2",children:[n.jsx("div",{className:"text-white",children:(D=F.actorDisplayName)!=null?D:"N/A"}),n.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:F.actorUserId})]}),n.jsx("td",{className:"px-4 py-2",children:n.jsx("button",{type:"button",className:"text-left font-mono text-[#5C8BC6] underline-offset-2 hover:underline",onClick:()=>e(F.targetUserId),children:F.targetUserId})}),n.jsx("td",{className:"px-4 py-2",children:n.jsx(UE,{action:F.action})}),n.jsx("td",{className:"px-4 py-2 text-[#C8D6EC]",children:F.summary})]},F.id)})})]}),!I.length&&!p.loading&&n.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No audit events match these filters."})]}),p.error&&n.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[n.jsx(Iu,{className:"h-3.5 w-3.5"}),p.error]}),n.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[n.jsx("span",{className:"text-[#8AA5C4]",children:p.cursor?"More events available":"End of audit log"}),n.jsx("button",{type:"button",onClick:E,disabled:!p.cursor||p.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:p.loadingMore?"Loading...":"Load more"})]})]}),!t&&n.jsx("div",{className:"rounded-2xl border px-4 py-3 text-xs text-[#8AA5C4]",style:{borderColor:"#2B4C73"},children:"You are viewing the audit log in read-only mode."})]})}function Rpe({user:t,isAdmin:e,detailLoading:s,detailError:r,notesValue:i,notesDirty:a,onNotesChange:l,onNotesSave:d,onRoleToggle:u,onStatusChange:h,actionError:p,actionPending:g,auditEntries:v,auditLoading:b,auditError:S,onRefreshAudit:E,showRawJson:I,toggleRawJson:F}){var A,y;const D=GE(t.roles);return n.jsxs("div",{className:"space-y-4 text-xs text-[#E4ECF5]",children:[s&&n.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border px-3 py-2",style:{borderColor:"#2B4C73"},children:[n.jsx(uo,{className:"h-3 w-3 animate-spin"}),"Loading user..."]}),r&&n.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-[#F9A825] bg-[#3A2B0F] px-3 py-2 text-[#FFD55F]",children:[n.jsx(Iu,{className:"h-3.5 w-3.5"}),r]}),n.jsx("div",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zE,{url:WE(t),name:Wu(t),size:56}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"truncate text-base text-white",children:Wu(t)}),n.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:t.userId}),n.jsxs("div",{className:"mt-1 flex gap-1",children:[n.jsx(HE,{role:D}),n.jsx(Bf,{provider:"discord",active:!!((A=t.providers)!=null&&A.discord)}),n.jsx(Bf,{provider:"google",active:!!((y=t.providers)!=null&&y.google)})]})]})]})}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[n.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Roles"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["admin","mod","creator","user"].map(j=>n.jsx("button",{type:"button",onClick:()=>u(j),disabled:!e||j==="user",className:`rounded-full px-3 py-1 text-xs ${t.roles.includes(j)?"bg-[#1F3A59] text-white":"bg-[#122033] text-[#6E86A6]"} disabled:opacity-50`,children:j},j))})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[n.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Status"}),n.jsx("div",{className:"flex gap-2",children:["active","suspended","banned"].map(j=>n.jsx("button",{type:"button",onClick:()=>h(j),disabled:!e,className:`rounded-full border px-3 py-1 text-xs capitalize ${p0(t.status)===j?"border-[#5C8BC6] text-white":"border-[#2B4C73] text-[#8AA5C4]"} disabled:opacity-50`,children:j},j))})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notes"}),!e&&n.jsx("span",{className:"text-[11px] text-[#8AA5C4]",children:"Read-only"})]}),n.jsx("textarea",{value:i,onChange:j=>l(j.target.value),className:"h-24 w-full rounded-xl border bg-[#0F1B2A] p-2 text-sm text-white placeholder:text-[#5C6E89] focus:outline-none disabled:opacity-60",style:{borderColor:"#2B4C73"},placeholder:"Add context for moderators",disabled:!e}),n.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#8AA5C4]",children:[g&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(uo,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),a&&e&&n.jsx("button",{type:"button",onClick:d,className:"ml-auto rounded-full border px-3 py-1 text-xs text-white",style:{borderColor:"#2B4C73"},children:"Save notes"})]}),p&&n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[n.jsx(Iu,{className:"h-3 w-3"}),p]})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-white",children:"Audit log"}),n.jsxs("button",{type:"button",onClick:E,className:"flex items-center gap-1 rounded-full border px-2 py-1 text-[11px]",style:{borderColor:"#2B4C73"},children:[n.jsx(Wf,{className:"h-3 w-3"}),"Refresh"]})]}),b&&n.jsxs("div",{className:"flex items-center gap-2 text-[#8AA5C4]",children:[n.jsx(uo,{className:"h-3 w-3 animate-spin"})," Loading entries..."]}),S&&n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[n.jsx(Iu,{className:"h-3 w-3"}),S]}),!b&&!v.length&&n.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:"No actions logged."}),n.jsx("ul",{className:"space-y-2",children:v.map(j=>{var M;return n.jsxs("li",{className:"rounded-xl border px-3 py-2 text-[11px]",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{className:"flex items-center justify-between text-[#8AA5C4]",children:[n.jsx("span",{children:Hc(j.createdAt)}),n.jsx(UE,{action:j.action})]}),n.jsx("div",{className:"mt-1 text-white",children:(M=j.actorDisplayName)!=null?M:j.actorUserId}),n.jsx("div",{className:"text-[#C8D6EC]",children:j.summary})]},j.id)})})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-white",children:"Meta"}),n.jsxs("button",{type:"button",onClick:F,className:"flex items-center gap-1 text-[11px] text-[#5C8BC6]",children:[n.jsx(YP,{className:"h-3 w-3"}),I?"Hide raw JSON":"Show raw JSON"]})]}),n.jsxs("dl",{className:"space-y-1 text-[11px] text-[#C8D6EC]",children:[n.jsx(Ip,{label:"Created",value:Hc(t.createdAt)}),n.jsx(Ip,{label:"Last login",value:Hc(t.lastLoginAt)}),n.jsx(Ip,{label:"Primary provider",value:t.primaryProvider}),n.jsx(Ip,{label:"Roles",value:t.roles.join(", ")})]}),I&&n.jsx("pre",{className:"mt-3 max-h-48 overflow-auto rounded-xl bg-[#0F1B2A] p-3 text-[11px] text-[#8AA5C4]",children:JSON.stringify(t,null,2)})]})]})}function UE({action:t}){const e=t==="user.role.update"?"Role update":t==="user.status.update"?"Status update":"Notes update";return n.jsx("span",{className:"rounded-full border px-2 py-0.5 text-[11px]",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:e})}function Ip({label:t,value:e}){return e?n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-[#6E86A6]",children:t}),n.jsx("span",{className:"text-white",children:e})]}):null}function ef({label:t,value:e,options:s,onChange:r}){return n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[#8AA5C4]",children:t}),n.jsx("select",{value:e,onChange:i=>r(i.target.value),className:"rounded-xl border bg-[#0F1B2A] px-3 py-1 text-xs text-white focus:outline-none",style:{borderColor:"#2B4C73"},children:s.map(i=>n.jsx("option",{value:i.value,children:i.label},i.value))})]})}function zE({url:t,name:e,size:s=32}){return t?n.jsx("img",{src:t,alt:"",className:"rounded-full border object-cover",style:{width:s,height:s,borderColor:"#2B4C73"}}):n.jsx("div",{className:"flex items-center justify-center rounded-full border bg-[#0F1B2A] text-xs text-[#8AA5C4]",style:{width:s,height:s,borderColor:"#2B4C73"},children:e.slice(0,2).toUpperCase()})}function HE({role:t}){const e=t==="admin"?"#F87171":t==="mod"?"#FBBF24":t==="creator"?"#34D399":"#93C5FD";return n.jsx("span",{className:"rounded-full px-2 py-0.5 text-[11px] capitalize",style:{background:"rgba(255,255,255,0.08)",color:e},children:t})}function Ppe({status:t}){const e={active:{label:"Active",color:"#5CC689",icon:n.jsx(XR,{className:"h-3 w-3"})},suspended:{label:"Suspended",color:"#F9A825",icon:n.jsx(El,{className:"h-3 w-3"})},banned:{label:"Banned",color:"#FF6B6B",icon:n.jsx($R,{className:"h-3 w-3"})}},{label:s,color:r,icon:i}=e[t];return n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px]",style:{color:r,background:"rgba(255,255,255,0.06)"},children:[i,s]})}function Bf({provider:t,active:e}){const s=t==="discord"?"D":"G";return n.jsx("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] ${e?"bg-[#1F3A59] text-white":"bg-[#0F1B2A] text-[#55637B]"}`,title:t,children:s})}function GE(t){const e=["admin","mod","creator","user"];for(const s of e)if(t.includes(s))return s;return"user"}function Wu(t){var e,s,r,i,a,l,d,u,h;return(h=(u=(a=(s=t.displayName)!=null?s:(e=t.profile)==null?void 0:e.displayName)!=null?a:(i=(r=t.providers)==null?void 0:r.discord)==null?void 0:i.displayName)!=null?u:(d=(l=t.providers)==null?void 0:l.google)==null?void 0:d.displayName)!=null?h:t.userId}function WE(t){var e,s,r,i,a,l,d;return(d=(l=(r=t.avatarUrl)!=null?r:(s=(e=t.providers)==null?void 0:e.discord)==null?void 0:s.avatarUrl)!=null?l:(a=(i=t.providers)==null?void 0:i.google)==null?void 0:a.avatarUrl)!=null?d:null}function p0(t){return t!=null?t:"active"}function Hc(t){if(!t)return"";const e=t.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(e)}function f0(t,e){const[s,r]=R.useState(t);return R.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),s}function Lpe(){return n.jsx(wt,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:n.jsx("div",{className:"space-y-4",children:n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[n.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",n.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),n.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",n.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const Dpe="_page_jgozr_1",Mpe="_banner_jgozr_17",Fpe="_bannerSuccess_jgozr_31",Bpe="_bannerError_jgozr_43",$pe="_card_jgozr_55",Ope="_cardTitle_jgozr_75",Vpe="_cardSubtitle_jgozr_89",Upe="_identityHeader_jgozr_101",zpe="_identityAvatar_jgozr_115",Hpe="_identityName_jgozr_129",Gpe="_identityProvider_jgozr_143",Wpe="_identityForm_jgozr_155",qpe="_nameInputWrap_jgozr_171",Kpe="_nameLabel_jgozr_187",Qpe="_nameInput_jgozr_171",Xpe="_nameSaveButton_jgozr_219",Ype="_feedbackError_jgozr_263",Jpe="_feedbackSuccess_jgozr_275",Zpe="_metaGrid_jgozr_287",efe="_metaItem_jgozr_299",tfe="_metaLabel_jgozr_313",sfe="_metaValue_jgozr_327",nfe="_serviceList_jgozr_341",rfe="_serviceRow_jgozr_351",ife="_serviceName_jgozr_379",afe="_serviceStatus_jgozr_393",ofe="_serviceAction_jgozr_405",lfe="_securityText_jgozr_437",cfe="_securityNote_jgozr_449",dfe="_logoutButton_jgozr_461",ufe="_loadingState_jgozr_493",hfe="_emptyState_jgozr_495",mfe="_emptyStateTitle_jgozr_513",pfe="_emptyStateText_jgozr_525",ffe="_primaryButton_jgozr_537",gt={page:Dpe,banner:Mpe,bannerSuccess:Fpe,bannerError:Bpe,card:$pe,cardTitle:Ope,cardSubtitle:Vpe,identityHeader:Upe,identityAvatar:zpe,identityName:Hpe,identityProvider:Gpe,identityForm:Wpe,nameInputWrap:qpe,nameLabel:Kpe,nameInput:Qpe,nameSaveButton:Xpe,feedbackError:Ype,feedbackSuccess:Jpe,metaGrid:Zpe,metaItem:efe,metaLabel:tfe,metaValue:sfe,serviceList:nfe,serviceRow:rfe,serviceName:ife,serviceStatus:afe,serviceAction:ofe,securityText:lfe,securityNote:cfe,logoutButton:dfe,loadingState:ufe,emptyState:hfe,emptyStateTitle:mfe,emptyStateText:pfe,primaryButton:ffe},gfe="https://i.pravatar.cc/72",Rp=`${wo}/auth/account/profile`,cy=`${wo}/auth/google/link/start`,DN=3,MN=32,FN=t=>{if(!t)return;const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()},xfe=()=>{const{status:t,user:e,logout:s,refreshSession:r}=Rl(),i=Or(),a=ir(),l=R.useMemo(()=>{const D=new URLSearchParams(a.search);return D.get("linked")==="google"?{type:"success",message:"Google successfully connected."}:D.get("error")==="google_already_linked"?{type:"error",message:"This Google account is already linked to another SFDataHub account."}:null},[a.search]),d=t==="loading"||t==="idle",u=t==="authenticated"&&!!e,h=()=>{i("/login")},p=async()=>{await s(),i("/")},g=()=>{if(!cy){window.alert("Auth service is not configured for Google linking.");return}window.location.href=cy},v=()=>n.jsx("div",{className:gt.loadingState,children:"Checking session..."}),b=()=>n.jsxs("div",{className:gt.emptyState,children:[n.jsx("p",{className:gt.emptyStateTitle,children:"You are not signed in."}),n.jsx("p",{className:gt.emptyStateText,children:"Use the sign-in page to connect your Discord or Google account and unlock settings."}),n.jsx("button",{type:"button",className:gt.primaryButton,onClick:h,children:"Go to sign-in"})]}),S=()=>{if(!l)return null;const D=l.type==="success"?`${gt.banner} ${gt.bannerSuccess}`:`${gt.banner} ${gt.bannerError}`;return n.jsx("div",{className:D,children:l.message})},E=()=>{var C,L,P;if(!e)return null;const D=(C=e.providers)==null?void 0:C.discord,A=(L=e.providers)==null?void 0:L.google,y=!!D,j=!!A,M=!!cy,k=M?j?A!=null&&A.displayName?`Connected as ${A.displayName}`:"Connected":"Not connected":"Auth service not configured",w=[{key:"discord",name:"Discord",status:y?`Connected as ${(P=D==null?void 0:D.displayName)!=null?P:e.displayName}`:"Not connected",actionLabel:y?"Connected":"Connect",disabled:!0},{key:"google",name:"Google",status:k,actionLabel:j?"Connected":"Connect",disabled:j||!M,onClick:j||!M?void 0:g},{key:"twitch",name:"Twitch",status:"Planned",actionLabel:"Soon",disabled:!0},{key:"youtube",name:"YouTube",status:"Planned",actionLabel:"Soon",disabled:!0}];return n.jsxs("section",{className:gt.card,children:[n.jsx("h2",{className:gt.cardTitle,children:"Connected services"}),n.jsx("p",{className:gt.cardSubtitle,children:"Manage which social logins are linked to your SFDataHub identity."}),n.jsx("div",{className:gt.serviceList,children:w.map(O=>n.jsxs("div",{className:gt.serviceRow,children:[n.jsxs("div",{children:[n.jsx("p",{className:gt.serviceName,children:O.name}),n.jsx("p",{className:gt.serviceStatus,children:O.status})]}),n.jsx("button",{type:"button",className:gt.serviceAction,disabled:O.disabled,onClick:O.onClick,children:O.actionLabel})]},O.key))})]})},I=()=>n.jsxs("section",{className:gt.card,children:[n.jsx("h2",{className:gt.cardTitle,children:"Security & session"}),n.jsx("p",{className:gt.securityText,children:"We only store your SFDataHub user ID, display name, avatar URL and provider identifiers (like your Discord ID). We never see or store your Discord or Google password."}),n.jsx("p",{className:gt.securityNote,children:"Logging out here only clears your SFDataHub session cookie. Your Discord or Google account stays signed in separately."}),n.jsx("button",{type:"button",className:gt.logoutButton,onClick:p,children:"Log out from this device"}),n.jsx("p",{className:gt.securityNote,children:"To fully revoke access, remove SFDataHub Auth from your Discord applications page."})]}),F=()=>d?v():u?n.jsxs(n.Fragment,{children:[n.jsx(vfe,{user:e,refreshSession:r}),E(),I()]}):b();return n.jsx(wt,{title:"Account & Profile",subtitle:"Manage your SFDataHub identity and connected services.",centerFramed:!0,children:n.jsxs("div",{className:gt.page,children:[S(),F()]})})};function vfe({user:t,refreshSession:e}){var M;const[s,r]=R.useState(()=>{var k;return(k=t==null?void 0:t.displayName)!=null?k:""}),[i,a]=R.useState(!1),[l,d]=R.useState(null),[u,h]=R.useState(!1),p=(t==null?void 0:t.avatarUrl)||gfe,g=(t==null?void 0:t.provider)==="google"?"Google":"Discord",v=(M=t==null?void 0:t.displayName)!=null?M:"",b=s.trim(),S=b.length===0||b.length>=DN&&b.length<=MN,E=!!t&&b.length>0&&b!==v,I=!!(Rp&&S&&E&&!i),F=b.length>0&&!S?`Name must be between ${DN} and ${MN} characters.`:null;R.useEffect(()=>{var k;r((k=t==null?void 0:t.displayName)!=null?k:""),h(!1),d(null)},[t==null?void 0:t.id,t==null?void 0:t.displayName]);const D=R.useMemo(()=>{var k;return t?[{label:"SFDataHub ID",value:t.id},(k=t.roles)!=null&&k.length?{label:"Roles",value:t.roles.join(", ")}:null,t.createdAt?{label:"Created at",value:FN(t.createdAt)}:null,t.lastLoginAt?{label:"Last login",value:FN(t.lastLoginAt)}:null].filter(w=>!!(w!=null&&w.value)):[]},[t]),A=async()=>{var k,w;if(!I||!Rp){Rp||d("Auth service is not configured.");return}try{a(!0),d(null),h(!1);const C=await fetch(Rp,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:b})});if(!C.ok){const L=await C.json().catch(()=>null);throw new Error((k=L==null?void 0:L.error)!=null?k:"Failed to update name.")}await e(),h(!0),r(b)}catch(C){const L=(w=C==null?void 0:C.message)!=null?w:"Failed to update name.";d(L)}finally{a(!1)}},y=k=>{k.key==="Enter"&&(k.preventDefault(),I&&A())},j=()=>{I&&A()};return t?n.jsxs("section",{className:gt.card,children:[n.jsxs("div",{className:gt.identityHeader,children:[n.jsx("img",{src:p,alt:"",className:gt.identityAvatar}),n.jsxs("div",{children:[n.jsx("p",{className:gt.identityName,children:t.displayName||"Unbenannter Nutzer"}),n.jsxs("p",{className:gt.identityProvider,children:[g," sign-in"]})]}),n.jsx("span",{className:gt.statusBadge,children:"Verified"})]}),n.jsxs("div",{className:gt.identityForm,children:[n.jsxs("div",{className:gt.nameInputWrap,children:[n.jsx("label",{className:gt.nameLabel,children:"Display name"}),n.jsx("input",{type:"text",className:gt.nameInput,value:s,onChange:k=>r(k.target.value),onKeyDown:y,onBlur:j,placeholder:"Enter your display name"})]}),n.jsx("button",{type:"button",className:gt.nameSaveButton,disabled:!I,onClick:A,children:i?"Saving...":"Save"})]}),F&&n.jsx("p",{className:gt.feedbackError,children:F}),l&&n.jsx("p",{className:gt.feedbackError,children:l}),u&&n.jsx("p",{className:gt.feedbackSuccess,children:"Name updated."}),D.length>0&&n.jsx("div",{className:gt.metaGrid,children:D.map(k=>n.jsxs("div",{className:gt.metaItem,children:[n.jsx("span",{className:gt.metaLabel,children:k.label}),n.jsx("span",{className:gt.metaValue,children:k.value})]},k.label))})]}):null}const jt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function yfe(){return n.jsx("div",{style:jt.wrap,children:n.jsxs("div",{style:jt.grid,children:[n.jsxs("aside",{style:jt.tile,children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),n.jsx("p",{style:jt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),n.jsxs("nav",{children:[n.jsx("div",{style:jt.groupLabel,children:"Allgemein"}),n.jsx(ms,{to:"list-views",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"List-View Switcher"}),n.jsx(ms,{to:"rescan-widget",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"Rescan Widget (auto)"}),n.jsx(ms,{to:"upload-sim",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"Upload Simulator"}),n.jsx(ms,{to:"hud/game-buttons",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"HUD  Game Buttons"}),n.jsx(ms,{to:"theme-maker",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"Theme / Template Maker"}),n.jsx(ms,{to:"theme-maker-pro",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"Theme / Template Maker  Pro"}),n.jsx("div",{style:jt.groupLabel,children:"Templates"}),n.jsx(ms,{to:"templates/content-shell",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"ContentShell Template"}),n.jsx(ms,{to:"templates/blank",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"Leere Vorlage"}),n.jsx(ms,{to:"templates/blank-alt",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"Leere Vorlage (Neu)"}),n.jsx(ms,{to:"templates/blank-layout-2",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"Leere Vorlage  Layout 2"}),n.jsx(ms,{to:"templates/blank-layout-3",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"Leere Vorlage  Layout 3"}),n.jsx(ms,{to:"templates/blank-layout-4",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"Leere Vorlage  Layout 4"}),n.jsx("div",{style:jt.groupLabel,children:"Guide Hub Demos"}),n.jsx(ms,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),n.jsx("div",{style:jt.groupLabel,children:"Graphics / Portraits"}),n.jsx(ms,{to:"portrait-maker",style:({isActive:t})=>({...jt.link,...t?jt.active:{}}),children:"PortraitMaker Demo"})]})]}),n.jsx("section",{style:jt.tile,children:n.jsx(Ak,{})})]})})}const bfe="_page_1kokx_1",_fe="_topBar_1kokx_17",wfe="_tabs_1kokx_31",jfe="_tab_1kokx_31",Sfe="_tabActive_1kokx_63",Nfe="_searchWrap_1kokx_73",kfe="_input_1kokx_85",Tfe="_stickyIcons_1kokx_105",Cfe="_iconBtn_1kokx_129",Efe="_tableWrap_1kokx_161",Afe="_table_1kokx_161",Ife="_th_1kokx_181",Rfe="_td_1kokx_181",Pfe="_row_1kokx_201",Lfe="_chips_1kokx_219",Dfe="_chip_1kokx_219",Mfe="_badges_1kokx_249",Ffe="_badge_1kokx_249",Bfe="_badgeMax_1kokx_275",$fe="_badgeAchiev_1kokx_277",Ofe="_badgeX2_1kokx_279",Vfe="_badgeX12_1kokx_281",Ufe="_badgeX60_1kokx_283",zfe="_section_1kokx_289",Hfe="_sectionHeader_1kokx_297",Gfe="_cardList_1kokx_315",Wfe="_card_1kokx_315",qfe="_cardMax_1kokx_353",Kfe="_iconXL_1kokx_355",Qfe="_split_1kokx_369",Xfe="_left_1kokx_379",Yfe="_leftBtn_1kokx_399",Jfe="_leftBtnActive_1kokx_411",Zfe="_detail_1kokx_413",ege="_grid_1kokx_433",tge="_tile_1kokx_443",sge="_drawer_1kokx_457",nge="_timeline_1kokx_487",rge="_node_1kokx_493",ige="_dot_1kokx_501",tt={page:bfe,topBar:_fe,tabs:wfe,tab:jfe,tabActive:Sfe,searchWrap:Nfe,input:kfe,stickyIcons:Tfe,iconBtn:Cfe,tableWrap:Efe,table:Afe,th:Ife,td:Rfe,row:Pfe,chips:Lfe,chip:Dfe,badges:Mfe,badge:Ffe,badgeMax:Bfe,badgeAchiev:$fe,badgeX2:Ofe,badgeX12:Vfe,badgeX60:Ufe,section:zfe,sectionHeader:Hfe,cardList:Gfe,card:Wfe,cardMax:qfe,iconXL:Kfe,split:Qfe,left:Xfe,leftBtn:Yfe,leftBtnActive:Jfe,detail:Zfe,grid:ege,tile:tge,drawer:sge,timeline:nge,node:rge,dot:ige},BN=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function Fr(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const s=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(s)+r}function age(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function oge(t){var s,r;const e=(r=(s=t.note)==null?void 0:s.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function $f({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return n.jsx("div",{className:tt.iconBtn,title:t||"Rune",children:e})}function yb({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return n.jsx("div",{className:tt.iconXL,title:t||"Rune",children:e})}function lge(t){const e=new Map;for(const s of t){const r=s.tier&&s.tier.trim()!==""?s.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(s)}return Array.from(e.entries())}function Oh({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),n.jsx("div",{className:tt.chips,children:e.map((s,r)=>n.jsx("span",{className:tt.chip,children:s},r))})}function Vh({r:t,isMax:e}){const s=[];e&&s.push({label:"MAX",cls:tt.badgeMax}),age(t)&&s.push({label:"Achievement",cls:tt.badgeAchiev});const r=oge(t);return r==="x2"&&s.push({label:"x2",cls:tt.badgeX2}),r==="x12"&&s.push({label:"x12",cls:tt.badgeX12}),r==="x60"&&s.push({label:"x60",cls:tt.badgeX60}),s.length===0?null:n.jsx("div",{className:tt.badges,children:s.map((i,a)=>{var l;return n.jsx("span",{className:`${tt.badge} ${(l=i.cls)!=null?l:""}`,children:i.label},a)})})}function cge(t){const e=t.trim().toLowerCase();return e?BN.filter(s=>{var r;return`${s.tier} ${s.amount} ${(r=s.note)!=null?r:""}`.toLowerCase().includes(e)}):BN}function dge({data:t}){const e=Math.max(...t.map(i=>Fr(i.amount))),s=R.useMemo(()=>Array.from(new Set(t.map(i=>i.tier||"(no tier)"))),[t]);function r(i){const a=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:tt.stickyIcons,children:s.map((i,a)=>n.jsx("div",{onClick:()=>r(i),children:n.jsx($f,{label:i||"(no tier)"})},a))}),n.jsx("div",{className:tt.tableWrap,children:n.jsxs("table",{className:tt.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:tt.th,style:{width:42}}),n.jsx("th",{className:tt.th,style:{width:120},children:"Amount"}),n.jsx("th",{className:tt.th,children:"Bonuses"}),n.jsx("th",{className:tt.th,style:{width:220},children:"Tags"})]})}),n.jsx("tbody",{children:t.map((i,a)=>{const l=Math.abs(Fr(i.amount)-e)<1e-6;return n.jsxs("tr",{className:tt.row,"data-tier":i.tier||"(no tier)",children:[n.jsx("td",{className:tt.td,children:n.jsx($f,{label:i.tier||""})}),n.jsx("td",{className:tt.td,children:i.amount}),n.jsx("td",{className:tt.td,children:n.jsx(Oh,{r:i})}),n.jsx("td",{className:tt.td,children:n.jsx(Vh,{r:i,isMax:l})})]},a)})})]})})]})}function uge({data:t}){const e=lge(t),s=Math.max(...t.map(r=>Fr(r.amount)));return n.jsx(n.Fragment,{children:e.map(([r,i])=>n.jsxs("section",{className:tt.section,children:[n.jsx("div",{className:tt.sectionHeader,children:r}),n.jsx("div",{className:tt.cardList,children:i.map((a,l)=>{const d=Math.abs(Fr(a.amount)-s)<1e-6;return n.jsxs("div",{className:`${tt.card} ${d?tt.cardMax:""}`,children:[n.jsx(yb,{label:r}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx("strong",{children:a.amount}),n.jsx(Vh,{r:a,isMax:d})]}),n.jsx(Oh,{r:a})]}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},l)})})]},r))})}function hge({data:t}){var l;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[s,r]=R.useState((l=e[0])!=null?l:""),i=t.filter(d=>(d.tier||"(no tier)")===s),a=Math.max(...t.map(d=>Fr(d.amount)));return n.jsxs("div",{className:tt.split,children:[n.jsx("div",{className:tt.left,children:e.map(d=>n.jsxs("button",{className:`${tt.leftBtn} ${d===s?tt.leftBtnActive:""}`,onClick:()=>r(d),children:[n.jsx($f,{label:d}),n.jsx("span",{children:d})]},d))}),n.jsxs("div",{className:tt.detail,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx(yb,{label:s}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700},children:s}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((d,u)=>{const h=Math.abs(Fr(d.amount)-a)<1e-6;return n.jsxs("div",{className:tt.card,style:{gridTemplateColumns:"1fr auto"},children:[n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx("strong",{children:d.amount}),n.jsx(Vh,{r:d,isMax:h})]}),n.jsx(Oh,{r:d})]}),n.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},u)})]})]})}function mge({data:t}){const[e,s]=R.useState(null),r=Math.max(...t.map(i=>Fr(i.amount)));return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:tt.grid,children:t.map((i,a)=>n.jsx("div",{className:tt.tile,onClick:()=>s(i),title:i.tier||"",children:n.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[n.jsx($f,{label:i.tier||""}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},a))}),e&&n.jsxs("div",{className:tt.drawer,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx(yb,{label:e.tier||""}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700},children:e.amount}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),n.jsx("button",{className:tt.tab,onClick:()=>s(null),children:"Close"})]}),n.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:n.jsx(Vh,{r:e,isMax:Math.abs(Fr(e.amount)-r)<1e-6})}),n.jsx(Oh,{r:e})]})]})}function pge({data:t}){const e=Math.max(...t.map(r=>Fr(r.amount))),s=[...t].sort((r,i)=>Fr(r.amount)-Fr(i.amount));return n.jsx("div",{className:tt.timeline,children:s.map((r,i)=>{const a=Math.abs(Fr(r.amount)-e)<1e-6;return n.jsxs("div",{className:tt.node,children:[n.jsx("div",{className:tt.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("strong",{children:r.amount}),n.jsx(Vh,{r,isMax:a})]}),n.jsx(Oh,{r})]}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const fge=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function gge(){const[t,e]=R.useState("A: Compact Table"),[s,r]=R.useState(""),i=cge(s);return n.jsxs("div",{className:tt.page,children:[n.jsxs("div",{className:tt.topBar,children:[n.jsx("div",{className:tt.tabs,children:fge.map(a=>n.jsx("button",{onClick:()=>e(a),className:`${tt.tab} ${t===a?tt.tabActive:""}`,children:a},a))}),n.jsx("div",{className:tt.searchWrap,children:n.jsx("input",{className:tt.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:s,onChange:a=>r(a.target.value)})})]}),t==="A: Compact Table"&&n.jsx(dge,{data:i}),t==="B: Card Track"&&n.jsx(uge,{data:i}),t==="C: Two-Pane"&&n.jsx(hge,{data:i}),t==="D: Icon Grid + Drawer"&&n.jsx(mge,{data:i}),t==="E: Timeline"&&n.jsx(pge,{data:i})]})}function xge(){return n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),n.jsx("div",{className:"mt-4 grid gap-3",children:n.jsx(ms,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const xe={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},vge=()=>n.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),cl={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function yge(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function yd(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",yge(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function qE(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",s={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},a={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},l={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},u={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},h={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},p={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},g={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},v={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},b={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:s,crystal:r,carbon:i,chrome:a,gold:l,obsidian:d,neon:u,plasma:h,aurora:p,satin:g,matte:v,holo:b}[t.material]}function No(t){const e={color:xe.title,borderColor:xe.border,...qE(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const Uh=({children:t})=>n.jsx("span",{className:"relative z-10",children:t});function bd({fx:t,clip:e}){return n.jsxs(n.Fragment,{children:[t.shine&&n.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:n.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&n.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&n.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&n.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&n.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((s,r)=>n.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function bge({fx:t,children:e}){const s=yd(t),r=No(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),n.jsx(bd,{fx:t,clip:i}),t.withIcon&&n.jsx(Fk,{size:16,className:"relative z-10"}),n.jsx(Uh,{children:e})]})}function _ge({fx:t,children:e}){const s=yd(t),r=No(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),n.jsx(bd,{fx:t,clip:i}),t.withIcon&&n.jsx(Bk,{size:16,className:"relative z-10"}),n.jsx(Uh,{children:e})]})}function wge({fx:t,children:e}){const s=yd(t),r=No(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),n.jsx(bd,{fx:t,clip:i}),t.withIcon&&n.jsx(El,{size:16,className:"relative z-10"}),n.jsx(Uh,{children:e})]})}function jge({fx:t,children:e}){const s=yd(t),r=No(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${xe.tile}, ${xe.active})`}}),n.jsx(bd,{fx:t,clip:i}),t.withIcon&&n.jsx($k,{size:16,className:"relative z-10"}),n.jsx(Uh,{children:e})]})}function Sge({fx:t,children:e}){const s=yd(t),r=No(t);return n.jsxs("button",{disabled:t.disabled,className:`${s} rounded-full overflow-hidden`,style:r,children:[n.jsx(bd,{fx:t}),t.withIcon&&n.jsx(Gf,{size:16,className:"relative z-10"}),n.jsx(Uh,{children:e})]})}function Nge({fx:t,tabs:e}){const[s,r]=R.useState(0);return n.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:e.map((i,a)=>n.jsxs("button",{onClick:()=>r(a),className:`px-4 py-2 rounded-lg text-sm transition-colors ${a===s?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:a===s?xe.active:"transparent",border:a===s&&t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[t.withIcon&&a===s&&n.jsx(Gf,{size:14,className:"inline mr-1"}),i]},a))})}function kge({fx:t}){const e=yd(t),s=No(t);return n.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:s,"aria-label":"Icon action",children:n.jsx(Vk,{})})}const g0={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function Tge({fx:t,setFx:e}){const s=(d,u)=>e(h=>({...h,[d]:u})),r=d=>e(u=>({...u,[d]:!u[d]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],a=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],l=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return n.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[n.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${xe.border}`:"0"},children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:xe.title},children:"Presets"}),Object.keys(g0).map(d=>n.jsx("button",{onClick:()=>e(u=>g0[d](u)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:xe.btn,borderColor:xe.border,color:xe.title},children:d},d))]}),n.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${xe.border}`:"0"},children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:xe.title},children:"Material"}),i.map(d=>n.jsx("button",{onClick:()=>s("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:d},d)),n.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:xe.title},children:"Size"}),["sm","md","lg"].map(d=>n.jsx("button",{onClick:()=>s("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:d.toUpperCase()},d)),n.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:"Icon"}),n.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:"Disabled"})]}),n.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${xe.border}`:"0"},children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:xe.title},children:"Core FX"}),a.map(([d,u])=>n.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:u},d))]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:xe.title},children:"Advanced"}),l.map(([d,u])=>n.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:u},d))]}),n.jsx("button",{onClick:()=>e(cl),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:xe.btn,borderColor:xe.border,color:xe.title},children:"Reset"})]})}function Xt({fx:t,className:e="",style:s={},children:r,clip:i}){const a=No(t);return n.jsxs("div",{className:`relative ${e}`,style:{...a,...s},children:[n.jsx(bd,{fx:t,clip:i}),n.jsx("div",{className:"relative z-10",children:r})]})}function Hn({fx:t,className:e="",children:s}){return n.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:s})}function Cge({fx:t}){const[e,s]=R.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return n.jsxs(Hn,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Toggle Chips"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const a=e.includes(i);return n.jsx(Xt,{fx:t,className:`rounded-full border ${a?"":"opacity-80"}`,style:{borderColor:xe.border},children:n.jsx("button",{onClick:()=>s(l=>a?l.filter(d=>d!==i):[...l,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function Ege({fx:t}){return n.jsxs(Hn,{fx:t,className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm",style:{color:xe.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>n.jsx(Xt,{fx:t,className:"rounded-xl border p-2",style:{borderColor:xe.border},children:n.jsxs("button",{className:"relative",children:[n.jsx(Vk,{size:16}),e===3&&n.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function Age({fx:t}){return n.jsxs(Xt,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Breadcrumb HUD"}),n.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>n.jsx(Xt,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:xe.border},children:e},e))})]})}function Ige({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return n.jsxs(Hn,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Stat Tiles"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(s=>n.jsxs(Xt,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:xe.border},children:[n.jsx("div",{className:"text-[10px] opacity-80",children:s.k}),n.jsx("div",{className:"text-sm",children:s.v}),n.jsx("div",{className:"text-[11px] opacity-80",children:s.d})]},s.k))})]})}function Rge({fx:t}){const[e,s]=R.useState(.66);return n.jsxs(Hn,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Meter / Energy Bar"}),n.jsx(Xt,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:xe.border},children:n.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),n.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>n.jsx(Xt,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsxs("button",{onClick:()=>s(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function Pge({fx:t}){return n.jsxs(Hn,{fx:t,className:"flex items-center gap-3",children:[n.jsx("div",{className:"text-sm",style:{color:xe.title},children:"Badge / Medal"}),n.jsxs(Xt,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:xe.border},children:[n.jsx(El,{size:16}),n.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function Lge({fx:t}){const[e,s]=R.useState(!1);return n.jsxs(Hn,{fx:t,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm",style:{color:xe.title},children:"Toast / Notification"}),n.jsx(Xt,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{onClick:()=>s(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&n.jsxs(Xt,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:xe.border},children:[n.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),n.jsx("button",{onClick:()=>s(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function Dge({fx:t}){const[e,s]=R.useState(!0);return n.jsxs(Hn,{fx:t,className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm",style:{color:xe.title},children:"Toggle Switch"}),n.jsxs(Xt,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:xe.border},children:[n.jsx("button",{onClick:()=>s(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),n.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function Mge({fx:t}){const[e,s]=R.useState(!1),r=["Overview","Stats","Activity","Hydra"];return n.jsxs(Hn,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Dropdown HUD"}),n.jsx(Xt,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:xe.border},children:n.jsx("button",{onClick:()=>s(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&n.jsx(Xt,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:xe.border},children:r.map(i=>n.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function Fge({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return n.jsxs(Hn,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Radial Menu (Preview)"}),n.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[n.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"}}),e.map((s,r)=>{const i=r/e.length*Math.PI*2,a=56,l=56+Math.cos(i)*a,d=56+Math.sin(i)*a;return n.jsx(Xt,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:l,top:d,borderColor:xe.border},children:s},s)}),n.jsx(Xt,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:xe.border},children:"Menu"})]})]})}function Bge({fx:t}){const e=[1,2,3,4,5],[s,r]=R.useState(2);return n.jsxs(Hn,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Pagination HUD"}),n.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>n.jsx(Xt,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===s?"":"opacity-80"}`,style:{borderColor:xe.border},children:n.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function $ge({fx:t}){const[e,s]=R.useState(!1);return n.jsxs(Hn,{fx:t,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm",style:{color:xe.title},children:"Modal HUD"}),n.jsx(Xt,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{onClick:()=>s(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&n.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:n.jsxs(Xt,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:xe.border},children:[n.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),n.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),n.jsxs("div",{className:"mt-3 flex gap-2",children:[n.jsx(Xt,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>s(!1),children:"Cancel"})}),n.jsx(Xt,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function Oge({fx:t}){const[e,s]=R.useState("");return n.jsxs(Hn,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Search HUD"}),n.jsx(Xt,{fx:t,className:"rounded-lg border p-2",style:{borderColor:xe.border},children:n.jsx("input",{value:e,onChange:r=>s(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function Vge({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[s,r]=R.useState("Bravo");return n.jsxs(Hn,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"List Selectable"}),n.jsx("div",{className:"space-y-2",children:e.map(i=>n.jsx(Xt,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${s===i?"":"opacity-80"}`,style:{borderColor:xe.border},children:n.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function Uge({fx:t}){const e=["Init","Scan","Verify","Done"],[s,r]=R.useState(1);return n.jsxs(Hn,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Steps"}),n.jsx("div",{className:"flex items-center gap-3",children:e.map((i,a)=>n.jsxs(Z.Fragment,{children:[n.jsx(Xt,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${a<=s?"":"opacity-70"}`,style:{borderColor:xe.border},children:a+1}),a<e.length-1&&n.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx(Xt,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,s-1)),children:"Back"})}),n.jsx(Xt,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,s+1)),children:"Next"})})]})]})}function zge({fx:t}){const e=["","","","","",""];return n.jsxs(Hn,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Dock Bar"}),n.jsx("div",{className:"flex items-center gap-2",children:e.map((s,r)=>n.jsx(Xt,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:xe.border},children:s},r))})]})}function Hge(){const[t,e]=R.useState(cl);return n.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:xe.bg,color:xe.txt},children:[n.jsx(vge,{}),n.jsxs("header",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yP,{}),n.jsx("h1",{className:"text-xl font-bold",style:{color:xe.title},children:"Game Buttons Playground"}),n.jsx("span",{className:"text-xs",style:{color:xe.txt2},children:"(Materials + FX extended + Presets)"})]})}),n.jsx(Tge,{fx:t,setFx:e})]}),n.jsxs("section",{className:"grid gap-4",children:[n.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[n.jsx("h2",{className:"font-semibold mb-3",style:{color:xe.title},children:"Shapes"}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(bge,{fx:t,children:[n.jsx(Fk,{size:16})," Diamond"]}),n.jsxs(_ge,{fx:t,children:[n.jsx(Bk,{size:16})," Hex"]}),n.jsxs(wge,{fx:t,children:[n.jsx(El,{size:16})," Octagon/Shield"]}),n.jsxs(jge,{fx:t,children:[n.jsx($k,{size:16})," Shard"]}),n.jsxs(Sge,{fx:t,children:[n.jsx(Gf,{size:16})," Pill/Chip"]}),n.jsx(kge,{fx:t})]})]}),n.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[n.jsx("h2",{className:"font-semibold",style:{color:xe.title},children:"Tabs"}),n.jsx(Nge,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),n.jsx("section",{className:"grid gap-4",children:n.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[n.jsx("h2",{className:"font-semibold mb-3",style:{color:xe.title},children:"More HUD Patterns"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[n.jsx(Cge,{fx:t}),n.jsx(Ege,{fx:t}),n.jsx(Age,{fx:t}),n.jsx(Ige,{fx:t}),n.jsx(Rge,{fx:t}),n.jsx(Pge,{fx:t}),n.jsx(Lge,{fx:t}),n.jsx(Dge,{fx:t}),n.jsx(Mge,{fx:t}),n.jsx(Fge,{fx:t}),n.jsx(Bge,{fx:t}),n.jsx($ge,{fx:t}),n.jsx(Oge,{fx:t}),n.jsx(Vge,{fx:t}),n.jsx(Uge,{fx:t}),n.jsx(zge,{fx:t})]})]})}),n.jsx(Gge,{}),n.jsx("footer",{className:"text-center text-xs",style:{color:xe.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function Gge(){return R.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(cl.material),"Material type present");const e=No(cl);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=qE({...cl,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof cl[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(g0).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const a=i({...cl});console.assert(a&&typeof a=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const qu={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},$N={Arcade:{...qu,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...qu,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},Nc={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},KE={display:"grid",gap:8,alignItems:"center"};function ta({label:t,value:e,onChange:s}){return n.jsxs("label",{style:{...KE,gridTemplateColumns:"120px 1fr"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"color",value:e,onChange:r=>s(r.target.value)})]})}function dy({label:t,value:e,min:s,max:r,onChange:i}){return n.jsxs("label",{style:{...KE,gridTemplateColumns:"120px 1fr 70px"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"range",min:s,max:r,value:e,onChange:a=>i(parseInt(a.target.value))}),n.jsx("input",{type:"number",min:s,max:r,value:e,onChange:a=>i(parseInt(a.target.value||"0"))})]})}function ON(){const[t,e]=Z.useState(qu),s=Z.useRef(null),r=u=>{const h=s.current;h&&(h.style.setProperty("--page",u.page),h.style.setProperty("--tile",u.tile),h.style.setProperty("--tile-hover",u.tileHover),h.style.setProperty("--nav",u.nav),h.style.setProperty("--active",u.active),h.style.setProperty("--text",u.text),h.style.setProperty("--text-soft",u.textSoft),h.style.setProperty("--title",u.title),h.style.setProperty("--line",u.line),h.style.setProperty("--radius",`${u.radius}px`),h.style.setProperty("--shadow",`0 8px ${u.shadow}px rgba(0,0,0,0.25)`),h.style.setProperty("--gap",`${u.gap}px`))};Z.useEffect(()=>{r(t)},[t]);const i=u=>e($N[u]),a=()=>e(qu),l=()=>{const u=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download="sfdatahub-theme.json",h.click()},d=async u=>{const h=await u.text();e({...qu,...JSON.parse(h)})};return n.jsxs("div",{ref:s,style:{color:"var(--text, #FFFFFF)"},children:[n.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[n.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[n.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys($N).map(u=>n.jsx("button",{style:Nc,onClick:()=>i(u),children:u},u)),n.jsx("button",{style:Nc,onClick:a,children:"Default"}),n.jsx("button",{style:Nc,onClick:l,children:"Export JSON"}),n.jsxs("label",{style:{...Nc,display:"inline-block"},children:["Import JSON",n.jsx("input",{type:"file",accept:"application/json",onChange:u=>u.target.files&&d(u.target.files[0]),style:{display:"none"}})]})]}),n.jsx(ta,{label:"Page",value:t.page,onChange:u=>e(h=>({...h,page:u}))}),n.jsx(ta,{label:"Tile",value:t.tile,onChange:u=>e(h=>({...h,tile:u}))}),n.jsx(ta,{label:"Tile Hover",value:t.tileHover,onChange:u=>e(h=>({...h,tileHover:u}))}),n.jsx(ta,{label:"Nav",value:t.nav,onChange:u=>e(h=>({...h,nav:u}))}),n.jsx(ta,{label:"Active",value:t.active,onChange:u=>e(h=>({...h,active:u}))}),n.jsx(ta,{label:"Text",value:t.text,onChange:u=>e(h=>({...h,text:u}))}),n.jsx(ta,{label:"Text Soft",value:t.textSoft,onChange:u=>e(h=>({...h,textSoft:u}))}),n.jsx(ta,{label:"Title",value:t.title,onChange:u=>e(h=>({...h,title:u}))}),n.jsx(ta,{label:"Line",value:t.line,onChange:u=>e(h=>({...h,line:u}))}),n.jsx(dy,{label:"Radius",value:t.radius,min:8,max:28,onChange:u=>e(h=>({...h,radius:u}))}),n.jsx(dy,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:u=>e(h=>({...h,shadow:u}))}),n.jsx(dy,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:u=>e(h=>({...h,gap:u}))})]}),n.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[n.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[n.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),n.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),n.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[n.jsx("button",{style:{...Nc,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),n.jsx("button",{style:Nc,children:"Secondary"})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((u,h)=>n.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[n.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",h+1]}),n.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},h))})]})]})]})}const x0={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},VN={"SFDataHub (Default)":{...x0},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},Eg={display:"grid",gap:8,alignItems:"center"},nl={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},rl={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Pr({label:t,value:e,onChange:s}){return n.jsxs("label",{style:{...Eg,gridTemplateColumns:"140px 1fr"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"color",value:e,onChange:r=>s(r.target.value)})]})}function sa({label:t,value:e,min:s,max:r,step:i=1,onChange:a,suffix:l}){return n.jsxs("label",{style:{...Eg,gridTemplateColumns:"140px 1fr 70px"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"range",min:s,max:r,step:i,value:e,onChange:d=>a(parseFloat(d.target.value))}),n.jsx("input",{type:"number",min:s,max:r,step:i,value:e,onChange:d=>a(parseFloat(d.target.value||"0"))})]})}function Wge({label:t,checked:e,onChange:s}){return n.jsxs("label",{style:{...Eg,gridTemplateColumns:"1fr 46px"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"checkbox",checked:e,onChange:r=>s(r.target.checked)})]})}function UN(){const[t,e]=Z.useState(x0),s=Z.useRef(null),r=h=>{const p=s.current;p&&(p.style.setProperty("--page",h.page),p.style.setProperty("--tile",h.tile),p.style.setProperty("--tile-hover",h.tileHover),p.style.setProperty("--nav",h.nav),p.style.setProperty("--active",h.active),p.style.setProperty("--text",h.text),p.style.setProperty("--text-soft",h.textSoft),p.style.setProperty("--title",h.title),p.style.setProperty("--line",h.line),p.style.setProperty("--accent",h.accent),p.style.setProperty("--success",h.success),p.style.setProperty("--warning",h.warning),p.style.setProperty("--danger",h.danger),p.style.setProperty("--radius",`${h.radius}px`),p.style.setProperty("--border",`${h.border}px`),p.style.setProperty("--gap",`${h.gap}px`),p.style.setProperty("--shadow",`0 10px ${h.shadow}px rgba(0,0,0,0.30)`),p.style.setProperty("--surface-opacity",`${h.surfaceOpacity}%`),p.style.setProperty("--noise",`${h.noise}%`),p.style.setProperty("--font",h.fontFamily),p.style.setProperty("--font-size",`${h.fontSize}px`),p.style.setProperty("--heading-tight",h.headingsTight?"1.1":"1.3"),p.style.setProperty("--glow",`${h.glow}`),p.style.setProperty("--scanlines",`${h.scanlines}`))};Z.useEffect(()=>{r(t)},[t]);const i=(h,p)=>e(g=>({...g,[h]:p})),a=h=>e(p=>({...p,...VN[h]})),l=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(h),p.download="sfdatahub-theme-pro.json",p.click()},d=async h=>{try{const p=await h.text(),g=JSON.parse(p);e({...t,...g})}catch(p){}},u={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return n.jsxs("div",{ref:s,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[n.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[n.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[n.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(VN).map(h=>n.jsx("button",{style:nl,onClick:()=>a(h),children:h},h)),n.jsx("button",{style:nl,onClick:()=>e(x0),children:"Reset"}),n.jsx("button",{style:nl,onClick:l,children:"Export"}),n.jsxs("label",{style:{...nl,display:"inline-block"},children:["Import",n.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:h=>h.target.files&&d(h.target.files[0])})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx(Pr,{label:"Page",value:t.page,onChange:h=>i("page",h)}),n.jsx(Pr,{label:"Tile",value:t.tile,onChange:h=>i("tile",h)}),n.jsx(Pr,{label:"Tile Hover",value:t.tileHover,onChange:h=>i("tileHover",h)}),n.jsx(Pr,{label:"Active",value:t.active,onChange:h=>i("active",h)}),n.jsx(Pr,{label:"Text",value:t.text,onChange:h=>i("text",h)}),n.jsx(Pr,{label:"Text Soft",value:t.textSoft,onChange:h=>i("textSoft",h)}),n.jsx(Pr,{label:"Title",value:t.title,onChange:h=>i("title",h)}),n.jsx(Pr,{label:"Line",value:t.line,onChange:h=>i("line",h)}),n.jsx(Pr,{label:"Accent",value:t.accent,onChange:h=>i("accent",h)}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[n.jsx(Pr,{label:"Success",value:t.success,onChange:h=>i("success",h)}),n.jsx(Pr,{label:"Warning",value:t.warning,onChange:h=>i("warning",h)}),n.jsx(Pr,{label:"Danger",value:t.danger,onChange:h=>i("danger",h)})]})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx(sa,{label:"Radius",min:0,max:28,value:t.radius,onChange:h=>i("radius",h)}),n.jsx(sa,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:h=>i("border",h)}),n.jsx(sa,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:h=>i("gap",h)}),n.jsx(sa,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:h=>i("shadow",h)}),n.jsx(sa,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:h=>i("surfaceOpacity",h),suffix:"%"}),n.jsx(sa,{label:"Noise",min:0,max:20,value:t.noise,onChange:h=>i("noise",h),suffix:"%"})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsxs("label",{style:{...Eg,gridTemplateColumns:"140px 1fr"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),n.jsx("input",{value:t.fontFamily,onChange:h=>i("fontFamily",h.target.value)})]}),n.jsx(sa,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:h=>i("fontSize",h)}),n.jsx(Wge,{label:"Headings tighter",checked:t.headingsTight,onChange:h=>i("headingsTight",h)})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx(sa,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:h=>i("glow",h)}),n.jsx(sa,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:h=>i("scanlines",h)})]})]})]}),n.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[n.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[n.jsxs("span",{style:rl,children:[n.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),n.jsx("span",{style:{...rl,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),n.jsx("span",{style:{...rl,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),n.jsx("span",{style:{...rl,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),n.jsxs("span",{style:rl,children:["Radius: ",t.radius]}),n.jsxs("span",{style:rl,children:["Shadow: ",t.shadow]}),n.jsxs("span",{style:rl,children:["Noise: ",t.noise,"%"]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[n.jsxs("div",{style:{display:"grid",gap:12},children:[n.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:u.name}),n.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[u.className,"  ",u.guild," ",n.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",u.server,")"]})]})]}),n.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:u.level,pct:u.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:u.scrapbook+"%",pct:u.scrapbook/100,color:"var(--success)"},{label:"Power",value:u.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:u.activity+"%",pct:u.activity/100,color:"var(--accent)"}].map((h,p)=>n.jsxs("div",{style:{display:"grid",gap:4},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[n.jsx("span",{children:h.label}),n.jsx("span",{style:{color:"var(--title)"},children:h.value})]}),n.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:n.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(h.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${h.color} 75%, transparent), ${h.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${h.color} 40%, transparent)`}})})]},p))}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[n.jsx("button",{style:{...nl,background:"var(--tile-hover)"},children:"Open Profile"}),n.jsx("button",{style:{...nl,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),n.jsxs("div",{style:{display:"grid",gap:12},children:[n.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((h,p)=>n.jsx("button",{style:{...nl,background:p===0?"var(--tile-hover)":"transparent",borderColor:p===0?"var(--active)":"var(--line)",boxShadow:p===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:h},h))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((h,p)=>n.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[n.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:h.k}),n.jsx("div",{style:{fontWeight:800,fontSize:24},children:h.v}),n.jsx("div",{style:{fontSize:12,color:h.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:h.trend})]},p))}),n.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[n.jsx("div",{style:{padding:10},children:"Attribute"}),n.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),n.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((h,p)=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:p%2?"rgba(255,255,255,.025)":"transparent"},children:[n.jsx("div",{style:{padding:10},children:h[0]}),n.jsx("div",{style:{padding:10,textAlign:"right"},children:h[1]}),n.jsx("div",{style:{padding:10,textAlign:"right",color:h[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:h[2]})]},p))]})]})]}),n.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const zN=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function qge(t=120){const e=[];for(let s=1;s<=t;s++)e.push({id:String(s),name:`Player ${s}`,className:zN[s%zN.length],level:200+s%50,guild:s%3===0?`Guild ${s%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const uy={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function HN(){const[t,e]=R.useState("rows"),[s,r]=R.useState(0),[i,a]=R.useState(""),[l,d]=R.useState(60),u=R.useMemo(()=>qge(240),[]),h=R.useMemo(()=>u.filter(p=>p.level>=s).filter(p=>p.name.toLowerCase().includes(i.toLowerCase())).slice(0,l),[u,s,i,l]);return n.jsxs("div",{children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),n.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[n.jsxs("select",{value:t,onChange:p=>e(p.target.value),children:[n.jsx("option",{value:"rows",children:"Compact Rows"}),n.jsx("option",{value:"cards",children:"Card Grid"}),n.jsx("option",{value:"masonry",children:"Masonry"})]}),n.jsx("input",{placeholder:"Search",value:i,onChange:p=>a(p.target.value)}),n.jsxs("label",{children:["Min Level ",n.jsx("input",{type:"number",value:s,onChange:p=>r(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]}),n.jsxs("label",{children:["Limit ",n.jsx("input",{type:"number",value:l,onChange:p=>d(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&n.jsx("div",{style:{...uy,padding:0,overflow:"hidden"},children:h.map(p=>{var g;return n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),n.jsxs("div",{children:[n.jsxs("div",{style:{fontWeight:700},children:[p.name," ",n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:p.className})]}),n.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),n.jsx("div",{style:{fontSize:24,fontWeight:700},children:(g=p.kpi)==null?void 0:g.toFixed(1)})]})]},p.id)})}),t==="cards"&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(p=>{var g;return n.jsxs("div",{style:uy,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("div",{style:{fontWeight:700},children:p.name}),n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),n.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),n.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[n.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),n.jsx("span",{style:{fontSize:24,fontWeight:700},children:(g=p.kpi)==null?void 0:g.toFixed(1)})]})]},p.id)})}),t==="masonry"&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(p=>n.jsxs("div",{style:{...uy,height:140+parseInt(p.id)%3*40},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("div",{style:{fontWeight:700},children:p.name}),n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),n.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),n.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},p.id))})]})}function GN(t=24){const e=[];for(let s=1;s<=t;s++)e.push({id:String(s),name:`Player ${s}`,server:`EU${1+s%3}`,lastScanMinsAgo:60+s*7%240});return e}function WN(){const[t,e]=R.useState(120),[s,r]=R.useState(()=>GN(24));R.useEffect(()=>{const a=setInterval(()=>{r(l=>{if(!l.length)return l;const d=Math.floor(Math.random()*l.length),u=[...l];return u[d]={...u[d],lastScanMinsAgo:0},u})},5e3);return()=>clearInterval(a)},[]),R.useEffect(()=>{const a=setInterval(()=>{r(l=>l.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(a)},[]);const i=R.useMemo(()=>s.filter(a=>a.lastScanMinsAgo>t),[s,t]);return n.jsxs("div",{children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),n.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[n.jsxs("label",{children:["Freshness TTL (min) ",n.jsx("input",{type:"number",value:t,onChange:a=>e(parseInt(a.target.value||"0")),style:{marginLeft:8,width:100}})]}),n.jsx("button",{onClick:()=>r(GN(24)),children:"Reset Demo Data"})]}),n.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),n.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[n.jsx("div",{children:"Player"}),n.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(a=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[n.jsxs("div",{children:[a.name," ",n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:a.server})]}),n.jsxs("div",{style:{width:180,textAlign:"right"},children:[a.lastScanMinsAgo," min ago"]})]},a.id)),i.length===0&&n.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function Kge(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),s=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:s}}function qN(){const[t,e]=R.useState("idle"),[s,r]=R.useState(null),[i,a]=R.useState(!1),l=R.useCallback(async d=>{var h;d.preventDefault(),a(!1);const u=(h=d.dataTransfer.files)==null?void 0:h[0];if(u){e("validating");try{const p=await u.text(),{isHar:g,isSf:v}=Kge(p);if(e("parsing"),await new Promise(b=>setTimeout(b,600)),!g&&!v){e("error"),r({isHar:g,isSf:v,sizeKB:Math.round(u.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:g,isSf:v,sizeKB:Math.round(u.size/1024),summary:`Detected: ${g?"HAR":v?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(p.length/2500)} (rough).`})}catch(p){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(p==null?void 0:p.message)||"Parse failed"})}}},[]);return n.jsxs("div",{children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),n.jsx("div",{onDragOver:d=>{d.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:l,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),n.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),n.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",t]}),s?n.jsxs("ul",{children:[n.jsxs("li",{children:["isHar: ",String(s.isHar)]}),n.jsxs("li",{children:["isSf: ",String(s.isSf)]}),n.jsxs("li",{children:["sizeKB: ",s.sizeKB]}),s.error&&n.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",s.error]}),s.summary&&n.jsxs("li",{children:["summary: ",s.summary]})]}):n.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const Qge="_wrap_hxkkn_3",Xge="_left_hxkkn_17",Yge="_right_hxkkn_25",Jge="_canvasCard_hxkkn_33",Zge="_hint_hxkkn_83",exe="_panel_hxkkn_95",txe="_panelTitle_hxkkn_109",sxe="_panelBody_hxkkn_121",na={wrap:Qge,left:Xge,right:Yge,canvasCard:Jge,hint:Zge,panel:exe,panelTitle:txe,panelBody:sxe},nxe=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],rxe=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function ixe(){const[t,e]=R.useState("Canvas ist vorbereitet (526526)."),s=R.useRef(null),[r,i]=R.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[a,l]=R.useState(!0);R.useEffect(()=>{const p=document.getElementById("PortraitCanvas");if(!p){e("Fehler: Canvas nicht gefunden.");return}try{s.current&&typeof s.current.dispose=="function"&&s.current.dispose()}catch(b){}let g=console.error;a&&(console.error=(...b)=>{var E;const S=String((E=b==null?void 0:b[0])!=null?E:"");S.includes("Failed to load URL")&&S.includes("PortraitMaker-res/portraits/")||g(...b)});let v=null;try{v=new hk(p,{...r}),s.current=v,e("Rendering")}catch(b){a&&(console.error=g),g("Error initializing PortraitMaker:",b),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return v&&(v.onFinish=()=>{a&&(console.error=g),e("Fertig gerendert.")}),()=>{try{v&&typeof v.dispose=="function"&&v.dispose()}finally{a&&(console.error=g)}}},[r,a]);const d=()=>{const p=document.getElementById("PortraitCanvas");if(!p)return;const g=p.toDataURL("image/png"),v=document.createElement("a");v.href=g,v.download="portrait.png",v.click()},u=p=>{i(g=>({...g,genderName:p,beard:p==="female"?0:g.beard}))},h=r.special!==0;return n.jsxs("div",{className:na.wrap,children:[n.jsx("div",{className:na.left,children:n.jsxs("div",{className:na.canvasCard,children:[n.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),n.jsx("div",{className:na.hint,children:t})]})}),n.jsx("div",{className:na.right,children:n.jsxs("div",{className:na.panel,children:[n.jsx("h2",{className:na.panelTitle,children:"Controls"}),n.jsx("div",{className:na.panelBody,children:n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",n.jsx("input",{type:"number",value:r.special,onChange:p=>i(g=>({...g,special:Number(p.target.value||0)})),style:{width:100}})]}),n.jsxs("fieldset",{disabled:h,style:{border:0,padding:0,margin:0},children:[n.jsxs("label",{children:["Gender:",n.jsxs("select",{value:r.genderName,onChange:p=>u(p.target.value),children:[n.jsx("option",{value:"male",children:"male"}),n.jsx("option",{value:"female",children:"female"})]})]}),n.jsxs("label",{children:["Class:",n.jsx("input",{type:"number",min:1,value:r.class,onChange:p=>i(g=>({...g,class:Number(p.target.value||0)})),style:{width:80}})]}),n.jsxs("label",{children:["Race:",n.jsx("input",{type:"number",min:1,value:r.race,onChange:p=>i(g=>({...g,race:Number(p.target.value||0)})),style:{width:80}})]})]}),n.jsxs("label",{children:["Background:",n.jsx("select",{value:r.background,onChange:p=>i(g=>({...g,background:p.target.value})),children:nxe.map(p=>n.jsx("option",{value:p,children:p===""?"transparent":p},p))})]}),n.jsxs("label",{children:["Frame:",n.jsx("select",{value:r.frame,onChange:p=>i(g=>({...g,frame:p.target.value})),children:rxe.map(p=>n.jsx("option",{value:p,children:p===""?"none":p},p))})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:p=>i(g=>({...g,showBorder:p.target.checked}))}),"showBorder"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("input",{type:"checkbox",checked:a,onChange:p=>l(p.target.checked)}),"Mute 404 logs (Playground)"]}),n.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:n.jsx("button",{onClick:d,children:"Export PNG"})}),h&&n.jsxs("div",{className:na.hint,children:["Hinweis: Bei ",n.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const axe=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],oxe=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],lxe=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function cxe(){return n.jsx(wt,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:n.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),n.jsx("ul",{className:"mt-2 space-y-2",children:axe.map(t=>n.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[n.jsx("div",{className:"font-semibold text-slate-50",children:t.title}),n.jsx("p",{className:"text-xs text-slate-400",children:t.description})]},t.id))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[n.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),n.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),n.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:n.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),n.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:oxe.map(t=>n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("dt",{className:"text-xs text-slate-400",children:t.label}),n.jsx("dd",{className:"font-semibold",children:t.value})]},t.label))})]}),n.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),n.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:lxe.map(t=>n.jsx("li",{children:t},t))})]})]}),children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),n.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),n.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),n.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),n.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(t=>n.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:t}),n.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},t))}),n.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(t=>n.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[n.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",t]}),n.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",t]})]}),n.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),n.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},t))})]})})}const dxe={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function uxe(){return n.jsx(wt,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:n.jsx("div",{className:"flex w-full justify-center pt-10",children:n.jsx(pE,{config:dxe,label:"Playground Avatar"})})})}const hxe=Array.from({length:4},(t,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function mxe(){return n.jsx(wt,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:n.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:n.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:hxe.map(t=>n.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:t.label}),n.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),n.jsx("p",{className:"text-[11px] text-slate-400",children:t.note})]},t.id))})})})}const pxe="_avatarFrameMask_1pzs8_5",fxe="_avatarFrameOverlay_1pzs8_7",KN={avatarFrameMask:pxe,avatarFrameOverlay:fxe},gxe=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function xxe(){return n.jsx(wt,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:n.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[n.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:gxe.map(t=>n.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:t.title}),n.jsx("p",{className:"mt-2 text-xs text-slate-300",children:t.detail}),n.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.title))}),n.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),n.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:KN.avatarFrameMask,children:n.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),n.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:KN.avatarFrameOverlay,children:n.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const vxe=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function yxe(){return n.jsx(wt,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:n.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:n.jsx("div",{className:"flex w-full flex-col gap-4",children:vxe.map(t=>n.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[t.label,n.jsx("span",{children:"Leer"})]}),n.jsx("p",{className:"mt-2 text-sm text-slate-300",children:t.info}),n.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.label))})})})}function bxe(){return n.jsx(wt,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:n.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),n.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),n.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),n.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const Y={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},_xe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},wxe={maxWidth:1200,margin:"0 auto"},jxe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Sxe(){return n.jsx("div",{style:_xe,children:n.jsxs("div",{style:wxe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"HAR Import Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:jxe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),n.jsxs("div",{style:{border:`1px dashed ${Y.line}`,borderRadius:12,padding:24,textAlign:"center",background:Y.tileAlt},children:["Drop .har file here or"," ",n.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),n.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const Nxe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},kxe={maxWidth:1200,margin:"0 auto"},Txe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Cxe(){return n.jsx("div",{style:Nxe,children:n.jsxs("div",{style:kxe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"JSON/CSV Import Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Txe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsxs("label",{children:["Upload JSON ",n.jsx("input",{type:"file",accept:".json"})]}),n.jsxs("label",{children:["Upload CSV ",n.jsx("input",{type:"file",accept:".csv"})]})]}),n.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const Exe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Axe={maxWidth:1200,margin:"0 auto"},Ixe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Rxe(){return n.jsx("div",{style:Exe,children:n.jsxs("div",{style:Axe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Index Schema Viewer Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Ixe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:t}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const Pxe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Lxe={maxWidth:1200,margin:"0 auto"},Dxe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Mxe(){return n.jsx("div",{style:Pxe,children:n.jsxs("div",{style:Lxe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Player Profile (Contained) Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Dxe,children:[n.jsxs("div",{style:{display:"flex",gap:12},children:[n.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${Y.line}`}}),n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"4px 0",color:Y.title},children:"NightRaven"}),n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>n.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const Fxe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Bxe={maxWidth:1200,margin:"0 auto"},$xe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Oxe(){return n.jsx("div",{style:Fxe,children:n.jsxs("div",{style:Bxe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Guild Hub Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:$xe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[n.jsx("b",{style:{color:Y.title},children:"Ravens"}),n.jsx("span",{children:"Avg Lvl 465"}),n.jsx("span",{children:"Fresh scans 82%"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[n.jsx("b",{style:{color:Y.title},children:"Arcana"}),n.jsx("span",{children:"Avg Lvl 458"}),n.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const Vxe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Uxe={maxWidth:1200,margin:"0 auto"},zxe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Hxe(){return n.jsx("div",{style:Vxe,children:n.jsxs("div",{style:Uxe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Server Hub Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:zxe,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:t}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const Gxe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Wxe={maxWidth:1200,margin:"0 auto"},qxe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Kxe(){return n.jsx("div",{style:Gxe,children:n.jsxs("div",{style:Wxe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Rankings Views Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:qxe,children:[n.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>n.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10},children:t},t))}),n.jsx("div",{style:{border:`1px solid ${Y.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[n.jsx("b",{style:{color:Y.title},children:t.name}),n.jsx("span",{children:t.delta}),n.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const Qxe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Xxe={maxWidth:1200,margin:"0 auto"},Yxe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Jxe(){return n.jsx("div",{style:Qxe,children:n.jsxs("div",{style:Xxe,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"KPI Dashboard Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsx("div",{style:Yxe,children:n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>n.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const Zxe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},eve={maxWidth:1200,margin:"0 auto"},tve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function sve(){return n.jsx("div",{style:Zxe,children:n.jsxs("div",{style:eve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Progression Tracker Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:tve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),n.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const nve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},rve={maxWidth:1200,margin:"0 auto"},ive={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ave(){return n.jsx("div",{style:nve,children:n.jsxs("div",{style:rve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Legendary & Pets Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsx("div",{style:ive,children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"Legendary Tracker"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Shadow Bow "}),n.jsx("li",{children:"Mythic Ring "})]})]}),n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"Pets"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Firewolf 4/5"}),n.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const ove={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},lve={maxWidth:1200,margin:"0 auto"},cve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function dve(){return n.jsx("div",{style:ove,children:n.jsxs("div",{style:lve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Community Scans Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:cve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>n.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const uve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},hve={maxWidth:1200,margin:"0 auto"},mve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function pve(){return n.jsx("div",{style:uve,children:n.jsxs("div",{style:hve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Creator Hub Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:mve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:t}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const fve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},gve={maxWidth:1200,margin:"0 auto"},xve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function vve(){return n.jsx("div",{style:fve,children:n.jsxs("div",{style:gve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Form Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:xve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),n.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[n.jsx("span",{children:"Category"}),n.jsxs("select",{style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"},children:[n.jsx("option",{children:"UI"}),n.jsx("option",{children:"Data"}),n.jsx("option",{children:"Bug"})]})]}),n.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[n.jsx("span",{children:"Message"}),n.jsx("textarea",{rows:4,style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"}})]}),n.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${Y.line}`,borderRadius:10},children:"Send"})]})})]})})}const yve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},bve={maxWidth:1200,margin:"0 auto"},_ve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function wve(){return n.jsx("div",{style:yve,children:n.jsxs("div",{style:bve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Admin Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:_ve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),n.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("span",{children:t}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),n.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const jve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Sve={maxWidth:1200,margin:"0 auto"},Nve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function kve(){return n.jsx("div",{style:jve,children:n.jsxs("div",{style:Sve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Tutorials Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Nve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),n.jsxs("ol",{children:[n.jsx("li",{children:"Step highlights"}),n.jsx("li",{children:"Progress bar"}),n.jsx("li",{children:"Badges"})]})]})})]})})}const Tve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Cve={maxWidth:1200,margin:"0 auto"},Eve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ave(){return n.jsx("div",{style:Tve,children:n.jsxs("div",{style:Cve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Wiki & FAQ Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Eve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),n.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10}}),n.jsxs("ul",{style:{marginTop:8},children:[n.jsx("li",{children:"How to import HAR?"}),n.jsx("li",{children:"What data is stored?"})]})]})})]})})}const Ive={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Rve={maxWidth:1200,margin:"0 auto"},Pve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Lve(){return n.jsx("div",{style:Ive,children:n.jsxs("div",{style:Rve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Settings Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Pve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[n.jsxs("label",{children:["Language",n.jsxs("select",{style:{marginLeft:8},children:[n.jsx("option",{children:"EN"}),n.jsx("option",{children:"DE"})]})]}),n.jsxs("label",{children:["Theme",n.jsxs("select",{style:{marginLeft:8},children:[n.jsx("option",{children:"Dark"}),n.jsx("option",{children:"Custom"})]})]}),n.jsxs("label",{children:["Notifications",n.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),n.jsxs("label",{children:["Privacy",n.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const Dve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Mve={maxWidth:1200,margin:"0 auto"},Fve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Bve(){return n.jsx("div",{style:Dve,children:n.jsxs("div",{style:Mve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"ToS & Privacy Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Fve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),n.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:n.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),n.jsxs("label",{style:{marginTop:8},children:[n.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const $ve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ove={maxWidth:1200,margin:"0 auto"},Vve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Uve(){return n.jsx("div",{style:$ve,children:n.jsxs("div",{style:Ove,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Transparency Viewer Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Vve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),n.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const zve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Hve={maxWidth:1200,margin:"0 auto"},Gve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Wve(){return n.jsx("div",{style:zve,children:n.jsxs("div",{style:Hve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Update Flow Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Gve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[n.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),n.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const qve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Kve={maxWidth:1200,margin:"0 auto"},Qve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Xve(){return n.jsx("div",{style:qve,children:n.jsxs("div",{style:Kve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Install Prompt Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Qve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[n.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:20}}),n.jsxs("div",{children:[n.jsx("b",{style:{color:Y.title},children:"Install SFDataHub"}),n.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),n.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const Yve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Jve={maxWidth:1200,margin:"0 auto"},Zve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function eye(){return n.jsx("div",{style:Yve,children:n.jsxs("div",{style:Jve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Manual Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Zve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:[n.jsx("b",{style:{color:Y.title},children:"View source"}),n.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const tye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},sye={maxWidth:1200,margin:"0 auto"},nye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function rye(){return n.jsx("div",{style:tye,children:n.jsxs("div",{style:sye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Userscript Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:nye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx("div",{children:"Install/Enable check"}),n.jsx("div",{children:"Events preview"})]})]})})]})})}const iye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},aye={maxWidth:1200,margin:"0 auto"},oye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function lye(){return n.jsx("div",{style:iye,children:n.jsxs("div",{style:aye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Exports Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:oye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"CSV/Excel"}),n.jsx("div",{children:"Tabs, widths, locales"})]}),n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"JSON API"}),n.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const cye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},dye={maxWidth:1200,margin:"0 auto"},uye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function hye(){return n.jsx("div",{style:cye,children:n.jsxs("div",{style:dye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Deeplinks Demo Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:uye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),n.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const mye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},pye={maxWidth:1200,margin:"0 auto"},fye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function gye(){return n.jsx("div",{style:mye,children:n.jsxs("div",{style:pye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Servers Editor Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:fye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[n.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),n.jsxs("select",{children:[n.jsx("option",{children:"Active"}),n.jsx("option",{children:"Disabled"})]}),n.jsx("button",{children:"Add"})]})]})})]})})}const xye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},vye={maxWidth:1200,margin:"0 auto"},yye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function bye(){return n.jsx("div",{style:xye,children:n.jsxs("div",{style:vye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Jobs & Queues Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:yye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),n.jsxs("ul",{style:{marginTop:8},children:[n.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),n.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const _ye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},wye={maxWidth:1200,margin:"0 auto"},jye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Sye(){return n.jsx("div",{style:_ye,children:n.jsxs("div",{style:wye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feature Flags Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:jye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[n.jsx("span",{children:"Beta: New Rankings"}),n.jsx("label",{children:n.jsx("input",{type:"checkbox",defaultChecked:!0})}),n.jsx("span",{children:"Widgets v2"}),n.jsx("label",{children:n.jsx("input",{type:"checkbox"})})]})]})})]})})}const Nye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},kye={maxWidth:1200,margin:"0 auto"},Tye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Cye(){return n.jsx("div",{style:Nye,children:n.jsxs("div",{style:kye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Table Performance Lab Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Tye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),n.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const Eye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Aye={maxWidth:1200,margin:"0 auto"},Iye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Rye(){return n.jsx("div",{style:Eye,children:n.jsxs("div",{style:Aye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Iye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),n.jsx("div",{style:{height:180,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const Pye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Lye={maxWidth:1200,margin:"0 auto"},Dye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Mye(){return n.jsx("div",{style:Pye,children:n.jsxs("div",{style:Lye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Accessibility Pass Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Dye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),n.jsxs("ul",{style:{marginTop:8},children:[n.jsx("li",{children:"Focus ring visible"}),n.jsx("li",{children:"Skip links"}),n.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const Pp=3,QE="sfdatahub.tools.sets.v1",QN=[{id:"set-main-dh",name:"Main DH",classLabel:"Demon Hunter",serverLabel:"DE-55"},{id:"set-twink-mage",name:"Twink Mage",classLabel:"Mage",serverLabel:"US-12"}],kc=[{id:"gemSim",labelKey:"tools.labels.gemSim",defaultLabel:"Gem Simulator",descriptionKey:"tools.descriptions.gemSim",defaultDescription:"Placeholder fuer kuenftige Gem-Berechnungen."},{id:"dungeonPause",labelKey:"tools.labels.dungeonPause",defaultLabel:"Dungeon Pause",descriptionKey:"tools.descriptions.dungeonPause",defaultDescription:"Dummy-Ansicht fuer Dungeon-Pausen-Tools."},{id:"xpDungeon",labelKey:"tools.labels.xpDungeon",defaultLabel:"XP Dungeon",descriptionKey:"tools.descriptions.xpDungeon",defaultDescription:"Slide fuer XP-Lauf-Planung als Platzhalter."}],XN=300*1e3;async function Fye(t,e){const s=fs(fd(Mt,"user_tools_state"),t);console.log("[ToolsSync] userId param:",t,"doc path:",s.path);const r={version:1,updatedAt:Ni(),sets:e.sets,activeSetId:e.activeSetId,activeToolId:e.activeToolId};await lh(s,r,{merge:!1})}const Bye=()=>{if(typeof window=="undefined")return null;try{const t=window.localStorage.getItem(QE);if(!t)return null;const e=JSON.parse(t);return!e||e.version!==1||e.type!=="toolSet"||!Array.isArray(e.sets)?null:e}catch(t){return console.warn("Failed to parse persisted tools state",t),null}};function $ye(){const{t}=bk(),{user:e,status:s,loginWithDiscord:r}=Rl(),i=s==="authenticated"&&!!e,a=R.useMemo(()=>Bye(),[]),l=R.useMemo(()=>{var Se;return(Se=a==null?void 0:a.sets)!=null&&Se.length?a.sets.slice(0,Pp):QN},[a]),d=R.useMemo(()=>{var Ke,Oe,Tt,Zt;const Se=a==null?void 0:a.activeSetId;return Se&&l.some(Ut=>Ut.id===Se)?Se:(Zt=(Tt=(Ke=l[0])==null?void 0:Ke.id)!=null?Tt:(Oe=QN[0])==null?void 0:Oe.id)!=null?Zt:"set-main-dh"},[a,l]),u=R.useMemo(()=>{var Ke,Oe;const Se=a==null?void 0:a.activeToolId;return Se&&kc.some(Tt=>Tt.id===Se)?Se:(Oe=(Ke=kc[0])==null?void 0:Ke.id)!=null?Oe:"gemSim"},[a]),[h,p]=R.useState(l),[g,v]=R.useState(d),[b,S]=R.useState(u),[E,I]=R.useState(null),[F,D]=R.useState(""),[A,y]=R.useState(""),[j,M]=R.useState(!1),[k,w]=R.useState(null),[C,L]=R.useState(null),[P,O]=R.useState(0),[$,W]=R.useState(!1),[H,q]=R.useState(null),Q=R.useRef(null),G=R.useRef(!0);R.useEffect(()=>{if(typeof window!="undefined")try{const Se={version:1,type:"toolSet",sets:h,activeSetId:g!=null?g:null,activeToolId:b};window.localStorage.setItem(QE,JSON.stringify(Se))}catch(Se){console.warn("Failed to persist tools state",Se)}},[h,g,b]),R.useEffect(()=>{if(!i){M(!1),G.current=!0;return}if(G.current){G.current=!1;return}M(!0)},[i,h,g,b]),R.useEffect(()=>{if(C===null){O(0);return}(()=>{const Oe=C-Date.now(),Tt=Math.max(0,Math.ceil(Oe/1e3));O(Tt),Tt<=0&&L(null)})();const Ke=setInterval(()=>{const Oe=C-Date.now(),Tt=Math.max(0,Math.ceil(Oe/1e3));O(Tt),Tt<=0&&L(null)},1e3);return()=>clearInterval(Ke)},[C]);const J=R.useMemo(()=>{var Se;return(Se=h.find(Ke=>Ke.id===g))!=null?Se:h[0]},[g,h]),ne=R.useMemo(()=>{var Se;return(Se=kc.find(Ke=>Ke.id===b))!=null?Se:kc[0]},[b]),z=h.length,ee=z>=Pp,ce=()=>{if(ee)return;const Se=z+1,Ke=t("tools.sets.defaultName","New Set"),Oe={id:`set-${Date.now()}`,name:`${Ke} ${Se}`,classLabel:"Class TBD",serverLabel:"Server TBD"};p(Tt=>[...Tt,Oe]),v(Oe.id)},te=()=>{r()},fe=()=>{if(!J){console.warn("No active set to export.");return}const Se={version:1,type:"toolSet",set:J},Ke=new Blob([JSON.stringify(Se,null,2)],{type:"application/json"}),Oe=URL.createObjectURL(Ke),Tt=document.createElement("a"),Zt=J.name.toLowerCase().replace(/\s+/g,"-");Tt.href=Oe,Tt.download=`sfdatahub-set-${Zt}.json`,Tt.click(),URL.revokeObjectURL(Oe)},Ce=()=>{var Se;(Se=Q.current)==null||Se.click()},ge=Se=>{var Ut,$t;if(h.length<=1){alert(t("tools.sets.deleteLastForbidden"));return}const Ke=t("tools.sets.deleteConfirmTitle"),Oe=t("tools.sets.deleteConfirmText");if(!window.confirm(`${Ke}

${Oe}`))return;const Tt=h.filter(In=>In.id!==Se),Zt=Se===g?($t=(Ut=Tt[0])==null?void 0:Ut.id)!=null?$t:null:g;p(Tt),Zt&&v(Zt)},Te=Se=>{const Ke=h.find(Oe=>Oe.id===Se);Ke&&(I(Se),D(Ke.name),y(""))},ke=()=>{I(null),D(""),y("")},ue=()=>{if(!E)return;const Se=F.trim();if(!Se){y(t("tools.sets.renameErrorEmpty"));return}p(Ke=>Ke.map(Oe=>Oe.id===E?{...Oe,name:Se}:Oe)),I(null),D(""),y("")},Le=async Se=>{var Oe,Tt;const Ke=(Tt=(Oe=Se.target)==null?void 0:Oe.files)==null?void 0:Tt[0];if(Ke)try{if(h.length>=Pp){alert(t("tools.sets.importErrorMaxReached"));return}const Zt=await Ke.text(),Ut=JSON.parse(Zt);if((Ut==null?void 0:Ut.version)!==1||(Ut==null?void 0:Ut.type)!=="toolSet"||typeof(Ut==null?void 0:Ut.set)!="object")throw new Error("invalid payload");const{set:$t}=Ut;if(typeof($t==null?void 0:$t.name)!="string"||typeof($t==null?void 0:$t.classLabel)!="string"||typeof($t==null?void 0:$t.serverLabel)!="string")throw new Error("invalid set");const In={...$t,id:`imported-${Date.now()}`,name:$t.name,classLabel:$t.classLabel,serverLabel:$t.serverLabel};p(Ur=>[...Ur,In]),v(In.id)}catch(Zt){console.error("Failed to import set",Zt),alert(t("tools.sets.importErrorInvalid"))}finally{Se.target.value=""}},Ae=`${z}/${Pp}`,et=t(ne.labelKey,ne.defaultLabel),pt=t(ne.descriptionKey,ne.defaultDescription),Jt=Date.now(),Ts=C!==null&&C>Jt,Cs=!i||Ts||!j||$,bn=Math.floor(P/60),Os=P%60,Es=`${String(bn).padStart(2,"0")}:${String(Os).padStart(2,"0")}`,As=$?t("tools.sync.saving"):Ts?t("tools.sync.cooldownLabel",{time:Es}):t("tools.sync.buttonSave");let qs=t("tools.sync.statusNever"),Is=null;j?qs=t("tools.sync.statusUnsynced"):k?(qs=t("tools.sync.statusSynced"),Is=`${t("tools.sync.lastSyncLabel")}: ${k.toLocaleTimeString()}`):Is=t("tools.sync.noChanges");const sn=["rounded-xl border px-4 py-2 text-sm font-semibold uppercase tracking-wide transition focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Cs?"cursor-not-allowed border-slate-700/70 bg-slate-800/70 text-slate-500":"border-emerald-400/60 bg-emerald-500/10 text-emerald-50 hover:border-emerald-300 hover:bg-emerald-500/20"].join(" "),rs=async()=>{if(!i)return;const Se=e==null?void 0:e.id;if(!(!Se||$||C!==null&&C>Date.now())&&j){W(!0),q(null);try{await Fye(Se,{sets:h,activeSetId:g,activeToolId:b});const Oe=Date.now(),Tt=Oe+XN;M(!1),w(new Date(Oe)),L(Tt),O(Math.ceil(XN/1e3))}catch(Oe){console.error("Failed to sync tools state",Oe),q(t("tools.sync.error"))}finally{W(!1)}}};return n.jsx(wt,{title:"Tools",subtitle:"Sets & Dummy-Tools",centerFramed:!1,children:n.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[n.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4 md:p-5",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Sets"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Waehle dein aktives Char-Set (max. 3 Slots)"})]}),n.jsx("span",{className:"text-xs text-slate-400",children:Ae})]}),n.jsxs("div",{className:"flex items-stretch gap-3 overflow-x-auto pb-1",children:[h.map(Se=>{const Ke=Se.id===g;return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>v(Se.id),className:["flex min-w-[180px] flex-col gap-1 rounded-2xl border px-4 py-3 text-left transition duration-150 ease-out focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Ke?"border-emerald-400/80 bg-emerald-500/10 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.6)]":"border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:bg-slate-800/80"].join(" "),children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-slate-50",children:Se.name}),n.jsx("button",{type:"button",onClick:Oe=>{Oe.stopPropagation(),Te(Se.id)},"aria-label":t("tools.sets.rename"),className:"rounded-full border border-transparent p-1 text-slate-300 transition hover:border-slate-500 hover:text-white",children:n.jsx(kP,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"text-xs text-emerald-200/90",children:Se.classLabel}),n.jsx("div",{className:"text-xs text-slate-400",children:Se.serverLabel}),Ke&&n.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-300",children:"Aktiv"})]}),h.length>1&&n.jsx("button",{type:"button",onClick:Oe=>{Oe.stopPropagation(),ge(Se.id)},className:"absolute right-2 top-2 rounded-full border border-slate-600/60 bg-slate-900/80 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-widest text-slate-200 transition hover:border-slate-400 hover:text-white",children:t("tools.sets.delete")})]},Se.id)}),n.jsxs("button",{type:"button",onClick:ce,disabled:ee,className:["flex h-full min-w-[140px] flex-col items-center justify-center gap-2 rounded-2xl border border-dashed px-4 py-3 text-sm font-semibold transition",ee?"cursor-not-allowed border-slate-700/70 bg-slate-800/40 text-slate-500":"border-emerald-400/60 bg-emerald-500/5 text-emerald-200 hover:border-emerald-400 hover:bg-emerald-500/10"].join(" "),children:[n.jsx("span",{className:"text-lg",children:"+"}),n.jsx("span",{children:h.length>=3?"Max erreicht":"Neues Set"})]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("button",{type:"button",onClick:fe,className:"rounded-xl border border-slate-600/70 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400/80 hover:bg-slate-800/60",children:t("tools.sets.exportActive")}),n.jsx("button",{type:"button",onClick:Ce,className:"rounded-xl border border-emerald-400/50 bg-emerald-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-200 transition hover:border-emerald-300 hover:bg-emerald-500/20",children:t("tools.sets.import")})]}),n.jsx("input",{ref:Q,type:"file",accept:"application/json",className:"hidden",onChange:Le})]}),n.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:[n.jsx("div",{className:"mb-3 flex items-center justify-between gap-3",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Tools"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Dummy-Tools, die das aktive Set verwenden"})]})}),n.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-1",children:kc.map(Se=>{const Ke=Se.id===b,Oe=t(Se.labelKey,Se.defaultLabel);return n.jsxs("button",{type:"button",onClick:()=>S(Se.id),className:["flex flex-shrink-0 items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition duration-150 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Ke?"border-emerald-400/80 bg-emerald-500/10 text-emerald-100 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/70 text-slate-200 hover:border-emerald-400/60 hover:text-emerald-100"].join(" "),children:[n.jsx("span",{className:"text-base","aria-hidden":!0,children:"*"}),n.jsx("span",{children:Oe})]},Se.id)})})]}),n.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:i?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.2fr_1fr] md:items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:t("tools.banner.accountComingSoon")}),n.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-50",children:t("tools.banner.accountTitle")})]}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(Se=>n.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/5 p-3 text-sm text-emerald-50 shadow-[0_12px_45px_-30px_rgba(16,185,129,0.8)]",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200/90",children:t("tools.banner.accountComingSoon")}),n.jsx("div",{className:"mt-1 leading-snug text-emerald-50/90",children:Se})]},Se))})]}),n.jsx("div",{className:"mt-4 rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[n.jsx("button",{type:"button",disabled:Cs,onClick:rs,className:sn,children:As}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:qs}),Is&&n.jsx("p",{className:"text-sm text-slate-200",children:Is}),H&&n.jsx("p",{className:"text-sm text-rose-400",children:H})]})]})})]}):n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:t("tools.banner.guestTitle")}),n.jsx("p",{className:"text-sm text-slate-400",children:t("tools.banner.guestDescription")}),n.jsx("ul",{className:"text-sm text-slate-300",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(Se=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-400","aria-hidden":!0}),n.jsx("span",{children:Se})]},Se))})]}),n.jsx("div",{className:"flex gap-3 md:flex-col md:items-end",children:n.jsx("button",{type:"button",onClick:te,className:"rounded-xl border border-emerald-400/60 bg-emerald-500/10 px-4 py-2 text-sm font-semibold text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",children:t("tools.banner.guestLoginCta")})})]})}),n.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-5 md:p-6",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Aktives Tool"}),n.jsx("h3",{className:"text-xl font-semibold text-slate-50",children:et}),n.jsxs("p",{className:"text-sm text-slate-400",children:["Aktives Set: ",(J==null?void 0:J.name)||"kein Set"]})]}),n.jsx("div",{className:"flex gap-2",children:kc.map(Se=>n.jsx("div",{className:["h-2 w-8 rounded-full transition",b===Se.id?"bg-emerald-400":"bg-slate-700"].join(" "),"aria-hidden":!0},Se.id))})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-[2fr_1fr]",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[n.jsx("div",{className:"text-sm text-slate-300",children:pt}),n.jsxs("div",{className:"mt-4 rounded-xl border border-dashed border-slate-700/70 bg-slate-900/60 p-4 text-center text-sm text-slate-400",children:["Placeholder fuer kuenftige Tool-Komponente",n.jsx("br",{}),"(z. B. ",et,")"]})]}),n.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Set-Details"}),n.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-100",children:J==null?void 0:J.name}),n.jsx("div",{className:"text-sm text-emerald-200/90",children:J==null?void 0:J.classLabel}),n.jsx("div",{className:"text-xs text-slate-400",children:J==null?void 0:J.serverLabel})]}),n.jsxs("div",{className:"rounded-xl border border-dashed border-emerald-400/40 bg-emerald-500/5 p-3 text-xs text-emerald-100",children:["Lokaler State only - keine Firestore-Anbindung.",n.jsx("br",{}),"Slides wechseln, wenn du oben ein Tool auswaehlst."]})]})]})]}),E&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:ke}),n.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-2xl border border-slate-700/80 bg-slate-900/95 p-6 shadow-2xl",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:t("tools.sets.renameTitle")}),n.jsx("label",{className:"mt-4 block text-xs uppercase tracking-[0.3em] text-slate-400",children:t("tools.sets.renameLabel")}),n.jsx("input",{value:F,onChange:Se=>D(Se.target.value),autoFocus:!0,className:"mt-2 w-full rounded-xl border border-slate-700/70 bg-slate-900/60 px-4 py-2 text-sm text-slate-50 outline-none transition focus:border-emerald-400",placeholder:t("tools.sets.renamePlaceholder")}),A&&n.jsx("p",{className:"mt-2 text-xs text-rose-400",children:A}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:ke,className:"rounded-xl border border-slate-600/80 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400 hover:bg-slate-800/60",children:t("tools.sets.renameCancel")}),n.jsx("button",{type:"button",onClick:ue,className:"rounded-xl border border-emerald-400/60 bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/80",children:t("tools.sets.renameSave")})]})]})]})]})})}const Oye="_backdrop_19xh2_1",Vye="_panel_19xh2_19",Uye="_header_19xh2_43",zye="_tabs_19xh2_63",Hye="_tabBtn_19xh2_75",Gye="_tabActive_19xh2_97",Wye="_closeBtn_19xh2_101",qye="_content_19xh2_123",Si={backdrop:Oye,panel:Vye,header:Uye,tabs:zye,tabBtn:Hye,tabActive:Gye,closeBtn:Wye,content:qye},tf=t=>String(t!=null?t:"").trim(),eo=t=>tf(t).toUpperCase(),Qt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),sf=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),YN=t=>{const e=sf(t);if(!e)return[];const s=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(s))},JN=t=>{const e=new Set;for(const s of t)for(let r=1;r<=s.length;r++)e.add(s.slice(0,r));return Array.from(e)},hy=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},vt={PLAYERS:{IDENTIFIER:Qt("Identifier"),PID:Qt("ID"),GUILD_IDENTIFIER:Qt("Guild Identifier"),SERVER:Qt("Server"),NAME:Qt("Name"),TIMESTAMP:Qt("Timestamp"),LEVEL:Qt("Level"),CLASS:Qt("Class"),GUILD:Qt("Guild")},GUILDS:{GUILD_IDENTIFIER:Qt("Guild Identifier"),SERVER:Qt("Server"),NAME:Qt("Name"),MEMBER_COUNT:Qt("Guild Member Count"),TIMESTAMP:Qt("Timestamp"),HOF:Qt("Hall of Fame Rank"),HOF_ALT:Qt("HoF"),RANK:Qt("Rank"),GUILD_RANK:Qt("Guild Rank")}},Kye=new Set([Qt("Strength"),Qt("Dexterity"),Qt("Intelligence"),Qt("Constitution"),Qt("Luck"),Qt("Attribute")]),Qye=["equipment"],Xye=t=>Kye.has(t)||Qye.some(e=>t.includes(e)),Nt=(t,e)=>{for(const s of Object.keys(t))if(Qt(s)===e)return t[s]},Yye=(t,e)=>e.map(s=>Nt(t,s)).find(s=>s!=null&&String(s)!=="");function Of(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const s=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(s){const i=Number(s[1]),a=Number(s[2])-1,l=Number(s[3]),d=Number(s[4]),u=Number(s[5]),h=s[6]?Number(s[6]):0,p=new Date(l,a,i,d,u,h);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function ZN(t){const e=new Date(t*1e3),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=s.getUTCDay()||7;s.setUTCDate(s.getUTCDate()+4-r);const i=new Date(Date.UTC(s.getUTCFullYear(),0,1)),a=Math.ceil(((+s-+i)/864e5+1)/7),l=s.getUTCFullYear(),d=a.toString().padStart(2,"0");return`${l}-W${d}`}function ek(t){const e=new Date(t*1e3),s=new Date(e),r=(s.getDay()+6)%7;s.setHours(0,0,0,0),s.setDate(s.getDate()-r);const i=Math.floor(s.getTime()/1e3),a=i+7*86400-1;return{start:i,end:a}}function tk(t){const e=new Date(t*1e3),s=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${s}-${r}`}function sk(t){const e=new Date(t*1e3),s=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(s.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function Jye(t){const e=[",",";","	","|"];let s=",",r=-1;for(const i of e){const a=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(s=i,r=a)}return s}function Zye(t){var u;const s=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!s.length)return{headers:[],rows:[]};const r=Jye((u=s[0])!=null?u:""),i=h=>{const p=[];let g="",v=!1;for(let b=0;b<h.length;b++){const S=h[b];S==='"'?v&&h[b+1]==='"'?(g+='"',b++):v=!v:S===r&&!v?(p.push(g),g=""):g+=S}return p.push(g),p},l=(s[0]?i(s[0]).map(tf):[]).map((h,p)=>h||`col${p}`),d=[];for(let h=1;h<s.length;h++){if(!s[h])continue;const p=i(s[h]);if(p.every(v=>tf(v)===""))continue;const g={};for(let v=0;v<l.length;v++)g[l[v]]=p[v]!=null?tf(p[v]):"";d.push(g)}return{headers:l,rows:d}}const nk=120,rk=40,ik=120;async function Tc(t,e,s,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:s});for(let i=0;i<t.length;i+=e){const a=wF(Mt),l=t.slice(i,i+e);for(const d of l)d(a);r==null||r({phase:"write",current:Math.min(i+l.length,t.length),total:t.length,pass:s}),await a.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:s})}function Lp(t,e){const s={};for(const r of e){const i=Qt(r);if(Xye(i)){let a=null,l;for(const d of t){const u=d.row[r];if(u==null||u==="")continue;const h=Number(String(u).replace(/[^0-9.-]/g,""));Number.isNaN(h)||(a==null||h>a)&&(a=h,l=u)}s[r]=l!=null?l:""}else{let a="";for(let l=t.length-1;l>=0;l--){const d=t[l].row[r];if(d!=null&&String(d)!==""){a=d;break}}s[r]=a}}return s}async function ak(t){var i;const e=await br(t);if(!e.exists())return 0;const s=e.data();if(((i=s==null?void 0:s.values)==null?void 0:i.Timestamp)!=null){const a=Of(s.values.Timestamp);if(a!=null)return a}if((s==null?void 0:s.timestampRaw)!=null){const a=Of(s.timestampRaw);if(a!=null)return a}if(typeof(s==null?void 0:s.ts)=="number")return s.ts;const r=s==null?void 0:s.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const a=Date.parse(r);return Number.isFinite(a)?Math.floor(a/1e3):0}return 0}async function ok(t,e){var p,g,v,b,S;const s=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],a={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let l=[];if(e.rows&&Array.isArray(e.rows))l=e.rows;else if(e.raw&&typeof e.raw=="string")l=Zye(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const E of l)Object.keys(E).forEach(I=>d.add(I));const u=Array.from(d);if(e.kind==="players"){const E=[],I=[],F=[],D=new Map;for(const A of l){const y=(p=Nt(A,vt.PLAYERS.PID))!=null?p:Nt(A,vt.PLAYERS.IDENTIFIER),j=String(y!=null?y:"").trim();if(!j){a.skippedMissingIdentifier++;continue}const M=Of(Nt(A,vt.PLAYERS.TIMESTAMP));if(M==null){a.skippedBadTs++;continue}const k=(()=>{const w=Nt(A,vt.PLAYERS.SERVER);return w&&String(w).trim()!==""?eo(w):void 0})();if(!k){a.skippedMissingServer++;continue}E.push(w=>{const C=fs(Mt,`players/${j}/scans/${M}`);w.set(C,{playerId:j,server:k,timestamp:M,timestampRaw:Nt(A,vt.PLAYERS.TIMESTAMP),name:Nt(A,vt.PLAYERS.NAME)||null,values:A,createdAt:Ni()},{merge:!0})}),a.writtenScanPlayers++,D.has(j)||D.set(j,[]),D.get(j).push({row:A,ts:M})}for(const[A,y]of D){y.sort((G,J)=>G.ts-J.ts);const j=y[y.length-1],M=eo(Nt(j.row,vt.PLAYERS.SERVER)||""),k=Nt(j.row,vt.PLAYERS.NAME)||null,w=Nt(j.row,vt.PLAYERS.LEVEL),C=Nt(j.row,vt.PLAYERS.CLASS),L=Nt(j.row,vt.PLAYERS.GUILD),P=(v=(g=Nt(j.row,vt.PLAYERS.NAME))!=null?g:k)!=null?v:"",O=YN(P),$=JN(O),W=fs(Mt,`players/${A}/latest/latest`),H=await ak(W);j.ts>H&&(I.push(G=>{G.set(W,{playerId:A,server:M,timestamp:j.ts,timestampRaw:Nt(j.row,vt.PLAYERS.TIMESTAMP),name:k,values:j.row,updatedAt:Ni(),nameFold:sf(P),nameTokens:O,nameNgrams:$,level:hy(w),className:C!=null&&String(C).trim()!==""?String(C):null,guildName:L!=null&&String(L).trim()!==""?String(L):null,guildNameFold:L?sf(L):null},{merge:!0})}),a.writtenLatestPlayers++);const q=new Map,Q=new Map;for(const G of y){const J=ZN(G.ts),ne=tk(G.ts);q.has(J)||q.set(J,[]),Q.has(ne)||Q.set(ne,[]),q.get(J).push(G),Q.get(ne).push(G)}for(const[G,J]of q){J.sort((ce,te)=>ce.ts-te.ts);const ne=Lp(J,u),z=ek(J[J.length-1].ts),ee=J[J.length-1];F.push(ce=>{const te=fs(Mt,`players/${A}/history_weekly/${G}`);ce.set(te,{playerId:A,weekId:G,periodStartSec:z.start,periodEndSec:z.end,lastTs:ee.ts,lastTimestampRaw:Nt(ee.row,vt.PLAYERS.TIMESTAMP),server:eo(Nt(ee.row,vt.PLAYERS.SERVER)||""),name:Nt(ee.row,vt.PLAYERS.NAME)||null,values:ne,updatedAt:Ni()},{merge:!0})}),a.writtenWeeklyPlayers++}for(const[G,J]of Q){J.sort((ce,te)=>ce.ts-te.ts);const ne=Lp(J,u),z=sk(J[J.length-1].ts),ee=J[J.length-1];F.push(ce=>{const te=fs(Mt,`players/${A}/history_monthly/${G}`);ce.set(te,{playerId:A,monthId:G,periodStartSec:z.start,periodEndSec:z.end,lastTs:ee.ts,lastTimestampRaw:Nt(ee.row,vt.PLAYERS.TIMESTAMP),server:eo(Nt(ee.row,vt.PLAYERS.SERVER)||""),name:Nt(ee.row,vt.PLAYERS.NAME)||null,values:ne,updatedAt:Ni()},{merge:!0})}),a.writtenMonthlyPlayers++}}await Tc(E,nk,"scans",e.onProgress),await Tc(I,rk,"latest",e.onProgress),await Tc(F,ik,"history",e.onProgress)}if(e.kind==="guilds"){const E=[],I=[],F=[],D=new Map;for(const A of l){const y=String((b=Nt(A,vt.GUILDS.GUILD_IDENTIFIER))!=null?b:"").trim();if(!y){a.skippedMissingGuildIdentifier++;continue}const j=Of(Nt(A,vt.GUILDS.TIMESTAMP));if(j==null){a.skippedBadTsGuild++;continue}const M=(()=>{const k=Nt(A,vt.GUILDS.SERVER);return k&&String(k).trim()!==""?eo(k):void 0})();if(!M){a.skippedMissingServer++;continue}E.push(k=>{const w=fs(Mt,`guilds/${y}/scans/${j}`);k.set(w,{guildIdentifier:y,server:M,timestamp:j,timestampRaw:Nt(A,vt.GUILDS.TIMESTAMP),name:Nt(A,vt.GUILDS.NAME)||null,values:A,createdAt:Ni()},{merge:!0})}),a.writtenScanGuilds++,D.has(y)||D.set(y,[]),D.get(y).push({row:A,ts:j})}for(const[A,y]of D){y.sort((H,q)=>H.ts-q.ts);const j=y[y.length-1],M=(S=Nt(j.row,vt.GUILDS.NAME))!=null?S:"",k=YN(M),w=JN(k),C=hy(Nt(j.row,vt.GUILDS.MEMBER_COUNT)),L=hy(Yye(j.row,[vt.GUILDS.HOF,vt.GUILDS.HOF_ALT,vt.GUILDS.RANK,vt.GUILDS.GUILD_RANK])),P=fs(Mt,`guilds/${A}/latest/latest`),O=await ak(P);j.ts>O&&(I.push(H=>{H.set(P,{guildIdentifier:A,server:eo(Nt(j.row,vt.GUILDS.SERVER)||""),timestamp:j.ts,timestampRaw:Nt(j.row,vt.GUILDS.TIMESTAMP),name:Nt(j.row,vt.GUILDS.NAME)||null,values:j.row,updatedAt:Ni(),nameFold:sf(M),nameTokens:k,nameNgrams:w,memberCount:C,hofRank:L},{merge:!0})}),a.writtenLatestGuilds++);const $=new Map,W=new Map;for(const H of y){const q=ZN(H.ts),Q=tk(H.ts);$.has(q)||$.set(q,[]),W.has(Q)||W.set(Q,[]),$.get(q).push(H),W.get(Q).push(H)}for(const[H,q]of $){q.sort((ne,z)=>ne.ts-z.ts);const Q=Lp(q,u),G=ek(q[q.length-1].ts),J=q[q.length-1];F.push(ne=>{const z=fs(Mt,`guilds/${A}/history_weekly/${H}`);ne.set(z,{guildIdentifier:A,weekId:H,periodStartSec:G.start,periodEndSec:G.end,lastTs:J.ts,lastTimestampRaw:Nt(J.row,vt.GUILDS.TIMESTAMP),server:eo(Nt(J.row,vt.GUILDS.SERVER)||""),name:Nt(J.row,vt.GUILDS.NAME)||null,values:Q,updatedAt:Ni()},{merge:!0})}),a.writtenWeeklyGuilds++}for(const[H,q]of W){q.sort((ne,z)=>ne.ts-z.ts);const Q=Lp(q,u),G=sk(q[q.length-1].ts),J=q[q.length-1];F.push(ne=>{const z=fs(Mt,`guilds/${A}/history_monthly/${H}`);ne.set(z,{guildIdentifier:A,monthId:H,periodStartSec:G.start,periodEndSec:G.end,lastTs:J.ts,lastTimestampRaw:Nt(J.row,vt.GUILDS.TIMESTAMP),server:eo(Nt(J.row,vt.GUILDS.SERVER)||""),name:Nt(J.row,vt.GUILDS.NAME)||null,values:Q,updatedAt:Ni()},{merge:!0})}),a.writtenMonthlyGuilds++}}await Tc(E,nk,"scans",e.onProgress),await Tc(I,rk,"latest",e.onProgress),await Tc(F,ik,"history",e.onProgress)}const h=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:a,errors:r,warnings:i,durationMs:h-s}}const ct=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),e0e=t=>String(t!=null?t:"").trim(),v0=t=>e0e(t).toUpperCase(),y0=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Cn(t,e){for(const s of Object.keys(t))if(ct(s)===e)return t[s]}function ra(t,e){for(const s of e){const r=Cn(t,s);if(r!=null&&String(r)!=="")return r}}function il(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function Gc(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const s=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(s){const i=Number(s[1]),a=Number(s[2])-1,l=Number(s[3]),d=Number(s[4]),u=Number(s[5]),h=s[6]?Number(s[6]):0,p=new Date(l,a,i,d,u,h);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const Ms={GUILD_IDENTIFIER:ct("Guild Identifier"),SERVER:ct("Server"),NAME:ct("Name"),TIMESTAMP:ct("Timestamp"),LEVEL:ct("Level"),CLASS:ct("Class"),GUILD:ct("Guild"),GUILD_ROLE:[ct("Role"),ct("Guild Role")],TREASURY:[ct("Treasury"),ct("Fortress Treasury"),ct("Treasury Level"),ct("Festungsschatzkammer")],MINE:[ct("Mine"),ct("Gem Mine"),ct("Mine Level"),ct("Festungsmine")],BASE_MAIN:[ct("Base"),ct("Base Attribute"),ct("BaseMain"),ct("Basis Attribut")],CON_BASE:[ct("Con Base"),ct("Constitution Base"),ct("Base Constitution"),ct("Basis Konstitution"),ct("conbase")],ATTR_TOT:[ct("Attribute"),ct("Attr Total"),ct("Attribut"),ct("Attribut Gesamt")],CON_TOT:[ct("Constitution"),ct("Constitution Total"),ct("Konstitution"),ct("Konstitution Gesamt")],LAST_ACTIVE:[ct("Last Active"),ct("LastActivity"),ct("Letzte Aktivitt")],GUILD_JOINED:[ct("Guild Joined"),ct("Joined Guild"),ct("Gildenbeitritt")]},nf={GUILD_IDENTIFIER:ct("Guild Identifier"),SERVER:ct("Server"),NAME:ct("Name")};function lk(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function t0e(t){let e=5381;for(let s=0;s<t.length;s++)e=e*33^t.charCodeAt(s);return(e>>>0).toString(36)}function s0e(t){var s;const e=new Map;for(const r of t){const i=String((s=Cn(r,nf.GUILD_IDENTIFIER))!=null?s:"").trim(),a=Cn(r,nf.SERVER),l=Cn(r,nf.NAME);if(!i||!a||!l)continue;const d=`${v0(a)}__${y0(String(l))}`;e.set(d,i)}return e}function n0e(t){var A,y;const e=Cn(t,Ms.TIMESTAMP),s=Gc(e),r=ra(t,Ms.LAST_ACTIVE),i=Gc(r),a=ra(t,Ms.GUILD_JOINED),l=Gc(a),d=il(Cn(t,Ms.LEVEL)),u=(()=>{const j=Cn(t,Ms.CLASS);return j!=null&&String(j).trim()!==""?String(j):null})(),h=(()=>{const j=ra(t,Ms.GUILD_ROLE);return j!=null&&String(j).trim()!==""?String(j):null})(),p=il(ra(t,Ms.TREASURY)),g=il(ra(t,Ms.MINE)),v=il(ra(t,Ms.BASE_MAIN)),b=il(ra(t,Ms.CON_BASE)),S=il(ra(t,Ms.ATTR_TOT)),E=il(ra(t,Ms.CON_TOT)),I=v!=null&&b!=null?v+b:null,F=S!=null&&E!=null?S+E:null,D=(()=>{const j=Cn(t,Ms.NAME);return j!=null&&String(j).trim()!==""?String(j):null})();return{id:String((y=(A=t==null?void 0:t.ID)!=null?A:t==null?void 0:t.Identifier)!=null?y:""),name:D,class:u,role:h,level:d,treasury:p,mine:g,baseMain:v,conBase:b,sumBaseTotal:I,attrTotal:S,conTotal:E,totalStats:F,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:s!=null?s*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:a!=null?String(a):null,guildJoinedMs:l!=null?l*1e3:null}}function ia(t,e){const s=t.map(r=>r[e]).filter(r=>typeof r=="number");return s.length?s.reduce((r,i)=>r+i,0)/s.length:null}async function r0e(t){var l,d,u;const e=fs(Mt,`guilds/${t}/latest/latest`),s=await br(e);if(!s.exists())return{sec:null,raw:null};const r=s.data()||{},i=(u=(d=r.timestampRaw)!=null?d:(l=r.values)==null?void 0:l.Timestamp)!=null?u:null;let a=null;return typeof r.timestamp=="number"?a=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(a=Gc(i)),{sec:a,raw:i}}async function i0e(t){const e=fs(Mt,`guilds/${t}/snapshots/members_summary`),s=await br(e);if(!s.exists())return 0;const r=s.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=Gc(r.updatedAt);if(i!=null)return i}return 0}async function a0e(t,e){var a,l,d,u,h,p,g;const s=s0e(e||[]),r=new Set;for(const v of e||[]){const b=String((a=Cn(v,nf.GUILD_IDENTIFIER))!=null?a:"").trim();b&&r.add(b)}for(const v of t||[]){const b=Cn(v,Ms.SERVER);let S=String((l=Cn(v,Ms.GUILD_IDENTIFIER))!=null?l:"").trim();if(!S){const E=(d=Cn(v,Ms.GUILD))!=null?d:v.Guild;if(E&&b){const I=`${v0(b)}__${y0(String(E))}`,F=s.get(I);F&&(S=F)}}S&&r.add(S)}let i=0;for(const v of r){const{sec:b,raw:S}=await r0e(v);if(b==null)continue;const E=await i0e(v);if(b<=E)continue;const I=new Map;for(const H of t||[]){const q=Cn(H,Ms.SERVER);let Q=String((u=Cn(H,Ms.GUILD_IDENTIFIER))!=null?u:"").trim();if(!Q){const ne=(h=Cn(H,Ms.GUILD))!=null?h:H.Guild;if(ne&&q){const z=`${v0(q)}__${y0(String(ne))}`,ee=s.get(z);ee&&(Q=ee)}}if(Q!==v)continue;const G=Gc(Cn(H,Ms.TIMESTAMP));if(G==null||G!==b)continue;const J=String((g=(p=H==null?void 0:H.ID)!=null?p:H==null?void 0:H.Identifier)!=null?g:"").trim();J&&(I.has(J)||I.set(J,H))}const F=Array.from(I.values()),D=[];for(const H of F)D.push(n0e(H));D.sort((H,q)=>{var J,ne;const Q=lk(H.role),G=lk(q.role);return Q!==G?Q-G:((J=H.name)!=null?J:"").toLowerCase().localeCompare(((ne=q.name)!=null?ne:"").toLowerCase())});const A=ia(D,"level"),y=ia(D,"treasury"),j=ia(D,"mine"),M=ia(D,"baseMain"),k=ia(D,"conBase"),w=ia(D,"sumBaseTotal"),C=ia(D,"attrTotal"),L=ia(D,"conTotal"),P=ia(D,"totalStats"),O=JSON.stringify({gid:v,tsSec:b,members:D.map(H=>{var q,Q,G,J,ne,z,ee,ce,te,fe,Ce,ge,Te;return{id:H.id,name:(q=H.name)!=null?q:"",class:(Q=H.class)!=null?Q:"",role:(G=H.role)!=null?G:"",level:(J=H.level)!=null?J:null,treasury:(ne=H.treasury)!=null?ne:null,mine:(z=H.mine)!=null?z:null,baseMain:(ee=H.baseMain)!=null?ee:null,conBase:(ce=H.conBase)!=null?ce:null,sumBaseTotal:(te=H.sumBaseTotal)!=null?te:null,attrTotal:(fe=H.attrTotal)!=null?fe:null,conTotal:(Ce=H.conTotal)!=null?Ce:null,totalStats:(ge=H.totalStats)!=null?ge:null,guildJoinedMs:(Te=H.guildJoinedMs)!=null?Te:null}})}),$=t0e(O),W=fs(Mt,`guilds/${v}/snapshots/members_summary`);await lh(W,{guildId:v,count:D.length,updatedAt:S!=null?S:String(b),updatedAtMs:b*1e3,hash:$,avgLevel:A,avgTreasury:y,avgMine:j,avgBaseMain:M,avgConBase:k,avgSumBaseTotal:w,avgAttrTotal:C,avgConTotal:L,avgTotalStats:P,members:D,updatedAtServer:Ni()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function o0e(t){const e=new Date(t),s=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${s}-${r}`}async function l0e(t,e,s,r){var u,h,p;const i=fs(Mt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),a=await br(i);if(!a.exists())return await lh(i,s,{merge:!1}),{first:s,firstTsMs:(u=s.updatedAtMs)!=null?u:s.timestamp?s.timestamp*1e3:r};const l=a.data(),d=(h=l.updatedAtMs)!=null?h:l.timestamp?l.timestamp*1e3:r;return r<d?(await lh(i,s,{merge:!1}),{first:s,firstTsMs:(p=s.updatedAtMs)!=null?p:s.timestamp?s.timestamp*1e3:r}):{first:l,firstTsMs:d}}async function c0e(t,e,s){const r=fs(Mt,`guilds/${t}/history_monthly/${e}`);await lh(r,s,{merge:!0})}function d0e(t){var D,A,y,j,M,k,w,C,L,P,O,$,W;const{guildId:e,monthKey:s,server:r,first:i,firstTsMs:a,latest:l,latestTsMs:d}=t,u=a!=null?Math.floor((d-a)/864e5):null,h=u!=null&&u<=40,p={available:h};h||(p.reason=u==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const g={meta:{monthKey:s,label:new Date(`${s}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:a?new Date(a).toISOString():null,toISO:new Date(d).toISOString(),fromTs:a?Math.floor(a/1e3):null,toTs:Math.floor(d/1e3),daysSpan:u,guildId:e,server:r!=null?r:null},status:p};if(!h||!i)return g;const v=new Map;for(const H of i.members||[])H.playerId&&v.set(H.playerId,H);const b=[],S=[],E=[],I=[],F=[];for(const H of l.members||[]){if(!H.playerId)continue;const q=v.get(H.playerId)||null,Q=(D=H.sumBaseTotal)!=null?D:null,G=(A=q==null?void 0:q.sumBaseTotal)!=null?A:null,J=Q!=null&&G!=null?Q-G:0,ne=(y=H.totalStats)!=null?y:null,z=(j=q==null?void 0:q.totalStats)!=null?j:null,ee=ne!=null&&z!=null?ne-z:0;b.push({playerId:H.playerId,name:(M=H.name)!=null?M:null,class:(k=H.class)!=null?k:null,levelLatest:(w=H.level)!=null?w:null,baseLatest:Q,baseDelta:J}),S.push({playerId:H.playerId,name:(C=H.name)!=null?C:null,base:Q,stamDelta:null,shoDelta:null}),E.push({playerId:H.playerId,name:(L=H.name)!=null?L:null,stats:Q,delta:J}),I.push({playerId:H.playerId,name:(P=H.name)!=null?P:null,total:ne,delta:ee}),F.push({playerId:H.playerId,name:(O=H.name)!=null?O:null,class:($=H.class)!=null?$:null,stats:(W=H.baseMain)!=null?W:null,delta:(q==null?void 0:q.baseMain)!=null&&H.baseMain!=null?H.baseMain-q.baseMain:0})}return b.sort((H,q)=>{var Q,G;return((Q=q.baseDelta)!=null?Q:-1/0)-((G=H.baseDelta)!=null?G:-1/0)}),E.sort((H,q)=>{var Q,G;return((Q=q.stats)!=null?Q:-1/0)-((G=H.stats)!=null?G:-1/0)}),I.sort((H,q)=>{var Q,G;return((Q=q.total)!=null?Q:-1/0)-((G=H.total)!=null?G:-1/0)}),S.sort((H,q)=>{var Q,G;return((Q=q.base)!=null?Q:-1/0)-((G=H.base)!=null?G:-1/0)}),F.sort((H,q)=>{var Q,G;return((Q=q.stats)!=null?Q:-1/0)-((G=H.stats)!=null?G:-1/0)}),{...g,mostBaseGained:b.slice(0,50),sumBaseStats:S.slice(0,50),highestBaseStats:E.slice(0,50),highestTotalStats:I.slice(0,50),mainAndCon:F.slice(0,50)}}const my=t=>String(t!=null?t:"").trim(),Vn=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function u0e(t){const e=[",",";","	","|"];let s=",",r=-1;for(const i of e){const a=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(s=i,r=a)}return s}function ck(t){var u;const s=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!s.length)return{headers:[],rows:[],delimiter:","};const r=u0e((u=s[0])!=null?u:""),i=h=>{const p=[];let g="",v=!1;for(let b=0;b<h.length;b++){const S=h[b];S==='"'?v&&h[b+1]==='"'?(g+='"',b++):v=!v:S===r&&!v?(p.push(g),g=""):g+=S}return p.push(g),p},l=(s[0]?i(s[0]).map(my):[]).map((h,p)=>h||`col${p}`),d=[];for(let h=1;h<s.length;h++){if(!s[h])continue;const p=i(s[h]);if(p.every(v=>my(v)===""))continue;const g={};for(let v=0;v<l.length;v++)g[l[v]]=p[v]!=null?my(p[v]):"";d.push(g)}return{headers:l,rows:d,delimiter:r}}const Bs={PLAYERS:{IDENTIFIER:Vn("Identifier"),GUILD_IDENTIFIER:Vn("Guild Identifier"),TIMESTAMP:Vn("Timestamp"),NAME:Vn("Name"),SERVER:Vn("Server"),OWN:Vn("Own")},GUILDS:{GUILD_IDENTIFIER:Vn("Guild Identifier"),GUILD_MEMBER_COUNT:Vn("Guild Member Count"),NAME:Vn("Name"),TIMESTAMP:Vn("Timestamp")}},XE=(t,e)=>{const s=new Set(t.map(Vn));return e.every(r=>s.has(r))},Mr=(t,e)=>{for(const s of Object.keys(t))if(Vn(s)===e)return t[s]};function h0e(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function dk(t){const e=t.map(Vn),s=a=>e.includes(a);let r=0,i=0;return s(Bs.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),s(Bs.PLAYERS.IDENTIFIER)&&(r+=2),s(Bs.PLAYERS.TIMESTAMP)&&(r+=1),s(Bs.GUILDS.GUILD_IDENTIFIER)&&(i+=2),s(Bs.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),s(Bs.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||s(Bs.PLAYERS.IDENTIFIER)?"players":"guilds"}function uk(t,e){const s=h0e(t);if(s!=="unknown"){const i=dk(e);return i!=="unknown"&&i!==s?{kind:s,via:"filename",warn:`Per Dateiname als "${s}" klassifiziert, Header deuten auf "${i}".`}:{kind:s,via:"filename"}}const r=dk(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function YE(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const s=Date.parse(e);return Number.isFinite(s)?Math.floor(s/1e3):null}function m0e(t,e){var r;const s=[];if(!XE(e,[Bs.PLAYERS.GUILD_IDENTIFIER]))return s;for(const i of t){const a=Mr(i,Bs.PLAYERS.GUILD_IDENTIFIER);if(!a)continue;const l=Mr(i,Bs.PLAYERS.SERVER),d=l&&String(l).trim()!==""?String(l).trim().toUpperCase():void 0;s.push({guildIdentifier:String(a),id:Mr(i,Bs.PLAYERS.IDENTIFIER)||void 0,name:Mr(i,Bs.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(Mr(i,Bs.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=YE(Mr(i,Bs.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return s}function p0e(t,e){const s=[];if(!XE(e,[Bs.GUILDS.GUILD_IDENTIFIER,Bs.GUILDS.GUILD_MEMBER_COUNT]))return s;for(const r of t){const i=Mr(r,Bs.GUILDS.GUILD_IDENTIFIER),a=Number(Mr(r,Bs.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(a))continue;const l=YE(Mr(r,Bs.GUILDS.TIMESTAMP));s.push({guildIdentifier:String(i),name:Mr(r,Bs.GUILDS.NAME)||void 0,memberCount:a,tsSec:l!=null?l:void 0})}return s}function f0e(t,e){var I,F,D,A,y,j;const s=[],r=new Map;for(const M of t){const k=M.id||"",w=(I=M.server)==null?void 0:I.toUpperCase();if(k){const C=`${w!=null?w:"NO"}::${k}`;r.has(C)||r.set(C,{server:w,id:k,name:M.name||"",own:!!M.own})}}const i=r.size,a=t.length,l=Array.from(r.values()).filter(M=>M.own).length,d=new Map;for(const M of r.values())M.server&&d.set(M.server,((F=d.get(M.server))!=null?F:0)+1);const u=Array.from(d.entries()).map(([M,k])=>({server:M,players:k})).sort((M,k)=>k.players-M.players),h=u.length,p=new Map;for(const M of t)p.set(M.guildIdentifier,((D=p.get(M.guildIdentifier))!=null?D:0)+1);const g=new Set,v=new Map;for(const M of e)g.add(M.guildIdentifier),v.set(M.guildIdentifier,{name:M.name||"",declared:M.memberCount});for(const M of p.keys())g.add(M);let b=0;const S=[];for(const M of g){const k=(A=v.get(M))==null?void 0:A.declared,w=(y=p.get(M))!=null?y:0,C=k!=null&&w===k;C&&b++,S.push({id:M,name:((j=v.get(M))==null?void 0:j.name)||"",declaredCount:k!=null?k:0,playersCount:w,full:C})}[...v.values()].some(M=>Number.isFinite(M.declared))||s.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),S.sort((M,k)=>M.name?M.name.localeCompare(k.name):M.id.localeCompare(k.id));const E=Array.from(r.values()).sort((M,k)=>(M.server||"")===(k.server||"")?M.name.localeCompare(k.name):(M.server||"").localeCompare(k.server||""));return{totalPlayers:a,uniquePlayerIds:i,ownPlayers:l,servers:h,perServer:u,guildsRepresented:g.size,fullyScannedGuilds:b,notes:s,playersList:E,guildsList:S}}function g0e(){const[t,e]=R.useState([]),[s,r]=R.useState(null),[i,a]=R.useState(!1),[l,d]=R.useState(null),[u,h]=R.useState(!1),[p,g]=R.useState(null),[v,b]=R.useState([]),[S,E]=R.useState(null);R.useEffect(()=>{const k=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=k}},[]);const I=R.useCallback(async k=>{var w;a(!0),d(null),r(null),b([]),g(null);try{const C=Array.from(k).slice(0,2),L=[];let P=[],O=[];for(const $ of C){const W=$,H=await W.text(),q=ck(H),{kind:Q,warn:G}=uk(W.name,q.headers);L.push({name:W.name,size:W.size||H.length,rows:q.rows.length,delimiter:q.delimiter,text:H,kind:Q,warn:G}),Q==="players"?P=P.concat(m0e(q.rows,q.headers)):Q==="guilds"&&(O=O.concat(p0e(q.rows,q.headers)))}e(L),r(f0e(P,O))}catch(C){d(String((w=C==null?void 0:C.message)!=null?w:C))}finally{a(!1)}},[]),F=R.useCallback(async k=>{!k||k.length===0||await I(k)},[I]),D=R.useCallback(async k=>{k.preventDefault();const w=k.dataTransfer.files;!w||!w.length||await I(w)},[I]);async function A(){var k,w,C;if(t.length){h(!0),E({phase:"prepare",current:0,total:0}),g(null),b([]);try{let L=[],P=[];for(const H of t){const q=ck(H.text),{kind:Q}=uk(H.name,q.headers);Q==="players"&&(L=L.concat(q.rows)),Q==="guilds"&&(P=P.concat(q.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!L.length,hasGuildsCsv:!!P.length,playersRows:L.length,guildsRows:P.length}),!P.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!L.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const O=await ok(null,{kind:"guilds",rows:P,onProgress:H=>E(H)});console.info("[Import Report] guilds",O);const $=await ok(null,{kind:"players",rows:L,onProgress:H=>E(H)});console.info("[Import Report] players",$),await a0e(L,P);const W=new Set;for(const H of P){const q=Mr(H,Vn("Guild Identifier"));q&&W.add(String(q))}for(const H of L){const q=Mr(H,Vn("Guild Identifier"));q&&W.add(String(q))}for(const H of W){const q=fs(Mt,`guilds/${H}/snapshots/members_summary`),Q=await br(q);if(!Q.exists())continue;const G=Q.data(),J=Number((k=G.updatedAtMs)!=null?k:G.timestamp?G.timestamp*1e3:Date.now()),ne=o0e(J),{first:z,firstTsMs:ee}=await l0e(H,ne,G,J),ce=d0e({guildId:H,monthKey:ne,server:(w=G.server)!=null?w:null,first:z,firstTsMs:ee,latest:G,latestTsMs:J});await c0e(H,ne,ce)}E({phase:"done",current:1,total:1}),b([O,$]),g("Import abgeschlossen.")}catch(L){console.error("[UploadCenter] Import error:",L),g(`Fehler beim Import: ${(C=L==null?void 0:L.message)!=null?C:L}`)}finally{h(!1),setTimeout(()=>E(null),1200)}}}const y=R.useMemo(()=>t.map(k=>`${k.name} (${k.rows} rows, ${k.delimiter}, ${k.kind}${k.warn?" ":""})`),[t]),j=R.useMemo(()=>t.reduce((k,w)=>k+w.rows,0),[t]),M=S?Math.floor(100*S.current/Math.max(1,S.total||1)):0;return n.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[n.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[n.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),n.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[y.map((k,w)=>n.jsx("span",{className:"uc-chip",title:t[w].warn||"",children:k},w)),t.length>0&&n.jsxs("span",{className:"uc-chip",children:["Total: ",j," rows"]})]}),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[S&&n.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[n.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:n.jsx("div",{style:{width:`${M}%`,height:"100%",background:"#2E75F0"}})}),n.jsxs("span",{style:{color:"#D6E4F7"},children:[M,"%"]})]}),n.jsx("button",{onClick:A,disabled:!t.length||!s||u,className:"uc-btn",children:u?"Loading":"Load to DB"}),p&&n.jsx("span",{style:{color:p.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:p})]})]}),n.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[n.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),n.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:k=>F(k.target.files),disabled:i})]}),n.jsx("div",{onDragOver:k=>k.preventDefault(),onDrop:D,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),i&&n.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),l&&n.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[n.jsx("b",{children:"Fehler:"})," ",l]}),s&&n.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[n.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:n.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),n.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[n.jsx(vu,{label:"Eigene Charaktere (unique IDs)",value:s.ownPlayers}),n.jsx(vu,{label:"Spieler in Datei (eindeutige IDs)",value:s.uniquePlayerIds,hint:`Total (mit ID): ${s.totalPlayers}`}),n.jsx(vu,{label:"Vertretene Gilden (mit ID)",value:s.guildsRepresented}),n.jsx(vu,{label:"Vollstndig gescannte Gilden",value:s.fullyScannedGuilds}),n.jsx(vu,{label:"Verschiedene Server",value:s.servers})]}),n.jsxs("div",{style:{marginTop:12},children:[n.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),n.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{textAlign:"left"},children:"Server"}),n.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),n.jsx("tbody",{children:s.perServer.map(k=>n.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[n.jsx("td",{children:k.server}),n.jsx("td",{style:{textAlign:"right"},children:k.players})]},k.server))})]})]}),n.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[n.jsxs("details",{children:[n.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",s.playersList.length,")"]}),n.jsx("div",{style:{marginTop:8},children:n.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{textAlign:"left"},children:"Server"}),n.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),n.jsx("th",{style:{textAlign:"left"},children:"Name"}),n.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),n.jsx("tbody",{children:s.playersList.map((k,w)=>{var C,L;return n.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[n.jsx("td",{children:(C=k.server)!=null?C:""}),n.jsx("td",{children:k.id}),n.jsx("td",{children:k.name||""}),n.jsx("td",{children:k.own?"":""})]},`${(L=k.server)!=null?L:"NO"}-${k.id}-${w}`)})})]})})]}),n.jsxs("details",{open:!0,children:[n.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",s.guildsList.length,")"]}),n.jsx("div",{style:{marginTop:8},children:n.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),n.jsx("th",{style:{textAlign:"left"},children:"Name"}),n.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),n.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),n.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),n.jsx("tbody",{children:s.guildsList.map((k,w)=>n.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[n.jsx("td",{children:k.id}),n.jsx("td",{children:k.name||""}),n.jsx("td",{style:{textAlign:"right"},children:k.declaredCount||0}),n.jsx("td",{style:{textAlign:"right"},children:k.playersCount}),n.jsx("td",{style:{textAlign:"center"},children:k.full?"":""})]},`${k.id}-${w}`))})]})})]})]}),!!s.notes.length&&n.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",n.jsx("ul",{children:s.notes.map((k,w)=>n.jsx("li",{children:k},w))})]})]})]})}function vu({label:t,value:e,hint:s}){return n.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[n.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),n.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),s&&n.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:s})]})}function x0e(){return n.jsxs("div",{children:[n.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),n.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",n.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function v0e(){const{isOpen:t,close:e,activeTab:s,setTab:r,canUse:i}=i5();return!t||!i?null:n.jsx("div",{className:Si.backdrop,onClick:e,children:n.jsxs("div",{className:Si.panel,onClick:a=>a.stopPropagation(),children:[n.jsxs("div",{className:Si.header,children:[n.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),n.jsxs("div",{className:Si.tabs,children:[n.jsx("button",{type:"button",className:`${Si.tabBtn} ${s==="csv"?Si.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),n.jsx("button",{type:"button",className:`${Si.tabBtn} ${s==="json"?Si.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),n.jsx("button",{type:"button",className:Si.closeBtn,onClick:e,children:"Schlieen"})]}),n.jsx("div",{className:Si.content,children:s==="csv"?n.jsx(g0e,{}):n.jsx(x0e,{})})]})})}function y0e({route:t,featureId:e,fallback:s=null,children:r}){var p;const{resolveRule:i,canAccessFeature:a,canAccessRule:l}=T1(),d=(p=e!=null?e:t)!=null?p:"/",u=Z.useMemo(()=>i(d),[i,d]);return Z.useEffect(()=>{u||console.debug(`[FeatureGate] No rule found for target "${d}", allowing by default.`)},[u,d]),Z.useMemo(()=>!e&&!t?!0:u?l(u):a(d),[a,l,e,t,u,d])?n.jsx(n.Fragment,{children:r}):n.jsx(n.Fragment,{children:s})}const b0e=t=>()=>n.jsx("div",{style:{padding:16},children:n.jsx("h2",{style:{color:"var(--title)"},children:t})}),Bn=b0e("Diese Unterseite existiert in der neuen Struktur nicht mehr."),_t=(t,e,s,r=n.jsx(yu,{to:"/",replace:!0}))=>n.jsx(y0e,{featureId:t,route:e,fallback:r,children:s});c4.createRoot(document.getElementById("root")).render(n.jsx(Z.StrictMode,{children:n.jsx(jF,{children:n.jsx(OF,{children:n.jsxs(kF,{role:"admin",children:[n.jsx(yR,{children:n.jsx(QI,{children:n.jsxs(me,{element:n.jsx(BB,{}),children:[n.jsx(me,{path:"/",element:_t("main.home","/",n.jsx(PH,{}),n.jsx(yu,{to:"/login",replace:!0}))}),n.jsx(me,{path:"/login",element:n.jsx(XH,{})}),n.jsx(me,{path:"/dashboard",element:_t("main.dashboard","/dashboard",n.jsx(YH,{}))}),n.jsx(me,{path:"/dashboard/kpis",element:_t("main.dashboard","/dashboard",n.jsx(eG,{}))}),n.jsx(me,{path:"/dashboard/activity",element:_t("main.dashboard","/dashboard",n.jsx(tG,{}))}),n.jsx(me,{path:"/dashboard/progression",element:_t("main.dashboard","/dashboard",n.jsx(sG,{}))}),n.jsx(me,{path:"/discover",element:_t("main.discover","/discover",n.jsx(nG,{}))}),n.jsx(me,{path:"/toplists",element:_t("main.toplists","/toplists",n.jsx(LW,{}))}),n.jsx(me,{path:"/sfmagazine",element:n.jsx(lG,{})}),n.jsx(me,{path:"/sfmagazine/historybook",element:n.jsx(BG,{})}),n.jsx(me,{path:"/players",element:n.jsx(DW,{})}),n.jsx(me,{path:"/players/rankings",element:n.jsx(MW,{})}),n.jsx(me,{path:"/players/stats",element:n.jsx(FW,{})}),n.jsx(me,{path:"/players/profile",element:n.jsx(Gv,{})}),n.jsx(me,{path:"/players/profile/:playerId",element:n.jsx(Gv,{})}),n.jsx(me,{path:"/players/compare",element:n.jsx(wK,{})}),n.jsx(me,{path:"/player/:playerId",element:n.jsx(Gv,{})}),n.jsx(me,{path:"/guilds",element:n.jsx(AK,{})}),n.jsx(me,{path:"/guilds/rankings",element:n.jsx(IK,{})}),n.jsx(me,{path:"/guilds/stats",element:n.jsx(RK,{})}),n.jsx(me,{path:"/guilds/profile",element:n.jsx(Xv,{})}),n.jsx(me,{path:"/guilds/profile/:guildId",element:n.jsx(Xv,{})}),n.jsx(me,{path:"/guild/:guildId",element:n.jsx(Xv,{})}),n.jsx(me,{path:"/servers",element:n.jsx(yY,{})}),n.jsx(me,{path:"/servers/rankings",element:n.jsx(bY,{})}),n.jsx(me,{path:"/servers/stats",element:n.jsx(_Y,{})}),n.jsx(me,{path:"/servers/profile",element:n.jsx(Yv,{})}),n.jsx(me,{path:"/servers/profile/:serverId",element:n.jsx(Yv,{})}),n.jsx(me,{path:"/server/:serverId",element:n.jsx(Yv,{})}),n.jsx(me,{path:"/u/:profileId",element:n.jsx(AJ,{})}),n.jsx(me,{path:"/guidehub/*",element:_t("main.guidehub","/guidehub",n.jsx(hre,{}))}),n.jsx(me,{path:"/tools",element:_t("main.tools","/tools",n.jsx($ye,{}))}),n.jsx(me,{path:"/community",element:_t("main.community","/community",n.jsx(iae,{}))}),n.jsx(me,{path:"/community/scans",element:_t("main.community","/community",n.jsx(CE,{}))}),n.jsx(me,{path:"/community/predictions",element:_t("main.community","/community",n.jsx(EE,{}))}),n.jsx(me,{path:"/community/creators",element:_t("main.community","/community",n.jsx(TE,{}))}),n.jsx(me,{path:"/community/feedback",element:_t("main.community","/community",n.jsx(IE,{}))}),n.jsx(me,{path:"/community/news",element:_t("main.community","/community",n.jsx(AE,{}))}),n.jsx(me,{path:"/community/records",element:_t("main.community","/community",n.jsx(RE,{}))}),n.jsx(me,{path:"/scans",element:_t("main.scans","/scans",n.jsx(aae,{}))}),n.jsx(me,{path:"/scans/latest",element:_t("main.scans","/scans",n.jsx(oae,{}))}),n.jsx(me,{path:"/scans/archive",element:_t("main.scans","/scans",n.jsx(lae,{}))}),n.jsx(me,{path:"/guild-hub",element:_t("main.guildHub","/guild-hub",n.jsx(cae,{}))}),n.jsx(me,{path:"/guild-hub/planner",element:_t("main.guildHub","/guild-hub",n.jsx(Ioe,{}))}),n.jsx(me,{path:"/guild-hub/fusion-planner",element:_t("main.guildHub","/guild-hub",n.jsx(fhe,{}))}),n.jsx(me,{path:"/guild-hub/compare-guilds",element:_t("main.guildHub","/guild-hub",n.jsx(ghe,{}))}),n.jsx(me,{path:"/guild-hub/waitlist",element:_t("main.guildHub","/guild-hub",n.jsx(Dme,{}))}),n.jsx(me,{path:"/guild-hub/activity",element:_t("main.guildHub","/guild-hub",n.jsx(zme,{}))}),n.jsx(me,{path:"/guild-hub/imports",element:_t("main.guildHub","/guild-hub",n.jsx(Hme,{}))}),n.jsx(me,{path:"/guild-hub/announcements",element:_t("main.guildHub","/guild-hub",n.jsx(Gme,{}))}),n.jsx(me,{path:"/guild-hub/events",element:_t("main.guildHub","/guild-hub",n.jsx(Wme,{}))}),n.jsx(me,{path:"/guild-hub/roles",element:_t("main.guildHub","/guild-hub",n.jsx(qme,{}))}),n.jsx(me,{path:"/guild-hub/settings",element:_t("main.guildHub","/guild-hub",n.jsx(Kme,{}))}),n.jsx(me,{path:"/admin",element:_t("main.admin","/admin",n.jsx(Jme,{}))}),n.jsx(me,{path:"/admin/errors",element:_t("main.admin","/admin",n.jsx(spe,{}))}),n.jsx(me,{path:"/admin/scans-uploaded",element:_t("main.admin","/admin",n.jsx(rpe,{}))}),n.jsx(me,{path:"/admin/creators-api",element:_t("main.admin","/admin",n.jsx(ppe,{}))}),n.jsx(me,{path:"/admin/users",element:_t("main.admin","/admin",n.jsx(Cpe,{}))}),n.jsx(me,{path:"/settings",element:_t("main.settings","/settings",n.jsx(Lpe,{}))}),n.jsx(me,{path:"/settings/account",element:_t("main.settings","/settings",n.jsx(xfe,{}))}),n.jsxs(me,{path:"/playground",element:_t("main.playground","/playground",n.jsx(yfe,{})),children:[n.jsx(me,{index:!0,element:n.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),n.jsx(me,{path:"list-views",element:n.jsx(HN,{})}),n.jsx(me,{path:"rescan-widget",element:n.jsx(WN,{})}),n.jsx(me,{path:"upload-sim",element:n.jsx(qN,{})}),n.jsx(me,{path:"theme-maker",element:n.jsx(ON,{})}),n.jsx(me,{path:"theme-maker-pro",element:n.jsx(UN,{})}),n.jsx(me,{path:"am-rune-bonuses-demos",element:n.jsx(gge,{})}),n.jsx(me,{path:"templates/content-shell",element:n.jsx(cxe,{})}),n.jsx(me,{path:"templates/blank",element:n.jsx(uxe,{})}),n.jsx(me,{path:"templates/blank-alt",element:n.jsx(mxe,{})}),n.jsx(me,{path:"templates/blank-layout-2",element:n.jsx(xxe,{})}),n.jsx(me,{path:"templates/blank-layout-3",element:n.jsx(yxe,{})}),n.jsx(me,{path:"templates/blank-layout-4",element:n.jsx(bxe,{})}),n.jsx(me,{path:"portrait-maker",element:n.jsx(ixe,{})}),n.jsx(me,{path:"hud",element:n.jsx(xge,{})}),n.jsx(me,{path:"hud/game-buttons",element:n.jsx(Hge,{})}),n.jsx(me,{path:"core-ui/theme-maker",element:n.jsx(ON,{})}),n.jsx(me,{path:"core-ui/theme-maker-pro",element:n.jsx(UN,{})}),n.jsx(me,{path:"core-ui/list-views",element:n.jsx(HN,{})}),n.jsx(me,{path:"sync/rescan",element:n.jsx(WN,{})}),n.jsx(me,{path:"upload/sim",element:n.jsx(qN,{})}),n.jsx(me,{path:"import/har",element:n.jsx(Sxe,{})}),n.jsx(me,{path:"import/json-csv",element:n.jsx(Cxe,{})}),n.jsx(me,{path:"import/schema",element:n.jsx(Rxe,{})}),n.jsx(me,{path:"hubs/player-contained",element:n.jsx(Mxe,{})}),n.jsx(me,{path:"hubs/guilds",element:n.jsx(Oxe,{})}),n.jsx(me,{path:"hubs/servers",element:n.jsx(Hxe,{})}),n.jsx(me,{path:"rankings/views",element:n.jsx(Kxe,{})}),n.jsx(me,{path:"analytics/kpi",element:n.jsx(Jxe,{})}),n.jsx(me,{path:"analytics/progression",element:n.jsx(sve,{})}),n.jsx(me,{path:"analytics/legendary-pets",element:n.jsx(ave,{})}),n.jsx(me,{path:"community/scans",element:n.jsx(dve,{})}),n.jsx(me,{path:"community/creators",element:n.jsx(pve,{})}),n.jsx(me,{path:"feedback/form",element:n.jsx(vve,{})}),n.jsx(me,{path:"feedback/admin",element:n.jsx(wve,{})}),n.jsx(me,{path:"help/tutorials",element:n.jsx(kve,{})}),n.jsx(me,{path:"help/wiki",element:n.jsx(Ave,{})}),n.jsx(me,{path:"legal/tos",element:n.jsx(Bve,{})}),n.jsx(me,{path:"legal/transparency",element:n.jsx(Uve,{})}),n.jsx(me,{path:"settings",element:n.jsx(Lve,{})}),n.jsx(me,{path:"pwa/update",element:n.jsx(Wve,{})}),n.jsx(me,{path:"pwa/install",element:n.jsx(Xve,{})}),n.jsx(me,{path:"connect/manual",element:n.jsx(eye,{})}),n.jsx(me,{path:"connect/userscript",element:n.jsx(rye,{})}),n.jsx(me,{path:"interop/exports",element:n.jsx(lye,{})}),n.jsx(me,{path:"interop/deeplinks",element:n.jsx(hye,{})}),n.jsx(me,{path:"admin/servers",element:n.jsx(gye,{})}),n.jsx(me,{path:"admin/jobs",element:n.jsx(bye,{})}),n.jsx(me,{path:"admin/flags",element:n.jsx(Sye,{})}),n.jsx(me,{path:"perf/table-lab",element:n.jsx(Cye,{})}),n.jsx(me,{path:"mobile/filters",element:n.jsx(Rye,{})}),n.jsx(me,{path:"qa/a11y",element:n.jsx(Mye,{})})]}),n.jsx(me,{path:"/latest-scan",element:n.jsx(yu,{to:"/scans/latest",replace:!0})}),n.jsx(me,{path:"/old-scans",element:n.jsx(yu,{to:"/scans/archive",replace:!0})}),n.jsx(me,{path:"/favorites",element:Bn()}),n.jsx(me,{path:"/notifications",element:Bn()}),n.jsx(me,{path:"/guilds/planner",element:Bn()}),n.jsx(me,{path:"/guilds/fusion",element:Bn()}),n.jsx(me,{path:"/guilds/academy",element:Bn()}),n.jsx(me,{path:"/toplists/players",element:Bn()}),n.jsx(me,{path:"/toplists/guilds",element:Bn()}),n.jsx(me,{path:"/toplists/servers",element:Bn()}),n.jsx(me,{path:"/settings/profile",element:Bn()}),n.jsx(me,{path:"/settings/appearance",element:Bn()}),n.jsx(me,{path:"/players/search",element:Bn()}),n.jsx(me,{path:"/servers/list",element:Bn()}),n.jsx(me,{path:"/servers/trend",element:Bn()}),n.jsx(me,{path:"/scans/upload",element:Bn()}),n.jsx(me,{path:"/scans/history",element:Bn()}),n.jsx(me,{path:"*",element:n.jsx(yu,{to:"/",replace:!0})})]})})}),n.jsx(v0e,{})]})})})}));
