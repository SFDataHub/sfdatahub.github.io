import BS from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function by(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ax={exports:{}},Id={},ox={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function WT(){if(g_)return gt;g_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,I={};function A(z,se,ce){this.props=z,this.context=se,this.refs=I,this.updater=ce||b}A.prototype.isReactComponent={},A.prototype.setState=function(z,se){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,se,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function B(){}B.prototype=A.prototype;function D(z,se,ce){this.props=z,this.context=se,this.refs=I,this.updater=ce||b}var T=D.prototype=new B;T.constructor=D,j(T,A.prototype),T.isPureReactComponent=!0;var y=Array.isArray,S=Object.prototype.hasOwnProperty,M={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function w(z,se,ce){var ee,fe={},Te=null,xe=null;if(se!=null)for(ee in se.ref!==void 0&&(xe=se.ref),se.key!==void 0&&(Te=""+se.key),se)S.call(se,ee)&&!C.hasOwnProperty(ee)&&(fe[ee]=se[ee]);var Ce=arguments.length-2;if(Ce===1)fe.children=ce;else if(1<Ce){for(var Ne=Array(Ce),ue=0;ue<Ce;ue++)Ne[ue]=arguments[ue+2];fe.children=Ne}if(z&&z.defaultProps)for(ee in Ce=z.defaultProps,Ce)fe[ee]===void 0&&(fe[ee]=Ce[ee]);return{$$typeof:t,type:z,key:Te,ref:xe,props:fe,_owner:M.current}}function E(z,se){return{$$typeof:t,type:z.type,key:se,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function P(z){var se={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return se[ce]})}var V=/\/+/g;function $(z,se){return typeof z=="object"&&z!==null&&z.key!=null?P(""+z.key):se.toString(36)}function W(z,se,ce,ee,fe){var Te=typeof z;(Te==="undefined"||Te==="boolean")&&(z=null);var xe=!1;if(z===null)xe=!0;else switch(Te){case"string":case"number":xe=!0;break;case"object":switch(z.$$typeof){case t:case e:xe=!0}}if(xe)return xe=z,fe=fe(xe),z=ee===""?"."+$(xe,0):ee,y(fe)?(ce="",z!=null&&(ce=z.replace(V,"$&/")+"/"),W(fe,se,ce,"",function(ue){return ue})):fe!=null&&(L(fe)&&(fe=E(fe,ce+(!fe.key||xe&&xe.key===fe.key?"":(""+fe.key).replace(V,"$&/")+"/")+z)),se.push(fe)),1;if(xe=0,ee=ee===""?".":ee+":",y(z))for(var Ce=0;Ce<z.length;Ce++){Te=z[Ce];var Ne=ee+$(Te,Ce);xe+=W(Te,se,ce,Ne,fe)}else if(Ne=v(z),typeof Ne=="function")for(z=Ne.call(z),Ce=0;!(Te=z.next()).done;)Te=Te.value,Ne=ee+$(Te,Ce++),xe+=W(Te,se,ce,Ne,fe);else if(Te==="object")throw se=String(z),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return xe}function H(z,se,ce){if(z==null)return z;var ee=[],fe=0;return W(z,ee,"","",function(Te){return se.call(ce,Te,fe++)}),ee}function q(z){if(z._status===-1){var se=z._result;se=se(),se.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=se)}if(z._status===1)return z._result.default;throw z._result}var Q={current:null},G={transition:null},te={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:G,ReactCurrentOwner:M};function re(){throw Error("act(...) is not supported in production builds of React.")}return gt.Children={map:H,forEach:function(z,se,ce){H(z,function(){se.apply(this,arguments)},ce)},count:function(z){var se=0;return H(z,function(){se++}),se},toArray:function(z){return H(z,function(se){return se})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},gt.Component=A,gt.Fragment=n,gt.Profiler=i,gt.PureComponent=D,gt.StrictMode=r,gt.Suspense=u,gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,gt.act=re,gt.cloneElement=function(z,se,ce){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ee=j({},z.props),fe=z.key,Te=z.ref,xe=z._owner;if(se!=null){if(se.ref!==void 0&&(Te=se.ref,xe=M.current),se.key!==void 0&&(fe=""+se.key),z.type&&z.type.defaultProps)var Ce=z.type.defaultProps;for(Ne in se)S.call(se,Ne)&&!C.hasOwnProperty(Ne)&&(ee[Ne]=se[Ne]===void 0&&Ce!==void 0?Ce[Ne]:se[Ne])}var Ne=arguments.length-2;if(Ne===1)ee.children=ce;else if(1<Ne){Ce=Array(Ne);for(var ue=0;ue<Ne;ue++)Ce[ue]=arguments[ue+2];ee.children=Ce}return{$$typeof:t,type:z.type,key:fe,ref:Te,props:ee,_owner:xe}},gt.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},gt.createElement=w,gt.createFactory=function(z){var se=w.bind(null,z);return se.type=z,se},gt.createRef=function(){return{current:null}},gt.forwardRef=function(z){return{$$typeof:d,render:z}},gt.isValidElement=L,gt.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:q}},gt.memo=function(z,se){return{$$typeof:h,type:z,compare:se===void 0?null:se}},gt.startTransition=function(z){var se=G.transition;G.transition={};try{z()}finally{G.transition=se}},gt.unstable_act=re,gt.useCallback=function(z,se){return Q.current.useCallback(z,se)},gt.useContext=function(z){return Q.current.useContext(z)},gt.useDebugValue=function(){},gt.useDeferredValue=function(z){return Q.current.useDeferredValue(z)},gt.useEffect=function(z,se){return Q.current.useEffect(z,se)},gt.useId=function(){return Q.current.useId()},gt.useImperativeHandle=function(z,se,ce){return Q.current.useImperativeHandle(z,se,ce)},gt.useInsertionEffect=function(z,se){return Q.current.useInsertionEffect(z,se)},gt.useLayoutEffect=function(z,se){return Q.current.useLayoutEffect(z,se)},gt.useMemo=function(z,se){return Q.current.useMemo(z,se)},gt.useReducer=function(z,se,ce){return Q.current.useReducer(z,se,ce)},gt.useRef=function(z){return Q.current.useRef(z)},gt.useState=function(z){return Q.current.useState(z)},gt.useSyncExternalStore=function(z,se,ce){return Q.current.useSyncExternalStore(z,se,ce)},gt.useTransition=function(){return Q.current.useTransition()},gt.version="18.3.1",gt}var x_;function _y(){return x_||(x_=1,ox.exports=WT()),ox.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function qT(){if(v_)return Id;v_=1;var t=_y(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,u,h){var p,g={},v=null,b=null;h!==void 0&&(v=""+h),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(b=u.ref);for(p in u)r.call(u,p)&&!a.hasOwnProperty(p)&&(g[p]=u[p]);if(d&&d.defaultProps)for(p in u=d.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:e,type:d,key:v,ref:b,props:g,_owner:i.current}}return Id.Fragment=n,Id.jsx=c,Id.jsxs=c,Id}var y_;function KT(){return y_||(y_=1,ax.exports=qT()),ax.exports}var s=KT(),R=_y();const J=by(R);var jm={},lx={exports:{}},Hn={},cx={exports:{}},dx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function QT(){return b_||(b_=1,(function(t){function e(G,te){var re=G.length;G.push(te);e:for(;0<re;){var z=re-1>>>1,se=G[z];if(0<i(se,te))G[z]=te,G[re]=se,re=z;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],re=G.pop();if(re!==te){G[0]=re;e:for(var z=0,se=G.length,ce=se>>>1;z<ce;){var ee=2*(z+1)-1,fe=G[ee],Te=ee+1,xe=G[Te];if(0>i(fe,re))Te<se&&0>i(xe,fe)?(G[z]=xe,G[Te]=re,z=Te):(G[z]=fe,G[ee]=re,z=ee);else if(Te<se&&0>i(xe,re))G[z]=xe,G[Te]=re,z=Te;else break e}}return te}function i(G,te){var re=G.sortIndex-te.sortIndex;return re!==0?re:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var u=[],h=[],p=1,g=null,v=3,b=!1,j=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(G){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=G)r(h),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(h)}}function y(G){if(I=!1,T(G),!j)if(n(u)!==null)j=!0,q(S);else{var te=n(h);te!==null&&Q(y,te.startTime-G)}}function S(G,te){j=!1,I&&(I=!1,B(w),w=-1),b=!0;var re=v;try{for(T(te),g=n(u);g!==null&&(!(g.expirationTime>te)||G&&!P());){var z=g.callback;if(typeof z=="function"){g.callback=null,v=g.priorityLevel;var se=z(g.expirationTime<=te);te=t.unstable_now(),typeof se=="function"?g.callback=se:g===n(u)&&r(u),T(te)}else r(u);g=n(u)}if(g!==null)var ce=!0;else{var ee=n(h);ee!==null&&Q(y,ee.startTime-te),ce=!1}return ce}finally{g=null,v=re,b=!1}}var M=!1,C=null,w=-1,E=5,L=-1;function P(){return!(t.unstable_now()-L<E)}function V(){if(C!==null){var G=t.unstable_now();L=G;var te=!0;try{te=C(!0,G)}finally{te?$():(M=!1,C=null)}}else M=!1}var $;if(typeof D=="function")$=function(){D(V)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=V,$=function(){H.postMessage(null)}}else $=function(){A(V,0)};function q(G){C=G,M||(M=!0,$())}function Q(G,te){w=A(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){j||b||(j=!0,q(S))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var re=v;v=te;try{return G()}finally{v=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=v;v=G;try{return te()}finally{v=re}},t.unstable_scheduleCallback=function(G,te,re){var z=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?z+re:z):re=z,G){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=re+se,G={id:p++,callback:te,priorityLevel:G,startTime:re,expirationTime:se,sortIndex:-1},re>z?(G.sortIndex=re,e(h,G),n(u)===null&&G===n(h)&&(I?(B(w),w=-1):I=!0,Q(y,re-z))):(G.sortIndex=se,e(u,G),j||b||(j=!0,q(S))),G},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(G){var te=v;return function(){var re=v;v=te;try{return G.apply(this,arguments)}finally{v=re}}}})(dx)),dx}var __;function XT(){return __||(__=1,cx.exports=QT()),cx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function YT(){if(w_)return Hn;w_=1;var t=_y(),e=XT();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,l){c(o,l),c(o+"Capture",l)}function c(o,l){for(i[o]=l,o=0;o<l.length;o++)r.add(l[o])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(o){return u.call(g,o)?!0:u.call(p,o)?!1:h.test(o)?g[o]=!0:(p[o]=!0,!1)}function b(o,l,m,x){if(m!==null&&m.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function j(o,l,m,x){if(l===null||typeof l=="undefined"||b(o,l,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function I(o,l,m,x,_,k,O){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=_,this.mustUseProperty=m,this.propertyName=o,this.type=l,this.sanitizeURL=k,this.removeEmptyString=O}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){A[o]=new I(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];A[l]=new I(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){A[o]=new I(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){A[o]=new I(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){A[o]=new I(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){A[o]=new I(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){A[o]=new I(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){A[o]=new I(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){A[o]=new I(o,5,!1,o.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function D(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(B,D);A[l]=new I(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(B,D);A[l]=new I(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(B,D);A[l]=new I(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){A[o]=new I(o,1,!1,o.toLowerCase(),null,!1,!1)}),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){A[o]=new I(o,1,!1,o.toLowerCase(),null,!0,!0)});function T(o,l,m,x){var _=A.hasOwnProperty(l)?A[l]:null;(_!==null?_.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,m,_,x)&&(m=null),x||_===null?v(l)&&(m===null?o.removeAttribute(l):o.setAttribute(l,""+m)):_.mustUseProperty?o[_.propertyName]=m===null?_.type===3?!1:"":m:(l=_.attributeName,x=_.attributeNamespace,m===null?o.removeAttribute(l):(_=_.type,m=_===3||_===4&&m===!0?"":""+m,x?o.setAttributeNS(x,l,m):o.setAttribute(l,m))))}var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),M=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var re=Object.assign,z;function se(o){if(z===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+o}var ce=!1;function ee(o,l){if(!o||ce)return"";ce=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(de){var x=de}Reflect.construct(o,[],l)}else{try{l.call()}catch(de){x=de}o.call(l.prototype)}else{try{throw Error()}catch(de){x=de}o()}}catch(de){if(de&&x&&typeof de.stack=="string"){for(var _=de.stack.split(`
`),k=x.stack.split(`
`),O=_.length-1,K=k.length-1;1<=O&&0<=K&&_[O]!==k[K];)K--;for(;1<=O&&0<=K;O--,K--)if(_[O]!==k[K]){if(O!==1||K!==1)do if(O--,K--,0>K||_[O]!==k[K]){var X=`
`+_[O].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=O&&0<=K);break}}}finally{ce=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?se(o):""}function fe(o){switch(o.tag){case 5:return se(o.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return o=ee(o.type,!1),o;case 11:return o=ee(o.type.render,!1),o;case 1:return o=ee(o.type,!0),o;default:return""}}function Te(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case C:return"Fragment";case M:return"Portal";case E:return"Profiler";case w:return"StrictMode";case $:return"Suspense";case W:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case P:return(o.displayName||"Context")+".Consumer";case L:return(o._context.displayName||"Context")+".Provider";case V:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case H:return l=o.displayName||null,l!==null?l:Te(o.type)||"Memo";case q:l=o._payload,o=o._init;try{return Te(o(l))}catch(m){}}return null}function xe(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Te(l);case 8:return l===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ce(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ne(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ue(o){var l=Ne(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),x=""+o[l];if(!o.hasOwnProperty(l)&&typeof m!="undefined"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,k=m.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return _.call(this)},set:function(O){x=""+O,k.call(this,O)}}),Object.defineProperty(o,l,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(O){x=""+O},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function De(o){o._valueTracker||(o._valueTracker=ue(o))}function Ae(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var m=l.getValue(),x="";return o&&(x=Ne(o)?o.checked?"true":"false":o.value),o=x,o!==m?(l.setValue(o),!0):!1}function nt(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(l){return o.body}}function ht(o,l){var m=l.checked;return re({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m!=null?m:o._wrapperState.initialChecked})}function ns(o,l){var m=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;m=Ce(l.value!=null?l.value:m),o._wrapperState={initialChecked:x,initialValue:m,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Gs(o,l){l=l.checked,l!=null&&T(o,"checked",l,!1)}function Ws(o,l){Gs(o,l);var m=Ce(l.value),x=l.type;if(m!=null)x==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?qs(o,l.type,m):l.hasOwnProperty("defaultValue")&&qs(o,l.type,Ce(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Dn(o,l,m){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,m||l===o.value||(o.value=l),o.defaultValue=l}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function qs(o,l,m){(l!=="number"||nt(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var Ds=Array.isArray;function Ms(o,l,m,x){if(o=o.options,l){l={};for(var _=0;_<m.length;_++)l["$"+m[_]]=!0;for(m=0;m<o.length;m++)_=l.hasOwnProperty("$"+o[m].value),o[m].selected!==_&&(o[m].selected=_),_&&x&&(o[m].defaultSelected=!0)}else{for(m=""+Ce(m),l=null,_=0;_<o.length;_++){if(o[_].value===m){o[_].selected=!0,x&&(o[_].defaultSelected=!0);return}l!==null||o[_].disabled||(l=o[_])}l!==null&&(l.selected=!0)}}function Mn(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function bn(o,l){var m=l.value;if(m==null){if(m=l.children,l=l.defaultValue,m!=null){if(l!=null)throw Error(n(92));if(Ds(m)){if(1<m.length)throw Error(n(93));m=m[0]}l=m}l==null&&(l=""),m=l}o._wrapperState={initialValue:Ce(m)}}function _n(o,l){var m=Ce(l.value),x=Ce(l.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),l.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),x!=null&&(o.defaultValue=""+x)}function us(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function Yt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?Yt(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Mt,li=(function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(l,m,x,_){MSApp.execUnsafeLocalFunction(function(){return o(l,m,x,_)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Mt=Mt||document.createElement("div"),Mt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Mt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Jn(o,l){if(l){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=l;return}}o.textContent=l}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gr=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(o){gr.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),fr[l]=fr[o]})});function ci(o,l,m){return l==null||typeof l=="boolean"||l===""?"":m||typeof l!="number"||l===0||fr.hasOwnProperty(o)&&fr[o]?(""+l).trim():l+"px"}function Ii(o,l){o=o.style;for(var m in l)if(l.hasOwnProperty(m)){var x=m.indexOf("--")===0,_=ci(m,l[m],x);m==="float"&&(m="cssFloat"),x?o.setProperty(m,_):o[m]=_}}var di=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fr(o,l){if(l){if(di[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function qt(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xr=null;function Ri(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Pi=null,wn=null,Zn=null;function Li(o){if(o=gd(o)){if(typeof Pi!="function")throw Error(n(280));var l=o.stateNode;l&&(l=Bh(l),Pi(o.stateNode,o.type,l))}}function er(o){wn?Zn?Zn.push(o):Zn=[o]:wn=o}function qc(){if(wn){var o=wn,l=Zn;if(Zn=wn=null,Li(o),l)for(o=0;o<l.length;o++)Li(l[o])}}function ao(o,l){return o(l)}function Kc(){}var Di=!1;function Qc(o,l,m){if(Di)return o(l,m);Di=!0;try{return ao(o,l,m)}finally{Di=!1,(wn!==null||Zn!==null)&&(Kc(),qc())}}function xs(o,l){var m=o.stateNode;if(m===null)return null;var x=Bh(m);if(x===null)return null;m=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,l,typeof m));return m}var fl=!1;if(d)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){fl=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch(o){fl=!1}function oo(o,l,m,x,_,k,O,K,X){var de=Array.prototype.slice.call(arguments,3);try{l.apply(m,de)}catch(ye){this.onError(ye)}}var lo=!1,gl=null,$r=!1,Xc=null,Lf={onError:function(o){lo=!0,gl=o}};function xl(o,l,m,x,_,k,O,K,X){lo=!1,gl=null,oo.apply(Lf,arguments)}function ch(o,l,m,x,_,k,O,K,X){if(xl.apply(this,arguments),lo){if(lo){var de=gl;lo=!1,gl=null}else throw Error(n(198));$r||($r=!0,Xc=de)}}function Vr(o){var l=o,m=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(m=l.return),o=l.return;while(o)}return l.tag===3?m:null}function co(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Or(o){if(Vr(o)!==o)throw Error(n(188))}function dh(o){var l=o.alternate;if(!l){if(l=Vr(o),l===null)throw Error(n(188));return l!==o?null:o}for(var m=o,x=l;;){var _=m.return;if(_===null)break;var k=_.alternate;if(k===null){if(x=_.return,x!==null){m=x;continue}break}if(_.child===k.child){for(k=_.child;k;){if(k===m)return Or(_),o;if(k===x)return Or(_),l;k=k.sibling}throw Error(n(188))}if(m.return!==x.return)m=_,x=k;else{for(var O=!1,K=_.child;K;){if(K===m){O=!0,m=_,x=k;break}if(K===x){O=!0,x=_,m=k;break}K=K.sibling}if(!O){for(K=k.child;K;){if(K===m){O=!0,m=k,x=_;break}if(K===x){O=!0,x=k,m=_;break}K=K.sibling}if(!O)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:l}function Yc(o){return o=dh(o),o!==null?vl(o):null}function vl(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=vl(o);if(l!==null)return l;o=o.sibling}return null}var yl=e.unstable_scheduleCallback,Jc=e.unstable_cancelCallback,uh=e.unstable_shouldYield,Df=e.unstable_requestPaint,Ot=e.unstable_now,hh=e.unstable_getCurrentPriorityLevel,uo=e.unstable_ImmediatePriority,fa=e.unstable_UserBlockingPriority,vr=e.unstable_NormalPriority,Zc=e.unstable_LowPriority,mh=e.unstable_IdlePriority,ho=null,tr=null;function ph(o){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(ho,o,void 0,(o.current.flags&128)===128)}catch(l){}}var jn=Math.clz32?Math.clz32:gh,ed=Math.log,fh=Math.LN2;function gh(o){return o>>>=0,o===0?32:31-(ed(o)/fh|0)|0}var bl=64,_l=4194304;function ga(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function mo(o,l){var m=o.pendingLanes;if(m===0)return 0;var x=0,_=o.suspendedLanes,k=o.pingedLanes,O=m&268435455;if(O!==0){var K=O&~_;K!==0?x=ga(K):(k&=O,k!==0&&(x=ga(k)))}else O=m&~_,O!==0?x=ga(O):k!==0&&(x=ga(k));if(x===0)return 0;if(l!==0&&l!==x&&(l&_)===0&&(_=x&-x,k=l&-l,_>=k||_===16&&(k&4194240)!==0))return l;if((x&4)!==0&&(x|=m&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=x;0<l;)m=31-jn(l),_=1<<m,x|=o[m],l&=~_;return x}function Mf(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mi(o,l){for(var m=o.suspendedLanes,x=o.pingedLanes,_=o.expirationTimes,k=o.pendingLanes;0<k;){var O=31-jn(k),K=1<<O,X=_[O];X===-1?((K&m)===0||(K&x)!==0)&&(_[O]=Mf(K,l)):X<=l&&(o.expiredLanes|=K),k&=~K}}function sr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function po(){var o=bl;return bl<<=1,(bl&4194240)===0&&(bl=64),o}function xa(o){for(var l=[],m=0;31>m;m++)l.push(o);return l}function va(o,l,m){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-jn(l),o[l]=m}function Bt(o,l){var m=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<m;){var _=31-jn(m),k=1<<_;l[_]=0,x[_]=-1,o[_]=-1,m&=~k}}function ya(o,l){var m=o.entangledLanes|=l;for(o=o.entanglements;m;){var x=31-jn(m),_=1<<x;_&l|o[x]&l&&(o[x]|=l),m&=~_}}var jt=0;function ba(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var xh,wl,vh,yh,bh,td=!1,ui=[],Ks=null,Ur=null,zr=null,_a=new Map,yr=new Map,hi=[],Ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(o,l){switch(o){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":_a.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(l.pointerId)}}function Fn(o,l,m,x,_,k){return o===null||o.nativeEvent!==k?(o={blockedOn:l,domEventName:m,eventSystemFlags:x,nativeEvent:k,targetContainers:[_]},l!==null&&(l=gd(l),l!==null&&wl(l)),o):(o.eventSystemFlags|=x,l=o.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),o)}function Bf(o,l,m,x,_){switch(l){case"focusin":return Ks=Fn(Ks,o,l,m,x,_),!0;case"dragenter":return Ur=Fn(Ur,o,l,m,x,_),!0;case"mouseover":return zr=Fn(zr,o,l,m,x,_),!0;case"pointerover":var k=_.pointerId;return _a.set(k,Fn(_a.get(k)||null,o,l,m,x,_)),!0;case"gotpointercapture":return k=_.pointerId,yr.set(k,Fn(yr.get(k)||null,o,l,m,x,_)),!0}return!1}function wh(o){var l=yo(o.target);if(l!==null){var m=Vr(l);if(m!==null){if(l=m.tag,l===13){if(l=co(m),l!==null){o.blockedOn=l,bh(o.priority,function(){vh(m)});return}}else if(l===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Fi(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var m=jl(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var x=new m.constructor(m.type,m);xr=x,m.target.dispatchEvent(x),xr=null}else return l=gd(m),l!==null&&wl(l),o.blockedOn=m,!1;l.shift()}return!0}function fo(o,l,m){Fi(o)&&m.delete(l)}function jh(){td=!1,Ks!==null&&Fi(Ks)&&(Ks=null),Ur!==null&&Fi(Ur)&&(Ur=null),zr!==null&&Fi(zr)&&(zr=null),_a.forEach(fo),yr.forEach(fo)}function Hr(o,l){o.blockedOn===l&&(o.blockedOn=null,td||(td=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jh)))}function Gr(o){function l(_){return Hr(_,o)}if(0<ui.length){Hr(ui[0],o);for(var m=1;m<ui.length;m++){var x=ui[m];x.blockedOn===o&&(x.blockedOn=null)}}for(Ks!==null&&Hr(Ks,o),Ur!==null&&Hr(Ur,o),zr!==null&&Hr(zr,o),_a.forEach(l),yr.forEach(l),m=0;m<hi.length;m++)x=hi[m],x.blockedOn===o&&(x.blockedOn=null);for(;0<hi.length&&(m=hi[0],m.blockedOn===null);)wh(m),m.blockedOn===null&&hi.shift()}var Bi=y.ReactCurrentBatchConfig,wa=!0;function Jt(o,l,m,x){var _=jt,k=Bi.transition;Bi.transition=null;try{jt=1,sd(o,l,m,x)}finally{jt=_,Bi.transition=k}}function $f(o,l,m,x){var _=jt,k=Bi.transition;Bi.transition=null;try{jt=4,sd(o,l,m,x)}finally{jt=_,Bi.transition=k}}function sd(o,l,m,x){if(wa){var _=jl(o,l,m,x);if(_===null)Xf(o,l,x,go,m),_h(o,x);else if(Bf(_,o,l,m,x))x.stopPropagation();else if(_h(o,x),l&4&&-1<Ff.indexOf(o)){for(;_!==null;){var k=gd(_);if(k!==null&&xh(k),k=jl(o,l,m,x),k===null&&Xf(o,l,x,go,m),k===_)break;_=k}_!==null&&x.stopPropagation()}else Xf(o,l,x,null,m)}}var go=null;function jl(o,l,m,x){if(go=null,o=Ri(x),o=yo(o),o!==null)if(l=Vr(o),l===null)o=null;else if(m=l.tag,m===13){if(o=co(l),o!==null)return o;o=null}else if(m===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return go=o,null}function nd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hh()){case uo:return 1;case fa:return 4;case vr:case Zc:return 16;case mh:return 536870912;default:return 16}default:return 16}}var nr=null,Sl=null,Bn=null;function rd(){if(Bn)return Bn;var o,l=Sl,m=l.length,x,_="value"in nr?nr.value:nr.textContent,k=_.length;for(o=0;o<m&&l[o]===_[o];o++);var O=m-o;for(x=1;x<=O&&l[m-x]===_[k-x];x++);return Bn=_.slice(o,1<x?1-x:void 0)}function Nl(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function mi(){return!0}function id(){return!1}function Qs(o){function l(m,x,_,k,O){this._reactName=m,this._targetInst=_,this.type=x,this.nativeEvent=k,this.target=O,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(m=o[K],this[K]=m?m(k):k[K]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?mi:id,this.isPropagationStopped=id,this}return re(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),l}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Qs(Wr),pi=re({},Wr,{view:0,detail:0}),Vf=Qs(pi),Cl,$i,ja,xo=re({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ja&&(ja&&o.type==="mousemove"?(Cl=o.screenX-ja.screenX,$i=o.screenY-ja.screenY):$i=Cl=0,ja=o),Cl)},movementY:function(o){return"movementY"in o?o.movementY:$i}}),Tl=Qs(xo),ad=re({},xo,{dataTransfer:0}),Sh=Qs(ad),El=re({},pi,{relatedTarget:0}),Al=Qs(El),Nh=re({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vi=Qs(Nh),kh=re({},Wr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ch=Qs(kh),Th=re({},Wr,{data:0}),od=Qs(Th),Il={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ah(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Eh[o])?!!l[o]:!1}function fi(){return Ah}var f=re({},pi,{key:function(o){if(o.key){var l=Il[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Nl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Sn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fi,charCode:function(o){return o.type==="keypress"?Nl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Nl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),N=Qs(f),F=re({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=Qs(F),ae=re({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fi}),he=Qs(ae),Re=re({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lt=Qs(Re),As=re({},xo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Nt=Qs(As),Fs=[9,13,27,32],ws=d&&"CompositionEvent"in window,br=null;d&&"documentMode"in document&&(br=document.documentMode);var rr=d&&"TextEvent"in window&&!br,vo=d&&(!ws||br&&8<br&&11>=br),Rl=" ",d1=!1;function u1(o,l){switch(o){case"keyup":return Fs.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Pl=!1;function zC(o,l){switch(o){case"compositionend":return h1(l);case"keypress":return l.which!==32?null:(d1=!0,Rl);case"textInput":return o=l.data,o===Rl&&d1?null:o;default:return null}}function HC(o,l){if(Pl)return o==="compositionend"||!ws&&u1(o,l)?(o=rd(),Bn=Sl=nr=null,Pl=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return vo&&l.locale!=="ko"?null:l.data;default:return null}}var GC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m1(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!GC[o.type]:l==="textarea"}function p1(o,l,m,x){er(x),l=Dh(l,"onChange"),0<l.length&&(m=new kl("onChange","change",null,m,x),o.push({event:m,listeners:l}))}var ld=null,cd=null;function WC(o){R1(o,0)}function Ih(o){var l=Bl(o);if(Ae(l))return o}function qC(o,l){if(o==="change")return l}var f1=!1;if(d){var Of;if(d){var Uf="oninput"in document;if(!Uf){var g1=document.createElement("div");g1.setAttribute("oninput","return;"),Uf=typeof g1.oninput=="function"}Of=Uf}else Of=!1;f1=Of&&(!document.documentMode||9<document.documentMode)}function x1(){ld&&(ld.detachEvent("onpropertychange",v1),cd=ld=null)}function v1(o){if(o.propertyName==="value"&&Ih(cd)){var l=[];p1(l,cd,o,Ri(o)),Qc(WC,l)}}function KC(o,l,m){o==="focusin"?(x1(),ld=l,cd=m,ld.attachEvent("onpropertychange",v1)):o==="focusout"&&x1()}function QC(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ih(cd)}function XC(o,l){if(o==="click")return Ih(l)}function YC(o,l){if(o==="input"||o==="change")return Ih(l)}function JC(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var qr=typeof Object.is=="function"?Object.is:JC;function dd(o,l){if(qr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var m=Object.keys(o),x=Object.keys(l);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var _=m[x];if(!u.call(l,_)||!qr(o[_],l[_]))return!1}return!0}function y1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function b1(o,l){var m=y1(o);o=0;for(var x;m;){if(m.nodeType===3){if(x=o+m.textContent.length,o<=l&&x>=l)return{node:m,offset:l-o};o=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=y1(m)}}function _1(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?_1(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function w1(){for(var o=window,l=nt();l instanceof o.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch(x){m=!1}if(m)o=l.contentWindow;else break;l=nt(o.document)}return l}function zf(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function ZC(o){var l=w1(),m=o.focusedElem,x=o.selectionRange;if(l!==m&&m&&m.ownerDocument&&_1(m.ownerDocument.documentElement,m)){if(x!==null&&zf(m)){if(l=x.start,o=x.end,o===void 0&&(o=l),"selectionStart"in m)m.selectionStart=l,m.selectionEnd=Math.min(o,m.value.length);else if(o=(l=m.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var _=m.textContent.length,k=Math.min(x.start,_);x=x.end===void 0?k:Math.min(x.end,_),!o.extend&&k>x&&(_=x,x=k,k=_),_=b1(m,k);var O=b1(m,x);_&&O&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==O.node||o.focusOffset!==O.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),o.removeAllRanges(),k>x?(o.addRange(l),o.extend(O.node,O.offset)):(l.setEnd(O.node,O.offset),o.addRange(l)))}}for(l=[],o=m;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<l.length;m++)o=l[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var eT=d&&"documentMode"in document&&11>=document.documentMode,Ll=null,Hf=null,ud=null,Gf=!1;function j1(o,l,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Gf||Ll==null||Ll!==nt(x)||(x=Ll,"selectionStart"in x&&zf(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ud&&dd(ud,x)||(ud=x,x=Dh(Hf,"onSelect"),0<x.length&&(l=new kl("onSelect","select",null,l,m),o.push({event:l,listeners:x}),l.target=Ll)))}function Rh(o,l){var m={};return m[o.toLowerCase()]=l.toLowerCase(),m["Webkit"+o]="webkit"+l,m["Moz"+o]="moz"+l,m}var Dl={animationend:Rh("Animation","AnimationEnd"),animationiteration:Rh("Animation","AnimationIteration"),animationstart:Rh("Animation","AnimationStart"),transitionend:Rh("Transition","TransitionEnd")},Wf={},S1={};d&&(S1=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function Ph(o){if(Wf[o])return Wf[o];if(!Dl[o])return o;var l=Dl[o],m;for(m in l)if(l.hasOwnProperty(m)&&m in S1)return Wf[o]=l[m];return o}var N1=Ph("animationend"),k1=Ph("animationiteration"),C1=Ph("animationstart"),T1=Ph("transitionend"),E1=new Map,A1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(o,l){E1.set(o,l),a(l,[o])}for(var qf=0;qf<A1.length;qf++){var Kf=A1[qf],tT=Kf.toLowerCase(),sT=Kf[0].toUpperCase()+Kf.slice(1);Sa(tT,"on"+sT)}Sa(N1,"onAnimationEnd"),Sa(k1,"onAnimationIteration"),Sa(C1,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(T1,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nT=new Set("cancel close invalid load scroll toggle".split(" ").concat(hd));function I1(o,l,m){var x=o.type||"unknown-event";o.currentTarget=m,ch(x,l,void 0,o),o.currentTarget=null}function R1(o,l){l=(l&4)!==0;for(var m=0;m<o.length;m++){var x=o[m],_=x.event;x=x.listeners;e:{var k=void 0;if(l)for(var O=x.length-1;0<=O;O--){var K=x[O],X=K.instance,de=K.currentTarget;if(K=K.listener,X!==k&&_.isPropagationStopped())break e;I1(_,K,de),k=X}else for(O=0;O<x.length;O++){if(K=x[O],X=K.instance,de=K.currentTarget,K=K.listener,X!==k&&_.isPropagationStopped())break e;I1(_,K,de),k=X}}}if($r)throw o=Xc,$r=!1,Xc=null,o}function Kt(o,l){var m=l[sg];m===void 0&&(m=l[sg]=new Set);var x=o+"__bubble";m.has(x)||(P1(l,o,2,!1),m.add(x))}function Qf(o,l,m){var x=0;l&&(x|=4),P1(m,o,x,l)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function md(o){if(!o[Lh]){o[Lh]=!0,r.forEach(function(m){m!=="selectionchange"&&(nT.has(m)||Qf(m,!1,o),Qf(m,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Lh]||(l[Lh]=!0,Qf("selectionchange",!1,l))}}function P1(o,l,m,x){switch(nd(l)){case 1:var _=Jt;break;case 4:_=$f;break;default:_=sd}m=_.bind(null,l,m,o),_=void 0,!fl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),x?_!==void 0?o.addEventListener(l,m,{capture:!0,passive:_}):o.addEventListener(l,m,!0):_!==void 0?o.addEventListener(l,m,{passive:_}):o.addEventListener(l,m,!1)}function Xf(o,l,m,x,_){var k=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var O=x.tag;if(O===3||O===4){var K=x.stateNode.containerInfo;if(K===_||K.nodeType===8&&K.parentNode===_)break;if(O===4)for(O=x.return;O!==null;){var X=O.tag;if((X===3||X===4)&&(X=O.stateNode.containerInfo,X===_||X.nodeType===8&&X.parentNode===_))return;O=O.return}for(;K!==null;){if(O=yo(K),O===null)return;if(X=O.tag,X===5||X===6){x=k=O;continue e}K=K.parentNode}}x=x.return}Qc(function(){var de=k,ye=Ri(m),je=[];e:{var ve=E1.get(o);if(ve!==void 0){var Fe=kl,Ve=o;switch(o){case"keypress":if(Nl(m)===0)break e;case"keydown":case"keyup":Fe=N;break;case"focusin":Ve="focus",Fe=Al;break;case"focusout":Ve="blur",Fe=Al;break;case"beforeblur":case"afterblur":Fe=Al;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=Sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=he;break;case N1:case k1:case C1:Fe=Vi;break;case T1:Fe=Lt;break;case"scroll":Fe=Vf;break;case"wheel":Fe=Nt;break;case"copy":case"cut":case"paste":Fe=Ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=U}var Oe=(l&4)!==0,vs=!Oe&&o==="scroll",oe=Oe?ve!==null?ve+"Capture":null:ve;Oe=[];for(var Z=de,le;Z!==null;){le=Z;var ke=le.stateNode;if(le.tag===5&&ke!==null&&(le=ke,oe!==null&&(ke=xs(Z,oe),ke!=null&&Oe.push(pd(Z,ke,le)))),vs)break;Z=Z.return}0<Oe.length&&(ve=new Fe(ve,Ve,null,m,ye),je.push({event:ve,listeners:Oe}))}}if((l&7)===0){e:{if(ve=o==="mouseover"||o==="pointerover",Fe=o==="mouseout"||o==="pointerout",ve&&m!==xr&&(Ve=m.relatedTarget||m.fromElement)&&(yo(Ve)||Ve[Oi]))break e;if((Fe||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Fe?(Ve=m.relatedTarget||m.toElement,Fe=de,Ve=Ve?yo(Ve):null,Ve!==null&&(vs=Vr(Ve),Ve!==vs||Ve.tag!==5&&Ve.tag!==6)&&(Ve=null)):(Fe=null,Ve=de),Fe!==Ve)){if(Oe=Tl,ke="onMouseLeave",oe="onMouseEnter",Z="mouse",(o==="pointerout"||o==="pointerover")&&(Oe=U,ke="onPointerLeave",oe="onPointerEnter",Z="pointer"),vs=Fe==null?ve:Bl(Fe),le=Ve==null?ve:Bl(Ve),ve=new Oe(ke,Z+"leave",Fe,m,ye),ve.target=vs,ve.relatedTarget=le,ke=null,yo(ye)===de&&(Oe=new Oe(oe,Z+"enter",Ve,m,ye),Oe.target=le,Oe.relatedTarget=vs,ke=Oe),vs=ke,Fe&&Ve)t:{for(Oe=Fe,oe=Ve,Z=0,le=Oe;le;le=Ml(le))Z++;for(le=0,ke=oe;ke;ke=Ml(ke))le++;for(;0<Z-le;)Oe=Ml(Oe),Z--;for(;0<le-Z;)oe=Ml(oe),le--;for(;Z--;){if(Oe===oe||oe!==null&&Oe===oe.alternate)break t;Oe=Ml(Oe),oe=Ml(oe)}Oe=null}else Oe=null;Fe!==null&&L1(je,ve,Fe,Oe,!1),Ve!==null&&vs!==null&&L1(je,vs,Ve,Oe,!0)}}e:{if(ve=de?Bl(de):window,Fe=ve.nodeName&&ve.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&ve.type==="file")var He=qC;else if(m1(ve))if(f1)He=YC;else{He=QC;var Ke=KC}else(Fe=ve.nodeName)&&Fe.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(He=XC);if(He&&(He=He(o,de))){p1(je,He,m,ye);break e}Ke&&Ke(o,ve,de),o==="focusout"&&(Ke=ve._wrapperState)&&Ke.controlled&&ve.type==="number"&&qs(ve,"number",ve.value)}switch(Ke=de?Bl(de):window,o){case"focusin":(m1(Ke)||Ke.contentEditable==="true")&&(Ll=Ke,Hf=de,ud=null);break;case"focusout":ud=Hf=Ll=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,j1(je,m,ye);break;case"selectionchange":if(eT)break;case"keydown":case"keyup":j1(je,m,ye)}var Qe;if(ws)e:{switch(o){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Pl?u1(o,m)&&(Je="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Je="onCompositionStart");Je&&(vo&&m.locale!=="ko"&&(Pl||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Pl&&(Qe=rd()):(nr=ye,Sl="value"in nr?nr.value:nr.textContent,Pl=!0)),Ke=Dh(de,Je),0<Ke.length&&(Je=new od(Je,o,null,m,ye),je.push({event:Je,listeners:Ke}),Qe?Je.data=Qe:(Qe=h1(m),Qe!==null&&(Je.data=Qe)))),(Qe=rr?zC(o,m):HC(o,m))&&(de=Dh(de,"onBeforeInput"),0<de.length&&(ye=new od("onBeforeInput","beforeinput",null,m,ye),je.push({event:ye,listeners:de}),ye.data=Qe))}R1(je,l)})}function pd(o,l,m){return{instance:o,listener:l,currentTarget:m}}function Dh(o,l){for(var m=l+"Capture",x=[];o!==null;){var _=o,k=_.stateNode;_.tag===5&&k!==null&&(_=k,k=xs(o,m),k!=null&&x.unshift(pd(o,k,_)),k=xs(o,l),k!=null&&x.push(pd(o,k,_))),o=o.return}return x}function Ml(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function L1(o,l,m,x,_){for(var k=l._reactName,O=[];m!==null&&m!==x;){var K=m,X=K.alternate,de=K.stateNode;if(X!==null&&X===x)break;K.tag===5&&de!==null&&(K=de,_?(X=xs(m,k),X!=null&&O.unshift(pd(m,X,K))):_||(X=xs(m,k),X!=null&&O.push(pd(m,X,K)))),m=m.return}O.length!==0&&o.push({event:l,listeners:O})}var rT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function D1(o){return(typeof o=="string"?o:""+o).replace(rT,`
`).replace(iT,"")}function Mh(o,l,m){if(l=D1(l),D1(o)!==l&&m)throw Error(n(425))}function Fh(){}var Yf=null,Jf=null;function Zf(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,aT=typeof clearTimeout=="function"?clearTimeout:void 0,M1=typeof Promise=="function"?Promise:void 0,oT=typeof queueMicrotask=="function"?queueMicrotask:typeof M1!="undefined"?function(o){return M1.resolve(null).then(o).catch(lT)}:eg;function lT(o){setTimeout(function(){throw o})}function tg(o,l){var m=l,x=0;do{var _=m.nextSibling;if(o.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(x===0){o.removeChild(_),Gr(l);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=_}while(m);Gr(l)}function Na(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function F1(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(l===0)return o;l--}else m==="/$"&&l++}o=o.previousSibling}return null}var Fl=Math.random().toString(36).slice(2),gi="__reactFiber$"+Fl,fd="__reactProps$"+Fl,Oi="__reactContainer$"+Fl,sg="__reactEvents$"+Fl,cT="__reactListeners$"+Fl,dT="__reactHandles$"+Fl;function yo(o){var l=o[gi];if(l)return l;for(var m=o.parentNode;m;){if(l=m[Oi]||m[gi]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(o=F1(o);o!==null;){if(m=o[gi])return m;o=F1(o)}return l}o=m,m=o.parentNode}return null}function gd(o){return o=o[gi]||o[Oi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Bl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Bh(o){return o[fd]||null}var ng=[],$l=-1;function ka(o){return{current:o}}function Qt(o){0>$l||(o.current=ng[$l],ng[$l]=null,$l--)}function Ut(o,l){$l++,ng[$l]=o.current,o.current=l}var Ca={},un=ka(Ca),$n=ka(!1),bo=Ca;function Vl(o,l){var m=o.type.contextTypes;if(!m)return Ca;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var _={},k;for(k in m)_[k]=l[k];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=_),_}function Vn(o){return o=o.childContextTypes,o!=null}function $h(){Qt($n),Qt(un)}function B1(o,l,m){if(un.current!==Ca)throw Error(n(168));Ut(un,l),Ut($n,m)}function $1(o,l,m){var x=o.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var _ in x)if(!(_ in l))throw Error(n(108,xe(o)||"Unknown",_));return re({},m,x)}function Vh(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ca,bo=un.current,Ut(un,o),Ut($n,$n.current),!0}function V1(o,l,m){var x=o.stateNode;if(!x)throw Error(n(169));m?(o=$1(o,l,bo),x.__reactInternalMemoizedMergedChildContext=o,Qt($n),Qt(un),Ut(un,o)):Qt($n),Ut($n,m)}var Ui=null,Oh=!1,rg=!1;function O1(o){Ui===null?Ui=[o]:Ui.push(o)}function uT(o){Oh=!0,O1(o)}function Ta(){if(!rg&&Ui!==null){rg=!0;var o=0,l=jt;try{var m=Ui;for(jt=1;o<m.length;o++){var x=m[o];do x=x(!0);while(x!==null)}Ui=null,Oh=!1}catch(_){throw Ui!==null&&(Ui=Ui.slice(o+1)),yl(uo,Ta),_}finally{jt=l,rg=!1}}return null}var Ol=[],Ul=0,Uh=null,zh=0,_r=[],wr=0,_o=null,zi=1,Hi="";function wo(o,l){Ol[Ul++]=zh,Ol[Ul++]=Uh,Uh=o,zh=l}function U1(o,l,m){_r[wr++]=zi,_r[wr++]=Hi,_r[wr++]=_o,_o=o;var x=zi;o=Hi;var _=32-jn(x)-1;x&=~(1<<_),m+=1;var k=32-jn(l)+_;if(30<k){var O=_-_%5;k=(x&(1<<O)-1).toString(32),x>>=O,_-=O,zi=1<<32-jn(l)+_|m<<_|x,Hi=k+o}else zi=1<<k|m<<_|x,Hi=o}function ig(o){o.return!==null&&(wo(o,1),U1(o,1,0))}function ag(o){for(;o===Uh;)Uh=Ol[--Ul],Ol[Ul]=null,zh=Ol[--Ul],Ol[Ul]=null;for(;o===_o;)_o=_r[--wr],_r[wr]=null,Hi=_r[--wr],_r[wr]=null,zi=_r[--wr],_r[wr]=null}var ir=null,ar=null,Zt=!1,Kr=null;function z1(o,l){var m=kr(5,null,null,0);m.elementType="DELETED",m.stateNode=l,m.return=o,l=o.deletions,l===null?(o.deletions=[m],o.flags|=16):l.push(m)}function H1(o,l){switch(o.tag){case 5:var m=o.type;return l=l.nodeType!==1||m.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,ir=o,ar=Na(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,ir=o,ar=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(m=_o!==null?{id:zi,overflow:Hi}:null,o.memoizedState={dehydrated:l,treeContext:m,retryLane:1073741824},m=kr(18,null,null,0),m.stateNode=l,m.return=o,o.child=m,ir=o,ar=null,!0):!1;default:return!1}}function og(o){return(o.mode&1)!==0&&(o.flags&128)===0}function lg(o){if(Zt){var l=ar;if(l){var m=l;if(!H1(o,l)){if(og(o))throw Error(n(418));l=Na(m.nextSibling);var x=ir;l&&H1(o,l)?z1(x,m):(o.flags=o.flags&-4097|2,Zt=!1,ir=o)}}else{if(og(o))throw Error(n(418));o.flags=o.flags&-4097|2,Zt=!1,ir=o}}}function G1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;ir=o}function Hh(o){if(o!==ir)return!1;if(!Zt)return G1(o),Zt=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Zf(o.type,o.memoizedProps)),l&&(l=ar)){if(og(o))throw W1(),Error(n(418));for(;l;)z1(o,l),l=Na(l.nextSibling)}if(G1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(l===0){ar=Na(o.nextSibling);break e}l--}else m!=="$"&&m!=="$!"&&m!=="$?"||l++}o=o.nextSibling}ar=null}}else ar=ir?Na(o.stateNode.nextSibling):null;return!0}function W1(){for(var o=ar;o;)o=Na(o.nextSibling)}function zl(){ar=ir=null,Zt=!1}function cg(o){Kr===null?Kr=[o]:Kr.push(o)}var hT=y.ReactCurrentBatchConfig;function xd(o,l,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,o));var _=x,k=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(O){var K=_.refs;O===null?delete K[k]:K[k]=O},l._stringRef=k,l)}if(typeof o!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,o))}return o}function Gh(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function q1(o){var l=o._init;return l(o._payload)}function K1(o){function l(oe,Z){if(o){var le=oe.deletions;le===null?(oe.deletions=[Z],oe.flags|=16):le.push(Z)}}function m(oe,Z){if(!o)return null;for(;Z!==null;)l(oe,Z),Z=Z.sibling;return null}function x(oe,Z){for(oe=new Map;Z!==null;)Z.key!==null?oe.set(Z.key,Z):oe.set(Z.index,Z),Z=Z.sibling;return oe}function _(oe,Z){return oe=Ma(oe,Z),oe.index=0,oe.sibling=null,oe}function k(oe,Z,le){return oe.index=le,o?(le=oe.alternate,le!==null?(le=le.index,le<Z?(oe.flags|=2,Z):le):(oe.flags|=2,Z)):(oe.flags|=1048576,Z)}function O(oe){return o&&oe.alternate===null&&(oe.flags|=2),oe}function K(oe,Z,le,ke){return Z===null||Z.tag!==6?(Z=ex(le,oe.mode,ke),Z.return=oe,Z):(Z=_(Z,le),Z.return=oe,Z)}function X(oe,Z,le,ke){var He=le.type;return He===C?ye(oe,Z,le.props.children,ke,le.key):Z!==null&&(Z.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===q&&q1(He)===Z.type)?(ke=_(Z,le.props),ke.ref=xd(oe,Z,le),ke.return=oe,ke):(ke=fm(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=xd(oe,Z,le),ke.return=oe,ke)}function de(oe,Z,le,ke){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==le.containerInfo||Z.stateNode.implementation!==le.implementation?(Z=tx(le,oe.mode,ke),Z.return=oe,Z):(Z=_(Z,le.children||[]),Z.return=oe,Z)}function ye(oe,Z,le,ke,He){return Z===null||Z.tag!==7?(Z=Ao(le,oe.mode,ke,He),Z.return=oe,Z):(Z=_(Z,le),Z.return=oe,Z)}function je(oe,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=ex(""+Z,oe.mode,le),Z.return=oe,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return le=fm(Z.type,Z.key,Z.props,null,oe.mode,le),le.ref=xd(oe,null,Z),le.return=oe,le;case M:return Z=tx(Z,oe.mode,le),Z.return=oe,Z;case q:var ke=Z._init;return je(oe,ke(Z._payload),le)}if(Ds(Z)||te(Z))return Z=Ao(Z,oe.mode,le,null),Z.return=oe,Z;Gh(oe,Z)}return null}function ve(oe,Z,le,ke){var He=Z!==null?Z.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return He!==null?null:K(oe,Z,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case S:return le.key===He?X(oe,Z,le,ke):null;case M:return le.key===He?de(oe,Z,le,ke):null;case q:return He=le._init,ve(oe,Z,He(le._payload),ke)}if(Ds(le)||te(le))return He!==null?null:ye(oe,Z,le,ke,null);Gh(oe,le)}return null}function Fe(oe,Z,le,ke,He){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return oe=oe.get(le)||null,K(Z,oe,""+ke,He);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case S:return oe=oe.get(ke.key===null?le:ke.key)||null,X(Z,oe,ke,He);case M:return oe=oe.get(ke.key===null?le:ke.key)||null,de(Z,oe,ke,He);case q:var Ke=ke._init;return Fe(oe,Z,le,Ke(ke._payload),He)}if(Ds(ke)||te(ke))return oe=oe.get(le)||null,ye(Z,oe,ke,He,null);Gh(Z,ke)}return null}function Ve(oe,Z,le,ke){for(var He=null,Ke=null,Qe=Z,Je=Z=0,Vs=null;Qe!==null&&Je<le.length;Je++){Qe.index>Je?(Vs=Qe,Qe=null):Vs=Qe.sibling;var It=ve(oe,Qe,le[Je],ke);if(It===null){Qe===null&&(Qe=Vs);break}o&&Qe&&It.alternate===null&&l(oe,Qe),Z=k(It,Z,Je),Ke===null?He=It:Ke.sibling=It,Ke=It,Qe=Vs}if(Je===le.length)return m(oe,Qe),Zt&&wo(oe,Je),He;if(Qe===null){for(;Je<le.length;Je++)Qe=je(oe,le[Je],ke),Qe!==null&&(Z=k(Qe,Z,Je),Ke===null?He=Qe:Ke.sibling=Qe,Ke=Qe);return Zt&&wo(oe,Je),He}for(Qe=x(oe,Qe);Je<le.length;Je++)Vs=Fe(Qe,oe,Je,le[Je],ke),Vs!==null&&(o&&Vs.alternate!==null&&Qe.delete(Vs.key===null?Je:Vs.key),Z=k(Vs,Z,Je),Ke===null?He=Vs:Ke.sibling=Vs,Ke=Vs);return o&&Qe.forEach(function(Fa){return l(oe,Fa)}),Zt&&wo(oe,Je),He}function Oe(oe,Z,le,ke){var He=te(le);if(typeof He!="function")throw Error(n(150));if(le=He.call(le),le==null)throw Error(n(151));for(var Ke=He=null,Qe=Z,Je=Z=0,Vs=null,It=le.next();Qe!==null&&!It.done;Je++,It=le.next()){Qe.index>Je?(Vs=Qe,Qe=null):Vs=Qe.sibling;var Fa=ve(oe,Qe,It.value,ke);if(Fa===null){Qe===null&&(Qe=Vs);break}o&&Qe&&Fa.alternate===null&&l(oe,Qe),Z=k(Fa,Z,Je),Ke===null?He=Fa:Ke.sibling=Fa,Ke=Fa,Qe=Vs}if(It.done)return m(oe,Qe),Zt&&wo(oe,Je),He;if(Qe===null){for(;!It.done;Je++,It=le.next())It=je(oe,It.value,ke),It!==null&&(Z=k(It,Z,Je),Ke===null?He=It:Ke.sibling=It,Ke=It);return Zt&&wo(oe,Je),He}for(Qe=x(oe,Qe);!It.done;Je++,It=le.next())It=Fe(Qe,oe,Je,It.value,ke),It!==null&&(o&&It.alternate!==null&&Qe.delete(It.key===null?Je:It.key),Z=k(It,Z,Je),Ke===null?He=It:Ke.sibling=It,Ke=It);return o&&Qe.forEach(function(GT){return l(oe,GT)}),Zt&&wo(oe,Je),He}function vs(oe,Z,le,ke){if(typeof le=="object"&&le!==null&&le.type===C&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case S:e:{for(var He=le.key,Ke=Z;Ke!==null;){if(Ke.key===He){if(He=le.type,He===C){if(Ke.tag===7){m(oe,Ke.sibling),Z=_(Ke,le.props.children),Z.return=oe,oe=Z;break e}}else if(Ke.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===q&&q1(He)===Ke.type){m(oe,Ke.sibling),Z=_(Ke,le.props),Z.ref=xd(oe,Ke,le),Z.return=oe,oe=Z;break e}m(oe,Ke);break}else l(oe,Ke);Ke=Ke.sibling}le.type===C?(Z=Ao(le.props.children,oe.mode,ke,le.key),Z.return=oe,oe=Z):(ke=fm(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=xd(oe,Z,le),ke.return=oe,oe=ke)}return O(oe);case M:e:{for(Ke=le.key;Z!==null;){if(Z.key===Ke)if(Z.tag===4&&Z.stateNode.containerInfo===le.containerInfo&&Z.stateNode.implementation===le.implementation){m(oe,Z.sibling),Z=_(Z,le.children||[]),Z.return=oe,oe=Z;break e}else{m(oe,Z);break}else l(oe,Z);Z=Z.sibling}Z=tx(le,oe.mode,ke),Z.return=oe,oe=Z}return O(oe);case q:return Ke=le._init,vs(oe,Z,Ke(le._payload),ke)}if(Ds(le))return Ve(oe,Z,le,ke);if(te(le))return Oe(oe,Z,le,ke);Gh(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,Z!==null&&Z.tag===6?(m(oe,Z.sibling),Z=_(Z,le),Z.return=oe,oe=Z):(m(oe,Z),Z=ex(le,oe.mode,ke),Z.return=oe,oe=Z),O(oe)):m(oe,Z)}return vs}var Hl=K1(!0),Q1=K1(!1),Wh=ka(null),qh=null,Gl=null,dg=null;function ug(){dg=Gl=qh=null}function hg(o){var l=Wh.current;Qt(Wh),o._currentValue=l}function mg(o,l,m){for(;o!==null;){var x=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),o===m)break;o=o.return}}function Wl(o,l){qh=o,dg=Gl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(On=!0),o.firstContext=null)}function jr(o){var l=o._currentValue;if(dg!==o)if(o={context:o,memoizedValue:l,next:null},Gl===null){if(qh===null)throw Error(n(308));Gl=o,qh.dependencies={lanes:0,firstContext:o}}else Gl=Gl.next=o;return l}var jo=null;function pg(o){jo===null?jo=[o]:jo.push(o)}function X1(o,l,m,x){var _=l.interleaved;return _===null?(m.next=m,pg(l)):(m.next=_.next,_.next=m),l.interleaved=m,Gi(o,x)}function Gi(o,l){o.lanes|=l;var m=o.alternate;for(m!==null&&(m.lanes|=l),m=o,o=o.return;o!==null;)o.childLanes|=l,m=o.alternate,m!==null&&(m.childLanes|=l),m=o,o=o.return;return m.tag===3?m.stateNode:null}var Ea=!1;function fg(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y1(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Wi(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Aa(o,l,m){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(Ct&2)!==0){var _=x.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),x.pending=l,Gi(o,m)}return _=x.interleaved,_===null?(l.next=l,pg(x)):(l.next=_.next,_.next=l),x.interleaved=l,Gi(o,m)}function Kh(o,l,m){if(l=l.updateQueue,l!==null&&(l=l.shared,(m&4194240)!==0)){var x=l.lanes;x&=o.pendingLanes,m|=x,l.lanes=m,ya(o,m)}}function J1(o,l){var m=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var _=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var O={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};k===null?_=k=O:k=k.next=O,m=m.next}while(m!==null);k===null?_=k=l:k=k.next=l}else _=k=l;m={baseState:x.baseState,firstBaseUpdate:_,lastBaseUpdate:k,shared:x.shared,effects:x.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=l:o.next=l,m.lastBaseUpdate=l}function Qh(o,l,m,x){var _=o.updateQueue;Ea=!1;var k=_.firstBaseUpdate,O=_.lastBaseUpdate,K=_.shared.pending;if(K!==null){_.shared.pending=null;var X=K,de=X.next;X.next=null,O===null?k=de:O.next=de,O=X;var ye=o.alternate;ye!==null&&(ye=ye.updateQueue,K=ye.lastBaseUpdate,K!==O&&(K===null?ye.firstBaseUpdate=de:K.next=de,ye.lastBaseUpdate=X))}if(k!==null){var je=_.baseState;O=0,ye=de=X=null,K=k;do{var ve=K.lane,Fe=K.eventTime;if((x&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Fe,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var Ve=o,Oe=K;switch(ve=l,Fe=m,Oe.tag){case 1:if(Ve=Oe.payload,typeof Ve=="function"){je=Ve.call(Fe,je,ve);break e}je=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Oe.payload,ve=typeof Ve=="function"?Ve.call(Fe,je,ve):Ve,ve==null)break e;je=re({},je,ve);break e;case 2:Ea=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,ve=_.effects,ve===null?_.effects=[K]:ve.push(K))}else Fe={eventTime:Fe,lane:ve,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ye===null?(de=ye=Fe,X=je):ye=ye.next=Fe,O|=ve;if(K=K.next,K===null){if(K=_.shared.pending,K===null)break;ve=K,K=ve.next,ve.next=null,_.lastBaseUpdate=ve,_.shared.pending=null}}while(!0);if(ye===null&&(X=je),_.baseState=X,_.firstBaseUpdate=de,_.lastBaseUpdate=ye,l=_.shared.interleaved,l!==null){_=l;do O|=_.lane,_=_.next;while(_!==l)}else k===null&&(_.shared.lanes=0);ko|=O,o.lanes=O,o.memoizedState=je}}function Z1(o,l,m){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var x=o[l],_=x.callback;if(_!==null){if(x.callback=null,x=m,typeof _!="function")throw Error(n(191,_));_.call(x)}}}var vd={},xi=ka(vd),yd=ka(vd),bd=ka(vd);function So(o){if(o===vd)throw Error(n(174));return o}function gg(o,l){switch(Ut(bd,l),Ut(yd,o),Ut(xi,vd),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Wt(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=Wt(l,o)}Qt(xi),Ut(xi,l)}function ql(){Qt(xi),Qt(yd),Qt(bd)}function eb(o){So(bd.current);var l=So(xi.current),m=Wt(l,o.type);l!==m&&(Ut(yd,o),Ut(xi,m))}function xg(o){yd.current===o&&(Qt(xi),Qt(yd))}var rs=ka(0);function Xh(o){for(var l=o;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var vg=[];function yg(){for(var o=0;o<vg.length;o++)vg[o]._workInProgressVersionPrimary=null;vg.length=0}var Yh=y.ReactCurrentDispatcher,bg=y.ReactCurrentBatchConfig,No=0,is=null,Is=null,Bs=null,Jh=!1,_d=!1,wd=0,mT=0;function hn(){throw Error(n(321))}function _g(o,l){if(l===null)return!1;for(var m=0;m<l.length&&m<o.length;m++)if(!qr(o[m],l[m]))return!1;return!0}function wg(o,l,m,x,_,k){if(No=k,is=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Yh.current=o===null||o.memoizedState===null?xT:vT,o=m(x,_),_d){k=0;do{if(_d=!1,wd=0,25<=k)throw Error(n(301));k+=1,Bs=Is=null,l.updateQueue=null,Yh.current=yT,o=m(x,_)}while(_d)}if(Yh.current=tm,l=Is!==null&&Is.next!==null,No=0,Bs=Is=is=null,Jh=!1,l)throw Error(n(300));return o}function jg(){var o=wd!==0;return wd=0,o}function vi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bs===null?is.memoizedState=Bs=o:Bs=Bs.next=o,Bs}function Sr(){if(Is===null){var o=is.alternate;o=o!==null?o.memoizedState:null}else o=Is.next;var l=Bs===null?is.memoizedState:Bs.next;if(l!==null)Bs=l,Is=o;else{if(o===null)throw Error(n(310));Is=o,o={memoizedState:Is.memoizedState,baseState:Is.baseState,baseQueue:Is.baseQueue,queue:Is.queue,next:null},Bs===null?is.memoizedState=Bs=o:Bs=Bs.next=o}return Bs}function jd(o,l){return typeof l=="function"?l(o):l}function Sg(o){var l=Sr(),m=l.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var x=Is,_=x.baseQueue,k=m.pending;if(k!==null){if(_!==null){var O=_.next;_.next=k.next,k.next=O}x.baseQueue=_=k,m.pending=null}if(_!==null){k=_.next,x=x.baseState;var K=O=null,X=null,de=k;do{var ye=de.lane;if((No&ye)===ye)X!==null&&(X=X.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),x=de.hasEagerState?de.eagerState:o(x,de.action);else{var je={lane:ye,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};X===null?(K=X=je,O=x):X=X.next=je,is.lanes|=ye,ko|=ye}de=de.next}while(de!==null&&de!==k);X===null?O=x:X.next=K,qr(x,l.memoizedState)||(On=!0),l.memoizedState=x,l.baseState=O,l.baseQueue=X,m.lastRenderedState=x}if(o=m.interleaved,o!==null){_=o;do k=_.lane,is.lanes|=k,ko|=k,_=_.next;while(_!==o)}else _===null&&(m.lanes=0);return[l.memoizedState,m.dispatch]}function Ng(o){var l=Sr(),m=l.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var x=m.dispatch,_=m.pending,k=l.memoizedState;if(_!==null){m.pending=null;var O=_=_.next;do k=o(k,O.action),O=O.next;while(O!==_);qr(k,l.memoizedState)||(On=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),m.lastRenderedState=k}return[k,x]}function tb(){}function sb(o,l){var m=is,x=Sr(),_=l(),k=!qr(x.memoizedState,_);if(k&&(x.memoizedState=_,On=!0),x=x.queue,kg(ib.bind(null,m,x,o),[o]),x.getSnapshot!==l||k||Bs!==null&&Bs.memoizedState.tag&1){if(m.flags|=2048,Sd(9,rb.bind(null,m,x,_,l),void 0,null),$s===null)throw Error(n(349));(No&30)!==0||nb(m,l,_)}return _}function nb(o,l,m){o.flags|=16384,o={getSnapshot:l,value:m},l=is.updateQueue,l===null?(l={lastEffect:null,stores:null},is.updateQueue=l,l.stores=[o]):(m=l.stores,m===null?l.stores=[o]:m.push(o))}function rb(o,l,m,x){l.value=m,l.getSnapshot=x,ab(l)&&ob(o)}function ib(o,l,m){return m(function(){ab(l)&&ob(o)})}function ab(o){var l=o.getSnapshot;o=o.value;try{var m=l();return!qr(o,m)}catch(x){return!0}}function ob(o){var l=Gi(o,1);l!==null&&Jr(l,o,1,-1)}function lb(o){var l=vi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jd,lastRenderedState:o},l.queue=o,o=o.dispatch=gT.bind(null,is,o),[l.memoizedState,o]}function Sd(o,l,m,x){return o={tag:o,create:l,destroy:m,deps:x,next:null},l=is.updateQueue,l===null?(l={lastEffect:null,stores:null},is.updateQueue=l,l.lastEffect=o.next=o):(m=l.lastEffect,m===null?l.lastEffect=o.next=o:(x=m.next,m.next=o,o.next=x,l.lastEffect=o)),o}function cb(){return Sr().memoizedState}function Zh(o,l,m,x){var _=vi();is.flags|=o,_.memoizedState=Sd(1|l,m,void 0,x===void 0?null:x)}function em(o,l,m,x){var _=Sr();x=x===void 0?null:x;var k=void 0;if(Is!==null){var O=Is.memoizedState;if(k=O.destroy,x!==null&&_g(x,O.deps)){_.memoizedState=Sd(l,m,k,x);return}}is.flags|=o,_.memoizedState=Sd(1|l,m,k,x)}function db(o,l){return Zh(8390656,8,o,l)}function kg(o,l){return em(2048,8,o,l)}function ub(o,l){return em(4,2,o,l)}function hb(o,l){return em(4,4,o,l)}function mb(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function pb(o,l,m){return m=m!=null?m.concat([o]):null,em(4,4,mb.bind(null,l,o),m)}function Cg(){}function fb(o,l){var m=Sr();l=l===void 0?null:l;var x=m.memoizedState;return x!==null&&l!==null&&_g(l,x[1])?x[0]:(m.memoizedState=[o,l],o)}function gb(o,l){var m=Sr();l=l===void 0?null:l;var x=m.memoizedState;return x!==null&&l!==null&&_g(l,x[1])?x[0]:(o=o(),m.memoizedState=[o,l],o)}function xb(o,l,m){return(No&21)===0?(o.baseState&&(o.baseState=!1,On=!0),o.memoizedState=m):(qr(m,l)||(m=po(),is.lanes|=m,ko|=m,o.baseState=!0),l)}function pT(o,l){var m=jt;jt=m!==0&&4>m?m:4,o(!0);var x=bg.transition;bg.transition={};try{o(!1),l()}finally{jt=m,bg.transition=x}}function vb(){return Sr().memoizedState}function fT(o,l,m){var x=La(o);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},yb(o))bb(l,m);else if(m=X1(o,l,m,x),m!==null){var _=kn();Jr(m,o,x,_),_b(m,l,x)}}function gT(o,l,m){var x=La(o),_={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(yb(o))bb(l,_);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var O=l.lastRenderedState,K=k(O,m);if(_.hasEagerState=!0,_.eagerState=K,qr(K,O)){var X=l.interleaved;X===null?(_.next=_,pg(l)):(_.next=X.next,X.next=_),l.interleaved=_;return}}catch(de){}finally{}m=X1(o,l,_,x),m!==null&&(_=kn(),Jr(m,o,x,_),_b(m,l,x))}}function yb(o){var l=o.alternate;return o===is||l!==null&&l===is}function bb(o,l){_d=Jh=!0;var m=o.pending;m===null?l.next=l:(l.next=m.next,m.next=l),o.pending=l}function _b(o,l,m){if((m&4194240)!==0){var x=l.lanes;x&=o.pendingLanes,m|=x,l.lanes=m,ya(o,m)}}var tm={readContext:jr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},xT={readContext:jr,useCallback:function(o,l){return vi().memoizedState=[o,l===void 0?null:l],o},useContext:jr,useEffect:db,useImperativeHandle:function(o,l,m){return m=m!=null?m.concat([o]):null,Zh(4194308,4,mb.bind(null,l,o),m)},useLayoutEffect:function(o,l){return Zh(4194308,4,o,l)},useInsertionEffect:function(o,l){return Zh(4,2,o,l)},useMemo:function(o,l){var m=vi();return l=l===void 0?null:l,o=o(),m.memoizedState=[o,l],o},useReducer:function(o,l,m){var x=vi();return l=m!==void 0?m(l):l,x.memoizedState=x.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},x.queue=o,o=o.dispatch=fT.bind(null,is,o),[x.memoizedState,o]},useRef:function(o){var l=vi();return o={current:o},l.memoizedState=o},useState:lb,useDebugValue:Cg,useDeferredValue:function(o){return vi().memoizedState=o},useTransition:function(){var o=lb(!1),l=o[0];return o=pT.bind(null,o[1]),vi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,m){var x=is,_=vi();if(Zt){if(m===void 0)throw Error(n(407));m=m()}else{if(m=l(),$s===null)throw Error(n(349));(No&30)!==0||nb(x,l,m)}_.memoizedState=m;var k={value:m,getSnapshot:l};return _.queue=k,db(ib.bind(null,x,k,o),[o]),x.flags|=2048,Sd(9,rb.bind(null,x,k,m,l),void 0,null),m},useId:function(){var o=vi(),l=$s.identifierPrefix;if(Zt){var m=Hi,x=zi;m=(x&~(1<<32-jn(x)-1)).toString(32)+m,l=":"+l+"R"+m,m=wd++,0<m&&(l+="H"+m.toString(32)),l+=":"}else m=mT++,l=":"+l+"r"+m.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},vT={readContext:jr,useCallback:fb,useContext:jr,useEffect:kg,useImperativeHandle:pb,useInsertionEffect:ub,useLayoutEffect:hb,useMemo:gb,useReducer:Sg,useRef:cb,useState:function(){return Sg(jd)},useDebugValue:Cg,useDeferredValue:function(o){var l=Sr();return xb(l,Is.memoizedState,o)},useTransition:function(){var o=Sg(jd)[0],l=Sr().memoizedState;return[o,l]},useMutableSource:tb,useSyncExternalStore:sb,useId:vb,unstable_isNewReconciler:!1},yT={readContext:jr,useCallback:fb,useContext:jr,useEffect:kg,useImperativeHandle:pb,useInsertionEffect:ub,useLayoutEffect:hb,useMemo:gb,useReducer:Ng,useRef:cb,useState:function(){return Ng(jd)},useDebugValue:Cg,useDeferredValue:function(o){var l=Sr();return Is===null?l.memoizedState=o:xb(l,Is.memoizedState,o)},useTransition:function(){var o=Ng(jd)[0],l=Sr().memoizedState;return[o,l]},useMutableSource:tb,useSyncExternalStore:sb,useId:vb,unstable_isNewReconciler:!1};function Qr(o,l){if(o&&o.defaultProps){l=re({},l),o=o.defaultProps;for(var m in o)l[m]===void 0&&(l[m]=o[m]);return l}return l}function Tg(o,l,m,x){l=o.memoizedState,m=m(x,l),m=m==null?l:re({},l,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var sm={isMounted:function(o){return(o=o._reactInternals)?Vr(o)===o:!1},enqueueSetState:function(o,l,m){o=o._reactInternals;var x=kn(),_=La(o),k=Wi(x,_);k.payload=l,m!=null&&(k.callback=m),l=Aa(o,k,_),l!==null&&(Jr(l,o,_,x),Kh(l,o,_))},enqueueReplaceState:function(o,l,m){o=o._reactInternals;var x=kn(),_=La(o),k=Wi(x,_);k.tag=1,k.payload=l,m!=null&&(k.callback=m),l=Aa(o,k,_),l!==null&&(Jr(l,o,_,x),Kh(l,o,_))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var m=kn(),x=La(o),_=Wi(m,x);_.tag=2,l!=null&&(_.callback=l),l=Aa(o,_,x),l!==null&&(Jr(l,o,x,m),Kh(l,o,x))}};function wb(o,l,m,x,_,k,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,k,O):l.prototype&&l.prototype.isPureReactComponent?!dd(m,x)||!dd(_,k):!0}function jb(o,l,m){var x=!1,_=Ca,k=l.contextType;return typeof k=="object"&&k!==null?k=jr(k):(_=Vn(l)?bo:un.current,x=l.contextTypes,k=(x=x!=null)?Vl(o,_):Ca),l=new l(m,k),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=sm,o.stateNode=l,l._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=k),l}function Sb(o,l,m,x){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,x),l.state!==o&&sm.enqueueReplaceState(l,l.state,null)}function Eg(o,l,m,x){var _=o.stateNode;_.props=m,_.state=o.memoizedState,_.refs={},fg(o);var k=l.contextType;typeof k=="object"&&k!==null?_.context=jr(k):(k=Vn(l)?bo:un.current,_.context=Vl(o,k)),_.state=o.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(Tg(o,l,k,m),_.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&sm.enqueueReplaceState(_,_.state,null),Qh(o,m,_,x),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function Kl(o,l){try{var m="",x=l;do m+=fe(x),x=x.return;while(x);var _=m}catch(k){_=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:l,stack:_,digest:null}}function Ag(o,l,m){return{value:o,source:null,stack:m!=null?m:null,digest:l!=null?l:null}}function Ig(o,l){try{console.error(l.value)}catch(m){setTimeout(function(){throw m})}}var bT=typeof WeakMap=="function"?WeakMap:Map;function Nb(o,l,m){m=Wi(-1,m),m.tag=3,m.payload={element:null};var x=l.value;return m.callback=function(){cm||(cm=!0,Wg=x),Ig(o,l)},m}function kb(o,l,m){m=Wi(-1,m),m.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var _=l.value;m.payload=function(){return x(_)},m.callback=function(){Ig(o,l)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(m.callback=function(){Ig(o,l),typeof x!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})}),m}function Cb(o,l,m){var x=o.pingCache;if(x===null){x=o.pingCache=new bT;var _=new Set;x.set(l,_)}else _=x.get(l),_===void 0&&(_=new Set,x.set(l,_));_.has(m)||(_.add(m),o=LT.bind(null,o,l,m),l.then(o,o))}function Tb(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Eb(o,l,m,x,_){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(l=Wi(-1,1),l.tag=2,Aa(m,l,1))),m.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var _T=y.ReactCurrentOwner,On=!1;function Nn(o,l,m,x){l.child=o===null?Q1(l,null,m,x):Hl(l,o.child,m,x)}function Ab(o,l,m,x,_){m=m.render;var k=l.ref;return Wl(l,_),x=wg(o,l,m,x,k,_),m=jg(),o!==null&&!On?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,qi(o,l,_)):(Zt&&m&&ig(l),l.flags|=1,Nn(o,l,x,_),l.child)}function Ib(o,l,m,x,_){if(o===null){var k=m.type;return typeof k=="function"&&!Zg(k)&&k.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(l.tag=15,l.type=k,Rb(o,l,k,x,_)):(o=fm(m.type,null,x,l,l.mode,_),o.ref=l.ref,o.return=l,l.child=o)}if(k=o.child,(o.lanes&_)===0){var O=k.memoizedProps;if(m=m.compare,m=m!==null?m:dd,m(O,x)&&o.ref===l.ref)return qi(o,l,_)}return l.flags|=1,o=Ma(k,x),o.ref=l.ref,o.return=l,l.child=o}function Rb(o,l,m,x,_){if(o!==null){var k=o.memoizedProps;if(dd(k,x)&&o.ref===l.ref)if(On=!1,l.pendingProps=x=k,(o.lanes&_)!==0)(o.flags&131072)!==0&&(On=!0);else return l.lanes=o.lanes,qi(o,l,_)}return Rg(o,l,m,x,_)}function Pb(o,l,m){var x=l.pendingProps,_=x.children,k=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(Xl,or),or|=m;else{if((m&1073741824)===0)return o=k!==null?k.baseLanes|m:m,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Ut(Xl,or),or|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=k!==null?k.baseLanes:m,Ut(Xl,or),or|=x}else k!==null?(x=k.baseLanes|m,l.memoizedState=null):x=m,Ut(Xl,or),or|=x;return Nn(o,l,_,m),l.child}function Lb(o,l){var m=l.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(l.flags|=512,l.flags|=2097152)}function Rg(o,l,m,x,_){var k=Vn(m)?bo:un.current;return k=Vl(l,k),Wl(l,_),m=wg(o,l,m,x,k,_),x=jg(),o!==null&&!On?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~_,qi(o,l,_)):(Zt&&x&&ig(l),l.flags|=1,Nn(o,l,m,_),l.child)}function Db(o,l,m,x,_){if(Vn(m)){var k=!0;Vh(l)}else k=!1;if(Wl(l,_),l.stateNode===null)rm(o,l),jb(l,m,x),Eg(l,m,x,_),x=!0;else if(o===null){var O=l.stateNode,K=l.memoizedProps;O.props=K;var X=O.context,de=m.contextType;typeof de=="object"&&de!==null?de=jr(de):(de=Vn(m)?bo:un.current,de=Vl(l,de));var ye=m.getDerivedStateFromProps,je=typeof ye=="function"||typeof O.getSnapshotBeforeUpdate=="function";je||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==x||X!==de)&&Sb(l,O,x,de),Ea=!1;var ve=l.memoizedState;O.state=ve,Qh(l,x,O,_),X=l.memoizedState,K!==x||ve!==X||$n.current||Ea?(typeof ye=="function"&&(Tg(l,m,ye,x),X=l.memoizedState),(K=Ea||wb(l,m,K,x,ve,X,de))?(je||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=X),O.props=x,O.state=X,O.context=de,x=K):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{O=l.stateNode,Y1(o,l),K=l.memoizedProps,de=l.type===l.elementType?K:Qr(l.type,K),O.props=de,je=l.pendingProps,ve=O.context,X=m.contextType,typeof X=="object"&&X!==null?X=jr(X):(X=Vn(m)?bo:un.current,X=Vl(l,X));var Fe=m.getDerivedStateFromProps;(ye=typeof Fe=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(K!==je||ve!==X)&&Sb(l,O,x,X),Ea=!1,ve=l.memoizedState,O.state=ve,Qh(l,x,O,_);var Ve=l.memoizedState;K!==je||ve!==Ve||$n.current||Ea?(typeof Fe=="function"&&(Tg(l,m,Fe,x),Ve=l.memoizedState),(de=Ea||wb(l,m,de,x,ve,Ve,X)||!1)?(ye||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,Ve,X),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,Ve,X)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||K===o.memoizedProps&&ve===o.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&ve===o.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=Ve),O.props=x,O.state=Ve,O.context=X,x=de):(typeof O.componentDidUpdate!="function"||K===o.memoizedProps&&ve===o.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&ve===o.memoizedState||(l.flags|=1024),x=!1)}return Pg(o,l,m,x,k,_)}function Pg(o,l,m,x,_,k){Lb(o,l);var O=(l.flags&128)!==0;if(!x&&!O)return _&&V1(l,m,!1),qi(o,l,k);x=l.stateNode,_T.current=l;var K=O&&typeof m.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,o!==null&&O?(l.child=Hl(l,o.child,null,k),l.child=Hl(l,null,K,k)):Nn(o,l,K,k),l.memoizedState=x.state,_&&V1(l,m,!0),l.child}function Mb(o){var l=o.stateNode;l.pendingContext?B1(o,l.pendingContext,l.pendingContext!==l.context):l.context&&B1(o,l.context,!1),gg(o,l.containerInfo)}function Fb(o,l,m,x,_){return zl(),cg(_),l.flags|=256,Nn(o,l,m,x),l.child}var Lg={dehydrated:null,treeContext:null,retryLane:0};function Dg(o){return{baseLanes:o,cachePool:null,transitions:null}}function Bb(o,l,m){var x=l.pendingProps,_=rs.current,k=!1,O=(l.flags&128)!==0,K;if((K=O)||(K=o!==null&&o.memoizedState===null?!1:(_&2)!==0),K?(k=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),Ut(rs,_&1),o===null)return lg(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(O=x.children,o=x.fallback,k?(x=l.mode,k=l.child,O={mode:"hidden",children:O},(x&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=O):k=gm(O,x,0,null),o=Ao(o,x,m,null),k.return=l,o.return=l,k.sibling=o,l.child=k,l.child.memoizedState=Dg(m),l.memoizedState=Lg,o):Mg(l,O));if(_=o.memoizedState,_!==null&&(K=_.dehydrated,K!==null))return wT(o,l,O,x,K,_,m);if(k){k=x.fallback,O=l.mode,_=o.child,K=_.sibling;var X={mode:"hidden",children:x.children};return(O&1)===0&&l.child!==_?(x=l.child,x.childLanes=0,x.pendingProps=X,l.deletions=null):(x=Ma(_,X),x.subtreeFlags=_.subtreeFlags&14680064),K!==null?k=Ma(K,k):(k=Ao(k,O,m,null),k.flags|=2),k.return=l,x.return=l,x.sibling=k,l.child=x,x=k,k=l.child,O=o.child.memoizedState,O=O===null?Dg(m):{baseLanes:O.baseLanes|m,cachePool:null,transitions:O.transitions},k.memoizedState=O,k.childLanes=o.childLanes&~m,l.memoizedState=Lg,x}return k=o.child,o=k.sibling,x=Ma(k,{mode:"visible",children:x.children}),(l.mode&1)===0&&(x.lanes=m),x.return=l,x.sibling=null,o!==null&&(m=l.deletions,m===null?(l.deletions=[o],l.flags|=16):m.push(o)),l.child=x,l.memoizedState=null,x}function Mg(o,l){return l=gm({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function nm(o,l,m,x){return x!==null&&cg(x),Hl(l,o.child,null,m),o=Mg(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function wT(o,l,m,x,_,k,O){if(m)return l.flags&256?(l.flags&=-257,x=Ag(Error(n(422))),nm(o,l,O,x)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(k=x.fallback,_=l.mode,x=gm({mode:"visible",children:x.children},_,0,null),k=Ao(k,_,O,null),k.flags|=2,x.return=l,k.return=l,x.sibling=k,l.child=x,(l.mode&1)!==0&&Hl(l,o.child,null,O),l.child.memoizedState=Dg(O),l.memoizedState=Lg,k);if((l.mode&1)===0)return nm(o,l,O,null);if(_.data==="$!"){if(x=_.nextSibling&&_.nextSibling.dataset,x)var K=x.dgst;return x=K,k=Error(n(419)),x=Ag(k,x,void 0),nm(o,l,O,x)}if(K=(O&o.childLanes)!==0,On||K){if(x=$s,x!==null){switch(O&-O){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(x.suspendedLanes|O))!==0?0:_,_!==0&&_!==k.retryLane&&(k.retryLane=_,Gi(o,_),Jr(x,o,_,-1))}return Jg(),x=Ag(Error(n(421))),nm(o,l,O,x)}return _.data==="$?"?(l.flags|=128,l.child=o.child,l=DT.bind(null,o),_._reactRetry=l,null):(o=k.treeContext,ar=Na(_.nextSibling),ir=l,Zt=!0,Kr=null,o!==null&&(_r[wr++]=zi,_r[wr++]=Hi,_r[wr++]=_o,zi=o.id,Hi=o.overflow,_o=l),l=Mg(l,x.children),l.flags|=4096,l)}function $b(o,l,m){o.lanes|=l;var x=o.alternate;x!==null&&(x.lanes|=l),mg(o.return,l,m)}function Fg(o,l,m,x,_){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:_}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=m,k.tailMode=_)}function Vb(o,l,m){var x=l.pendingProps,_=x.revealOrder,k=x.tail;if(Nn(o,l,x.children,m),x=rs.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&$b(o,m,l);else if(o.tag===19)$b(o,m,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Ut(rs,x),(l.mode&1)===0)l.memoizedState=null;else switch(_){case"forwards":for(m=l.child,_=null;m!==null;)o=m.alternate,o!==null&&Xh(o)===null&&(_=m),m=m.sibling;m=_,m===null?(_=l.child,l.child=null):(_=m.sibling,m.sibling=null),Fg(l,!1,_,m,k);break;case"backwards":for(m=null,_=l.child,l.child=null;_!==null;){if(o=_.alternate,o!==null&&Xh(o)===null){l.child=_;break}o=_.sibling,_.sibling=m,m=_,_=o}Fg(l,!0,m,null,k);break;case"together":Fg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function rm(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function qi(o,l,m){if(o!==null&&(l.dependencies=o.dependencies),ko|=l.lanes,(m&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,m=Ma(o,o.pendingProps),l.child=m,m.return=l;o.sibling!==null;)o=o.sibling,m=m.sibling=Ma(o,o.pendingProps),m.return=l;m.sibling=null}return l.child}function jT(o,l,m){switch(l.tag){case 3:Mb(l),zl();break;case 5:eb(l);break;case 1:Vn(l.type)&&Vh(l);break;case 4:gg(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,_=l.memoizedProps.value;Ut(Wh,x._currentValue),x._currentValue=_;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(Ut(rs,rs.current&1),l.flags|=128,null):(m&l.child.childLanes)!==0?Bb(o,l,m):(Ut(rs,rs.current&1),o=qi(o,l,m),o!==null?o.sibling:null);Ut(rs,rs.current&1);break;case 19:if(x=(m&l.childLanes)!==0,(o.flags&128)!==0){if(x)return Vb(o,l,m);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Ut(rs,rs.current),x)break;return null;case 22:case 23:return l.lanes=0,Pb(o,l,m)}return qi(o,l,m)}var Ob,Bg,Ub,zb;Ob=function(o,l){for(var m=l.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break;for(;m.sibling===null;){if(m.return===null||m.return===l)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Bg=function(){},Ub=function(o,l,m,x){var _=o.memoizedProps;if(_!==x){o=l.stateNode,So(xi.current);var k=null;switch(m){case"input":_=ht(o,_),x=ht(o,x),k=[];break;case"select":_=re({},_,{value:void 0}),x=re({},x,{value:void 0}),k=[];break;case"textarea":_=Mn(o,_),x=Mn(o,x),k=[];break;default:typeof _.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Fh)}Fr(m,x);var O;m=null;for(de in _)if(!x.hasOwnProperty(de)&&_.hasOwnProperty(de)&&_[de]!=null)if(de==="style"){var K=_[de];for(O in K)K.hasOwnProperty(O)&&(m||(m={}),m[O]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?k||(k=[]):(k=k||[]).push(de,null));for(de in x){var X=x[de];if(K=_!=null?_[de]:void 0,x.hasOwnProperty(de)&&X!==K&&(X!=null||K!=null))if(de==="style")if(K){for(O in K)!K.hasOwnProperty(O)||X&&X.hasOwnProperty(O)||(m||(m={}),m[O]="");for(O in X)X.hasOwnProperty(O)&&K[O]!==X[O]&&(m||(m={}),m[O]=X[O])}else m||(k||(k=[]),k.push(de,m)),m=X;else de==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,K=K?K.__html:void 0,X!=null&&K!==X&&(k=k||[]).push(de,X)):de==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(de,""+X):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(X!=null&&de==="onScroll"&&Kt("scroll",o),k||K===X||(k=[])):(k=k||[]).push(de,X))}m&&(k=k||[]).push("style",m);var de=k;(l.updateQueue=de)&&(l.flags|=4)}},zb=function(o,l,m,x){m!==x&&(l.flags|=4)};function Nd(o,l){if(!Zt)switch(o.tailMode){case"hidden":l=o.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function mn(o){var l=o.alternate!==null&&o.alternate.child===o.child,m=0,x=0;if(l)for(var _=o.child;_!==null;)m|=_.lanes|_.childLanes,x|=_.subtreeFlags&14680064,x|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)m|=_.lanes|_.childLanes,x|=_.subtreeFlags,x|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=x,o.childLanes=m,l}function ST(o,l,m){var x=l.pendingProps;switch(ag(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(l),null;case 1:return Vn(l.type)&&$h(),mn(l),null;case 3:return x=l.stateNode,ql(),Qt($n),Qt(un),yg(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Hh(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Kr!==null&&(Qg(Kr),Kr=null))),Bg(o,l),mn(l),null;case 5:xg(l);var _=So(bd.current);if(m=l.type,o!==null&&l.stateNode!=null)Ub(o,l,m,x,_),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(n(166));return mn(l),null}if(o=So(xi.current),Hh(l)){x=l.stateNode,m=l.type;var k=l.memoizedProps;switch(x[gi]=l,x[fd]=k,o=(l.mode&1)!==0,m){case"dialog":Kt("cancel",x),Kt("close",x);break;case"iframe":case"object":case"embed":Kt("load",x);break;case"video":case"audio":for(_=0;_<hd.length;_++)Kt(hd[_],x);break;case"source":Kt("error",x);break;case"img":case"image":case"link":Kt("error",x),Kt("load",x);break;case"details":Kt("toggle",x);break;case"input":ns(x,k),Kt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!k.multiple},Kt("invalid",x);break;case"textarea":bn(x,k),Kt("invalid",x)}Fr(m,k),_=null;for(var O in k)if(k.hasOwnProperty(O)){var K=k[O];O==="children"?typeof K=="string"?x.textContent!==K&&(k.suppressHydrationWarning!==!0&&Mh(x.textContent,K,o),_=["children",K]):typeof K=="number"&&x.textContent!==""+K&&(k.suppressHydrationWarning!==!0&&Mh(x.textContent,K,o),_=["children",""+K]):i.hasOwnProperty(O)&&K!=null&&O==="onScroll"&&Kt("scroll",x)}switch(m){case"input":De(x),Dn(x,k,!0);break;case"textarea":De(x),us(x);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(x.onclick=Fh)}x=_,l.updateQueue=x,x!==null&&(l.flags|=4)}else{O=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Yt(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=O.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=O.createElement(m,{is:x.is}):(o=O.createElement(m),m==="select"&&(O=o,x.multiple?O.multiple=!0:x.size&&(O.size=x.size))):o=O.createElementNS(o,m),o[gi]=l,o[fd]=x,Ob(o,l,!1,!1),l.stateNode=o;e:{switch(O=qt(m,x),m){case"dialog":Kt("cancel",o),Kt("close",o),_=x;break;case"iframe":case"object":case"embed":Kt("load",o),_=x;break;case"video":case"audio":for(_=0;_<hd.length;_++)Kt(hd[_],o);_=x;break;case"source":Kt("error",o),_=x;break;case"img":case"image":case"link":Kt("error",o),Kt("load",o),_=x;break;case"details":Kt("toggle",o),_=x;break;case"input":ns(o,x),_=ht(o,x),Kt("invalid",o);break;case"option":_=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},_=re({},x,{value:void 0}),Kt("invalid",o);break;case"textarea":bn(o,x),_=Mn(o,x),Kt("invalid",o);break;default:_=x}Fr(m,_),K=_;for(k in K)if(K.hasOwnProperty(k)){var X=K[k];k==="style"?Ii(o,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&li(o,X)):k==="children"?typeof X=="string"?(m!=="textarea"||X!=="")&&Jn(o,X):typeof X=="number"&&Jn(o,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Kt("scroll",o):X!=null&&T(o,k,X,O))}switch(m){case"input":De(o),Dn(o,x,!1);break;case"textarea":De(o),us(o);break;case"option":x.value!=null&&o.setAttribute("value",""+Ce(x.value));break;case"select":o.multiple=!!x.multiple,k=x.value,k!=null?Ms(o,!!x.multiple,k,!1):x.defaultValue!=null&&Ms(o,!!x.multiple,x.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=Fh)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return mn(l),null;case 6:if(o&&l.stateNode!=null)zb(o,l,o.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(n(166));if(m=So(bd.current),So(xi.current),Hh(l)){if(x=l.stateNode,m=l.memoizedProps,x[gi]=l,(k=x.nodeValue!==m)&&(o=ir,o!==null))switch(o.tag){case 3:Mh(x.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Mh(x.nodeValue,m,(o.mode&1)!==0)}k&&(l.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[gi]=l,l.stateNode=x}return mn(l),null;case 13:if(Qt(rs),x=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Zt&&ar!==null&&(l.mode&1)!==0&&(l.flags&128)===0)W1(),zl(),l.flags|=98560,k=!1;else if(k=Hh(l),x!==null&&x.dehydrated!==null){if(o===null){if(!k)throw Error(n(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[gi]=l}else zl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mn(l),k=!1}else Kr!==null&&(Qg(Kr),Kr=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=m,l):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(rs.current&1)!==0?Rs===0&&(Rs=3):Jg())),l.updateQueue!==null&&(l.flags|=4),mn(l),null);case 4:return ql(),Bg(o,l),o===null&&md(l.stateNode.containerInfo),mn(l),null;case 10:return hg(l.type._context),mn(l),null;case 17:return Vn(l.type)&&$h(),mn(l),null;case 19:if(Qt(rs),k=l.memoizedState,k===null)return mn(l),null;if(x=(l.flags&128)!==0,O=k.rendering,O===null)if(x)Nd(k,!1);else{if(Rs!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(O=Xh(o),O!==null){for(l.flags|=128,Nd(k,!1),x=O.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=m,m=l.child;m!==null;)k=m,o=x,k.flags&=14680066,O=k.alternate,O===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=O.childLanes,k.lanes=O.lanes,k.child=O.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=O.memoizedProps,k.memoizedState=O.memoizedState,k.updateQueue=O.updateQueue,k.type=O.type,o=O.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return Ut(rs,rs.current&1|2),l.child}o=o.sibling}k.tail!==null&&Ot()>Yl&&(l.flags|=128,x=!0,Nd(k,!1),l.lanes=4194304)}else{if(!x)if(o=Xh(O),o!==null){if(l.flags|=128,x=!0,m=o.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),Nd(k,!0),k.tail===null&&k.tailMode==="hidden"&&!O.alternate&&!Zt)return mn(l),null}else 2*Ot()-k.renderingStartTime>Yl&&m!==1073741824&&(l.flags|=128,x=!0,Nd(k,!1),l.lanes=4194304);k.isBackwards?(O.sibling=l.child,l.child=O):(m=k.last,m!==null?m.sibling=O:l.child=O,k.last=O)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=Ot(),l.sibling=null,m=rs.current,Ut(rs,x?m&1|2:m&1),l):(mn(l),null);case 22:case 23:return Yg(),x=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(l.flags|=8192),x&&(l.mode&1)!==0?(or&1073741824)!==0&&(mn(l),l.subtreeFlags&6&&(l.flags|=8192)):mn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function NT(o,l){switch(ag(l),l.tag){case 1:return Vn(l.type)&&$h(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return ql(),Qt($n),Qt(un),yg(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return xg(l),null;case 13:if(Qt(rs),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));zl()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Qt(rs),null;case 4:return ql(),null;case 10:return hg(l.type._context),null;case 22:case 23:return Yg(),null;case 24:return null;default:return null}}var im=!1,pn=!1,kT=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Ql(o,l){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){hs(o,l,x)}else m.current=null}function $g(o,l,m){try{m()}catch(x){hs(o,l,x)}}var Hb=!1;function CT(o,l){if(Yf=wa,o=w1(),zf(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var _=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{m.nodeType,k.nodeType}catch(ke){m=null;break e}var O=0,K=-1,X=-1,de=0,ye=0,je=o,ve=null;t:for(;;){for(var Fe;je!==m||_!==0&&je.nodeType!==3||(K=O+_),je!==k||x!==0&&je.nodeType!==3||(X=O+x),je.nodeType===3&&(O+=je.nodeValue.length),(Fe=je.firstChild)!==null;)ve=je,je=Fe;for(;;){if(je===o)break t;if(ve===m&&++de===_&&(K=O),ve===k&&++ye===x&&(X=O),(Fe=je.nextSibling)!==null)break;je=ve,ve=je.parentNode}je=Fe}m=K===-1||X===-1?null:{start:K,end:X}}else m=null}m=m||{start:0,end:0}}else m=null;for(Jf={focusedElem:o,selectionRange:m},wa=!1,$e=l;$e!==null;)if(l=$e,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,$e=o;else for(;$e!==null;){l=$e;try{var Ve=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ve!==null){var Oe=Ve.memoizedProps,vs=Ve.memoizedState,oe=l.stateNode,Z=oe.getSnapshotBeforeUpdate(l.elementType===l.type?Oe:Qr(l.type,Oe),vs);oe.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var le=l.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ke){hs(l,l.return,ke)}if(o=l.sibling,o!==null){o.return=l.return,$e=o;break}$e=l.return}return Ve=Hb,Hb=!1,Ve}function kd(o,l,m){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var _=x=x.next;do{if((_.tag&o)===o){var k=_.destroy;_.destroy=void 0,k!==void 0&&$g(l,m,k)}_=_.next}while(_!==x)}}function am(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var m=l=l.next;do{if((m.tag&o)===o){var x=m.create;m.destroy=x()}m=m.next}while(m!==l)}}function Vg(o){var l=o.ref;if(l!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof l=="function"?l(o):l.current=o}}function Gb(o){var l=o.alternate;l!==null&&(o.alternate=null,Gb(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[gi],delete l[fd],delete l[sg],delete l[cT],delete l[dT])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Wb(o){return o.tag===5||o.tag===3||o.tag===4}function qb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Wb(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Og(o,l,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?m.nodeType===8?m.parentNode.insertBefore(o,l):m.insertBefore(o,l):(m.nodeType===8?(l=m.parentNode,l.insertBefore(o,m)):(l=m,l.appendChild(o)),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=Fh));else if(x!==4&&(o=o.child,o!==null))for(Og(o,l,m),o=o.sibling;o!==null;)Og(o,l,m),o=o.sibling}function Ug(o,l,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?m.insertBefore(o,l):m.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Ug(o,l,m),o=o.sibling;o!==null;)Ug(o,l,m),o=o.sibling}var Xs=null,Xr=!1;function Ia(o,l,m){for(m=m.child;m!==null;)Kb(o,l,m),m=m.sibling}function Kb(o,l,m){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(ho,m)}catch(K){}switch(m.tag){case 5:pn||Ql(m,l);case 6:var x=Xs,_=Xr;Xs=null,Ia(o,l,m),Xs=x,Xr=_,Xs!==null&&(Xr?(o=Xs,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):Xs.removeChild(m.stateNode));break;case 18:Xs!==null&&(Xr?(o=Xs,m=m.stateNode,o.nodeType===8?tg(o.parentNode,m):o.nodeType===1&&tg(o,m),Gr(o)):tg(Xs,m.stateNode));break;case 4:x=Xs,_=Xr,Xs=m.stateNode.containerInfo,Xr=!0,Ia(o,l,m),Xs=x,Xr=_;break;case 0:case 11:case 14:case 15:if(!pn&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){_=x=x.next;do{var k=_,O=k.destroy;k=k.tag,O!==void 0&&((k&2)!==0||(k&4)!==0)&&$g(m,l,O),_=_.next}while(_!==x)}Ia(o,l,m);break;case 1:if(!pn&&(Ql(m,l),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(K){hs(m,l,K)}Ia(o,l,m);break;case 21:Ia(o,l,m);break;case 22:m.mode&1?(pn=(x=pn)||m.memoizedState!==null,Ia(o,l,m),pn=x):Ia(o,l,m);break;default:Ia(o,l,m)}}function Qb(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new kT),l.forEach(function(x){var _=MT.bind(null,o,x);m.has(x)||(m.add(x),x.then(_,_))})}}function Yr(o,l){var m=l.deletions;if(m!==null)for(var x=0;x<m.length;x++){var _=m[x];try{var k=o,O=l,K=O;e:for(;K!==null;){switch(K.tag){case 5:Xs=K.stateNode,Xr=!1;break e;case 3:Xs=K.stateNode.containerInfo,Xr=!0;break e;case 4:Xs=K.stateNode.containerInfo,Xr=!0;break e}K=K.return}if(Xs===null)throw Error(n(160));Kb(k,O,_),Xs=null,Xr=!1;var X=_.alternate;X!==null&&(X.return=null),_.return=null}catch(de){hs(_,l,de)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Xb(l,o),l=l.sibling}function Xb(o,l){var m=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Yr(l,o),yi(o),x&4){try{kd(3,o,o.return),am(3,o)}catch(Oe){hs(o,o.return,Oe)}try{kd(5,o,o.return)}catch(Oe){hs(o,o.return,Oe)}}break;case 1:Yr(l,o),yi(o),x&512&&m!==null&&Ql(m,m.return);break;case 5:if(Yr(l,o),yi(o),x&512&&m!==null&&Ql(m,m.return),o.flags&32){var _=o.stateNode;try{Jn(_,"")}catch(Oe){hs(o,o.return,Oe)}}if(x&4&&(_=o.stateNode,_!=null)){var k=o.memoizedProps,O=m!==null?m.memoizedProps:k,K=o.type,X=o.updateQueue;if(o.updateQueue=null,X!==null)try{K==="input"&&k.type==="radio"&&k.name!=null&&Gs(_,k),qt(K,O);var de=qt(K,k);for(O=0;O<X.length;O+=2){var ye=X[O],je=X[O+1];ye==="style"?Ii(_,je):ye==="dangerouslySetInnerHTML"?li(_,je):ye==="children"?Jn(_,je):T(_,ye,je,de)}switch(K){case"input":Ws(_,k);break;case"textarea":_n(_,k);break;case"select":var ve=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!k.multiple;var Fe=k.value;Fe!=null?Ms(_,!!k.multiple,Fe,!1):ve!==!!k.multiple&&(k.defaultValue!=null?Ms(_,!!k.multiple,k.defaultValue,!0):Ms(_,!!k.multiple,k.multiple?[]:"",!1))}_[fd]=k}catch(Oe){hs(o,o.return,Oe)}}break;case 6:if(Yr(l,o),yi(o),x&4){if(o.stateNode===null)throw Error(n(162));_=o.stateNode,k=o.memoizedProps;try{_.nodeValue=k}catch(Oe){hs(o,o.return,Oe)}}break;case 3:if(Yr(l,o),yi(o),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Gr(l.containerInfo)}catch(Oe){hs(o,o.return,Oe)}break;case 4:Yr(l,o),yi(o);break;case 13:Yr(l,o),yi(o),_=o.child,_.flags&8192&&(k=_.memoizedState!==null,_.stateNode.isHidden=k,!k||_.alternate!==null&&_.alternate.memoizedState!==null||(Gg=Ot())),x&4&&Qb(o);break;case 22:if(ye=m!==null&&m.memoizedState!==null,o.mode&1?(pn=(de=pn)||ye,Yr(l,o),pn=de):Yr(l,o),yi(o),x&8192){if(de=o.memoizedState!==null,(o.stateNode.isHidden=de)&&!ye&&(o.mode&1)!==0)for($e=o,ye=o.child;ye!==null;){for(je=$e=ye;$e!==null;){switch(ve=$e,Fe=ve.child,ve.tag){case 0:case 11:case 14:case 15:kd(4,ve,ve.return);break;case 1:Ql(ve,ve.return);var Ve=ve.stateNode;if(typeof Ve.componentWillUnmount=="function"){x=ve,m=ve.return;try{l=x,Ve.props=l.memoizedProps,Ve.state=l.memoizedState,Ve.componentWillUnmount()}catch(Oe){hs(x,m,Oe)}}break;case 5:Ql(ve,ve.return);break;case 22:if(ve.memoizedState!==null){Zb(je);continue}}Fe!==null?(Fe.return=ve,$e=Fe):Zb(je)}ye=ye.sibling}e:for(ye=null,je=o;;){if(je.tag===5){if(ye===null){ye=je;try{_=je.stateNode,de?(k=_.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(K=je.stateNode,X=je.memoizedProps.style,O=X!=null&&X.hasOwnProperty("display")?X.display:null,K.style.display=ci("display",O))}catch(Oe){hs(o,o.return,Oe)}}}else if(je.tag===6){if(ye===null)try{je.stateNode.nodeValue=de?"":je.memoizedProps}catch(Oe){hs(o,o.return,Oe)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===o)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===o)break e;for(;je.sibling===null;){if(je.return===null||je.return===o)break e;ye===je&&(ye=null),je=je.return}ye===je&&(ye=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:Yr(l,o),yi(o),x&4&&Qb(o);break;case 21:break;default:Yr(l,o),yi(o)}}function yi(o){var l=o.flags;if(l&2){try{e:{for(var m=o.return;m!==null;){if(Wb(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var _=x.stateNode;x.flags&32&&(Jn(_,""),x.flags&=-33);var k=qb(o);Ug(o,k,_);break;case 3:case 4:var O=x.stateNode.containerInfo,K=qb(o);Og(o,K,O);break;default:throw Error(n(161))}}catch(X){hs(o,o.return,X)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function TT(o,l,m){$e=o,Yb(o)}function Yb(o,l,m){for(var x=(o.mode&1)!==0;$e!==null;){var _=$e,k=_.child;if(_.tag===22&&x){var O=_.memoizedState!==null||im;if(!O){var K=_.alternate,X=K!==null&&K.memoizedState!==null||pn;K=im;var de=pn;if(im=O,(pn=X)&&!de)for($e=_;$e!==null;)O=$e,X=O.child,O.tag===22&&O.memoizedState!==null?e_(_):X!==null?(X.return=O,$e=X):e_(_);for(;k!==null;)$e=k,Yb(k),k=k.sibling;$e=_,im=K,pn=de}Jb(o)}else(_.subtreeFlags&8772)!==0&&k!==null?(k.return=_,$e=k):Jb(o)}}function Jb(o){for(;$e!==null;){var l=$e;if((l.flags&8772)!==0){var m=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:pn||am(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!pn)if(m===null)x.componentDidMount();else{var _=l.elementType===l.type?m.memoizedProps:Qr(l.type,m.memoizedProps);x.componentDidUpdate(_,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&Z1(l,k,x);break;case 3:var O=l.updateQueue;if(O!==null){if(m=null,l.child!==null)switch(l.child.tag){case 5:m=l.child.stateNode;break;case 1:m=l.child.stateNode}Z1(l,O,m)}break;case 5:var K=l.stateNode;if(m===null&&l.flags&4){m=K;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&m.focus();break;case"img":X.src&&(m.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var de=l.alternate;if(de!==null){var ye=de.memoizedState;if(ye!==null){var je=ye.dehydrated;je!==null&&Gr(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pn||l.flags&512&&Vg(l)}catch(ve){hs(l,l.return,ve)}}if(l===o){$e=null;break}if(m=l.sibling,m!==null){m.return=l.return,$e=m;break}$e=l.return}}function Zb(o){for(;$e!==null;){var l=$e;if(l===o){$e=null;break}var m=l.sibling;if(m!==null){m.return=l.return,$e=m;break}$e=l.return}}function e_(o){for(;$e!==null;){var l=$e;try{switch(l.tag){case 0:case 11:case 15:var m=l.return;try{am(4,l)}catch(X){hs(l,m,X)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var _=l.return;try{x.componentDidMount()}catch(X){hs(l,_,X)}}var k=l.return;try{Vg(l)}catch(X){hs(l,k,X)}break;case 5:var O=l.return;try{Vg(l)}catch(X){hs(l,O,X)}}}catch(X){hs(l,l.return,X)}if(l===o){$e=null;break}var K=l.sibling;if(K!==null){K.return=l.return,$e=K;break}$e=l.return}}var ET=Math.ceil,om=y.ReactCurrentDispatcher,zg=y.ReactCurrentOwner,Nr=y.ReactCurrentBatchConfig,Ct=0,$s=null,js=null,Ys=0,or=0,Xl=ka(0),Rs=0,Cd=null,ko=0,lm=0,Hg=0,Td=null,Un=null,Gg=0,Yl=1/0,Ki=null,cm=!1,Wg=null,Ra=null,dm=!1,Pa=null,um=0,Ed=0,qg=null,hm=-1,mm=0;function kn(){return(Ct&6)!==0?Ot():hm!==-1?hm:hm=Ot()}function La(o){return(o.mode&1)===0?1:(Ct&2)!==0&&Ys!==0?Ys&-Ys:hT.transition!==null?(mm===0&&(mm=po()),mm):(o=jt,o!==0||(o=window.event,o=o===void 0?16:nd(o.type)),o)}function Jr(o,l,m,x){if(50<Ed)throw Ed=0,qg=null,Error(n(185));va(o,m,x),((Ct&2)===0||o!==$s)&&(o===$s&&((Ct&2)===0&&(lm|=m),Rs===4&&Da(o,Ys)),zn(o,x),m===1&&Ct===0&&(l.mode&1)===0&&(Yl=Ot()+500,Oh&&Ta()))}function zn(o,l){var m=o.callbackNode;Mi(o,l);var x=mo(o,o===$s?Ys:0);if(x===0)m!==null&&Jc(m),o.callbackNode=null,o.callbackPriority=0;else if(l=x&-x,o.callbackPriority!==l){if(m!=null&&Jc(m),l===1)o.tag===0?uT(s_.bind(null,o)):O1(s_.bind(null,o)),oT(function(){(Ct&6)===0&&Ta()}),m=null;else{switch(ba(x)){case 1:m=uo;break;case 4:m=fa;break;case 16:m=vr;break;case 536870912:m=mh;break;default:m=vr}m=d_(m,t_.bind(null,o))}o.callbackPriority=l,o.callbackNode=m}}function t_(o,l){if(hm=-1,mm=0,(Ct&6)!==0)throw Error(n(327));var m=o.callbackNode;if(Jl()&&o.callbackNode!==m)return null;var x=mo(o,o===$s?Ys:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||l)l=pm(o,x);else{l=x;var _=Ct;Ct|=2;var k=r_();($s!==o||Ys!==l)&&(Ki=null,Yl=Ot()+500,To(o,l));do try{RT();break}catch(K){n_(o,K)}while(!0);ug(),om.current=k,Ct=_,js!==null?l=0:($s=null,Ys=0,l=Rs)}if(l!==0){if(l===2&&(_=sr(o),_!==0&&(x=_,l=Kg(o,_))),l===1)throw m=Cd,To(o,0),Da(o,x),zn(o,Ot()),m;if(l===6)Da(o,x);else{if(_=o.current.alternate,(x&30)===0&&!AT(_)&&(l=pm(o,x),l===2&&(k=sr(o),k!==0&&(x=k,l=Kg(o,k))),l===1))throw m=Cd,To(o,0),Da(o,x),zn(o,Ot()),m;switch(o.finishedWork=_,o.finishedLanes=x,l){case 0:case 1:throw Error(n(345));case 2:Eo(o,Un,Ki);break;case 3:if(Da(o,x),(x&130023424)===x&&(l=Gg+500-Ot(),10<l)){if(mo(o,0)!==0)break;if(_=o.suspendedLanes,(_&x)!==x){kn(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=eg(Eo.bind(null,o,Un,Ki),l);break}Eo(o,Un,Ki);break;case 4:if(Da(o,x),(x&4194240)===x)break;for(l=o.eventTimes,_=-1;0<x;){var O=31-jn(x);k=1<<O,O=l[O],O>_&&(_=O),x&=~k}if(x=_,x=Ot()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*ET(x/1960))-x,10<x){o.timeoutHandle=eg(Eo.bind(null,o,Un,Ki),x);break}Eo(o,Un,Ki);break;case 5:Eo(o,Un,Ki);break;default:throw Error(n(329))}}}return zn(o,Ot()),o.callbackNode===m?t_.bind(null,o):null}function Kg(o,l){var m=Td;return o.current.memoizedState.isDehydrated&&(To(o,l).flags|=256),o=pm(o,l),o!==2&&(l=Un,Un=m,l!==null&&Qg(l)),o}function Qg(o){Un===null?Un=o:Un.push.apply(Un,o)}function AT(o){for(var l=o;;){if(l.flags&16384){var m=l.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var _=m[x],k=_.getSnapshot;_=_.value;try{if(!qr(k(),_))return!1}catch(O){return!1}}}if(m=l.child,l.subtreeFlags&16384&&m!==null)m.return=l,l=m;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Da(o,l){for(l&=~Hg,l&=~lm,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var m=31-jn(l),x=1<<m;o[m]=-1,l&=~x}}function s_(o){if((Ct&6)!==0)throw Error(n(327));Jl();var l=mo(o,0);if((l&1)===0)return zn(o,Ot()),null;var m=pm(o,l);if(o.tag!==0&&m===2){var x=sr(o);x!==0&&(l=x,m=Kg(o,x))}if(m===1)throw m=Cd,To(o,0),Da(o,l),zn(o,Ot()),m;if(m===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Eo(o,Un,Ki),zn(o,Ot()),null}function Xg(o,l){var m=Ct;Ct|=1;try{return o(l)}finally{Ct=m,Ct===0&&(Yl=Ot()+500,Oh&&Ta())}}function Co(o){Pa!==null&&Pa.tag===0&&(Ct&6)===0&&Jl();var l=Ct;Ct|=1;var m=Nr.transition,x=jt;try{if(Nr.transition=null,jt=1,o)return o()}finally{jt=x,Nr.transition=m,Ct=l,(Ct&6)===0&&Ta()}}function Yg(){or=Xl.current,Qt(Xl)}function To(o,l){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,aT(m)),js!==null)for(m=js.return;m!==null;){var x=m;switch(ag(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&$h();break;case 3:ql(),Qt($n),Qt(un),yg();break;case 5:xg(x);break;case 4:ql();break;case 13:Qt(rs);break;case 19:Qt(rs);break;case 10:hg(x.type._context);break;case 22:case 23:Yg()}m=m.return}if($s=o,js=o=Ma(o.current,null),Ys=or=l,Rs=0,Cd=null,Hg=lm=ko=0,Un=Td=null,jo!==null){for(l=0;l<jo.length;l++)if(m=jo[l],x=m.interleaved,x!==null){m.interleaved=null;var _=x.next,k=m.pending;if(k!==null){var O=k.next;k.next=_,x.next=O}m.pending=x}jo=null}return o}function n_(o,l){do{var m=js;try{if(ug(),Yh.current=tm,Jh){for(var x=is.memoizedState;x!==null;){var _=x.queue;_!==null&&(_.pending=null),x=x.next}Jh=!1}if(No=0,Bs=Is=is=null,_d=!1,wd=0,zg.current=null,m===null||m.return===null){Rs=1,Cd=l,js=null;break}e:{var k=o,O=m.return,K=m,X=l;if(l=Ys,K.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var de=X,ye=K,je=ye.tag;if((ye.mode&1)===0&&(je===0||je===11||je===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Fe=Tb(O);if(Fe!==null){Fe.flags&=-257,Eb(Fe,O,K,k,l),Fe.mode&1&&Cb(k,de,l),l=Fe,X=de;var Ve=l.updateQueue;if(Ve===null){var Oe=new Set;Oe.add(X),l.updateQueue=Oe}else Ve.add(X);break e}else{if((l&1)===0){Cb(k,de,l),Jg();break e}X=Error(n(426))}}else if(Zt&&K.mode&1){var vs=Tb(O);if(vs!==null){(vs.flags&65536)===0&&(vs.flags|=256),Eb(vs,O,K,k,l),cg(Kl(X,K));break e}}k=X=Kl(X,K),Rs!==4&&(Rs=2),Td===null?Td=[k]:Td.push(k),k=O;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var oe=Nb(k,X,l);J1(k,oe);break e;case 1:K=X;var Z=k.type,le=k.stateNode;if((k.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Ra===null||!Ra.has(le)))){k.flags|=65536,l&=-l,k.lanes|=l;var ke=kb(k,K,l);J1(k,ke);break e}}k=k.return}while(k!==null)}a_(m)}catch(He){l=He,js===m&&m!==null&&(js=m=m.return);continue}break}while(!0)}function r_(){var o=om.current;return om.current=tm,o===null?tm:o}function Jg(){(Rs===0||Rs===3||Rs===2)&&(Rs=4),$s===null||(ko&268435455)===0&&(lm&268435455)===0||Da($s,Ys)}function pm(o,l){var m=Ct;Ct|=2;var x=r_();($s!==o||Ys!==l)&&(Ki=null,To(o,l));do try{IT();break}catch(_){n_(o,_)}while(!0);if(ug(),Ct=m,om.current=x,js!==null)throw Error(n(261));return $s=null,Ys=0,Rs}function IT(){for(;js!==null;)i_(js)}function RT(){for(;js!==null&&!uh();)i_(js)}function i_(o){var l=c_(o.alternate,o,or);o.memoizedProps=o.pendingProps,l===null?a_(o):js=l,zg.current=null}function a_(o){var l=o;do{var m=l.alternate;if(o=l.return,(l.flags&32768)===0){if(m=ST(m,l,or),m!==null){js=m;return}}else{if(m=NT(m,l),m!==null){m.flags&=32767,js=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Rs=6,js=null;return}}if(l=l.sibling,l!==null){js=l;return}js=l=o}while(l!==null);Rs===0&&(Rs=5)}function Eo(o,l,m){var x=jt,_=Nr.transition;try{Nr.transition=null,jt=1,PT(o,l,m,x)}finally{Nr.transition=_,jt=x}return null}function PT(o,l,m,x){do Jl();while(Pa!==null);if((Ct&6)!==0)throw Error(n(327));m=o.finishedWork;var _=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var k=m.lanes|m.childLanes;if(Bt(o,k),o===$s&&(js=$s=null,Ys=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||dm||(dm=!0,d_(vr,function(){return Jl(),null})),k=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||k){k=Nr.transition,Nr.transition=null;var O=jt;jt=1;var K=Ct;Ct|=4,zg.current=null,CT(o,m),Xb(m,o),ZC(Jf),wa=!!Yf,Jf=Yf=null,o.current=m,TT(m),Df(),Ct=K,jt=O,Nr.transition=k}else o.current=m;if(dm&&(dm=!1,Pa=o,um=_),k=o.pendingLanes,k===0&&(Ra=null),ph(m.stateNode),zn(o,Ot()),l!==null)for(x=o.onRecoverableError,m=0;m<l.length;m++)_=l[m],x(_.value,{componentStack:_.stack,digest:_.digest});if(cm)throw cm=!1,o=Wg,Wg=null,o;return(um&1)!==0&&o.tag!==0&&Jl(),k=o.pendingLanes,(k&1)!==0?o===qg?Ed++:(Ed=0,qg=o):Ed=0,Ta(),null}function Jl(){if(Pa!==null){var o=ba(um),l=Nr.transition,m=jt;try{if(Nr.transition=null,jt=16>o?16:o,Pa===null)var x=!1;else{if(o=Pa,Pa=null,um=0,(Ct&6)!==0)throw Error(n(331));var _=Ct;for(Ct|=4,$e=o.current;$e!==null;){var k=$e,O=k.child;if(($e.flags&16)!==0){var K=k.deletions;if(K!==null){for(var X=0;X<K.length;X++){var de=K[X];for($e=de;$e!==null;){var ye=$e;switch(ye.tag){case 0:case 11:case 15:kd(8,ye,k)}var je=ye.child;if(je!==null)je.return=ye,$e=je;else for(;$e!==null;){ye=$e;var ve=ye.sibling,Fe=ye.return;if(Gb(ye),ye===de){$e=null;break}if(ve!==null){ve.return=Fe,$e=ve;break}$e=Fe}}}var Ve=k.alternate;if(Ve!==null){var Oe=Ve.child;if(Oe!==null){Ve.child=null;do{var vs=Oe.sibling;Oe.sibling=null,Oe=vs}while(Oe!==null)}}$e=k}}if((k.subtreeFlags&2064)!==0&&O!==null)O.return=k,$e=O;else e:for(;$e!==null;){if(k=$e,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:kd(9,k,k.return)}var oe=k.sibling;if(oe!==null){oe.return=k.return,$e=oe;break e}$e=k.return}}var Z=o.current;for($e=Z;$e!==null;){O=$e;var le=O.child;if((O.subtreeFlags&2064)!==0&&le!==null)le.return=O,$e=le;else e:for(O=Z;$e!==null;){if(K=$e,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:am(9,K)}}catch(He){hs(K,K.return,He)}if(K===O){$e=null;break e}var ke=K.sibling;if(ke!==null){ke.return=K.return,$e=ke;break e}$e=K.return}}if(Ct=_,Ta(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(ho,o)}catch(He){}x=!0}return x}finally{jt=m,Nr.transition=l}}return!1}function o_(o,l,m){l=Kl(m,l),l=Nb(o,l,1),o=Aa(o,l,1),l=kn(),o!==null&&(va(o,1,l),zn(o,l))}function hs(o,l,m){if(o.tag===3)o_(o,o,m);else for(;l!==null;){if(l.tag===3){o_(l,o,m);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ra===null||!Ra.has(x))){o=Kl(m,o),o=kb(l,o,1),l=Aa(l,o,1),o=kn(),l!==null&&(va(l,1,o),zn(l,o));break}}l=l.return}}function LT(o,l,m){var x=o.pingCache;x!==null&&x.delete(l),l=kn(),o.pingedLanes|=o.suspendedLanes&m,$s===o&&(Ys&m)===m&&(Rs===4||Rs===3&&(Ys&130023424)===Ys&&500>Ot()-Gg?To(o,0):Hg|=m),zn(o,l)}function l_(o,l){l===0&&((o.mode&1)===0?l=1:(l=_l,_l<<=1,(_l&130023424)===0&&(_l=4194304)));var m=kn();o=Gi(o,l),o!==null&&(va(o,l,m),zn(o,m))}function DT(o){var l=o.memoizedState,m=0;l!==null&&(m=l.retryLane),l_(o,m)}function MT(o,l){var m=0;switch(o.tag){case 13:var x=o.stateNode,_=o.memoizedState;_!==null&&(m=_.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(l),l_(o,m)}var c_;c_=function(o,l,m){if(o!==null)if(o.memoizedProps!==l.pendingProps||$n.current)On=!0;else{if((o.lanes&m)===0&&(l.flags&128)===0)return On=!1,jT(o,l,m);On=(o.flags&131072)!==0}else On=!1,Zt&&(l.flags&1048576)!==0&&U1(l,zh,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;rm(o,l),o=l.pendingProps;var _=Vl(l,un.current);Wl(l,m),_=wg(null,l,x,o,_,m);var k=jg();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Vn(x)?(k=!0,Vh(l)):k=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,fg(l),_.updater=sm,l.stateNode=_,_._reactInternals=l,Eg(l,x,o,m),l=Pg(null,l,x,!0,k,m)):(l.tag=0,Zt&&k&&ig(l),Nn(null,l,_,m),l=l.child),l;case 16:x=l.elementType;e:{switch(rm(o,l),o=l.pendingProps,_=x._init,x=_(x._payload),l.type=x,_=l.tag=BT(x),o=Qr(x,o),_){case 0:l=Rg(null,l,x,o,m);break e;case 1:l=Db(null,l,x,o,m);break e;case 11:l=Ab(null,l,x,o,m);break e;case 14:l=Ib(null,l,x,Qr(x.type,o),m);break e}throw Error(n(306,x,""))}return l;case 0:return x=l.type,_=l.pendingProps,_=l.elementType===x?_:Qr(x,_),Rg(o,l,x,_,m);case 1:return x=l.type,_=l.pendingProps,_=l.elementType===x?_:Qr(x,_),Db(o,l,x,_,m);case 3:e:{if(Mb(l),o===null)throw Error(n(387));x=l.pendingProps,k=l.memoizedState,_=k.element,Y1(o,l),Qh(l,x,null,m);var O=l.memoizedState;if(x=O.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){_=Kl(Error(n(423)),l),l=Fb(o,l,x,m,_);break e}else if(x!==_){_=Kl(Error(n(424)),l),l=Fb(o,l,x,m,_);break e}else for(ar=Na(l.stateNode.containerInfo.firstChild),ir=l,Zt=!0,Kr=null,m=Q1(l,null,x,m),l.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(zl(),x===_){l=qi(o,l,m);break e}Nn(o,l,x,m)}l=l.child}return l;case 5:return eb(l),o===null&&lg(l),x=l.type,_=l.pendingProps,k=o!==null?o.memoizedProps:null,O=_.children,Zf(x,_)?O=null:k!==null&&Zf(x,k)&&(l.flags|=32),Lb(o,l),Nn(o,l,O,m),l.child;case 6:return o===null&&lg(l),null;case 13:return Bb(o,l,m);case 4:return gg(l,l.stateNode.containerInfo),x=l.pendingProps,o===null?l.child=Hl(l,null,x,m):Nn(o,l,x,m),l.child;case 11:return x=l.type,_=l.pendingProps,_=l.elementType===x?_:Qr(x,_),Ab(o,l,x,_,m);case 7:return Nn(o,l,l.pendingProps,m),l.child;case 8:return Nn(o,l,l.pendingProps.children,m),l.child;case 12:return Nn(o,l,l.pendingProps.children,m),l.child;case 10:e:{if(x=l.type._context,_=l.pendingProps,k=l.memoizedProps,O=_.value,Ut(Wh,x._currentValue),x._currentValue=O,k!==null)if(qr(k.value,O)){if(k.children===_.children&&!$n.current){l=qi(o,l,m);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var K=k.dependencies;if(K!==null){O=k.child;for(var X=K.firstContext;X!==null;){if(X.context===x){if(k.tag===1){X=Wi(-1,m&-m),X.tag=2;var de=k.updateQueue;if(de!==null){de=de.shared;var ye=de.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),de.pending=X}}k.lanes|=m,X=k.alternate,X!==null&&(X.lanes|=m),mg(k.return,m,l),K.lanes|=m;break}X=X.next}}else if(k.tag===10)O=k.type===l.type?null:k.child;else if(k.tag===18){if(O=k.return,O===null)throw Error(n(341));O.lanes|=m,K=O.alternate,K!==null&&(K.lanes|=m),mg(O,m,l),O=k.sibling}else O=k.child;if(O!==null)O.return=k;else for(O=k;O!==null;){if(O===l){O=null;break}if(k=O.sibling,k!==null){k.return=O.return,O=k;break}O=O.return}k=O}Nn(o,l,_.children,m),l=l.child}return l;case 9:return _=l.type,x=l.pendingProps.children,Wl(l,m),_=jr(_),x=x(_),l.flags|=1,Nn(o,l,x,m),l.child;case 14:return x=l.type,_=Qr(x,l.pendingProps),_=Qr(x.type,_),Ib(o,l,x,_,m);case 15:return Rb(o,l,l.type,l.pendingProps,m);case 17:return x=l.type,_=l.pendingProps,_=l.elementType===x?_:Qr(x,_),rm(o,l),l.tag=1,Vn(x)?(o=!0,Vh(l)):o=!1,Wl(l,m),jb(l,x,_),Eg(l,x,_,m),Pg(null,l,x,!0,o,m);case 19:return Vb(o,l,m);case 22:return Pb(o,l,m)}throw Error(n(156,l.tag))};function d_(o,l){return yl(o,l)}function FT(o,l,m,x){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(o,l,m,x){return new FT(o,l,m,x)}function Zg(o){return o=o.prototype,!(!o||!o.isReactComponent)}function BT(o){if(typeof o=="function")return Zg(o)?1:0;if(o!=null){if(o=o.$$typeof,o===V)return 11;if(o===H)return 14}return 2}function Ma(o,l){var m=o.alternate;return m===null?(m=kr(o.tag,l,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=l,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,l=o.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function fm(o,l,m,x,_,k){var O=2;if(x=o,typeof o=="function")Zg(o)&&(O=1);else if(typeof o=="string")O=5;else e:switch(o){case C:return Ao(m.children,_,k,l);case w:O=8,_|=8;break;case E:return o=kr(12,m,l,_|2),o.elementType=E,o.lanes=k,o;case $:return o=kr(13,m,l,_),o.elementType=$,o.lanes=k,o;case W:return o=kr(19,m,l,_),o.elementType=W,o.lanes=k,o;case Q:return gm(m,_,k,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case L:O=10;break e;case P:O=9;break e;case V:O=11;break e;case H:O=14;break e;case q:O=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=kr(O,m,l,_),l.elementType=o,l.type=x,l.lanes=k,l}function Ao(o,l,m,x){return o=kr(7,o,x,l),o.lanes=m,o}function gm(o,l,m,x){return o=kr(22,o,x,l),o.elementType=Q,o.lanes=m,o.stateNode={isHidden:!1},o}function ex(o,l,m){return o=kr(6,o,null,l),o.lanes=m,o}function tx(o,l,m){return l=kr(4,o.children!==null?o.children:[],o.key,l),l.lanes=m,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function $T(o,l,m,x,_){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=x,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function sx(o,l,m,x,_,k,O,K,X){return o=new $T(o,l,m,K,X),l===1?(l=1,k===!0&&(l|=8)):l=0,k=kr(3,null,null,l),o.current=k,k.stateNode=o,k.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},fg(k),o}function VT(o,l,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:x==null?null:""+x,children:o,containerInfo:l,implementation:m}}function u_(o){if(!o)return Ca;o=o._reactInternals;e:{if(Vr(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Vn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var m=o.type;if(Vn(m))return $1(o,m,l)}return l}function h_(o,l,m,x,_,k,O,K,X){return o=sx(m,x,!0,o,_,k,O,K,X),o.context=u_(null),m=o.current,x=kn(),_=La(m),k=Wi(x,_),k.callback=l!=null?l:null,Aa(m,k,_),o.current.lanes=_,va(o,_,x),zn(o,x),o}function xm(o,l,m,x){var _=l.current,k=kn(),O=La(_);return m=u_(m),l.context===null?l.context=m:l.pendingContext=m,l=Wi(k,O),l.payload={element:o},x=x===void 0?null:x,x!==null&&(l.callback=x),o=Aa(_,l,O),o!==null&&(Jr(o,_,O,k),Kh(o,_,O)),O}function vm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function m_(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<l?m:l}}function nx(o,l){m_(o,l),(o=o.alternate)&&m_(o,l)}function OT(){return null}var p_=typeof reportError=="function"?reportError:function(o){console.error(o)};function rx(o){this._internalRoot=o}ym.prototype.render=rx.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));xm(o,l,null,null)},ym.prototype.unmount=rx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Co(function(){xm(null,o,null,null)}),l[Oi]=null}};function ym(o){this._internalRoot=o}ym.prototype.unstable_scheduleHydration=function(o){if(o){var l=yh();o={blockedOn:null,target:o,priority:l};for(var m=0;m<hi.length&&l!==0&&l<hi[m].priority;m++);hi.splice(m,0,o),m===0&&wh(o)}};function ix(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function bm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function f_(){}function UT(o,l,m,x,_){if(_){if(typeof x=="function"){var k=x;x=function(){var de=vm(O);k.call(de)}}var O=h_(l,x,o,0,null,!1,!1,"",f_);return o._reactRootContainer=O,o[Oi]=O.current,md(o.nodeType===8?o.parentNode:o),Co(),O}for(;_=o.lastChild;)o.removeChild(_);if(typeof x=="function"){var K=x;x=function(){var de=vm(X);K.call(de)}}var X=sx(o,0,!1,null,null,!1,!1,"",f_);return o._reactRootContainer=X,o[Oi]=X.current,md(o.nodeType===8?o.parentNode:o),Co(function(){xm(l,X,m,x)}),X}function _m(o,l,m,x,_){var k=m._reactRootContainer;if(k){var O=k;if(typeof _=="function"){var K=_;_=function(){var X=vm(O);K.call(X)}}xm(l,O,o,_)}else O=UT(m,l,o,_,x);return vm(O)}xh=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var m=ga(l.pendingLanes);m!==0&&(ya(l,m|1),zn(l,Ot()),(Ct&6)===0&&(Yl=Ot()+500,Ta()))}break;case 13:Co(function(){var x=Gi(o,1);if(x!==null){var _=kn();Jr(x,o,1,_)}}),nx(o,1)}},wl=function(o){if(o.tag===13){var l=Gi(o,134217728);if(l!==null){var m=kn();Jr(l,o,134217728,m)}nx(o,134217728)}},vh=function(o){if(o.tag===13){var l=La(o),m=Gi(o,l);if(m!==null){var x=kn();Jr(m,o,l,x)}nx(o,l)}},yh=function(){return jt},bh=function(o,l){var m=jt;try{return jt=o,l()}finally{jt=m}},Pi=function(o,l,m){switch(l){case"input":if(Ws(o,m),l=m.name,m.type==="radio"&&l!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<m.length;l++){var x=m[l];if(x!==o&&x.form===o.form){var _=Bh(x);if(!_)throw Error(n(90));Ae(x),Ws(x,_)}}}break;case"textarea":_n(o,m);break;case"select":l=m.value,l!=null&&Ms(o,!!m.multiple,l,!1)}},ao=Xg,Kc=Co;var zT={usingClientEntryPoint:!1,Events:[gd,Bl,Bh,er,qc,Xg]},Ad={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HT={bundleType:Ad.bundleType,version:Ad.version,rendererPackageName:Ad.rendererPackageName,rendererConfig:Ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Yc(o),o===null?null:o.stateNode},findFiberByHostInstance:Ad.findFiberByHostInstance||OT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wm.isDisabled&&wm.supportsFiber)try{ho=wm.inject(HT),tr=wm}catch(o){}}return Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zT,Hn.createPortal=function(o,l){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ix(l))throw Error(n(200));return VT(o,l,null,m)},Hn.createRoot=function(o,l){if(!ix(o))throw Error(n(299));var m=!1,x="",_=p_;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=sx(o,1,!1,null,null,m,!1,x,_),o[Oi]=l.current,md(o.nodeType===8?o.parentNode:o),new rx(l)},Hn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Yc(l),o=o===null?null:o.stateNode,o},Hn.flushSync=function(o){return Co(o)},Hn.hydrate=function(o,l,m){if(!bm(l))throw Error(n(200));return _m(null,o,l,!0,m)},Hn.hydrateRoot=function(o,l,m){if(!ix(o))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,_=!1,k="",O=p_;if(m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onRecoverableError!==void 0&&(O=m.onRecoverableError)),l=h_(l,null,o,1,m!=null?m:null,_,!1,k,O),o[Oi]=l.current,md(o),x)for(o=0;o<x.length;o++)m=x[o],_=m._getVersion,_=_(m._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[m,_]:l.mutableSourceEagerHydrationData.push(m,_);return new ym(l)},Hn.render=function(o,l,m){if(!bm(l))throw Error(n(200));return _m(null,o,l,!1,m)},Hn.unmountComponentAtNode=function(o){if(!bm(o))throw Error(n(40));return o._reactRootContainer?(Co(function(){_m(null,null,o,!1,function(){o._reactRootContainer=null,o[Oi]=null})}),!0):!1},Hn.unstable_batchedUpdates=Xg,Hn.unstable_renderSubtreeIntoContainer=function(o,l,m,x){if(!bm(m))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return _m(o,l,m,!1,x)},Hn.version="18.3.1-next-f1338f8080-20240426",Hn}var j_;function $S(){if(j_)return lx.exports;j_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lx.exports=YT(),lx.exports}var S_;function JT(){if(S_)return jm;S_=1;var t=$S();return jm.createRoot=t.createRoot,jm.hydrateRoot=t.hydrateRoot,jm}var ZT=JT();const e4=by(ZT),et=t=>typeof t=="string",Rd=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},N_=t=>t==null?"":""+t,t4=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},s4=/###/g,k_=t=>t&&t.indexOf("###")>-1?t.replace(s4,"."):t,C_=t=>!t||et(t),nu=(t,e,n)=>{const r=et(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(C_(t))return{};const a=k_(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return C_(t)?{}:{obj:t,k:k_(r[i])}},T_=(t,e,n)=>{const{obj:r,k:i}=nu(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],c=e.slice(0,e.length-1),d=nu(t,c,Object);for(;d.obj===void 0&&c.length;)a=`${c[c.length-1]}.${a}`,c=c.slice(0,c.length-1),d=nu(t,c,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${a}`]!="undefined"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=n},n4=(t,e,n,r)=>{const{obj:i,k:a}=nu(t,e,Object);i[a]=i[a]||[],i[a].push(n)},xp=(t,e)=>{const{obj:n,k:r}=nu(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},r4=(t,e,n)=>{const r=xp(t,n);return r!==void 0?r:xp(e,n)},VS=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?et(t[r])||t[r]instanceof String||et(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):VS(t[r],e[r],n):t[r]=e[r]);return t},Zl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const a4=t=>et(t)?t.replace(/[&<>"'\/]/g,e=>i4[e]):t;class o4{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const l4=[" ",",","?","!",";"],c4=new o4(20),d4=(t,e,n)=>{e=e||"",n=n||"";const r=l4.filter(c=>e.indexOf(c)<0&&n.indexOf(c)<0);if(r.length===0)return!0;const i=c4.getRegExp(`(${r.map(c=>c==="?"?"\\?":c).join("|")})`);let a=!i.test(t);if(!a){const c=t.indexOf(n);c>0&&!i.test(t.substring(0,c))&&(a=!0)}return a},gv=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let c,d="";for(let u=a;u<r.length;++u)if(u!==a&&(d+=n),d+=r[u],c=i[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&u<r.length-1)continue;a+=u-a+1;break}i=c}return i},yu=t=>t==null?void 0:t.replace("_","-"),u4={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};let h4=class xv{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||u4,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(et(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new xv(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new xv(this.logger,e)}};var wi=new h4;class Qp{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let c=0;c<a;c++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let c=0;c<a;c++)i.apply(i,[e,...n])})}}class E_ extends Qp{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var h,p;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,c=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,n],r&&(Array.isArray(r)?d.push(...r):et(r)&&a?d.push(...r.split(a)):d.push(r)));const u=xp(this.data,d);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=d[0],n=d[1],r=d.slice(2).join(".")),u||!c||!et(r)?u:gv((p=(h=this.data)==null?void 0:h[e])==null?void 0:p[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,n];r&&(d=d.concat(c?r.split(c):r)),e.indexOf(".")>-1&&(d=e.split("."),i=n,n=d[1]),this.addNamespaces(n),T_(this.data,d,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(et(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,c={silent:!1,skipCopy:!1}){let d=[e,n];e.indexOf(".")>-1&&(d=e.split("."),i=r,r=n,n=d[1]),this.addNamespaces(n);let u=xp(this.data,d)||{};c.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?VS(u,r,a):u={...u,...r},T_(this.data,d,u),c.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var OS={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var c,d;e=(d=(c=this.processors[a])==null?void 0:c.process(e,n,r,i))!=null?d:e}),e}};const US=Symbol("i18next/PATH_KEY");function m4(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===US?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function vv(t,e){var r;const{[US]:n}=t(m4());return n.join((r=e==null?void 0:e.keySeparator)!=null?r:".")}const A_={},I_=t=>!et(t)&&typeof t!="boolean"&&typeof t!="number";class vp extends Qp{constructor(e,n={}){super(),t4(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=wi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const c=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!d4(e,r,i);if(c&&!d){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:et(a)?[a]:a};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:et(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=vv(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:d,namespaces:u}=this.extractFromKey(e[e.length-1],i),h=u[u.length-1];let p=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const g=i.lng||this.language,v=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return v?a?{res:`${h}${p}${d}`,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${p}${d}`:a?{res:d,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:d;const b=this.resolve(e,i);let j=b==null?void 0:b.res;const I=(b==null?void 0:b.usedKey)||d,A=(b==null?void 0:b.exactUsedKey)||d,B=["[object Number]","[object Function]","[object RegExp]"],D=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,y=i.count!==void 0&&!et(i.count),S=vp.hasDefaultValue(i),M=y?this.pluralResolver.getSuffix(g,i.count,i):"",C=i.ordinal&&y?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",w=y&&!i.ordinal&&i.count===0,E=w&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${M}`]||i[`defaultValue${C}`]||i.defaultValue;let L=j;T&&!j&&S&&(L=E);const P=I_(L),V=Object.prototype.toString.apply(L);if(T&&L&&P&&B.indexOf(V)<0&&!(et(D)&&Array.isArray(L))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(I,L,{...i,ns:u}):`key '${d} (${this.language})' returned an object instead of string.`;return a?(b.res=$,b.usedParams=this.getUsedParamsDetails(i),b):$}if(c){const $=Array.isArray(L),W=$?[]:{},H=$?A:I;for(const q in L)if(Object.prototype.hasOwnProperty.call(L,q)){const Q=`${H}${c}${q}`;S&&!j?W[q]=this.translate(Q,{...i,defaultValue:I_(E)?E[q]:void 0,joinArrays:!1,ns:u}):W[q]=this.translate(Q,{...i,joinArrays:!1,ns:u}),W[q]===Q&&(W[q]=L[q])}j=W}}else if(T&&et(D)&&Array.isArray(j))j=j.join(D),j&&(j=this.extendTranslation(j,e,i,r));else{let $=!1,W=!1;!this.isValidLookup(j)&&S&&($=!0,j=E),this.isValidLookup(j)||(W=!0,j=d);const q=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:j,Q=S&&E!==j&&this.options.updateMissing;if(W||$||Q){if(this.logger.log(Q?"updateKey":"missingKey",g,h,d,Q?E:j),c){const z=this.resolve(d,{...i,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let z=0;z<te.length;z++)G.push(te[z]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(i.lng||this.language):G.push(i.lng||this.language);const re=(z,se,ce)=>{var fe;const ee=S&&ce!==j?ce:q;this.options.missingKeyHandler?this.options.missingKeyHandler(z,h,se,ee,Q,i):(fe=this.backendConnector)!=null&&fe.saveMissing&&this.backendConnector.saveMissing(z,h,se,ee,Q,i),this.emit("missingKey",z,h,se,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?G.forEach(z=>{const se=this.pluralResolver.getSuffixes(z,i);w&&i[`defaultValue${this.options.pluralSeparator}zero`]&&se.indexOf(`${this.options.pluralSeparator}zero`)<0&&se.push(`${this.options.pluralSeparator}zero`),se.forEach(ce=>{re([z],d+ce,i[`defaultValue${ce}`]||E)})}):re(G,d,E))}j=this.extendTranslation(j,e,i,b,r),W&&j===d&&this.options.appendNamespaceToMissingKey&&(j=`${h}${p}${d}`),(W||$)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${d}`:d,$?j:void 0,i))}return a?(b.res=j,b.usedParams=this.getUsedParamsDetails(i),b):j}extendTranslation(e,n,r,i,a){var u,h;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const p=et(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const b=e.match(this.interpolator.nestingRegexp);g=b&&b.length}let v=r.replace&&!et(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||i.usedLng,r),p){const b=e.match(this.interpolator.nestingRegexp),j=b&&b.length;g<j&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...b)=>(a==null?void 0:a[0])===b[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,d=et(c)?[c]:c;return e!=null&&(d!=null&&d.length)&&r.applyPostProcessor!==!1&&(e=OS.handle(d,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,c,d;return et(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(u,n),p=h.key;i=p;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const v=n.count!==void 0&&!et(n.count),b=v&&!n.ordinal&&n.count===0,j=n.context!==void 0&&(et(n.context)||typeof n.context=="number")&&n.context!=="",I=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);g.forEach(A=>{var B,D;this.isValidLookup(r)||(d=A,!A_[`${I[0]}-${A}`]&&((B=this.utils)!=null&&B.hasLoadedNamespace)&&!((D=this.utils)!=null&&D.hasLoadedNamespace(d))&&(A_[`${I[0]}-${A}`]=!0,this.logger.warn(`key "${i}" for languages "${I.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),I.forEach(T=>{var M;if(this.isValidLookup(r))return;c=T;const y=[p];if((M=this.i18nFormat)!=null&&M.addLookupKeys)this.i18nFormat.addLookupKeys(y,p,T,A,n);else{let C;v&&(C=this.pluralResolver.getSuffix(T,n.count,n));const w=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(n.ordinal&&C.indexOf(E)===0&&y.push(p+C.replace(E,this.options.pluralSeparator)),y.push(p+C),b&&y.push(p+w)),j){const L=`${p}${this.options.contextSeparator||"_"}${n.context}`;y.push(L),v&&(n.ordinal&&C.indexOf(E)===0&&y.push(L+C.replace(E,this.options.pluralSeparator)),y.push(L+C),b&&y.push(L+w))}}let S;for(;S=y.pop();)this.isValidLookup(r)||(a=S,r=this.getResource(T,A,S,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!et(e.replace);let i=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class R_{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=wi.create("languageUtils")}getScriptPartFromCode(e){if(e=yu(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=yu(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(et(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch(r){}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(c=>{if(c===a)return c;if(!(c.indexOf("-")<0&&a.indexOf("-")<0)&&(c.indexOf("-")>0&&a.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===a||c.indexOf(a)===0&&a.length>1))return c})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),et(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=c=>{c&&(this.isSupportedCode(c)?i.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return et(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):et(e)&&a(this.formatLanguageCode(e)),r.forEach(c=>{i.indexOf(c)<0&&a(this.formatLanguageCode(c))}),i}}const P_={zero:0,one:1,two:2,few:3,many:4,other:5},L_={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class p4{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=wi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=yu(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let c;try{c=new Intl.PluralRules(r,{type:i})}catch(d){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),L_;if(!e.match(/-|_/))return L_;const u=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(u,n)}return this.pluralRulesCache[a]=c,c}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>P_[i]-P_[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const D_=(t,e,n,r=".",i=!0)=>{let a=r4(t,e,n);return!a&&i&&et(n)&&(a=gv(t,n,r),a===void 0&&(a=gv(e,n,r))),a},ux=t=>t.replace(/\$/g,"$$$$");class f4{constructor(e={}){var n;this.logger=wi.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:c,suffix:d,suffixEscaped:u,formatSeparator:h,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:v,nestingPrefixEscaped:b,nestingSuffix:j,nestingSuffixEscaped:I,nestingOptionsSeparator:A,maxReplaces:B,alwaysFormat:D}=e.interpolation;this.escape=n!==void 0?n:a4,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Zl(a):c||"{{",this.suffix=d?Zl(d):u||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=v?Zl(v):b||Zl("$t("),this.nestingSuffix=j?Zl(j):I||Zl(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=B||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var b;let a,c,d;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=j=>{if(j.indexOf(this.formatSeparator)<0){const D=D_(n,u,j,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(D,void 0,r,{...i,...n,interpolationkey:j}):D}const I=j.split(this.formatSeparator),A=I.shift().trim(),B=I.join(this.formatSeparator).trim();return this.format(D_(n,u,A,this.options.keySeparator,this.options.ignoreJSONStructure),B,r,{...i,...n,interpolationkey:A})};this.resetRegExp();const p=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((b=i==null?void 0:i.interpolation)==null?void 0:b.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:j=>ux(j)},{regex:this.regexp,safeValue:j=>this.escapeValue?ux(this.escape(j)):ux(j)}].forEach(j=>{for(d=0;a=j.regex.exec(e);){const I=a[1].trim();if(c=h(I),c===void 0)if(typeof p=="function"){const B=p(e,a,i);c=et(B)?B:""}else if(i&&Object.prototype.hasOwnProperty.call(i,I))c="";else if(g){c=a[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${e}`),c="";else!et(c)&&!this.useRawValueToEscape&&(c=N_(c));const A=j.safeValue(c);if(e=e.replace(a[0],A),g?(j.regex.lastIndex+=c.length,j.regex.lastIndex-=a[0].length):j.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,c;const d=(u,h)=>{var I;const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const g=u.split(new RegExp(`${p}[ ]*{`));let v=`{${g[1]}`;u=g[0],v=this.interpolate(v,c);const b=v.match(/'/g),j=v.match(/"/g);(((I=b==null?void 0:b.length)!=null?I:0)%2===0&&!j||j.length%2!==0)&&(v=v.replace(/'/g,'"'));try{c=JSON.parse(v),h&&(c={...h,...c})}catch(A){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,A),`${u}${p}${v}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];c={...r},c=c.replace&&!et(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const h=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(h!==-1&&(u=i[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),i[1]=i[1].slice(0,h)),a=n(d.call(this,i[1].trim(),c),c),a&&i[0]===e&&!et(a))return a;et(a)||(a=N_(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),u.length&&(a=u.reduce((p,g)=>this.format(p,g,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const g4=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(c=>{if(c){const[d,...u]=c.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,""),p=d.trim();n[p]||(n[p]=h),h==="false"&&(n[p]=!1),h==="true"&&(n[p]=!0),isNaN(h)||(n[p]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},M_=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const c=r+JSON.stringify(a);let d=e[c];return d||(d=t(yu(r),i),e[c]=d),d(n)}},x4=t=>(e,n,r)=>t(yu(n),r)(e);class v4{constructor(e={}){this.logger=wi.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?M_:x4;this.formats={number:r((i,a)=>{const c=new Intl.NumberFormat(i,{...a});return d=>c.format(d)}),currency:r((i,a)=>{const c=new Intl.NumberFormat(i,{...a,style:"currency"});return d=>c.format(d)}),datetime:r((i,a)=>{const c=new Intl.DateTimeFormat(i,{...a});return d=>c.format(d)}),relativetime:r((i,a)=>{const c=new Intl.RelativeTimeFormat(i,{...a});return d=>c.format(d,a.range||"day")}),list:r((i,a)=>{const c=new Intl.ListFormat(i,{...a});return d=>c.format(d)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=M_(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(u=>u.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,u)=>{var g;const{formatName:h,formatOptions:p}=g4(u);if(this.formats[h]){let v=d;try{const b=((g=i==null?void 0:i.formatParams)==null?void 0:g[i.interpolationkey])||{},j=b.locale||b.lng||i.locale||i.lng||r;v=this.formats[h](d,j,{...p,...i,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${h}`);return d},e)}}const y4=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class b4 extends Qp{constructor(e,n,r,i={}){var a,c;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=wi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(c=(a=this.backend)==null?void 0:a.init)==null||c.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},c={},d={},u={};return e.forEach(h=>{let p=!0;n.forEach(g=>{const v=`${h}|${g}`;!r.reload&&this.store.hasResourceBundle(h,g)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?c[v]===void 0&&(c[v]=!0):(this.state[v]=1,p=!1,c[v]===void 0&&(c[v]=!0),a[v]===void 0&&(a[v]=!0),u[g]===void 0&&(u[g]=!0)))}),p||(d[h]=!0)}),(Object.keys(a).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const i=e.split("|"),a=i[0],c=i[1];n&&this.emit("failedLoading",a,c,n),!n&&r&&this.store.addResourceBundle(a,c,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const d={};this.queue.forEach(u=>{n4(u.loaded,[a],c),y4(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{d[h]||(d[h]={});const p=u.loaded[h];p.length&&p.forEach(g=>{d[h][g]===void 0&&(d[h][g]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r,i=0,a=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:c});return}this.readingCalls++;const d=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,c)},a);return}c(h,p)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const h=u(e,n);h&&typeof h.then=="function"?h.then(p=>d(null,p)).catch(d):d(null,h)}catch(h){d(h)}return}return u(e,n,d)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();et(e)&&(e=this.languageUtils.toResolveHierarchy(e)),et(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(c=>{this.loadOne(c)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,c),!c&&d&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,d),this.loaded(e,c,d)})}saveMissing(e,n,r,i,a,c={},d=()=>{}){var u,h,p,g,v;if((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace&&!((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((v=this.backend)!=null&&v.create){const b={...c,isUpdate:a},j=this.backend.create.bind(this.backend);if(j.length<6)try{let I;j.length===5?I=j(e,n,r,i,b):I=j(e,n,r,i),I&&typeof I.then=="function"?I.then(A=>d(null,A)).catch(d):d(null,I)}catch(I){d(I)}else j(e,n,r,i,d,b)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const F_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),et(t[1])&&(e.defaultValue=t[1]),et(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),B_=t=>{var e,n;return et(t.ns)&&(t.ns=[t.ns]),et(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),et(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Sm=()=>{},_4=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class bu extends Qp{constructor(e={},n){if(super(),this.options=B_(e),this.services={},this.logger=wi,this.modules={external:[]},_4(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(et(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=F_();this.options={...r,...this.options,...B_(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?wi.init(i(this.modules.logger),this.options):wi.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=v4;const p=new R_(this.options);this.store=new E_(this.options.resources,this.options);const g=this.services;g.logger=wi,g.resourceStore=this.store,g.languageUtils=p,g.pluralResolver=new p4(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=i(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new f4(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new b4(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(b,...j)=>{this.emit(b,...j)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new vp(this.services,this.options),this.translator.on("*",(b,...j)=>{this.emit(b,...j)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Sm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const d=Rd(),u=()=>{const h=(p,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(g),n(p,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),d}loadResources(e,n=Sm){var a,c;let r=n;const i=et(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&d.indexOf(g)<0&&d.push(g)})};i?u(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>u(p)),(c=(a=this.options.preload)==null?void 0:a.forEach)==null||c.call(a,h=>u(h)),this.services.backendConnector.load(d,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,n,r){const i=Rd();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Sm),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&OS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Rd();this.emit("languageChanging",e);const i=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},a=(d,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),n&&n(d,(...h)=>this.t(...h))},c=d=>{var p,g;!e&&!d&&this.services.languageDetector&&(d=[]);const u=et(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(et(d)?[d]:d);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(g=(p=this.services.languageDetector)==null?void 0:p.cacheUserLanguage)==null||g.call(p,h)),this.loadResources(h,v=>{a(v,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),r}getFixedT(e,n,r){const i=(a,c,...d)=>{let u;typeof c!="object"?u=this.options.overloadTranslationOptionHandler([a,c].concat(d)):u={...c},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);const h=this.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(a)?p=a.map(g=>(typeof g=="function"&&(g=vv(g,{...this.options,...c})),`${u.keyPrefix}${h}${g}`)):(typeof a=="function"&&(a=vv(a,{...this.options,...c})),p=u.keyPrefix?`${u.keyPrefix}${h}${a}`:a),this.t(p,u)};return et(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const c=(d,u)=>{const h=this.services.backendConnector.state[`${d}|${u}`];return h===-1||h===0||h===2};if(n.precheck){const d=n.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(r,e)&&(!i||c(a,e)))}loadNamespaces(e,n){const r=Rd();return this.options.ns?(et(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Rd();et(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(c=>i.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return a.length?(this.options.preload=i.concat(a),this.loadResources(c=>{r.resolve(),n&&n(c)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const c=new Intl.Locale(e);if(c&&c.getTextInfo){const d=c.getTextInfo();if(d&&d.direction)return d.direction}}catch(c){}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new R_(F_());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new bu(e,n)}cloneInstance(e={},n=Sm){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new bu(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const d=Object.keys(this.store.data).reduce((u,h)=>(u[h]={...this.store.data[h]},u[h]=Object.keys(u[h]).reduce((p,g)=>(p[g]={...u[h][g]},p),u[h]),u),{});a.store=new E_(d,i),a.services.resourceStore=a.store}return a.translator=new vp(a.services,i),a.translator.on("*",(d,...u)=>{a.emit(d,...u)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const dn=bu.createInstance();dn.createInstance=bu.createInstance;dn.createInstance;dn.dir;dn.init;dn.loadResources;dn.reloadResources;dn.use;dn.changeLanguage;dn.getFixedT;dn.t;dn.exists;dn.setDefaultNamespace;dn.hasLoadedNamespace;dn.loadNamespaces;dn.loadLanguages;const w4=(t,e,n,r)=>{var a,c,d,u;const i=[n,{code:e,...r||{}}];if((c=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&c.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Qo(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(u=(d=t==null?void 0:t.services)==null?void 0:d.logger)!=null&&u.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},$_={},yv=(t,e,n,r)=>{Qo(n)&&$_[n]||(Qo(n)&&($_[n]=new Date),w4(t,e,n,r))},zS=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},bv=(t,e,n)=>{t.loadNamespaces(e,zS(t,n))},V_=(t,e,n,r)=>{if(Qo(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return bv(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,zS(t,r))},j4=(t,e,n={})=>!e.languages||!e.languages.length?(yv(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),Qo=t=>typeof t=="string",S4=t=>typeof t=="object"&&t!==null,N4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,k4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},C4=t=>k4[t],T4=t=>t.replace(N4,C4);let _v={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:T4};const E4=(t={})=>{_v={..._v,...t}},A4=()=>_v;let HS;const I4=t=>{HS=t},R4=()=>HS,P4={type:"3rdParty",init(t){E4(t.options.react),I4(t)}},L4=R.createContext();class D4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const M4=(t,e)=>{const n=R.useRef();return R.useEffect(()=>{n.current=t},[t,e]),n.current},GS=(t,e,n,r)=>t.getFixedT(e,n,r),F4=(t,e,n,r)=>R.useCallback(GS(t,e,n,r),[t,e,n,r]),WS=(t,e={})=>{var y,S,M,C;const{i18n:n}=e,{i18n:r,defaultNS:i}=R.useContext(L4)||{},a=n||r||R4();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new D4),!a){yv(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const w=(L,P)=>Qo(P)?P:S4(P)&&Qo(P.defaultValue)?P.defaultValue:Array.isArray(L)?L[L.length-1]:L,E=[w,{},!1];return E.t=w,E.i18n={},E.ready=!1,E}(y=a.options.react)!=null&&y.wait&&yv(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...A4(),...a.options.react,...e},{useSuspense:d,keyPrefix:u}=c;let h=i||((S=a.options)==null?void 0:S.defaultNS);h=Qo(h)?[h]:h||["translation"],(C=(M=a.reportNamespaces).addUsedNamespaces)==null||C.call(M,h);const p=(a.isInitialized||a.initializedStoreOnce)&&h.every(w=>j4(w,a,c)),g=F4(a,e.lng||null,c.nsMode==="fallback"?h:h[0],u),v=()=>g,b=()=>GS(a,e.lng||null,c.nsMode==="fallback"?h:h[0],u),[j,I]=R.useState(v);let A=h.join();e.lng&&(A=`${e.lng}${A}`);const B=M4(A),D=R.useRef(!0);R.useEffect(()=>{const{bindI18n:w,bindI18nStore:E}=c;D.current=!0,!p&&!d&&(e.lng?V_(a,e.lng,h,()=>{D.current&&I(b)}):bv(a,h,()=>{D.current&&I(b)})),p&&B&&B!==A&&D.current&&I(b);const L=()=>{D.current&&I(b)};return w&&(a==null||a.on(w,L)),E&&(a==null||a.store.on(E,L)),()=>{D.current=!1,a&&w&&(w==null||w.split(" ").forEach(P=>a.off(P,L))),E&&a&&E.split(" ").forEach(P=>a.store.off(P,L))}},[a,A]),R.useEffect(()=>{D.current&&p&&I(v)},[a,u,p]);const T=[j,a,p];if(T.t=j,T.i18n=a,T.ready=p,p||!p&&!d)return T;throw new Promise(w=>{e.lng?V_(a,e.lng,h,()=>w()):bv(a,h,()=>w())})},B4={home:"Home",dashboard:"Dashboard",players:"Players",guilds:"Guilds",servers:"Servers",toplists:"Top Lists",oldscans:"Old Scans",favorites:"Favorites",notifications:"Notifications",imprint:"Imprint",privacy:"Privacy",license:"License",tools:"Tools"},$4={banner:{guestTitle:"Unlock extra features with an account",guestDescription:"You can use all tools without an account. Sign in to enable cloud-synced sets, cross-set insights, and integrations with your SFDataHub profile.",guestLoginCta:"Sign in to unlock",accountTitle:"Extended tools features",accountComingSoon:"These features are in development and will roll out gradually.",featureSetComparison:"Compare your sets to find the best setups.",featureIntegration:"Link your sets with player profiles, guilds, and other modules.",featureCloudSync:"Sync your sets across devices with your SFDataHub account."}},V4={search:"Search?  /",settings:"Settings",profile:"Profile",signout:"Sign out",notifications:"Notifications",help:"Help",theme:"Theme",theme_light:"Light",theme_dark:"Dark",language:"Language",lang_en:"English",lang_de:"Deutsch"},O4={public:{title:"Public profile",subtitle:"Read-only showcase of this SFDataHub identity",identity:{profileIdLabel:"Profile ID",unknownValue:"Unknown",lastScanLabel:"Last scan",lastScanToday:"today",daysAgoSuffix:"days ago",dateUnknown:"Not available",mainCharacterLabel:"Main character",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Guild",portraitPlaceholder:"Portrait placeholder"},bio:{title:"About this player",empty:"This player has not added a bio yet.",languagesLabel:"Languages",rolesLabel:"Roles"},showcase:{title:"Character showcase",subtitle:"Curated roster pulled from the last verified scans",empty:"No characters selected for showcase yet.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archive",event:"Event"}},stats:{title:"SFDataHub activity",totalScans:"Total scans",uniquePlayers:"Unique players",uniqueGuilds:"Unique guilds",last30d:"Scans (30d)",topServersLabel:"Top servers",firstScanLabel:"First scan",empty:"No scan data available yet."},records:{title:"Records & milestones",empty:"No records or milestones have been registered yet.",type:{record:"Record",milestone:"Milestone"}},achievements:{title:"Achievements & badges",highlights:"Featured achievements",empty:"No achievements have been unlocked yet.",tiers:{gold:"Gold",silver:"Silver",bronze:"Bronze"}},roles:{guildleader:"Guild Leader",tryhard:"Tryhard"}}},U4={nav:B4,tools:$4,topbar:V4,profile:O4},z4={home:"Start",dashboard:"Dashboard",players:"Spieler",guilds:"Gilden",servers:"Server",toplists:"Top-Listen",oldscans:"Alte Scans",favorites:"Favoriten",notifications:"Benachrichtigungen",imprint:"Impressum",privacy:"Datenschutz",license:"Lizenzen",tools:"Tools"},H4={banner:{guestTitle:"Zusatzfunktionen mit Account freischalten",guestDescription:"Du kannst alle Tools ohne Account nutzen. Mit einem Login schaltest du zusaetzlich cloud-synchronisierte Sets, Set-Analysen und Integrationen mit deinem SFDataHub-Profil frei.",guestLoginCta:"Einloggen und freischalten",accountTitle:"Erweiterte Tool-Funktionen",accountComingSoon:"Diese Funktionen sind in Entwicklung und werden nach und nach freigeschaltet.",featureSetComparison:"Vergleiche deine Sets, um die besten Setups zu finden.",featureIntegration:"Verknuepfe deine Sets mit Spielerprofilen, Gilden und weiteren Modulen.",featureCloudSync:"Nutze deine Sets auf mehreren Geraeten mit deinem SFDataHub-Account."}},G4={search:"Suchen?  /",settings:"Einstellungen",profile:"Profil",signout:"Abmelden",notifications:"Benachrichtigungen",help:"Hilfe",theme:"Theme",theme_light:"Hell",theme_dark:"Dunkel",language:"Sprache",lang_en:"English",lang_de:"Deutsch"},W4={public:{title:"ffentliches Profil",subtitle:"Read-only-Ansicht dieser SFDataHub-Identitt",identity:{profileIdLabel:"Profil-ID",unknownValue:"Unbekannt",lastScanLabel:"Letzter Scan",lastScanToday:"heute",daysAgoSuffix:"Tage her",dateUnknown:"Keine Angabe",mainCharacterLabel:"Hauptcharakter",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Gilde",portraitPlaceholder:"Portrait-Platzhalter"},bio:{title:"ber diesen Spieler",empty:"Noch kein Bio-Text hinterlegt.",languagesLabel:"Sprachen",rolesLabel:"Rollen"},showcase:{title:"Charakter-Showcase",subtitle:"Kuratiertes Roster aus den letzten Scans",empty:"Noch keine Charaktere fr den Showcase ausgewhlt.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archiv",event:"Event"}},stats:{title:"SFDataHub-Aktivitt",totalScans:"Scans gesamt",uniquePlayers:"Einzigartige Spieler",uniqueGuilds:"Einzigartige Gilden",last30d:"Scans (30T)",topServersLabel:"Top-Server",firstScanLabel:"Erster Scan",empty:"Noch keine Scan-Daten vorhanden."},records:{title:"Records & Meilensteine",empty:"Noch keine Records oder Meilensteine erfasst.",type:{record:"Record",milestone:"Meilenstein"}},achievements:{title:"Erfolge & Badges",highlights:"Highlight-Erfolge",empty:"Noch keine Erfolge freigeschaltet.",tiers:{gold:"Gold",silver:"Silber",bronze:"Bronze"}},roles:{guildleader:"Gildenleiter",tryhard:"Tryhard"}}},q4={nav:z4,tools:H4,topbar:G4,profile:W4},K4={en:{translation:U4},de:{translation:q4}};dn.use(P4).init({resources:K4,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});function Ze(t,e="en"){return dn.t(t,{lng:e})}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var O_="popstate";function Q4(t={}){function e(i,a){let{pathname:c="/",search:d="",hash:u=""}=il(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),wv("",{pathname:c,search:d,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let c=i.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let u=i.location.href,h=u.indexOf("#");d=h===-1?u:u.slice(0,h)}return d+"#"+(typeof a=="string"?a:_u(a))}function r(i,a){hr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Y4(e,n,r,t)}function ts(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function hr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function X4(){return Math.random().toString(36).substring(2,10)}function U_(t,e){return{usr:t.state,key:t.key,idx:e}}function wv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?il(e):e,state:n,key:e&&e.key||r||X4()}}function _u({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function il(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Y4(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,c=i.history,d="POP",u=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function g(){d="POP";let A=p(),B=A==null?null:A-h;h=A,u&&u({action:d,location:I.location,delta:B})}function v(A,B){d="PUSH";let D=wv(I.location,A,B);n&&n(D,A),h=p()+1;let T=U_(D,h),y=I.createHref(D);try{c.pushState(T,"",y)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(y)}a&&u&&u({action:d,location:I.location,delta:1})}function b(A,B){d="REPLACE";let D=wv(I.location,A,B);n&&n(D,A),h=p();let T=U_(D,h),y=I.createHref(D);c.replaceState(T,"",y),a&&u&&u({action:d,location:I.location,delta:0})}function j(A){return J4(A)}let I={get action(){return d},get location(){return t(i,c)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(O_,g),u=A,()=>{i.removeEventListener(O_,g),u=null}},createHref(A){return e(i,A)},createURL:j,encodeLocation(A){let B=j(A);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:v,replace:b,go(A){return c.go(A)}};return I}function J4(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ts(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:_u(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qS(t,e,n="/"){return Z4(t,e,n,!1)}function Z4(t,e,n,r){let i=typeof e=="string"?il(e):e,a=oa(i.pathname||"/",n);if(a==null)return null;let c=KS(t);eE(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let h=uE(a);d=cE(c[u],h,r)}return d}function KS(t,e=[],n=[],r="",i=!1){let a=(c,d,u=i,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;ts(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let g=ra([r,p.relativePath]),v=n.concat(p);c.children&&c.children.length>0&&(ts(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),KS(c.children,e,v,g,u)),!(c.path==null&&!c.index)&&e.push({path:g,score:oE(g,c.index),routesMeta:v})};return t.forEach((c,d)=>{var u;if(c.path===""||!((u=c.path)!=null&&u.includes("?")))a(c,d);else for(let h of QS(c.path))a(c,d,!0,h)}),e}function QS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let c=QS(r.join("/")),d=[];return d.push(...c.map(u=>u===""?a:[a,u].join("/"))),i&&d.push(...c),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function eE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var tE=/^:[\w-]+$/,sE=3,nE=2,rE=1,iE=10,aE=-2,z_=t=>t==="*";function oE(t,e){let n=t.split("/"),r=n.length;return n.some(z_)&&(r+=aE),e&&(r+=nE),n.filter(i=>!z_(i)).reduce((i,a)=>i+(tE.test(a)?sE:a===""?rE:iE),r)}function lE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function cE(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",c=[];for(let d=0;d<r.length;++d){let u=r[d],h=d===r.length-1,p=a==="/"?e:e.slice(a.length)||"/",g=yp({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),v=u.route;if(!g&&h&&n&&!r[r.length-1].route.index&&(g=yp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:ra([a,g.pathname]),pathnameBase:fE(ra([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=ra([a,g.pathnameBase]))}return c}function yp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],c=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:g},v)=>{if(p==="*"){let j=d[v]||"";c=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[v];return g&&!b?h[p]=void 0:h[p]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:c,pattern:t}}function dE(t,e=!1,n=!0){hr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function oa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hE(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?il(t):t;return{pathname:n?n.startsWith("/")?n:mE(n,e):e,search:gE(r),hash:xE(i)}}function mE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hx(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wy(t){let e=pE(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jy(t,e,n,r=!1){let i;typeof t=="string"?i=il(t):(i={...t},ts(!i.pathname||!i.pathname.includes("?"),hx("?","pathname","search",i)),ts(!i.pathname||!i.pathname.includes("#"),hx("#","pathname","hash",i)),ts(!i.search||!i.search.includes("#"),hx("#","search","hash",i)));let a=t===""||i.pathname==="",c=a?"/":i.pathname,d;if(c==null)d=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}d=g>=0?e[g]:"/"}let u=hE(i,d),h=c&&c!=="/"&&c.endsWith("/"),p=(a||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var ra=t=>t.join("/").replace(/\/\/+/g,"/"),fE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var XS=["POST","PUT","PATCH","DELETE"];new Set(XS);var yE=["GET",...XS];new Set(yE);var Mc=R.createContext(null);Mc.displayName="DataRouter";var Xp=R.createContext(null);Xp.displayName="DataRouterState";R.createContext(!1);var YS=R.createContext({isTransitioning:!1});YS.displayName="ViewTransition";var bE=R.createContext(new Map);bE.displayName="Fetchers";var _E=R.createContext(null);_E.displayName="Await";var ai=R.createContext(null);ai.displayName="Navigation";var Ou=R.createContext(null);Ou.displayName="Location";var Lr=R.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var Sy=R.createContext(null);Sy.displayName="RouteError";function wE(t,{relative:e}={}){ts(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(ai),{hash:i,pathname:a,search:c}=Uu(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:ra([n,a])),r.createHref({pathname:d,search:c,hash:i})}function Fc(){return R.useContext(Ou)!=null}function Yn(){return ts(Fc(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Ou).location}var JS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZS(t){R.useContext(ai).static||R.useLayoutEffect(t)}function Dr(){let{isDataRoute:t}=R.useContext(Lr);return t?FE():jE()}function jE(){ts(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Mc),{basename:e,navigator:n}=R.useContext(ai),{matches:r}=R.useContext(Lr),{pathname:i}=Yn(),a=JSON.stringify(wy(r)),c=R.useRef(!1);return ZS(()=>{c.current=!0}),R.useCallback((u,h={})=>{if(hr(c.current,JS),!c.current)return;if(typeof u=="number"){n.go(u);return}let p=jy(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ra([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,i,t])}var SE=R.createContext(null);function NE(t){let e=R.useContext(Lr).outlet;return e&&R.createElement(SE.Provider,{value:t},e)}function Yp(){let{matches:t}=R.useContext(Lr),e=t[t.length-1];return e?e.params:{}}function Uu(t,{relative:e}={}){let{matches:n}=R.useContext(Lr),{pathname:r}=Yn(),i=JSON.stringify(wy(n));return R.useMemo(()=>jy(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function kE(t,e){return eN(t,e)}function eN(t,e,n,r,i){var D;ts(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=R.useContext(ai),{matches:c}=R.useContext(Lr),d=c[c.length-1],u=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",g=d&&d.route;{let T=g&&g.path||"";tN(h,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let v=Yn(),b;if(e){let T=typeof e=="string"?il(e):e;ts(p==="/"||((D=T.pathname)==null?void 0:D.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),b=T}else b=v;let j=b.pathname||"/",I=j;if(p!=="/"){let T=p.replace(/^\//,"").split("/");I="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=qS(t,{pathname:I});hr(g||A!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),hr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=IE(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:ra([p,a.encodeLocation?a.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:ra([p,a.encodeLocation?a.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),c,n,r,i);return e&&B?R.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},B):B}function CE(){let t=ME(),e=vE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:a},"ErrorBoundary")," or"," ",R.createElement("code",{style:a},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,c)}var TE=R.createElement(CE,null),EE=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(Lr.Provider,{value:this.props.routeContext},R.createElement(Sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AE({routeContext:t,match:e,children:n}){let r=R.useContext(Mc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Lr.Provider,{value:t},n)}function IE(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=n==null?void 0:n.errors;if(c!=null){let h=a.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);ts(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let d=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:v}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){d=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,g)=>{let v,b=!1,j=null,I=null;n&&(v=c&&p.route.id?c[p.route.id]:void 0,j=p.route.errorElement||TE,d&&(u<0&&g===0?(tN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,I=null):u===g&&(b=!0,I=p.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,g+1)),B=()=>{let D;return v?D=j:b?D=I:p.route.Component?D=R.createElement(p.route.Component,null):p.route.element?D=p.route.element:D=h,R.createElement(AE,{match:p,routeContext:{outlet:h,matches:A,isDataRoute:n!=null},children:D})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?R.createElement(EE,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:B(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:r}):B()},null)}function Ny(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RE(t){let e=R.useContext(Mc);return ts(e,Ny(t)),e}function PE(t){let e=R.useContext(Xp);return ts(e,Ny(t)),e}function LE(t){let e=R.useContext(Lr);return ts(e,Ny(t)),e}function ky(t){let e=LE(t),n=e.matches[e.matches.length-1];return ts(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function DE(){return ky("useRouteId")}function ME(){var r;let t=R.useContext(Sy),e=PE("useRouteError"),n=ky("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function FE(){let{router:t}=RE("useNavigate"),e=ky("useNavigate"),n=R.useRef(!1);return ZS(()=>{n.current=!0}),R.useCallback(async(i,a={})=>{hr(n.current,JS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var H_={};function tN(t,e,n){!e&&!H_[t]&&(H_[t]=!0,hr(!1,n))}R.memo(BE);function BE({routes:t,future:e,state:n,unstable_onError:r}){return eN(t,void 0,n,r,e)}function Wd({to:t,replace:e,state:n,relative:r}){ts(Fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(ai);hr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=R.useContext(Lr),{pathname:c}=Yn(),d=Dr(),u=jy(t,wy(a),c,r==="path"),h=JSON.stringify(u);return R.useEffect(()=>{d(JSON.parse(h),{replace:e,state:n,relative:r})},[d,h,r,e,n]),null}function sN(t){return NE(t.context)}function me(t){ts(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $E({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ts(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:i,static:a,future:{}}),[c,i,a]);typeof n=="string"&&(n=il(n));let{pathname:u="/",search:h="",hash:p="",state:g=null,key:v="default"}=n,b=R.useMemo(()=>{let j=oa(u,c);return j==null?null:{location:{pathname:j,search:h,hash:p,state:g,key:v},navigationType:r}},[c,u,h,p,g,v,r]);return hr(b!=null,`<Router basename="${c}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:R.createElement(ai.Provider,{value:d},R.createElement(Ou.Provider,{children:e,value:b}))}function VE({children:t,location:e}){return kE(jv(t),e)}function jv(t,e=[]){let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,jv(r.props.children,a));return}ts(r.type===me,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ts(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=jv(r.props.children,a)),n.push(c)}),n}var Jm="get",Zm="application/x-www-form-urlencoded";function Jp(t){return t!=null&&typeof t.tagName=="string"}function OE(t){return Jp(t)&&t.tagName.toLowerCase()==="button"}function UE(t){return Jp(t)&&t.tagName.toLowerCase()==="form"}function zE(t){return Jp(t)&&t.tagName.toLowerCase()==="input"}function HE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GE(t,e){return t.button===0&&(!e||e==="_self")&&!HE(t)}function Sv(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function WE(t,e){let n=Sv(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Nm=null;function qE(){if(Nm===null)try{new FormData(document.createElement("form"),0),Nm=!1}catch(t){Nm=!0}return Nm}var KE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mx(t){return t!=null&&!KE.has(t)?(hr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zm}"`),null):t}function QE(t,e){let n,r,i,a,c;if(UE(t)){let d=t.getAttribute("action");r=d?oa(d,e):null,n=t.getAttribute("method")||Jm,i=mx(t.getAttribute("enctype"))||Zm,a=new FormData(t)}else if(OE(t)||zE(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(r=u?oa(u,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Jm,i=mx(t.getAttribute("formenctype"))||mx(d.getAttribute("enctype"))||Zm,a=new FormData(d,t),!qE()){let{name:h,type:p,value:g}=t;if(p==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,g)}}else{if(Jp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jm,r=null,i=Zm,c=t}return a&&i==="text/plain"&&(c=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cy(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function XE(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&oa(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function YE(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ZE(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let c=await YE(a,n);return c.links?c.links():[]}return[]}));return nA(r.flat(1).filter(JE).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function G_(t,e,n,r,i,a){let c=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,d=(u,h)=>{var p;return n[h].pathname!==u.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,h)=>c(u,h)||d(u,h)):a==="data"?e.filter((u,h)=>{var g;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(c(u,h)||d(u,h))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function eA(t,e,{includeHydrateFallback:n}={}){return tA(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function tA(t){return[...new Set(t)]}function sA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function nA(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(sA(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function nN(){let t=R.useContext(Mc);return Cy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rA(){let t=R.useContext(Xp);return Cy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ty=R.createContext(void 0);Ty.displayName="FrameworkContext";function rN(){let t=R.useContext(Ty);return Cy(t,"You must render this element inside a <HydratedRouter> element"),t}function iA(t,e){let n=R.useContext(Ty),[r,i]=R.useState(!1),[a,c]=R.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:g}=e,v=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let I=B=>{B.forEach(D=>{c(D.isIntersecting)})},A=new IntersectionObserver(I,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[t]),R.useEffect(()=>{if(r){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[r]);let b=()=>{i(!0)},j=()=>{i(!1),c(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:Pd(d,b),onBlur:Pd(u,j),onMouseEnter:Pd(h,b),onMouseLeave:Pd(p,j),onTouchStart:Pd(g,b)}]:[!1,v,{}]}function Pd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aA({page:t,...e}){let{router:n}=nN(),r=R.useMemo(()=>qS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(lA,{page:t,matches:r,...e}):null}function oA(t){let{manifest:e,routeModules:n}=rN(),[r,i]=R.useState([]);return R.useEffect(()=>{let a=!1;return ZE(t,e,n).then(c=>{a||i(c)}),()=>{a=!0}},[t,e,n]),r}function lA({page:t,matches:e,...n}){let r=Yn(),{manifest:i,routeModules:a}=rN(),{basename:c}=nN(),{loaderData:d,matches:u}=rA(),h=R.useMemo(()=>G_(t,e,u,i,r,"data"),[t,e,u,i,r]),p=R.useMemo(()=>G_(t,e,u,i,r,"assets"),[t,e,u,i,r]),g=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let j=new Set,I=!1;if(e.forEach(B=>{var T;let D=i.routes[B.route.id];!D||!D.hasLoader||(!h.some(y=>y.route.id===B.route.id)&&B.route.id in d&&((T=a[B.route.id])!=null&&T.shouldRevalidate)||D.hasClientLoader?I=!0:j.add(B.route.id))}),j.size===0)return[];let A=XE(t,c,"data");return I&&j.size>0&&A.searchParams.set("_routes",e.filter(B=>j.has(B.route.id)).map(B=>B.route.id).join(",")),[A.pathname+A.search]},[c,d,r,i,h,e,t,a]),v=R.useMemo(()=>eA(p,i),[p,i]),b=oA(p);return R.createElement(R.Fragment,null,g.map(j=>R.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),v.map(j=>R.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),b.map(({key:j,link:I})=>R.createElement("link",{key:j,nonce:n.nonce,...I})))}function cA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iN=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{iN&&(window.__reactRouterVersion="7.9.1")}catch(t){}function dA({basename:t,children:e,window:n}){let r=R.useRef();r.current==null&&(r.current=Q4({window:n,v5Compat:!0}));let i=r.current,[a,c]=R.useState({action:i.action,location:i.location}),d=R.useCallback(u=>{R.startTransition(()=>c(u))},[c]);return R.useLayoutEffect(()=>i.listen(d),[i,d]),R.createElement($E,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var aN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:c,state:d,target:u,to:h,preventScrollReset:p,viewTransition:g,...v},b){let{basename:j}=R.useContext(ai),I=typeof h=="string"&&aN.test(h),A,B=!1;if(typeof h=="string"&&I&&(A=h,iN))try{let E=new URL(window.location.href),L=h.startsWith("//")?new URL(E.protocol+h):new URL(h),P=oa(L.pathname,j);L.origin===E.origin&&P!=null?h=P+L.search+L.hash:B=!0}catch(E){hr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=wE(h,{relative:i}),[T,y,S]=iA(r,v),M=mA(h,{replace:c,state:d,target:u,preventScrollReset:p,relative:i,viewTransition:g});function C(E){e&&e(E),E.defaultPrevented||M(E)}let w=R.createElement("a",{...v,...S,href:A||D,onClick:B||a?e:C,ref:cA(b,y),target:u,"data-discover":!I&&n==="render"?"true":void 0});return T&&!I?R.createElement(R.Fragment,null,w,R.createElement(aA,{page:D})):w});Ft.displayName="Link";var os=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:c,viewTransition:d,children:u,...h},p){let g=Uu(c,{relative:h.relative}),v=Yn(),b=R.useContext(Xp),{navigator:j,basename:I}=R.useContext(ai),A=b!=null&&vA(g)&&d===!0,B=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,D=v.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),T=T?T.toLowerCase():null,B=B.toLowerCase()),T&&I&&(T=oa(T,I)||T);const y=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let S=D===B||!i&&D.startsWith(B)&&D.charAt(y)==="/",M=T!=null&&(T===B||!i&&T.startsWith(B)&&T.charAt(B.length)==="/"),C={isActive:S,isPending:M,isTransitioning:A},w=S?e:void 0,E;typeof r=="function"?E=r(C):E=[r,S?"active":null,M?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(C):a;return R.createElement(Ft,{...h,"aria-current":w,className:E,ref:p,style:L,to:c,viewTransition:d},typeof u=="function"?u(C):u)});os.displayName="NavLink";var uA=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:c=Jm,action:d,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:g,...v},b)=>{let j=gA(),I=xA(d,{relative:h}),A=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&aN.test(d),D=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let y=T.nativeEvent.submitter,S=(y==null?void 0:y.getAttribute("formmethod"))||c;j(y||T.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:a,relative:h,preventScrollReset:p,viewTransition:g})};return R.createElement("form",{ref:b,method:A,action:I,onSubmit:r?u:D,...v,"data-discover":!B&&t==="render"?"true":void 0})});uA.displayName="Form";function hA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oN(t){let e=R.useContext(Mc);return ts(e,hA(t)),e}function mA(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:c}={}){let d=Dr(),u=Yn(),h=Uu(t,{relative:a});return R.useCallback(p=>{if(GE(p,e)){p.preventDefault();let g=n!==void 0?n:_u(u)===_u(h);d(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:c})}},[u,d,h,n,r,e,t,i,a,c])}function al(t){hr(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(Sv(t)),n=R.useRef(!1),r=Yn(),i=R.useMemo(()=>WE(r.search,n.current?null:e.current),[r.search]),a=Dr(),c=R.useCallback((d,u)=>{const h=Sv(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,a("?"+h,u)},[a,i]);return[i,c]}var pA=0,fA=()=>`__${String(++pA)}__`;function gA(){let{router:t}=oN("useSubmit"),{basename:e}=R.useContext(ai),n=DE();return R.useCallback(async(r,i={})=>{let{action:a,method:c,encType:d,formData:u,body:h}=QE(r,e);if(i.navigate===!1){let p=i.fetcherKey||fA();await t.fetch(p,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||c,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||c,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function xA(t,{relative:e}={}){let{basename:n}=R.useContext(ai),r=R.useContext(Lr);ts(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Uu(t||".",{relative:e})},c=Yn();if(t==null){a.search=c.search;let d=new URLSearchParams(a.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(g=>g).forEach(g=>d.append("index",g));let p=d.toString();a.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ra([n,a.pathname])),_u(a)}function vA(t,{relative:e}={}){let n=R.useContext(YS);ts(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oN("useViewTransitionState"),i=Uu(t,{relative:e});if(!n.isTransitioning)return!1;let a=oa(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=oa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return yp(i.pathname,c)!=null||yp(i.pathname,a)!=null}var yA=$S();const bA=by(yA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),W_=t=>{const e=wA(t);return e.charAt(0).toUpperCase()+e.slice(1)},lN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),jA=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:c,...d},u)=>R.createElement("svg",{ref:u,...SA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:lN("lucide",i),...!a&&!jA(d)&&{"aria-hidden":"true"},...d},[...c.map(([h,p])=>R.createElement(h,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const n=R.forwardRef(({className:r,...i},a)=>R.createElement(NA,{ref:a,iconNode:e,className:lN(`lucide-${_A(W_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=W_(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Zp=st("aperture",kA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],TA=st("arrow-up-right",CA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AA=st("ban",EA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],RA=st("bell",IA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],LA=st("book-open",PA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],MA=st("chart-column",DA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BA=st("chevron-right",FA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ru=st("circle-alert",$A);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],OA=st("circle-check",VA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],ep=st("circle-dot",UA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HA=st("circle-user-round",zA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],WA=st("clock-3",GA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],KA=st("cloud-upload",qA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XA=st("compass",QA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],JA=st("database",YA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],cN=st("diamond",ZA);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],t6=st("file-text",e6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],n6=st("folder-search",s6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],i6=st("globe",r6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],dN=st("hexagon",a6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],l6=st("house",o6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],d6=st("layers",c6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],h6=st("layout-dashboard",u6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ka=st("loader-circle",m6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],f6=st("messages-square",p6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],x6=st("pin-off",g6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],y6=st("pin",v6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ef=st("refresh-ccw",b6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],w6=st("scroll-text",_6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Nv=st("search",j6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],N6=st("server-cog",S6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C6=st("settings",k6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],uN=st("shapes",T6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],hN=st("shield-alert",E6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],I6=st("shield-check",A6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],P6=st("shield-off",R6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ol=st("shield",L6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],M6=st("square-activity",D6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],B6=st("star",F6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],V6=st("sticky-note",$6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ey=st("triangle-alert",O6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],z6=st("trophy",U6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],G6=st("upload",H6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tf=st("users",W6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],K6=st("wrench",q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mN=st("zap",Q6),X6="_topbar_1lc6k_3",Y6="_topbarLeft_1lc6k_39",J6="_searchWrap_1lc6k_55",Z6="_topbarRight_1lc6k_109",eI="_ico_1lc6k_125",tI="_btnIco_1lc6k_139",sI="_pill_1lc6k_173",nI="_pillActive_1lc6k_195",rI="_onlyExpanded_1lc6k_203",iI="_topbarNav_1lc6k_205",aI="_topbarLink_1lc6k_215",oI="_upload_1lc6k_225",lI="_label_1lc6k_255",cI="_avatarBtn_1lc6k_261",dI="_avatar_1lc6k_261",uI="_avatarSpinnerShell_1lc6k_289",hI="_avatarSpinner_1lc6k_289",mI="_srOnly_1lc6k_325",pI="_accountRoot_1lc6k_351",fI="_accountDropdown_1lc6k_359",gI="_accountHeader_1lc6k_389",xI="_accountName_1lc6k_401",vI="_accountSub_1lc6k_413",yI="_accountStatusText_1lc6k_423",bI="_accountPrimary_1lc6k_433",_I="_accountHint_1lc6k_455",wI="_accountItem_1lc6k_465",jI="_accountDivider_1lc6k_495",SI="_accountMiniAvatar_1lc6k_507",NI="_accountLogout_1lc6k_519",mt={topbar:X6,topbarLeft:Y6,searchWrap:J6,topbarRight:Z6,ico:eI,btnIco:tI,pill:sI,pillActive:nI,onlyExpanded:rI,topbarNav:iI,topbarLink:aI,upload:oI,label:lI,avatarBtn:cI,avatar:dI,avatarSpinnerShell:uI,avatarSpinner:hI,srOnly:mI,accountRoot:pI,accountDropdown:fI,accountHeader:gI,accountName:xI,accountSub:vI,accountStatusText:yI,accountPrimary:bI,accountHint:_I,accountItem:wI,accountDivider:jI,accountMiniAvatar:SI,accountLogout:NI},ll="https://auth.sfdatahub.com",pN=R.createContext(void 0),q_=`${ll}/auth/session`,K_=`${ll}/auth/logout`,kI=({children:t})=>{const[e,n]=R.useState(null),[r,i]=R.useState("idle"),a=R.useCallback(j=>{j!=null&&j.authenticated&&j.user?(n(j.user),i("authenticated")):(n(null),i("unauthenticated"))},[]),c=R.useCallback(async()=>{if(i("loading"),!q_){console.warn("[Auth] AUTH_BASE_URL is not configured. Skipping session fetch."),n(null),i("unauthenticated");return}try{const j=await fetch(q_,{credentials:"include"});if(!j.ok)throw new Error(`Failed to fetch session (${j.status})`);const I=await j.json();a(I)}catch(j){console.error("[Auth] Failed to refresh session.",j),n(null),i("unauthenticated")}},[a]);R.useEffect(()=>{c()},[c]);const d=R.useCallback(j=>{window.location.href=`${ll}/auth/${j}/login`},[]),u=R.useCallback(()=>d("discord"),[d]),h=R.useCallback(()=>d("google"),[d]),p=R.useCallback(async()=>{if(!K_){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),n(null),i("unauthenticated");return}try{const j=await fetch(K_,{method:"POST",credentials:"include"});if(!j.ok)throw new Error(`Logout failed (${j.status})`)}catch(j){console.error("[Auth] Failed to logout. Clearing local session anyway.",j)}finally{n(null),i("unauthenticated")}},[]),g=R.useCallback(async()=>{await c()},[c]),v=r==="idle"||r==="loading",b=R.useMemo(()=>({user:e,status:r,isLoading:v,loginWithDiscord:u,loginWithGoogle:h,logout:p,refreshSession:g}),[e,r,v,u,h,p,g]);return s.jsx(pN.Provider,{value:b,children:t})},cl=()=>{const t=R.useContext(pN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},CI="https://i.pravatar.cc/72",TI=({fallbackName:t})=>{var D,T;const{user:e,status:n,logout:r,isLoading:i}=cl(),a=Dr(),[c,d]=R.useState(!1),u=R.useRef(null),h=n==="authenticated",p=h?(T=(D=e==null?void 0:e.displayName)!=null?D:t)!=null?T:"Player":t!=null?t:"Guest",g=h&&(e!=null&&e.avatarUrl)?e.avatarUrl:CI;R.useEffect(()=>{const y=S=>{u.current&&!u.current.contains(S.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),R.useEffect(()=>{i&&d(!1)},[i]);const v=R.useCallback(()=>d(!1),[]),b=()=>{d(y=>!y)},j=()=>{a("/login"),v()},I=()=>{a("/settings/account"),v()},A=R.useCallback(async()=>{try{await r()}finally{v(),a("/")}},[v,r,a]),B=()=>{var y;if(i)return s.jsx("p",{className:mt.accountStatusText,children:"Checking session..."});if(n==="unauthenticated")return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:mt.accountHeader,children:[s.jsx("p",{className:mt.accountName,children:"Not signed in"}),s.jsx("p",{className:mt.accountSub,children:"Your scans stay synced when you log in."})]}),s.jsx("button",{type:"button",className:mt.accountPrimary,onClick:j,children:"Sign in"}),s.jsx("p",{className:mt.accountHint,children:"Use Discord or Google on the sign-in page."})]});if(n==="authenticated"){const S=!!((y=e==null?void 0:e.roles)!=null&&y.includes("admin"));return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:mt.accountHeader,children:[s.jsx("img",{className:mt.accountMiniAvatar,src:g,alt:p}),s.jsxs("div",{children:[s.jsx("p",{className:mt.accountName,children:p}),s.jsxs("p",{className:mt.accountSub,children:["Signed in via ",(e==null?void 0:e.provider)==="google"?"Google":"Discord"]})]})]}),s.jsx("button",{type:"button",className:mt.accountItem,onClick:I,children:"Account & Profile"}),S?s.jsx("a",{className:mt.accountItem,href:"https://control-panel.sfdatahub.com/",target:"_blank",rel:"noreferrer",children:"Console Panel"}):null,s.jsx("hr",{className:mt.accountDivider}),s.jsx("button",{type:"button",className:`${mt.accountItem} ${mt.accountLogout}`,onClick:A,children:"Logout"})]})}return null};return s.jsxs("div",{className:mt.accountRoot,ref:u,children:[i?s.jsxs("div",{className:mt.avatarSpinnerShell,role:"status","aria-live":"polite","aria-label":"Checking login status",children:[s.jsx("span",{className:mt.avatarSpinner,"aria-hidden":"true"}),s.jsx("span",{className:mt.srOnly,children:"Checking login status"})]}):s.jsx("button",{type:"button",className:mt.avatarBtn,"aria-haspopup":"menu","aria-expanded":c,"aria-label":p,onClick:b,children:s.jsx("img",{className:mt.avatar,src:g,alt:p})}),!i&&c&&s.jsx("div",{className:mt.accountDropdown,role:"menu",children:B()})]})},fN=R.createContext(null);function EI({children:t,role:e}){const[n,r]=R.useState(!1),[i,a]=R.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=R.useCallback(p=>{c&&(p!=null&&p.tab?a(p.tab):a("csv"),r(!0))},[c]),u=R.useCallback(()=>r(!1),[]),h=R.useMemo(()=>({isOpen:n,open:d,close:u,activeTab:i,setTab:a,canUse:c}),[n,d,u,i,c]);return s.jsx(fN.Provider,{value:h,children:t})}function gN(){const t=R.useContext(fN);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var Q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],c=t[n++],d=t[n++],u=((i&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|c&63)}}return e.join("")},vN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],c=i+1<t.length,d=c?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=a>>2,g=(a&3)<<4|d>>4;let v=(d&15)<<2|h>>6,b=h&63;u||(b=64,c||(v=64)),r.push(n[p],n[g],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||h==null||g==null)throw new II;const v=a<<2|d>>4;if(r.push(v),h!==64){const b=d<<4&240|h>>2;if(r.push(b),g!==64){const j=h<<6&192|g;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class II extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RI=function(t){const e=xN(t);return vN.encodeByteArray(e,!0)},bp=function(t){return RI(t).replace(/\./g,"")},PI=function(t){try{return vN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=()=>LI().__FIREBASE_DEFAULTS__,MI=()=>{if(typeof process=="undefined"||typeof Q_=="undefined")return;const t=Q_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FI=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&PI(t[1]);return e&&JSON.parse(e)},Ay=()=>{try{return DI()||MI()||FI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BI=t=>{var e,n;return(n=(e=Ay())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$I=t=>{const e=BI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yN=()=>{var t;return(t=Ay())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bp(JSON.stringify(n)),bp(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zI(){var t;const e=(t=Ay())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function HI(){return!zI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GI(){try{return typeof indexedDB=="object"}catch(t){return!1}}function WI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="FirebaseError";class Bc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qI,Object.setPrototypeOf(this,Bc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bN.prototype.create)}}class bN{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?KI(a,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new Bc(i,d,r)}}function KI(t,e){return t.replace(QI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QI=/\{\$([^}]+)}/g;function kv(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],c=e[i];if(X_(a)&&X_(c)){if(!kv(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t){return t&&t._delegate?t._delegate:t}class wu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JI(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch(a){}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const c=this.instances.get(i);return c&&e(c,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(a){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YI(t){return t===Oo?void 0:t}function JI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(At||(At={}));const eR={debug:At.DEBUG,verbose:At.VERBOSE,info:At.INFO,warn:At.WARN,error:At.ERROR,silent:At.SILENT},tR=At.INFO,sR={[At.DEBUG]:"log",[At.VERBOSE]:"log",[At.INFO]:"info",[At.WARN]:"warn",[At.ERROR]:"error"},nR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _N{constructor(e){this.name=e,this._logLevel=tR,this._logHandler=nR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in At))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,At.DEBUG,...e),this._logHandler(this,At.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,At.VERBOSE,...e),this._logHandler(this,At.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,At.INFO,...e),this._logHandler(this,At.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,At.WARN,...e),this._logHandler(this,At.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,At.ERROR,...e),this._logHandler(this,At.ERROR,...e)}}const rR=(t,e)=>e.some(n=>t instanceof n);let Y_,J_;function iR(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aR(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wN=new WeakMap,Cv=new WeakMap,jN=new WeakMap,px=new WeakMap,Iy=new WeakMap;function oR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Qa(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&wN.set(n,t)}).catch(()=>{}),Iy.set(e,t),e}function lR(t){if(Cv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});Cv.set(t,e)}let Tv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cR(t){Tv=t(Tv)}function dR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fx(this),e,...n);return jN.set(r,e.sort?e.sort():[e]),Qa(r)}:aR().includes(t)?function(...e){return t.apply(fx(this),e),Qa(wN.get(this))}:function(...e){return Qa(t.apply(fx(this),e))}}function uR(t){return typeof t=="function"?dR(t):(t instanceof IDBTransaction&&lR(t),rR(t,iR())?new Proxy(t,Tv):t)}function Qa(t){if(t instanceof IDBRequest)return oR(t);if(px.has(t))return px.get(t);const e=uR(t);return e!==t&&(px.set(t,e),Iy.set(e,t)),e}const fx=t=>Iy.get(t);function hR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),d=Qa(c);return r&&c.addEventListener("upgradeneeded",u=>{r(Qa(c.result),u.oldVersion,u.newVersion,Qa(c.transaction),u)}),n&&c.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),d.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const mR=["get","getKey","getAll","getAllKeys","count"],pR=["put","add","delete","clear"],gx=new Map;function Z_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gx.get(e))return gx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mR.includes(n)))return;const a=async function(c,...d){const u=this.transaction(c,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[n](...d),i&&u.done]))[0]};return gx.set(e,a),a}cR(t=>({...t,get:(e,n,r)=>Z_(e,n)||t.get(e,n,r),has:(e,n)=>!!Z_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ev="@firebase/app",e2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new _N("@firebase/app"),xR="@firebase/app-compat",vR="@firebase/analytics-compat",yR="@firebase/analytics",bR="@firebase/app-check-compat",_R="@firebase/app-check",wR="@firebase/auth",jR="@firebase/auth-compat",SR="@firebase/database",NR="@firebase/data-connect",kR="@firebase/database-compat",CR="@firebase/functions",TR="@firebase/functions-compat",ER="@firebase/installations",AR="@firebase/installations-compat",IR="@firebase/messaging",RR="@firebase/messaging-compat",PR="@firebase/performance",LR="@firebase/performance-compat",DR="@firebase/remote-config",MR="@firebase/remote-config-compat",FR="@firebase/storage",BR="@firebase/storage-compat",$R="@firebase/firestore",VR="@firebase/vertexai-preview",OR="@firebase/firestore-compat",UR="firebase",zR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="[DEFAULT]",HR={[Ev]:"fire-core",[xR]:"fire-core-compat",[yR]:"fire-analytics",[vR]:"fire-analytics-compat",[_R]:"fire-app-check",[bR]:"fire-app-check-compat",[wR]:"fire-auth",[jR]:"fire-auth-compat",[SR]:"fire-rtdb",[NR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[CR]:"fire-fn",[TR]:"fire-fn-compat",[ER]:"fire-iid",[AR]:"fire-iid-compat",[IR]:"fire-fcm",[RR]:"fire-fcm-compat",[PR]:"fire-perf",[LR]:"fire-perf-compat",[DR]:"fire-rc",[MR]:"fire-rc-compat",[FR]:"fire-gcs",[BR]:"fire-gcs-compat",[$R]:"fire-fst",[OR]:"fire-fst-compat",[VR]:"fire-vertex","fire-js":"fire-js",[UR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Map,GR=new Map,Iv=new Map;function t2(t,e){try{t.container.addComponent(e)}catch(n){la.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _p(t){const e=t.name;if(Iv.has(e))return la.debug(`There were multiple attempts to register component ${e}.`),!1;Iv.set(e,t);for(const n of ju.values())t2(n,t);for(const n of GR.values())t2(n,t);return!0}function WR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xa=new bN("app","Firebase",qR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=zR;function SN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Av,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xa.create("bad-app-name",{appName:String(i)});if(n||(n=yN()),!n)throw Xa.create("no-options");const a=ju.get(i);if(a){if(kv(n,a.options)&&kv(r,a.config))return a;throw Xa.create("duplicate-app",{appName:i})}const c=new ZI(i);for(const u of Iv.values())c.addComponent(u);const d=new KR(n,r,c);return ju.set(i,d),d}function NN(t=Av){const e=ju.get(t);if(!e&&t===Av&&yN())return SN();if(!e)throw Xa.create("no-app",{appName:t});return e}function XR(){return Array.from(ju.values())}function gc(t,e,n){var r;let i=(r=HR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${i}" with version "${e}":`];a&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),la.warn(d.join(" "));return}_p(new wu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firebase-heartbeat-database",JR=1,Su="firebase-heartbeat-store";let xx=null;function kN(){return xx||(xx=hR(YR,JR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Su)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xa.create("idb-open",{originalErrorMessage:t.message})})),xx}async function ZR(t){try{const n=(await kN()).transaction(Su),r=await n.objectStore(Su).get(CN(t));return await n.done,r}catch(e){if(e instanceof Bc)la.warn(e.message);else{const n=Xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});la.warn(n.message)}}}async function s2(t,e){try{const r=(await kN()).transaction(Su,"readwrite");await r.objectStore(Su).put(e,CN(t)),await r.done}catch(n){if(n instanceof Bc)la.warn(n.message);else{const r=Xa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});la.warn(r.message)}}}function CN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=1024,tP=720*60*60*1e3;class sP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=tP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){la.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=n2(),{heartbeatsToSend:r,unsentEntries:i}=nP(this._heartbeatsCache.heartbeats),a=bp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return la.warn(n),""}}}function n2(){return new Date().toISOString().substring(0,10)}function nP(t,e=eP){const n=[];let r=t.slice();for(const i of t){const a=n.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),r2(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),r2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GI()?WI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function r2(t){return bp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){_p(new wu("platform-logger",e=>new fR(e),"PRIVATE")),_p(new wu("heartbeat",e=>new sP(e),"PRIVATE")),gc(Ev,e2,t),gc(Ev,e2,"esm2017"),gc("fire-js","")}iP("");var i2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xo,TN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,w){function E(){}E.prototype=w.prototype,C.D=w.prototype,C.prototype=new E,C.prototype.constructor=C,C.C=function(L,P,V){for(var $=Array(arguments.length-2),W=2;W<arguments.length;W++)$[W-2]=arguments[W];return w.prototype[P].apply(L,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,w,E){E||(E=0);var L=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)L[P]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(P=0;16>P;++P)L[P]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=C.g[0],E=C.g[1],P=C.g[2];var V=C.g[3],$=w+(V^E&(P^V))+L[0]+3614090360&4294967295;w=E+($<<7&4294967295|$>>>25),$=V+(P^w&(E^P))+L[1]+3905402710&4294967295,V=w+($<<12&4294967295|$>>>20),$=P+(E^V&(w^E))+L[2]+606105819&4294967295,P=V+($<<17&4294967295|$>>>15),$=E+(w^P&(V^w))+L[3]+3250441966&4294967295,E=P+($<<22&4294967295|$>>>10),$=w+(V^E&(P^V))+L[4]+4118548399&4294967295,w=E+($<<7&4294967295|$>>>25),$=V+(P^w&(E^P))+L[5]+1200080426&4294967295,V=w+($<<12&4294967295|$>>>20),$=P+(E^V&(w^E))+L[6]+2821735955&4294967295,P=V+($<<17&4294967295|$>>>15),$=E+(w^P&(V^w))+L[7]+4249261313&4294967295,E=P+($<<22&4294967295|$>>>10),$=w+(V^E&(P^V))+L[8]+1770035416&4294967295,w=E+($<<7&4294967295|$>>>25),$=V+(P^w&(E^P))+L[9]+2336552879&4294967295,V=w+($<<12&4294967295|$>>>20),$=P+(E^V&(w^E))+L[10]+4294925233&4294967295,P=V+($<<17&4294967295|$>>>15),$=E+(w^P&(V^w))+L[11]+2304563134&4294967295,E=P+($<<22&4294967295|$>>>10),$=w+(V^E&(P^V))+L[12]+1804603682&4294967295,w=E+($<<7&4294967295|$>>>25),$=V+(P^w&(E^P))+L[13]+4254626195&4294967295,V=w+($<<12&4294967295|$>>>20),$=P+(E^V&(w^E))+L[14]+2792965006&4294967295,P=V+($<<17&4294967295|$>>>15),$=E+(w^P&(V^w))+L[15]+1236535329&4294967295,E=P+($<<22&4294967295|$>>>10),$=w+(P^V&(E^P))+L[1]+4129170786&4294967295,w=E+($<<5&4294967295|$>>>27),$=V+(E^P&(w^E))+L[6]+3225465664&4294967295,V=w+($<<9&4294967295|$>>>23),$=P+(w^E&(V^w))+L[11]+643717713&4294967295,P=V+($<<14&4294967295|$>>>18),$=E+(V^w&(P^V))+L[0]+3921069994&4294967295,E=P+($<<20&4294967295|$>>>12),$=w+(P^V&(E^P))+L[5]+3593408605&4294967295,w=E+($<<5&4294967295|$>>>27),$=V+(E^P&(w^E))+L[10]+38016083&4294967295,V=w+($<<9&4294967295|$>>>23),$=P+(w^E&(V^w))+L[15]+3634488961&4294967295,P=V+($<<14&4294967295|$>>>18),$=E+(V^w&(P^V))+L[4]+3889429448&4294967295,E=P+($<<20&4294967295|$>>>12),$=w+(P^V&(E^P))+L[9]+568446438&4294967295,w=E+($<<5&4294967295|$>>>27),$=V+(E^P&(w^E))+L[14]+3275163606&4294967295,V=w+($<<9&4294967295|$>>>23),$=P+(w^E&(V^w))+L[3]+4107603335&4294967295,P=V+($<<14&4294967295|$>>>18),$=E+(V^w&(P^V))+L[8]+1163531501&4294967295,E=P+($<<20&4294967295|$>>>12),$=w+(P^V&(E^P))+L[13]+2850285829&4294967295,w=E+($<<5&4294967295|$>>>27),$=V+(E^P&(w^E))+L[2]+4243563512&4294967295,V=w+($<<9&4294967295|$>>>23),$=P+(w^E&(V^w))+L[7]+1735328473&4294967295,P=V+($<<14&4294967295|$>>>18),$=E+(V^w&(P^V))+L[12]+2368359562&4294967295,E=P+($<<20&4294967295|$>>>12),$=w+(E^P^V)+L[5]+4294588738&4294967295,w=E+($<<4&4294967295|$>>>28),$=V+(w^E^P)+L[8]+2272392833&4294967295,V=w+($<<11&4294967295|$>>>21),$=P+(V^w^E)+L[11]+1839030562&4294967295,P=V+($<<16&4294967295|$>>>16),$=E+(P^V^w)+L[14]+4259657740&4294967295,E=P+($<<23&4294967295|$>>>9),$=w+(E^P^V)+L[1]+2763975236&4294967295,w=E+($<<4&4294967295|$>>>28),$=V+(w^E^P)+L[4]+1272893353&4294967295,V=w+($<<11&4294967295|$>>>21),$=P+(V^w^E)+L[7]+4139469664&4294967295,P=V+($<<16&4294967295|$>>>16),$=E+(P^V^w)+L[10]+3200236656&4294967295,E=P+($<<23&4294967295|$>>>9),$=w+(E^P^V)+L[13]+681279174&4294967295,w=E+($<<4&4294967295|$>>>28),$=V+(w^E^P)+L[0]+3936430074&4294967295,V=w+($<<11&4294967295|$>>>21),$=P+(V^w^E)+L[3]+3572445317&4294967295,P=V+($<<16&4294967295|$>>>16),$=E+(P^V^w)+L[6]+76029189&4294967295,E=P+($<<23&4294967295|$>>>9),$=w+(E^P^V)+L[9]+3654602809&4294967295,w=E+($<<4&4294967295|$>>>28),$=V+(w^E^P)+L[12]+3873151461&4294967295,V=w+($<<11&4294967295|$>>>21),$=P+(V^w^E)+L[15]+530742520&4294967295,P=V+($<<16&4294967295|$>>>16),$=E+(P^V^w)+L[2]+3299628645&4294967295,E=P+($<<23&4294967295|$>>>9),$=w+(P^(E|~V))+L[0]+4096336452&4294967295,w=E+($<<6&4294967295|$>>>26),$=V+(E^(w|~P))+L[7]+1126891415&4294967295,V=w+($<<10&4294967295|$>>>22),$=P+(w^(V|~E))+L[14]+2878612391&4294967295,P=V+($<<15&4294967295|$>>>17),$=E+(V^(P|~w))+L[5]+4237533241&4294967295,E=P+($<<21&4294967295|$>>>11),$=w+(P^(E|~V))+L[12]+1700485571&4294967295,w=E+($<<6&4294967295|$>>>26),$=V+(E^(w|~P))+L[3]+2399980690&4294967295,V=w+($<<10&4294967295|$>>>22),$=P+(w^(V|~E))+L[10]+4293915773&4294967295,P=V+($<<15&4294967295|$>>>17),$=E+(V^(P|~w))+L[1]+2240044497&4294967295,E=P+($<<21&4294967295|$>>>11),$=w+(P^(E|~V))+L[8]+1873313359&4294967295,w=E+($<<6&4294967295|$>>>26),$=V+(E^(w|~P))+L[15]+4264355552&4294967295,V=w+($<<10&4294967295|$>>>22),$=P+(w^(V|~E))+L[6]+2734768916&4294967295,P=V+($<<15&4294967295|$>>>17),$=E+(V^(P|~w))+L[13]+1309151649&4294967295,E=P+($<<21&4294967295|$>>>11),$=w+(P^(E|~V))+L[4]+4149444226&4294967295,w=E+($<<6&4294967295|$>>>26),$=V+(E^(w|~P))+L[11]+3174756917&4294967295,V=w+($<<10&4294967295|$>>>22),$=P+(w^(V|~E))+L[2]+718787259&4294967295,P=V+($<<15&4294967295|$>>>17),$=E+(V^(P|~w))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(P+($<<21&4294967295|$>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.u=function(C,w){w===void 0&&(w=C.length);for(var E=w-this.blockSize,L=this.B,P=this.h,V=0;V<w;){if(P==0)for(;V<=E;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<w;)if(L[P++]=C.charCodeAt(V++),P==this.blockSize){i(this,L),P=0;break}}else for(;V<w;)if(L[P++]=C[V++],P==this.blockSize){i(this,L),P=0;break}}this.h=P,this.o+=w},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;var E=8*this.o;for(w=C.length-8;w<C.length;++w)C[w]=E&255,E/=256;for(this.u(C),C=Array(16),w=E=0;4>w;++w)for(var L=0;32>L;L+=8)C[E++]=this.g[w]>>>L&255;return C};function a(C,w){var E=d;return Object.prototype.hasOwnProperty.call(E,C)?E[C]:E[C]=w(C)}function c(C,w){this.h=w;for(var E=[],L=!0,P=C.length-1;0<=P;P--){var V=C[P]|0;L&&V==w||(E[P]=V,L=!1)}this.g=E}var d={};function u(C){return-128<=C&&128>C?a(C,function(w){return new c([w|0],0>w?-1:0)}):new c([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return g;if(0>C)return A(h(-C));for(var w=[],E=1,L=0;C>=E;L++)w[L]=C/E|0,E*=4294967296;return new c(w,0)}function p(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return A(p(C.substring(1),w));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(w,8)),L=g,P=0;P<C.length;P+=8){var V=Math.min(8,C.length-P),$=parseInt(C.substring(P,P+V),w);8>V?(V=h(Math.pow(w,V)),L=L.j(V).add(h($))):(L=L.j(E),L=L.add(h($)))}return L}var g=u(0),v=u(1),b=u(16777216);t=c.prototype,t.m=function(){if(I(this))return-A(this).m();for(var C=0,w=1,E=0;E<this.g.length;E++){var L=this.i(E);C+=(0<=L?L:4294967296+L)*w,w*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(j(this))return"0";if(I(this))return"-"+A(this).toString(C);for(var w=h(Math.pow(C,6)),E=this,L="";;){var P=y(E,w).g;E=B(E,P.j(w));var V=((0<E.g.length?E.g[0]:E.h)>>>0).toString(C);if(E=P,j(E))return V+L;for(;6>V.length;)V="0"+V;L=V+L}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function j(C){if(C.h!=0)return!1;for(var w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function I(C){return C.h==-1}t.l=function(C){return C=B(this,C),I(C)?-1:j(C)?0:1};function A(C){for(var w=C.g.length,E=[],L=0;L<w;L++)E[L]=~C.g[L];return new c(E,~C.h).add(v)}t.abs=function(){return I(this)?A(this):this},t.add=function(C){for(var w=Math.max(this.g.length,C.g.length),E=[],L=0,P=0;P<=w;P++){var V=L+(this.i(P)&65535)+(C.i(P)&65535),$=(V>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);L=$>>>16,V&=65535,$&=65535,E[P]=$<<16|V}return new c(E,E[E.length-1]&-2147483648?-1:0)};function B(C,w){return C.add(A(w))}t.j=function(C){if(j(this)||j(C))return g;if(I(this))return I(C)?A(this).j(A(C)):A(A(this).j(C));if(I(C))return A(this.j(A(C)));if(0>this.l(b)&&0>C.l(b))return h(this.m()*C.m());for(var w=this.g.length+C.g.length,E=[],L=0;L<2*w;L++)E[L]=0;for(L=0;L<this.g.length;L++)for(var P=0;P<C.g.length;P++){var V=this.i(L)>>>16,$=this.i(L)&65535,W=C.i(P)>>>16,H=C.i(P)&65535;E[2*L+2*P]+=$*H,D(E,2*L+2*P),E[2*L+2*P+1]+=V*H,D(E,2*L+2*P+1),E[2*L+2*P+1]+=$*W,D(E,2*L+2*P+1),E[2*L+2*P+2]+=V*W,D(E,2*L+2*P+2)}for(L=0;L<w;L++)E[L]=E[2*L+1]<<16|E[2*L];for(L=w;L<2*w;L++)E[L]=0;return new c(E,0)};function D(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function T(C,w){this.g=C,this.h=w}function y(C,w){if(j(w))throw Error("division by zero");if(j(C))return new T(g,g);if(I(C))return w=y(A(C),w),new T(A(w.g),A(w.h));if(I(w))return w=y(C,A(w)),new T(A(w.g),w.h);if(30<C.g.length){if(I(C)||I(w))throw Error("slowDivide_ only works with positive integers.");for(var E=v,L=w;0>=L.l(C);)E=S(E),L=S(L);var P=M(E,1),V=M(L,1);for(L=M(L,2),E=M(E,2);!j(L);){var $=V.add(L);0>=$.l(C)&&(P=P.add(E),V=$),L=M(L,1),E=M(E,1)}return w=B(C,P.j(w)),new T(P,w)}for(P=g;0<=C.l(w);){for(E=Math.max(1,Math.floor(C.m()/w.m())),L=Math.ceil(Math.log(E)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),V=h(E),$=V.j(w);I($)||0<$.l(C);)E-=L,V=h(E),$=V.j(w);j(V)&&(V=v),P=P.add(V),C=B(C,$)}return new T(P,C)}t.A=function(C){return y(this,C).h},t.and=function(C){for(var w=Math.max(this.g.length,C.g.length),E=[],L=0;L<w;L++)E[L]=this.i(L)&C.i(L);return new c(E,this.h&C.h)},t.or=function(C){for(var w=Math.max(this.g.length,C.g.length),E=[],L=0;L<w;L++)E[L]=this.i(L)|C.i(L);return new c(E,this.h|C.h)},t.xor=function(C){for(var w=Math.max(this.g.length,C.g.length),E=[],L=0;L<w;L++)E[L]=this.i(L)^C.i(L);return new c(E,this.h^C.h)};function S(C){for(var w=C.g.length+1,E=[],L=0;L<w;L++)E[L]=C.i(L)<<1|C.i(L-1)>>>31;return new c(E,C.h)}function M(C,w){var E=w>>5;w%=32;for(var L=C.g.length-E,P=[],V=0;V<L;V++)P[V]=0<w?C.i(V+E)>>>w|C.i(V+E+1)<<32-w:C.i(V+E);return new c(P,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TN=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=p,Xo=c}).apply(typeof i2!="undefined"?i2:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var km=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EN,qd,AN,tp,Rv,IN,RN,PN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,N,F){return f==Array.prototype||f==Object.prototype||(f[N]=F.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof km=="object"&&km];for(var N=0;N<f.length;++N){var F=f[N];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var r=n(this);function i(f,N){if(N)e:{var F=r;f=f.split(".");for(var U=0;U<f.length-1;U++){var ae=f[U];if(!(ae in F))break e;F=F[ae]}f=f[f.length-1],U=F[f],N=N(U),N!=U&&N!=null&&e(F,f,{configurable:!0,writable:!0,value:N})}}function a(f,N){f instanceof String&&(f+="");var F=0,U=!1,ae={next:function(){if(!U&&F<f.length){var he=F++;return{value:N(he,f[he]),done:!1}}return U=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(f){return f||function(){return a(this,function(N,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function u(f){var N=typeof f;return N=N!="object"?N:f?Array.isArray(f)?"array":N:"null",N=="array"||N=="object"&&typeof f.length=="number"}function h(f){var N=typeof f;return N=="object"&&f!=null||N=="function"}function p(f,N,F){return f.call.apply(f.bind,arguments)}function g(f,N,F){if(!f)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,U),f.apply(N,ae)}}return function(){return f.apply(N,arguments)}}function v(f,N,F){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,v.apply(null,arguments)}function b(f,N){var F=Array.prototype.slice.call(arguments,1);return function(){var U=F.slice();return U.push.apply(U,arguments),f.apply(this,U)}}function j(f,N){function F(){}F.prototype=N.prototype,f.aa=N.prototype,f.prototype=new F,f.prototype.constructor=f,f.Qb=function(U,ae,he){for(var Re=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)Re[Lt-2]=arguments[Lt];return N.prototype[ae].apply(U,Re)}}function I(f){const N=f.length;if(0<N){const F=Array(N);for(let U=0;U<N;U++)F[U]=f[U];return F}return[]}function A(f,N){for(let F=1;F<arguments.length;F++){const U=arguments[F];if(u(U)){const ae=f.length||0,he=U.length||0;f.length=ae+he;for(let Re=0;Re<he;Re++)f[ae+Re]=U[Re]}else f.push(U)}}class B{constructor(N,F){this.i=N,this.j=F,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function D(f){return/^[\s\xa0]*$/.test(f)}function T(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function y(f){return y[" "](f),f}y[" "]=function(){};var S=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(f,N,F){for(const U in f)N.call(F,f[U],U,f)}function C(f,N){for(const F in f)N.call(void 0,f[F],F,f)}function w(f){const N={};for(const F in f)N[F]=f[F];return N}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,N){let F,U;for(let ae=1;ae<arguments.length;ae++){U=arguments[ae];for(F in U)f[F]=U[F];for(let he=0;he<E.length;he++)F=E[he],Object.prototype.hasOwnProperty.call(U,F)&&(f[F]=U[F])}}function P(f){var N=1;f=f.split(":");const F=[];for(;0<N&&f.length;)F.push(f.shift()),N--;return f.length&&F.push(f.join(":")),F}function V(f){d.setTimeout(()=>{throw f},0)}function $(){var f=te;let N=null;return f.g&&(N=f.g,f.g=f.g.next,f.g||(f.h=null),N.next=null),N}class W{constructor(){this.h=this.g=null}add(N,F){const U=H.get();U.set(N,F),this.h?this.h.next=U:this.g=U,this.h=U}}var H=new B(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(N,F){this.h=N,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,G=!1,te=new W,re=()=>{const f=d.Promise.resolve(void 0);Q=()=>{f.then(z)}};var z=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(F){V(F)}var N=H;N.j(f),100>N.h&&(N.h++,f.next=N.g,N.g=f)}G=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,N){this.type=f,this.g=this.target=N,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ee=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,N=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const F=()=>{};d.addEventListener("test",F,N),d.removeEventListener("test",F,N)}catch(F){}return f})();function fe(f,N){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var F=this.type=f.type,U=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=N,N=f.relatedTarget){if(S){e:{try{y(N.nodeName);var ae=!0;break e}catch(he){}ae=!1}ae||(N=null)}}else F=="mouseover"?N=f.fromElement:F=="mouseout"&&(N=f.toElement);this.relatedTarget=N,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&fe.aa.h.call(this)}}j(fe,ce);var Te={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Ne(f,N,F,U,ae){this.listener=f,this.proxy=null,this.src=N,this.type=F,this.capture=!!U,this.ha=ae,this.key=++Ce,this.da=this.fa=!1}function ue(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f){this.src=f,this.g={},this.h=0}De.prototype.add=function(f,N,F,U,ae){var he=f.toString();f=this.g[he],f||(f=this.g[he]=[],this.h++);var Re=nt(f,N,U,ae);return-1<Re?(N=f[Re],F||(N.fa=!1)):(N=new Ne(N,this.src,he,!!U,ae),N.fa=F,f.push(N)),N};function Ae(f,N){var F=N.type;if(F in f.g){var U=f.g[F],ae=Array.prototype.indexOf.call(U,N,void 0),he;(he=0<=ae)&&Array.prototype.splice.call(U,ae,1),he&&(ue(N),f.g[F].length==0&&(delete f.g[F],f.h--))}}function nt(f,N,F,U){for(var ae=0;ae<f.length;++ae){var he=f[ae];if(!he.da&&he.listener==N&&he.capture==!!F&&he.ha==U)return ae}return-1}var ht="closure_lm_"+(1e6*Math.random()|0),ns={};function Gs(f,N,F,U,ae){if(Array.isArray(N)){for(var he=0;he<N.length;he++)Gs(f,N[he],F,U,ae);return null}return F=us(F),f&&f[xe]?f.K(N,F,h(U)?!!U.capture:!1,ae):Ws(f,N,F,!1,U,ae)}function Ws(f,N,F,U,ae,he){if(!N)throw Error("Invalid event type");var Re=h(ae)?!!ae.capture:!!ae,Lt=bn(f);if(Lt||(f[ht]=Lt=new De(f)),F=Lt.add(N,F,U,Re,he),F.proxy)return F;if(U=Dn(),F.proxy=U,U.src=f,U.listener=F,f.addEventListener)ee||(ae=Re),ae===void 0&&(ae=!1),f.addEventListener(N.toString(),U,ae);else if(f.attachEvent)f.attachEvent(Ms(N.toString()),U);else if(f.addListener&&f.removeListener)f.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Dn(){function f(F){return N.call(f.src,f.listener,F)}const N=Mn;return f}function qs(f,N,F,U,ae){if(Array.isArray(N))for(var he=0;he<N.length;he++)qs(f,N[he],F,U,ae);else U=h(U)?!!U.capture:!!U,F=us(F),f&&f[xe]?(f=f.i,N=String(N).toString(),N in f.g&&(he=f.g[N],F=nt(he,F,U,ae),-1<F&&(ue(he[F]),Array.prototype.splice.call(he,F,1),he.length==0&&(delete f.g[N],f.h--)))):f&&(f=bn(f))&&(N=f.g[N.toString()],f=-1,N&&(f=nt(N,F,U,ae)),(F=-1<f?N[f]:null)&&Ds(F))}function Ds(f){if(typeof f!="number"&&f&&!f.da){var N=f.src;if(N&&N[xe])Ae(N.i,f);else{var F=f.type,U=f.proxy;N.removeEventListener?N.removeEventListener(F,U,f.capture):N.detachEvent?N.detachEvent(Ms(F),U):N.addListener&&N.removeListener&&N.removeListener(U),(F=bn(N))?(Ae(F,f),F.h==0&&(F.src=null,N[ht]=null)):ue(f)}}}function Ms(f){return f in ns?ns[f]:ns[f]="on"+f}function Mn(f,N){if(f.da)f=!0;else{N=new fe(N,this);var F=f.listener,U=f.ha||f.src;f.fa&&Ds(f),f=F.call(U,N)}return f}function bn(f){return f=f[ht],f instanceof De?f:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function us(f){return typeof f=="function"?f:(f[_n]||(f[_n]=function(N){return f.handleEvent(N)}),f[_n])}function Yt(){se.call(this),this.i=new De(this),this.M=this,this.F=null}j(Yt,se),Yt.prototype[xe]=!0,Yt.prototype.removeEventListener=function(f,N,F,U){qs(this,f,N,F,U)};function Wt(f,N){var F,U=f.F;if(U)for(F=[];U;U=U.F)F.push(U);if(f=f.M,U=N.type||N,typeof N=="string")N=new ce(N,f);else if(N instanceof ce)N.target=N.target||f;else{var ae=N;N=new ce(U,f),L(N,ae)}if(ae=!0,F)for(var he=F.length-1;0<=he;he--){var Re=N.g=F[he];ae=Mt(Re,U,!0,N)&&ae}if(Re=N.g=f,ae=Mt(Re,U,!0,N)&&ae,ae=Mt(Re,U,!1,N)&&ae,F)for(he=0;he<F.length;he++)Re=N.g=F[he],ae=Mt(Re,U,!1,N)&&ae}Yt.prototype.N=function(){if(Yt.aa.N.call(this),this.i){var f=this.i,N;for(N in f.g){for(var F=f.g[N],U=0;U<F.length;U++)ue(F[U]);delete f.g[N],f.h--}}this.F=null},Yt.prototype.K=function(f,N,F,U){return this.i.add(String(f),N,!1,F,U)},Yt.prototype.L=function(f,N,F,U){return this.i.add(String(f),N,!0,F,U)};function Mt(f,N,F,U){if(N=f.i.g[String(N)],!N)return!0;N=N.concat();for(var ae=!0,he=0;he<N.length;++he){var Re=N[he];if(Re&&!Re.da&&Re.capture==F){var Lt=Re.listener,As=Re.ha||Re.src;Re.fa&&Ae(f.i,Re),ae=Lt.call(As,U)!==!1&&ae}}return ae&&!U.defaultPrevented}function li(f,N,F){if(typeof f=="function")F&&(f=v(f,F));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:d.setTimeout(f,N||0)}function Jn(f){f.g=li(()=>{f.g=null,f.i&&(f.i=!1,Jn(f))},f.l);const N=f.h;f.h=null,f.m.apply(null,N)}class fr extends se{constructor(N,F){super(),this.m=N,this.l=F,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Jn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(f){se.call(this),this.h=f,this.g={}}j(gr,se);var ci=[];function Ii(f){M(f.g,function(N,F){this.g.hasOwnProperty(F)&&Ds(N)},f),f.g={}}gr.prototype.N=function(){gr.aa.N.call(this),Ii(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var di=d.JSON.stringify,Fr=d.JSON.parse,qt=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function xr(){}xr.prototype.h=null;function Ri(f){return f.h||(f.h=f.i())}function Pi(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){ce.call(this,"d")}j(Zn,ce);function Li(){ce.call(this,"c")}j(Li,ce);var er={},qc=null;function ao(){return qc=qc||new Yt}er.La="serverreachability";function Kc(f){ce.call(this,er.La,f)}j(Kc,ce);function Di(f){const N=ao();Wt(N,new Kc(N))}er.STAT_EVENT="statevent";function Qc(f,N){ce.call(this,er.STAT_EVENT,f),this.stat=N}j(Qc,ce);function xs(f){const N=ao();Wt(N,new Qc(N,f))}er.Ma="timingevent";function fl(f,N){ce.call(this,er.Ma,f),this.size=N}j(fl,ce);function Br(f,N){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},N)}function oo(){this.g=!0}oo.prototype.xa=function(){this.g=!1};function lo(f,N,F,U,ae,he){f.info(function(){if(f.g)if(he)for(var Re="",Lt=he.split("&"),As=0;As<Lt.length;As++){var Nt=Lt[As].split("=");if(1<Nt.length){var Fs=Nt[0];Nt=Nt[1];var ws=Fs.split("_");Re=2<=ws.length&&ws[1]=="type"?Re+(Fs+"="+Nt+"&"):Re+(Fs+"=redacted&")}}else Re=null;else Re=he;return"XMLHTTP REQ ("+U+") [attempt "+ae+"]: "+N+`
`+F+`
`+Re})}function gl(f,N,F,U,ae,he,Re){f.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+ae+"]: "+N+`
`+F+`
`+he+" "+Re})}function $r(f,N,F,U){f.info(function(){return"XMLHTTP TEXT ("+N+"): "+Lf(f,F)+(U?" "+U:"")})}function Xc(f,N){f.info(function(){return"TIMEOUT: "+N})}oo.prototype.info=function(){};function Lf(f,N){if(!f.g)return N;if(!N)return null;try{var F=JSON.parse(N);if(F){for(f=0;f<F.length;f++)if(Array.isArray(F[f])){var U=F[f];if(!(2>U.length)){var ae=U[1];if(Array.isArray(ae)&&!(1>ae.length)){var he=ae[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Re=1;Re<ae.length;Re++)ae[Re]=""}}}}return di(F)}catch(Lt){return N}}var xl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ch={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vr;function co(){}j(co,xr),co.prototype.g=function(){return new XMLHttpRequest},co.prototype.i=function(){return{}},Vr=new co;function Or(f,N,F,U){this.j=f,this.i=N,this.l=F,this.R=U||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dh}function dh(){this.i=null,this.g="",this.h=!1}var Yc={},vl={};function yl(f,N,F){f.L=1,f.v=ya(sr(N)),f.m=F,f.P=!0,Jc(f,null)}function Jc(f,N){f.F=Date.now(),Ot(f),f.A=sr(f.v);var F=f.A,U=f.R;Array.isArray(U)||(U=[String(U)]),_a(F.i,"t",U),f.C=0,F=f.j.J,f.h=new dh,f.g=Th(f.j,F?N:null,!f.m),0<f.O&&(f.M=new fr(v(f.Y,f,f.g),f.O)),N=f.U,F=f.g,U=f.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(ci[0]=ae.toString()),ae=ci);for(var he=0;he<ae.length;he++){var Re=Gs(F,ae[he],U||N.handleEvent,!1,N.h||N);if(!Re)break;N.g[Re.key]=Re}N=f.H?w(f.H):{},f.m?(f.u||(f.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,N)):(f.u="GET",f.g.ea(f.A,f.u,null,N)),Di(),lo(f.i,f.u,f.A,f.l,f.R,f.m)}Or.prototype.ca=function(f){f=f.target;const N=this.M;N&&Bn(f)==3?N.j():this.Y(f)},Or.prototype.Y=function(f){try{if(f==this.g)e:{const ws=Bn(this.g);var N=this.g.Ba();const br=this.g.Z();if(!(3>ws)&&(ws!=3||this.g&&(this.h.h||this.g.oa()||rd(this.g)))){this.J||ws!=4||N==7||(N==8||0>=br?Di(3):Di(2)),uo(this);var F=this.g.Z();this.X=F;t:if(uh(this)){var U=rd(this.g);f="";var ae=U.length,he=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){vr(this),fa(this);var Re="";break t}this.h.i=new d.TextDecoder}for(N=0;N<ae;N++)this.h.h=!0,f+=this.h.i.decode(U[N],{stream:!(he&&N==ae-1)});U.length=0,this.h.g+=f,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=F==200,gl(this.i,this.u,this.A,this.l,this.R,ws,F),this.o){if(this.T&&!this.K){t:{if(this.g){var Lt,As=this.g;if((Lt=As.g?As.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Lt)){var Nt=Lt;break t}}Nt=null}if(F=Nt)$r(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zc(this,F);else{this.o=!1,this.s=3,xs(12),vr(this),fa(this);break e}}if(this.P){F=!0;let rr;for(;!this.J&&this.C<Re.length;)if(rr=Df(this,Re),rr==vl){ws==4&&(this.s=4,xs(14),F=!1),$r(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==Yc){this.s=4,xs(15),$r(this.i,this.l,Re,"[Invalid Chunk]"),F=!1;break}else $r(this.i,this.l,rr,null),Zc(this,rr);if(uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ws!=4||Re.length!=0||this.h.h||(this.s=1,xs(16),F=!1),this.o=this.o&&F,!F)$r(this.i,this.l,Re,"[Invalid Chunked Response]"),vr(this),fa(this);else if(0<Re.length&&!this.W){this.W=!0;var Fs=this.j;Fs.g==this&&Fs.ba&&!Fs.M&&(Fs.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),ad(Fs),Fs.M=!0,xs(11))}}else $r(this.i,this.l,Re,null),Zc(this,Re);ws==4&&vr(this),this.o&&!this.J&&(ws==4?Al(this.j,this):(this.o=!1,Ot(this)))}else Nl(this.g),F==400&&0<Re.indexOf("Unknown SID")?(this.s=3,xs(12)):(this.s=0,xs(13)),vr(this),fa(this)}}}catch(ws){}finally{}};function uh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Df(f,N){var F=f.C,U=N.indexOf(`
`,F);return U==-1?vl:(F=Number(N.substring(F,U)),isNaN(F)?Yc:(U+=1,U+F>N.length?vl:(N=N.slice(U,U+F),f.C=U+F,N)))}Or.prototype.cancel=function(){this.J=!0,vr(this)};function Ot(f){f.S=Date.now()+f.I,hh(f,f.I)}function hh(f,N){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Br(v(f.ba,f),N)}function uo(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Or.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Xc(this.i,this.A),this.L!=2&&(Di(),xs(17)),vr(this),this.s=2,fa(this)):hh(this,this.S-f)};function fa(f){f.j.G==0||f.J||Al(f.j,f)}function vr(f){uo(f);var N=f.M;N&&typeof N.ma=="function"&&N.ma(),f.M=null,Ii(f.U),f.g&&(N=f.g,f.g=null,N.abort(),N.ma())}function Zc(f,N){try{var F=f.j;if(F.G!=0&&(F.g==f||jn(F.h,f))){if(!f.K&&jn(F.h,f)&&F.G==3){try{var U=F.Da.g.parse(N)}catch(Nt){U=null}if(Array.isArray(U)&&U.length==3){var ae=U;if(ae[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<f.F)El(F),Wr(F);else break e;Tl(F),xs(18)}}else F.za=ae[1],0<F.za-F.T&&37500>ae[2]&&F.F&&F.v==0&&!F.C&&(F.C=Br(v(F.Za,F),6e3));if(1>=ph(F.h)&&F.ca){try{F.ca()}catch(Nt){}F.ca=void 0}}else Vi(F,11)}else if((f.K||F.g==f)&&El(F),!D(N))for(ae=F.Da.g.parse(N),N=0;N<ae.length;N++){let Nt=ae[N];if(F.T=Nt[0],Nt=Nt[1],F.G==2)if(Nt[0]=="c"){F.K=Nt[1],F.ia=Nt[2];const Fs=Nt[3];Fs!=null&&(F.la=Fs,F.j.info("VER="+F.la));const ws=Nt[4];ws!=null&&(F.Aa=ws,F.j.info("SVER="+F.Aa));const br=Nt[5];br!=null&&typeof br=="number"&&0<br&&(U=1.5*br,F.L=U,F.j.info("backChannelRequestTimeoutMs_="+U)),U=F;const rr=f.g;if(rr){const vo=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var he=U.h;he.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(ed(he,he.h),he.h=null))}if(U.D){const Rl=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(U.ya=Rl,Bt(U.I,U.D,Rl))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-f.F,F.j.info("Handshake RTT: "+F.R+"ms")),U=F;var Re=f;if(U.qa=Ch(U,U.J?U.ia:null,U.W),Re.K){fh(U.h,Re);var Lt=Re,As=U.L;As&&(Lt.I=As),Lt.B&&(uo(Lt),Ot(Lt)),U.g=Re}else xo(U);0<F.i.length&&pi(F)}else Nt[0]!="stop"&&Nt[0]!="close"||Vi(F,7);else F.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Vi(F,7):Qs(F):Nt[0]!="noop"&&F.l&&F.l.ta(Nt),F.v=0)}}Di(4)}catch(Nt){}}var mh=class{constructor(f,N){this.g=f,this.map=N}};function ho(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function tr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ph(f){return f.h?1:f.g?f.g.size:0}function jn(f,N){return f.h?f.h==N:f.g?f.g.has(N):!1}function ed(f,N){f.g?f.g.add(N):f.h=N}function fh(f,N){f.h&&f.h==N?f.h=null:f.g&&f.g.has(N)&&f.g.delete(N)}ho.prototype.cancel=function(){if(this.i=gh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function gh(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let N=f.i;for(const F of f.g.values())N=N.concat(F.D);return N}return I(f.i)}function bl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var N=[],F=f.length,U=0;U<F;U++)N.push(f[U]);return N}N=[],F=0;for(U in f)N[F++]=f[U];return N}function _l(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(u(f)||typeof f=="string"){var N=[];f=f.length;for(var F=0;F<f;F++)N.push(F);return N}N=[],F=0;for(const U in f)N[F++]=U;return N}}}function ga(f,N){if(f.forEach&&typeof f.forEach=="function")f.forEach(N,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,N,void 0);else for(var F=_l(f),U=bl(f),ae=U.length,he=0;he<ae;he++)N.call(void 0,U[he],F&&F[he],f)}var mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mf(f,N){if(f){f=f.split("&");for(var F=0;F<f.length;F++){var U=f[F].indexOf("="),ae=null;if(0<=U){var he=f[F].substring(0,U);ae=f[F].substring(U+1)}else he=f[F];N(he,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Mi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Mi){this.h=f.h,po(this,f.j),this.o=f.o,this.g=f.g,xa(this,f.s),this.l=f.l;var N=f.i,F=new ui;F.i=N.i,N.g&&(F.g=new Map(N.g),F.h=N.h),va(this,F),this.m=f.m}else f&&(N=String(f).match(mo))?(this.h=!1,po(this,N[1]||"",!0),this.o=jt(N[2]||""),this.g=jt(N[3]||"",!0),xa(this,N[4]),this.l=jt(N[5]||"",!0),va(this,N[6]||"",!0),this.m=jt(N[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}Mi.prototype.toString=function(){var f=[],N=this.j;N&&f.push(ba(N,wl,!0),":");var F=this.g;return(F||N=="file")&&(f.push("//"),(N=this.o)&&f.push(ba(N,wl,!0),"@"),f.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&f.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&f.push("/"),f.push(ba(F,F.charAt(0)=="/"?yh:vh,!0))),(F=this.i.toString())&&f.push("?",F),(F=this.m)&&f.push("#",ba(F,td)),f.join("")};function sr(f){return new Mi(f)}function po(f,N,F){f.j=F?jt(N,!0):N,f.j&&(f.j=f.j.replace(/:$/,""))}function xa(f,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);f.s=N}else f.s=null}function va(f,N,F){N instanceof ui?(f.i=N,hi(f.i,f.h)):(F||(N=ba(N,bh)),f.i=new ui(N,f.h))}function Bt(f,N,F){f.i.set(N,F)}function ya(f){return Bt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function jt(f,N){return f?N?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ba(f,N,F){return typeof f=="string"?(f=encodeURI(f).replace(N,xh),F&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function xh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var wl=/[#\/\?@]/g,vh=/[#\?:]/g,yh=/[#\?]/g,bh=/[#\?@]/g,td=/#/g;function ui(f,N){this.h=this.g=null,this.i=f||null,this.j=!!N}function Ks(f){f.g||(f.g=new Map,f.h=0,f.i&&Mf(f.i,function(N,F){f.add(decodeURIComponent(N.replace(/\+/g," ")),F)}))}t=ui.prototype,t.add=function(f,N){Ks(this),this.i=null,f=yr(this,f);var F=this.g.get(f);return F||this.g.set(f,F=[]),F.push(N),this.h+=1,this};function Ur(f,N){Ks(f),N=yr(f,N),f.g.has(N)&&(f.i=null,f.h-=f.g.get(N).length,f.g.delete(N))}function zr(f,N){return Ks(f),N=yr(f,N),f.g.has(N)}t.forEach=function(f,N){Ks(this),this.g.forEach(function(F,U){F.forEach(function(ae){f.call(N,ae,U,this)},this)},this)},t.na=function(){Ks(this);const f=Array.from(this.g.values()),N=Array.from(this.g.keys()),F=[];for(let U=0;U<N.length;U++){const ae=f[U];for(let he=0;he<ae.length;he++)F.push(N[U])}return F},t.V=function(f){Ks(this);let N=[];if(typeof f=="string")zr(this,f)&&(N=N.concat(this.g.get(yr(this,f))));else{f=Array.from(this.g.values());for(let F=0;F<f.length;F++)N=N.concat(f[F])}return N},t.set=function(f,N){return Ks(this),this.i=null,f=yr(this,f),zr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[N]),this.h+=1,this},t.get=function(f,N){return f?(f=this.V(f),0<f.length?String(f[0]):N):N};function _a(f,N,F){Ur(f,N),0<F.length&&(f.i=null,f.g.set(yr(f,N),I(F)),f.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],N=Array.from(this.g.keys());for(var F=0;F<N.length;F++){var U=N[F];const he=encodeURIComponent(String(U)),Re=this.V(U);for(U=0;U<Re.length;U++){var ae=he;Re[U]!==""&&(ae+="="+encodeURIComponent(String(Re[U]))),f.push(ae)}}return this.i=f.join("&")};function yr(f,N){return N=String(N),f.j&&(N=N.toLowerCase()),N}function hi(f,N){N&&!f.j&&(Ks(f),f.i=null,f.g.forEach(function(F,U){var ae=U.toLowerCase();U!=ae&&(Ur(this,U),_a(this,ae,F))},f)),f.j=N}function Ff(f,N){const F=new oo;if(d.Image){const U=new Image;U.onload=b(Fn,F,"TestLoadImage: loaded",!0,N,U),U.onerror=b(Fn,F,"TestLoadImage: error",!1,N,U),U.onabort=b(Fn,F,"TestLoadImage: abort",!1,N,U),U.ontimeout=b(Fn,F,"TestLoadImage: timeout",!1,N,U),d.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=f}else N(!1)}function _h(f,N){const F=new oo,U=new AbortController,ae=setTimeout(()=>{U.abort(),Fn(F,"TestPingServer: timeout",!1,N)},1e4);fetch(f,{signal:U.signal}).then(he=>{clearTimeout(ae),he.ok?Fn(F,"TestPingServer: ok",!0,N):Fn(F,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(ae),Fn(F,"TestPingServer: error",!1,N)})}function Fn(f,N,F,U,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),U(F)}catch(he){}}function Bf(){this.g=new qt}function wh(f,N,F){const U=F||"";try{ga(f,function(ae,he){let Re=ae;h(ae)&&(Re=di(ae)),N.push(U+he+"="+encodeURIComponent(Re))})}catch(ae){throw N.push(U+"type="+encodeURIComponent("_badmap")),ae}}function Fi(f){this.l=f.Ub||null,this.j=f.eb||!1}j(Fi,xr),Fi.prototype.g=function(){return new fo(this.l,this.j)},Fi.prototype.i=(function(f){return function(){return f}})({});function fo(f,N){Yt.call(this),this.D=f,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(fo,Yt),t=fo.prototype,t.open=function(f,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=N,this.readyState=1,Gr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(N.body=f),(this.D||d).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Gr(this)),this.g&&(this.readyState=3,Gr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jh(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function jh(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var N=f.value?f.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!f.done}))&&(this.response=this.responseText+=N)}f.done?Hr(this):Gr(this),this.readyState==3&&jh(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Hr(this))},t.Qa=function(f){this.g&&(this.response=f,Hr(this))},t.ga=function(){this.g&&Hr(this)};function Hr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Gr(f)}t.setRequestHeader=function(f,N){this.u.append(f,N)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],N=this.h.entries();for(var F=N.next();!F.done;)F=F.value,f.push(F[0]+": "+F[1]),F=N.next();return f.join(`\r
`)};function Gr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Bi(f){let N="";return M(f,function(F,U){N+=U,N+=":",N+=F,N+=`\r
`}),N}function wa(f,N,F){e:{for(U in F){var U=!1;break e}U=!0}U||(F=Bi(F),typeof f=="string"?F!=null&&encodeURIComponent(String(F)):Bt(f,N,F))}function Jt(f){Yt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Jt,Yt);var $f=/^https?$/i,sd=["POST","PUT"];t=Jt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,N,F,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);N=N?N.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vr.g(),this.v=this.o?Ri(this.o):Ri(Vr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(N,String(f),!0),this.B=!1}catch(he){go(this,he);return}if(f=F||"",F=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var ae in U)F.set(ae,U[ae]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const he of U.keys())F.set(he,U.get(he));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(F.keys()).find(he=>he.toLowerCase()=="content-type"),ae=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(sd,N,void 0))||U||ae||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Re]of F)this.g.setRequestHeader(he,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sl(this),this.u=!0,this.g.send(f),this.u=!1}catch(he){go(this,he)}};function go(f,N){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=N,f.m=5,jl(f),nr(f)}function jl(f){f.A||(f.A=!0,Wt(f,"complete"),Wt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Wt(this,"complete"),Wt(this,"abort"),nr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),Jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nd(this):this.bb())},t.bb=function(){nd(this)};function nd(f){if(f.h&&typeof c!="undefined"&&(!f.v[1]||Bn(f)!=4||f.Z()!=2)){if(f.u&&Bn(f)==4)li(f.Ea,0,f);else if(Wt(f,"readystatechange"),Bn(f)==4){f.h=!1;try{const Re=f.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var F;if(!(F=N)){var U;if(U=Re===0){var ae=String(f.D).match(mo)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),U=!$f.test(ae?ae.toLowerCase():"")}F=U}if(F)Wt(f,"complete"),Wt(f,"success");else{f.m=6;try{var he=2<Bn(f)?f.g.statusText:""}catch(Lt){he=""}f.l=he+" ["+f.Z()+"]",jl(f)}}finally{nr(f)}}}}function nr(f,N){if(f.g){Sl(f);const F=f.g,U=f.v[0]?()=>{}:null;f.g=null,f.v=null,N||Wt(f,"ready");try{F.onreadystatechange=U}catch(ae){}}}function Sl(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Bn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var N=this.g.responseText;return f&&N.indexOf(f)==0&&(N=N.substring(f.length)),Fr(N)}};function rd(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(N){return null}}function Nl(f){const N={};f=(f.g&&2<=Bn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<f.length;U++){if(D(f[U]))continue;var F=P(f[U]);const ae=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const he=N[ae]||[];N[ae]=he,he.push(F)}C(N,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(f,N,F){return F&&F.internalChannelParams&&F.internalChannelParams[f]||N}function id(f){this.Aa=0,this.i=[],this.j=new oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mi("baseRetryDelayMs",5e3,f),this.cb=mi("retryDelaySeedMs",1e4,f),this.Wa=mi("forwardChannelMaxRetries",2,f),this.wa=mi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ho(f&&f.concurrentRequestLimit),this.Da=new Bf,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=id.prototype,t.la=8,t.G=1,t.connect=function(f,N,F,U){xs(0),this.W=f,this.H=N||{},F&&U!==void 0&&(this.H.OSID=F,this.H.OAID=U),this.F=this.X,this.I=Ch(this,null,this.W),pi(this)};function Qs(f){if(kl(f),f.G==3){var N=f.U++,F=sr(f.I);if(Bt(F,"SID",f.K),Bt(F,"RID",N),Bt(F,"TYPE","terminate"),$i(f,F),N=new Or(f,f.j,N),N.L=2,N.v=ya(sr(F)),F=!1,d.navigator&&d.navigator.sendBeacon)try{F=d.navigator.sendBeacon(N.v.toString(),"")}catch(U){}!F&&d.Image&&(new Image().src=N.v,F=!0),F||(N.g=Th(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Ot(N)}kh(f)}function Wr(f){f.g&&(ad(f),f.g.cancel(),f.g=null)}function kl(f){Wr(f),f.u&&(d.clearTimeout(f.u),f.u=null),El(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function pi(f){if(!tr(f.h)&&!f.s){f.s=!0;var N=f.Ga;Q||re(),G||(Q(),G=!0),te.add(N,f),f.B=0}}function Vf(f,N){return ph(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=N.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Br(v(f.Ga,f,N),Nh(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ae=new Or(this,this.j,f);let he=this.o;if(this.S&&(he?(he=w(he),L(he,this.S)):he=this.S),this.m!==null||this.O||(ae.H=he,he=null),this.P)e:{for(var N=0,F=0;F<this.i.length;F++){t:{var U=this.i[F];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(N+=U,4096<N){N=F;break e}if(N===4096||F===this.i.length-1){N=F+1;break e}}N=1e3}else N=1e3;N=ja(this,ae,N),F=sr(this.I),Bt(F,"RID",f),Bt(F,"CVER",22),this.D&&Bt(F,"X-HTTP-Session-Id",this.D),$i(this,F),he&&(this.O?N="headers="+encodeURIComponent(String(Bi(he)))+"&"+N:this.m&&wa(F,this.m,he)),ed(this.h,ae),this.Ua&&Bt(F,"TYPE","init"),this.P?(Bt(F,"$req",N),Bt(F,"SID","null"),ae.T=!0,yl(ae,F,null)):yl(ae,F,N),this.G=2}}else this.G==3&&(f?Cl(this,f):this.i.length==0||tr(this.h)||Cl(this))};function Cl(f,N){var F;N?F=N.l:F=f.U++;const U=sr(f.I);Bt(U,"SID",f.K),Bt(U,"RID",F),Bt(U,"AID",f.T),$i(f,U),f.m&&f.o&&wa(U,f.m,f.o),F=new Or(f,f.j,F,f.B+1),f.m===null&&(F.H=f.o),N&&(f.i=N.D.concat(f.i)),N=ja(f,F,1e3),F.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ed(f.h,F),yl(F,U,N)}function $i(f,N){f.H&&M(f.H,function(F,U){Bt(N,U,F)}),f.l&&ga({},function(F,U){Bt(N,U,F)})}function ja(f,N,F){F=Math.min(f.i.length,F);var U=f.l?v(f.l.Na,f.l,f):null;e:{var ae=f.i;let he=-1;for(;;){const Re=["count="+F];he==-1?0<F?(he=ae[0].g,Re.push("ofs="+he)):he=0:Re.push("ofs="+he);let Lt=!0;for(let As=0;As<F;As++){let Nt=ae[As].g;const Fs=ae[As].map;if(Nt-=he,0>Nt)he=Math.max(0,ae[As].g-100),Lt=!1;else try{wh(Fs,Re,"req"+Nt+"_")}catch(ws){U&&U(Fs)}}if(Lt){U=Re.join("&");break e}}}return f=f.i.splice(0,F),N.D=f,U}function xo(f){if(!f.g&&!f.u){f.Y=1;var N=f.Fa;Q||re(),G||(Q(),G=!0),te.add(N,f),f.v=0}}function Tl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Br(v(f.Fa,f),Nh(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Sh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Br(v(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xs(10),Wr(this),Sh(this))};function ad(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Sh(f){f.g=new Or(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var N=sr(f.qa);Bt(N,"RID","rpc"),Bt(N,"SID",f.K),Bt(N,"AID",f.T),Bt(N,"CI",f.F?"0":"1"),!f.F&&f.ja&&Bt(N,"TO",f.ja),Bt(N,"TYPE","xmlhttp"),$i(f,N),f.m&&f.o&&wa(N,f.m,f.o),f.L&&(f.g.I=f.L);var F=f.g;f=f.ia,F.L=1,F.v=ya(sr(N)),F.m=null,F.P=!0,Jc(F,f)}t.Za=function(){this.C!=null&&(this.C=null,Wr(this),Tl(this),xs(19))};function El(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Al(f,N){var F=null;if(f.g==N){El(f),ad(f),f.g=null;var U=2}else if(jn(f.h,N))F=N.D,fh(f.h,N),U=1;else return;if(f.G!=0){if(N.o)if(U==1){F=N.m?N.m.length:0,N=Date.now()-N.F;var ae=f.B;U=ao(),Wt(U,new fl(U,F)),pi(f)}else xo(f);else if(ae=N.s,ae==3||ae==0&&0<N.X||!(U==1&&Vf(f,N)||U==2&&Tl(f)))switch(F&&0<F.length&&(N=f.h,N.i=N.i.concat(F)),ae){case 1:Vi(f,5);break;case 4:Vi(f,10);break;case 3:Vi(f,6);break;default:Vi(f,2)}}}function Nh(f,N){let F=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(F*=2),F*N}function Vi(f,N){if(f.j.info("Error code "+N),N==2){var F=v(f.fb,f),U=f.Xa;const ae=!U;U=new Mi(U||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||po(U,"https"),ya(U),ae?Ff(U.toString(),F):_h(U.toString(),F)}else xs(2);f.G=0,f.l&&f.l.sa(N),kh(f),kl(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),xs(2)):(this.j.info("Failed to ping google.com"),xs(1))};function kh(f){if(f.G=0,f.ka=[],f.l){const N=gh(f.h);(N.length!=0||f.i.length!=0)&&(A(f.ka,N),A(f.ka,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.ra()}}function Ch(f,N,F){var U=F instanceof Mi?sr(F):new Mi(F);if(U.g!="")N&&(U.g=N+"."+U.g),xa(U,U.s);else{var ae=d.location;U=ae.protocol,N=N?N+"."+ae.hostname:ae.hostname,ae=+ae.port;var he=new Mi(null);U&&po(he,U),N&&(he.g=N),ae&&xa(he,ae),F&&(he.l=F),U=he}return F=f.D,N=f.ya,F&&N&&Bt(U,F,N),Bt(U,"VER",f.la),$i(f,U),U}function Th(f,N,F){if(N&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=f.Ca&&!f.pa?new Jt(new Fi({eb:F})):new Jt(f.pa),N.Ha(f.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function od(){}t=od.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Il(){}Il.prototype.g=function(f,N){return new Sn(f,N)};function Sn(f,N){Yt.call(this),this.g=new id(N),this.l=f,this.h=N&&N.messageUrlParams||null,f=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(f?f["X-WebChannel-Content-Type"]=N.messageContentType:f={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(f?f["X-WebChannel-Client-Profile"]=N.va:f={"X-WebChannel-Client-Profile":N.va}),this.g.S=f,(f=N&&N.Sb)&&!D(f)&&(this.g.m=f),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!D(N)&&(this.g.D=N,f=this.h,f!==null&&N in f&&(f=this.h,N in f&&delete f[N])),this.j=new fi(this)}j(Sn,Yt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Qs(this.g)},Sn.prototype.o=function(f){var N=this.g;if(typeof f=="string"){var F={};F.__data__=f,f=F}else this.u&&(F={},F.__data__=di(f),f=F);N.i.push(new mh(N.Ya++,f)),N.G==3&&pi(N)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Qs(this.g),delete this.g,Sn.aa.N.call(this)};function Eh(f){Zn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var N=f.__sm__;if(N){e:{for(const F in N){f=F;break e}f=void 0}(this.i=f)&&(f=this.i,N=N!==null&&f in N?N[f]:void 0),this.data=N}else this.data=f}j(Eh,Zn);function Ah(){Li.call(this),this.status=1}j(Ah,Li);function fi(f){this.g=f}j(fi,od),fi.prototype.ua=function(){Wt(this.g,"a")},fi.prototype.ta=function(f){Wt(this.g,new Eh(f))},fi.prototype.sa=function(f){Wt(this.g,new Ah)},fi.prototype.ra=function(){Wt(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,PN=function(){return new Il},RN=function(){return ao()},IN=er,Rv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xl.NO_ERROR=0,xl.TIMEOUT=8,xl.HTTP_ERROR=6,tp=xl,ch.COMPLETE="complete",AN=ch,Pi.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",Yt.prototype.listen=Yt.prototype.K,qd=Pi,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,EN=Jt}).apply(typeof km!="undefined"?km:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const a2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new _N("@firebase/firestore");function Ld(){return el.logLevel}function Ue(t,...e){if(el.logLevel<=At.DEBUG){const n=e.map(Ry);el.debug(`Firestore (${$c}): ${t}`,...n)}}function ca(t,...e){if(el.logLevel<=At.ERROR){const n=e.map(Ry);el.error(`Firestore (${$c}): ${t}`,...n)}}function _c(t,...e){if(el.logLevel<=At.WARN){const n=e.map(Ry);el.warn(`Firestore (${$c}): ${t}`,...n)}}function Ry(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t="Unexpected state"){const e=`FIRESTORE (${$c}) INTERNAL ASSERTION FAILED: `+t;throw ca(e),new Error(e)}function Dt(t,e){t||tt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Bc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class oP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lP{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Dt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ia,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},d=u=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((u=>d(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?d(u):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ia)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Dt(typeof r.accessToken=="string"),new LN(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Dt(e===null||typeof e=="string"),new xn(e)}}class cP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Dt(this.o===void 0);const r=a=>{a.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,Ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Dt(typeof n.token=="string"),this.R=n.token,new uP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=mP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function Rt(t,e){return t<e?-1:t>e?1:0}function wc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gs.fromMillis(Date.now())}static fromDate(e){return gs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gs(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.timestamp=e}static fromTimestamp(e){return new at(e)}static min(){return new at(new gs(0,0))}static max(){return new at(new gs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,r){n===void 0?n=0:n>e.length&&tt(),r===void 0?r=e.length-n:r>e.length-n&&tt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),c=n.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Vt extends Nu{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Vt(n)}static emptyPath(){return new Vt([])}}const pP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Nu{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return pP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Pe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Pe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(a(),i++)}if(a(),c)throw new Pe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Vt.fromString(e))}static fromName(e){return new qe(Vt.fromString(e).popFirst(5))}static empty(){return new qe(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Vt(e.slice()))}}function fP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=at.fromTimestamp(r===1e9?new gs(n+1,0):new gs(n,r));return new Ja(i,qe.empty(),e)}function gP(t){return new Ja(t.readTime,t.key,-1)}class Ja{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ja(at.min(),qe.empty(),-1)}static max(){return new Ja(at.max(),qe.empty(),-1)}}function xP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:Rt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==vP)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new we(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof we?n:we.resolve(n)}catch(n){return we.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):we.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):we.reject(n)}static resolve(e){return new we(((n,r)=>{n(e)}))}static reject(e){return new we(((n,r)=>{r(e)}))}static waitFor(e){return new we(((n,r)=>{let i=0,a=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++a,c&&a===i&&n()}),(u=>r(u)))})),c=!0,a===i&&n()}))}static or(e){let n=we.resolve(!1);for(const r of e)n=n.next((i=>i?we.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new we(((r,i)=>{const a=e.length,c=new Array(a);let d=0;for(let u=0;u<a;u++){const h=u;n(e[h]).next((p=>{c[h]=p,++d,d===a&&r(c)}),(p=>i(p)))}}))}static doWhile(e,n){return new we(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function bP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Py.oe=-1;function sf(t){return t==null}function wp(t){return t===0&&1/t==-1/0}function _P(t){return typeof t=="number"&&Number.isInteger(t)&&!wp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new cs(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new cs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}}class Cm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:tn.RED,this.left=i!=null?i:tn.EMPTY,this.right=a!=null?a:tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new tn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(e,n,r,i,a){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new cs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l2(this.data.getIterator())}getIteratorFrom(e){return new l2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class l2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new dr([])}unionWith(e){let n=new ln(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException!="undefined"&&a instanceof DOMException?new FN("Invalid base64 string: "+a):a}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const wP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(t){if(Dt(!!t),typeof t=="string"){let e=0;const n=wP.exec(t);if(Dt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_s(t.seconds),nanos:_s(t.nanos)}}function _s(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function tl(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ly(t){const e=t.mapValue.fields.__previous_value__;return nf(e)?Ly(e):e}function ku(t){const e=Za(t.mapValue.fields.__local_write_time__.timestampValue);return new gs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,r,i,a,c,d,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=u,this.useFetchStreams=h}}class Cu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm={mapValue:{}};function sl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nf(t)?4:NP(t)?9007199254740991:SP(t)?10:11:tt()}function Ei(t,e){if(t===e)return!0;const n=sl(t);if(n!==sl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ku(t).isEqual(ku(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=Za(i.timestampValue),d=Za(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return tl(i.bytesValue).isEqual(tl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return _s(i.geoPointValue.latitude)===_s(a.geoPointValue.latitude)&&_s(i.geoPointValue.longitude)===_s(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return _s(i.integerValue)===_s(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=_s(i.doubleValue),d=_s(a.doubleValue);return c===d?wp(c)===wp(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return wc(t.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return(function(i,a){const c=i.mapValue.fields||{},d=a.mapValue.fields||{};if(o2(c)!==o2(d))return!1;for(const u in c)if(c.hasOwnProperty(u)&&(d[u]===void 0||!Ei(c[u],d[u])))return!1;return!0})(t,e);default:return tt()}}function Tu(t,e){return(t.values||[]).find((n=>Ei(n,e)))!==void 0}function jc(t,e){if(t===e)return 0;const n=sl(t),r=sl(e);if(n!==r)return Rt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rt(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const d=_s(a.integerValue||a.doubleValue),u=_s(c.integerValue||c.doubleValue);return d<u?-1:d>u?1:d===u?0:isNaN(d)?isNaN(u)?0:-1:1})(t,e);case 3:return c2(t.timestampValue,e.timestampValue);case 4:return c2(ku(t),ku(e));case 5:return Rt(t.stringValue,e.stringValue);case 6:return(function(a,c){const d=tl(a),u=tl(c);return d.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const d=a.split("/"),u=c.split("/");for(let h=0;h<d.length&&h<u.length;h++){const p=Rt(d[h],u[h]);if(p!==0)return p}return Rt(d.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const d=Rt(_s(a.latitude),_s(c.latitude));return d!==0?d:Rt(_s(a.longitude),_s(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return d2(t.arrayValue,e.arrayValue);case 10:return(function(a,c){var d,u,h,p;const g=a.fields||{},v=c.fields||{},b=(d=g.value)===null||d===void 0?void 0:d.arrayValue,j=(u=v.value)===null||u===void 0?void 0:u.arrayValue,I=Rt(((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0,((p=j==null?void 0:j.values)===null||p===void 0?void 0:p.length)||0);return I!==0?I:d2(b,j)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Tm.mapValue&&c===Tm.mapValue)return 0;if(a===Tm.mapValue)return 1;if(c===Tm.mapValue)return-1;const d=a.fields||{},u=Object.keys(d),h=c.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const v=Rt(u[g],p[g]);if(v!==0)return v;const b=jc(d[u[g]],h[p[g]]);if(b!==0)return b}return Rt(u.length,p.length)})(t.mapValue,e.mapValue);default:throw tt()}}function c2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Rt(t,e);const n=Za(t),r=Za(e),i=Rt(n.seconds,r.seconds);return i!==0?i:Rt(n.nanos,r.nanos)}function d2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=jc(n[i],r[i]);if(a)return a}return Rt(n.length,r.length)}function Sc(t){return Pv(t)}function Pv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Za(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return tl(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Pv(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const c of r)a?a=!1:i+=",",i+=`${c}:${Pv(n.fields[c])}`;return i+"}"})(t.mapValue):tt()}function jp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lv(t){return!!t&&"integerValue"in t}function Dy(t){return!!t&&"arrayValue"in t}function u2(t){return!!t&&"nullValue"in t}function h2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sp(t){return!!t&&"mapValue"in t}function SP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function iu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return dl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=iu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=iu(c):i.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dl(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Qn(iu(this.value))}}function BN(t){const e=[];return dl(t.fields,((n,r)=>{const i=new rn([n]);if(sp(r)){const a=BN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)})),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r,i,a,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new yn(e,0,at.min(),at.min(),at.min(),Qn.empty(),0)}static newFoundDocument(e,n,r,i){return new yn(e,1,n,at.min(),r,i,0)}static newNoDocument(e,n){return new yn(e,2,n,at.min(),at.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,at.min(),at.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.position=e,this.inclusive=n}}function m2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],c=t.position[i];if(a.field.isKeyField()?r=qe.comparator(qe.fromName(c.referenceValue),n.key):r=jc(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function p2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n="asc"){this.field=e,this.dir=n}}function kP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{}class Es extends $N{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TP(e,n,r):n==="array-contains"?new IP(e,r):n==="in"?new RP(e,r):n==="not-in"?new PP(e,r):n==="array-contains-any"?new LP(e,r):new Es(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EP(e,r):new AP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jc(n,this.value)):n!==null&&sl(this.value)===sl(n)&&this.matchesComparison(jc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends $N{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ii(e,n)}matches(e){return VN(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function VN(t){return t.op==="and"}function ON(t){return CP(t)&&VN(t)}function CP(t){for(const e of t.filters)if(e instanceof ii)return!1;return!0}function Dv(t){if(t instanceof Es)return t.field.canonicalString()+t.op.toString()+Sc(t.value);if(ON(t))return t.filters.map((e=>Dv(e))).join(",");{const e=t.filters.map((n=>Dv(n))).join(",");return`${t.op}(${e})`}}function UN(t,e){return t instanceof Es?(function(r,i){return i instanceof Es&&r.op===i.op&&r.field.isEqual(i.field)&&Ei(r.value,i.value)})(t,e):t instanceof ii?(function(r,i){return i instanceof ii&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,c,d)=>a&&UN(c,i.filters[d])),!0):!1})(t,e):void tt()}function zN(t){return t instanceof Es?(function(n){return`${n.field.canonicalString()} ${n.op} ${Sc(n.value)}`})(t):t instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(zN).join(" ,")+"}"})(t):"Filter"}class TP extends Es{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class EP extends Es{constructor(e,n){super(e,"in",n),this.keys=HN("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class AP extends Es{constructor(e,n){super(e,"not-in",n),this.keys=HN("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function HN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>qe.fromName(r.referenceValue)))}class IP extends Es{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dy(n)&&Tu(n.arrayValue,this.value)}}class RP extends Es{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class PP extends Es{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tu(this.value.arrayValue,n)}}class LP extends Es{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Tu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n=null,r=[],i=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=d,this.ue=null}}function f2(t,e=null,n=[],r=[],i=null,a=null,c=null){return new DP(t,e,n,r,i,a,c)}function My(t){const e=ot(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Dv(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Sc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Sc(r))).join(",")),e.ue=n}return e.ue}function Fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!p2(t.startAt,e.startAt)&&p2(t.endAt,e.endAt)}function Mv(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n=null,r=[],i=[],a=null,c="F",d=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function MP(t,e,n,r,i,a,c,d){return new pa(t,e,n,r,i,a,c,d)}function By(t){return new pa(t)}function g2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $y(t){return t.collectionGroup!==null}function xc(t){const e=ot(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new ln(rn.comparator);return c.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Eu(a,r))})),n.has(rn.keyField().canonicalString())||e.ce.push(new Eu(rn.keyField(),r))}return e.ce}function ji(t){const e=ot(t);return e.le||(e.le=FP(e,xc(t))),e.le}function FP(t,e){if(t.limitType==="F")return f2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Eu(i.field,a)}));const n=t.endAt?new Nc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nc(t.startAt.position,t.startAt.inclusive):null;return f2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fv(t,e){const n=t.filters.concat([e]);return new pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sp(t,e,n){return new pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rf(t,e){return Fy(ji(t),ji(e))&&t.limitType===e.limitType}function GN(t){return`${My(ji(t))}|lt:${t.limitType}`}function ac(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>zN(i))).join(", ")}]`),sf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Sc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Sc(i))).join(",")),`Target(${r})`})(ji(t))}; limitType=${t.limitType})`}function af(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):qe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of xc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,u){const h=m2(c,d,u);return c.inclusive?h<=0:h<0})(r.startAt,xc(r),i)||r.endAt&&!(function(c,d,u){const h=m2(c,d,u);return c.inclusive?h>=0:h>0})(r.endAt,xc(r),i))})(t,e)}function BP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WN(t){return(e,n)=>{let r=!1;for(const i of xc(t)){const a=$P(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function $P(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):(function(a,c,d){const u=c.data.field(a),h=d.data.field(a);return u!==null&&h!==null?jc(u,h):tt()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dl(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return MN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new cs(qe.comparator);function da(){return VP}const qN=new cs(qe.comparator);function Kd(...t){let e=qN;for(const n of t)e=e.insert(n.key,n);return e}function KN(t){let e=qN;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Go(){return au()}function QN(){return au()}function au(){return new Vc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const OP=new cs(qe.comparator),UP=new ln(qe.comparator);function wt(...t){let e=UP;for(const n of t)e=e.add(n);return e}const zP=new ln(Rt);function HP(){return zP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wp(e)?"-0":e}}function XN(t){return{integerValue:""+t}}function GP(t,e){return _P(e)?XN(e):Vy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this._=void 0}}function WP(t,e,n){return t instanceof Au?(function(i,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&nf(a)&&(a=Ly(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}})(n,e):t instanceof Iu?JN(t,e):t instanceof Ru?ZN(t,e):(function(i,a){const c=YN(i,a),d=x2(c)+x2(i.Pe);return Lv(c)&&Lv(i.Pe)?XN(d):Vy(i.serializer,d)})(t,e)}function qP(t,e,n){return t instanceof Iu?JN(t,e):t instanceof Ru?ZN(t,e):n}function YN(t,e){return t instanceof Np?(function(r){return Lv(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Au extends of{}class Iu extends of{constructor(e){super(),this.elements=e}}function JN(t,e){const n=ek(e);for(const r of t.elements)n.some((i=>Ei(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Ru extends of{constructor(e){super(),this.elements=e}}function ZN(t,e){let n=ek(e);for(const r of t.elements)n=n.filter((i=>!Ei(i,r)));return{arrayValue:{values:n}}}class Np extends of{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function x2(t){return _s(t.integerValue||t.doubleValue)}function ek(t){return Dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n){this.field=e,this.transform=n}}function QP(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Iu&&i instanceof Iu||r instanceof Ru&&i instanceof Ru?wc(r.elements,i.elements,Ei):r instanceof Np&&i instanceof Np?Ei(r.Pe,i.Pe):r instanceof Au&&i instanceof Au})(t.transform,e.transform)}class XP{constructor(e,n){this.version=e,this.transformResults=n}}class Pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function np(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lf{}function tk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Oy(t.key,Pr.none()):new Gu(t.key,t.data,Pr.none());{const n=t.data,r=Qn.empty();let i=new ln(rn.comparator);for(let a of e.fields)if(!i.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),i=i.add(a)}return new no(t.key,r,new dr(i.toArray()),Pr.none())}}function YP(t,e,n){t instanceof Gu?(function(i,a,c){const d=i.value.clone(),u=y2(i.fieldTransforms,a,c.transformResults);d.setAll(u),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof no?(function(i,a,c){if(!np(i.precondition,a))return void a.convertToUnknownDocument(c.version);const d=y2(i.fieldTransforms,a,c.transformResults),u=a.data;u.setAll(sk(i)),u.setAll(d),a.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):(function(i,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function ou(t,e,n,r){return t instanceof Gu?(function(a,c,d,u){if(!np(a.precondition,c))return d;const h=a.value.clone(),p=b2(a.fieldTransforms,u,c);return h.setAll(p),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof no?(function(a,c,d,u){if(!np(a.precondition,c))return d;const h=b2(a.fieldTransforms,u,c),p=c.data;return p.setAll(sk(a)),p.setAll(h),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(a,c,d){return np(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function JP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=YN(r.transform,i||null);a!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,a))}return n||null}function v2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wc(r,i,((a,c)=>QP(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gu extends lf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends lf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function sk(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function y2(t,e,n){const r=new Map;Dt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],c=a.transform,d=e.data.field(a.field);r.set(a.field,qP(c,d,n[i]))}return r}function b2(t,e,n){const r=new Map;for(const i of t){const a=i.transform,c=n.data.field(i.field);r.set(i.field,WP(a,c,e))}return r}class Oy extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZP extends lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&YP(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QN();return this.mutations.forEach((i=>{const a=e.get(i.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=n.has(i.key)?null:d;const u=tk(c,d);u!==null&&r.set(i.key,u),c.isValidDocument()||c.convertToNoDocument(at.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),wt())}isEqual(e){return this.batchId===e.batchId&&wc(this.mutations,e.mutations,((n,r)=>v2(n,r)))&&wc(this.baseMutations,e.baseMutations,((n,r)=>v2(n,r)))}}class Uy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Dt(e.mutations.length===r.length);let i=(function(){return OP})();const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new Uy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ns,kt;function nL(t){switch(t){default:return tt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function nk(t){if(t===void 0)return ca("GRPC error has no .code"),pe.UNKNOWN;switch(t){case Ns.OK:return pe.OK;case Ns.CANCELLED:return pe.CANCELLED;case Ns.UNKNOWN:return pe.UNKNOWN;case Ns.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Ns.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Ns.INTERNAL:return pe.INTERNAL;case Ns.UNAVAILABLE:return pe.UNAVAILABLE;case Ns.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Ns.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Ns.NOT_FOUND:return pe.NOT_FOUND;case Ns.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Ns.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Ns.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Ns.ABORTED:return pe.ABORTED;case Ns.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Ns.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Ns.DATA_LOSS:return pe.DATA_LOSS;default:return tt()}}(kt=Ns||(Ns={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new Xo([4294967295,4294967295],0);function _2(t){const e=rL().encode(t),n=new TN;return n.update(e),new Uint8Array(n.digest())}function w2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,a],0)]}class zy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qd(`Invalid padding: ${n}`);if(r<0)throw new Qd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Xo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Xo.fromNumber(r)));return i.compare(iL)===1&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=_2(e),[r,i]=w2(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(r,i,a);if(!this.de(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new zy(a,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=_2(e),[r,i]=w2(n);for(let a=0;a<this.hashCount;a++){const c=this.Ee(r,i,a);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new cf(at.min(),i,new cs(Rt),da(),wt())}}class Wu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wu(r,n,wt(),wt(),wt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class rk{constructor(e,n){this.targetId=e,this.me=n}}class ik{constructor(e,n,r=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j2{constructor(){this.fe=0,this.ge=N2(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=wt(),n=wt(),r=wt();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:tt()}})),new Wu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=N2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aL{constructor(e){this.Le=e,this.Be=new Map,this.ke=da(),this.qe=S2(),this.Qe=new cs(Rt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:tt()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Mv(a))if(r===0){const c=new qe(a.path);this.Ue(n,c,yn.newNoDocument(c,at.min()))}else Dt(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),u=d?this.Xe(d,e,c):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let c,d;try{c=tl(r).toUint8Array()}catch(u){if(u instanceof FN)return _c("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{d=new zy(c,i,a)}catch(u){return _c(u instanceof Qd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,a,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((a,c)=>{const d=this.Je(c);if(d){if(a.current&&Mv(d.target)){const u=new qe(d.target.path);this.ke.get(u)!==null||this.it(c,u)||this.Ue(c,u,yn.newNoDocument(u,e))}a.be&&(n.set(c,a.ve()),a.Ce())}}));let r=wt();this.qe.forEach(((a,c)=>{let d=!0;c.forEachWhile((u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ke.forEach(((a,c)=>c.setReadTime(e)));const i=new cf(e,n,this.Qe,this.ke,r);return this.ke=da(),this.qe=S2(),this.Qe=new cs(Rt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new j2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ln(Rt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new j2),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function S2(){return new cs(qe.comparator)}function N2(){return new cs(qe.comparator)}const oL={asc:"ASCENDING",desc:"DESCENDING"},lL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cL={and:"AND",or:"OR"};class dL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bv(t,e){return t.useProto3Json||sf(e)?e:{value:e}}function kp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ak(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uL(t,e){return kp(t,e.toTimestamp())}function Si(t){return Dt(!!t),at.fromTimestamp((function(n){const r=Za(n);return new gs(r.seconds,r.nanos)})(t))}function Hy(t,e){return $v(t,e).canonicalString()}function $v(t,e){const n=(function(i){return new Vt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ok(t){const e=Vt.fromString(t);return Dt(hk(e)),e}function Vv(t,e){return Hy(t.databaseId,e.path)}function vx(t,e){const n=ok(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(ck(n))}function lk(t,e){return Hy(t.databaseId,e)}function hL(t){const e=ok(t);return e.length===4?Vt.emptyPath():ck(e)}function Ov(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ck(t){return Dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function k2(t,e,n){return{name:Vv(t,e),fields:n.value.mapValue.fields}}function mL(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:tt()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,p){return h.useProto3Json?(Dt(p===void 0||typeof p=="string"),cn.fromBase64String(p||"")):(Dt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),cn.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(h){const p=h.code===void 0?pe.UNKNOWN:nk(h.code);return new Pe(p,h.message||"")})(c);n=new ik(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vx(t,r.document.name),a=Si(r.document.updateTime),c=r.document.createTime?Si(r.document.createTime):at.min(),d=new Qn({mapValue:{fields:r.document.fields}}),u=yn.newFoundDocument(i,a,c,d),h=r.targetIds||[],p=r.removedTargetIds||[];n=new rp(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vx(t,r.document),a=r.readTime?Si(r.readTime):at.min(),c=yn.newNoDocument(i,a),d=r.removedTargetIds||[];n=new rp([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vx(t,r.document),a=r.removedTargetIds||[];n=new rp([],a,i,null)}else{if(!("filter"in e))return tt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,c=new sL(i,a),d=r.targetId;n=new rk(d,c)}}return n}function pL(t,e){let n;if(e instanceof Gu)n={update:k2(t,e.key,e.value)};else if(e instanceof Oy)n={delete:Vv(t,e.key)};else if(e instanceof no)n={update:k2(t,e.key,e.data),updateMask:jL(e.fieldMask)};else{if(!(e instanceof ZP))return tt();n={verify:Vv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const d=c.transform;if(d instanceof Au)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Np)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw tt()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:uL(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:tt()})(t,e.precondition)),n}function fL(t,e){return t&&t.length>0?(Dt(e!==void 0),t.map((n=>(function(i,a){let c=i.updateTime?Si(i.updateTime):Si(a);return c.isEqual(at.min())&&(c=Si(a)),new XP(c,i.transformResults||[])})(n,e)))):[]}function gL(t,e){return{documents:[lk(t,e.path)]}}function xL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lk(t,i);const a=(function(h){if(h.length!==0)return uk(ii.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(h){if(h.length!==0)return h.map((p=>(function(v){return{field:oc(v.field),direction:bL(v.dir)}})(p)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Bv(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{_t:n,parent:i}}function vL(t){let e=hL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Dt(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let a=[];n.where&&(a=(function(g){const v=dk(g);return v instanceof ii&&ON(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((v=>(function(j){return new Eu(lc(j.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(v)))})(n.orderBy));let d=null;n.limit&&(d=(function(g){let v;return v=typeof g=="object"?g.value:g,sf(v)?null:v})(n.limit));let u=null;n.startAt&&(u=(function(g){const v=!!g.before,b=g.values||[];return new Nc(b,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const v=!g.before,b=g.values||[];return new Nc(b,v)})(n.endAt)),MP(e,i,c,a,d,"F",u,h)}function yL(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dk(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lc(n.unaryFilter.field);return Es.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lc(n.unaryFilter.field);return Es.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=lc(n.unaryFilter.field);return Es.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=lc(n.unaryFilter.field);return Es.create(c,"!=",{nullValue:"NULL_VALUE"});default:return tt()}})(t):t.fieldFilter!==void 0?(function(n){return Es.create(lc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>dk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tt()}})(n.compositeFilter.op))})(t):tt()}function bL(t){return oL[t]}function _L(t){return lL[t]}function wL(t){return cL[t]}function oc(t){return{fieldPath:t.canonicalString()}}function lc(t){return rn.fromServerFormat(t.fieldPath)}function uk(t){return t instanceof Es?(function(n){if(n.op==="=="){if(h2(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NAN"}};if(u2(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h2(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NOT_NAN"}};if(u2(n.value))return{unaryFilter:{field:oc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oc(n.field),op:_L(n.op),value:n.value}}})(t):t instanceof ii?(function(n){const r=n.getFilters().map((i=>uk(i)));return r.length===1?r[0]:{compositeFilter:{op:wL(n.op),filters:r}}})(t):tt()}function jL(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n,r,i,a=at.min(),c=at.min(),d=cn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=u}withSequenceNumber(e){return new Ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.ct=e}}function NL(t){const e=vL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.un=new CL}addToCollectionParentIndex(e,n){return this.un.add(n),we.resolve()}getCollectionParents(e,n){return we.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return we.resolve()}deleteFieldIndex(e,n){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,n){return we.resolve()}getDocumentsMatchingTarget(e,n){return we.resolve(null)}getIndexType(e,n){return we.resolve(0)}getFieldIndexes(e,n){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,n){return we.resolve(Ja.min())}getMinOffsetFromCollectionGroup(e,n){return we.resolve(Ja.min())}updateCollectionGroup(e,n,r){return we.resolve()}updateIndexEntries(e,n){return we.resolve()}}class CL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(Vt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(Vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new kc(0)}static kn(){return new kc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.changes=new Vc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?we.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&ou(r.mutation,i,dr.empty(),gs.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,wt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=wt()){const i=Go();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let c=Kd();return a.forEach(((d,u)=>{c=c.insert(d,u.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Go();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,wt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let a=da();const c=au(),d=(function(){return au()})();return n.forEach(((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof no)?a=a.insert(h.key,h):p!==void 0?(c.set(h.key,p.mutation.getFieldMask()),ou(p.mutation,h,p.mutation.getFieldMask(),gs.now())):c.set(h.key,dr.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((h,p)=>c.set(h,p))),n.forEach(((h,p)=>{var g;return d.set(h,new EL(p,(g=c.get(h))!==null&&g!==void 0?g:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=au();let i=new cs(((c,d)=>c-d)),a=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||dr.empty();p=d.applyToLocalView(h,p),r.set(u,p);const g=(i.get(d.batchId)||wt()).add(u);i=i.insert(d.batchId,g)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const u=d.getNext(),h=u.key,p=u.value,g=QN();p.forEach((v=>{if(!a.has(v)){const b=tk(n.get(v),r.get(v));b!==null&&g.set(v,b),a=a.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,h,g))}return we.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return qe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$y(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):we.resolve(Go());let d=-1,u=a;return c.next((h=>we.forEach(h,((p,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),a.get(p)?we.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{u=u.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,u,h,wt()))).next((p=>({batchId:d,changes:KN(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next((r=>{let i=Kd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let c=Kd();return this.indexManager.getCollectionParents(e,a).next((d=>we.forEach(d,(u=>{const h=(function(g,v){return new pa(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((g,v)=>{c=c.insert(g,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((c=>{a.forEach(((u,h)=>{const p=h.getKey();c.get(p)===null&&(c=c.insert(p,yn.newInvalidDocument(p)))}));let d=Kd();return c.forEach(((u,h)=>{const p=a.get(u);p!==void 0&&ou(p.mutation,h,dr.empty(),gs.now()),af(n,h)&&(d=d.insert(u,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return we.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Si(i.createTime)}})(n)),we.resolve()}getNamedQuery(e,n){return we.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:NL(i.bundledQuery),readTime:Si(i.readTime)}})(n)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.overlays=new cs(qe.comparator),this.Ir=new Map}getOverlay(e,n){return we.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Go();return we.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.ht(e,n,a)})),we.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),we.resolve()}getOverlaysForCollection(e,n,r){const i=Go(),a=n.length+1,c=new qe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const u=d.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return we.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new cs(((h,p)=>h-p));const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=a.get(h.largestBatchId);p===null&&(p=Go(),a=a.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const d=Go(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,p)=>d.set(h,p))),!(d.size()>=i)););return we.resolve(d)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new tL(n,r));let a=this.Ir.get(n);a===void 0&&(a=wt(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Tr=new ln(Us.Er),this.dr=new ln(Us.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Us(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new Us(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new qe(new Vt([])),r=new Us(n,e),i=new Us(n,e+1),a=[];return this.dr.forEachInRange([r,i],(c=>{this.Vr(c),a.push(c.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new qe(new Vt([])),r=new Us(n,e),i=new Us(n,e+1);let a=wt();return this.dr.forEachInRange([r,i],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new Us(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Us{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return qe.comparator(e.key,n.key)||Rt(e.wr,n.wr)}static Ar(e,n){return Rt(e.wr,n.wr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ln(Us.Er)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new eL(a,n,r,i);this.mutationQueue.push(c);for(const d of i)this.br=this.br.add(new Us(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return we.resolve(c)}lookupMutationBatch(e,n){return we.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Us(n,0),i=new Us(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],(c=>{const d=this.Dr(c.wr);a.push(d)})),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(Rt);return n.forEach((i=>{const a=new Us(i,0),c=new Us(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],(d=>{r=r.add(d.wr)}))})),we.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;qe.isDocumentKey(a)||(a=a.child(""));const c=new Us(new qe(a),0);let d=new ln(Rt);return this.br.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(d=d.add(u.wr)),!0)}),c),we.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Dt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return we.forEach(n.mutations,(i=>{const a=new Us(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new Us(n,0),i=this.br.firstAfterOrEqual(r);return we.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.Mr=e,this.docs=(function(){return new cs(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return we.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=da();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():yn.newInvalidDocument(i))})),we.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=da();const c=n.path,d=new qe(c.child("")),u=this.docs.getIteratorFrom(d);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||xP(gP(p),r)<=0||(i.has(p.key)||af(n,p))&&(a=a.insert(p.key,p.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,n,r,i){tt()}Or(e,n){return we.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ML(this)}getSize(e){return we.resolve(this.size)}}class ML extends TL{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),we.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.persistence=e,this.Nr=new Vc((n=>My(n)),Fy),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gy,this.targetCount=0,this.kr=kc.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),we.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new kc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,we.resolve()}updateTargetData(e,n){return this.Kn(n),we.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),we.waitFor(a).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return we.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),we.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((c=>{a.push(i.markPotentiallyOrphaned(e,c))})),we.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),we.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return we.resolve(r)}containsKey(e,n){return we.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Py(0),this.Kr=!1,this.Kr=!0,this.$r=new PL,this.referenceDelegate=e(this),this.Ur=new FL(this),this.indexManager=new kL,this.remoteDocumentCache=(function(i){return new DL(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new SL(n),this.Gr=new IL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new LL(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new $L(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,n){return we.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class $L extends yP{constructor(e){super(),this.currentSequenceNumber=e}}class Wy{constructor(e){this.persistence=e,this.Jr=new Gy,this.Yr=null}static Zr(e){return new Wy(e)}get Xr(){if(this.Yr)return this.Yr;throw tt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),we.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),we.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Xr,(r=>{const i=qe.fromPath(r);return this.ei(e,i).next((a=>{a||n.removeEntry(i,at.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return we.or([()=>we.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=wt(),i=wt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new qy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return HI()?8:bP(UI())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.Zi(e,n,i,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new VL;return this.Xi(e,n,c).next((d=>{if(a.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>a.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(Ld()<=At.DEBUG&&Ue("QueryEngine","SDK will not create cache indexes for query:",ac(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),we.resolve()):(Ld()<=At.DEBUG&&Ue("QueryEngine","Query:",ac(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ld()<=At.DEBUG&&Ue("QueryEngine","The SDK decides to create cache indexes for query:",ac(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):we.resolve())}Yi(e,n){if(g2(n))return we.resolve(null);let r=ji(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Sp(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=wt(...a);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.ts(n,d);return this.ns(n,h,c,u.readTime)?this.Yi(e,Sp(n,null,"F")):this.rs(e,h,n,u)}))))})))))}Zi(e,n,r,i){return g2(n)||i.isEqual(at.min())?we.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const c=this.ts(n,a);return this.ns(n,c,r,i)?we.resolve(null):(Ld()<=At.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ac(n)),this.rs(e,c,n,fP(i,-1)).next((d=>d)))}))}ts(e,n){let r=new ln(WN(e));return n.forEach(((i,a)=>{af(e,a)&&(r=r.add(a))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return Ld()<=At.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",ac(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ja.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new cs(Rt),this._s=new Vc((a=>My(a)),Fy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function zL(t,e,n,r){return new UL(t,e,n,r)}async function mk(t,e){const n=ot(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],d=[];let u=wt();for(const h of i){c.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of a){d.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next((h=>({hs:h,removedBatchIds:c,addedBatchIds:d})))}))}))}function HL(t,e){const n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,u,h,p){const g=h.batch,v=g.keys();let b=we.resolve();return v.forEach((j=>{b=b.next((()=>p.getEntry(u,j))).next((I=>{const A=h.docVersions.get(j);Dt(A!==null),I.version.compareTo(A)<0&&(g.applyToRemoteDocument(I,h),I.isValidDocument()&&(I.setReadTime(h.commitVersion),p.addEntry(I)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(u,g)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let u=wt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(u=u.add(d.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function pk(t){const e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function GL(t,e){const n=ot(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const d=[];e.targetChanges.forEach(((p,g)=>{const v=i.get(g);if(!v)return;d.push(n.Ur.removeMatchingKeys(a,p.removedDocuments,g).next((()=>n.Ur.addMatchingKeys(a,p.addedDocuments,g))));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(cn.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),(function(I,A,B){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(v,b,p)&&d.push(n.Ur.updateTargetData(a,b))}));let u=da(),h=wt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,p))})),d.push(WL(a,c,e.documentUpdates).next((p=>{u=p.Ps,h=p.Is}))),!r.isEqual(at.min())){const p=n.Ur.getLastRemoteSnapshotVersion(a).next((g=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(p)}return we.waitFor(d).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,h))).next((()=>u))})).then((a=>(n.os=i,a)))}function WL(t,e,n){let r=wt(),i=wt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=da();return n.forEach(((d,u)=>{const h=a.get(d);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(d)),u.isNoDocument()&&u.version.isEqual(at.min())?(e.removeEntry(d,u.readTime),c=c.insert(d,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),c=c.insert(d,u)):Ue("LocalStore","Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",u.version)})),{Ps:c,Is:i}}))}function qL(t,e){const n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function KL(t,e){const n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((a=>a?(i=a,we.resolve(i)):n.Ur.allocateTargetId(r).next((c=>(i=new Ga(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function Uv(t,e,n){const r=ot(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Hu(c))throw c;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function C2(t,e,n){const r=ot(t);let i=at.min(),a=wt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(u,h,p){const g=ot(u),v=g._s.get(p);return v!==void 0?we.resolve(g.os.get(v)):g.Ur.getTargetData(h,p)})(r,c,ji(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((u=>{a=u}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?i:at.min(),n?a:wt()))).next((d=>(QL(r,BP(e),d),{documents:d,Ts:a})))))}function QL(t,e,n){let r=t.us.get(e)||at.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.us.set(e,r)}class T2{constructor(){this.activeTargetIds=HP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XL{constructor(){this.so=new T2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new T2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em=null;function yx(){return Em===null?Em=(function(){return 268435456+Math.round(2147483648*Math.random())})():Em++,"0x"+Em.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class e8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,c){const d=yx(),u=this.xo(n,r.toUriEncodedString());Ue("RestConnection",`Sending RPC '${n}' ${d}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,c),this.No(n,u,h,i).then((p=>(Ue("RestConnection",`Received RPC '${n}' ${d}: `,p),p)),(p=>{throw _c("RestConnection",`RPC '${n}' ${d} failed with error: `,p,"url: ",u,"request:",i),p}))}Lo(n,r,i,a,c,d){return this.Mo(n,r,i,a,c)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$c})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,c)=>n[c]=a)),i&&i.headers.forEach(((a,c)=>n[c]=a))}xo(n,r){const i=JL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=yx();return new Promise(((c,d)=>{const u=new EN;u.setWithCredentials(!0),u.listenOnce(AN.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case tp.NO_ERROR:const p=u.getResponseJson();Ue(fn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),c(p);break;case tp.TIMEOUT:Ue(fn,`RPC '${e}' ${a} timed out`),d(new Pe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case tp.HTTP_ERROR:const g=u.getStatus();if(Ue(fn,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const j=(function(A){const B=A.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(B)>=0?B:pe.UNKNOWN})(b.status);d(new Pe(j,b.message))}else d(new Pe(pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(new Pe(pe.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Ue(fn,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);Ue(fn,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",h,r,15)}))}Bo(e,n,r){const i=yx(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=PN(),d=RN(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=a.join("");Ue(fn,`Creating RPC '${e}' stream ${i}: ${p}`,u);const g=c.createWebChannel(p,u);let v=!1,b=!1;const j=new ZL({Io:A=>{b?Ue(fn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(Ue(fn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Ue(fn,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},To:()=>g.close()}),I=(A,B,D)=>{A.listen(B,(T=>{try{D(T)}catch(y){setTimeout((()=>{throw y}),0)}}))};return I(g,qd.EventType.OPEN,(()=>{b||(Ue(fn,`RPC '${e}' stream ${i} transport opened.`),j.yo())})),I(g,qd.EventType.CLOSE,(()=>{b||(b=!0,Ue(fn,`RPC '${e}' stream ${i} transport closed`),j.So())})),I(g,qd.EventType.ERROR,(A=>{b||(b=!0,_c(fn,`RPC '${e}' stream ${i} transport errored:`,A),j.So(new Pe(pe.UNAVAILABLE,"The operation could not be completed")))})),I(g,qd.EventType.MESSAGE,(A=>{var B;if(!b){const D=A.data[0];Dt(!!D);const T=D,y=T.error||((B=T[0])===null||B===void 0?void 0:B.error);if(y){Ue(fn,`RPC '${e}' stream ${i} received error:`,y);const S=y.status;let M=(function(E){const L=Ns[E];if(L!==void 0)return nk(L)})(S),C=y.message;M===void 0&&(M=pe.INTERNAL,C="Unknown error status: "+S+" with message "+y.message),b=!0,j.So(new Pe(M,C)),g.close()}else Ue(fn,`RPC '${e}' stream ${i} received:`,D),j.bo(D)}})),I(d,IN.STAT_EVENT,(A=>{A.stat===Rv.PROXY?Ue(fn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Rv.NOPROXY&&Ue(fn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{j.wo()}),0),j}}function bx(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){return new dL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r,i,a,c,d,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new fk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(ca(n.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new Pe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t8 extends gk{constructor(e,n,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=mL(this.serializer,e),r=(function(a){if(!("targetChange"in a))return at.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?at.min():c.readTime?Si(c.readTime):at.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ov(this.serializer),n.addTarget=(function(a,c){let d;const u=c.target;if(d=Mv(u)?{documents:gL(a,u)}:{query:xL(a,u)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=ak(a,c.resumeToken);const h=Bv(a,c.expectedCount);h!==null&&(d.expectedCount=h)}else if(c.snapshotVersion.compareTo(at.min())>0){d.readTime=kp(a,c.snapshotVersion.toTimestamp());const h=Bv(a,c.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=yL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ov(this.serializer),n.removeTarget=e,this.a_(n)}}class s8 extends gk{constructor(e,n,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Dt(!!e.streamToken),this.lastStreamToken=e.streamToken,Dt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=fL(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ov(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>pL(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Mo(e,$v(n,r),i,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(pe.UNKNOWN,a.toString())}))}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,$v(n,r),i,c,d,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Pe(pe.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class r8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ca(n),this.D_=!1):Ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((c=>{r.enqueueAndForget((async()=>{ul(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const h=ot(u);h.L_.add(4),await qu(h),h.q_.set("Unknown"),h.L_.delete(4),await uf(h)})(this))}))})),this.q_=new r8(r,i)}}async function uf(t){if(ul(t))for(const e of t.B_)await e(!0)}async function qu(t){for(const e of t.B_)await e(!1)}function xk(t,e){const n=ot(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Yy(n)?Xy(n):Oc(n).r_()&&Qy(n,e))}function Ky(t,e){const n=ot(t),r=Oc(n);n.N_.delete(e),r.r_()&&vk(n,e),n.N_.size===0&&(r.r_()?r.o_():ul(n)&&n.q_.set("Unknown"))}function Qy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(at.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oc(t).A_(e)}function vk(t,e){t.Q_.xe(e),Oc(t).R_(e)}function Xy(t){t.Q_=new aL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Oc(t).start(),t.q_.v_()}function Yy(t){return ul(t)&&!Oc(t).n_()&&t.N_.size>0}function ul(t){return ot(t).L_.size===0}function yk(t){t.Q_=void 0}async function a8(t){t.q_.set("Online")}async function o8(t){t.N_.forEach(((e,n)=>{Qy(t,e)}))}async function l8(t,e){yk(t),Yy(t)?(t.q_.M_(e),Xy(t)):t.q_.set("Unknown")}async function c8(t,e,n){if(t.q_.set("Online"),e instanceof ik&&e.state===2&&e.cause)try{await(async function(i,a){const c=a.cause;for(const d of a.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cp(t,r)}else if(e instanceof rp?t.Q_.Ke(e):e instanceof rk?t.Q_.He(e):t.Q_.We(e),!n.isEqual(at.min()))try{const r=await pk(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const d=a.Q_.rt(c);return d.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=a.N_.get(h);p&&a.N_.set(h,p.withResumeToken(u.resumeToken,c))}})),d.targetMismatches.forEach(((u,h)=>{const p=a.N_.get(u);if(!p)return;a.N_.set(u,p.withResumeToken(cn.EMPTY_BYTE_STRING,p.snapshotVersion)),vk(a,u);const g=new Ga(p.target,u,h,p.sequenceNumber);Qy(a,g)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await Cp(t,r)}}async function Cp(t,e,n){if(!Hu(e))throw e;t.L_.add(1),await qu(t),t.q_.set("Offline"),n||(n=()=>pk(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await uf(t)}))}function bk(t,e){return e().catch((n=>Cp(t,n,e)))}async function hf(t){const e=ot(t),n=eo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;d8(e);)try{const i=await qL(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,u8(e,i)}catch(i){await Cp(e,i)}_k(e)&&wk(e)}function d8(t){return ul(t)&&t.O_.length<10}function u8(t,e){t.O_.push(e);const n=eo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function _k(t){return ul(t)&&!eo(t).n_()&&t.O_.length>0}function wk(t){eo(t).start()}async function h8(t){eo(t).p_()}async function m8(t){const e=eo(t);for(const n of t.O_)e.m_(n.mutations)}async function p8(t,e,n){const r=t.O_.shift(),i=Uy.from(r,e,n);await bk(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await hf(t)}async function f8(t,e){e&&eo(t).V_&&await(async function(r,i){if((function(c){return nL(c)&&c!==pe.ABORTED})(i.code)){const a=r.O_.shift();eo(r).s_(),await bk(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await hf(r)}})(t,e),_k(t)&&wk(t)}async function A2(t,e){const n=ot(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=ul(n);n.L_.add(3),await qu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await uf(n)}async function g8(t,e){const n=ot(t);e?(n.L_.delete(2),await uf(n)):e||(n.L_.add(2),await qu(n),n.q_.set("Unknown"))}function Oc(t){return t.K_||(t.K_=(function(n,r,i){const a=ot(n);return a.w_(),new t8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:a8.bind(null,t),Ro:o8.bind(null,t),mo:l8.bind(null,t),d_:c8.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Yy(t)?Xy(t):t.q_.set("Unknown")):(await t.K_.stop(),yk(t))}))),t.K_}function eo(t){return t.U_||(t.U_=(function(n,r,i){const a=ot(n);return a.w_(),new s8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:h8.bind(null,t),mo:f8.bind(null,t),f_:m8.bind(null,t),g_:p8.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await hf(t)):(await t.U_.stop(),t.O_.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const c=Date.now()+r,d=new Jy(e,n,c,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(t,e){if(ca("AsyncQueue",`${e}: ${t}`),Hu(t))return new Pe(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Kd(),this.sortedSet=new cs(this.comparator)}static emptySet(e){return new vc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.W_=new cs(qe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):tt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Cc{constructor(e,n,r,i,a,c,d,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Cc(e,n,vc.emptySet(n),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class v8{constructor(){this.queries=R2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ot(n),a=i.queries;i.queries=R2(),a.forEach(((c,d)=>{for(const u of d.j_)u.onError(r)}))})(this,new Pe(pe.ABORTED,"Firestore shutting down"))}}function R2(){return new Vc((t=>GN(t)),rf)}async function jk(t,e){const n=ot(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new x8,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=Zy(c,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&e0(n)}async function Sk(t,e){const n=ot(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function y8(t,e){const n=ot(t);let r=!1;for(const i of e){const a=i.query,c=n.queries.get(a);if(c){for(const d of c.j_)d.X_(i)&&(r=!0);c.z_=i}}r&&e0(n)}function b8(t,e,n){const r=ot(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function e0(t){t.Y_.forEach((e=>{e.next()}))}var zv,P2;(P2=zv||(zv={})).ea="default",P2.Cache="cache";class Nk{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.key=e}}class Ck{constructor(e){this.key=e}}class _8{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=wt(),this.mutatedKeys=wt(),this.Aa=WN(e),this.Ra=new vc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new I2,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,g)=>{const v=i.get(p),b=af(this.query,g)?g:null,j=!!v&&this.mutatedKeys.has(v.key),I=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let A=!1;v&&b?v.data.isEqual(b.data)?j!==I&&(r.track({type:3,doc:b}),A=!0):this.ga(v,b)||(r.track({type:2,doc:b}),A=!0,(u&&this.Aa(b,u)>0||h&&this.Aa(b,h)<0)&&(d=!0)):!v&&b?(r.track({type:0,doc:b}),A=!0):v&&!b&&(r.track({type:1,doc:v}),A=!0,(u||h)&&(d=!0)),A&&(b?(c=c.add(b),a=I?a.add(p):a.delete(p)):(c=c.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{Ra:c,fa:r,ns:d,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((p,g)=>(function(b,j){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return I(b)-I(j)})(p.type,g.type)||this.Aa(p.doc,g.doc))),this.pa(r),i=i!=null&&i;const d=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,c.length!==0||h?{snapshot:new Cc(this.query,e.Ra,a,c,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new I2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=wt(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new Ck(r))})),this.da.forEach((r=>{e.has(r)||n.push(new kk(r))})),n}ba(e){this.Ta=e.Ts,this.da=wt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Cc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class w8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class j8{constructor(e){this.key=e,this.va=!1}}class S8{constructor(e,n,r,i,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Vc((d=>GN(d)),rf),this.Ma=new Map,this.xa=new Set,this.Oa=new cs(qe.comparator),this.Na=new Map,this.La=new Gy,this.Ba={},this.ka=new Map,this.qa=kc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function N8(t,e,n=!0){const r=Pk(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await Tk(r,e,n,!0),i}async function k8(t,e){const n=Pk(t);await Tk(n,e,!0,!1)}async function Tk(t,e,n,r){const i=await KL(t.localStore,ji(e)),a=i.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await C8(t,e,a,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&xk(t.remoteStore,i),d}async function C8(t,e,n,r,i){t.Ka=(g,v,b)=>(async function(I,A,B,D){let T=A.view.ma(B);T.ns&&(T=await C2(I.localStore,A.query,!1).then((({documents:C})=>A.view.ma(C,T))));const y=D&&D.targetChanges.get(A.targetId),S=D&&D.targetMismatches.get(A.targetId)!=null,M=A.view.applyChanges(T,I.isPrimaryClient,y,S);return D2(I,A.targetId,M.wa),M.snapshot})(t,g,v,b);const a=await C2(t.localStore,e,!0),c=new _8(e,a.Ts),d=c.ma(a.documents),u=Wu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=c.applyChanges(d,t.isPrimaryClient,u);D2(t,n,h.wa);const p=new w8(e,n,c);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function T8(t,e,n){const r=ot(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter((c=>!rf(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uv(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ky(r.remoteStore,i.targetId),Hv(r,i.targetId)})).catch(zu)):(Hv(r,i.targetId),await Uv(r.localStore,i.targetId,!0))}async function E8(t,e){const n=ot(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ky(n.remoteStore,r.targetId))}async function A8(t,e,n){const r=F8(t);try{const i=await(function(c,d){const u=ot(c),h=gs.now(),p=d.reduce(((b,j)=>b.add(j.key)),wt());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let j=da(),I=wt();return u.cs.getEntries(b,p).next((A=>{j=A,j.forEach(((B,D)=>{D.isValidDocument()||(I=I.add(B))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,j))).next((A=>{g=A;const B=[];for(const D of d){const T=JP(D,g.get(D.key).overlayedDocument);T!=null&&B.push(new no(D.key,T,BN(T.value.mapValue),Pr.exists(!0)))}return u.mutationQueue.addMutationBatch(b,h,B,d)})).next((A=>{v=A;const B=A.applyToLocalDocumentSet(g,I);return u.documentOverlayCache.saveOverlays(b,A.batchId,B)}))})).then((()=>({batchId:v.batchId,changes:KN(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,u){let h=c.Ba[c.currentUser.toKey()];h||(h=new cs(Rt)),h=h.insert(d,u),c.Ba[c.currentUser.toKey()]=h})(r,i.batchId,n),await Ku(r,i.changes),await hf(r.remoteStore)}catch(i){const a=Zy(i,"Failed to persist write");n.reject(a)}}async function Ek(t,e){const n=ot(t);try{const r=await GL(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const c=n.Na.get(a);c&&(Dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.va=!0:i.modifiedDocuments.size>0?Dt(c.va):i.removedDocuments.size>0&&(Dt(c.va),c.va=!1))})),await Ku(n,r,e)}catch(r){await zu(r)}}function L2(t,e,n){const r=ot(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((a,c)=>{const d=c.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const u=ot(c);u.onlineState=d;let h=!1;u.queries.forEach(((p,g)=>{for(const v of g.j_)v.Z_(d)&&(h=!0)})),h&&e0(u)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I8(t,e,n){const r=ot(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let c=new cs(qe.comparator);c=c.insert(a,yn.newNoDocument(a,at.min()));const d=wt().add(a),u=new cf(at.min(),new Map,new cs(Rt),c,d);await Ek(r,u),r.Oa=r.Oa.remove(a),r.Na.delete(e),t0(r)}else await Uv(r.localStore,e,!1).then((()=>Hv(r,e,n))).catch(zu)}async function R8(t,e){const n=ot(t),r=e.batch.batchId;try{const i=await HL(n.localStore,e);Ik(n,r,null),Ak(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ku(n,i)}catch(i){await zu(i)}}async function P8(t,e,n){const r=ot(t);try{const i=await(function(c,d){const u=ot(c);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return u.mutationQueue.lookupMutationBatch(h,d).next((g=>(Dt(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,d))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>u.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);Ik(r,e,n),Ak(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ku(r,i)}catch(i){await zu(i)}}function Ak(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function Ik(t,e,n){const r=ot(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Hv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||Rk(t,r)}))}function Rk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Ky(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),t0(t))}function D2(t,e,n){for(const r of n)r instanceof kk?(t.La.addReference(r.key,e),L8(t,r)):r instanceof Ck?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Rk(t,r.key)):tt()}function L8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),t0(t))}function t0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new qe(Vt.fromString(e)),r=t.qa.next();t.Na.set(r,new j8(n)),t.Oa=t.Oa.insert(n,r),xk(t.remoteStore,new Ga(ji(By(n.path)),r,"TargetPurposeLimboResolution",Py.oe))}}async function Ku(t,e,n){const r=ot(t),i=[],a=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,u)=>{c.push(r.Ka(u,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=qy.Wi(u.targetId,h);a.push(g)}})))})),await Promise.all(c),r.Ca.d_(i),await(async function(u,h){const p=ot(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>we.forEach(h,(v=>we.forEach(v.$i,(b=>p.persistence.referenceDelegate.addReference(g,v.targetId,b))).next((()=>we.forEach(v.Ui,(b=>p.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))))))}catch(g){if(!Hu(g))throw g;Ue("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=p.os.get(v),j=b.snapshotVersion,I=b.withLastLimboFreeSnapshotVersion(j);p.os=p.os.insert(v,I)}}})(r.localStore,a))}async function D8(t,e){const n=ot(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await mk(n.localStore,e);n.currentUser=e,(function(a,c){a.ka.forEach((d=>{d.forEach((u=>{u.reject(new Pe(pe.CANCELLED,c))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ku(n,r.hs)}}function M8(t,e){const n=ot(t),r=n.Na.get(e);if(r&&r.va)return wt().add(r.key);{let i=wt();const a=n.Ma.get(e);if(!a)return i;for(const c of a){const d=n.Fa.get(c);i=i.unionWith(d.view.Va)}return i}}function Pk(t){const e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ek.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I8.bind(null,e),e.Ca.d_=y8.bind(null,e.eventManager),e.Ca.$a=b8.bind(null,e.eventManager),e}function F8(t){const e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P8.bind(null,e),e}class Tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=df(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return zL(this.persistence,new OL,e.initialUser,this.serializer)}Ga(e){return new BL(Wy.Zr,this.serializer)}Wa(e){return new XL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tp.provider={build:()=>new Tp};class Gv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>L2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D8.bind(null,this.syncEngine),await g8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new v8})()}createDatastore(e){const n=df(e.databaseInfo.databaseId),r=(function(a){return new e8(a)})(e.databaseInfo);return(function(a,c,d,u){return new n8(a,c,d,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,c,d){return new i8(r,i,a,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>L2(this.syncEngine,n,0)),(function(){return E2.D()?new E2:new YL})())}createSyncEngine(e,n){return(function(i,a,c,d,u,h,p){const g=new S8(i,a,c,d,u,h);return p&&(g.Qa=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=ot(i);Ue("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await qu(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gv.provider={build:()=>new Gv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ca("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xn.UNAUTHENTICATED,this.clientId=DN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{Ue("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ue("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _x(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await mk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function M2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $8(t);Ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>A2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>A2(e.remoteStore,i))),t._onlineComponents=e}async function $8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await _x(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;_c("Error using user provided cache. Falling back to memory cache: "+n),await _x(t,new Tp)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),await _x(t,new Tp);return t._offlineComponents}async function Dk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),await M2(t,t._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),await M2(t,new Gv))),t._onlineComponents}function V8(t){return Dk(t).then((e=>e.syncEngine))}async function Mk(t){const e=await Dk(t),n=e.eventManager;return n.onListen=N8.bind(null,e.syncEngine),n.onUnlisten=T8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=k8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=E8.bind(null,e.syncEngine),n}function O8(t,e,n={}){const r=new ia;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,u,h){const p=new Lk({next:v=>{p.Za(),c.enqueueAndForget((()=>Sk(a,g)));const b=v.docs.has(d);!b&&v.fromCache?h.reject(new Pe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&u&&u.source==="server"?h.reject(new Pe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new Nk(By(d.path),p,{includeMetadataChanges:!0,_a:!0});return jk(a,g)})(await Mk(t),t.asyncQueue,e,n,r))),r.promise}function U8(t,e,n={}){const r=new ia;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,u,h){const p=new Lk({next:v=>{p.Za(),c.enqueueAndForget((()=>Sk(a,g))),v.fromCache&&u.source==="server"?h.reject(new Pe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new Nk(d,p,{includeMetadataChanges:!0,_a:!0});return jk(a,g)})(await Mk(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t,e,n){if(!n)throw new Pe(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z8(t,e,n,r){if(e===!0&&r===!0)throw new Pe(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B2(t){if(!qe.isDocumentKey(t))throw new Pe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $2(t){if(qe.isDocumentKey(t))throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt()}function ua(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(t);throw new Pe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function H8(t,e){if(e<=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Pe(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V2(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new aP;switch(r.type){case"firstParty":return new dP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=F2.get(n);r&&(Ue("ComponentProvider","Removing Datastore"),F2.delete(n),r.terminate())})(this),Promise.resolve()}}function G8(t,e,n,r={}){var i;const a=(t=ua(t,Qu))._getSettings(),c=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&_c("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),r.mockUserToken){let d,u;if(typeof r.mockUserToken=="string")d=r.mockUserToken,u=xn.MOCK_USER;else{d=OI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Pe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new xn(h)}t._authCredentials=new oP(new LN(d,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oi(this.firestore,e,this._query)}}class Xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class Ya extends oi{constructor(e,n,r){super(e,n,By(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new qe(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function Xu(t,e,...n){if(t=ri(t),s0("collection","path",e),t instanceof Qu){const r=Vt.fromString(e,...n);return $2(r),new Ya(t,null,r)}{if(!(t instanceof Xn||t instanceof Ya))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return $2(r),new Ya(t.firestore,null,r)}}function pf(t,e){if(t=ua(t,Qu),s0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oi(t,null,(function(r){return new pa(Vt.emptyPath(),r)})(e))}function fs(t,e,...n){if(t=ri(t),arguments.length===1&&(e=DN.newId()),s0("doc","path",e),t instanceof Qu){const r=Vt.fromString(e,...n);return B2(r),new Xn(t,null,new qe(r))}{if(!(t instanceof Xn||t instanceof Ya))throw new Pe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return B2(r),new Xn(t.firestore,t instanceof Ya?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new fk(this,"async_queue_retry"),this.Vu=()=>{const r=bx();r&&Ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new ia;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hu(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw ca("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Jy.createAndSchedule(this,e,n,r,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&tt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Yu extends Qu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new O2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O2(e),this._firestoreClient=void 0,await e}}}function W8(t,e){const n=typeof t=="object"?t:NN(),r=typeof t=="string"?t:"(default)",i=WR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=$I("firestore");a&&G8(i,...a)}return i}function ff(t){if(t._terminated)throw new Pe(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||q8(t),t._firestoreClient}function q8(t){var e,n,r;const i=t._freezeSettings(),a=(function(d,u,h,p){return new jP(d,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Fk(p.experimentalLongPollingOptions),p.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new B8(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(d){const u=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Tc(cn.fromBase64String(e))}catch(n){throw new Pe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Tc(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=/^__.*__$/;class Q8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gu(e,this.data,n,this.fieldTransforms)}}class Bk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new no(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $k(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class i0{constructor(e,n,r,i,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new i0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ep(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($k(this.Cu)&&K8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class X8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||df(e)}Qu(e,n,r,i=!1){return new i0({Cu:e,methodName:n,qu:r,path:rn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vf(t){const e=t._freezeSettings(),n=df(t._databaseId);return new X8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Vk(t,e,n,r,i,a={}){const c=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);o0("Data must be an object, but it was:",c,r);const d=Uk(r,c);let u,h;if(a.merge)u=new dr(c.fieldMask),h=c.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const v=Wv(e,g,n);if(!c.contains(v))throw new Pe(pe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);Hk(p,v)||p.push(v)}u=new dr(p),h=c.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=c.fieldTransforms;return new Q8(new Qn(d),u,h)}class yf extends xf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yf}}class a0 extends xf{_toFieldTransform(e){return new KP(e.path,new Au)}isEqual(e){return e instanceof a0}}function Y8(t,e,n,r){const i=t.Qu(1,e,n);o0("Data must be an object, but it was:",i,r);const a=[],c=Qn.empty();dl(r,((u,h)=>{const p=l0(e,u,n);h=ri(h);const g=i.Nu(p);if(h instanceof yf)a.push(p);else{const v=Ju(h,g);v!=null&&(a.push(p),c.set(p,v))}}));const d=new dr(a);return new Bk(c,d,i.fieldTransforms)}function J8(t,e,n,r,i,a){const c=t.Qu(1,e,n),d=[Wv(e,r,n)],u=[i];if(a.length%2!=0)throw new Pe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)d.push(Wv(e,a[v])),u.push(a[v+1]);const h=[],p=Qn.empty();for(let v=d.length-1;v>=0;--v)if(!Hk(h,d[v])){const b=d[v];let j=u[v];j=ri(j);const I=c.Nu(b);if(j instanceof yf)h.push(b);else{const A=Ju(j,I);A!=null&&(h.push(b),p.set(b,A))}}const g=new dr(h);return new Bk(p,g,c.fieldTransforms)}function Ok(t,e,n,r=!1){return Ju(n,t.Qu(r?4:3,e))}function Ju(t,e){if(zk(t=ri(t)))return o0("Unsupported field value:",e,t),Uk(t,e);if(t instanceof xf)return(function(r,i){if(!$k(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const a=[];let c=0;for(const d of r){let u=Ju(d,i.Lu(c));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=ri(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gs.fromDate(r);return{timestampValue:kp(i.serializer,a)}}if(r instanceof gs){const a=new gs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kp(i.serializer,a)}}if(r instanceof n0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Tc)return{bytesValue:ak(i.serializer,r._byteString)};if(r instanceof Xn){const a=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw i.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Hy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof r0)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((u=>{if(typeof u!="number")throw d.Bu("VectorValues must only contain numeric values.");return Vy(d.serializer,u)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${mf(r)}`)})(t,e)}function Uk(t,e){const n={};return MN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dl(t,((r,i)=>{const a=Ju(i,e.Mu(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function zk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gs||t instanceof n0||t instanceof Tc||t instanceof Xn||t instanceof xf||t instanceof r0)}function o0(t,e,n){if(!zk(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=mf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Wv(t,e,n){if((e=ri(e))instanceof gf)return e._internalPath;if(typeof e=="string")return l0(t,e);throw Ep("Field path arguments must be of type string or ",t,!1,void 0,n)}const Z8=new RegExp("[~\\*/\\[\\]]");function l0(t,e,n){if(e.search(Z8)>=0)throw Ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gf(...e.split("."))._internalPath}catch(r){throw Ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ep(t,e,n,r,i){const a=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let u="";return(a||c)&&(u+=" (found",a&&(u+=` in field ${r}`),c&&(u+=` in document ${i}`),u+=")"),new Pe(pe.INVALID_ARGUMENT,d+t+u)}function Hk(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eD extends c0{data(){return super.data()}}function bf(t,e){return typeof e=="string"?l0(t,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d0{}class Zu extends d0{}function Rn(t,e,...n){let r=[];e instanceof d0&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((u=>u instanceof u0)).length,d=a.filter((u=>u instanceof _f)).length;if(c>1||c>0&&d>0)throw new Pe(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class _f extends Zu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _f(e,n,r)}_apply(e){const n=this._parse(e);return Wk(e._query,n),new oi(e.firestore,e.converter,Fv(e._query,n))}_parse(e){const n=vf(e.firestore);return(function(a,c,d,u,h,p,g){let v;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){z2(g,p);const b=[];for(const j of g)b.push(U2(u,a,j));v={arrayValue:{values:b}}}else v=U2(u,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||z2(g,p),v=Ok(d,c,g,p==="in"||p==="not-in");return Es.create(h,p,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Yo(t,e,n){const r=e,i=bf("where",t);return _f._create(i,r,n)}class u0 extends d0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new u0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let c=i;const d=a.getFlattenedFilters();for(const u of d)Wk(c,u),c=Fv(c,u)})(e._query,n),new oi(e.firestore,e.converter,Fv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class h0 extends Zu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new h0(e,n)}_apply(e){const n=(function(i,a,c){if(i.startAt!==null)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(a,c)})(e._query,this._field,this._direction);return new oi(e.firestore,e.converter,(function(i,a){const c=i.explicitOrderBy.concat([a]);return new pa(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Wa(t,e="asc"){const n=e,r=bf("orderBy",t);return h0._create(r,n)}class m0 extends Zu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new m0(e,n,r)}_apply(e){return new oi(e.firestore,e.converter,Sp(e._query,this._limit,this._limitType))}}function Pn(t){return H8("limit",t),m0._create("limit",t,"F")}class p0 extends Zu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new p0(e,n,r)}_apply(e){const n=Gk(e,this.type,this._docOrFields,this._inclusive);return new oi(e.firestore,e.converter,(function(i,a){return new pa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function Wo(...t){return p0._create("startAt",t,!0)}class f0 extends Zu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new f0(e,n,r)}_apply(e){const n=Gk(e,this.type,this._docOrFields,this._inclusive);return new oi(e.firestore,e.converter,(function(i,a){return new pa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function qo(...t){return f0._create("endAt",t,!0)}function Gk(t,e,n,r){if(n[0]=ri(n[0]),n[0]instanceof c0)return(function(a,c,d,u,h){if(!u)throw new Pe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const p=[];for(const g of xc(a))if(g.field.isKeyField())p.push(jp(c,u.key));else{const v=u.data.field(g.field);if(nf(v))throw new Pe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=g.field.canonicalString();throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(v)}return new Nc(p,h)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=vf(t.firestore);return(function(c,d,u,h,p,g){const v=c.explicitOrderBy;if(p.length>v.length)throw new Pe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let j=0;j<p.length;j++){const I=p[j];if(v[j].field.isKeyField()){if(typeof I!="string")throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof I}`);if(!$y(c)&&I.indexOf("/")!==-1)throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${I}' contains a slash.`);const A=c.path.child(Vt.fromString(I));if(!qe.isDocumentKey(A))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const B=new qe(A);b.push(jp(d,B))}else{const A=Ok(u,h,I);b.push(A)}}return new Nc(b,g)})(t._query,t.firestore._databaseId,i,e,n,r)}}function U2(t,e,n){if(typeof(n=ri(n))=="string"){if(n==="")throw new Pe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$y(e)&&n.indexOf("/")!==-1)throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Vt.fromString(n));if(!qe.isDocumentKey(r))throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jp(t,new qe(r))}if(n instanceof Xn)return jp(t,n._key);throw new Pe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function z2(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wk(t,e){const n=(function(i,a){for(const c of i)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Pe(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sD{convertValue(e,n="none"){switch(sl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _s(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dl(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((c=>_s(c.doubleValue)));return new r0(a)}convertGeoPoint(e){return new n0(_s(e.latitude),_s(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ly(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const n=Za(e);return new gs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);Dt(hk(r));const i=new Cu(r.get(1),r.get(3)),a=new qe(r.popFirst(5));return i.isEqual(n)||ca(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kk extends c0{constructor(e,n,r,i,a,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ip extends Kk{data(e={}){return super.data(e)}}class nD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ip(this._firestore,this._userDataWriter,r.key,r,new Xd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const u=new ip(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Xd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:u,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const u=new ip(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Xd(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return d.type!==0&&(h=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),p=c.indexOf(d.doc.key)),{type:rD(d.type),doc:u,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){t=ua(t,Xn);const e=ua(t.firestore,Yu);return O8(ff(e),t._key).then((n=>iD(e,t,n)))}class Qk extends sD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Tc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function an(t){t=ua(t,oi);const e=ua(t.firestore,Yu),n=ff(e),r=new Qk(e);return tD(t._query),U8(n,t._query).then((i=>new nD(e,r,t,i)))}function Ap(t,e,n){t=ua(t,Xn);const r=ua(t.firestore,Yu),i=qk(t.converter,e,n);return Xk(r,[Vk(vf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pr.none())])}function Xk(t,e){return(function(r,i){const a=new ia;return r.asyncQueue.enqueueAndForget((async()=>A8(await V8(r),i,a))),a.promise})(ff(t),e)}function iD(t,e,n){const r=n.docs.get(e._key),i=new Qk(t);return new Kk(t,i,e._key,r,new Xd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vf(e)}set(e,n,r){this._verifyNotCommitted();const i=wx(e,this._firestore),a=qk(i.converter,n,r),c=Vk(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,Pr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=wx(e,this._firestore);let c;return c=typeof(n=ri(n))=="string"||n instanceof gf?J8(this._dataReader,"WriteBatch.update",a._key,n,r,i):Y8(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(c.toMutation(a._key,Pr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=wx(e,this._firestore);return this._mutations=this._mutations.concat(new Oy(n._key,Pr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wx(t,e){if((t=ri(t)).firestore!==e)throw new Pe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ta(){return new a0("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){return ff(t=ua(t,Yu)),new aD(t,(e=>Xk(t,e)))}(function(e,n=!0){(function(i){$c=i})(QR),_p(new wu("firestore",((r,{instanceIdentifier:i,options:a})=>{const c=r.getProvider("app").getImmediate(),d=new Yu(new lP(r.getProvider("auth-internal")),new hP(r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(h.options.projectId,p)})(c,i),c);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),gc(a2,"4.7.3",e),gc(a2,"4.7.3","esm2017")})();var lD="firebase",cD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gc(lD,cD,"app");const Yk={apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};Yk.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const dD=XR().length?NN():SN(Yk),Pt=W8(dD),Zr={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},ei=t=>`https://drive.google.com/uc?export=view&id=${t}`,Jk=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Ls=[{key:"warrior",label:"Warrior",iconUrl:ei(Zr.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:ei(Zr.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:ei(Zr.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:ei(Zr.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:ei(Zr["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:ei(Zr.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:ei(Zr["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:ei(Zr.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:ei(Zr.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:ei(Zr.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:ei(Zr.paladin),fallback:""}],qv=Object.fromEntries(Ls.map(t=>[t.key,t])),Kv=new Map;function ds(t,e){Kv.set(Jk(t),e)}for(const t of Ls)ds(t.key,t.key),ds(t.label,t.key);ds("war","warrior");ds("krieger","warrior");ds("magier","mage");ds("jaeger","scout");ds("jger","scout");ds("assa","assassin");ds("meuchelmoerder","assassin");ds("meuchelmrder","assassin");ds("demonhunter","demon-hunter");ds("dh","demon-hunter");ds("daemonenjaeger","demon-hunter");ds("dmonenjger","demon-hunter");ds("zerker","berserker");ds("battlemage","battle-mage");ds("kampfmagier","battle-mage");ds("bm","battle-mage");ds("druide","druid");ds("barde","bard");ds("necro","necromancer");ds("nekromant","necromancer");ds("pala","paladin");function uD(t){const e=Jk(t);if(!e)return{};const n=Kv.get(e);if(n){const r=qv[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of Kv.entries())if(r.startsWith(e)||e.startsWith(r)){const a=qv[i];return{url:a.iconUrl,fallback:a.fallback}}return{}}const hD=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Ls,CLASS_BY_KEY:qv,iconForClassName:uD},Symbol.toStringTag,{value:"Module"}));function wf(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const n=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function ap(t){if(t==null)return;const e=wf(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function Zk(t,e=64){if(t==null)return;const n=wf(t);if(!n)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function e5(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function t5(t,e,n,r){const i=ap(t);return i?e5(i,{w:e,h:n,fit:r}):void 0}function Mr(t,e=64){const n=Zk(t,e);return n?e5(n,{w:e,h:e,fit:"contain"}):void 0}function jx(t){if(t==null)return;const e=wf(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function mD(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const nl=Object.assign(t=>ap(t),{id:wf,direct:ap,thumb:Zk,proxy:t5,thumbProxy:Mr,raw:jx,gif:jx,gifProxy:t=>{const e=jx(t);return e&&/^https?:\/\//i.test(e)?mD(e):ap(t)}}),Sx=t=>Number.isFinite(t),ec=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},pD=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function fD(t,e=64){if(!t)return;const n=a=>a.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let i=Ls.find(a=>n(a.label)===r);if(i||(i=Ls.find(a=>n(a.label).startsWith(r)||r.startsWith(n(a.label)))),!!i)return Mr(i.iconUrl,e)}function gD(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function xD({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:n}){const r=Dr(),[i,a]=J.useState(""),[c,d]=J.useState(""),[u,h]=J.useState(!1),[p,g]=J.useState(null),[v,b]=J.useState([]),[j,I]=J.useState([]),[A,B]=J.useState([]),[D,T]=J.useState(-1),y=J.useRef(null);J.useEffect(()=>{const w=setTimeout(()=>d(i.trim()),200);return()=>clearTimeout(w)},[i]),J.useEffect(()=>{async function w(){g(null);const E=c;if(E.length<1){b([]),I([]),B([]),T(-1);return}h(!0);try{let L=function(Te){var De,Ae,nt,ht,ns,Gs,Ws,Dn,qs,Ds,Ms,Mn,bn,_n,us,Yt,Wt,Mt,li,Jn,fr,gr,ci,Ii,di,Fr,qt,xr,Ri,Pi,wn,Zn,Li,er;const xe=Te.data(),{root:Ce,id:Ne}=gD(Te),ue=Ne||xe.playerId||xe.guildIdentifier||"";if(Ce==="players"||xe.playerId&&!xe.guildIdentifier){if(!ue||H.has(ue))return;H.add(ue),Q.push({kind:"player",id:ue,name:(nt=(Ae=xe.name)!=null?Ae:(De=xe.values)==null?void 0:De.Name)!=null?nt:null,nameFold:(ht=xe.nameFold)!=null?ht:null,server:(Ws=(Gs=xe.server)!=null?Gs:(ns=xe.values)==null?void 0:ns.Server)!=null?Ws:null,guildName:(Ds=(qs=xe.guildName)!=null?qs:(Dn=xe.values)==null?void 0:Dn.Guild)!=null?Ds:null,className:(bn=(Mn=xe.className)!=null?Mn:(Ms=xe.values)==null?void 0:Ms.Class)!=null?bn:null,level:ec((us=xe.level)!=null?us:(_n=xe.values)==null?void 0:_n.Level),ts:ec(xe.timestamp)});return}if(Ce==="guilds"||xe.guildIdentifier&&!xe.playerId){if(!ue||q.has(ue))return;q.add(ue),G.push({kind:"guild",id:ue,name:(Mt=(Wt=xe.name)!=null?Wt:(Yt=xe.values)==null?void 0:Yt.Name)!=null?Mt:null,nameFold:(li=xe.nameFold)!=null?li:null,server:(gr=(fr=xe.server)!=null?fr:(Jn=xe.values)==null?void 0:Jn.Server)!=null?gr:null,memberCount:ec((Fr=(Ii=xe.memberCount)!=null?Ii:(ci=xe.values)==null?void 0:ci["Guild Member Count"])!=null?Fr:(di=xe.values)==null?void 0:di.GuildMemberCount),hofRank:ec((er=(Zn=(Pi=(xr=xe.hofRank)!=null?xr:(qt=xe.values)==null?void 0:qt["Hall of Fame Rank"])!=null?Pi:(Ri=xe.values)==null?void 0:Ri.HoF)!=null?Zn:(wn=xe.values)==null?void 0:wn.Rank)!=null?er:(Li=xe.values)==null?void 0:Li["Guild Rank"]),ts:ec(xe.timestamp)});return}};const P=pD(E),V=pf(Pt,"latest"),$=await an(Rn(V,Wa("nameFold"),Wo(P),qo(P+""),Pn(e*6))),W=await an(Rn(V,Yo("nameNgrams","array-contains",P),Pn(e*6))),H=new Set,q=new Set,Q=[],G=[];$.forEach(L),W.forEach(L);const te=Xu(Pt,"servers"),re=E.toLowerCase(),z=E.toUpperCase(),se=[an(Rn(te,Wa("displayName"),Wo(E),qo(E+""),Pn(e*4))),an(Rn(te,Wa("code"),Wo(z),qo(z+""),Pn(e*4))),an(Rn(te,Wa("host"),Wo(re),qo(re+""),Pn(e*4)))],ce=await Promise.allSettled(se),ee=new Set,fe=[];for(const Te of ce)Te.status==="fulfilled"&&Te.value.forEach(xe=>{var ue,De,Ae,nt,ht;const Ce=xe.data(),Ne=xe.id;!Ne||ee.has(Ne)||(ee.add(Ne),fe.push({kind:"server",id:Ne,displayName:(ue=Ce.displayName)!=null?ue:null,code:(De=Ce.code)!=null?De:null,host:(Ae=Ce.host)!=null?Ae:null,region:(nt=Ce.region)!=null?nt:null,type:(ht=Ce.type)!=null?ht:null,numericId:ec(Ce.numericId),active:typeof Ce.active=="boolean"?Ce.active:null}))});b(Q.slice(0,e)),I(G.slice(0,e)),B(fe.slice(0,e)),T(Q.length+G.length+fe.length?0:-1)}catch(L){g((L==null?void 0:L.message)||"Unbekannter Fehler bei der Suche."),b([]),I([]),B([]),T(-1)}finally{h(!1)}}return w(),()=>{}},[c,e]),J.useEffect(()=>{const w=E=>{y.current&&(y.current.contains(E.target)||(b([]),I([]),B([]),T(-1)))};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const S=[...v,...j,...A],M=w=>{w.kind==="player"?r(`/player/${encodeURIComponent(w.id)}`):w.kind==="guild"?r(`/guild/${encodeURIComponent(w.id)}`):r(`/server/${encodeURIComponent(w.id)}`),b([]),I([]),B([]),T(-1),a("")},C=w=>{if(S.length)if(w.key==="ArrowDown")w.preventDefault(),T(E=>(E+1)%S.length);else if(w.key==="ArrowUp")w.preventDefault(),T(E=>(E-1+S.length)%S.length);else if(w.key==="Enter"){w.preventDefault();const E=S[D>=0?D:0];E&&M(E)}else w.key==="Escape"&&(b([]),I([]),B([]),T(-1))};return s.jsxs("div",{ref:y,style:lt.wrap,children:[s.jsx("input",{style:lt.input,placeholder:t,value:i,onChange:w=>a(w.target.value),onKeyDown:C,"aria-label":"Spieler, Gilden und Server suchen"}),(u||p||v.length||j.length||A.length)&&s.jsxs("div",{style:lt.dropdown,children:[u&&s.jsx("div",{style:lt.hint,children:"Suche"}),p&&!u&&s.jsxs("div",{style:lt.err,children:[" ",p]}),!u&&!p&&(v.length>0||j.length>0||A.length>0)&&s.jsxs(s.Fragment,{children:[v.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:lt.sectionHdr,children:"Spieler"}),v.map((w,E)=>{var V,$,W,H;const L=E===D,P=(V=n==null?void 0:n(w.className,64))!=null?V:fD(w.className,64);return s.jsxs("button",{onClick:()=>M(w),style:L?lt.itemActive:lt.item,title:w.name||"",onMouseEnter:()=>T(E),children:[s.jsx("div",{style:lt.iconBoxPlain,children:P?s.jsx("img",{src:P,alt:"",style:lt.iconImgShadow,onError:q=>{const Q=q.currentTarget.parentElement;Q&&(Q.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):s.jsx("div",{style:lt.iconFallback,children:(w.className||" ? ").toString().slice(0,2)})}),s.jsxs("div",{style:lt.meta,children:[s.jsxs("div",{style:lt.line1,children:[s.jsx("span",{style:lt.name,children:($=w.name)!=null?$:"Unbekannt"}),Sx(w.level)&&s.jsxs("span",{style:lt.badge,children:["Lvl ",w.level]})]}),s.jsxs("div",{style:lt.line2,children:[w.guildName?s.jsxs("span",{children:["",w.guildName,""]}):s.jsx("span",{style:lt.muted,children:""}),s.jsx("span",{style:lt.sep,children:""}),s.jsx("span",{children:(W=w.className)!=null?W:"Klasse ?"}),s.jsx("span",{style:lt.sep,children:""}),s.jsx("span",{children:(H=w.server)!=null?H:"Server ?"})]})]})]},`p-${w.id}-${E}`)})]}),j.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:lt.sectionHdr,children:"Gilden"}),j.map((w,E)=>{var V,$;const L=v.length+E,P=L===D;return s.jsxs("button",{onClick:()=>M(w),style:P?lt.itemActive:lt.item,title:w.name||"",onMouseEnter:()=>T(L),children:[s.jsx("div",{style:lt.iconBox,children:""}),s.jsxs("div",{style:lt.meta,children:[s.jsxs("div",{style:lt.line1,children:[s.jsx("span",{style:lt.name,children:(V=w.name)!=null?V:"Unbekannt"}),Sx(w.hofRank)&&s.jsxs("span",{style:lt.badge,children:["HoF #",w.hofRank]})]}),s.jsxs("div",{style:lt.line2,children:[s.jsx("span",{children:($=w.server)!=null?$:"Server ?"}),s.jsx("span",{style:lt.sep,children:""}),s.jsx("span",{children:Sx(w.memberCount)?`${w.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${w.id}-${E}`)})]}),A.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:lt.sectionHdr,children:"Server"}),A.map((w,E)=>{var V,$,W,H,q,Q;const L=v.length+j.length+E,P=L===D;return s.jsxs("button",{onClick:()=>M(w),style:P?lt.itemActive:lt.item,title:w.displayName||w.code||w.host||"",onMouseEnter:()=>T(L),children:[s.jsx("div",{style:lt.iconBoxPlain,children:s.jsx("div",{style:lt.serverGlyph,children:""})}),s.jsxs("div",{style:lt.meta,children:[s.jsxs("div",{style:lt.line1,children:[s.jsx("span",{style:lt.name,children:(W=($=(V=w.displayName)!=null?V:w.code)!=null?$:w.host)!=null?W:w.id}),w.active!=null&&s.jsx("span",{style:lt.badge,children:w.active?"Aktiv":"Inaktiv"})]}),s.jsxs("div",{style:lt.line2,children:[s.jsx("span",{children:(H=w.code)!=null?H:""}),s.jsx("span",{style:lt.sep,children:""}),s.jsx("span",{children:(q=w.host)!=null?q:""}),s.jsx("span",{style:lt.sep,children:""}),s.jsx("span",{children:(Q=w.region)!=null?Q:""}),w.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:lt.sep,children:""}),s.jsx("span",{children:w.type.toUpperCase()})]}):null]})]})]},`s-${w.id}-${E}`)})]})]}),!u&&!p&&v.length===0&&j.length===0&&A.length===0&&c.length>=1&&s.jsx("div",{style:lt.hint,children:"Keine Treffer"})]})]})}const lt={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}},vD=[{id:"main.home",route:"/",area:"main",titleKey:"nav.home",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:5},{id:"main.dashboard",route:"/dashboard",area:"main",titleKey:"nav.dashboard",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:10},{id:"main.guildHub",route:"/guild-hub",area:"main",titleKey:"nav.guildHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:20},{id:"main.discover",route:"/discover",area:"main",titleKey:"nav.discover",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:30},{id:"main.toplists",route:"/toplists",area:"main",titleKey:"nav.toplists",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:40},{id:"main.guidehub",route:"/guidehub",area:"main",titleKey:"nav.guideHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:50},{id:"main.tools",route:"/tools",area:"main",titleKey:"nav.tools",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:55},{id:"main.community",route:"/community",area:"main",titleKey:"nav.community",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:60},{id:"main.scans",route:"/scans",area:"main",titleKey:"nav.scans",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:70},{id:"main.settings",route:"/settings",area:"main",titleKey:"nav.settings",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:80},{id:"main.admin",route:"/admin",area:"main",titleKey:"nav.admin",status:"active",minRole:"moderator",allowedRoles:["moderator","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:90},{id:"main.playground",route:"/playground",area:"main",titleKey:"nav.playground",status:"beta",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:100,isExperimental:!0}],H2=["guest","user","moderator","developer","admin"];function s5(t){const e=t.trim();if(!e)return"/";const n=e.startsWith("/")?e:`/${e}`;return n==="/"?n:n.replace(/\/+$/,"").toLowerCase()}function n5(t){if(typeof t!="string")return;const e=t.toLowerCase();if(e==="admin")return"admin";if(e==="developer"||e==="dev")return"developer";if(e==="moderator"||e==="mod")return"moderator";if(e==="user")return"user";if(e==="guest")return"guest"}function r5(t){if(!Array.isArray(t))return;const e=t.map(n=>n5(n)).filter(Boolean);return e.length?e:void 0}function i5(t){if(!Array.isArray(t))return;const e=t.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function a5(t){if(!Array.isArray(t))return;const e=t.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function g0(t){var e,n,r;return{...t,id:t.id.trim(),route:s5(t.route),area:t.area.trim(),allowedRoles:(e=r5(t.allowedRoles))!=null?e:t.allowedRoles,allowedGroups:(n=i5(t.allowedGroups))!=null?n:t.allowedGroups,allowedUserIds:(r=a5(t.allowedUserIds))!=null?r:t.allowedUserIds}}function yD(t,e){if(!e||typeof e!="object")return null;const n=e,r=typeof n.route=="string"?n.route:"",i=typeof n.area=="string"?n.area:"",a=typeof n.id=="string"&&n.id.trim()||t||(r?`feature:${r}`:"");if(!r||!a||!i)return null;const c={id:a,route:r,area:i,titleKey:typeof n.titleKey=="string"?n.titleKey:void 0,status:typeof n.status=="string"?n.status:void 0,minRole:n5(n.minRole),allowedRoles:r5(n.allowedRoles),allowedGroups:i5(n.allowedGroups),allowedUserIds:a5(n.allowedUserIds),showInTopbar:typeof n.showInTopbar=="boolean"?n.showInTopbar:void 0,showInSidebar:typeof n.showInSidebar=="boolean"?n.showInSidebar:void 0,navOrder:typeof n.navOrder=="number"?n.navOrder:void 0,isExperimental:typeof n.isExperimental=="boolean"?n.isExperimental:void 0,description:typeof n.description=="string"?n.description:void 0};return g0(c)}function bD(t){const e={},n={};return t.forEach(r=>{const i=g0(r);e[i.id]=i,n[i.route]=i}),{byId:e,byRoute:n}}const aa=bD(vD),_D={...aa,loading:!1,error:null};function wD(t,e){const n={...t!=null?t:{}};return Object.entries(e).forEach(([i,a])=>{if(a!==void 0){const c=i;n[c]=a}}),n}function jD(t){const e={...aa.byId},n={...aa.byRoute};return t.forEach(r=>{const i=g0(r),a=e[i.id],c=wD(a,i);e[c.id]=c,n[c.route]=c}),{byId:e,byRoute:n}}const o5=J.createContext(_D),SD=({children:t})=>{const[e,n]=J.useState({...aa,loading:!0,error:null});J.useEffect(()=>{let i=!0;return(async()=>{try{const c=await an(Xu(Pt,"feature_access")),d=[];c.forEach(h=>{const p=yD(h.id,h.data());p&&d.push(p)});const u=jD(d);i&&n({...u,loading:!1,error:null})}catch(c){const d=c,u=d==null?void 0:d.code,h=u==="permission-denied"||u==="failed-precondition";typeof window!="undefined"&&window.location.hostname==="localhost"&&console.warn(`[FeatureAccess] Firestore feature_access ${h?"not readable":"load failed"}. Falling back to defaults.`,c),i&&n(g=>({...g,loading:!1,error:c instanceof Error?c.message:"Failed to load feature access rules"}))}})(),()=>{i=!1}},[]);const r=J.useMemo(()=>e,[e]);return s.jsx(o5.Provider,{value:r,children:t})};function ND(){return J.useContext(o5)}function kD(t,e){var i,a,c;if(!t)return;const n=e!=null?e:aa,r=s5(t);return(c=(a=(i=n.byId[t])!=null?i:n.byRoute[r])!=null?a:aa.byId[t])!=null?c:aa.byRoute[r]}function CD(t){return!t||t.length===0?"user":t.includes("admin")?"admin":t.includes("dev")||t.includes("developer")?"developer":t.includes("mod")||t.includes("moderator")?"moderator":"user"}function TD(t,e,n,r,i){if(n)return!0;const a=e!=null?e:"user";if(t.status==="hidden"||t.status==="dev_only"&&a!=="developer"&&a!=="admin"||t.allowedUserIds&&t.allowedUserIds.length>0&&(!r||!t.allowedUserIds.includes(r))||t.allowedGroups&&t.allowedGroups.length>0&&!(i!=null?i:[]).some(d=>t.allowedGroups.includes(d)))return!1;if(t.allowedRoles&&t.allowedRoles.length>0)return!!a&&t.allowedRoles.includes(a);if(t.minRole){const c=H2.indexOf(a),d=H2.indexOf(t.minRole);return c>=d&&c!==-1}return!0}function x0(){var I;let t=null;try{t=cl().user}catch(A){console.warn("[FeatureAccess] useFeatureAccess used outside AuthProvider; continuing with user-level access.")}const{byId:e,byRoute:n,loading:r,error:i}=ND(),a=J.useMemo(()=>({byId:e!=null?e:aa.byId,byRoute:n!=null?n:aa.byRoute}),[e,n]),c=J.useMemo(()=>CD(t==null?void 0:t.roles),[t==null?void 0:t.roles]),d=J.useMemo(()=>{var A;return!!((A=t==null?void 0:t.roles)!=null&&A.includes("admin"))},[t==null?void 0:t.roles]),u=J.useMemo(()=>{var A;return(A=t==null?void 0:t.accessGroups)!=null?A:[]},[t==null?void 0:t.accessGroups]),h=(I=t==null?void 0:t.id)!=null?I:null,p=J.useCallback(A=>kD(A,a),[a]),g=J.useCallback(A=>A?TD(A,c,d,h,u):!0,[d,u,h,c]),v=J.useCallback(A=>{if(!A)return!0;const B=p(A);return g(B)},[g,p]),b=J.useCallback(A=>{if(!A)return!0;const B=p(A);return B?B.status==="hidden"||B.showInSidebar===!1?!1:g(B):!0},[g,p]),j=J.useCallback(A=>{if(!A)return!0;const B=p(A);return B?B.status==="hidden"||B.showInTopbar===!1?!1:g(B):!0},[g,p]);return{loading:r,error:i,rulesById:e,rulesByRoute:n,storeRules:a,resolveRule:p,canAccessRule:g,canAccessFeature:v,isVisibleInSidebar:b,isVisibleInTopbar:j}}const ED=[{to:"/",label:"Home",featureId:"main.home"},{to:"/dashboard",label:"Dashboard",featureId:"main.dashboard"},{to:"/guild-hub",label:"Guild Hub",featureId:"main.guildHub"},{to:"/community",label:"Community",featureId:"main.community"},{to:"/tools",label:"Tools",featureId:"main.tools"}];function AD(t){var d,u,h;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),a=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,hD];for(const p of c){if(!p)continue;const g=(h=(u=(d=p[n])!=null?d:p[r])!=null?u:p[i])!=null?h:p[a];if(typeof g=="string")return g}}function ID({user:t}){const{open:e,canUse:n}=gN(),{isVisibleInTopbar:r}=x0(),i=J.useMemo(()=>ED.filter(c=>!c.featureId||r(c.featureId)),[r]),a=()=>{e({tab:"json"})};return s.jsxs("header",{className:mt.topbar,children:[s.jsxs("div",{className:mt.topbarLeft,children:[s.jsx("button",{className:mt.btnIco,"aria-label":"Benachrichtigungen",children:s.jsx(RA,{className:mt.ico})}),s.jsx("button",{className:mt.btnIco,"aria-label":"Favoriten",children:s.jsx(B6,{className:mt.ico})}),i.length>0?s.jsx("nav",{className:mt.topbarNav,"aria-label":"Schnellzugriff",children:i.map(c=>s.jsx(os,{to:c.to,className:({isActive:d})=>`${mt.pill} ${mt.topbarLink} ${d?mt.pillActive:""}`,children:c.label},c.to))}):null]}),s.jsx("div",{className:mt.searchWrap,children:s.jsx(xD,{placeholder:"Suchen (Spieler)",getClassIcon:AD,maxPerSection:10})}),s.jsxs("div",{className:mt.topbarRight,children:[s.jsxs("a",{className:`${mt.pill} ${mt.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[s.jsx(i6,{className:mt.ico}),"www.sfgame.net"]}),s.jsxs("button",{className:mt.upload,"aria-label":"Scan hochladen",onClick:a,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[s.jsx(G6,{className:mt.ico}),s.jsx("span",{className:mt.label,children:"Scan hochladen"})]}),s.jsx(TI,{fallbackName:t==null?void 0:t.name})]})]})}const RD="_root_11g8l_3",PD="_expanded_11g8l_45",LD="_headRow_11g8l_55",DD="_headTitle_11g8l_63",MD="_headDot_11g8l_65",FD="_headLabel_11g8l_67",BD="_pinBtn_11g8l_69",$D="_navScroll_11g8l_81",VD="_pad_11g8l_83",OD="_segCard_11g8l_89",UD="_segTitle_11g8l_121",zD="_navCol_11g8l_139",HD="_navItemWrap_11g8l_141",GD="_navBtn_11g8l_147",WD="_navBtnActive_11g8l_171",qD="_label_11g8l_175",KD="_trailing_11g8l_205",QD="_isOpen_11g8l_253",XD="_footer_11g8l_279",YD="_login_11g8l_281",JD="_userMeta_11g8l_303",ZD="_legal_11g8l_317",e9="_labelText_11g8l_341",t9="_char_11g8l_351",s9="_mainNavCard_11g8l_419",Et={root:RD,expanded:PD,headRow:LD,headTitle:DD,headDot:MD,headLabel:FD,pinBtn:BD,navScroll:$D,pad:VD,segCard:OD,segTitle:UD,navCol:zD,navItemWrap:HD,navBtn:GD,navBtnActive:WD,label:qD,trailing:KD,isOpen:QD,footer:XD,login:YD,userMeta:JD,legal:ZD,labelText:e9,char:t9,mainNavCard:s9},n9="_panel_90cjk_1",r9="_open_90cjk_31",i9="_col_90cjk_43",Nx={panel:n9,open:r9,col:i9};function a9(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function o9({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:a}){const[c,d]=J.useState({left:0,top:0});return J.useEffect(()=>{if(!e||!t)return;const u=()=>d(a9(t));u();const h=new ResizeObserver(u);return h.observe(document.documentElement),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u),()=>{h.disconnect(),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(u=>u.label)),bA.createPortal(s.jsx("div",{className:`${Nx.panel} ${e?Nx.open:""}`,style:{left:c.left,top:c.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:a,role:"menu",children:s.jsx("div",{className:Nx.col,children:n.map(u=>r(u))})}),document.body))}const l9=[{to:"/",label:"Home",icon:s.jsx(l6,{className:"ico"}),end:!0,featureId:"main.home"},{to:"/dashboard",label:"Dashboard",icon:s.jsx(h6,{className:"ico"}),featureId:"main.dashboard"},{to:"/guild-hub",label:"Guild Hub",icon:s.jsx(ol,{className:"ico"}),featureId:"main.guildHub"},{to:"/admin",label:"Admin",icon:s.jsx(I6,{className:"ico"}),featureId:"main.admin"},{to:"/playground",label:"Playground",icon:s.jsx(Zp,{className:"ico"}),featureId:"main.playground"}],c9=[{to:"/discover",label:"Discover",icon:s.jsx(XA,{className:"ico"}),featureId:"main.discover"},{to:"/toplists",label:"Toplists",icon:s.jsx(z6,{className:"ico"}),featureId:"main.toplists"},{to:"/guidehub",label:"Guide Hub",icon:s.jsx(LA,{className:"ico"}),featureId:"main.guidehub"},{to:"/tools",label:"Tools",icon:s.jsx(K6,{className:"ico"}),i18nKey:"nav.tools",featureId:"main.tools"},{to:"/community",label:"Community",icon:s.jsx(f6,{className:"ico"}),featureId:"main.community"},{to:"/scans",label:"Scans",icon:s.jsx(n6,{className:"ico"}),featureId:"main.scans"},{to:"/settings",label:"Settings",icon:s.jsx(C6,{className:"ico"}),featureId:"main.settings"}],d9={"/guild-hub":[{to:"/guild-hub",label:"Overview"},{to:"/guild-hub/planner",label:"Guild Planner"},{to:"/guild-hub/fusion-planner",label:"Fusion Planner"},{to:"/guild-hub/compare-guilds",label:"Gildenvergleich"},{to:"/guild-hub/waitlist",label:"Waitlist"},{to:"/guild-hub/settings",label:"Settings"}],"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"},{to:"/admin/users",label:"Users",minRole:"mod"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]};function u9(t,e){return e?e==="admin"?t.includes("admin"):t.includes("admin")||t.includes("mod"):!0}function h9(t,e){return t?t.filter(n=>u9(e,n.minRole)):[]}const m9=220;function p9(t=m9){const[e,n]=J.useState(!1),r=J.useRef(null),i=J.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),a=J.useCallback(()=>{i(),n(!0)},[i]),c=J.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),t)},[i,t]);return J.useEffect(()=>()=>i(),[i]),{open:e,onEnter:a,onLeave:c,setOpen:n}}function v0({text:t,isOpen:e,duration:n=1,step:r=45}){const i=J.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:Et.label,children:s.jsx("span",{className:Et.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((a,c)=>s.jsx("span",{className:Et.char,style:{"--i":c},"aria-hidden":"true",children:a===" "?"":a},`${t}-${c}`))})})}function f9({it:t,label:e,collapsed:n,allowSubmenus:r,subItems:i}){const a=i.length>0,{open:c,onEnter:d,onLeave:u,setOpen:h}=p9(),p=J.useRef(null),g=J.useCallback(()=>{if(!r||!a){h(!1);return}d()},[r,a,d,h]);return s.jsxs("div",{ref:p,className:`${Et.navItemWrap} ${c?Et.isOpen:""}`,onMouseEnter:g,onMouseLeave:u,children:[s.jsxs(os,{to:t.to,end:!!t.end,className:({isActive:v})=>`${Et.navBtn} ${v?Et.navBtnActive:""}`,children:[t.icon,s.jsx(v0,{text:e,isOpen:!n}),a&&!n&&s.jsx("span",{className:Et.trailing,"aria-hidden":"true",children:s.jsx(BA,{className:"ico"})})]}),a&&s.jsx(o9,{anchorEl:p.current,open:c,items:i.map(({to:v,label:b})=>({to:v,label:b})),renderLink:v=>s.jsx(os,{to:v.to,className:({isActive:b})=>`link ${b?"linkActive":""}`,children:v.label},v.to),onMouseEnter:d,onMouseLeave:u})]})}function G2({title:t,items:e,collapsed:n,allowSubmenus:r,userRoles:i,translate:a,isItemVisible:c}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${Et.navTitle} ${Et.segTitle}`,children:t}),s.jsx("div",{className:Et.navCol,children:e.map(d=>{if(!c(d))return null;const u=h9(d9[d.to],i),h=d.i18nKey?a(d.i18nKey):d.label;return u.length?s.jsx(f9,{it:d,label:h,collapsed:n,allowSubmenus:r,subItems:u},d.to):s.jsxs(os,{to:d.to,end:!!d.end,className:({isActive:p})=>`${Et.navBtn} ${p?Et.navBtnActive:""}`,children:[d.icon,s.jsx(v0,{text:h,isOpen:!n})]},d.to)})})]})}const g9=90,x9=180;function v9({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0}){var w;const a=J.useRef(null),c=J.useRef(null),[d,u]=J.useState(!1),h=J.useCallback(()=>{a.current&&(window.clearTimeout(a.current),a.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),p=J.useCallback(()=>{!i||n||(h(),u(!1),a.current=window.setTimeout(()=>e(!0),g9))},[i,n,h,e]),g=J.useCallback(()=>{!i||n||(h(),c.current=window.setTimeout(()=>{e(!1),u(!1)},x9))},[i,n,h,e]);J.useEffect(()=>()=>h(),[h]),J.useEffect(()=>{n&&u(!0)},[n]);const v=E=>{E.propertyName==="width"&&t&&!n&&u(!0)};J.useEffect(()=>{if(t&&!n){const E=window.setTimeout(()=>u(!0),250);return()=>window.clearTimeout(E)}},[t,n]);const b=!t,j=n||t&&d,I=Dr(),{t:A}=WS(),{status:B,user:D,logout:T}=cl(),y=B==="authenticated",S=(w=D==null?void 0:D.roles)!=null?w:[],{isVisibleInSidebar:M}=x0(),C=()=>{y?T():I("/login")};return s.jsxs("aside",{id:"sidebar-root",className:`${Et.root} ${t?Et.expanded:""}`,"data-collapsed":b?"true":"false",onMouseEnter:p,onMouseLeave:g,onTransitionEnd:v,"aria-label":"Navigation",children:[s.jsxs("div",{className:Et.headRow,children:[s.jsxs("div",{className:Et.headTitle,children:[s.jsx("span",{className:Et.headDot})," ",s.jsx("span",{className:Et.headLabel,children:"Navigation"})]}),s.jsx("button",{className:Et.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?s.jsx(y6,{className:"ico"}):s.jsx(x6,{className:"ico"})})]}),s.jsx("div",{className:Et.navScroll,children:s.jsxs("div",{className:Et.pad,children:[s.jsx("div",{className:`${Et.segCard} ${Et.mainNavCard}`,children:s.jsx(G2,{items:l9,collapsed:b,allowSubmenus:j,userRoles:S,translate:A,isItemVisible:E=>{var L;return M((L=E.featureId)!=null?L:E.to)}})}),s.jsx("div",{className:Et.segTitle,children:"Kategorien"}),s.jsx("div",{className:`${Et.segCard} ${Et.mainNavCard}`,children:s.jsx(G2,{items:c9,collapsed:b,allowSubmenus:j,userRoles:S,translate:A,isItemVisible:E=>{var L;return M((L=E.featureId)!=null?L:E.to)}})})]})}),s.jsxs("div",{className:`${Et.footer} ${Et.segCard} ${Et.mainNavCard}`,children:[s.jsxs("button",{className:Et.login,type:"button",onClick:C,children:[s.jsx(ol,{className:"ico"}),s.jsx(v0,{text:y?"Logout":"Login",isOpen:!b})]}),y&&(D!=null&&D.displayName)?s.jsx("div",{className:Et.userMeta,title:D.displayName,children:D.displayName}):null,s.jsx("div",{className:Et.legal,children:"(c) 2025 SFDataHub - Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const op="/assets/logo-sfdatahub-CUdhlsEb.png";function y9({src:t,alt:e="",children:n,to:r="/",loading:i="eager",decoding:a="async"}){const c=t!=null?t:op;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(os,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:c,alt:e,loading:i,decoding:a,onError:d=>{const u=d.currentTarget;u.src!==op&&(u.src=op)}})}),n]})}function b9(){const[t,e]=R.useState(!1),[n,r]=R.useState(!1),i=n||t,a=R.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]);return s.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":a},children:[s.jsx(y9,{src:"/logo.png"}),s.jsx(ID,{}),s.jsx("div",{className:"logo-fill"}),s.jsx(v9,{expanded:i,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsx("div",{className:"content-body",children:s.jsx(sN,{})})})})]})}const l5=R.createContext({});function y0(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const b0=R.createContext(null),_0=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _9(t=!0){const e=R.useContext(b0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=R.useId();R.useEffect(()=>{t&&i(a)},[t]);const c=R.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,c]:[!0]}const w0=typeof window!="undefined",c5=w0?R.useLayoutEffect:R.useEffect,ur=t=>t;let d5=ur;function j0(t){let e;return()=>(e===void 0&&(e=t()),e)}const rl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ni=t=>t*1e3,ki=t=>t/1e3,w9={useManualTiming:!1};function j9(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(h){a.has(h)&&(u.schedule(h),t()),h(c)}const u={schedule:(h,p=!1,g=!1)=>{const b=g&&r?e:n;return p&&a.add(h),b.has(h)||b.add(h),h},cancel:h=>{n.delete(h),a.delete(h)},process:h=>{if(c=h,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const Am=["read","resolveKeyframes","update","preRender","render","postRender"],S9=40;function u5(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,c=Am.reduce((B,D)=>(B[D]=j9(a),B),{}),{read:d,resolveKeyframes:u,update:h,preRender:p,render:g,postRender:v}=c,b=()=>{const B=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(B-i.timestamp,S9),1),i.timestamp=B,i.isProcessing=!0,d.process(i),u.process(i),h.process(i),p.process(i),g.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},j=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:Am.reduce((B,D)=>{const T=c[D];return B[D]=(y,S=!1,M=!1)=>(n||j(),T.schedule(y,S,M)),B},{}),cancel:B=>{for(let D=0;D<Am.length;D++)c[Am[D]].cancel(B)},state:i,steps:c}}const{schedule:Gt,cancel:ha,state:en,steps:kx}=u5(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:ur,!0),h5=R.createContext({strict:!1}),W2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ec={};for(const t in W2)Ec[t]={isEnabled:e=>W2[t].some(n=>!!e[n])};function N9(t){for(const e in t)Ec[e]={...Ec[e],...t[e]}}const k9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ip(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||k9.has(t)}let m5=t=>!Ip(t);function C9(t){t&&(m5=e=>e.startsWith("on")?!Ip(e):t(e))}try{C9(require("@emotion/is-prop-valid").default)}catch(t){}function T9(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(m5(i)||n===!0&&Ip(i)||!e&&!Ip(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function E9(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const jf=R.createContext({});function Pu(t){return typeof t=="string"||Array.isArray(t)}function Sf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const S0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],N0=["initial",...S0];function Nf(t){return Sf(t.animate)||N0.some(e=>Pu(t[e]))}function p5(t){return!!(Nf(t)||t.variants)}function A9(t,e){if(Nf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Pu(n)?n:void 0,animate:Pu(r)?r:void 0}}return t.inherit!==!1?e:{}}function I9(t){const{initial:e,animate:n}=A9(t,R.useContext(jf));return R.useMemo(()=>({initial:e,animate:n}),[q2(e),q2(n)])}function q2(t){return Array.isArray(t)?t.join(" "):t}const R9=Symbol.for("motionComponentSymbol");function cc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P9(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):cc(n)&&(n.current=r))},[e])}const k0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L9="framerAppearId",f5="data-"+k0(L9),{schedule:C0}=u5(queueMicrotask,!1),g5=R.createContext({});function D9(t,e,n,r,i){var a,c;const{visualElement:d}=R.useContext(jf),u=R.useContext(h5),h=R.useContext(b0),p=R.useContext(_0).reducedMotion,g=R.useRef(null);r=r||u.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:d,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const v=g.current,b=R.useContext(g5);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&M9(g.current,n,i,b);const j=R.useRef(!1);R.useInsertionEffect(()=>{v&&j.current&&v.update(n,h)});const I=n[f5],A=R.useRef(!!I&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,I))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,I)));return c5(()=>{v&&(j.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),C0.render(v.render),A.current&&v.animationState&&v.animationState.animateChanges())}),R.useEffect(()=>{v&&(!A.current&&v.animationState&&v.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)===null||B===void 0||B.call(window,I)}),A.current=!1))}),v}function M9(t,e,n,r){const{layoutId:i,layout:a,drag:c,dragConstraints:d,layoutScroll:u,layoutRoot:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:x5(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!c||d&&cc(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:h})}function x5(t){if(t)return t.options.allowProjection!==!1?t.projection:x5(t.parent)}function F9({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,c;t&&N9(t);function d(h,p){let g;const v={...R.useContext(_0),...h,layoutId:B9(h)},{isStatic:b}=v,j=I9(h),I=r(h,b);if(!b&&w0){$9();const A=V9(v);g=A.MeasureLayout,j.visualElement=D9(i,I,v,e,A.ProjectionNode)}return s.jsxs(jf.Provider,{value:j,children:[g&&j.visualElement?s.jsx(g,{visualElement:j.visualElement,...v}):null,n(i,h,P9(I,j.visualElement,p),I,b,j.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(c=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&c!==void 0?c:""})`}`;const u=R.forwardRef(d);return u[R9]=i,u}function B9({layoutId:t}){const e=R.useContext(l5).id;return e&&t!==void 0?e+"-"+t:t}function $9(t,e){R.useContext(h5).strict}function V9(t){const{drag:e,layout:n}=Ec;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const O9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T0(t){return typeof t!="string"||t.includes("-")?!1:!!(O9.indexOf(t)>-1||/[A-Z]/u.test(t))}function K2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function E0(t,e,n,r){if(typeof e=="function"){const[i,a]=K2(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=K2(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const Qv=t=>Array.isArray(t),U9=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),z9=t=>Qv(t)?t[t.length-1]||0:t,zs=t=>!!(t&&t.getVelocity);function lp(t){const e=zs(t)?t.get():t;return U9(e)?e.toValue():e}function H9({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const c={latestValues:G9(r,i,a,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const v5=t=>(e,n)=>{const r=R.useContext(jf),i=R.useContext(b0),a=()=>H9(t,e,r,i);return n?a():y0(a)};function G9(t,e,n,r){const i={},a=r(t,{});for(const v in a)i[v]=lp(a[v]);let{initial:c,animate:d}=t;const u=Nf(t),h=p5(t);e&&h&&!u&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?d:c;if(g&&typeof g!="boolean"&&!Sf(g)){const v=Array.isArray(g)?g:[g];for(let b=0;b<v.length;b++){const j=E0(t,v[b]);if(j){const{transitionEnd:I,transition:A,...B}=j;for(const D in B){let T=B[D];if(Array.isArray(T)){const y=p?T.length-1:0;T=T[y]}T!==null&&(i[D]=T)}for(const D in I)i[D]=I[D]}}}return i}const Uc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hl=new Set(Uc),y5=t=>e=>typeof e=="string"&&e.startsWith(t),b5=y5("--"),W9=y5("var(--"),A0=t=>W9(t)?q9.test(t.split("/*")[0].trim()):!1,q9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_5=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ma=(t,e,n)=>n>e?e:n<t?t:n,zc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lu={...zc,transform:t=>ma(0,1,t)},Im={...zc,default:1},eh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),za=eh("deg"),Ci=eh("%"),Xe=eh("px"),K9=eh("vh"),Q9=eh("vw"),Q2={...Ci,parse:t=>Ci.parse(t)/100,transform:t=>Ci.transform(t*100)},X9={borderWidth:Xe,borderTopWidth:Xe,borderRightWidth:Xe,borderBottomWidth:Xe,borderLeftWidth:Xe,borderRadius:Xe,radius:Xe,borderTopLeftRadius:Xe,borderTopRightRadius:Xe,borderBottomRightRadius:Xe,borderBottomLeftRadius:Xe,width:Xe,maxWidth:Xe,height:Xe,maxHeight:Xe,top:Xe,right:Xe,bottom:Xe,left:Xe,padding:Xe,paddingTop:Xe,paddingRight:Xe,paddingBottom:Xe,paddingLeft:Xe,margin:Xe,marginTop:Xe,marginRight:Xe,marginBottom:Xe,marginLeft:Xe,backgroundPositionX:Xe,backgroundPositionY:Xe},Y9={rotate:za,rotateX:za,rotateY:za,rotateZ:za,scale:Im,scaleX:Im,scaleY:Im,scaleZ:Im,skew:za,skewX:za,skewY:za,distance:Xe,translateX:Xe,translateY:Xe,translateZ:Xe,x:Xe,y:Xe,z:Xe,perspective:Xe,transformPerspective:Xe,opacity:Lu,originX:Q2,originY:Q2,originZ:Xe},X2={...zc,transform:Math.round},I0={...X9,...Y9,zIndex:X2,size:Xe,fillOpacity:Lu,strokeOpacity:Lu,numOctaves:X2},J9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Z9=Uc.length;function e7(t,e,n){let r="",i=!0;for(let a=0;a<Z9;a++){const c=Uc[a],d=t[c];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(c.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||n){const h=_5(d,I0[c]);if(!u){i=!1;const p=J9[c]||c;r+=`${p}(${h}) `}n&&(e[c]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function R0(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let c=!1,d=!1;for(const u in e){const h=e[u];if(hl.has(u)){c=!0;continue}else if(b5(u)){i[u]=h;continue}else{const p=_5(h,I0[u]);u.startsWith("origin")?(d=!0,a[u]=p):r[u]=p}}if(e.transform||(c||n?r.transform=e7(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:u="50%",originY:h="50%",originZ:p=0}=a;r.transformOrigin=`${u} ${h} ${p}`}}const t7={offset:"stroke-dashoffset",array:"stroke-dasharray"},s7={offset:"strokeDashoffset",array:"strokeDasharray"};function n7(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?t7:s7;t[a.offset]=Xe.transform(-r);const c=Xe.transform(e),d=Xe.transform(n);t[a.array]=`${c} ${d}`}function Y2(t,e,n){return typeof t=="string"?t:Xe.transform(e+n*t)}function r7(t,e,n){const r=Y2(e,t.x,t.width),i=Y2(n,t.y,t.height);return`${r} ${i}`}function P0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:c,pathSpacing:d=1,pathOffset:u=0,...h},p,g){if(R0(t,h,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b,dimensions:j}=t;v.transform&&(j&&(b.transform=v.transform),delete v.transform),j&&(i!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=r7(j,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),c!==void 0&&n7(v,c,d,u,!1)}const L0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),w5=()=>({...L0(),attrs:{}}),D0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function j5(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const S5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function N5(t,e,n,r){j5(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(S5.has(i)?i:k0(i),e.attrs[i])}const Rp={};function i7(t){Object.assign(Rp,t)}function k5(t,{layout:e,layoutId:n}){return hl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rp[t]||t==="opacity")}function M0(t,e,n){var r;const{style:i}=t,a={};for(const c in i)(zs(i[c])||e.style&&zs(e.style[c])||k5(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[c]=i[c]);return a}function C5(t,e,n){const r=M0(t,e,n);for(const i in t)if(zs(t[i])||zs(e[i])){const a=Uc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function a7(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const J2=["x","y","width","height","cx","cy","r"],o7={useVisualState:v5({scrapeMotionValuesFromProps:C5,createRenderState:w5,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const d in i)if(hl.has(d)){a=!0;break}}if(!a)return;let c=!e;if(e)for(let d=0;d<J2.length;d++){const u=J2[d];t[u]!==e[u]&&(c=!0)}c&&Gt.read(()=>{a7(n,r),Gt.render(()=>{P0(r,i,D0(n.tagName),t.transformTemplate),N5(n,r)})})}})},l7={useVisualState:v5({scrapeMotionValuesFromProps:M0,createRenderState:L0})};function T5(t,e,n){for(const r in e)!zs(e[r])&&!k5(r,n)&&(t[r]=e[r])}function c7({transformTemplate:t},e){return R.useMemo(()=>{const n=L0();return R0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function d7(t,e){const n=t.style||{},r={};return T5(r,n,t),Object.assign(r,c7(t,e)),r}function u7(t,e){const n={},r=d7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function h7(t,e,n,r){const i=R.useMemo(()=>{const a=w5();return P0(a,e,D0(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};T5(a,t.style,t),i.style={...a,...i.style}}return i}function m7(t=!1){return(n,r,i,{latestValues:a},c)=>{const u=(T0(n)?h7:u7)(r,a,c,n),h=T9(r,typeof n=="string",t),p=n!==R.Fragment?{...h,...u,ref:i}:{},{children:g}=r,v=R.useMemo(()=>zs(g)?g.get():g,[g]);return R.createElement(n,{...p,children:v})}}function p7(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...T0(r)?o7:l7,preloadedFeatures:t,useRender:m7(i),createVisualElement:e,Component:r};return F9(c)}}function E5(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function kf(t,e,n){const r=t.getProps();return E0(r,e,n!==void 0?n:r.custom,t)}const f7=j0(()=>window.ScrollTimeline!==void 0);class g7{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(f7()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class A5 extends g7{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function F0(t,e){return t?t[e]||t.default||t:void 0}const Pp=2e4;function B0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Pp;)e+=n,r=t.next(e);return e>=Pp?1/0:e}function x7(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(B0(r),Pp);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:ki(i)}}function Cf(t){return typeof t=="function"}function Z2(t,e){t.timeline=e,t.onfinish=null}const $0=t=>Array.isArray(t)&&typeof t[0]=="number",v7={linearEasing:void 0};function y7(t,e){const n=j0(t);return()=>{var r;return(r=v7[e])!==null&&r!==void 0?r:n()}}const Lp=y7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),I5=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(rl(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function R5(t){return!!(typeof t=="function"&&Lp()||!t||typeof t=="string"&&(t in Xv||Lp())||$0(t)||Array.isArray(t)&&t.every(R5))}const Yd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Xv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yd([0,.65,.55,1]),circOut:Yd([.55,0,1,.45]),backIn:Yd([.31,.01,.66,-.59]),backOut:Yd([.33,1.53,.69,.99])};function P5(t,e){if(t)return typeof t=="function"&&Lp()?I5(t,e):$0(t)?Yd(t):Array.isArray(t)?t.map(n=>P5(n,e)||Xv.easeOut):Xv[t]}const ti={x:!1,y:!1};function L5(){return ti.x||ti.y}function D5(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function M5(t,e){const n=D5(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function ew(t){return e=>{e.pointerType==="touch"||L5()||t(e)}}function b7(t,e,n={}){const[r,i,a]=M5(t,n),c=ew(d=>{const{target:u}=d,h=e(d);if(typeof h!="function"||!u)return;const p=ew(g=>{h(g),u.removeEventListener("pointerleave",p)});u.addEventListener("pointerleave",p,i)});return r.forEach(d=>{d.addEventListener("pointerenter",c,i)}),a}const F5=(t,e)=>e?t===e?!0:F5(t,e.parentElement):!1,V0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function w7(t){return _7.has(t.tagName)||t.tabIndex!==-1}const Jd=new WeakSet;function tw(t){return e=>{e.key==="Enter"&&t(e)}}function Cx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const j7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=tw(()=>{if(Jd.has(n))return;Cx(n,"down");const i=tw(()=>{Cx(n,"up")}),a=()=>Cx(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function sw(t){return V0(t)&&!L5()}function S7(t,e,n={}){const[r,i,a]=M5(t,n),c=d=>{const u=d.currentTarget;if(!sw(d)||Jd.has(u))return;Jd.add(u);const h=e(d),p=(b,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!sw(b)||!Jd.has(u))&&(Jd.delete(u),typeof h=="function"&&h(b,{success:j}))},g=b=>{p(b,n.useGlobalTarget||F5(u,b.target))},v=b=>{p(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return r.forEach(d=>{!w7(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d.addEventListener("focus",h=>j7(h,i),i)}),a}function N7(t){return t==="x"||t==="y"?ti[t]?null:(ti[t]=!0,()=>{ti[t]=!1}):ti.x||ti.y?null:(ti.x=ti.y=!0,()=>{ti.x=ti.y=!1})}const B5=new Set(["width","height","top","left","right","bottom",...Uc]);let cp;function k7(){cp=void 0}const Ti={now:()=>(cp===void 0&&Ti.set(en.isProcessing||w9.useManualTiming?en.timestamp:performance.now()),cp),set:t=>{cp=t,queueMicrotask(k7)}};function O0(t,e){t.indexOf(e)===-1&&t.push(e)}function Tf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class U0{constructor(){this.subscriptions=[]}add(e){return O0(this.subscriptions,e),()=>Tf(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const c=this.subscriptions[a];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function $5(t,e){return e?t*(1e3/e):0}const nw=30,C7=t=>!isNaN(parseFloat(t)),lu={current:void 0};class T7{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Ti.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ti.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=C7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new U0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return lu.current&&lu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nw);return $5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ac(t,e){return new T7(t,e)}function E7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ac(n))}function A7(t,e){const n=kf(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const c in a){const d=z9(a[c]);E7(t,c,d)}}function I7(t){return!!(zs(t)&&t.add)}function Yv(t,e){const n=t.getValue("willChange");if(I7(n))return n.add(e)}function V5(t){return t.props[f5]}const O5=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,R7=1e-7,P7=12;function L7(t,e,n,r,i){let a,c,d=0;do c=e+(n-e)/2,a=O5(c,r,i)-t,a>0?n=c:e=c;while(Math.abs(a)>R7&&++d<P7);return c}function th(t,e,n,r){if(t===e&&n===r)return ur;const i=a=>L7(a,0,1,t,n);return a=>a===0||a===1?a:O5(i(a),e,r)}const U5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,z5=t=>e=>1-t(1-e),H5=th(.33,1.53,.69,.99),z0=z5(H5),G5=U5(z0),W5=t=>(t*=2)<1?.5*z0(t):.5*(2-Math.pow(2,-10*(t-1))),H0=t=>1-Math.sin(Math.acos(t)),q5=z5(H0),K5=U5(H0),Q5=t=>/^0[^.\s]+$/u.test(t);function D7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Q5(t):!0}const cu=t=>Math.round(t*1e5)/1e5,G0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function M7(t){return t==null}const F7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,W0=(t,e)=>n=>!!(typeof n=="string"&&F7.test(n)&&n.startsWith(t)||e&&!M7(n)&&Object.prototype.hasOwnProperty.call(n,e)),X5=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,c,d]=r.match(G0);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},B7=t=>ma(0,255,t),Tx={...zc,transform:t=>Math.round(B7(t))},Ko={test:W0("rgb","red"),parse:X5("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Tx.transform(t)+", "+Tx.transform(e)+", "+Tx.transform(n)+", "+cu(Lu.transform(r))+")"};function $7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Jv={test:W0("#"),parse:$7,transform:Ko.transform},dc={test:W0("hsl","hue"),parse:X5("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ci.transform(cu(e))+", "+Ci.transform(cu(n))+", "+cu(Lu.transform(r))+")"},gn={test:t=>Ko.test(t)||Jv.test(t)||dc.test(t),parse:t=>Ko.test(t)?Ko.parse(t):dc.test(t)?dc.parse(t):Jv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ko.transform(t):dc.transform(t)},V7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function O7(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(G0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(V7))===null||n===void 0?void 0:n.length)||0)>0}const Y5="number",J5="color",U7="var",z7="var(",rw="${}",H7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Du(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(H7,u=>(gn.test(u)?(r.color.push(a),i.push(J5),n.push(gn.parse(u))):u.startsWith(z7)?(r.var.push(a),i.push(U7),n.push(u)):(r.number.push(a),i.push(Y5),n.push(parseFloat(u))),++a,rw)).split(rw);return{values:n,split:d,indexes:r,types:i}}function Z5(t){return Du(t).values}function e3(t){const{split:e,types:n}=Du(t),r=e.length;return i=>{let a="";for(let c=0;c<r;c++)if(a+=e[c],i[c]!==void 0){const d=n[c];d===Y5?a+=cu(i[c]):d===J5?a+=gn.transform(i[c]):a+=i[c]}return a}}const G7=t=>typeof t=="number"?0:t;function W7(t){const e=Z5(t);return e3(t)(e.map(G7))}const to={test:O7,parse:Z5,createTransformer:e3,getAnimatableNone:W7},q7=new Set(["brightness","contrast","saturate","opacity"]);function K7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(G0)||[];if(!r)return t;const i=n.replace(r,"");let a=q7.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const Q7=/\b([a-z-]*)\(.*?\)/gu,Zv={...to,getAnimatableNone:t=>{const e=t.match(Q7);return e?e.map(K7).join(" "):t}},X7={...I0,color:gn,backgroundColor:gn,outlineColor:gn,fill:gn,stroke:gn,borderColor:gn,borderTopColor:gn,borderRightColor:gn,borderBottomColor:gn,borderLeftColor:gn,filter:Zv,WebkitFilter:Zv},q0=t=>X7[t];function t3(t,e){let n=q0(t);return n!==Zv&&(n=to),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Y7=new Set(["auto","none","0"]);function J7(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!Y7.has(a)&&Du(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=t3(n,i)}const iw=t=>t===zc||t===Xe,aw=(t,e)=>parseFloat(t.split(", ")[e]),ow=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return aw(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?aw(a[1],t):0}},Z7=new Set(["x","y","z"]),eM=Uc.filter(t=>!Z7.has(t));function tM(t){const e=[];return eM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ic={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ow(4,13),y:ow(5,14)};Ic.translateX=Ic.x;Ic.translateY=Ic.y;const Jo=new Set;let ey=!1,ty=!1;function s3(){if(ty){const t=Array.from(Jo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=tM(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,c])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ty=!1,ey=!1,Jo.forEach(t=>t.complete()),Jo.clear()}function n3(){Jo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ty=!0)})}function sM(){n3(),s3()}class K0{constructor(e,n,r,i,a,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jo.add(this),ey||(ey=!0,Gt.read(n3),Gt.resolveKeyframes(s3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const c=i==null?void 0:i.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const u=r.readValue(n,d);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=d),i&&c===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const r3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),nM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function rM(t){const e=nM.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function i3(t,e,n=1){const[r,i]=rM(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const c=a.trim();return r3(c)?parseFloat(c):c}return A0(i)?i3(i,e,n+1):i}const a3=t=>e=>e.test(t),iM={test:t=>t==="auto",parse:t=>t},o3=[zc,Xe,Ci,za,Q9,K9,iM],lw=t=>o3.find(a3(t));class l3 extends K0{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),A0(h))){const p=i3(h,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!B5.has(r)||e.length!==2)return;const[i,a]=e,c=lw(i),d=lw(a);if(c!==d)if(iw(c)&&iw(d))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)D7(e[i])&&r.push(i);r.length&&J7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ic[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=Ic[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,h])=>{n.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const cw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(to.test(t)||t==="0")&&!t.startsWith("url("));function aM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function oM(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],c=cw(i,e),d=cw(a,e);return!c||!d?!1:aM(t)||(n==="spring"||Cf(n))&&r}const lM=t=>t!==null;function Ef(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(lM),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const cM=40;class c3{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ti.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>cM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&sM(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ti.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:c,onComplete:d,onUpdate:u,isGenerator:h}=this.options;if(!h&&!oM(e,r,i,a))if(c)this.options.duration=0;else{u&&u(Ef(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(e,n);p!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const es=(t,e,n)=>t+(e-t)*n;function Ex(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,c=0;if(!e)i=a=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,u=2*n-d;i=Ex(u,d,t+1/3),a=Ex(u,d,t),c=Ex(u,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(c*255),alpha:r}}function Dp(t,e){return n=>n>0?e:t}const Ax=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},uM=[Jv,Ko,dc],hM=t=>uM.find(e=>e.test(t));function dw(t){const e=hM(t);if(!e)return!1;let n=e.parse(t);return e===dc&&(n=dM(n)),n}const uw=(t,e)=>{const n=dw(t),r=dw(e);if(!n||!r)return Dp(t,e);const i={...n};return a=>(i.red=Ax(n.red,r.red,a),i.green=Ax(n.green,r.green,a),i.blue=Ax(n.blue,r.blue,a),i.alpha=es(n.alpha,r.alpha,a),Ko.transform(i))},mM=(t,e)=>n=>e(t(n)),sh=(...t)=>t.reduce(mM),sy=new Set(["none","hidden"]);function pM(t,e){return sy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fM(t,e){return n=>es(t,e,n)}function Q0(t){return typeof t=="number"?fM:typeof t=="string"?A0(t)?Dp:gn.test(t)?uw:vM:Array.isArray(t)?d3:typeof t=="object"?gn.test(t)?uw:gM:Dp}function d3(t,e){const n=[...t],r=n.length,i=t.map((a,c)=>Q0(a)(a,e[c]));return a=>{for(let c=0;c<r;c++)n[c]=i[c](a);return n}}function gM(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Q0(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function xM(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const c=e.types[a],d=t.indexes[c][i[c]],u=(n=t.values[d])!==null&&n!==void 0?n:0;r[a]=u,i[c]++}return r}const vM=(t,e)=>{const n=to.createTransformer(e),r=Du(t),i=Du(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sy.has(t)&&!i.values.length||sy.has(e)&&!r.values.length?pM(t,e):sh(d3(xM(r,i),i.values),n):Dp(t,e)};function u3(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?es(t,e,n):Q0(t)(t,e)}const yM=5;function h3(t,e,n){const r=Math.max(e-yM,0);return $5(n-t(r),e-r)}const ps={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ix=.001;function bM({duration:t=ps.duration,bounce:e=ps.bounce,velocity:n=ps.velocity,mass:r=ps.mass}){let i,a,c=1-e;c=ma(ps.minDamping,ps.maxDamping,c),t=ma(ps.minDuration,ps.maxDuration,ki(t)),c<1?(i=h=>{const p=h*c,g=p*t,v=p-n,b=ny(h,c),j=Math.exp(-g);return Ix-v/b*j},a=h=>{const g=h*c*t,v=g*n+n,b=Math.pow(c,2)*Math.pow(h,2)*t,j=Math.exp(-g),I=ny(Math.pow(h,2),c);return(-i(h)+Ix>0?-1:1)*((v-b)*j)/I}):(i=h=>{const p=Math.exp(-h*t),g=(h-n)*t+1;return-Ix+p*g},a=h=>{const p=Math.exp(-h*t),g=(n-h)*(t*t);return p*g});const d=5/t,u=wM(i,a,d);if(t=Ni(t),isNaN(u))return{stiffness:ps.stiffness,damping:ps.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:c*2*Math.sqrt(r*h),duration:t}}}const _M=12;function wM(t,e,n){let r=n;for(let i=1;i<_M;i++)r=r-t(r)/e(r);return r}function ny(t,e){return t*Math.sqrt(1-e*e)}const jM=["duration","bounce"],SM=["stiffness","damping","mass"];function hw(t,e){return e.some(n=>t[n]!==void 0)}function NM(t){let e={velocity:ps.velocity,stiffness:ps.stiffness,damping:ps.damping,mass:ps.mass,isResolvedFromDuration:!1,...t};if(!hw(t,SM)&&hw(t,jM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ma(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ps.mass,stiffness:i,damping:a}}else{const n=bM(t);e={...e,...n,mass:ps.mass},e.isResolvedFromDuration=!0}return e}function X0(t=ps.visualDuration,e=ps.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:u,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:b}=NM({...n,velocity:-ki(n.velocity||0)}),j=v||0,I=h/(2*Math.sqrt(u*p)),A=c-a,B=ki(Math.sqrt(u/p)),D=Math.abs(A)<5;r||(r=D?ps.restSpeed.granular:ps.restSpeed.default),i||(i=D?ps.restDelta.granular:ps.restDelta.default);let T;if(I<1){const S=ny(B,I);T=M=>{const C=Math.exp(-I*B*M);return c-C*((j+I*B*A)/S*Math.sin(S*M)+A*Math.cos(S*M))}}else if(I===1)T=S=>c-Math.exp(-B*S)*(A+(j+B*A)*S);else{const S=B*Math.sqrt(I*I-1);T=M=>{const C=Math.exp(-I*B*M),w=Math.min(S*M,300);return c-C*((j+I*B*A)*Math.sinh(w)+S*A*Math.cosh(w))/S}}const y={calculatedDuration:b&&g||null,next:S=>{const M=T(S);if(b)d.done=S>=g;else{let C=0;I<1&&(C=S===0?Ni(j):h3(T,S,M));const w=Math.abs(C)<=r,E=Math.abs(c-M)<=i;d.done=w&&E}return d.value=d.done?c:M,d},toString:()=>{const S=Math.min(B0(y),Pp),M=I5(C=>y.next(S*C).value,S,30);return S+"ms "+M}};return y}function mw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:c,min:d,max:u,restDelta:h=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},b=w=>d!==void 0&&w<d||u!==void 0&&w>u,j=w=>d===void 0?u:u===void 0||Math.abs(d-w)<Math.abs(u-w)?d:u;let I=n*e;const A=g+I,B=c===void 0?A:c(A);B!==A&&(I=B-g);const D=w=>-I*Math.exp(-w/r),T=w=>B+D(w),y=w=>{const E=D(w),L=T(w);v.done=Math.abs(E)<=h,v.value=v.done?B:L};let S,M;const C=w=>{b(v.value)&&(S=w,M=X0({keyframes:[v.value,j(v.value)],velocity:h3(T,w,v.value),damping:i,stiffness:a,restDelta:h,restSpeed:p}))};return C(0),{calculatedDuration:null,next:w=>{let E=!1;return!M&&S===void 0&&(E=!0,y(w),C(w)),S!==void 0&&w>=S?M.next(w-S):(!E&&y(w),v)}}}const kM=th(.42,0,1,1),CM=th(0,0,.58,1),m3=th(.42,0,.58,1),p3=t=>Array.isArray(t)&&typeof t[0]!="number",TM={linear:ur,easeIn:kM,easeInOut:m3,easeOut:CM,circIn:H0,circInOut:K5,circOut:q5,backIn:z0,backInOut:G5,backOut:H5,anticipate:W5},pw=t=>{if($0(t)){d5(t.length===4);const[e,n,r,i]=t;return th(e,n,r,i)}else if(typeof t=="string")return TM[t];return t};function EM(t,e,n){const r=[],i=n||u3,a=t.length-1;for(let c=0;c<a;c++){let d=i(t[c],t[c+1]);if(e){const u=Array.isArray(e)?e[c]||ur:e;d=sh(u,d)}r.push(d)}return r}function f3(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(d5(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=EM(e,r,i),u=d.length,h=p=>{if(c&&p<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=rl(t[g],t[g+1],p);return d[g](v)};return n?p=>h(ma(t[0],t[a-1],p)):h}function g3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=rl(0,e,r);t.push(es(n,1,i))}}function x3(t){const e=[0];return g3(e,t.length-1),e}function AM(t,e){return t.map(n=>n*e)}function IM(t,e){return t.map(()=>e||m3).splice(0,t.length-1)}function Mp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=p3(r)?r.map(pw):pw(r),a={done:!1,value:e[0]},c=AM(n&&n.length===e.length?n:x3(e),t),d=f3(c,e,{ease:Array.isArray(i)?i:IM(e,i)});return{calculatedDuration:t,next:u=>(a.value=d(u),a.done=u>=t,a)}}const RM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Gt.update(e,!0),stop:()=>ha(e),now:()=>en.isProcessing?en.timestamp:Ti.now()}},PM={decay:mw,inertia:mw,tween:Mp,keyframes:Mp,spring:X0},LM=t=>t/100;class Y0 extends c3{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,c=(i==null?void 0:i.KeyframeResolver)||K0,d=(u,h)=>this.onKeyframesResolved(u,h);this.resolver=new c(a,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:c=0}=this.options,d=Cf(n)?n:PM[n]||Mp;let u,h;d!==Mp&&typeof e[0]!="number"&&(u=sh(LM,u3(e[0],e[1])),e=[0,100]);const p=d({...this.options,keyframes:e});a==="mirror"&&(h=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=B0(p));const{calculatedDuration:g}=p,v=g+i,b=v*(r+1)-i;return{generator:p,mirroredGenerator:h,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:v,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:u,calculatedDuration:h,totalDuration:p,resolvedDuration:g}=r;if(this.startTime===null)return a.next(0);const{delay:v,repeat:b,repeatType:j,repeatDelay:I,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-p/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const B=this.currentTime-v*(this.speed>=0?1:-1),D=this.speed>=0?B<0:B>p;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let T=this.currentTime,y=a;if(b){const w=Math.min(this.currentTime,p)/g;let E=Math.floor(w),L=w%1;!L&&w>=1&&(L=1),L===1&&E--,E=Math.min(E,b+1),!!(E%2)&&(j==="reverse"?(L=1-L,I&&(L-=I/g)):j==="mirror"&&(y=c)),T=ma(0,1,L)*g}const S=D?{done:!1,value:u[0]}:y.next(T);d&&(S.value=d(S.value));let{done:M}=S;!D&&h!==null&&(M=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&i!==void 0&&(S.value=Ef(u,this.options,i)),A&&A(S.value),C&&this.finish(),S}get duration(){const{resolved:e}=this;return e?ki(e.calculatedDuration):0}get time(){return ki(this.currentTime)}set time(e){e=Ni(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ki(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=RM,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const DM=new Set(["opacity","clipPath","filter","transform"]);function MM(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:c="loop",ease:d="easeInOut",times:u}={}){const h={[e]:n};u&&(h.offset=u);const p=P5(d,i);return Array.isArray(p)&&(h.easing=p),t.animate(h,{delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:a+1,direction:c==="reverse"?"alternate":"normal"})}const FM=j0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Fp=10,BM=2e4;function $M(t){return Cf(t.type)||t.type==="spring"||!R5(t.ease)}function VM(t,e){const n=new Y0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<BM;)r=n.sample(a),i.push(r.value),a+=Fp;return{times:void 0,keyframes:i,duration:a-Fp,ease:"linear"}}const v3={anticipate:W5,backInOut:G5,circInOut:K5};function OM(t){return t in v3}class fw extends c3{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new l3(a,(c,d)=>this.onKeyframesResolved(c,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:c,motionValue:d,name:u,startTime:h}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&Lp()&&OM(a)&&(a=v3[a]),$M(this.options)){const{onComplete:g,onUpdate:v,motionValue:b,element:j,...I}=this.options,A=VM(e,I);e=A.keyframes,e.length===1&&(e[1]=e[0]),r=A.duration,i=A.times,a=A.ease,c="keyframes"}const p=MM(d.owner.current,u,e,{...this.options,duration:r,times:i,ease:a});return p.startTime=h!=null?h:this.calcStartTime(),this.pendingTimeline?(Z2(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;d.set(Ef(e,this.options,n)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:r,times:i,type:c,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ki(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ki(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ni(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ur;const{animation:r}=n;Z2(r,e)}return ur}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:p,onComplete:g,element:v,...b}=this.options,j=new Y0({...b,keyframes:r,duration:i,type:a,ease:c,times:d,isGenerator:!0}),I=Ni(this.time);h.setWithVelocity(j.sample(I-Fp).value,j.sample(I).value,Fp)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=n.owner.getProps();return FM()&&r&&DM.has(r)&&!u&&!h&&!i&&a!=="mirror"&&c!==0&&d!=="inertia"}}const UM={type:"spring",stiffness:500,damping:25,restSpeed:10},zM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HM={type:"keyframes",duration:.8},GM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WM=(t,{keyframes:e})=>e.length>2?HM:hl.has(t)?t.startsWith("scale")?zM(e[1]):UM:GM;function qM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:c,repeatDelay:d,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const J0=(t,e,n,r={},i,a)=>c=>{const d=F0(r,t)||{},u=d.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ni(u);let p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:i};qM(d)||(p={...p,...WM(t,p)}),p.duration&&(p.duration=Ni(p.duration)),p.repeatDelay&&(p.repeatDelay=Ni(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!a&&e.get()!==void 0){const v=Ef(p.keyframes,d);if(v!==void 0)return Gt.update(()=>{p.onUpdate(v),p.onComplete()}),new A5([])}return!a&&fw.supports(p)?new fw(p):new Y0(p)};function KM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Z0(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...u}=e;r&&(c=r);const h=[],p=i&&t.animationState&&t.animationState.getState()[i];for(const g in u){const v=t.getValue(g,(a=t.latestValues[g])!==null&&a!==void 0?a:null),b=u[g];if(b===void 0||p&&KM(p,g))continue;const j={delay:n,...F0(c||{},g)};let I=!1;if(window.MotionHandoffAnimation){const B=V5(t);if(B){const D=window.MotionHandoffAnimation(B,g,Gt);D!==null&&(j.startTime=D,I=!0)}}Yv(t,g),v.start(J0(g,v,b,t.shouldReduceMotion&&B5.has(g)?{type:!1}:j,t,I));const A=v.animation;A&&h.push(A)}return d&&Promise.all(h).then(()=>{Gt.update(()=>{d&&A7(t,d)})}),h}function ry(t,e,n={}){var r;const i=kf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const c=i?()=>Promise.all(Z0(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=a;return QM(t,e,p+h,g,v,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,p]=u==="beforeChildren"?[c,d]:[d,c];return h().then(()=>p())}else return Promise.all([c(),d(n.delay)])}function QM(t,e,n=0,r=0,i=1,a){const c=[],d=(t.variantChildren.size-1)*r,u=i===1?(h=0)=>h*r:(h=0)=>d-h*r;return Array.from(t.variantChildren).sort(XM).forEach((h,p)=>{h.notify("AnimationStart",e),c.push(ry(h,e,{...a,delay:n+u(p)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(c)}function XM(t,e){return t.sortNodePosition(e)}function YM(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>ry(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=ry(t,e,n);else{const i=typeof e=="function"?kf(t,e,n.custom):e;r=Promise.all(Z0(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const JM=N0.length;function y3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?y3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<JM;n++){const r=N0[n],i=t.props[r];(Pu(i)||i===!1)&&(e[r]=i)}return e}const ZM=[...S0].reverse(),eF=S0.length;function tF(t){return e=>Promise.all(e.map(({animation:n,options:r})=>YM(t,n,r)))}function sF(t){let e=tF(t),n=gw(),r=!0;const i=u=>(h,p)=>{var g;const v=kf(t,p,u==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:b,transitionEnd:j,...I}=v;h={...h,...I,...j}}return h};function a(u){e=u(t)}function c(u){const{props:h}=t,p=y3(t.parent)||{},g=[],v=new Set;let b={},j=1/0;for(let A=0;A<eF;A++){const B=ZM[A],D=n[B],T=h[B]!==void 0?h[B]:p[B],y=Pu(T),S=B===u?D.isActive:null;S===!1&&(j=A);let M=T===p[B]&&T!==h[B]&&y;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),D.protectedKeys={...b},!D.isActive&&S===null||!T&&!D.prevProp||Sf(T)||typeof T=="boolean")continue;const C=nF(D.prevProp,T);let w=C||B===u&&D.isActive&&!M&&y||A>j&&y,E=!1;const L=Array.isArray(T)?T:[T];let P=L.reduce(i(B),{});S===!1&&(P={});const{prevResolvedValues:V={}}=D,$={...V,...P},W=Q=>{w=!0,v.has(Q)&&(E=!0,v.delete(Q)),D.needsAnimating[Q]=!0;const G=t.getValue(Q);G&&(G.liveStyle=!1)};for(const Q in $){const G=P[Q],te=V[Q];if(b.hasOwnProperty(Q))continue;let re=!1;Qv(G)&&Qv(te)?re=!E5(G,te):re=G!==te,re?G!=null?W(Q):v.add(Q):G!==void 0&&v.has(Q)?W(Q):D.protectedKeys[Q]=!0}D.prevProp=T,D.prevResolvedValues=P,D.isActive&&(b={...b,...P}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(M&&C)||E)&&g.push(...L.map(Q=>({animation:Q,options:{type:B}})))}if(v.size){const A={};v.forEach(B=>{const D=t.getBaseTarget(B),T=t.getValue(B);T&&(T.liveStyle=!0),A[B]=D!=null?D:null}),g.push({animation:A})}let I=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(g):Promise.resolve()}function d(u,h){var p;if(n[u].isActive===h)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(v=>{var b;return(b=v.animationState)===null||b===void 0?void 0:b.setActive(u,h)}),n[u].isActive=h;const g=c(u);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:c,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=gw(),r=!0}}}function nF(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!E5(e,t):!1}function Io(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gw(){return{animate:Io(!0),whileInView:Io(),whileHover:Io(),whileTap:Io(),whileDrag:Io(),whileFocus:Io(),exit:Io()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rF extends ro{constructor(e){super(e),e.animationState||(e.animationState=sF(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let iF=0;class aF extends ro{constructor(){super(...arguments),this.id=iF++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const oF={animation:{Feature:rF},exit:{Feature:aF}};function Mu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function nh(t){return{point:{x:t.pageX,y:t.pageY}}}const lF=t=>e=>V0(e)&&t(e,nh(e));function du(t,e,n,r){return Mu(t,e,lF(n),r)}const xw=(t,e)=>Math.abs(t-e);function cF(t,e){const n=xw(t.x,e.x),r=xw(t.y,e.y);return Math.sqrt(n**2+r**2)}class b3{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Px(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=cF(g.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:j}=g,{timestamp:I}=en;this.history.push({...j,timestamp:I});const{onStart:A,onMove:B}=this.handlers;v||(A&&A(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Rx(v,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Px(g.type==="pointercancel"?this.lastMoveEventInfo:Rx(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,A),j&&j(g,A)},!V0(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=nh(e),d=Rx(c,this.transformPagePoint),{point:u}=d,{timestamp:h}=en;this.history=[{...u,timestamp:h}];const{onSessionStart:p}=n;p&&p(e,Px(d,this.history)),this.removeListeners=sh(du(this.contextWindow,"pointermove",this.handlePointerMove),du(this.contextWindow,"pointerup",this.handlePointerUp),du(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ha(this.updatePoint)}}function Rx(t,e){return e?{point:e(t.point)}:t}function vw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Px({point:t},e){return{point:t,delta:vw(t,_3(e)),offset:vw(t,dF(e)),velocity:uF(e,.1)}}function dF(t){return t[0]}function _3(t){return t[t.length-1]}function uF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=_3(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ni(e)));)n--;if(!r)return{x:0,y:0};const a=ki(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const c={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const w3=1e-4,hF=1-w3,mF=1+w3,j3=.01,pF=0-j3,fF=0+j3;function pr(t){return t.max-t.min}function gF(t,e,n){return Math.abs(t-e)<=n}function yw(t,e,n,r=.5){t.origin=r,t.originPoint=es(e.min,e.max,t.origin),t.scale=pr(n)/pr(e),t.translate=es(n.min,n.max,t.origin)-t.originPoint,(t.scale>=hF&&t.scale<=mF||isNaN(t.scale))&&(t.scale=1),(t.translate>=pF&&t.translate<=fF||isNaN(t.translate))&&(t.translate=0)}function uu(t,e,n,r){yw(t.x,e.x,n.x,r?r.originX:void 0),yw(t.y,e.y,n.y,r?r.originY:void 0)}function bw(t,e,n){t.min=n.min+e.min,t.max=t.min+pr(e)}function xF(t,e,n){bw(t.x,e.x,n.x),bw(t.y,e.y,n.y)}function _w(t,e,n){t.min=e.min-n.min,t.max=t.min+pr(e)}function hu(t,e,n){_w(t.x,e.x,n.x),_w(t.y,e.y,n.y)}function vF(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?es(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?es(n,t,r.max):Math.min(t,n)),t}function ww(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yF(t,{top:e,left:n,bottom:r,right:i}){return{x:ww(t.x,n,i),y:ww(t.y,e,r)}}function jw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bF(t,e){return{x:jw(t.x,e.x),y:jw(t.y,e.y)}}function _F(t,e){let n=.5;const r=pr(t),i=pr(e);return i>r?n=rl(e.min,e.max-r,t.min):r>i&&(n=rl(t.min,t.max-i,e.min)),ma(0,1,n)}function wF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const iy=.35;function jF(t=iy){return t===!1?t=0:t===!0&&(t=iy),{x:Sw(t,"left","right"),y:Sw(t,"top","bottom")}}function Sw(t,e,n){return{min:Nw(t,e),max:Nw(t,n)}}function Nw(t,e){return typeof t=="number"?t:t[e]||0}const kw=()=>({translate:0,scale:1,origin:0,originPoint:0}),uc=()=>({x:kw(),y:kw()}),Cw=()=>({min:0,max:0}),ms=()=>({x:Cw(),y:Cw()});function Er(t){return[t("x"),t("y")]}function S3({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function SF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function NF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Lx(t){return t===void 0||t===1}function ay({scale:t,scaleX:e,scaleY:n}){return!Lx(t)||!Lx(e)||!Lx(n)}function Uo(t){return ay(t)||N3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function N3(t){return Tw(t.x)||Tw(t.y)}function Tw(t){return t&&t!=="0%"}function Bp(t,e,n){const r=t-n,i=e*r;return n+i}function Ew(t,e,n,r,i){return i!==void 0&&(t=Bp(t,i,r)),Bp(t,n,r)+e}function oy(t,e=0,n=1,r,i){t.min=Ew(t.min,e,n,r,i),t.max=Ew(t.max,e,n,r,i)}function k3(t,{x:e,y:n}){oy(t.x,e.translate,e.scale,e.originPoint),oy(t.y,n.translate,n.scale,n.originPoint)}const Aw=.999999999999,Iw=1.0000000000001;function kF(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,c;for(let d=0;d<i;d++){a=n[d],c=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&mc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,k3(t,c)),r&&Uo(a.latestValues)&&mc(t,a.latestValues))}e.x<Iw&&e.x>Aw&&(e.x=1),e.y<Iw&&e.y>Aw&&(e.y=1)}function hc(t,e){t.min=t.min+e,t.max=t.max+e}function Rw(t,e,n,r,i=.5){const a=es(t.min,t.max,i);oy(t,e,n,a,r)}function mc(t,e){Rw(t.x,e.x,e.scaleX,e.scale,e.originX),Rw(t.y,e.y,e.scaleY,e.scale,e.originY)}function C3(t,e){return S3(NF(t.getBoundingClientRect(),e))}function CF(t,e,n){const r=C3(t,n),{scroll:i}=e;return i&&(hc(r.x,i.offset.x),hc(r.y,i.offset.y)),r}const T3=({current:t})=>t?t.ownerDocument.defaultView:null,TF=new WeakMap;class EF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ms(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nh(p).point)},a=(p,g)=>{const{drag:v,dragPropagation:b,onDragStart:j}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=N7(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Er(A=>{let B=this.getAxisMotionValue(A).get()||0;if(Ci.test(B)){const{projection:D}=this.visualElement;if(D&&D.layout){const T=D.layout.layoutBox[A];T&&(B=pr(T)*(parseFloat(B)/100))}}this.originPoint[A]=B}),j&&Gt.postRender(()=>j(p,g)),Yv(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},c=(p,g)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:j,onDrag:I}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:A}=g;if(b&&this.currentDirection===null){this.currentDirection=AF(A),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,A),this.updateAxis("y",g.point,A),this.visualElement.render(),I&&I(p,g)},d=(p,g)=>this.stop(p,g),u=()=>Er(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new b3(e,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:d,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:T3(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Gt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Rm(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=vF(c,this.constraints[e],this.elastic[e])),a.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&cc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=yF(i.layoutBox,n):this.constraints=!1,this.elastic=jF(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Er(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=wF(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=CF(r,i.root,this.visualElement.getTransformPagePoint());let c=bF(i.layout.layoutBox,a);if(n){const d=n(SF(c));this.hasMutatedConstraints=!!d,d&&(c=S3(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},h=Er(p=>{if(!Rm(p,n,this.currentDirection))return;let g=u&&u[p]||{};c&&(g={min:0,max:0});const v=i?200:1e6,b=i?40:1e7,j={type:"inertia",velocity:r?e[p]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(p,j)});return Promise.all(h).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Yv(this.visualElement,e),r.start(J0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Er(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Er(n=>{const{drag:r}=this.getProps();if(!Rm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];a.set(e[n]-es(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Er(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const u=d.get();i[c]=_F({min:u,max:u},this.constraints[c])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Er(c=>{if(!Rm(c,e,null))return;const d=this.getAxisMotionValue(c),{min:u,max:h}=this.constraints[c];d.set(es(u,h,i[c]))})}addListeners(){if(!this.visualElement.current)return;TF.set(this.visualElement,this);const e=this.visualElement.current,n=du(e,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();cc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Gt.read(r);const c=Mu(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Er(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=u[p].translate,g.set(g.get()+u[p].translate))}),this.visualElement.render())}));return()=>{c(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:c=iy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:c,dragMomentum:d}}}function Rm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function AF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class IF extends ro{constructor(e){super(e),this.removeGroupControls=ur,this.removeListeners=ur,this.controls=new EF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ur}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pw=t=>(e,n)=>{t&&Gt.postRender(()=>t(e,n))};class RF extends ro{constructor(){super(...arguments),this.removePointerDownListener=ur}onPointerDown(e){this.session=new b3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:T3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Pw(e),onStart:Pw(n),onMove:r,onEnd:(a,c)=>{delete this.session,i&&Gt.postRender(()=>i(a,c))}}}mount(){this.removePointerDownListener=du(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Xe.test(t))t=parseFloat(t);else return t;const n=Lw(t,e.target.x),r=Lw(t,e.target.y);return`${n}% ${r}%`}},PF={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=to.parse(t);if(i.length>5)return r;const a=to.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,u=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=u;const h=es(d,u,.5);return typeof i[2+c]=="number"&&(i[2+c]/=h),typeof i[3+c]=="number"&&(i[3+c]/=h),a(i)}};class LF extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;i7(DF),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),dp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,c=r.projection;return c&&(c.isPresent=a,i||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?c.promote():c.relegate()||Gt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),C0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function E3(t){const[e,n]=_9(),r=R.useContext(l5);return s.jsx(LF,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(g5),isPresent:e,safeToRemove:n})}const DF={borderRadius:{...Dd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dd,borderTopRightRadius:Dd,borderBottomLeftRadius:Dd,borderBottomRightRadius:Dd,boxShadow:PF};function A3(t,e,n){const r=zs(t)?t:Ac(t);return r.start(J0("",r,e,n)),r.animation}function I3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const MF=(t,e)=>t.depth-e.depth;class FF{constructor(){this.children=[],this.isDirty=!1}add(e){O0(this.children,e),this.isDirty=!0}remove(e){Tf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(MF),this.isDirty=!1,this.children.forEach(e)}}function BF(t,e){const n=Ti.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(ha(r),t(a-e))};return Gt.read(r,!0),()=>ha(r)}const R3=["TopLeft","TopRight","BottomLeft","BottomRight"],$F=R3.length,Dw=t=>typeof t=="string"?parseFloat(t):t,Mw=t=>typeof t=="number"||Xe.test(t);function VF(t,e,n,r,i,a){i?(t.opacity=es(0,n.opacity!==void 0?n.opacity:1,OF(r)),t.opacityExit=es(e.opacity!==void 0?e.opacity:1,0,UF(r))):a&&(t.opacity=es(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<$F;c++){const d=`border${R3[c]}Radius`;let u=Fw(e,d),h=Fw(n,d);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||Mw(u)===Mw(h)?(t[d]=Math.max(es(Dw(u),Dw(h),r),0),(Ci.test(h)||Ci.test(u))&&(t[d]+="%")):t[d]=h}(e.rotate||n.rotate)&&(t.rotate=es(e.rotate||0,n.rotate||0,r))}function Fw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OF=P3(0,.5,q5),UF=P3(.5,.95,ur);function P3(t,e,n){return r=>r<t?0:r>e?1:n(rl(t,e,r))}function Bw(t,e){t.min=e.min,t.max=e.max}function Cr(t,e){Bw(t.x,e.x),Bw(t.y,e.y)}function $w(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Vw(t,e,n,r,i){return t-=e,t=Bp(t,1/n,r),i!==void 0&&(t=Bp(t,1/i,r)),t}function zF(t,e=0,n=1,r=.5,i,a=t,c=t){if(Ci.test(e)&&(e=parseFloat(e),e=es(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=es(a.min,a.max,r);t===a&&(d-=e),t.min=Vw(t.min,e,n,d,i),t.max=Vw(t.max,e,n,d,i)}function Ow(t,e,[n,r,i],a,c){zF(t,e[n],e[r],e[i],e.scale,a,c)}const HF=["x","scaleX","originX"],GF=["y","scaleY","originY"];function Uw(t,e,n,r){Ow(t.x,e,HF,n?n.x:void 0,r?r.x:void 0),Ow(t.y,e,GF,n?n.y:void 0,r?r.y:void 0)}function zw(t){return t.translate===0&&t.scale===1}function L3(t){return zw(t.x)&&zw(t.y)}function Hw(t,e){return t.min===e.min&&t.max===e.max}function WF(t,e){return Hw(t.x,e.x)&&Hw(t.y,e.y)}function Gw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function D3(t,e){return Gw(t.x,e.x)&&Gw(t.y,e.y)}function Ww(t){return pr(t.x)/pr(t.y)}function qw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qF{constructor(){this.members=[]}add(e){O0(this.members,e),e.scheduleRender()}remove(e){if(Tf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KF(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||a||c)&&(r=`translate3d(${i}px, ${a}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:b,skewY:j}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),j&&(r+=`skewY(${j}deg) `)}const d=t.x.scale*e.x,u=t.y.scale*e.y;return(d!==1||u!==1)&&(r+=`scale(${d}, ${u})`),r||"none"}const zo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Zd=typeof window!="undefined"&&window.MotionDebug!==void 0,Dx=["","X","Y","Z"],QF={visibility:"hidden"},Kw=1e3;let XF=0;function Mx(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function M3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=V5(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&M3(r)}function F3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=XF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zd&&(zo.totalNodes=zo.resolvedTargetDeltas=zo.recalculatedProjection=0),this.nodes.forEach(ZF),this.nodes.forEach(rB),this.nodes.forEach(iB),this.nodes.forEach(eB),Zd&&window.MotionDebug.record(zo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new FF)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new U0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const u=this.eventHandlers.get(c);u&&u.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=I3(c),this.instance=c;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(h||u)&&(this.isLayoutDirty=!0),t){let g;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=BF(v,250),dp.hasAnimatedSinceResize&&(dp.hasAnimatedSinceResize=!1,this.nodes.forEach(Xw))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:b,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||p.getDefaultTransition()||dB,{onLayoutAnimationStart:A,onLayoutAnimationComplete:B}=p.getProps(),D=!this.targetLayout||!D3(this.targetLayout,j)||b,T=!v&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,T);const y={...F0(I,"layout"),onPlay:A,onComplete:B};(p.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else v||Xw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ha(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aB),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&M3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qw);return}this.isUpdating||this.nodes.forEach(sB),this.isUpdating=!1,this.nodes.forEach(nB),this.nodes.forEach(YF),this.nodes.forEach(JF),this.clearAllSnapshots();const d=Ti.now();en.delta=ma(0,1e3/60,d-en.timestamp),en.timestamp=d,en.isProcessing=!0,kx.update.process(en),kx.preRender.process(en),kx.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,C0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tB),this.sharedNodes.forEach(oB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ms(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!L3(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&(d||Uo(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return c&&(u=this.removeTransform(u)),uB(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return ms();const u=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(hB))){const{scroll:p}=this.root;p&&(hc(u.x,p.offset.x),hc(u.y,p.offset.y))}return u}removeElementScroll(c){var d;const u=ms();if(Cr(u,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Cr(u,c),hc(u.x,g.offset.x),hc(u.y,g.offset.y))}return u}applyTransform(c,d=!1){const u=ms();Cr(u,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&mc(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Uo(p.latestValues)&&mc(u,p.latestValues)}return Uo(this.latestValues)&&mc(u,this.latestValues),u}removeTransform(c){const d=ms();Cr(d,c);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Uo(h.latestValues))continue;ay(h.latestValues)&&h.updateSnapshot();const p=ms(),g=h.measurePageBox();Cr(p,g),Uw(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Uo(this.latestValues)&&Uw(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ms(),this.relativeTargetOrigin=ms(),hu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ms(),this.targetWithTransforms=ms()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cr(this.target,this.layout.layoutBox),k3(this.target,this.targetDelta)):Cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ms(),this.relativeTargetOrigin=ms(),hu(this.relativeTargetOrigin,this.target,b.target),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zd&&zo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ay(this.parent.latestValues)||N3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),u=!!this.resumingFrom||this!==d;let h=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===en.timestamp&&(h=!1),h)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Cr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;kF(this.layoutCorrected,this.treeScale,this.path,u),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ms());const{target:j}=d;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($w(this.prevProjectionDelta.x,this.projectionDelta.x),$w(this.prevProjectionDelta.y,this.projectionDelta.y)),uu(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!qw(this.projectionDelta.x,this.prevProjectionDelta.x)||!qw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Zd&&zo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uc(),this.projectionDelta=uc(),this.projectionDeltaWithTransform=uc()}setAnimationOrigin(c,d=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},g=uc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=ms(),b=u?u.source:void 0,j=this.layout?this.layout.source:void 0,I=b!==j,A=this.getStack(),B=!A||A.members.length<=1,D=!!(I&&!B&&this.options.crossfade===!0&&!this.path.some(cB));this.animationProgress=0;let T;this.mixTargetDelta=y=>{const S=y/1e3;Yw(g.x,c.x,S),Yw(g.y,c.y,S),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lB(this.relativeTarget,this.relativeTargetOrigin,v,S),T&&WF(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=ms()),Cr(T,this.relativeTarget)),I&&(this.animationValues=p,VF(p,h,this.latestValues,S,D,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ha(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{dp.hasAnimatedSinceResize=!0,this.currentAnimation=A3(0,Kw,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:u,layout:h,latestValues:p}=c;if(!(!d||!u||!h)){if(this!==c&&this.layout&&h&&B3(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||ms();const g=pr(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+g;const v=pr(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+v}Cr(d,u),mc(d,p),uu(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new qF),this.sharedNodes.get(c).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const h={};u.z&&Mx("z",c,h,this.animationValues);for(let p=0;p<Dx.length;p++)Mx(`rotate${Dx[p]}`,c,h,this.animationValues),Mx(`skew${Dx[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}getProjectionStyles(c){var d,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QF;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=lp(c==null?void 0:c.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=lp(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Uo(this.latestValues)&&(I.transform=p?p({},""):"none",this.hasProjected=!1),I}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=KF(this.projectionDeltaWithTransform,this.treeScale,v),p&&(h.transform=p(v,h.transform));const{x:b,y:j}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${j.origin*100}% 0`,g.animationValues?h.opacity=g===this?(u=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const I in Rp){if(v[I]===void 0)continue;const{correct:A,applyTo:B}=Rp[I],D=h.transform==="none"?v[I]:A(v[I],g);if(B){const T=B.length;for(let y=0;y<T;y++)h[B[y]]=D}else h[I]=D}return this.options.layoutId&&(h.pointerEvents=g===this?lp(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Qw),this.root.sharedNodes.clear()}}}function YF(t){t.updateLayout()}function JF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,c=n.source!==t.layout.source;a==="size"?Er(g=>{const v=c?n.measuredBox[g]:n.layoutBox[g],b=pr(v);v.min=r[g].min,v.max=v.min+b}):B3(a,n.layoutBox,r)&&Er(g=>{const v=c?n.measuredBox[g]:n.layoutBox[g],b=pr(r[g]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const d=uc();uu(d,r,n.layoutBox);const u=uc();c?uu(u,t.applyTransform(i,!0),n.measuredBox):uu(u,r,n.layoutBox);const h=!L3(d);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const j=ms();hu(j,n.layoutBox,v.layoutBox);const I=ms();hu(I,r,b.layoutBox),D3(j,I)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=j,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ZF(t){Zd&&zo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tB(t){t.clearSnapshot()}function Qw(t){t.clearMeasurements()}function sB(t){t.isLayoutDirty=!1}function nB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rB(t){t.resolveTargetDelta()}function iB(t){t.calcProjection()}function aB(t){t.resetSkewAndRotation()}function oB(t){t.removeLeadSnapshot()}function Yw(t,e,n){t.translate=es(e.translate,0,n),t.scale=es(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Jw(t,e,n,r){t.min=es(e.min,n.min,r),t.max=es(e.max,n.max,r)}function lB(t,e,n,r){Jw(t.x,e.x,n.x,r),Jw(t.y,e.y,n.y,r)}function cB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const dB={duration:.45,ease:[.4,0,.1,1]},Zw=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ej=Zw("applewebkit/")&&!Zw("chrome/")?Math.round:ur;function tj(t){t.min=ej(t.min),t.max=ej(t.max)}function uB(t){tj(t.x),tj(t.y)}function B3(t,e,n){return t==="position"||t==="preserve-aspect"&&!gF(Ww(e),Ww(n),.2)}function hB(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const mB=F3({attachResizeListener:(t,e)=>Mu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fx={current:void 0},$3=F3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fx.current){const t=new mB({});t.mount(window),t.setOptions({layoutScroll:!0}),Fx.current=t}return Fx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pB={pan:{Feature:RF},drag:{Feature:IF,ProjectionNode:$3,MeasureLayout:E3}};function sj(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Gt.postRender(()=>a(e,nh(e)))}class fB extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=b7(e,n=>(sj(this.node,n,"Start"),r=>sj(this.node,r,"End"))))}unmount(){}}class gB extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sh(Mu(this.node.current,"focus",()=>this.onFocus()),Mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nj(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Gt.postRender(()=>a(e,nh(e)))}class xB extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=S7(e,n=>(nj(this.node,n,"Start"),(r,{success:i})=>nj(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ly=new WeakMap,Bx=new WeakMap,vB=t=>{const e=ly.get(t.target);e&&e(t)},yB=t=>{t.forEach(vB)};function bB({root:t,...e}){const n=t||document;Bx.has(n)||Bx.set(n,{});const r=Bx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(yB,{root:t,...e})),r[i]}function _B(t,e,n){const r=bB(e);return ly.set(t,n),r.observe(t),()=>{ly.delete(t),r.unobserve(t)}}const wB={some:0,all:1};class jB extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:wB[i]},d=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(u)};return _B(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(SB(e,n))&&this.startObserver()}unmount(){}}function SB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const NB={inView:{Feature:jB},tap:{Feature:xB},focus:{Feature:gB},hover:{Feature:fB}},kB={layout:{ProjectionNode:$3,MeasureLayout:E3}},$p={current:null},e1={current:!1};function V3(){if(e1.current=!0,!!w0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>$p.current=t.matches;t.addListener(e),e()}else $p.current=!1}const CB=[...o3,gn,to],TB=t=>CB.find(a3(t)),Rc=new WeakMap;function EB(t,e,n){for(const r in e){const i=e[r],a=n[r];if(zs(i))t.addValue(r,i);else if(zs(a))t.addValue(r,Ac(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,Ac(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const rj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class O3{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=K0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Ti.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Gt.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:p}=c;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Nf(n),this.isVariantNode=p5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in v){const j=v[b];u[b]!==void 0&&zs(j)&&j.set(u[b],!1)}}mount(e){this.current=e,Rc.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),e1.current||V3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$p.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Rc.delete(this.current),this.projection&&this.projection.unmount(),ha(this.notifyUpdate),ha(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=hl.has(e),i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ec){const n=Ec[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ms()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rj.length;r++){const i=rj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,c=e[a];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=EB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ac(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(r3(i)||Q5(i))?i=parseFloat(i):!TB(i)&&to.test(n)&&(i=t3(e,n)),this.setBaseTarget(e,zs(i)?i.get():i)),zs(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=E0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!zs(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new U0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class U3 extends O3{constructor(){super(...arguments),this.KeyframeResolver=l3}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;zs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function AB(t){return window.getComputedStyle(t)}class z3 extends U3{constructor(){super(...arguments),this.type="html",this.renderInstance=j5}readValueFromInstance(e,n){if(hl.has(n)){const r=q0(n);return r&&r.default||0}else{const r=AB(e),i=(b5(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return C3(e,n)}build(e,n,r){R0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return M0(e,n,r)}}class H3 extends U3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ms}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hl.has(n)){const r=q0(n);return r&&r.default||0}return n=S5.has(n)?n:k0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return C5(e,n,r)}build(e,n,r){P0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){N5(e,n,r,i)}mount(e){this.isSVGTag=D0(e.tagName),super.mount(e)}}const IB=(t,e)=>T0(t)?new H3(e):new z3(e,{allowProjection:t!==R.Fragment}),RB=p7({...oF,...NB,...pB,...kB},IB),G3=E9(RB);function eu(t){const e=y0(()=>Ac(t)),{isStatic:n}=R.useContext(_0);if(n){const[,r]=R.useState(t);R.useEffect(()=>e.on("change",r),[])}return e}function W3(t,e){const n=eu(e()),r=()=>n.set(e());return r(),c5(()=>{const i=()=>Gt.preRender(r,!1,!0),a=t.map(c=>c.on("change",i));return()=>{a.forEach(c=>c()),ha(r)}}),n}const PB=t=>t&&typeof t=="object"&&t.mix,LB=t=>PB(t)?t.mix:void 0;function DB(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],c=t[3+n],d=f3(i,a,{mixer:LB(a[0]),...c});return e?d(r):d}function MB(t){lu.current=[],t();const e=W3(lu.current,t);return lu.current=void 0,e}function Pm(t,e,n,r){if(typeof t=="function")return MB(t);const i=typeof e=="function"?e:DB(e,n,r);return Array.isArray(t)?ij(t,i):ij([t],([a])=>i(a))}function ij(t,e){const n=y0(()=>[]);return W3(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function q3(){!e1.current&&V3();const[t]=R.useState($p.current);return t}const FB=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function K3(t,e){return p3(t)?t[FB(0,t.length,e)]:t}function t1(t){return typeof t=="object"&&!Array.isArray(t)}function Q3(t,e,n,r){return typeof t=="string"&&t1(e)?D5(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function BB(t,e,n){return t*(e+1)}function aj(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function $B(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(Tf(t,i),r--)}}function VB(t,e,n,r,i,a){$B(t,i,a);for(let c=0;c<e.length;c++)t.push({value:e[c],at:es(i,a,r[c]),easing:K3(n,c)})}function OB(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function UB(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const zB="easeInOut";function HB(t,{defaultTransition:e={},...n}={},r,i){const a=e.duration||.3,c=new Map,d=new Map,u={},h=new Map;let p=0,g=0,v=0;for(let b=0;b<t.length;b++){const j=t[b];if(typeof j=="string"){h.set(j,g);continue}else if(!Array.isArray(j)){h.set(j.name,aj(g,j.at,p,h));continue}let[I,A,B={}]=j;B.at!==void 0&&(g=aj(g,B.at,p,h));let D=0;const T=(y,S,M,C=0,w=0)=>{const E=GB(y),{delay:L=0,times:P=x3(E),type:V="keyframes",repeat:$,repeatType:W,repeatDelay:H=0,...q}=S;let{ease:Q=e.ease||"easeOut",duration:G}=S;const te=typeof L=="function"?L(C,w):L,re=E.length,z=Cf(V)?V:i==null?void 0:i[V];if(re<=2&&z){let fe=100;if(re===2&&KB(E)){const Ce=E[1]-E[0];fe=Math.abs(Ce)}const Te={...q};G!==void 0&&(Te.duration=Ni(G));const xe=x7(Te,fe,z);Q=xe.ease,G=xe.duration}G!=null||(G=a);const se=g+te;P.length===1&&P[0]===0&&(P[1]=1);const ce=P.length-E.length;if(ce>0&&g3(P,ce),E.length===1&&E.unshift(null),$){G=BB(G,$);const fe=[...E],Te=[...P];Q=Array.isArray(Q)?[...Q]:[Q];const xe=[...Q];for(let Ce=0;Ce<$;Ce++){E.push(...fe);for(let Ne=0;Ne<fe.length;Ne++)P.push(Te[Ne]+(Ce+1)),Q.push(Ne===0?"linear":K3(xe,Ne-1))}OB(P,$)}const ee=se+G;VB(M,E,Q,P,se,ee),D=Math.max(te+G,D),v=Math.max(ee,v)};if(zs(I)){const y=oj(I,d);T(A,B,lj("default",y))}else{const y=Q3(I,A,r,u),S=y.length;for(let M=0;M<S;M++){A=A,B=B;const C=y[M],w=oj(C,d);for(const E in A)T(A[E],WB(B,E),lj(E,w),M,S)}}p=g,g+=D}return d.forEach((b,j)=>{for(const I in b){const A=b[I];A.sort(UB);const B=[],D=[],T=[];for(let S=0;S<A.length;S++){const{at:M,value:C,easing:w}=A[S];B.push(C),D.push(rl(0,v,M)),T.push(w||"easeOut")}D[0]!==0&&(D.unshift(0),B.unshift(B[0]),T.unshift(zB)),D[D.length-1]!==1&&(D.push(1),B.push(null)),c.has(j)||c.set(j,{keyframes:{},transition:{}});const y=c.get(j);y.keyframes[I]=B,y.transition[I]={...e,duration:v,ease:T,times:D,...n}}}),c}function oj(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function lj(t,e){return e[t]||(e[t]=[]),e[t]}function GB(t){return Array.isArray(t)?t:[t]}function WB(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const qB=t=>typeof t=="number",KB=t=>t.every(qB);function QB(t,e){return t in e}class XB extends O3{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(QB(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return ms()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function YB(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=I3(t)?new H3(e):new z3(e);n.mount(t),Rc.set(t,n)}function JB(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new XB(e);n.mount(t),Rc.set(t,n)}function ZB(t,e){return zs(t)||typeof t=="number"||typeof t=="string"&&!t1(e)}function X3(t,e,n,r){const i=[];if(ZB(t,e))i.push(A3(t,t1(e)&&e.default||e,n&&(n.default||n)));else{const a=Q3(t,e,r),c=a.length;for(let d=0;d<c;d++){const u=a[d],h=u instanceof Element?YB:JB;Rc.has(u)||h(u);const p=Rc.get(u),g={...n};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(d,c)),i.push(...Z0(p,{...e,transition:g},{}))}}return i}function e$(t,e,n){const r=[];return HB(t,e,n,{spring:X0}).forEach(({keyframes:a,transition:c},d)=>{r.push(...X3(d,a,c))}),r}function t$(t){return Array.isArray(t)&&t.some(Array.isArray)}function s$(t){function e(n,r,i){let a=[];return t$(n)?a=e$(n,r,t):a=X3(n,r,i,t),new A5(a)}return e}const Lm=s$(),na={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function n$(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+na.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function r$(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:na.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:na.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:na.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:na.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function cj({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=q3();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:na.border,background:"var(--nav, "+na.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(n$,{}),s.jsx(G3.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(r$,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const $x={borderColor:"#2B4C73",background:"#1A2F4A"},Dm={borderColor:"#2B4C73",background:"#152A42"};function vt({hex:t,title:e,subtitle:n,actions:r,subheader:i,left:a,right:c,children:d,rounded:u="rounded-3xl",padded:h=!0,centerFramed:p=!1,leftWidth:g=0,rightWidth:v=0,stickyRails:b=!0,mode:j="card",outerPadding:I="px-4 py-3",leftPlacement:A="inside",stickyTopbar:B=!0,stickySubheader:D=!0,shellViewportOffset:T="var(--app-topbar-h,72px)",topbarHeight:y=56}){const S={"--left":typeof g=="number"?`${g}px`:g,"--right":typeof v=="number"?`${v}px`:v},M=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:$x,children:t}),(e||n||r)&&s.jsxs("div",{className:[B?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:$x,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&s.jsx("div",{className:[D?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...D?{top:B?`${y}px`:0}:{},...$x},children:i})]}),C=j==="card"?({children:E})=>s.jsx(cj,{rounded:u,padded:h,children:E}):({children:E})=>s.jsx("div",{className:`w-full ${I}`,children:E}),w=s.jsx("div",{className:"relative min-h-0 h-full",style:S,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[a?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Dm,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:a}):g?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),p?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Dm,children:d}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Dm,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):v?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return A==="bleed"&&j==="card"?s.jsx("div",{className:`w-full ${I}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[M,s.jsx("div",{className:"flex-1 min-h-0",style:S,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[a?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Dm,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:a}):g?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(cj,{rounded:u,padded:h,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:w})})]})})]})}):s.jsx(C,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${T})`},children:[M,s.jsx("div",{className:"flex-1 min-h-0",children:w})]})})}const i$="_row_x5rfq_3",a$="_colFull_x5rfq_17",o$="_colCommunity_x5rfq_31",l$="_colGuides_x5rfq_33",c$="_card_x5rfq_129",d$="_header_x5rfq_143",u$="_title_x5rfq_155",h$="_subtitle_x5rfq_157",m$="_empty_x5rfq_159",p$="_errorNote_x5rfq_161",f$="_linkBtn_x5rfq_163",g$="_primaryBtn_x5rfq_163",x$="_navBtn_x5rfq_163",v$="_closeBtn_x5rfq_163",y$="_actionsRight_x5rfq_179",b$="_tileGrid_x5rfq_185",_$="_tile_x5rfq_185",w$="_tileIcon_x5rfq_211",j$="_tileIconFallback_x5rfq_213",S$="_tileLabel_x5rfq_215",N$="_newsList_x5rfq_221",k$="_newsItem_x5rfq_223",C$="_newsMeta_x5rfq_225",T$="_newsAuthor_x5rfq_227",E$="_newsTime_x5rfq_229",A$="_newsText_x5rfq_231",I$="_newsImage_x5rfq_233",R$="_carouselCtrls_x5rfq_241",P$="_carousel_x5rfq_241",L$="_slide_x5rfq_249",D$="_slideActive_x5rfq_251",M$="_slideInactive_x5rfq_253",F$="_slideThumb_x5rfq_255",B$="_slideFallback_x5rfq_257",$$="_slideCaption_x5rfq_259",V$="_liveCard_x5rfq_265",O$="_liveAvatar_x5rfq_267",U$="_liveAvatarFallback_x5rfq_269",z$="_liveInfo_x5rfq_271",H$="_liveName_x5rfq_273",G$="_liveMeta_x5rfq_275",W$="_liveBadge_x5rfq_277",q$="_liveViewers_x5rfq_279",K$="_modalOverlay_x5rfq_285",Q$="_modal_x5rfq_285",X$="_modalHeader_x5rfq_289",Y$="_modalTitle_x5rfq_291",J$="_modalFilters_x5rfq_295",Z$="_formRow_x5rfq_297",eV="_formRowCheckbox_x5rfq_299",tV="_select_x5rfq_301",sV="_input_x5rfq_301",nV="_tableWrap_x5rfq_303",rV="_table_x5rfq_303",Le={row:i$,colFull:a$,colCommunity:o$,colGuides:l$,card:c$,header:d$,title:u$,subtitle:h$,empty:m$,errorNote:p$,linkBtn:f$,primaryBtn:g$,navBtn:x$,closeBtn:v$,actionsRight:y$,tileGrid:b$,tile:_$,tileIcon:w$,tileIconFallback:j$,tileLabel:S$,newsList:N$,newsItem:k$,newsMeta:C$,newsAuthor:T$,newsTime:E$,newsText:A$,newsImage:I$,carouselCtrls:R$,carousel:P$,slide:L$,slideActive:D$,slideInactive:M$,slideThumb:F$,slideFallback:B$,slideCaption:$$,liveCard:V$,liveAvatar:O$,liveAvatarFallback:U$,liveInfo:z$,liveName:H$,liveMeta:G$,liveBadge:W$,liveViewers:q$,modalOverlay:K$,modal:Q$,modalHeader:X$,modalTitle:Y$,modalFilters:J$,formRow:Z$,formRowCheckbox:eV,select:tV,input:sV,tableWrap:nV,table:rV},iV=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function Y3(){const t=[];for(const n of iV)try{const i=await(await fetch(n,{cache:"no-store"})).text(),a=aV(i);t.push(...a)}catch(r){}const e=new Map;for(const n of t){const r=String(n["Creator Name"]||n.creator_name||n.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,n)}return Array.from(e.values())}function dj(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const a=t[i];a==='"'?r&&t[i+1]==='"'?(n+='"',i++):r=!r:a===","&&!r?(e.push(n),n=""):n+=a}return e.push(n),e}function aV(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const n=dj(e[0]);return e.slice(1).map(r=>{const i=dj(r),a={};return n.forEach((c,d)=>{var u;return a[c.trim()]=((u=i[d])!=null?u:"").trim()}),a})}function oV(t){try{const e=Date.now(),n=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-n),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const a=Math.floor(i/60);if(a<60)return`${a}m`;const c=Math.floor(a/60);return c<24?`${c}h`:`${Math.floor(c/24)}d`}catch(e){return""}}function lV(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const n=e.pathname.toLowerCase();if(n.startsWith("/shorts/"))return n.split("/")[2]||null}}catch(e){}return null}const cV=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help/",label:"Help"},{to:"/settings/",label:"Settings"}],uj={},dV=()=>s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.tiles",children:[s.jsxs("header",{className:Le.header,children:[s.jsx("span",{className:Le.title,"data-i18n":"home.title",children:"Home"}),s.jsx("span",{className:Le.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),s.jsx("div",{className:Le.tileGrid,role:"list",children:cV.map(t=>s.jsxs(Ft,{to:t.to,role:"listitem",className:Le.tile,"aria-label":t.label,children:[uj[t.to]?s.jsx("img",{src:uj[t.to],alt:"",className:Le.tileIcon}):s.jsx("div",{className:Le.tileIconFallback,"aria-hidden":!0,children:t.label.slice(0,2).toUpperCase()}),s.jsx("div",{className:Le.tileLabel,"data-i18n":`nav.${t.label.toLowerCase()}`,children:t.label})]},t.to))})]}),uV=()=>{const[t,e]=R.useState(null),[n,r]=R.useState(null);R.useEffect(()=>{async function a(){{e([]);return}}return a(),()=>{}},[]);const i=!t||t.length===0;return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.news","aria-busy":t==null,children:[s.jsx("header",{className:Le.header,children:s.jsx("span",{className:Le.title,"data-i18n":"home.news.title",children:"Community news"})}),s.jsxs("div",{className:Le.newsList,children:[t==null?void 0:t.map(a=>{var c;return s.jsxs("article",{className:Le.newsItem,children:[s.jsxs("div",{className:Le.newsMeta,children:[s.jsx("span",{className:Le.newsAuthor,children:a.author||"Discord"}),s.jsx("span",{className:Le.newsTime,children:oV(a.timestamp)})]}),s.jsx("p",{className:Le.newsText,children:a.text}),a.image&&s.jsx("img",{src:a.image,alt:"",className:Le.newsImage}),a.url&&s.jsx("a",{href:a.url,target:"_blank",rel:"noreferrer",className:Le.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(c=a.id)!=null?c:`${a.author}-${a.timestamp}`)}),i&&s.jsx("div",{className:Le.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),n&&s.jsx("div",{className:Le.errorNote,"aria-live":"polite",children:n})]})},hV=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(0),i=R.useRef(null);R.useEffect(()=>{let u=!0;async function h(){try{const g=(await Y3()).map(v=>{const b=String(v["Creator Name"]||v.creator_name||v.name||"").trim(),j=String(v["YouTube Link"]||v.youtube||v.YouTube||"").trim();if(!j)return null;const I=lV(j),A=I?`https://i.ytimg.com/vi/${I}/hqdefault.jpg`:void 0;return{title:b,url:j,thumb:A}}).filter(Boolean).slice(0,12);u&&e(g)}catch(p){u&&e([])}}return h(),()=>{u=!1}},[]),R.useEffect(()=>{if(!(t.length<=1))return i.current=window.setInterval(()=>r(u=>(u+1)%t.length),6e3),()=>{i.current&&window.clearInterval(i.current)}},[t]);const a=()=>r(u=>(u-1+t.length)%Math.max(t.length,1)),c=()=>r(u=>(u+1)%Math.max(t.length,1)),d=u=>{u.key==="ArrowLeft"&&(u.preventDefault(),a()),u.key==="ArrowRight"&&(u.preventDefault(),c())};return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.youtube",children:[s.jsxs("header",{className:Le.header,children:[s.jsx("span",{className:Le.title,"data-i18n":"home.youtube.title",children:"YouTube"}),s.jsxs("div",{className:Le.carouselCtrls,children:[s.jsx("button",{className:Le.navBtn,onClick:a,"aria-label":"Prev",children:""}),s.jsx("button",{className:Le.navBtn,onClick:c,"aria-label":"Next",children:""})]})]}),s.jsx("div",{className:Le.carousel,tabIndex:0,onKeyDown:d,"aria-roledescription":"carousel",children:t.length===0?s.jsx("div",{className:Le.empty,children:"No videos"}):t.map((u,h)=>s.jsxs("a",{href:u.url,target:"_blank",rel:"noreferrer",className:[Le.slide,h===n?Le.slideActive:Le.slideInactive].join(" "),children:[u.thumb?s.jsx("img",{src:u.thumb,alt:"",className:Le.slideThumb}):s.jsx("div",{className:Le.slideFallback,children:u.title.slice(0,2).toUpperCase()}),s.jsx("div",{className:Le.slideCaption,children:u.title})]},u.url))})]})},mV=({onOpenSchedule:t})=>{var p;const[e,n]=R.useState(null),[r,i]=R.useState(new Map),[a,c]=R.useState(0),d=R.useRef(null);if(R.useEffect(()=>{async function g(){{n([]);return}}return g(),()=>{}},[]),R.useEffect(()=>{let g=!0;async function v(){try{const b=await Y3(),j=new Map;for(const I of b){const A=String(I["Creator Name"]||I.creator_name||I.name||"").trim(),B=String(I["Twitch Link"]||I.twitch||I.Twitch||"").trim();if(!A||!B)continue;const D=(()=>{try{return new URL(B).pathname.replace(/^\//,"").toLowerCase()}catch(T){return B.toLowerCase()}})();D&&j.set(D,B),j.set(A.toLowerCase(),B)}g&&i(j)}catch(b){g&&i(new Map)}}return v(),()=>{g=!1}},[]),R.useEffect(()=>{if(!(!e||e.length<=1))return d.current=window.setInterval(()=>c(g=>(g+1)%e.length),8e3),()=>{d.current&&window.clearInterval(d.current)}},[e]),!e||e.length===0)return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:Le.header,children:s.jsx("span",{className:Le.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsx("div",{className:Le.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),s.jsx("div",{className:Le.actionsRight,children:s.jsx("button",{className:Le.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const u=e[a],h=(()=>{const g=((u==null?void 0:u.name)||"").toLowerCase();if(u!=null&&u.url)return u.url;if(g)return r.has(g)?r.get(g):r.has(g.replace(/^@/,""))?r.get(g.replace(/^@/,"")):`https://www.twitch.tv/${g}`})();return s.jsxs("section",{className:Le.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:Le.header,children:s.jsx("span",{className:Le.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsxs("div",{className:Le.liveCard,children:[u!=null&&u.avatar?s.jsx("img",{src:u.avatar,alt:"",className:Le.liveAvatar}):s.jsx("div",{className:Le.liveAvatarFallback,"aria-hidden":!0,children:(p=u==null?void 0:u.name)==null?void 0:p.slice(0,2).toUpperCase()}),s.jsxs("div",{className:Le.liveInfo,children:[s.jsx("div",{className:Le.liveName,children:u==null?void 0:u.name}),s.jsxs("div",{className:Le.liveMeta,children:[s.jsx("span",{className:Le.liveBadge,children:"LIVE"}),typeof(u==null?void 0:u.viewers)=="number"&&s.jsxs("span",{className:Le.liveViewers,children:[u.viewers.toLocaleString()," viewers"]})]})]}),h&&s.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:Le.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),s.jsxs("div",{className:Le.carouselCtrls,children:[s.jsx("button",{className:Le.navBtn,onClick:()=>c(g=>(g-1+e.length)%e.length),"aria-label":"Prev",children:""}),s.jsx("button",{className:Le.navBtn,onClick:()=>c(g=>(g+1)%e.length),"aria-label":"Next",children:""})]})]})},pV=({open:t,onClose:e})=>{var b;const[n,r]=R.useState(null),[i,a]=R.useState("All"),[c,d]=R.useState(""),[u,h]=R.useState(!1);if(R.useEffect(()=>{if(!t)return;async function j(){{r([]);return}}return j(),()=>{}},[t]),R.useEffect(()=>{const j=I=>{I.key==="Escape"&&e()};return t&&window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[t,e]),!t)return null;const p=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),g=(n||[]).filter(j=>{if(i!=="All"&&j.platform.toLowerCase()!==i.toLowerCase()||u&&j.weekday&&j.weekday.toLowerCase()!==p.toLowerCase())return!1;if(c){const I=c.toLowerCase();if(!`${j.streamer} ${j.title}`.toLowerCase().includes(I))return!1}return!0}),v=((b=n==null?void 0:n.length)!=null?b:0)===0;return s.jsx("div",{className:Le.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:s.jsxs("div",{className:Le.modal,children:[s.jsxs("header",{className:Le.modalHeader,children:[s.jsx("h2",{id:"schedule-title",className:Le.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),s.jsx("button",{className:Le.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),s.jsxs("div",{className:Le.modalFilters,children:[s.jsxs("label",{className:Le.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),s.jsxs("select",{value:i,onChange:j=>a(j.target.value),className:Le.select,children:[s.jsx("option",{value:"All",children:"All"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),s.jsxs("label",{className:Le.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),s.jsx("input",{value:c,onChange:j=>d(j.target.value),className:Le.input,placeholder:"Streamer / Title"})]}),s.jsxs("label",{className:Le.formRowCheckbox,children:[s.jsx("input",{type:"checkbox",checked:u,onChange:j=>h(j.target.checked)}),s.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),s.jsx("div",{className:Le.tableWrap,children:s.jsxs("table",{className:Le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"weekday"}),s.jsx("th",{children:"start_utc"}),s.jsx("th",{children:"end_utc"}),s.jsx("th",{children:"timezone"}),s.jsx("th",{children:"platform"}),s.jsx("th",{children:"channel_url"}),s.jsx("th",{children:"streamer"}),s.jsx("th",{children:"title"})]})}),s.jsx("tbody",{children:v?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:Le.empty,children:"No schedule yet"})}):g.map((j,I)=>s.jsxs("tr",{children:[s.jsx("td",{children:j.weekday}),s.jsx("td",{children:j.start_utc}),s.jsx("td",{children:j.end_utc}),s.jsx("td",{children:j.timezone}),s.jsx("td",{children:j.platform}),s.jsx("td",{children:j.channel_url?s.jsx("a",{href:j.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),s.jsx("td",{children:j.streamer}),s.jsx("td",{children:j.title})]},I))})]})})]})})},fV=()=>{const[t,e]=R.useState(!1);return s.jsxs(vt,{title:"home.title",subtitle:"home.subtitle",children:[s.jsx("div",{className:Le.row,children:s.jsx("div",{className:Le.colFull,children:s.jsx(dV,{})})}),s.jsxs("div",{className:Le.row,children:[s.jsx("div",{className:Le.colCommunity,children:s.jsx(uV,{})}),s.jsx("div",{className:Le.colGuides,children:s.jsx(hV,{})})]}),s.jsx("div",{className:Le.row,children:s.jsx("div",{className:Le.colFull,children:s.jsx(mV,{onOpenSchedule:()=>e(!0)})})}),s.jsx(pV,{open:t,onClose:()=>e(!1)})]})},gV="_wrapper_125p4_1",xV="_card_125p4_19",vV="_logo_125p4_45",yV="_heading_125p4_61",bV="_subcopy_125p4_73",_V="_buttonStack_125p4_83",wV="_providerButton_125p4_97",jV="_discord_125p4_145",SV="_google_125p4_153",NV="_disclaimer_125p4_161",kV="_status_125p4_173",CV="_sessionBlock_125p4_183",TV="_logoutButton_125p4_197",EV="_linkButton_125p4_227",AV="_loading_125p4_245",IV="_spinner_125p4_261",Js={wrapper:gV,card:xV,logo:vV,heading:yV,subcopy:bV,buttonStack:_V,providerButton:wV,discord:jV,google:SV,disclaimer:NV,status:kV,sessionBlock:CV,logoutButton:TV,linkButton:EV,loading:AV,spinner:IV},RV=()=>{const t=Dr(),{status:e,user:n,loginWithDiscord:r,loginWithGoogle:i,logout:a}=cl(),c=e==="loading"||e==="idle",d=e==="authenticated"&&!!n,u=()=>{c||r()},h=()=>{c||i()},p=async()=>{await a()},g=()=>{t("/")};let v;return c?v=s.jsxs("div",{className:Js.loading,children:[s.jsx("div",{className:Js.spinner}),s.jsx("div",{children:"Checking session"})]}):d&&n?v=s.jsxs("div",{className:Js.sessionBlock,children:[s.jsxs("div",{className:Js.status,children:["You are logged in as ",n.displayName,"."]}),s.jsx("button",{className:Js.logoutButton,type:"button",onClick:p,children:"Logout"}),s.jsx("button",{className:Js.linkButton,type:"button",onClick:g,children:"Back to dashboard"})]}):v=s.jsxs("div",{className:Js.buttonStack,children:[s.jsx("button",{className:`${Js.providerButton} ${Js.discord}`,type:"button",onClick:u,children:"Login with Discord"}),s.jsx("button",{className:`${Js.providerButton} ${Js.google}`,type:"button",onClick:h,children:"Login with Google"})]}),s.jsx(vt,{title:"Account Access",subtitle:"Connect with your community identity",mode:"page",padded:!0,children:s.jsx("div",{className:Js.wrapper,children:s.jsxs("div",{className:Js.card,children:[s.jsx("img",{className:Js.logo,src:op,alt:"SFDataHub logo"}),s.jsx("h1",{className:Js.heading,children:"Sign in"}),s.jsx("p",{className:Js.subcopy,children:"Choose a method to access SFDataHub."}),v,s.jsx("p",{className:Js.disclaimer,children:"We store only your SFDataHub user ID, display name, avatar, and roles to personalize your experience."})]})})})};function PV(){return s.jsx(vt,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(LV,{}),right:s.jsx(DV,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Vx,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(Vx,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(Vx,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function LV(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Ox,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(Ox,{to:"/dashboard/activity",children:"Activity"}),s.jsx(Ox,{to:"/dashboard/progression",children:"Progression"})]})]})}function DV(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function Vx({to:t,title:e,desc:n}){return s.jsxs(Ft,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Ox({to:t,children:e}){return s.jsx(Ft,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function MV(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Ux,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(Ux,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(Ux,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Ux({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function FV(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function BV(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(zx,{title:"Scrapbook 100%",progress:72}),s.jsx(zx,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(zx,{title:"Underworld Boss",progress:35})]})]})}function zx({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function $V(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Ro,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(Ro,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(Ro,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(Ro,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(Ro,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(Ro,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"}),s.jsx(Ro,{to:"/players/compare",title:"Compare Players",desc:"Direkter Spieler-Vergleich"})]})]})}function Ro({to:t,title:e,desc:n}){return s.jsxs(Ft,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function VV({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:na.border,backgroundColor:na.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function OV(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const UV=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:a,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:u=0,tryTransparentBg:h=!0})=>{const[p,g]=R.useState(!1),v=R.useMemo(()=>OV(t,h),[t,h]),b=i?"lazy":"eager",j={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},I={position:"relative",width:"100%",padding:u?`${u}px`:0,boxSizing:"border-box",background:"transparent"},A=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},B={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:a,style:j,children:s.jsx("div",{style:I,children:s.jsxs("div",{style:A,children:[s.jsx("iframe",{src:v,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:b,scrolling:"no",title:"Heyzine Flipbook"}),c&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>g(D=>!D),style:B,title:"Info",children:"i"}),p&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",s.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},zV="#0C1C2E",HV=()=>s.jsx(vt,{children:s.jsx(VV,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:zV,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx(UV,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),GV="_pageWrap_72re9_7",WV="_infoLine_72re9_17",qV="_viewerHost_72re9_43",KV="_overlay_72re9_99",QV="_dragZoneLeft_72re9_101",XV="_dragZoneRight_72re9_103",YV="_inbookLink_72re9_105",Ba={pageWrap:GV,infoLine:WV,viewerHost:qV,overlay:KV,dragZoneLeft:QV,dragZoneRight:XV,inbookLink:YV};var tu={exports:{}},JV=tu.exports,hj;function ZV(){return hj||(hj=1,(function(t,e){(function(n,r){r(e)})(JV,(function(n){class r{constructor(y,S){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=S,this.nowDrawingDensity=this.createdDensity,this.render=y}setDensity(y){this.createdDensity=y,this.nowDrawingDensity=y}setDrawingDensity(y){this.nowDrawingDensity=y}setPosition(y){this.state.position=y}setAngle(y){this.state.angle=y}setArea(y){this.state.area=y}setHardDrawingAngle(y){this.state.hardDrawingAngle=y}setHardAngle(y){this.state.hardAngle=y,this.state.hardDrawingAngle=y}setOrientation(y){this.orientation=y}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(y,S,M){super(y,M),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=S}draw(y){const S=this.render.getContext(),M=this.render.convertToGlobal(this.state.position),C=this.render.getRect().pageWidth,w=this.render.getRect().height;S.save(),S.translate(M.x,M.y),S.beginPath();for(let E of this.state.area)E!==null&&(E=this.render.convertToGlobal(E),S.lineTo(E.x-M.x,E.y-M.y));S.rotate(this.state.angle),S.clip(),this.isLoad?S.drawImage(this.image,0,0,C,w):this.drawLoader(S,{x:0,y:0},C,w),S.restore()}simpleDraw(y){const S=this.render.getRect(),M=this.render.getContext(),C=S.pageWidth,w=S.height,E=y===1?S.left+S.pageWidth:S.left,L=S.top;this.isLoad?M.drawImage(this.image,E,L,C,w):this.drawLoader(M,{x:E,y:L},C,w)}drawLoader(y,S,M,C){y.beginPath(),y.strokeStyle="rgb(200, 200, 200)",y.fillStyle="rgb(255, 255, 255)",y.lineWidth=1,y.rect(S.x+1,S.y+1,M-1,C-1),y.stroke(),y.fill();const w={x:S.x+M/2,y:S.y+C/2};y.beginPath(),y.lineWidth=10,y.arc(w.x,w.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),y.stroke(),y.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class a{constructor(y,S){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=S,this.app=y,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let S=0;S<this.pages.length;S++)this.portraitSpread.push([S]);let y=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([y]),y++);for(let S=y;S<this.pages.length;S+=2)S<this.pages.length-1?this.landscapeSpread.push([S,S+1]):(this.landscapeSpread.push([S]),this.pages[S].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(y){const S=this.getSpread();for(let M=0;M<S.length;M++)if(y===S[M][0]||y===S[M][1])return M;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(y){if(y>=0&&y<this.pages.length)return this.pages[y];throw new Error("Invalid page number")}nextBy(y){const S=this.pages.indexOf(y);return S<this.pages.length-1?this.pages[S+1]:null}prevBy(y){const S=this.pages.indexOf(y);return S>0?this.pages[S-1]:null}getFlippingPage(y){const S=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[S].newTemporaryCopy():this.pages[S-1];{const M=y===0?this.getSpread()[S+1]:this.getSpread()[S-1];return M.length===1||y===0?this.pages[M[0]]:this.pages[M[1]]}}getBottomPage(y){const S=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[S+1]:this.pages[S-1];{const M=y===0?this.getSpread()[S+1]:this.getSpread()[S-1];return M.length===1?this.pages[M[0]]:y===0?this.pages[M[1]]:this.pages[M[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(y=null){if(y===null&&(y=this.currentPageIndex),y<0||y>=this.pages.length)return;const S=this.getSpreadIndexByPage(y);S!==null&&(this.currentSpreadIndex=S,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(y){if(!(y>=0&&y<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=y}showSpread(){const y=this.getSpread()[this.currentSpreadIndex];y.length===2?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(this.pages[y[1]])):this.render.getOrientation()==="landscape"&&y[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[y[0]])),this.currentPageIndex=y[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends a{constructor(y,S,M){super(y,S),this.imagesHref=M}load(){for(const y of this.imagesHref){const S=new i(this.render,y,"soft");S.load(),this.pages.push(S)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(y,S){return y===null||S===null?1/0:Math.sqrt(Math.pow(S.x-y.x,2)+Math.pow(S.y-y.y,2))}static GetSegmentLength(y){return d.GetDistanceBetweenTwoPoint(y[0],y[1])}static GetAngleBetweenTwoLine(y,S){const M=y[0].y-y[1].y,C=S[0].y-S[1].y,w=y[1].x-y[0].x,E=S[1].x-S[0].x;return Math.acos((M*C+w*E)/(Math.sqrt(M*M+w*w)*Math.sqrt(C*C+E*E)))}static PointInRect(y,S){return S===null?null:S.x>=y.left&&S.x<=y.width+y.left&&S.y>=y.top&&S.y<=y.top+y.height?S:null}static GetRotatedPoint(y,S,M){return{x:y.x*Math.cos(M)+y.y*Math.sin(M)+S.x,y:y.y*Math.cos(M)-y.x*Math.sin(M)+S.y}}static LimitPointToCircle(y,S,M){if(d.GetDistanceBetweenTwoPoint(y,M)<=S)return M;const C=y.x,w=y.y,E=M.x,L=M.y;let P=Math.sqrt(Math.pow(S,2)*Math.pow(C-E,2)/(Math.pow(C-E,2)+Math.pow(w-L,2)))+C;M.x<0&&(P*=-1);let V=(P-C)*(w-L)/(C-E)+w;return C-E+w===0&&(V=S),{x:P,y:V}}static GetIntersectBetweenTwoSegment(y,S,M){return d.PointInRect(y,d.GetIntersectBeetwenTwoLine(S,M))}static GetIntersectBeetwenTwoLine(y,S){const M=y[0].y-y[1].y,C=S[0].y-S[1].y,w=y[1].x-y[0].x,E=S[1].x-S[0].x,L=y[0].x*y[1].y-y[1].x*y[0].y,P=S[0].x*S[1].y-S[1].x*S[0].y,V=M*P-C*L,$=w*P-E*L,W=-(L*E-P*w)/(M*E-C*w),H=-(M*P-C*L)/(M*E-C*w);if(isFinite(W)&&isFinite(H))return{x:W,y:H};if(Math.abs(V-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(y,S){const M=Math.abs(y.x-S.x),C=Math.abs(y.y-S.y),w=Math.max(M,C),E=[y];function L(P,V,$,W,H){return V>P?P+H*($/W):V<P?P-H*($/W):P}for(let P=1;P<=w;P+=1)E.push({x:L(y.x,S.x,M,w,P),y:L(y.y,S.y,C,w,P)});return E}}class u extends r{constructor(y,S,M){super(y,M),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=S,this.element.classList.add("stf__item"),this.element.classList.add("--"+M)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(y){const S=y||this.nowDrawingDensity,M=this.render.convertToGlobal(this.state.position),C=this.render.getRect().pageWidth,w=this.render.getRect().height;this.element.classList.remove("--simple");const E=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${C}px;
            height: ${w}px;
        `;S==="hard"?this.drawHard(E):this.drawSoft(M,E)}drawHard(y=""){const S=this.render.getRect().left+this.render.getRect().width/2,M=this.state.hardDrawingAngle,C=y+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${M}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${S}px, 0, 0) rotateY(${M}deg);`);this.element.style.cssText=C}drawSoft(y,S=""){let M="polygon( ";for(const w of this.state.area)if(w!==null){let E=this.render.getDirection()===1?{x:-w.x+this.state.position.x,y:w.y-this.state.position.y}:{x:w.x-this.state.position.x,y:w.y-this.state.position.y};E=d.GetRotatedPoint(E,{x:0,y:0},this.state.angle),M+=E.x+"px "+E.y+"px, "}M=M.slice(0,-2),M+=")";const C=S+`transform-origin: 0 0; clip-path: ${M}; -webkit-clip-path: ${M};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${y.x}px, ${y.y}px);`:`transform: translate3d(${y.x}px, ${y.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=C}simpleDraw(y){const S=this.render.getRect(),M=S.pageWidth,C=S.height,w=y===1?S.left+S.pageWidth:S.left,E=S.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${C}px; 
            left: ${w}px; 
            top: ${E}px; 
            width: ${M}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(y){super.setOrientation(y),this.element.classList.remove("--left","--right"),this.element.classList.add(y===1?"--right":"--left")}setDrawingDensity(y){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+y),super.setDrawingDensity(y)}}class h extends a{constructor(y,S,M,C){super(y,S),this.element=M,this.pagesElement=C}load(){for(const y of this.pagesElement){const S=new u(this.render,y,y.dataset.density==="hard"?"hard":"soft");S.load(),this.pages.push(S)}this.createSpread()}}class p{constructor(y,S,M,C){this.direction=y,this.corner=S,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(M,10),this.pageHeight=parseInt(C,10)}calc(y){try{return this.position=this.calcAngleAndPosition(y),this.calculateIntersectPoint(this.position),!0}catch(S){return!1}}getFlippingClipArea(){const y=[];let S=!1;return y.push(this.rect.topLeft),y.push(this.topIntersectPoint),this.sideIntersectPoint===null?S=!0:(y.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(S=!1)),y.push(this.bottomIntersectPoint),(S||this.corner==="bottom")&&y.push(this.rect.bottomLeft),y}getBottomClipArea(){const y=[];return y.push(this.topIntersectPoint),this.corner==="top"?y.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&y.push({x:this.pageWidth,y:0}),y.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&y.push(this.sideIntersectPoint):this.corner==="top"&&y.push({x:this.pageWidth,y:this.pageHeight}),y.push(this.bottomIntersectPoint),y.push(this.topIntersectPoint),y}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const y=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?y:Math.PI-y}calcAngleAndPosition(y){let S=y;if(this.updateAngleAndGeometry(S),S=this.corner==="top"?this.checkPositionAtCenterLine(S,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(S,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(S.x-this.pageWidth)<1&&Math.abs(S.y)<1)throw new Error("Point is too small");return S}updateAngleAndGeometry(y){this.angle=this.calculateAngle(y),this.rect=this.getPageRect(y)}calculateAngle(y){const S=this.pageWidth-y.x+1,M=this.corner==="bottom"?this.pageHeight-y.y:y.y;let C=2*Math.acos(S/Math.sqrt(M*M+S*S));M<0&&(C=-C);const w=Math.PI-C;if(!isFinite(C)||w>=0&&w<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(C=-C),C}getPageRect(y){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],y):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],y)}getRectFromBasePoint(y,S){return{topLeft:this.getRotatedPoint(y[0],S),topRight:this.getRotatedPoint(y[1],S),bottomLeft:this.getRotatedPoint(y[2],S),bottomRight:this.getRotatedPoint(y[3],S)}}getRotatedPoint(y,S){return{x:y.x*Math.cos(this.angle)+y.y*Math.sin(this.angle)+S.x,y:y.y*Math.cos(this.angle)-y.x*Math.sin(this.angle)+S.y}}calculateIntersectPoint(y){const S={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(S,[y,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(S,[y,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(S,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(S,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(S,[y,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(S,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(y,S,M){let C=y;const w=d.LimitPointToCircle(S,this.pageWidth,C);C!==w&&(C=w,this.updateAngleAndGeometry(C));const E=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let L=this.rect.bottomRight,P=this.rect.topLeft;if(this.corner==="bottom"&&(L=this.rect.topRight,P=this.rect.bottomLeft),L.x<=0){const V=d.LimitPointToCircle(M,E,P);V!==C&&(C=V,this.updateAngleAndGeometry(C))}return C}getSegmentToShadowLine(){const y=this.getShadowStartPoint();return[y,y!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class g{constructor(y,S){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=y,this.app=S}fold(y){this.setState("user_fold"),this.calc===null&&this.start(y),this.do(this.render.convertToPage(y))}flip(y){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(y)||(this.calc!==null&&this.render.finishAnimation(),!this.start(y)))return;const S=this.getBoundsRect();this.setState("flipping");const M=S.height/10,C=this.calc.getCorner()==="bottom"?S.height-M:M,w=this.calc.getCorner()==="bottom"?S.height:0;this.calc.calc({x:S.pageWidth-M,y:C}),this.animateFlippingTo({x:S.pageWidth-M,y:C},{x:-S.pageWidth,y:w},!0)}start(y){this.reset();const S=this.render.convertToBook(y),M=this.getBoundsRect(),C=this.getDirectionByPoint(S),w=S.y>=M.height/2?"bottom":"top";if(!this.checkDirection(C))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(C),this.bottomPage=this.app.getPageCollection().getBottomPage(C),this.render.getOrientation()==="landscape")if(C===1){const E=this.app.getPageCollection().nextBy(this.flippingPage);E!==null&&this.flippingPage.getDensity()!==E.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),E.setDrawingDensity("hard"))}else{const E=this.app.getPageCollection().prevBy(this.flippingPage);E!==null&&this.flippingPage.getDensity()!==E.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),E.setDrawingDensity("hard"))}return this.render.setDirection(C),this.calc=new p(C,w,M.pageWidth.toString(10),M.height.toString(10)),!0}catch(E){return!1}}do(y){if(this.calc!==null&&this.calc.calc(y)){const S=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*S)/100):this.flippingPage.setHardAngle(-90*(200-2*S)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),S,this.calc.getDirection())}}flipToPage(y,S){const M=this.app.getPageCollection().getCurrentSpreadIndex(),C=this.app.getPageCollection().getSpreadIndexByPage(y);try{C>M&&(this.app.getPageCollection().setCurrentSpreadIndex(C-1),this.flipNext(S)),C<M&&(this.app.getPageCollection().setCurrentSpreadIndex(C+1),this.flipPrev(S))}catch(w){}}flipNext(y){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:y==="top"?1:this.render.getRect().height-2})}flipPrev(y){this.flip({x:10,y:y==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const y=this.calc.getPosition(),S=this.getBoundsRect(),M=this.calc.getCorner()==="bottom"?S.height:0;y.x<=0?this.animateFlippingTo(y,{x:-S.pageWidth,y:M},!0):this.animateFlippingTo(y,{x:S.pageWidth,y:M},!1)}showCorner(y){if(!this.checkState("read","fold_corner"))return;const S=this.getBoundsRect(),M=S.pageWidth;if(this.isPointOnCorners(y))if(this.calc===null){if(!this.start(y))return;this.setState("fold_corner"),this.calc.calc({x:M-1,y:1});const C=50,w=this.calc.getCorner()==="bottom"?S.height-1:1,E=this.calc.getCorner()==="bottom"?S.height-C:C;this.animateFlippingTo({x:M-1,y:w},{x:M-C,y:E},!1,!1)}else this.do(this.render.convertToPage(y));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(y,S,M,C=!0){const w=d.GetCordsFromTwoPoint(y,S),E=[];for(const P of w)E.push(()=>this.do(P));const L=this.getAnimationDuration(w.length);this.render.startAnimation(E,L,()=>{this.calc&&(M&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),C&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(y){this.state!==y&&(this.app.updateState(y),this.state=y)}getDirectionByPoint(y){const S=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(y.x-S.pageWidth<=S.width/5)return 1}else if(y.x<S.width/2)return 1;return 0}getAnimationDuration(y){const S=this.app.getSettings().flippingTime;return y>=1e3?S:y/1e3*S}checkDirection(y){return y===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...y){for(const S of y)if(this.state===S)return!0;return!1}isPointOnCorners(y){const S=this.getBoundsRect(),M=S.pageWidth,C=Math.sqrt(Math.pow(M,2)+Math.pow(S.height,2))/5,w=this.render.convertToBook(y);return w.x>0&&w.y>0&&w.x<S.width&&w.y<S.height&&(w.x<C||w.x>S.width-C)&&(w.y<C||w.y>S.height-C)}}class v{constructor(y,S){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=S,this.app=y;const M=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=M.exec(window.navigator.userAgent)!==null}render(y){if(this.animation!==null){const S=Math.round((y-this.animation.startedAt)/this.animation.durationFrame);S<this.animation.frames.length?this.animation.frames[S]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=y,this.drawFrame()}start(){this.update();const y=S=>{this.render(S),requestAnimationFrame(y)};requestAnimationFrame(y)}startAnimation(y,S,M){this.finishAnimation(),this.animation={frames:y,duration:S,durationFrame:S/y.length,onAnimateEnd:M,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const y=this.calculateBoundsRect();this.orientation!==y&&(this.orientation=y,this.app.updateOrientation(y))}calculateBoundsRect(){let y="landscape";const S=this.getBlockWidth(),M=S/2,C=this.getBlockHeight()/2,w=this.setting.width/this.setting.height;let E=this.setting.width,L=this.setting.height,P=M-E;return this.setting.size==="stretch"?(S<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(y="portrait"),E=y==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,E>this.setting.maxWidth&&(E=this.setting.maxWidth),L=E/w,L>this.getBlockHeight()&&(L=this.getBlockHeight(),E=L*w),P=y==="portrait"?M-E/2-E:M-E):S<2*E&&this.app.getSettings().usePortrait&&(y="portrait",P=M-E/2-E),this.boundsRect={left:P,top:C-L/2,width:2*E,height:L,pageWidth:E},y}setShadowData(y,S,M,C){if(!this.app.getSettings().drawShadow)return;const w=100*this.getSettings().maxShadowOpacity;this.shadow={pos:y,angle:S,width:3*this.getRect().pageWidth/4*M/100,opacity:(100-M)*w/100/100,direction:C,progress:2*M}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(y){this.pageRect=y}setDirection(y){this.direction=y}setRightPage(y){y!==null&&y.setOrientation(1),this.rightPage=y}setLeftPage(y){y!==null&&y.setOrientation(0),this.leftPage=y}setBottomPage(y){y!==null&&y.setOrientation(this.direction===1?0:1),this.bottomPage=y}setFlippingPage(y){y!==null&&y.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=y}convertToBook(y){const S=this.getRect();return{x:y.x-S.left,y:y.y-S.top}}isSafari(){return this.safari}convertToPage(y,S){S||(S=this.direction);const M=this.getRect();return{x:S===0?y.x-M.left-M.width/2:M.width/2-y.x+M.left,y:y.y-M.top}}convertToGlobal(y,S){if(S||(S=this.direction),y==null)return null;const M=this.getRect();return{x:S===0?y.x+M.left+M.width/2:M.width/2-y.x+M.left,y:y.y+M.top}}convertRectToGlobal(y,S){return S||(S=this.direction),{topLeft:this.convertToGlobal(y.topLeft,S),topRight:this.convertToGlobal(y.topRight,S),bottomLeft:this.convertToGlobal(y.bottomLeft,S),bottomRight:this.convertToGlobal(y.bottomRight,S)}}}class b extends v{constructor(y,S,M){super(y,S),this.canvas=M,this.ctx=M.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const y=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(y.left+y.pageWidth,y.top,y.width,y.height),this.ctx.clip())}drawBookShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const S=y.width/20;this.ctx.rect(y.left,y.top,y.width,y.height);const M={x:y.left+y.width/2-S/2,y:0};this.ctx.translate(M.x,M.y);const C=this.ctx.createLinearGradient(0,0,S,0);C.addColorStop(0,"rgba(0, 0, 0, 0)"),C.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),C.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),C.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),C.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),C.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=C,this.ctx.fillRect(0,0,S,2*y.height),this.ctx.restore()}drawOuterShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(y.left,y.top,y.width,y.height);const S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(S.x,S.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const M=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),M.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),M.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),M.addColorStop(0,"rgba(0, 0, 0, 0)"),M.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=M,this.ctx.fillRect(0,0,this.shadow.width,2*y.height),this.ctx.restore()}drawInnerShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(M.topLeft.x,M.topLeft.y),this.ctx.lineTo(M.topRight.x,M.topRight.y),this.ctx.lineTo(M.bottomRight.x,M.bottomRight.y),this.ctx.lineTo(M.bottomLeft.x,M.bottomLeft.y),this.ctx.translate(S.x,S.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const C=3*this.shadow.width/4,w=this.ctx.createLinearGradient(0,0,C,0);this.shadow.direction===0?(this.ctx.translate(-C,-100),w.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),w.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),w.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),w.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=w,this.ctx.fillRect(0,0,C,2*y.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class j{constructor(y,S,M){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=w=>{if(this.checkTarget(w.target)){const E=this.getMousePos(w.clientX,w.clientY);this.app.startUserTouch(E),w.preventDefault()}},this.onTouchStart=w=>{if(this.checkTarget(w.target)&&w.changedTouches.length>0){const E=w.changedTouches[0],L=this.getMousePos(E.clientX,E.clientY);this.touchPoint={point:L,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(L)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||w.preventDefault()}},this.onMouseUp=w=>{const E=this.getMousePos(w.clientX,w.clientY);this.app.userStop(E)},this.onMouseMove=w=>{const E=this.getMousePos(w.clientX,w.clientY);this.app.userMove(E,!1)},this.onTouchMove=w=>{if(w.changedTouches.length>0){const E=w.changedTouches[0],L=this.getMousePos(E.clientX,E.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-L.x)>10||this.app.getState()!=="read")&&w.cancelable&&this.app.userMove(L,!0),this.app.getState()!=="read"&&w.preventDefault()):this.app.userMove(L,!0)}},this.onTouchEnd=w=>{if(w.changedTouches.length>0){const E=w.changedTouches[0],L=this.getMousePos(E.clientX,E.clientY);let P=!1;if(this.touchPoint!==null){const V=L.x-this.touchPoint.point.x,$=Math.abs(L.y-this.touchPoint.point.y);Math.abs(V)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(V>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),P=!0),this.touchPoint=null}this.app.userStop(L,P)}},this.parentElement=y,y.classList.add("stf__parent"),y.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=y.querySelector(".stf__wrapper"),this.app=S;const C=this.app.getSettings().usePortrait?1:2;y.style.minWidth=M.minWidth*C+"px",y.style.minHeight=M.minHeight+"px",M.size==="fixed"&&(y.style.minWidth=M.width*C+"px",y.style.minHeight=M.height+"px"),M.autoSize&&(y.style.width="100%",y.style.maxWidth=2*M.maxWidth+"px"),y.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=M.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(y){this.wrapper.classList.remove("--portrait","--landscape"),y==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(y,S){const M=this.distElement.getBoundingClientRect();return{x:y-M.left,y:S-M.top}}checkTarget(y){return!this.app.getSettings().clickEventForward||!["a","button"].includes(y.tagName.toLowerCase())}}class I extends j{constructor(y,S,M,C){super(y,S,M),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=y.querySelector(".stf__block"),this.items=C;for(const w of C)this.distElement.appendChild(w);this.setHandlers()}clear(){for(const y of this.items)this.parentElement.appendChild(y)}updateItems(y){this.removeHandlers(),this.distElement.innerHTML="";for(const S of y)this.distElement.appendChild(S);this.items=y,this.setHandlers()}update(){this.app.getRender().update()}}class A extends j{constructor(y,S,M){super(y,S,M),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=y.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const y=getComputedStyle(this.canvas),S=parseInt(y.getPropertyValue("width"),10),M=parseInt(y.getPropertyValue("height"),10);this.canvas.width=S,this.canvas.height=M}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class B extends v{constructor(y,S,M){super(y,S),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=M,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const y=this.getRect(),S=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let M=(100-S)*(2.5*y.pageWidth)/100+20;M>y.pageWidth&&(M=y.pageWidth);let C=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${M}px;
            height: ${y.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*S/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;C+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=C}drawHardOuterShadow(){const y=this.getRect();let S=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*y.pageWidth)/100+20;S>y.pageWidth&&(S=y.pageWidth);let M=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${S}px;
            height: ${y.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;M+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=M}drawInnerShadow(){const y=this.getRect(),S=3*this.shadow.width/4,M=this.getDirection()===0?S:0,C=this.getDirection()===0?"to left":"to right",w=this.convertToGlobal(this.shadow.pos),E=this.shadow.angle+3*Math.PI/2,L=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let P="polygon( ";for(const $ of L){let W=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};W=d.GetRotatedPoint(W,{x:M,y:100},E),P+=W.x+"px "+W.y+"px, "}P=P.slice(0,-2),P+=")";const V=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${S}px;
            height: ${2*y.height}px;
            background: linear-gradient(${C},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${M}px 100px;
            transform: translate3d(${w.x-M}px, ${w.y-100}px, 0) rotate(${E}rad);
            clip-path: ${P};
            -webkit-clip-path: ${P};
        `;this.innerShadow.style.cssText=V}drawOuterShadow(){const y=this.getRect(),S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),M=this.shadow.angle+3*Math.PI/2,C=this.getDirection()===1?this.shadow.width:0,w=this.getDirection()===0?"to right":"to left",E=[{x:0,y:0},{x:y.pageWidth,y:0},{x:y.pageWidth,y:y.height},{x:0,y:y.height}];let L="polygon( ";for(const V of E)if(V!==null){let $=this.getDirection()===1?{x:-V.x+this.shadow.pos.x,y:V.y-this.shadow.pos.y}:{x:V.x-this.shadow.pos.x,y:V.y-this.shadow.pos.y};$=d.GetRotatedPoint($,{x:C,y:100},M),L+=$.x+"px "+$.y+"px, "}L=L.slice(0,-2),L+=")";const P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*y.height}px;
            background: linear-gradient(${w}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${C}px 100px;
            transform: translate3d(${S.x-C}px, ${S.y-100}px, 0) rotate(${M}rad);
            clip-path: ${L};
            -webkit-clip-path: ${L};
        `;this.outerShadow.style.cssText=P}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const y=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(y))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const y of this.app.getPageCollection().getPages())y!==this.leftPage&&y!==this.rightPage&&y!==this.flippingPage&&y!==this.bottomPage&&(y.getElement().style.cssText="display: none"),y.getTemporaryCopy()!==this.flippingPage&&y.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class D{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(y){const S=this._default;if(Object.assign(S,y),S.size!=="stretch"&&S.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(S.width<=0||S.height<=0)throw new Error("Invalid width or height");if(S.flippingTime<=0)throw new Error("Invalid flipping time");return S.size==="stretch"?(S.minWidth<=0&&(S.minWidth=100),S.maxWidth<S.minWidth&&(S.maxWidth=2e3),S.minHeight<=0&&(S.minHeight=100),S.maxHeight<S.minHeight&&(S.maxHeight=2e3)):(S.minWidth=S.width,S.maxWidth=S.width,S.minHeight=S.height,S.maxHeight=S.height),S}}(function(T,y){y===void 0&&(y={});var S=y.insertAt;if(typeof document!="undefined"){var M=document.head||document.getElementsByTagName("head")[0],C=document.createElement("style");C.type="text/css",S==="top"&&M.firstChild?M.insertBefore(C,M.firstChild):M.appendChild(C),C.styleSheet?C.styleSheet.cssText=T:C.appendChild(document.createTextNode(T))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(T,y){return this.events.has(T)?this.events.get(T).push(y):this.events.set(T,[y]),this}off(T){this.events.delete(T)}trigger(T,y,S=null){if(this.events.has(T))for(const M of this.events.get(T))M({data:S,object:y})}}{constructor(T,y){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new D().getSettings(y),this.block=T}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(T){this.ui=new A(this.block,this,this.setting);const y=this.ui.getCanvas();this.render=new b(this,this.setting,y),this.flipController=new g(this.render,this),this.pages=new c(this,this.render,T),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(T){this.ui=new I(this.block,this,this.setting,T),this.render=new B(this,this.setting,this.ui.getDistElement()),this.flipController=new g(this.render,this),this.pages=new h(this,this.render,this.ui.getDistElement(),T),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(T){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,T),this.pages.load(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}updateFromHtml(T){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new h(this,this.render,this.ui.getDistElement(),T),this.pages.load(),this.ui.updateItems(T),this.render.reload(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(T){this.pages.show(T)}flipNext(T="top"){this.flipController.flipNext(T)}flipPrev(T="top"){this.flipController.flipPrev(T)}flip(T,y="top"){this.flipController.flipToPage(T,y)}updateState(T){this.trigger("changeState",this,T)}updatePageIndex(T){this.trigger("flip",this,T)}updateOrientation(T){this.ui.setOrientationStyle(T),this.update(),this.trigger("changeOrientation",this,T)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(T){return this.pages.getPage(T)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(T){this.mousePosition=T,this.isUserTouch=!0,this.isUserMove=!1}userMove(T,y){this.isUserTouch||y||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,T)>5&&(this.isUserMove=!0,this.flipController.fold(T)):this.flipController.showCorner(T)}userStop(T,y=!1){this.isUserTouch&&(this.isUserTouch=!1,y||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(T)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(tu,tu.exports)),tu.exports}var eO=ZV();const tO="_viewerRoot_hj39c_5",sO="_stage_hj39c_17",nO="_host_hj39c_43",rO="_hud_hj39c_91",iO="_hBtn_hj39c_125",aO="_hText_hj39c_153",oO="_title_hj39c_167",lO="_sep_hj39c_169",cO="_spacer_hj39c_171",dO="_errorBox_hj39c_175",lr={viewerRoot:tO,stage:sO,host:nO,hud:rO,hBtn:iO,hText:aO,title:oO,sep:lO,spacer:cO,errorBox:dO},uO="/".endsWith("/")?"/":"//",J3=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${uO}${e}`.replace(/\/{2,}/g,"/")},hO=async t=>{const e=J3(`flipbooks/${t}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${t}"`);return n.json()},mO=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},pO=(t,e,n)=>Math.max(e,Math.min(n,t)),Ss={hostEl:null,pf:null,slug:null},si={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},fO=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function gO(t){for(const e of t)e&&(si.cache.has(e)||si.inFlight.has(e)||si.queue.includes(e)||si.queue.push(e));Z3()}function Z3(){fO(()=>{for(;si.inFlight.size<si.maxParallel&&si.queue.length>0;){const t=si.queue.shift();si.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{si.inFlight.delete(t),si.cache.add(t),Z3()},e.src=t}})}const xO=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:i=!0})=>{const a=R.useRef(null),c=R.useRef(null),[d,u]=R.useState(null),[h,p]=R.useState(null),g=R.useRef(),v=R.useRef(),b=R.useRef(e);R.useEffect(()=>{g.current=n},[n]),R.useEffect(()=>{v.current=r},[r]),R.useEffect(()=>{b.current=e},[e]);const j=R.useMemo(()=>J3(`flipbooks/${t}`),[t]),I=R.useCallback(T=>{var y,S;if((y=T.srcset)!=null&&y.length){const M=[...T.srcset].sort((w,E)=>w.width-E.width),C=(S=M.find(w=>w.width>=1600))!=null?S:M[M.length-1];return/^https?:\/\//i.test(C.src)||C.src.startsWith("/")?C.src:`${j}/${C.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(T.src)||T.src.startsWith("/")?T.src:`${j}/${T.src}`.replace(/\/{2,}/g,"/")},[j]);R.useEffect(()=>{let T=!0;return p(null),hO(t).then(y=>{T&&u(y)}).catch(y=>{T&&p(y.message||"Failed to load flipbook manifest.")}),()=>{T=!1}},[t]),R.useEffect(()=>{const T=c.current,y=a.current;if(!T||!y||!d||(Ss.hostEl||(Ss.hostEl=document.createElement("div"),Ss.hostEl.className=lr.host),Ss.hostEl.parentElement!==T&&T.appendChild(Ss.hostEl),!Ss.hostEl.isConnected))return;if(!(!Ss.pf||Ss.slug!==t)){try{Ss.pf.update()}catch($){}return}if(Ss.pf){try{Ss.pf.destroy()}catch($){}Ss.pf=null}const M={width:d.pageWidth,height:d.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},C=new eO.PageFlip(Ss.hostEl,M);Ss.pf=C,Ss.slug=t;const w=d.pages.map(I);C.loadFromImages(w);const E=$=>{const W=[],H=$+1,q=$+2;d.pages[H]&&W.push(I(d.pages[H])),d.pages[q]&&W.push(I(d.pages[q])),gO(W)},L=()=>{var W;const $=pO(b.current,1,d.pageCount)-1;C.turnToPage($,"hard"),setTimeout(()=>E($),220),(W=g.current)==null||W.call(g,C)};C.on("init",L),C.on("flip",$=>{var H;const W=$.data;(H=v.current)==null||H.call(v,W),setTimeout(()=>E(W),220)});const P=new ResizeObserver(()=>{var $;try{($=Ss.pf)==null||$.update()}catch(W){}});P.observe(y);const V=$=>{var W,H;$.key==="ArrowLeft"&&($.preventDefault(),(W=Ss.pf)==null||W.flipPrev()),$.key==="ArrowRight"&&($.preventDefault(),(H=Ss.pf)==null||H.flipNext())};return window.addEventListener("keydown",V,{passive:!1}),()=>{window.removeEventListener("keydown",V),P.disconnect()}},[d,I,t]);const A=()=>{var T;return(T=Ss.pf)==null?void 0:T.flipPrev()},B=()=>{var T;return(T=Ss.pf)==null?void 0:T.flipNext()},D=()=>{var S;const T=a.current;if(!T)return;const y=T;(S=y.requestFullscreen||y.webkitRequestFullscreen||y.msRequestFullscreen)==null||S.call(y)};return h?s.jsxs("div",{className:lr.errorBox,children:["Flipbook konnte nicht geladen werden: ",h]}):d?s.jsxs("div",{className:lr.viewerRoot,ref:a,"aria-label":d.title,children:[s.jsx("div",{className:lr.stage,ref:c}),s.jsxs("div",{className:lr.hud,children:[s.jsx("button",{className:lr.hBtn,onClick:A,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:lr.hText,children:[s.jsx("span",{className:lr.title,children:d.title}),s.jsx("span",{className:lr.sep,children:""}),s.jsxs("span",{children:[d.pageCount," Seiten"]})]}),s.jsx("div",{className:lr.spacer}),mO()&&s.jsx("button",{className:lr.hBtn,onClick:D,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:lr.hBtn,onClick:B,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:lr.errorBox,children:"Lade Flipbook"})},vO=J.memo(xO),yO={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},bO=()=>{const t="sf-history-book",[e,n]=R.useState(1),r=R.useRef(null),i=R.useMemo(()=>{var p;return(p=yO[e])!=null?p:[]},[e]),a=R.useCallback(p=>{r.current=p},[]),c=R.useCallback(p=>{n(p+1)},[]),d=R.useCallback(p=>{const g=r.current;if(g)try{g.turnToPage(Math.max(0,p-1))}catch(v){}},[]),u=R.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipPrev()},[]),h=R.useCallback(()=>{var p;return(p=r.current)==null?void 0:p.flipNext()},[]);return s.jsx(vt,{title:"SF History Book",children:s.jsxs("div",{className:Ba.pageWrap,children:[s.jsx("div",{className:Ba.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsxs("div",{className:Ba.viewerHost,children:[s.jsx(vO,{slug:t,initialPage:1,onReady:a,onPageChange:c,noSound:!0}),s.jsxs("div",{className:Ba.overlay,"aria-hidden":!0,children:[s.jsx("div",{className:Ba.dragZoneLeft,onClick:u}),s.jsx("div",{className:Ba.dragZoneRight,onClick:h}),i.map((p,g)=>{const v={"--t":`${p.t}%`,"--l":`${p.l}%`,"--w":`${p.w}%`,"--h":`${p.h}%`};return p.kind==="goto"?s.jsx("button",{className:Ba.inbookLink,style:v,"aria-label":p.label,onClick:()=>d(p.toPage)},g):s.jsx("a",{className:Ba.inbookLink,style:v,"aria-label":p.label,href:p.href,target:"_blank",rel:"noopener noreferrer"},g)})]})]})]})})},eC=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(eC.map(t=>[t.id,t]));const tC="TL_FILTERS_V2",Kn={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function _O(){var t;try{const e=localStorage.getItem(tC);if(!e)return Kn;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,60,90].includes(n.days)?n.days:Kn.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:Kn.listView,a=["hud","sheet"].includes(n.filterMode)?n.filterMode:Kn.filterMode,c=typeof n.quickFav=="boolean"?n.quickFav:!!n.favoritesOnly,d=typeof n.quickActive=="boolean"?n.quickActive:!!n.activeOnly;return{...Kn,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:typeof n.favoritesOnly=="boolean"?n.favoritesOnly:c,activeOnly:typeof n.activeOnly=="boolean"?n.activeOnly:d,quickFav:c,quickActive:d,days:r,listView:i,filterMode:a,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Kn.sortBy,searchText:typeof n.searchText=="string"?n.searchText:Kn.searchText}}catch(e){return Kn}}function wO(t){try{localStorage.setItem(tC,JSON.stringify(t))}catch(e){}}const sC=R.createContext(null),mj=t=>Array.from(new Set(t));function Mm(t,e){return typeof t=="function"?t(e):t}function jO({children:t}){const[e,n]=R.useState(()=>_O());R.useEffect(()=>{wO(e)},[e]);const r=w=>n(E=>({...E,servers:mj(Mm(w,E.servers))})),i=w=>n(E=>{const L=new Set(E.servers);return L.has(w)?L.delete(w):L.add(w),{...E,servers:Array.from(L)}}),a=()=>n(w=>({...w,servers:[]})),c=w=>n(E=>({...E,classes:mj(Mm(w,E.classes))})),d=w=>n(E=>{const L=new Set(E.classes);return L.has(w)?L.delete(w):L.add(w),{...E,classes:Array.from(L)}}),u=()=>n(w=>({...w,classes:[]})),h=w=>n(E=>({...E,days:w})),p=w=>h(w),g=w=>n(E=>({...E,sortBy:w||"level"})),v=w=>n(E=>({...E,favoritesOnly:!!w,quickFav:!!w})),b=w=>n(E=>({...E,activeOnly:!!w,quickActive:!!w})),j=w=>n(E=>({...E,searchText:w})),I=w=>n(E=>{const L=Mm(w,E.quickFav);return{...E,quickFav:L,favoritesOnly:L}}),A=w=>n(E=>{const L=Mm(w,E.quickActive);return{...E,quickActive:L,activeOnly:L}}),B=w=>n(E=>({...E,filterMode:w})),D=w=>n(E=>({...E,listView:w})),T=w=>n(E=>({...E,bottomFilterOpen:!!w})),y=w=>n(E=>({...E,serverSheetOpen:!!w})),S=()=>n(Kn),M=()=>S(),C=R.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:a,setClasses:c,toggleClass:d,clearClasses:u,setDays:h,setRange:p,setSortBy:g,setFavoritesOnly:v,setActiveOnly:b,setSearchText:j,setQuickFav:I,setQuickActive:A,setFilterMode:B,setListView:D,setBottomFilterOpen:T,setServerSheetOpen:y,resetFilters:S,resetAll:M}),[e]);return s.jsx(sC.Provider,{value:C,children:t})}function rh(){const t=R.useContext(sC);return t||{...Kn,range:Kn.days,searchText:Kn.searchText,quickFav:Kn.quickFav,quickActive:Kn.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const SO="_hudWrap_107o7_9",NO="_hudBtn_107o7_11",kO="_hudSubBtn_107o7_15",CO="_iconRow_107o7_19",TO="_segmented_107o7_21",EO="_sortLabel_107o7_27",AO="_sortSelect_107o7_29",IO="_chip_107o7_31",RO="_isActive_107o7_33",Gn={hudWrap:SO,hudBtn:NO,hudSubBtn:kO,iconRow:CO,segmented:TO,sortLabel:EO,sortSelect:AO,chip:IO,isActive:RO};function PO({active:t=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:a}){const c=Math.round(i*.7),d=J.useMemo(()=>{const B=[],D=t5(n,c*2,c*2,"contain");D&&B.push(D);const T=Mr(n,c*2);return T&&T!==D&&B.push(T),!B.length&&n&&B.push(n),B},[n,c]),[u,h]=J.useState(0),[p,g]=J.useState(!1),[v,b]=J.useState(!1);J.useEffect(()=>h(0),[d]);const j=d[u]||"",I={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:v||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};p&&(I.background="rgba(255,255,255,.04)"),t&&(I.outline="2px solid #5C8BC6");const A={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:a,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onFocus:()=>b(!0),onBlur:()=>b(!1),style:I,children:j?s.jsx("img",{src:j,alt:e||"class",width:c,height:c,loading:"lazy",style:A,onError:()=>{h(B=>B+1<d.length?B+1:B)}}):s.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const LO=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function DO(){const{servers:t,classes:e,setClasses:n,range:r,setRange:i,sortBy:a,setSortBy:c,quickFav:d,setQuickFav:u,quickActive:h,setQuickActive:p,filterMode:g,setBottomFilterOpen:v,serverSheetOpen:b,setServerSheetOpen:j,resetAll:I}=rh();return s.jsxs("div",{className:Gn.hudWrap,children:[s.jsxs("button",{type:"button",className:Gn.hudBtn,onClick:A=>{A.preventDefault(),A.stopPropagation(),j(!0)},"aria-haspopup":"dialog","aria-expanded":b||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),s.jsxs("div",{className:Gn.iconRow,children:[Ls.map(A=>s.jsx(PO,{active:e.includes(A.key),title:A.label,iconUrl:A.iconUrl,fallback:A.fallback,size:40,onClick:()=>n(B=>B.includes(A.key)?B.filter(D=>D!==A.key):[...B,A.key])},A.key)),s.jsx("button",{type:"button",className:Gn.hudSubBtn,onClick:()=>n(Ls.map(A=>A.key)),children:"All"}),s.jsx("button",{type:"button",className:Gn.hudSubBtn,onClick:()=>n([]),children:"None"})]}),s.jsx("div",{className:Gn.segmented,role:"group","aria-label":"Range",children:LO.map(A=>s.jsx("button",{type:"button","aria-pressed":r===A.value,onClick:()=>i(A.value),children:A.label},A.label))}),s.jsx("label",{className:Gn.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:a,onChange:A=>c(A.target.value),className:Gn.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"lastScan",children:"Last scan"})]}),s.jsx("button",{type:"button",className:`${Gn.chip} ${d?Gn.isActive:""}`,onClick:()=>u(A=>!A),children:" Favorites"}),s.jsx("button",{type:"button",className:`${Gn.chip} ${h?Gn.isActive:""}`,onClick:()=>p(A=>!A),children:" Active"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:Gn.hudSubBtn,onClick:I,children:"Reset"}),g==="sheet"&&s.jsx("button",{type:"button",className:Gn.hudBtn,onClick:A=>{A.preventDefault(),A.stopPropagation(),v(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const Hs={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function MO({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:a,onSelectAllInRegion:c,onClearAll:d}){const[u,h]=R.useState(""),p=R.useRef(null),[g,v]=R.useState(null),[b,j]=R.useState(!1);R.useEffect(()=>{if(!t)return;const T=y=>{y.key==="Escape"&&e()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e]),R.useEffect(()=>{if(t&&p.current){const T=p.current.querySelector("#sheet-serversearch");T==null||T.focus()}},[t]);const I=R.useMemo(()=>["EU","US","INT","Fusion"].every(y=>{var S;return!((S=r==null?void 0:r[y])!=null&&S.length)}),[r]);R.useEffect(()=>{if(!t||!I)return;let T=!0;return(async()=>{try{j(!0);const y=await mr(fs(Pt,"stats_public","toplists_bundle_v1"));if(!T)return;const S=y.data()||{},M=Array.isArray(S.servers)?S.servers:JSON.parse(S.servers||"[]");v(FO(M))}catch(y){v(null)}finally{T&&j(!1)}})(),()=>{T=!1}},[t,I]);const A=R.useMemo(()=>I?g!=null?g:{EU:[],US:[],INT:[],Fusion:[]}:r,[I,r,g]),B=R.useMemo(()=>Object.keys(A),[A]),D=T=>{const y=u.trim().toLowerCase();return y?T.toLowerCase().includes(y):!0};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:$O,onClick:T=>{T.target===T.currentTarget&&e()},children:s.jsxs("div",{ref:p,style:n==="modal"?nC:VO,className:"sf-server-sheet",children:[s.jsxs("div",{style:OO,children:[s.jsx("h2",{id:"server-dialog-title",style:UO,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:d,style:pj,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:QO,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:u,onChange:T=>h(T.target.value),"aria-label":"Search servers",autoComplete:"off",style:HO})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:B.map(T=>{const y=(A[T]||[]).filter(D);return s.jsxs("section",{"aria-labelledby":`region-${T}`,children:[s.jsxs("div",{style:GO,children:[s.jsxs("h3",{id:`region-${T}`,style:zO,children:[T," ",b&&I?s.jsx("span",{style:{marginLeft:6,fontSize:12,color:Hs.text2},children:"(loading)"}):null]}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:pj,onClick:()=>{c?c(T):y.filter(M=>!i.includes(M)).forEach(a)},children:"Select all"})})]}),s.jsxs("div",{style:WO,children:[y.map(S=>{const M=i.includes(S);return s.jsx("button",{type:"button",onClick:()=>a(S),"aria-pressed":M,title:S,style:{...qO,...M?KO:null},children:S},S)}),y.length===0&&s.jsx("div",{style:{color:Hs.text2,fontSize:13,padding:"4px 2px"},children:b&&I?"Loading":"No servers found"})]})]},T)})})]})}):null}function FO(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(BO)),e}function BO(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const $O={position:"fixed",inset:0,background:Hs.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},nC={width:"min(900px, 100%)",background:Hs.tile,border:`1px solid ${Hs.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:Hs.text},VO={...nC,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},OO={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},UO={fontSize:18,margin:0},zO={fontSize:14,margin:0,color:Hs.text2},HO={width:"100%",background:Hs.input,color:Hs.text,border:`1px solid ${Hs.line}`,borderRadius:12,padding:"10px 12px"},GO={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},WO={display:"flex",flexWrap:"wrap",gap:8},qO={background:Hs.chip,border:`1px solid ${Hs.line}`,padding:"6px 10px",borderRadius:999,color:Hs.text},KO={outline:`2px solid ${Hs.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},QO={background:"#25456B",color:Hs.text,border:`1px solid ${Hs.accent}`,borderRadius:10,padding:"8px 12px"},pj={background:"transparent",color:Hs.text,border:`1px solid ${Hs.line}`,borderRadius:10,padding:"8px 12px"},XO=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=XO,document.head.appendChild(e)}}const on={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function YO({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:a,sortBy:c,setSortBy:d,quickFav:u,setQuickFav:h,quickActive:p,setQuickActive:g}=rh(),v=R.useRef(null);if(R.useEffect(()=>{if(!t)return;const j=I=>{I.key==="Escape"&&e()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[t,e]),R.useEffect(()=>{if(t&&v.current){const j=v.current.querySelector("#sheet-search");j==null||j.focus()}},[t]),!t)return null;const b=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:JO,onClick:j=>{j.target===j.currentTarget&&e()},children:s.jsxs("div",{ref:v,style:ZO,children:[s.jsxs("div",{style:eU,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:on.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:sU,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:j=>r(j.target.value),"aria-label":"Search",autoComplete:"off",style:rC})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:on.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:b.map(j=>s.jsx("button",{type:"button","aria-pressed":i===j.value,onClick:()=>a(j.value),style:{...Hx,...i===j.value?Gx:null},children:j.label},j.label))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:on.text2,fontSize:12},children:"Sort"}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:j=>d(j.target.value),"aria-label":"Sort",autoComplete:"off",style:tU,children:[s.jsx("option",{value:"sum",children:"Base Sum"}),s.jsx("option",{value:"main",children:"Main Base Stat"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"delta",children:" Rank"}),s.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>h(j=>!j),"aria-pressed":u,style:{...Hx,...u?Gx:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>g(j=>!j),"aria-pressed":p,style:{...Hx,...p?Gx:null},children:" Active"})]})]})})}const JO={position:"fixed",inset:0,background:on.backdrop,zIndex:60,display:"grid",alignItems:"end"},ZO={background:on.tile,borderTop:`1px solid ${on.line}`,borderLeft:`1px solid ${on.line}`,borderRight:`1px solid ${on.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:on.text,maxHeight:"80vh",overflow:"auto"},eU={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},rC={width:"100%",background:on.input,color:on.text,border:`1px solid ${on.line}`,borderRadius:12,padding:"10px 12px"},tU={...rC,appearance:"none"},Hx={background:"#14273E",border:`1px solid ${on.line}`,padding:"6px 10px",borderRadius:999,color:on.text},Gx={outline:`2px solid ${on.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},sU={background:"#25456B",color:on.text,border:`1px solid ${on.accent}`,borderRadius:10,padding:"8px 12px"},nU=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=nU,document.head.appendChild(e)}}function rU(){var i;const t=rh(),e=(i=t==null?void 0:t.listView)!=null?i:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(a=>{var c,d,u,h,p,g,v;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=a.name)!=null?c:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=a.server)!=null?d:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(u=a.class)!=null?u:""}),"  Lv ",(h=a.level)!=null?h:"","  Scrap ",(p=a.scrapbook)!=null?p:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx(Wx,{children:a.active?"Active":"Idle"}),a.favorite&&s.jsx(Wx,{children:" Fav"}),s.jsx(Wx,{children:`Scan ${(g=a.lastScanDays)!=null?g:"?"}d`})]})]},(v=a.id)!=null?v:`${a.name}-${a.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(a=>{var c,d,u,h;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[a.favorite&&" ",(c=a.name)!=null?c:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=a.server)!=null?d:"","  Lv ",(u=a.level)!=null?u:"",")"]})]},(h=a.id)!=null?h:`${a.name}-${a.server}`)})})]})}function Wx({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const iC=R.createContext(null),fj=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function iU(t,e){return t.timeRange===e.timeRange&&fj(t.servers,e.servers)&&fj(t.classes,e.classes)}function aU(t,e){return t.field===e.field&&t.dir===e.dir}function oU({children:t}){const[e,n]=R.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=R.useState({field:"Level",dir:"desc"}),[a,c]=R.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=R.useCallback(g=>{n(v=>{const b=typeof g=="function"?g(v):{...v,...g};return iU(v,b)?v:b})},[]),u=R.useCallback(g=>{i(v=>{const b=typeof g=="function"?g(v):g;return aU(v,b)?v:b})},[]),h=R.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);R.useEffect(()=>{let g=!1;return g||c(v=>v.loading||v.error||v.data.length?{...v,loading:!1,error:null}:v),()=>{g=!0}},[h]);const p=R.useMemo(()=>({state:a,filters:e,sort:r,setFilters:d,setSort:u}),[a,e,r,d,u]);return s.jsx(iC.Provider,{value:p,children:t})}function lU(){const t=R.useContext(iC);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}const gj=(()=>{const t={EU:[],US:[],INT:[],Fusion:[]},e=(n,r)=>{t[n].includes(r)||t[n].push(r)};return eC.forEach(n=>{var a;const r=(a=n.id)!=null?a:"",i=r.toUpperCase();i.startsWith("EU")?e("EU",r):i.startsWith("US")||i.startsWith("NA")||i.startsWith("AM")?e("US",r):i.startsWith("F")?e("Fusion",r):e("INT",r)}),Object.keys(t).forEach(n=>{t[n].sort((r,i)=>r.localeCompare(i,void 0,{numeric:!0,sensitivity:"base"}))}),t})();function cU(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function dU(){const t=rh(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:a,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:u,servers:h,setServers:p,classes:g,range:v,sortBy:b}=t;return s.jsxs(s.Fragment,{children:[s.jsxs(vt,{mode:"card",title:"Top Lists",actions:s.jsx(hU,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(DO,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(rU,{}),r==="table"&&s.jsx(oU,{children:s.jsx(uU,{servers:h!=null?h:[],classes:g!=null?g:[],range:v!=null?v:"all",sortKey:b!=null?b:"level"})})]}),s.jsx(MO,{mode:"modal",open:d,onClose:()=>u(!1),serversByRegion:gj,selected:h,onToggle:j=>p(I=>I.includes(j)?I.filter(A=>A!==j):[...I,j]),onSelectAllInRegion:j=>p(gj[j]),onClearAll:()=>p([])}),s.jsx(YO,{open:e==="sheet"&&a,onClose:()=>c(!1)})]})}function uU({servers:t,classes:e,range:n,sortKey:r}){const{state:i,setFilters:a,setSort:c}=lU(),{loading:d,error:u,data:h,lastUpdated:p}=i;R.useEffect(()=>{const v=n==="all"?"all":n===60?"30d":`${n}d`;a({servers:t,classes:e,timeRange:v})},[t,e,n,a]),R.useEffect(()=>{const v=cU(r);c(v)},[r,c]);const g=v=>v==null?"":new Intl.NumberFormat("en").format(v);return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[d?"Loading":u?"Error":"Ready","  ",h.length," rows"]}),s.jsx("div",{children:p?`Updated: ${new Date(p*1e3).toLocaleString()}`:null})]}),u&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:u}),s.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),s.jsxs("tbody",{children:[h.map((v,b)=>{var j,I,A;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:v["#"]}),s.jsx("td",{style:{padding:"8px 6px"},children:v[" Rank"]}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Server}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Name}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Class}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(j=v.Guild)!=null?j:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v["Sum Base Stats"])}),s.jsx("td",{style:{padding:"8px 6px"},children:(I=v.Ratio)!=null?I:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:(A=v["Last Scan"])!=null?A:""}),s.jsx("td",{style:{padding:"8px 6px"},children:v["Stats+"]})]},`${v.Name}-${v.Server}-${b}`)}),d&&h.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!u&&h.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function hU(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:a}=rh();return s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(xj,{to:"/toplists/players",label:"Players"}),s.jsx(xj,{to:"/toplists/guilds",label:"Guilds"})]}),s.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[s.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),s.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),s.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),s.jsx("button",{onClick:()=>a(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[s.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),s.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),s.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function xj({to:t,label:e}){return s.jsx(os,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const mU=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function pU(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),mU.map(t=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[s.jsxs("div",{children:["#",t.rank]}),s.jsxs("div",{children:[t.name,"  ",t.server]}),s.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),s.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function fU(t="players"){const e=Dr(),{search:n,pathname:r}=Yn();return[new URLSearchParams(n).get("tab")||t,d=>{const u=new URLSearchParams(n);u.set("tab",d),e(`${r}?${u.toString()}`,{replace:!1})}]}function gU(){const[t]=fU("players");return s.jsx(jO,{children:t==="players"?s.jsx(dU,{}):s.jsx(pU,{})})}function xU(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function vU(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function yU(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const Fm={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},bU={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},Wn=(t,e)=>Math.min(Math.max(Math.round(t),0),e),_U=t=>{var n,r,i,a;const e={...Fm,...t||{}};return{...e,class:Wn(e.class,15),race:Wn(e.race,8),mouth:Wn(e.mouth,30),hair:Wn(e.hair,40),hairColor:Wn(e.hairColor,12),horn:Wn(e.horn,10),hornColor:Wn(e.hornColor,10),brows:Wn(e.brows,10),eyes:Wn(e.eyes,20),beard:Wn(e.beard,15),nose:Wn(e.nose,10),ears:Wn(e.ears,10),extra:Wn(e.extra,20),special:Wn(e.special,200),showBorder:(n=e.showBorder)!=null?n:!0,background:(r=e.background)!=null?r:Fm.background,frame:(i=e.frame)!=null?i:Fm.frame,mirrorHorizontal:(a=e.mirrorHorizontal)!=null?a:Fm.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function aC({config:t,label:e}){const n=R.useRef(null),r=R.useRef(null),[i,a]=R.useState("idle"),c=R.useMemo(()=>({..._U(t),background:"",frame:"",showBorder:!1}),[JSON.stringify(t||{})]);R.useEffect(()=>{let u=!1;a("loading");try{const h=n.current;if(!h){a("error");return}const p=new BS(h,c);r.current=p,a("ready")}catch(h){console.error("[PortraitMaker] failed to initialize",h),u||a("error")}return()=>{var h,p;u=!0;try{(p=(h=r.current)==null?void 0:h.dispose)==null||p.call(h)}catch(g){}r.current=null}},[c]);const d=i!=="ready"?bU[i]:null;return s.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[s.jsx("div",{className:"avatar-portrait__canvas-shell",children:s.jsx("canvas",{ref:n,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`})}),d&&s.jsx("span",{className:"avatar-portrait__status",children:d})]})}function wU({label:t,size:e=40}){const n=(t||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return s.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:n||"?"})}function jU({className:t,label:e,size:n=40}){const r=d=>d.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||""),a=Ls.find(d=>r(d.label)===i)||Ls.find(d=>r(d.label).startsWith(i)||i.startsWith(r(d.label))),c=a?Mr(a.iconUrl,n*2):null;return c?s.jsx("div",{className:"player-profile__class-avatar",style:{width:n,height:n},children:s.jsx("img",{src:c,alt:"",draggable:!1})}):s.jsx(wU,{label:e,size:n})}function SU({data:t,loading:e,actionFeedback:n,onAction:r}){return s.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[s.jsx(aC,{config:t.portrait,label:t.playerName}),s.jsxs("div",{className:"player-profile__hero-body",children:[s.jsxs("div",{className:"player-profile__identity",children:[s.jsx(jU,{className:t.className,label:t.playerName,size:48}),s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__player-name",children:t.playerName}),s.jsxs("div",{className:"player-profile__player-meta",children:[s.jsx("span",{children:t.className||"Klasse ?"}),t.guild&&s.jsxs("span",{children:[" ",t.guild]}),t.server&&s.jsxs("span",{children:[" ",t.server]})]}),t.lastScanLabel&&s.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",t.lastScanLabel]}),t.status&&s.jsx("div",{className:`player-profile__status player-profile__status--${t.status}`,children:t.status==="online"?"aktiv":"inaktiv"})]})]}),s.jsx("div",{className:"player-profile__hero-metrics",children:t.metrics.map(i=>s.jsxs("div",{className:"player-profile__hero-metric",children:[s.jsx("div",{className:"player-profile__hero-metric-label",children:i.label}),s.jsx("div",{className:"player-profile__hero-metric-value",children:i.value}),i.hint&&s.jsx("div",{className:"player-profile__hero-metric-hint",children:i.hint})]},i.label))}),t.badges.length>0&&s.jsx("div",{className:"player-profile__hero-badges",children:t.badges.map(i=>s.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${i.tone||"neutral"}`,title:i.hint,children:[i.icon&&s.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:i.icon}),s.jsx("span",{children:i.label}),s.jsx("strong",{children:i.value})]},i.label))}),t.actions.length>0&&s.jsxs("div",{className:"player-profile__hero-actions",children:[t.actions.map(i=>s.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||i.disabled,title:i.title,onClick:()=>r==null?void 0:r(i.key),children:i.label},i.key)),n&&s.jsx("p",{className:"player-profile__hero-feedback",children:n})]})]})]})}function NU({data:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__grid",children:t.summary.map(e=>s.jsxs("article",{className:"player-profile__card",children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&s.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),s.jsxs("div",{className:"player-profile__section",children:[s.jsxs("header",{className:"player-profile__section-head",children:[s.jsx("h3",{children:"Attribute"}),s.jsx("span",{children:"Basis vs. Gesamt"})]}),s.jsx("div",{className:"player-profile__attr-grid",children:t.attributes.map(e=>s.jsxs("div",{className:"player-profile__attr-card",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__attr-label",children:e.label}),s.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&s.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),s.jsxs("div",{className:"player-profile__split",children:[s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Resistenzen"})}),s.jsx("ul",{className:"player-profile__list",children:t.resistances.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]}),s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"konomie"})}),s.jsx("ul",{className:"player-profile__list",children:t.resources.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function kU({items:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>s.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[s.jsxs("div",{className:"player-profile__progress-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),s.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),s.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:s.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&s.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function CU({series:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>{var n;return s.jsxs("article",{className:"player-profile__trend-card",children:[s.jsxs("div",{className:"player-profile__trend-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),e.subLabel&&s.jsx("div",{className:"player-profile__card-hint",children:e.subLabel})]}),s.jsxs("div",{className:"player-profile__card-value",children:[(n=e.points[e.points.length-1])==null?void 0:n.toLocaleString("de-DE"),e.unit||""]})]}),s.jsx(AU,{points:e.points})]},e.label)})})}function TU({rows:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Serververgleich"})}),s.jsx("div",{className:"player-profile__comparison-wrapper",children:s.jsxs("table",{className:"player-profile__comparison",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Kategorie"}),s.jsx("th",{children:"Spieler"}),s.jsx("th",{children:"Cluster"}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.label}),s.jsx("td",{children:e.playerValue}),s.jsx("td",{children:e.benchmark}),s.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function EU({entries:t}){return s.jsx("div",{className:"player-profile__tab-panel",children:s.jsx("ol",{className:"player-profile__timeline",children:t.map(e=>s.jsxs("li",{children:[s.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),s.jsxs("div",{className:"player-profile__timeline-card",children:[s.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),s.jsx("div",{className:"player-profile__timeline-title",children:e.title}),s.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}function AU({points:t}){if(!t.length)return s.jsx("div",{className:"player-profile__trend-chart player-profile__trend-chart--empty"});const e=Math.min(...t),n=Math.max(...t),r=Math.max(1,n-e||1),a=t.map((c,d)=>{const u=t.length>1?d/(t.length-1)*100:0,h=100-(c-e)/r*100;return`${d===0?"M":"L"}${u},${h}`}).join(" ");return s.jsx("div",{className:"player-profile__trend-chart",children:s.jsx("svg",{viewBox:"0 0 100 100",role:"img","aria-label":"Verlauf",children:s.jsx("path",{d:a})})})}const IU=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function qx(){const t=Yp(),e=t.id||t.pid||t.playerId||t.player||"",n=Dr(),[r,i]=R.useState(!0),[a,c]=R.useState(null),[d,u]=R.useState(null),[h,p]=R.useState("Statistiken"),[g,v]=R.useState(null),b=R.useRef(null);R.useEffect(()=>{let T=!1;async function y(){var S,M,C,w,E,L,P,V,$,W,H,q,Q,G,te;i(!0),c(null);try{const re=(e||"").trim();if(!re)throw new Error("Kein Spieler gewhlt.");const z=fs(Pt,`players/${re}/latest/latest`),se=await mr(z);if(!se.exists())throw new Error("Spieler nicht gefunden.");const ce=se.data(),ee=typeof ce.values=="object"&&ce.values?ce.values:{},fe=(M=su((S=ce.level)!=null?S:ee==null?void 0:ee.Level))!=null?M:null,Te=((w=(C=ce.className)!=null?C:ee==null?void 0:ee.Class)!=null?w:null)||null,xe=((L=(E=ce.guildName)!=null?E:ee==null?void 0:ee.Guild)!=null?L:null)||null,Ce=(V=(P=ce.name)!=null?P:ee==null?void 0:ee.Name)!=null?V:re,Ne=(W=($=ce.server)!=null?$:ee==null?void 0:ee.Server)!=null?W:null,ue=(q=su((H=ce.totalStats)!=null?H:ee==null?void 0:ee["Total Stats"]))!=null?q:null,De=(te=su((G=(Q=ee==null?void 0:ee.Album)!=null?Q:ee==null?void 0:ee["Album %"])!=null?G:ee==null?void 0:ee.AlbumPct))!=null?te:null,Ae=RU(su(ce.timestamp)),nt=typeof ce.portrait=="object"?ce.portrait:typeof ce.portraitOptions=="object"?ce.portraitOptions:typeof(ee==null?void 0:ee.portraitOptions)=="object"?ee.portraitOptions:void 0;T||u({id:re,name:Ce,className:Te,level:fe,guild:xe,server:Ne,scrapbookPct:De,totalStats:ue,lastScanDays:Ae,values:ee,portraitConfig:nt})}catch(re){T||(u(null),c((re==null?void 0:re.message)||"Unbekannter Fehler beim Laden."))}finally{T||i(!1)}}return y(),()=>{T=!0}},[e]),R.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const j=R.useMemo(()=>d?MU(d):null,[d]),I=T=>{v(T),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>v(null),3500)},A=async T=>{if(d){if(T==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const y=`${window.location.origin}/players/profile/${d.id}`;try{await navigator.clipboard.writeText(y),I("Profil-Link wurde kopiert.")}catch(S){I("Konnte Link nicht kopieren.")}}return}if(T==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:d.name,text:`Shakes & Fidget Charakter ${d.name}`,url:window.location.href}),I("Profil geteilt.")}catch(y){I("Teilen abgebrochen.")}return}if(T==="guild"&&d.guild){n(`/guilds?search=${encodeURIComponent(d.guild)}`);return}if(T==="rescan"){I("Rescan-Queue folgt  aktuell noch Platzhalter.");return}}},B=()=>{if(!j)return null;switch(h){case"Statistiken":return s.jsx(NU,{data:j.stats});case"Charts":return s.jsx(CU,{series:j.charts});case"Fortschritt":return s.jsx(kU,{items:j.progress});case"Vergleich":return s.jsx(TU,{rows:j.comparison});case"Historie":return s.jsx(EU,{entries:j.history});default:return null}},D=()=>s.jsxs("div",{className:"player-profile__loading",children:[s.jsx("p",{children:a!=null?a:"Spieler nicht gefunden."}),s.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>n("/"),style:{marginTop:12},children:"Zur Startseite"})]});return s.jsx(vt,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsxs("div",{className:"player-profile",children:[r&&!d&&s.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!d||!j)&&D(),j&&s.jsxs(s.Fragment,{children:[s.jsx(SU,{data:j.hero,loading:r,actionFeedback:g,onAction:A}),s.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:IU.map(T=>{const y=h===T;return s.jsx("button",{type:"button",role:"tab","aria-selected":y,className:`player-profile__tab-button ${y?"player-profile__tab-button--active":""}`,onClick:()=>p(T),children:T},T)})}),B()]})]})})}const su=t=>{if(t==null||t==="")return null;const e=String(t).replace(/[^0-9.-]/g,""),n=Number(e);return Number.isFinite(n)?n:null},RU=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},Kx=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),PU=t=>{const e=new Map;return Object.entries(t||{}).forEach(([n,r])=>e.set(Kx(n),r)),{number(n,r=null){for(const i of n){const a=su(e.get(Kx(i)));if(a!=null)return a}return r},text(n,r=null){for(const i of n){const a=e.get(Kx(i));if(a!=null&&String(a).trim())return String(a).trim()}return r}}},oC=t=>{let e=2166136261;for(let n=0;n<t.length;n++)e^=t.charCodeAt(n),e=Math.imul(e,16777619);return()=>{e+=1831565813;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},Ps=(t,e="")=>t==null?e:t.toLocaleString("de-DE"),up=t=>t==null?"":`${Math.round(t)}%`,vj=t=>t==null?null:t===0?"heute":`${t} Tag${t===1?"":"e"} her`,LU={warrior:1,berserker:1,paladin:1,scout:5,assassin:5,"demon hunter":6,bard:6,mage:8,"battle mage":8,necromancer:9,druid:9},DU=t=>{var r;if(t.portraitConfig)return t.portraitConfig;const e=oC(t.id||t.name),n=LU[((r=t.className)==null?void 0:r.toLowerCase())||""]||Math.floor(e()*10)+1;return{genderName:e()>.5?"female":"male",class:n,race:Math.floor(e()*8)+1,hair:Math.floor(e()*40)+1,hairColor:Math.floor(e()*10)+1,mouth:Math.floor(e()*20)+1,eyes:Math.floor(e()*20)+1,brows:Math.floor(e()*10)+1,beard:Math.floor(e()*10),nose:Math.floor(e()*10)+1,ears:Math.floor(e()*10)+1,extra:Math.floor(e()*10),background:e()>.5?"gradient":"retroGradient",frame:e()>.8?"goldenFrame":""}},MU=t=>{var W,H,q,Q,G,te,re,z,se,ce,ee;const e=t.values||{},n=PU(e),r=oC(t.id),i=(W=t.level)!=null?W:n.number(["level"]),a=(H=t.scrapbookPct)!=null?H:n.number(["album","scrapbook","albumpct"]),c=n.number(["honor","ehre"]),d=(q=t.totalStats)!=null?q:n.number(["totalstats","stats"]),p=[["Base Strength","Strke","basestrength"],["Base Dexterity","Geschick","basedexterity"],["Base Intelligence","Intelligenz","baseintelligence"],["Base Constitution","Konstitution","baseconstitution"],["Base Luck","Glck","baseluck"]].map(fe=>{var Te;return(Te=n.number(fe,0))!=null?Te:0}).reduce((fe,Te)=>fe+(Te!=null?Te:0),0),g=a!=null?a:Math.round(r()*80+10),v=(Q=n.number(["fortresslevel","fortress"]))!=null?Q:Math.round(r()*20)+30,b=(G=n.number(["underworld","underworldlevel"]))!=null?G:Math.round(r()*10)+20,j=(te=n.number(["tower","towerfloor"]))!=null?te:Math.round(r()*90)+10,I=(re=n.number(["pets","petprogress"]))!=null?re:Math.round(r()*50)+25,A=(i!=null?i:0)*1200+p+Math.round((a!=null?a:0)*3200),B=(z=n.text(["mount","reittier"]))!=null?z:"Greifendrachen (280%)",D=(se=n.text(["guildrole","role"]))!=null?se:"Member",T=n.number(["hofrank","halloffamerank","hofposition"]),y=[{label:"Level",value:i?`Lvl ${Ps(i)}`:""},{label:"Power Score",value:Ps(A)},{label:"Scrapbook",value:up(g)},{label:"Total Stats",value:Ps(d)}],S=[{label:"Mount",value:B,tone:"neutral"},{label:"Honor",value:Ps(c),tone:"success"},{label:"Gildenrolle",value:D,tone:"warning"},{label:"HoF",value:T?`#${Ps(T)}`:"",tone:"neutral"}],M={playerName:t.name,className:t.className,guild:t.guild,server:t.server,levelLabel:i?`Level ${Ps(i)}`:void 0,lastScanLabel:(ce=vj(t.lastScanDays))!=null?ce:void 0,status:t.lastScanDays!=null&&t.lastScanDays<=2?"online":"offline",metrics:y,badges:S,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!t.guild},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:DU(t)},C=[{label:"Strke",base:["Base Strength"],total:["Strength"]},{label:"Geschick",base:["Base Dexterity"],total:["Dexterity"]},{label:"Intelligenz",base:["Base Intelligence"],total:["Intelligence"]},{label:"Konstitution",base:["Base Constitution"],total:["Constitution"]},{label:"Glck",base:["Base Luck"],total:["Luck"]}],w={summary:[{label:"Power Score",value:Ps(A),hint:"Level * SumBase"},{label:"Honor",value:Ps(c)},{label:"HoF Platz",value:T?`#${Ps(T)}`:""},{label:"Letzter Scan",value:(ee=vj(t.lastScanDays))!=null?ee:""}],attributes:C.map(fe=>({label:fe.label,baseLabel:Ps(n.number(fe.base)),totalLabel:n.number(fe.total)!=null?`Gesamt ${Ps(n.number(fe.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(r()*40+40)}%`},{label:"Schatten",value:`${Math.round(r()*40+35)}%`},{label:"Frost",value:`${Math.round(r()*30+30)}%`},{label:"Licht",value:`${Math.round(r()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Ps(Math.round((i!=null?i:1)*(r()*8+3)))}k`},{label:"XP/h",value:`${Ps(Math.round((i!=null?i:1)*(r()*5+2)))}k`},{label:"Mount Bonus",value:B},{label:"Quest Slots",value:`${Math.round(r()*2)+3}`}]},E=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(g!=null?g:0)/100),targetLabel:`${up(g)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:g!=null&&g>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,j/100),targetLabel:`Ebene ${Math.round(j)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudeausbau",progress:Math.min(1,v/25),targetLabel:`Lvl ${Math.round(v)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,b/30),targetLabel:`Lvl ${Math.round(b)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,I/100),targetLabel:`${Math.round(I)} / 100`,meta:"Habitate offen"}],L=(fe,Te=.12)=>{const xe=fe!=null?fe:Math.round(r()*100),Ce=[];let Ne=xe*.85;for(let ue=0;ue<8;ue++)Ne+=Ne*(r()*Te-Te/2),Ce.push(Math.max(0,Math.round(Ne)));return Ce[Ce.length-1]=xe,Ce},P=[{label:"Level Verlauf",points:L(i!=null?i:0,.06),unit:"",subLabel:"7 Tage"},{label:"Total Stats",points:L(d!=null?d:0,.18),unit:"",subLabel:"Summe Attribute"},{label:"Honor",points:L(c!=null?c:0,.25),unit:"",subLabel:"Hall of Fame"}],V=[{label:"Level",playerValue:i?`Lvl ${Ps(i)}`:"",benchmark:i?`Lvl ${Ps(Math.round(i*.92))}`:"",diffLabel:i?`+${Math.round(i*.08)}`:"",trend:"up"},{label:"Power Score",playerValue:Ps(A),benchmark:Ps(Math.round(A*.9)),diffLabel:`+${Ps(Math.round(A*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:up(g),benchmark:`${Math.min(100,Math.round((g!=null?g:60)-8))}%`,diffLabel:g!=null?`+${Math.round(g-60)}%`:"",trend:g!=null&&g>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(v)}`,benchmark:`Lvl ${Math.round(v-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(b)}`,benchmark:`Lvl ${Math.round(b-2)}`,diffLabel:"+2",trend:"neutral"}],$=FU(t,n,r);return{hero:M,stats:w,progress:E,charts:P,comparison:V,history:$}},FU=(t,e,n)=>{var c,d;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:t.guild?`Joined ${t.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const a=e.text(["lastdungeon","lastfight"]);return a&&r.push({dateLabel:Bm(Math.round(n()*15)+5),title:"Dungeon Clear",description:a,tag:"Dungeon"}),r.push({dateLabel:Bm(2),title:"Level-Up",description:`Erreichte Level ${Ps(t.level)}`,tag:"Level"}),r.push({dateLabel:Bm(10),title:"Scrapbook Meilenstein",description:`${up((c=t.scrapbookPct)!=null?c:Math.round(n()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:Bm(18),title:"Festung",description:`Fortress Level ${Math.round((d=e.number(["fortress"],Math.round(n()*20+15)))!=null?d:0)}`,tag:"Festung"}),r},Bm=t=>new Date(Date.now()-t*864e5).toLocaleDateString("de-DE");function Pc(t,e=300){const[n,r]=J.useState(t);return J.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}function Lc(t){const e=J.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(t).matches,[t]),[n,r]=J.useState(()=>e());return J.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(t),a=c=>r(c.matches);return r(i.matches),i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[t]),n}const BU='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function Dc(t,e){J.useEffect(()=>{var c;if(!e)return;const n=t.current;if(!n)return;const r=()=>n.querySelectorAll(BU);(c=r()[0])==null||c.focus();const a=d=>{if(d.key!=="Tab")return;const u=r();if(u.length===0)return;const h=u[0],p=u[u.length-1];d.shiftKey?document.activeElement===h&&(d.preventDefault(),p.focus()):document.activeElement===p&&(d.preventDefault(),h.focus())};return n.addEventListener("keydown",a),()=>n.removeEventListener("keydown",a)},[t,e])}const $U="_page_1jzf5_1",VU="_header_1jzf5_13",OU="_headerStack_1jzf5_25",UU="_kicker_1jzf5_37",zU="_title_1jzf5_53",HU="_subtitle_1jzf5_65",GU="_headerActions_1jzf5_79",WU="_secondaryAction_1jzf5_89",qU="_infoStrip_1jzf5_131",KU="_infoCard_1jzf5_143",QU="_infoLabel_1jzf5_163",XU="_inlineFilters_1jzf5_177",YU="_filterField_1jzf5_197",JU="_select_1jzf5_227",ZU="_searchInput_1jzf5_229",ez="_layout_1jzf5_249",tz="_selectionColumn_1jzf5_261",sz="_selectionCard_1jzf5_273",nz="_slotHeader_1jzf5_293",rz="_slotLabel_1jzf5_307",iz="_slotStatus_1jzf5_323",az="_clearButton_1jzf5_335",oz="_slotBody_1jzf5_355",lz="_resultList_1jzf5_367",cz="_emptyResult_1jzf5_385",dz="_resultItem_1jzf5_397",uz="_resultName_1jzf5_421",hz="_resultMeta_1jzf5_433",mz="_selectButton_1jzf5_445",pz="_selectedCard_1jzf5_465",fz="_selectedName_1jzf5_479",gz="_selectedMeta_1jzf5_489",xz="_selectedTagline_1jzf5_491",vz="_comparisonColumn_1jzf5_503",yz="_comparisonCard_1jzf5_515",bz="_comparisonHeader_1jzf5_535",_z="_sectionTitle_1jzf5_551",wz="_diffBadge_1jzf5_561",jz="_metricGrid_1jzf5_579",Sz="_metricCard_1jzf5_591",Nz="_metricLabel_1jzf5_611",kz="_metricValues_1jzf5_627",Cz="_metricDivider_1jzf5_643",Tz="_metricDelta_1jzf5_653",Ez="_freshnessRow_1jzf5_665",Az="_freshnessItem_1jzf5_677",Iz="_freshnessBadge_1jzf5_685",Rz="_freshnessPopover_1jzf5_733",Pz="_popoverTitle_1jzf5_757",Lz="_classCard_1jzf5_807",Dz="_classGrid_1jzf5_827",Mz="_classColumn_1jzf5_837",Fz="_classBar_1jzf5_857",Bz="_classSlice_1jzf5_873",$z="_classLegend_1jzf5_907",Vz="_emptyState_1jzf5_931",Oz="_supportPanels_1jzf5_947",Uz="_checklistCard_1jzf5_959",zz="_infoCardExtended_1jzf5_961",Hz="_checklist_1jzf5_959",Gz="_infoNote_1jzf5_1033",Wz="_sheetOverlay_1jzf5_1045",qz="_sheetOpen_1jzf5_1073",Kz="_sheet_1jzf5_1045",Qz="_sheetHeader_1jzf5_1105",Xz="_sheetBody_1jzf5_1119",ie={page:$U,header:VU,headerStack:OU,kicker:UU,title:zU,subtitle:HU,headerActions:GU,secondaryAction:WU,infoStrip:qU,infoCard:KU,infoLabel:QU,inlineFilters:XU,filterField:YU,select:JU,searchInput:ZU,layout:ez,selectionColumn:tz,selectionCard:sz,slotHeader:nz,slotLabel:rz,slotStatus:iz,clearButton:az,slotBody:oz,resultList:lz,emptyResult:cz,resultItem:dz,resultName:uz,resultMeta:hz,selectButton:mz,selectedCard:pz,selectedName:fz,selectedMeta:gz,selectedTagline:xz,comparisonColumn:vz,comparisonCard:yz,comparisonHeader:bz,sectionTitle:_z,diffBadge:wz,metricGrid:jz,metricCard:Sz,metricLabel:Nz,metricValues:kz,metricDivider:Cz,metricDelta:Tz,freshnessRow:Ez,freshnessItem:Az,freshnessBadge:Iz,freshnessPopover:Rz,popoverTitle:Pz,classCard:Lz,classGrid:Dz,classColumn:Mz,classBar:Fz,classSlice:Bz,classLegend:$z,emptyState:Vz,supportPanels:Oz,checklistCard:Uz,infoCardExtended:zz,checklist:Hz,infoNote:Gz,sheetOverlay:Wz,sheetOpen:qz,sheet:Kz,sheetHeader:Qz,sheetBody:Xz},lC=["Ari","Borin","Celeste","Doran","Lena","Nix"],Yz={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},s1={raid:"Raid",event:"Event",task:"Task"},n1={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},yj={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},bj={urgent:4,high:3,medium:2,low:1},Jz={"7d":7,"30d":30,"90d":90,all:null},Qx={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},Zz=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:Po(5,20),createdAt:Cn(2,14),updatedAt:Cn(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:Vm(3),nextUpdateAt:$m(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:Po(2,12),createdAt:Cn(4,9),updatedAt:Cn(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:Vm(8),nextUpdateAt:$m(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:Po(7,17),createdAt:Cn(1,10),updatedAt:Cn(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:Vm(22),nextUpdateAt:$m(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:Cn(1,19),createdAt:Cn(9,10),updatedAt:Cn(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:Cn(1,19),nextUpdateAt:Po(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:Po(12,18),createdAt:Cn(6,15),updatedAt:Cn(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:Vm(1),nextUpdateAt:$m(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:Po(18,13),createdAt:Cn(12,18),updatedAt:Cn(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:Cn(2,16),nextUpdateAt:Po(4,9)}];function Po(t,e=12){const n=new Date;return n.setDate(n.getDate()+t),n.setHours(e,0,0,0),n.toISOString()}function $m(t){const e=new Date;return e.setHours(e.getHours()+t,e.getMinutes(),0,0),e.toISOString()}function Cn(t,e=12){const n=new Date;return n.setDate(n.getDate()-t),n.setHours(e,0,0,0),n.toISOString()}function Vm(t){const e=new Date;return e.setHours(e.getHours()-t,e.getMinutes(),0,0),e.toISOString()}function _j(t){return{...t,page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),owner:Array.from(new Set(t.owner))}}function eH(t,e,n){const r=Date.now(),i=Jz[e.range];return t.filter(a=>{const c=n===""||a.title.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase()),d=e.type==="all"||a.type===e.type,u=e.status==="all"||a.status===e.status,h=e.owner.length===0||e.owner.includes(a.owner)||a.assignees.some(g=>e.owner.includes(g));let p=!0;if(i!==null){const g=new Date(a.dueAt).getTime(),v=r+i*24*60*60*1e3;p=g<=v}return c&&d&&u&&h&&p})}function tH(t,e,n){const r=[...t];return r.sort((i,a)=>{let c=0;switch(e){case"dueAt":c=new Date(i.dueAt).getTime()-new Date(a.dueAt).getTime();break;case"updatedAt":c=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break;case"priority":c=bj[i.priority]-bj[a.priority];break;case"title":c=i.title.localeCompare(a.title);break;default:c=0}return n==="asc"?c:-c}),r}function sH(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function Ai(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function ih(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Fu(t,e){const n=new Date(t).getTime()-e;if(n<=0)return"faellig";const r=Math.floor(n/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function nH(t){return t.length===0?null:t.reduce((e,n)=>e?yj[n.freshness]>yj[e.freshness]?n:e:n,null)}const cy=["EU-01","EU-02","US-01","US-02","ASIA-01"],mu=new Intl.NumberFormat("de-DE");function rH(){const t=Lc("(min-width: 768px)"),[e,n]=J.useState("all"),[r,i]=J.useState(null),[a,c]=J.useState(null),[d,u]=J.useState(null),[h,p]=J.useState(null),g=[r,a].filter(Boolean).length,v=J.useMemo(()=>{const P=[d,h].filter(Boolean);if(!P.length)return 0;const V=P.reduce(($,W)=>{var H;return $+((H=W.level)!=null?H:0)},0);return Math.round(V/P.length)},[d,h]),[b,j]=J.useState(null),[I,A]=J.useState(!1),B=J.useRef(null);Dc(B,I&&!t),J.useEffect(()=>{t&&A(!1)},[t]),J.useEffect(()=>{if(!b)return;const P=$=>{const W=$.target;W&&(W.closest(`.${ie.freshnessBadge}`)||W.closest(`.${ie.freshnessPopover}`)||j(null))},V=$=>{$.key==="Escape"&&j(null)};return document.addEventListener("pointerdown",P),document.addEventListener("keydown",V),()=>{document.removeEventListener("pointerdown",P),document.removeEventListener("keydown",V)}},[b]);const D=J.useMemo(()=>d?Fu(d.nextUpdateAt,Date.now()):"",[d]),T=J.useMemo(()=>h?Fu(h.nextUpdateAt,Date.now()):"",[h]),y=()=>A(!0),S=()=>A(!1),M=P=>{n(P)},C=(P,V)=>{P==="playerA"?(i(V.id),u(V)):(c(V.id),p(V))},w=P=>{P==="playerA"?(i(null),u(null)):(c(null),p(null))},E=P=>{j(V=>V===P?null:P)},L=d&&h;return s.jsxs(vt,{title:"Players",subtitle:"Spielervergleich",centerFramed:!1,children:[s.jsxs("div",{className:ie.page,children:[s.jsxs("header",{className:ie.header,children:[s.jsxs("div",{className:ie.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Players"}),s.jsx("h1",{className:ie.title,children:"Spieler vergleichen"}),s.jsx("p",{className:ie.subtitle,children:"Waehle zwei Charaktere aus, gleiche Level, Scrapbook und Freshness ab und finde die staerkere Option fuer dein Team oder deine Analyse."})]}),s.jsx("div",{className:ie.headerActions,children:!t&&s.jsx("button",{type:"button",className:ie.secondaryAction,onClick:y,children:"Filter"})})]}),s.jsxs("div",{className:ie.infoStrip,children:[s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Slots gefuellt"}),s.jsxs("strong",{children:[mu.format(g)," Spieler"]})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Durchschnittslevel"}),s.jsx("strong",{children:mu.format(v)})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:ie.inlineFilters,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:P=>M(P.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),cy.map(P=>s.jsx("option",{value:P,children:P},P))]})]})})]}),s.jsxs("div",{className:ie.layout,children:[s.jsxs("section",{className:ie.selectionColumn,children:[s.jsx(wj,{title:"Spieler A",slot:"playerA",selectedPlayer:d,excludeId:a,onSelect:C,onClear:w,serverFilter:e,onServerChange:M}),s.jsx(wj,{title:"Spieler B",slot:"playerB",selectedPlayer:h,excludeId:r,onSelect:C,onClear:w,serverFilter:e,onServerChange:M})]}),s.jsxs("section",{className:ie.comparisonColumn,children:[s.jsxs("div",{className:ie.comparisonCard,children:[s.jsxs("div",{className:ie.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Vergleich"}),s.jsx("h2",{className:ie.sectionTitle,children:"Kennzahlen"})]}),L&&s.jsxs("span",{className:ie.diffBadge,children:["Delta Level: ",mu.format(d.level-h.level)]})]}),L?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ie.metricGrid,children:[s.jsx(jj,{label:"Level",aValue:d.level,bValue:h.level}),s.jsx(jj,{label:"Scrapbook (%)",aValue:d.scrapbookPct,bValue:h.scrapbookPct,isDecimal:!0}),s.jsx(iH,{playerA:d,playerB:h,countdownA:D,countdownB:T,activePopover:b,onToggle:E})]}),s.jsx(aH,{playerA:d,playerB:h})]}):s.jsx("div",{className:ie.emptyState,children:s.jsx("p",{children:"Waehle zwei Spieler aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:ie.supportPanels,children:[s.jsx(oH,{}),s.jsx(lH,{})]})]})]})]}),!t&&s.jsx("div",{className:`${ie.sheetOverlay} ${I?ie.sheetOpen:""}`,children:s.jsxs("div",{className:ie.sheet,role:"dialog","aria-modal":"true",ref:B,children:[s.jsxs("header",{className:ie.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:ie.clearButton,onClick:S,children:"Schliessen"})]}),s.jsx("div",{className:ie.sheetBody,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:P=>M(P.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),cy.map(P=>s.jsx("option",{value:P,children:P},P))]})]})})]})})]})}function wj({title:t,slot:e,selectedPlayer:n,excludeId:r,onSelect:i,onClear:a,serverFilter:c,onServerChange:d}){const[u,h]=J.useState(""),p=Pc(u,300);J.useEffect(()=>{h("")},[n,c]);const{results:g,loading:v}=cH(p,c,r);return s.jsxs("article",{className:ie.selectionCard,children:[s.jsxs("div",{className:ie.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.slotLabel,children:t}),s.jsx("p",{className:ie.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:ie.clearButton,onClick:()=>a(e),children:"Reset"})]}),s.jsxs("div",{className:ie.slotBody,children:[s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:c,onChange:b=>d(b.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),cy.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:ie.searchInput,placeholder:"Spielernamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),s.jsxs("div",{className:ie.resultList,role:"list",children:[v&&s.jsx("div",{className:ie.emptyResult,children:"Lade..."}),!v&&g.length===0&&s.jsx("div",{className:ie.emptyResult,children:"Kein Spieler gefunden."}),!v&&g.map(b=>s.jsxs("div",{className:ie.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.resultName,children:b.name}),s.jsxs("p",{className:ie.resultMeta,children:[b.server," - Level ",b.level," - ",b.className]})]}),s.jsx("button",{type:"button",className:ie.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),n&&s.jsxs("div",{className:ie.selectedCard,children:[s.jsx("p",{className:ie.selectedName,children:n.name}),s.jsxs("p",{className:ie.selectedMeta,children:[n.server," - Level ",n.level," - ",n.className," -"," ",n.guildName||"ohne Gilde"]}),s.jsx("p",{className:ie.selectedTagline,children:n.tagline})]})]})]})}function jj({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):mu.format(d),a=e-n;let c="gleich";if(a!==0){const d=r?Math.abs(a).toFixed(1).replace(".",","):mu.format(Math.abs(a));c=a>0?`+${d}`:`-${d}`}return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:t}),s.jsxs("div",{className:ie.metricValues,children:[s.jsx("span",{"aria-label":"Spieler A",children:i(e)}),s.jsx("span",{className:ie.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Spieler B",children:i(n)})]}),s.jsx("p",{className:ie.metricDelta,children:c})]})}function iH({playerA:t,playerB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:a}){return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Freshness"}),s.jsx("div",{className:ie.freshnessRow,children:[t,e].map(c=>{const d=c.id===t.id?n:r,u=`fresh-${c.id}`,h=i===u;return s.jsxs("div",{className:ie.freshnessItem,children:[s.jsxs("button",{type:"button",className:ie.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[s.jsx("span",{children:c.freshness.toUpperCase()}),s.jsx("small",{children:ih(c.lastScanAt)})]}),h&&s.jsxs("div",{className:ie.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:ie.popoverTitle,children:c.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:n1[c.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:Ai(c.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[Ai(c.nextUpdateAt)," (",d,")"]})]})]})]})]},c.id)})})]})}function aH({playerA:t,playerB:e}){const n=J.useMemo(()=>Array.from(new Set([...t.stats,...e.stats].map(i=>i.label))),[t.stats,e.stats]),r=i=>{const a=i.stats.length?i.stats:[{label:"Keine Daten",percent:100}];return s.jsxs("div",{className:ie.classColumn,children:[s.jsx("h3",{children:i.name}),s.jsx("div",{className:ie.classBar,"aria-label":`Statverteilung ${i.name}`,children:a.map(c=>s.jsxs("span",{style:{width:`${c.percent}%`},className:ie.classSlice,children:[s.jsx("small",{children:c.label}),s.jsxs("strong",{children:[c.percent,"%"]})]},`${i.id}-${c.label}`))})]})};return s.jsxs("div",{className:ie.classCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Stat-Verteilung"}),s.jsx("div",{className:ie.classGrid,children:[t,e].map(r)}),n.length>0&&s.jsx("ul",{className:ie.classLegend,children:n.map(i=>s.jsx("li",{children:i},i))})]})}function oH(){const t=["Build, Edelsteine und Attribute nebeneinander legen","Buff-Food und Potions fuer beide Spieler abstimmen","Scrapbook- und Sammelstatus pruefen","Letzten Scan aktualisieren und Screens hochladen","Server- oder Account-Konflikte frueh klaeren"];return s.jsxs("section",{className:ie.checklistCard,children:[s.jsx("h3",{children:"Vor dem Vergleich pruefen"}),s.jsx("ul",{className:ie.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function lH(){return s.jsxs("section",{className:ie.infoCardExtended,children:[s.jsx("h3",{children:"Matchup-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/players/matchups/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:ie.infoNote,children:"Sammle jetzt schon Vergleichsmetriken (DPS, PvP, Arena), damit die spaetere Automatik sie direkt uebernehmen kann."}),s.jsx("button",{type:"button",className:ie.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function cH(t,e,n){const[r,i]=J.useState([]),[a,c]=J.useState(!1);return J.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),c(!1);return}let u=!1;async function h(){c(!0);try{const p=d.toLowerCase(),g=pf(Pt,"latest"),v=await an(Rn(g,Wa("nameFold"),Wo(p),qo(p+""),Pn(15))),b=await an(Rn(g,Yo("nameNgrams","array-contains",p),Pn(15))),j=new Set,I=[],A=B=>{var Q,G,te,re,z,se,ce,ee,fe,Te,xe,Ce,Ne,ue,De,Ae,nt,ht,ns,Gs,Ws,Dn,qs,Ds,Ms,Mn,bn,_n,us;const D=B.data(),y=(Q=B.ref.parent)==null?void 0:Q.parent,S=y==null?void 0:y.parent;if((S==null?void 0:S.id)!=="players")return;const C=(te=(G=y==null?void 0:y.id)!=null?G:D.playerIdentifier)!=null?te:B.id;if(!C||j.has(C)||n&&C===n)return;const w=(se=(z=D.name)!=null?z:(re=D.values)==null?void 0:re.Name)!=null?se:"Unbekannter Spieler",E=(fe=(ee=D.server)!=null?ee:(ce=D.values)==null?void 0:ce.Server)!=null?fe:"Unknown";if(e!=="all"&&E!==e)return;const L=(ue=(Ne=(xe=D.className)!=null?xe:(Te=D.values)==null?void 0:Te.Class)!=null?Ne:(Ce=D.values)==null?void 0:Ce.Class)!=null?ue:"Unbekannte Klasse",P=(nt=(Ae=D.guildName)!=null?Ae:(De=D.values)==null?void 0:De.Guild)!=null?nt:"",V=Ha(D.level)||Ha((ht=D.values)==null?void 0:ht.Level)||Ha((ns=D.values)==null?void 0:ns.Level),$=Ha(D.scrapbookPct)||Ha((Gs=D.values)==null?void 0:Gs["Album %"])||Ha((Ws=D.values)==null?void 0:Ws.AlbumPct)||Ha((Dn=D.values)==null?void 0:Dn["Scrapbook %"]),W=(Ms=(Ds=D.updatedAt)!=null?Ds:(qs=D.values)==null?void 0:qs.UpdatedAt)!=null?Ms:D.timestamp?new Date(D.timestamp*1e3).toISOString():new Date().toISOString(),H=(Mn=D.nextUpdateAt)!=null?Mn:uH(12),q=dH((bn=D.values)!=null?bn:D.stats);j.add(C),I.push({id:C,name:w,tagline:(_n=D.tagline)!=null?_n:P?`Mitglied in ${P}`:L,server:E,className:L,guildName:P,level:V||0,scrapbookPct:$,lastScanAt:W,updatedAt:W,nextUpdateAt:H,freshness:(us=D.freshness)!=null?us:"unknown",stats:q})};v.forEach(A),b.forEach(A),u||(I.sort((B,D)=>B.name.localeCompare(D.name)),i(I))}catch(p){console.error("[Players Compare] player search failed",p),u||i([])}finally{u||c(!1)}}return h(),()=>{u=!0}},[t,e,n]),{results:r,loading:a}}const Sj={Strength:"Staerke",Dexterity:"Geschick",Intelligence:"Intelligenz",Constitution:"Konstitution"};function dH(t={}){const e=Object.keys(Sj).map(r=>{var a;const i=(a=t==null?void 0:t[r])!=null?a:t==null?void 0:t[r.toLowerCase()];return{label:Sj[r],value:Ha(i)}}).filter(r=>r.value>0),n=e.reduce((r,i)=>r+i.value,0);return n?e.map(r=>({label:r.label,percent:Math.max(1,Math.round(r.value/n*100))})):[]}function Ha(t){const e=Number(t);return Number.isFinite(e)?e:0}function uH(t){const e=new Date;return e.setHours(e.getHours()+t),e.toISOString()}function hH(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Nj,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx(Nj,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function Nj({to:t,title:e,desc:n}){return s.jsxs(Ft,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function mH(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function pH(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function fH(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const gH={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function xH(t){var n;const e=fH(t);return(n=gH[e])!=null?n:null}function vH(t,e=128){var a,c;const n=xH(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(a=nl(n))!=null?a:null,i=r&&(c=Mr(r,e))!=null?c:null;return{id:n,url:r,thumb:i,fallback:""}}function Bu(t,e=128){return vH(t,e).thumb}const ml={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},Af=(t,e)=>({...t||{},...e||{}}),kj=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},yH=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),Zs=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function bH(t){var v,b,j,I,A,B,D,T;const e=Zs(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=Zs(t==null?void 0:t.baseMain),r=Zs(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const i=(t==null?void 0:t.baseStats)||{},a=Zs(i==null?void 0:i.sumBaseTotal);if(a!=null)return a;const c=Zs(i==null?void 0:i.main),d=Zs(i==null?void 0:i.con);if(c!=null&&d!=null)return c+d;const u=(t==null?void 0:t.values)||{},h=(b=(v=Zs(u==null?void 0:u.SumBaseTotal))!=null?v:Zs(u==null?void 0:u.sumBaseTotal))!=null?b:Zs(u==null?void 0:u["Sum Base Total"]);if(h!=null)return h;const p=(A=(I=(j=Zs(u==null?void 0:u.Main))!=null?j:Zs(u==null?void 0:u.main))!=null?I:Zs(u==null?void 0:u.BaseMain))!=null?A:Zs(u==null?void 0:u.baseMain),g=(T=(D=(B=Zs(u==null?void 0:u.Con))!=null?B:Zs(u==null?void 0:u.con))!=null?D:Zs(u==null?void 0:u.ConBase))!=null?T:Zs(u==null?void 0:u.conBase);return p!=null&&g!=null?p+g:null}function Lo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function _H(t,e=56){if(!t)return;const n=Lo(t),r=Ls.find(i=>Lo(i.label)===n||Lo(i.key)===n)||Ls.find(i=>Lo(i.label).startsWith(n)||n.startsWith(Lo(i.label))||Lo(i.key).startsWith(n)||n.startsWith(Lo(i.key)));return r?Mr(r.iconUrl,e):void 0}function wH({name:t,memberClass:e,online:n,theme:r=ml}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),a=_H(e,56);return s.jsxs("div",{className:"relative",children:[a?s.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const jH={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},SH=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(jH[t]||""),children:t});function Cj(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function NH(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function Om({label:t,value:e,theme:n=ml}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function kH({member:t,theme:e,actions:n,extraKPIs:r}){var p,g,v,b,j,I,A,B,D;if(!t)return null;const i=Af(ml,e),a=t,c=Cj((g=(p=a.guildJoined)!=null?p:a.joinedAt)!=null?g:null,(v=a.guildJoinedMs)!=null?v:null),d=Cj((b=a.lastActivity)!=null?b:null,(j=a.lastActivityMs)!=null?j:typeof a.lastOnline=="number"?a.lastOnline:null),u=NH(a),h=typeof a.totalStats=="number"?a.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(wH,{name:t.name,memberClass:(B=(A=a.class)!=null?A:(I=a.values)==null?void 0:I.Class)!=null?B:null,online:a.online,theme:i})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),a.role&&s.jsx(SH,{role:a.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[a.class||"",a.server?`  ${a.server}`:"","  Joined ",c,"  Last ",d]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Om,{label:"Level",value:(D=a.level)!=null?D:"",theme:i}),typeof a.scrapbook=="number"&&s.jsx(Om,{label:"Scrapbook",value:`${a.scrapbook}%`,theme:i}),s.jsx(Om,{label:"Sum Base",value:u,theme:i}),s.jsx(Om,{label:"Total Stats",value:h,theme:i}),r]})]})}function Do(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function CH(t,e=40){if(!t)return;const n=Do(t);let r=Ls.find(i=>Do(i.label)===n||Do(i.key)===n)||Ls.find(i=>Do(i.label).startsWith(n)||n.startsWith(Do(i.label))||Do(i.key).startsWith(n)||n.startsWith(Do(i.key)));return r?Mr(r.iconUrl,e):void 0}function TH({name:t,memberClass:e,online:n,theme:r=ml}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),a=CH(e,40);return s.jsxs("div",{className:"relative",children:[a?s.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const EH=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function AH({rows:t,selId:e,onSelect:n,rightCols:r,theme:i}){const a=Af(ml,i);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:a.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:a.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:a.header}}),t.map((c,d)=>{var u,h,p;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx(TH,{name:c.name,memberClass:(p=(h=c.class)!=null?h:(u=c.values)==null?void 0:u.Class)!=null?p:null,online:c.online,theme:a}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:c.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:a.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(EH,{role:c.role})}),r(c)]},c.id)})]})]})}function Mo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function IH(t,e=40){if(!t)return;const n=Mo(t);let r=Ls.find(i=>Mo(i.label)===n||Mo(i.key)===n)||Ls.find(i=>Mo(i.label).startsWith(n)||n.startsWith(Mo(i.label))||Mo(i.key).startsWith(n)||n.startsWith(Mo(i.key)));return r?Mr(r.iconUrl,e):void 0}function RH({rows:t,selId:e,onSelect:n,footer:r,theme:i}){const a=Af(ml,i);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var v,b,j,I,A,B,D,T,y;const d=c,u=c.name.slice(0,2).toUpperCase(),h=IH((j=(b=d.class)!=null?b:(v=d.values)==null?void 0:v.Class)!=null?j:null,40),p=typeof d.level=="number"?d.level:typeof((I=d.values)==null?void 0:I.Level)=="number"?d.values.Level:"",g=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((A=d.values)==null?void 0:A.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:a.border,background:`linear-gradient(180deg, ${a.tile} 0%, ${a.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${a.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h?s.jsx("img",{src:h,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:a.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:S=>{const M=S.currentTarget.parentElement;M&&(M.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${a.tile};color:${a.title};border-color:${a.border}">${u}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:a.tile,color:a.title,borderColor:a.border},children:u}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:c.name}),s.jsxs("div",{className:"text-xs",style:{color:a.sub},children:[(T=(D=d.class)!=null?D:(B=d.values)==null?void 0:B.Class)!=null?T:"",d.server?`  ${d.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:a.border},children:(y=d.role)!=null?y:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:a.title},children:p})]}),g&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:a.title},children:g})]})]}),s.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}const PH=t=>{if(!t)return;const e={};return["main","con","sumBaseTotal"].forEach(n=>{const r=t[n];typeof r=="number"&&(e[n]=r)}),Object.keys(e).length?e:void 0};function LH({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:a,onSelect:c,renderActions:d,renderKPIs:u,theme:h}){var L;const p=R.useMemo(()=>Af(ml,h),[h]),[g,v]=R.useState(e),[b,j]=R.useState(n),[I,A]=R.useState(r.key),[B,D]=R.useState(r.dir),[T,y]=R.useState((L=t[0])==null?void 0:L.id),S=a!=null?a:T,M=P=>{a||y(P);const V=t.find($=>$.id===P);V&&c&&c(V)},C=R.useMemo(()=>{const P=b.trim().toLowerCase();return P?t.filter(V=>V.name.toLowerCase().includes(P)||V.class.toLowerCase().includes(P)||String(V.role).toLowerCase().includes(P)):t},[t,b]),w=R.useMemo(()=>{const P=B==="asc"?1:-1,V=$=>{var W,H;switch(I){case"sumBaseStats":{const q=bH($);return q==null?-1/0:q}case"totalStats":return(H=(W=$.totalStats)!=null?W:yH(PH($.baseStats)))!=null?H:-1/0;default:return $[I]}};return[...C].sort(($,W)=>{const H=V($),q=V(W);return H===q?0:H>q?P:-P})},[C,I,B]),E=R.useMemo(()=>w.find(P=>P.id===S)||w[0],[w,S]);return s.jsxs("div",{children:[i&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:p.tile,borderColor:p.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"View"}),s.jsxs("select",{value:g,onChange:P=>v(P.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Search"}),s.jsx("input",{value:b,onChange:P=>j(P.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:p.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:p.sub},children:"Sort by"}),s.jsxs("select",{value:String(I),onChange:P=>A(P.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:p.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>D(P=>P==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:p.border},children:B==="asc"?"":""})]})]}),s.jsx(kH,{member:E,actions:E&&(d?d(E):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:p.border},children:"Message"})]})),extraKPIs:E&&u?u(E):null,theme:p}),g==="list"?s.jsx(AH,{rows:w,selId:S,onSelect:M,theme:p,rightCols:P=>{var V;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:(V=P.level)!=null?V:""}),s.jsx("div",{className:"text-right text-xs",style:{color:p.sub},children:kj(P.lastOnline)})]})}}):s.jsx(RH,{rows:w,selId:S,onSelect:M,theme:p,footer:P=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:p.sub},children:s.jsxs("span",{children:["Last ",kj(P.lastOnline)]})})})]})}function DH({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:a,totalPower:c,activity7d:d,topClasses:u,tickerItems:h,href:p,onClick:g,className:v}){const b=!!q3(),j=R.useMemo(()=>{if(!r)return null;const V=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(V/6e4));if($<60)return`${$}m`;const W=Math.floor($/60);return W<24?`${W}h`:`${Math.floor(W/24)}d`},[r]),I=eu(0),A=eu(0),B=eu(0),D=eu(0),T=Pm(I,V=>Math.round(V).toString()),y=Pm(A,V=>Math.round(V).toString()),S=Pm(B,V=>Math.round(V).toLocaleString()),M=Pm(D,V=>`${Math.round(V)}%`);R.useEffect(()=>{const V=b?0:.6;if(V===0){I.set(i),A.set(a),B.set(c!=null?c:0),D.set(d!=null?d:0);return}const $=[Lm(I,i,{duration:V}),Lm(A,a,{duration:V}),Lm(B,c!=null?c:0,{duration:V}),Lm(D,d!=null?d:0,{duration:V})];return()=>$.forEach(W=>W.stop())},[i,a,c,d,b]);const C=R.useRef(null);R.useEffect(()=>{if(b||!C.current)return;const V=C.current;let $=0,W=0;const H=()=>{W+=.016;const q=W*14%140-20;V.style.setProperty("--s-x",`${q}%`),$=requestAnimationFrame(H)};return $=requestAnimationFrame(H),()=>cancelAnimationFrame($)},[b]);const w={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},E=100,L=p?"a":"div",P=p?{href:p}:{onClick:g};return s.jsxs(L,{...P,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",v!=null?v:""].join(" "),style:{background:`linear-gradient(135deg, ${w.bgFrom}, ${w.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:C,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),j&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:w.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${w.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",j]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${E}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${E}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${E}deg, transparent 0 46px, ${w.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:w.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:w.soft,border:`1px solid ${w.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(Um,{label:"Members",value:T}),s.jsx(Um,{label:" Level",value:y}),s.jsx(Um,{label:"Total Power",value:S}),typeof d=="number"&&s.jsx(Um,{label:"Activity (7d)",value:M})]}),u!=null&&u.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:w.soft},children:"Top Classes"}),u.slice(0,3).map(V=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${w.border}`,color:w.text},children:[V.iconUrl?s.jsx("img",{src:V.iconUrl,alt:V.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:w.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[V.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round(V.percent),"%)"]})]})]},V.key))]}):null]})]})]}),h!=null&&h.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${w.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(MH,{items:h,muted:b,color:w.soft})}):null]})}function Um({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(G3.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function MH({items:t,muted:e,color:n}){const r=R.useRef(null);return R.useEffect(()=>{if(e||!r.current)return;const i=r.current;let a=0,c=0;const d=()=>{a+=.016;const u=a*40%(i.scrollWidth+60);i.style.transform=`translateX(${-u}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((i,a)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:i},a))})})}const FH="_wrap_q5gkc_53",BH="_banner_q5gkc_59",$H="_bannerRowTop_q5gkc_61",VH="_bannerStripe_q5gkc_71",OH="_bannerTitle_q5gkc_79",UH="_bannerRowBottom_q5gkc_93",zH="_bannerSub_q5gkc_95",HH="_monthPickerWrap_q5gkc_101",GH="_monthPickerLabel_q5gkc_113",WH="_monthPicker_q5gkc_101",qH="_monthButton_q5gkc_131",KH="_monthButtonText_q5gkc_159",QH="_chev_q5gkc_161",XH="_monthList_q5gkc_165",YH="_monthOption_q5gkc_195",JH="_monthBadge_q5gkc_221",ZH="_gridRow_q5gkc_237",eG="_gridRowBottom_q5gkc_239",tG="_sideImage_q5gkc_253",sG="_sideImagePh_q5gkc_271",nG="_emblemPanel_q5gkc_275",rG="_emblemFrame_q5gkc_295",iG="_emblemImg_q5gkc_297",aG="_emblemPlaceholder_q5gkc_299",oG="_emblemShimmer_q5gkc_307",lG="_emblemCaption_q5gkc_315",cG="_card_q5gkc_319",dG="_cardHeader_q5gkc_331",uG="_cardTitle_q5gkc_339",hG="_cardSubtitle_q5gkc_341",mG="_headerRight_q5gkc_343",pG="_cardBody_q5gkc_345",fG="_tableWrap_q5gkc_349",gG="_tableTitle_q5gkc_351",xG="_table_q5gkc_349",vG="_th_q5gkc_355",yG="_td_q5gkc_355",bG="_tdEmpty_q5gkc_365",_G="_sectionDivider_q5gkc_375",wG="_sectionStripe_q5gkc_389",jG="_sectionTitle_q5gkc_397",rt={wrap:FH,banner:BH,bannerRowTop:$H,bannerStripe:VH,bannerTitle:OH,bannerRowBottom:UH,bannerSub:zH,monthPickerWrap:HH,monthPickerLabel:GH,monthPicker:WH,monthButton:qH,monthButtonText:KH,chev:QH,monthList:XH,monthOption:YH,monthBadge:JH,gridRow:ZH,gridRowBottom:eG,sideImage:tG,sideImagePh:sG,emblemPanel:nG,emblemFrame:rG,emblemImg:iG,emblemPlaceholder:aG,emblemShimmer:oG,emblemCaption:lG,card:cG,cardHeader:dG,cardTitle:uG,cardSubtitle:hG,headerRight:mG,cardBody:pG,tableWrap:fG,tableTitle:gG,table:xG,th:vG,td:yG,tdEmpty:bG,sectionDivider:_G,sectionStripe:wG,sectionTitle:jG};function SG(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function Tj(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const Ej=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:rt.card,children:[(t||e||r)&&s.jsxs("header",{className:rt.cardHeader,children:[s.jsxs("div",{className:rt.headerTitles,children:[t&&s.jsx("h3",{className:rt.cardTitle,children:t}),e&&s.jsx("div",{className:rt.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:rt.headerRight,children:r})]}),s.jsx("div",{className:rt.cardBody,children:n})]}),Aj=({block:t})=>{var r,i;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:rt.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&s.jsx("div",{className:rt.tableTitle,children:t.title}),s.jsxs("table",{className:rt.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(a=>s.jsx("th",{className:rt.th,style:{width:a.width},children:a.label},a.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:rt.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((a,c)=>{var d;return s.jsx("tr",{children:e.map(u=>{var v;const h=a[u.key],p=typeof h=="number"||typeof h=="string"?h:"",g=u.format==="num"?SG(p):p;return s.jsx("td",{className:rt.td,"data-align":(v=u.align)!=null?v:"left",children:u.render?u.render(a):g},u.key)})},(d=a.id)!=null?d:c)})})]}),t.footer&&s.jsx("div",{className:rt.tableFooter,children:t.footer})]})},NG=(t,e)=>{R.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},kG=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var p;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:rt.bannerSub,children:r!=null?r:""});const a=R.useRef(null),[c,d]=R.useState(!1);NG(a,()=>d(!1));const u=t.find(g=>g.key===e),h=u?`${Tj(u.fromISO)}${Tj(u.toISO)}  ${u.daysSpan}d${u.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:rt.monthPickerWrap,children:[s.jsx("div",{className:rt.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:rt.monthPicker,ref:a,children:[s.jsxs("button",{type:"button",className:rt.monthButton,onClick:()=>d(g=>!g),"aria-haspopup":"listbox","aria-expanded":c,children:[s.jsx("span",{className:rt.monthButtonText,children:(p=u==null?void 0:u.label)!=null?p:""}),s.jsx("svg",{className:rt.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&s.jsx("ul",{className:rt.monthList,role:"listbox",children:t.map(g=>s.jsx("li",{children:s.jsx("button",{type:"button",className:rt.monthOption,onClick:()=>{d(!1),n==null||n(g.key)},role:"option","aria-selected":g.key===e,children:g.label})},g.key))})]}),h&&s.jsx("span",{className:rt.monthBadge,children:h})]})},CG=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>s.jsxs("div",{className:rt.banner,children:[s.jsxs("div",{className:rt.bannerRowTop,children:[s.jsx("div",{className:rt.bannerStripe}),s.jsx("div",{className:rt.bannerTitle,children:t}),s.jsx("div",{className:rt.bannerStripe})]}),s.jsx("div",{className:rt.bannerRowBottom,children:s.jsx(kG,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),TG=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:rt.emblemPanel,children:[s.jsxs("div",{className:rt.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:rt.emblemImg}):s.jsx("div",{className:rt.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:rt.emblemShimmer})]}),e&&s.jsx("div",{className:rt.emblemCaption,children:e})]}),Ij=({imgUrl:t,alt:e})=>s.jsx("div",{className:rt.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:rt.sideImagePh,children:"Image"})}),Xx=({children:t,className:e})=>s.jsx("div",{className:`${rt.gridRow} ${e!=null?e:""}`,children:t}),EG=({children:t})=>s.jsxs("div",{className:rt.sectionDivider,children:[s.jsx("div",{className:rt.sectionStripe}),s.jsx("div",{className:rt.sectionTitle,children:t}),s.jsx("div",{className:rt.sectionStripe})]}),AG=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:a}=t;return s.jsxs("div",{className:rt.wrap,children:[s.jsx(CG,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(Xx,{children:[s.jsx(Ij,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx(TG,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(Ij,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(Xx,{children:i.map((c,d)=>s.jsx(Ej,{title:c.title,subtitle:c.subtitle,children:s.jsx(Aj,{block:c})},d))}),s.jsx(EG,{children:"Guild Overview"}),s.jsx(Xx,{className:rt.gridRowBottom,children:a.map((c,d)=>s.jsx(Ej,{title:c.title,subtitle:c.subtitle,children:s.jsx(Aj,{block:c})},d))})]})},IG=({guildId:t,guildName:e,guildServer:n})=>{const[r,i]=R.useState(!0),[a,c]=R.useState(null),[d,u]=R.useState(void 0),h=R.useRef({}),[p,g]=R.useState(()=>zm(e,n));R.useEffect(()=>{let b=!1;async function j(){var I,A,B,D,T;i(!0);try{const y=Xu(Pt,`guilds/${t}/history_monthly`),S=await an(y),M=[];for(const E of S.docs){const L=E.id,P=E.data();if(!P)continue;h.current[L]=P;const V=(I=P==null?void 0:P.meta)!=null?I:{},$=V.fromISO||V.baselineISO||V.firstISO||"",W=V.toISO||V.latestISO||V.nowISO||"",H=Number((A=V.daysSpan)!=null?A:Math.floor((+new Date(W)-+new Date($))/864e5))||0,q=!!((D=(B=P==null?void 0:P.status)==null?void 0:B.available)!=null?D:$&&W&&H<=40),Q=V.label||new Date(L+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});M.push({key:L,label:Q,fromISO:$||new Date(L+"-01").toISOString(),toISO:W||new Date(L+"-28").toISOString(),daysSpan:H,available:q,reason:q||(T=P==null?void 0:P.status)==null?void 0:T.reason})}if(M.sort((E,L)=>E.key<L.key?1:-1),b)return;if(M.length===0){c(null),u(void 0),g(zm(e,n)),i(!1);return}c(M);const C=M[0].key;u(C);const w=h.current[C];g(Rj(w,{guildName:e,guildServer:n,currentMonthKey:C,months:M}))}catch(y){console.error(y),c(null),u(void 0),g(zm(e,n))}finally{b||i(!1)}}return j(),()=>{b=!0}},[t,e,n]);async function v(b){u(b);let j=h.current[b];if(!j)try{const I=fs(Pt,`guilds/${t}/history_monthly/${b}`),A=await mr(I);A.exists()?(j=A.data(),h.current[b]=j):j=null}catch(I){console.error(I),j=null}if(!j){g(zm(e,n,{currentMonthKey:b,months:a!=null?a:void 0}));return}g(Rj(j,{guildName:e,guildServer:n,currentMonthKey:b,months:a!=null?a:void 0}))}return s.jsx(AG,{data:p,onMonthChange:v})};function zm(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:Bu(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[Fo("Most Base Stats gained",e?`Server ${e}`:void 0),Fo("Sum Base Stats"),Fo("Highest Base Stats")],tablesBottom:[Fo("Main & Con"),Fo("Sum Base Stats"),Fo("Highest Base Stats"),Fo("Highest Total Stats")]}}function Fo(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function Rj(t,e){var c,d,u,h,p,g,v,b;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:Bu(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((j,I)=>{var A,B,D,T,y,S,M,C;return{id:(A=j.playerId)!=null?A:I,rank:I+1,name:(B=j.name)!=null?B:"-",level:(T=(D=j.levelLatest)!=null?D:j.level)!=null?T:null,base:(S=(y=j.baseLatest)!=null?y:j.base)!=null?S:null,delta:(C=(M=j.baseDelta)!=null?M:j.delta)!=null?C:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((u=t==null?void 0:t.sumBaseStats)!=null?u:[]).map((j,I)=>{var A,B,D,T,y,S,M;return{id:(A=j.playerId)!=null?A:I,rank:I+1,name:(B=j.name)!=null?B:"-",base:(D=j.base)!=null?D:null,stam:(y=(T=j.stamDelta)!=null?T:j.staminaDelta)!=null?y:null,sho:(M=(S=j.shoDelta)!=null?S:j.shootingDelta)!=null?M:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((h=t==null?void 0:t.highestBaseStats)!=null?h:[]).map((j,I)=>{var A,B,D,T,y;return{id:(A=j.playerId)!=null?A:I,rank:I+1,name:(B=j.name)!=null?B:"-",stats:(T=(D=j.stats)!=null?D:j.base)!=null?T:null,delta:(y=j.delta)!=null?y:null}})}],a=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.mainAndCon)!=null?p:[]).map((j,I)=>{var A,B,D,T,y,S;return{id:(A=j.playerId)!=null?A:I,rank:I+1,name:(B=j.name)!=null?B:"-",class:(T=(D=j.class)!=null?D:j.className)!=null?T:"",stats:(y=j.stats)!=null?y:null,delta:(S=j.delta)!=null?S:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((g=t==null?void 0:t.sumBaseStats)!=null?g:[]).map((j,I)=>{var A,B,D,T,y;return{id:(A=j.playerId)!=null?A:I,rank:I+1,name:(B=j.name)!=null?B:"-",base:(D=j.base)!=null?D:null,stam:(T=j.stamDelta)!=null?T:null,sho:(y=j.shoDelta)!=null?y:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((v=t==null?void 0:t.highestBaseStats)!=null?v:[]).map((j,I)=>{var A,B,D,T;return{id:(A=j.playerId)!=null?A:I,rank:I+1,name:(B=j.name)!=null?B:"-",stats:(D=j.stats)!=null?D:null,delta:(T=j.delta)!=null?T:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((b=t==null?void 0:t.highestTotalStats)!=null?b:[]).map((j,I)=>{var A,B,D,T;return{id:(A=j.playerId)!=null?A:I,rank:I+1,name:(B=j.name)!=null?B:"-",total:(D=j.total)!=null?D:null,delta:(T=j.delta)!=null?T:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:a}}const RG="_root_r1uj3_5",PG="_sectionDivider_r1uj3_17",LG="_sectionStripe_r1uj3_31",DG="_sectionTitle_r1uj3_33",Md={root:RG,sectionDivider:PG,sectionStripe:LG,sectionTitle:DG},MG="_root_4jywc_1",FG="_accent_4jywc_31",Pj={root:MG,default:"_default_4jywc_29",accent:FG};function so({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${Pj.root} ${Pj[e]} ${n!=null?n:""}`.trim(),children:t})}const Hm=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function cC(t,e=64){if(!t)return;const n=Hm(t);let r=Ls.find(i=>Hm(i.label)===n);return r||(r=Ls.find(i=>Hm(i.label).startsWith(n)||n.startsWith(Hm(i.label)))),r?Mr(r.iconUrl,e):void 0}const BG="_card_vvv3s_3",$G="_wrap_vvv3s_31",VG="_divider_vvv3s_45",OG="_rows_vvv3s_77",UG="_row_vvv3s_77",zG="_left_vvv3s_109",HG="_label_vvv3s_111",GG="_avgHead_vvv3s_113",WG="_avgNum_vvv3s_115",qG="_top3_vvv3s_121",KG="_chip_vvv3s_123",QG="_badge_vvv3s_151",XG="_name_vvv3s_159",YG="_score_vvv3s_161",JG="_headerSpacer_vvv3s_167",En={card:BG,wrap:$G,divider:VG,rows:OG,row:UG,left:zG,label:HG,avgHead:GG,avgNum:WG,top3:qG,chip:KG,badge:QG,name:XG,score:YG,headerSpacer:JG};function ZG({name:t,value:e,classLabel:n,colors:r}){const i=cC(n,64);return s.jsxs("div",{className:En.chip,children:[s.jsx("span",{className:En.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:En.name,children:t!=null?t:""}),s.jsx("span",{className:En.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function eW({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,h)=>{var p,g;return((p=h[d])!=null?p:0)-((g=u[d])!=null?g:0)}).slice(0,3),a=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:En.card,children:[s.jsx(so,{text:n}),s.jsx("div",{className:En.headerSpacer}),s.jsxs("div",{className:En.wrap,children:[s.jsx("div",{className:En.divider}),s.jsx("div",{className:En.rows,children:a.map((d,u)=>s.jsxs("div",{className:En.row,children:[s.jsxs("div",{className:En.left,children:[s.jsx("div",{className:En.label,children:d.label}),s.jsx("div",{className:En.avgHead,children:""}),s.jsx("div",{className:En.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:En.top3,children:d.list.map((h,p)=>s.jsx(ZG,{name:h.name,value:h[d.key],classLabel:h.class,colors:e},p))})]},u))})]})]})}const tW="_card_1enwc_1",sW="_wrap_1enwc_1",nW="_divider_1enwc_1",rW="_rows_1enwc_1",iW="_row_1enwc_1",aW="_left_1enwc_1",oW="_label_1enwc_1",lW="_avgHead_1enwc_1",cW="_avgNum_1enwc_1",dW="_top3_1enwc_1",uW="_chip_1enwc_1",hW="_badge_1enwc_1",mW="_name_1enwc_1",pW="_score_1enwc_1",fW="_headerSpacer_1enwc_1",An={card:tW,wrap:sW,divider:nW,rows:rW,row:iW,left:aW,label:oW,avgHead:lW,avgNum:cW,top3:dW,chip:uW,badge:hW,name:mW,score:pW,headerSpacer:fW};function gW({name:t,value:e,classLabel:n,colors:r}){const i=cC(n,64);return s.jsxs("div",{className:An.chip,children:[s.jsx("span",{className:An.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:An.name,children:t!=null?t:""}),s.jsx("span",{className:An.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function xW({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,h)=>{var p,g;return((p=h[d])!=null?p:0)-((g=u[d])!=null?g:0)}).slice(0,3),a=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:An.card,children:[s.jsx(so,{text:n}),s.jsx("div",{className:An.headerSpacer}),s.jsxs("div",{className:An.wrap,children:[s.jsx("div",{className:An.divider}),s.jsx("div",{className:An.rows,children:a.map((d,u)=>s.jsxs("div",{className:An.row,children:[s.jsxs("div",{className:An.left,children:[s.jsx("div",{className:An.label,children:d.label}),s.jsx("div",{className:An.avgHead,children:""}),s.jsx("div",{className:An.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:An.top3,children:d.list.map((h,p)=>s.jsx(gW,{name:h.name,value:h[d.key],classLabel:h.class,colors:e},p))})]},u))})]})]})}function vW({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(so,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function yW({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(so,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function bW({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(so,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function _W({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(so,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const wW=R.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const a=i.icon,c=({text:d})=>s.jsxs("div",{className:Md.sectionDivider,children:[s.jsx("div",{className:Md.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}}),s.jsx("div",{className:Md.sectionTitle,style:{color:i.soft},children:d}),s.jsx("div",{className:Md.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}})]});return s.jsxs("div",{className:Md.root+" space-y-4",children:[s.jsx(c,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(c,{text:"AVERAGE PLAYER STATS"})}),s.jsx(vW,{guild:e,snapshot:n,colors:i}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(eW,{snapshot:n,colors:i}),s.jsx(xW,{snapshot:n,colors:i})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(yW,{colors:i}),s.jsx(bW,{colors:i})]}),s.jsx("div",{className:"mt-4",children:s.jsx(_W,{colors:i})})]})}),jW="_wrapper_zqchq_3",SW="_grid_zqchq_9",NW="_tile_zqchq_13",kW="_disabled_zqchq_37",CW="_crestWrap_zqchq_41",TW="_crest_zqchq_41",EW="_ring_zqchq_53",AW="_badge_zqchq_55",IW="_meta_zqchq_67",RW="_nameRow_zqchq_69",PW="_name_zqchq_69",LW="_share_zqchq_73",DW="_sub_zqchq_75",MW="_tileButton_zqchq_79",FW="_donutCard_zqchq_85",BW="_donutHeader_zqchq_87",$W="_legend_zqchq_91",VW="_legendItem_zqchq_93",OW="_legendSwatch_zqchq_95",UW="_legendRight_zqchq_97",zW="_centerLabel_zqchq_101",ls={wrapper:jW,grid:SW,tile:NW,disabled:kW,crestWrap:CW,crest:TW,ring:EW,badge:AW,meta:IW,nameRow:RW,name:PW,share:LW,sub:DW,tileButton:MW,donutCard:FW,donutHeader:BW,legend:$W,legendItem:VW,legendSwatch:OW,legendRight:UW,centerLabel:zW},dy=56;function Vp(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function Lj(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const HW=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function GW(t){return t?/drive\.google\.com/.test(t):!1}function Dj(t,e=dy){if(t)return GW(t)?Mr(t,e):t}function WW(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function qW(t){var p,g,v,b,j,I;if(!t)return null;const e=t,n=t,r=(p=e.key)!=null?p:n.id,i=(g=e.label)!=null?g:n.name,a=(b=(v=n.crestUrl)!=null?v:e.iconUrl)!=null?b:n.iconUrl,c=(j=e.iconUrl)!=null?j:n.iconUrl,d=(I=e.fallback)!=null?I:n.fallback;if(!r||!i)return null;const u=Dj(a,dy),h=Dj(c,dy);return{id:r,name:String(i),crestUrl:u||h,iconUrl:h||u,fallback:d?String(d):void 0}}function dC(t,e){var p,g,v,b,j,I,A,B,D,T,y,S,M,C,w,E,L,P,V,$,W;const n={},r={},i={},a={},c=e.map(H=>H.id);for(const H of c)n[H]=0,r[H]=0,i[H]=0,a[H]=null;for(const H of Array.isArray(t)?t:[]){const q=(S=(T=(B=(I=(b=(v=(g=(p=H.classId)!=null?p:H.class)!=null?g:H.klass)!=null?v:H.playerClass)!=null?b:H.cls)!=null?I:(j=H.values)==null?void 0:j.Class)!=null?B:(A=H.values)==null?void 0:A.class)!=null?T:(D=H.values)==null?void 0:D.Klasse)!=null?S:(y=H.values)==null?void 0:y.klasse,Q=WW(q);if(!Q||!c.includes(Q))continue;n[Q]+=1;const G=HW((E=(C=H.level)!=null?C:(M=H.values)==null?void 0:M.Level)!=null?E:(w=H.values)==null?void 0:w.level);G!=null&&(r[Q]+=G,i[Q]+=1,(!a[Q]||((P=(L=a[Q])==null?void 0:L.level)!=null?P:-1/0)<G)&&(a[Q]={id:H.id,name:(W=($=H.name)!=null?$:(V=H.values)==null?void 0:V.Name)!=null?W:null,level:G}))}const d=Object.values(n).reduce((H,q)=>H+q,0),u={},h={};return c.forEach(H=>{u[H]=d>0?n[H]/d*100:0,h[H]=i[H]>0?r[H]/i[H]:null}),{counts:n,shares:u,avg:h,top:a}}const KW=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:ls.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},QW=({data:t,classMeta:e,onPickClass:n})=>{const[r,i]=R.useState({}),a=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:u,avg:h,top:p}=R.useMemo(()=>dC(a,c),[a,c]);return s.jsx("section",{className:ls.wrapper,children:s.jsx("div",{className:ls.grid,style:{gridTemplateColumns:"1fr"},children:c.map(g=>{var D,T,y;const v=(D=d[g.id])!=null?D:0,b=(T=u[g.id])!=null?T:0,j=h[g.id],I=p[g.id],A=v<=0,B=r[g.id]?void 0:g.crestUrl||g.iconUrl;return s.jsxs("div",{className:`${ls.tile} ${A?ls.disabled:""}`,title:A?`${g.name}: kein Mitglied`:`${g.name}  ${Lj(v)}  ${Vp(b)}${j?`   ${j.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:ls.crestWrap,children:[B?s.jsx("img",{className:ls.crest,src:B,alt:g.name,onError:()=>i(S=>({...S,[g.id]:!0}))}):s.jsx("div",{className:ls.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(y=g.fallback)!=null?y:""}),s.jsx(KW,{valuePct:b}),s.jsx("div",{className:ls.badge,children:Lj(v)})]}),s.jsxs("div",{className:ls.meta,children:[s.jsxs("div",{className:ls.nameRow,children:[s.jsx("div",{className:ls.name,children:g.name}),s.jsx("div",{className:ls.share,children:Vp(b)})]}),s.jsxs("div",{className:ls.sub,children:[j?` Lvl ${j.toFixed(1)}`:"",I?`  Top: ${I.name}${I.level?` (Lv ${I.level})`:""}`:""]})]}),!A&&n&&s.jsx("button",{className:ls.tileButton,onClick:()=>n(g.id),"aria-label":`${g.name} filtern`})]},g.id)})})})},XW=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:a}=R.useMemo(()=>dC(n,r),[n,r]),c=R.useMemo(()=>Object.values(a).reduce((d,u)=>d+u,0),[a]);return s.jsxs("div",{className:ls.donutCard,children:[s.jsxs("div",{className:ls.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:ls.legendRight,children:["Gesamt: ",c]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const g=Math.PI*2,v=r.map((j,I)=>{var A;return{id:j.id,pct:(A=i[j.id])!=null?A:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*I)} 60% 55%)`}});let b=0;return v.map(j=>{const I=(j.pct||0)/100;if(I<=0)return null;const A=b,B=b+g*I;b=B;const D=B-A>Math.PI?1:0,T=130+100*Math.cos(A),y=130+100*Math.sin(A),S=130+100*Math.cos(B),M=130+100*Math.sin(B),C=130+64*Math.cos(B),w=130+64*Math.sin(B),E=130+64*Math.cos(A),L=130+64*Math.sin(A),P=`M ${T} ${y} A 100 100 0 ${D} 1 ${S} ${M} L ${C} ${w} A 64 64 0 ${D} 0 ${E} ${L} Z`;return s.jsx("path",{d:P,fill:j.color,opacity:.95},j.id)})})()]}),s.jsx("div",{className:ls.legend,children:r.map((d,u)=>{var g,v;const h=(g=i[d.id])!=null?g:0,p=(v=a[d.id])!=null?v:0;return s.jsxs("div",{className:ls.legendItem,title:`${d.name}: ${p}  ${Vp(h)}`,children:[s.jsx("span",{className:ls.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*u)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:d.name}),s.jsxs("span",{className:ls.legendRight,children:[p,"  ",Vp(h)]})]},d.id)})})]}),s.jsx("div",{className:ls.centerLabel,children:"Anteile je Klasse"})]})},Cs={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},YW=t=>{var e,n,r,i,a,c,d,u,h,p,g,v,b,j,I;return{id:t.id,name:(e=t.name)!=null?e:"Unknown",class:(n=t.class)!=null?n:"Unknown",role:(r=t.role)!=null?r:"Unknown",level:(i=t.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(a=t.lastActivityMs)!=null?a:null,server:null,baseStats:{main:(c=t.baseMain)!=null?c:void 0,con:(d=t.conBase)!=null?d:void 0,sumBaseTotal:(u=t.sumBaseTotal)!=null?u:void 0},totalStats:(h=t.totalStats)!=null?h:void 0,values:{treasury:(p=t.treasury)!=null?p:void 0,mine:(g=t.mine)!=null?g:void 0,attrTotal:(v=t.attrTotal)!=null?v:void 0,conTotal:(b=t.conTotal)!=null?b:void 0,lastScan:(j=t.lastScan)!=null?j:void 0,lastActivity:(I=t.lastActivity)!=null?I:void 0}}},Yx=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},JW=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function uC({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:Cs.tile,border:`1px solid ${Cs.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:Cs.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:Cs.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function Fd({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:Cs.title},children:e})]})}function ZW({guild:t}){var n,r;const e=Bu(t.name,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(uC,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Fd,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),s.jsx(Fd,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),s.jsx(Fd,{k:"Server",v:(r=t.server)!=null?r:""}),s.jsx(Fd,{k:"Inaktiv",v:"0"}),s.jsx(Fd,{k:"Aktivitt",v:"100%"})]})})]})}function Jx(){var A,B,D,T,y,S;const t=Yp(),e=t.id||t.gid||t.guildId||t.guild||"",n=Dr(),[r,i]=R.useState(!0),[a,c]=R.useState(null),[d,u]=R.useState(null),[h,p]=R.useState(null),[g,v]=R.useState("grid"),b=R.useMemo(()=>(Array.isArray(Ls)?Ls:[]).map(qW).filter(Boolean),[]);R.useEffect(()=>{let M=!1;async function C(){var w,E,L,P,V,$,W,H,q,Q,G,te,re,z,se,ce,ee,fe,Te,xe,Ce,Ne,ue,De,Ae,nt,ht,ns,Gs,Ws,Dn,qs,Ds,Ms,Mn,bn,_n;i(!0),c(null);try{const us=e.trim();if(!us){c("Keine Gilde gewhlt."),i(!1);return}const Yt=fs(Pt,`guilds/${us}/latest/latest`),Wt=await mr(Yt);if(!Wt.exists()){c("Gilde nicht gefunden."),i(!1);return}const Mt=Wt.data(),li=(L=(E=Mt.name)!=null?E:(w=Mt.values)==null?void 0:w.Name)!=null?L:us,Jn=($=(V=Mt.server)!=null?V:(P=Mt.values)==null?void 0:P.Server)!=null?$:null,fr=(G=Yx((Q=(H=Mt.memberCount)!=null?H:(W=Mt.values)==null?void 0:W["Guild Member Count"])!=null?Q:(q=Mt.values)==null?void 0:q.GuildMemberCount))!=null?G:null,gr=(xe=Yx((Te=(ee=(se=(re=Mt.hofRank)!=null?re:(te=Mt.values)==null?void 0:te["Hall of Fame Rank"])!=null?se:(z=Mt.values)==null?void 0:z.HoF)!=null?ee:(ce=Mt.values)==null?void 0:ce.Rank)!=null?Te:(fe=Mt.values)==null?void 0:fe["Guild Rank"]))!=null?xe:null,ci=JW(Yx(Mt.timestamp));M||u({id:us,name:li,server:Jn,memberCount:fr,hofRank:gr,lastScanDays:ci});const di=fs(Pt,`guilds/${us}/snapshots/members_summary`),Fr=await mr(di);if(Fr.exists()&&!M){const qt=Fr.data(),xr={guildId:String((Ce=qt.guildId)!=null?Ce:us),updatedAt:String((De=(ue=qt.updatedAt)!=null?ue:(Ne=Mt.values)==null?void 0:Ne.Timestamp)!=null?De:""),updatedAtMs:Number((nt=(Ae=qt.updatedAtMs)!=null?Ae:Mt.timestamp*1e3)!=null?nt:0),count:Number((ht=qt.count)!=null?ht:0),hash:String((ns=qt.hash)!=null?ns:""),avgLevel:(Gs=qt.avgLevel)!=null?Gs:null,avgTreasury:(Ws=qt.avgTreasury)!=null?Ws:null,avgMine:(Dn=qt.avgMine)!=null?Dn:null,avgBaseMain:(qs=qt.avgBaseMain)!=null?qs:null,avgConBase:(Ds=qt.avgConBase)!=null?Ds:null,avgSumBaseTotal:(Ms=qt.avgSumBaseTotal)!=null?Ms:null,avgAttrTotal:(Mn=qt.avgAttrTotal)!=null?Mn:null,avgConTotal:(bn=qt.avgConTotal)!=null?bn:null,avgTotalStats:(_n=qt.avgTotalStats)!=null?_n:null,members:Array.isArray(qt.members)?qt.members:[]};p(xr)}}catch(us){M||c((us==null?void 0:us.message)||"Fehler beim Laden.")}finally{M||i(!1)}}return C(),()=>{M=!0}},[e]);const j=R.useMemo(()=>{var M;return((M=h==null?void 0:h.members)!=null?M:[]).map(C=>YW(C))},[h]);if(r)return s.jsx(vt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:Cs.soft},children:"Lade Gildenprofil"})});if(!d)return s.jsx(vt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:Cs.soft},children:[a!=null?a:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const I=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${Cs.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:Cs.tile,border:`1px solid ${Cs.line}`,color:Cs.title},children:(A=d.server)!=null?A:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:Cs.title,fontSize:26,lineHeight:1.15},children:d.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:Cs.soft},children:["Zuletzt aktualisiert:",h!=null&&h.updatedAt?h.updatedAt:""," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:Cs.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(vt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[I,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(ZW,{guild:d})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(wW,{guild:d,snapshot:h,emblemUrl:Bu(d.name,512)||void 0,colors:Cs}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(DH,{guildName:d.name,server:(B=d.server)!=null?B:"",emblemUrl:Bu(d.name,512)||void 0,lastScanISO:h!=null&&h.updatedAtMs?new Date(h.updatedAtMs).toISOString():void 0,members:(D=d.memberCount)!=null?D:0,avgLevel:(T=h==null?void 0:h.avgLevel)!=null?T:0,totalPower:(y=h==null?void 0:h.avgTotalStats)!=null?y:void 0,tickerItems:h!=null&&h.updatedAt?[`Updated ${h.updatedAt}`,`Members ${(S=d.memberCount)!=null?S:0}`]:void 0})})}),s.jsx(eq,{members:j,guildId:d.id,guildName:d.name,guildServer:d.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>v("grid"),"aria-label":"Klassenbersicht",children:s.jsx(so,{text:"Klassenbersicht",tone:g==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>v("donut"),"aria-label":"Klassenverteilung",children:s.jsx(so,{text:"Klassenverteilung",tone:g==="donut"?"accent":"default"})})]}),g==="grid"?s.jsx(QW,{data:j,classMeta:b,onPickClass:M=>{const C=new URL(window.location.href);C.searchParams.set("tab","bersicht"),C.searchParams.set("class",M),window.location.href=C.toString()}}):s.jsx(XW,{data:j,classMeta:b})]})]})})]})}function eq({members:t,guildId:e,guildName:n,guildServer:r}){const[i,a]=R.useState("bersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:Cs.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===i;return s.jsx("button",{role:"tab","aria-selected":d,onClick:()=>a(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?Cs.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:Cs.title},children:c},c)})}),s.jsxs(uC,{children:[i==="bersicht"&&s.jsx(LH,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:Cs.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&s.jsx(IG,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:Cs.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function tq(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Mj,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx(Mj,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function Mj({to:t,title:e,desc:n}){return s.jsxs(Ft,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function sq(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function nq(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const Os={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function Fj({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function rq({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function tc({label:t,value:e}){return s.jsxs("div",{style:{background:Os.tileAlt,border:`1px solid ${Os.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:Os.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:Os.title,fontWeight:700},children:e})]})}function iq(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),a=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const u=d[1],h=String(parseInt(d[2],10)),p=u==="EU"?"eu":u==="US"?"us":u==="AM"?"net":u.toLowerCase();c=`s${h}.sfgame.${p}`}return Array.from(new Set([e,n,r,i,a,c].filter(Boolean)))}function Zx(){var I,A,B,D;const t=Yp(),e=Dr(),n=Yn(),r=t.id||t.sid||t.serverId||t.server||"",[i,a]=R.useState(!0),[c,d]=R.useState(null),[u,h]=R.useState(null),[p,g]=R.useState(null);R.useEffect(()=>{let T=!1;async function y(){a(!0),d(null),h(null),g(null);try{const S=r.trim();if(!S)throw new Error("Kein Server gewhlt.");const M=fs(Pt,`servers/${S}`),C=await mr(M);if(C.exists()){T||(h(C.id),g(C.data()));return}const w=Xu(Pt,"servers"),E=iq(S),L=[];for(const W of E)L.push(an(Rn(w,Yo("code","==",W),Pn(1)))),L.push(an(Rn(w,Yo("displayName","==",W),Pn(1)))),L.push(an(Rn(w,Yo("host","==",W),Pn(1))));const P=await Promise.allSettled(L);let V=null,$=null;for(const W of P){if(W.status!=="fulfilled")continue;const H=W.value;if(!H.empty){const q=H.docs[0];V=q.id,$=q.data();break}}if(!V||!$)throw new Error("Server nicht gefunden.");T||(h(V),g($),V!==S&&e(`/server/${encodeURIComponent(V)}`,{replace:!0,state:{from:n.pathname}}))}catch(S){T||d((S==null?void 0:S.message)||"Fehler beim Laden.")}finally{T||a(!1)}}return y(),()=>{T=!0}},[r,e,n.pathname]);const v=R.useMemo(()=>s.jsxs("div",{style:{padding:24,color:Os.textSoft},children:[c!=null?c:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:Os.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(i)return s.jsx(vt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:Os.textSoft},children:"Lade Serverprofil"})});if(!p)return s.jsx(vt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:v});const b=p.displayName||p.code||u||r,j=p.active===!0?"Aktiv":p.active===!1?"Inaktiv":"";return s.jsxs(vt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${Os.line}`},children:s.jsxs(Fj,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(rq,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:Os.title,fontWeight:700},children:b}),s.jsxs("div",{style:{fontSize:12,color:Os.textSoft},children:[p.host||"","  ",p.region||"","  ",((I=p.type)==null?void 0:I.toUpperCase())||""]})]})]})}),s.jsxs(Fj,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:Os.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${Os.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:Os.title,fontSize:24,fontWeight:800},children:b}),s.jsxs("div",{style:{marginTop:6,color:Os.textSoft,fontSize:13},children:[p.host||"","  ",p.region||"","  ",((A=p.type)==null?void 0:A.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:Os.textSoft},children:["Status: ",j]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:p.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(tc,{label:"Code",value:p.code||""}),s.jsx(tc,{label:"Host",value:p.host||""}),s.jsx(tc,{label:"Region",value:p.region||""}),s.jsx(tc,{label:"Typ",value:((B=p.type)==null?void 0:B.toUpperCase())||""}),s.jsx(tc,{label:"Numeric ID",value:(D=p.numericId)!=null?D:""}),s.jsx(tc,{label:"Status",value:j})]}),s.jsxs("div",{style:{marginTop:16,background:Os.tileAlt,padding:15,borderRadius:12,border:`1px solid ${Os.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:Os.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const aq="_page_177kv_1",oq="_sectionCard_177kv_15",lq="_identityCard_177kv_29",cq="_identityGrid_177kv_39",dq="_profileName_177kv_63",uq="_identityMeta_177kv_77",hq="_mainCharacter_177kv_95",mq="_characterHeader_177kv_117",pq="_characterTitle_177kv_131",fq="_characterSubtitle_177kv_143",gq="_classIcon_177kv_153",xq="_metaGrid_177kv_181",vq="_metaLabel_177kv_193",yq="_metaValue_177kv_207",bq="_portrait_177kv_217",_q="_sectionHeader_177kv_245",wq="_sectionHint_177kv_265",jq="_bioText_177kv_275",Sq="_tagGroups_177kv_295",Nq="_tagGroupLabel_177kv_309",kq="_tagList_177kv_323",Cq="_tag_177kv_295",Tq="_showcaseGrid_177kv_353",Eq="_characterCard_177kv_365",Aq="_characterCardHeader_177kv_385",Iq="_characterName_177kv_399",Rq="_badge_177kv_411",Pq="_characterMeta_177kv_433",Lq="_characterStats_177kv_449",Dq="_statGrid_177kv_465",Mq="_statTile_177kv_477",Fq="_statLabel_177kv_491",Bq="_statValue_177kv_505",$q="_statSubtext_177kv_519",Vq="_emptyState_177kv_531",Oq="_recordsHighlights_177kv_551",Uq="_highlightCard_177kv_565",zq="_recordType_177kv_579",Hq="_recordTitle_177kv_593",Gq="_timeline_177kv_607",Wq="_timelineItem_177kv_625",qq="_timelineBullet_177kv_635",Kq="_timelineContent_177kv_653",Qq="_timelineTitle_177kv_661",Xq="_timelineMeta_177kv_673",Yq="_achievementsHighlights_177kv_685",Jq="_achievementCard_177kv_699",Zq="_achievementIcon_177kv_723",eK="_achievementName_177kv_747",tK="_achievementDesc_177kv_759",sK="_achievementTier_177kv_771",nK="_achievementDate_177kv_785",rK="_achievementsGrid_177kv_795",iK="_achievementBadge_177kv_807",aK="_tierGold_177kv_831",oK="_tierSilver_177kv_839",lK="_tierBronze_177kv_847",Ee={page:aq,sectionCard:oq,identityCard:lq,identityGrid:cq,profileName:dq,identityMeta:uq,mainCharacter:hq,characterHeader:mq,characterTitle:pq,characterSubtitle:fq,classIcon:gq,metaGrid:xq,metaLabel:vq,metaValue:yq,portrait:bq,sectionHeader:_q,sectionHint:wq,bioText:jq,tagGroups:Sq,tagGroupLabel:Nq,tagList:kq,tag:Cq,showcaseGrid:Tq,characterCard:Eq,characterCardHeader:Aq,characterName:Iq,badge:Rq,characterMeta:Pq,characterStats:Lq,statGrid:Dq,statTile:Mq,statLabel:Fq,statValue:Bq,statSubtext:$q,emptyState:Vq,recordsHighlights:Oq,highlightCard:Uq,recordType:zq,recordTitle:Hq,timeline:Gq,timelineItem:Wq,timelineBullet:qq,timelineContent:Kq,timelineTitle:Qq,timelineMeta:Xq,achievementsHighlights:Yq,achievementCard:Jq,achievementIcon:Zq,achievementName:eK,achievementDesc:tK,achievementTier:sK,achievementDate:nK,achievementsGrid:rK,achievementBadge:iK,tierGold:aK,tierSilver:oK,tierBronze:lK},cK={profileUser:{displayName:"Aurora Drake",languages:["en","de"],roles:["guildleader","tryhard"]},mainCharacter:{name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",lastScanAt:"2025-11-18T21:14:00.000Z"},bio:"Veteran guild leader focused on high-end fusion planning and experimental scrapbook routes. Available for collabs, raid clinics, and panel talks about SF scanning culture.",showcaseCharacters:[{id:"c1",name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",tag:"main",scrapbookPercent:92,highlightProgress:"Fortress 17"},{id:"c2",name:"Stardiver",class:"Scout",level:223,server:"S17  Blackwater",guildName:"Vault Seven",tag:"alt",scrapbookPercent:81,highlightProgress:"Dungeon 12"},{id:"c3",name:"Archivist Aria",class:"Warrior",level:210,server:"S09  Emerald Peak",guildName:"Heritage Keepers",tag:"archive",scrapbookPercent:68,highlightProgress:"Event Trophy 24"},{id:"c4",name:"Flux Operative",class:"Assassin",level:198,server:"S77  Quantum Vale",guildName:"Pulse Collective",tag:"event",scrapbookPercent:74,highlightProgress:"Festival Rank A"}],scanStats:{totalScans:1428,uniquePlayersScanned:613,uniqueGuildsScanned:108,scansLast30d:74,topServers:["S51 Neverwinter","S17 Blackwater","S77 Quantum Vale"],firstScanAt:"2022-07-12T10:00:00.000Z"},recordsAndMilestones:[{id:"r1",type:"record",title:"Fastest double fusion hand-in",when:"2024-05-09T00:00:00.000Z",context:"Guild Week  Starfall Syndicate"},{id:"r2",type:"record",title:"Scrapbook mentor program launched",when:"2023-11-14T00:00:00.000Z",context:"Community Scan Clinic"},{id:"r3",type:"milestone",title:"1000 scans uploaded",when:"2023-05-07T00:00:00.000Z",context:"SFDataHub milestone"},{id:"r4",type:"milestone",title:"Guest host at SF Magazine Live",when:"2022-10-19T00:00:00.000Z",context:"SFTV Stage"}],achievements:[{id:"a1",nameKey:"achievements.legendaryScout.name",descriptionKey:"achievements.legendaryScout.description",tier:"gold",unlockedAt:"2024-06-21T00:00:00.000Z"},{id:"a2",nameKey:"achievements.scanCoach.name",descriptionKey:"achievements.scanCoach.description",tier:"silver",unlockedAt:"2023-12-02T00:00:00.000Z"},{id:"a3",nameKey:"achievements.guildPulse.name",descriptionKey:"achievements.guildPulse.description",tier:"silver",unlockedAt:"2023-04-17T00:00:00.000Z"},{id:"a4",nameKey:"achievements.veteranArchivist.name",descriptionKey:"achievements.veteranArchivist.description",tier:"bronze",unlockedAt:"2022-12-28T00:00:00.000Z"},{id:"a5",nameKey:"achievements.eventStrategist.name",descriptionKey:"achievements.eventStrategist.description",tier:"bronze"}]},dK=1e3*60*60*24,Bj={gold:3,silver:2,bronze:1};function uK(t){const e=new Date(t).getTime();if(Number.isNaN(e))return null;const n=Date.now()-e;return n<0?0:Math.floor(n/dK)}function Gm(t){const e=new Date(t);return Number.isNaN(e.getTime())?Ze("profile.public.identity.dateUnknown"):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}function hK(){const{profileId:t}=Yp(),e=cK,n=uK(e.mainCharacter.lastScanAt),r=new Intl.NumberFormat,i=e.recordsAndMilestones.filter(p=>p.type==="record").slice(0,3),a=[...e.achievements].sort((p,g)=>Bj[g.tier]-Bj[p.tier]).slice(0,3),c=[{label:Ze("profile.public.stats.totalScans"),value:r.format(e.scanStats.totalScans)},{label:Ze("profile.public.stats.uniquePlayers"),value:r.format(e.scanStats.uniquePlayersScanned)},{label:Ze("profile.public.stats.uniqueGuilds"),value:r.format(e.scanStats.uniqueGuildsScanned)},{label:Ze("profile.public.stats.last30d"),value:r.format(e.scanStats.scansLast30d)}],d=n==null?Ze("profile.public.identity.dateUnknown"):n===0?Ze("profile.public.identity.lastScanToday"):`${n} ${Ze("profile.public.identity.daysAgoSuffix")}`,u=Ze("profile.public.identity.portraitPlaceholder"),h=e.scanStats.topServers.length>0?e.scanStats.topServers.join(", "):Ze("profile.public.identity.unknownValue");return s.jsx(vt,{title:Ze("profile.public.title"),subtitle:Ze("profile.public.subtitle"),centerFramed:!1,padded:!0,children:s.jsxs("div",{className:Ee.page,children:[s.jsx("section",{className:`${Ee.sectionCard} ${Ee.identityCard}`,children:s.jsxs("div",{className:Ee.identityGrid,children:[s.jsxs("div",{children:[s.jsx("h1",{className:Ee.profileName,children:e.profileUser.displayName}),s.jsxs("div",{className:Ee.identityMeta,children:[s.jsxs("span",{children:[Ze("profile.public.identity.profileIdLabel"),": ",t!=null?t:Ze("profile.public.identity.unknownValue")]}),s.jsxs("span",{children:[Ze("profile.public.identity.lastScanLabel"),": ",d]})]}),s.jsxs("article",{className:Ee.mainCharacter,children:[s.jsxs("div",{className:Ee.characterHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ee.metaLabel,children:Ze("profile.public.identity.mainCharacterLabel")}),s.jsx("div",{className:Ee.characterTitle,children:e.mainCharacter.name}),s.jsxs("div",{className:Ee.characterSubtitle,children:[e.mainCharacter.class,"  ",Ze("profile.public.identity.levelShort")," ",e.mainCharacter.level]})]}),s.jsx("div",{className:Ee.classIcon,children:e.mainCharacter.class.charAt(0)})]}),s.jsxs("div",{className:Ee.metaGrid,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ee.metaLabel,children:Ze("profile.public.identity.serverLabel")}),s.jsx("div",{className:Ee.metaValue,children:e.mainCharacter.server})]}),s.jsxs("div",{children:[s.jsx("div",{className:Ee.metaLabel,children:Ze("profile.public.identity.guildLabel")}),s.jsx("div",{className:Ee.metaValue,children:e.mainCharacter.guildName})]})]})]})]}),s.jsx("div",{className:Ee.portrait,children:u})]})}),s.jsxs("section",{className:Ee.sectionCard,children:[s.jsx("div",{className:Ee.sectionHeader,children:s.jsx("span",{children:Ze("profile.public.bio.title")})}),s.jsx("p",{className:Ee.bioText,children:e.bio}),s.jsxs("div",{className:Ee.tagGroups,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ee.tagGroupLabel,children:Ze("profile.public.bio.languagesLabel")}),s.jsx("div",{className:Ee.tagList,children:e.profileUser.languages.length>0?e.profileUser.languages.map(p=>s.jsx("span",{className:Ee.tag,children:p.toUpperCase()},p)):s.jsx("span",{className:Ee.tag,children:Ze("profile.public.identity.unknownValue")})})]}),s.jsxs("div",{children:[s.jsx("div",{className:Ee.tagGroupLabel,children:Ze("profile.public.bio.rolesLabel")}),s.jsx("div",{className:Ee.tagList,children:e.profileUser.roles.length>0?e.profileUser.roles.map(p=>s.jsx("span",{className:Ee.tag,children:Ze(`profile.public.roles.${p}`)},p)):s.jsx("span",{className:Ee.tag,children:Ze("profile.public.identity.unknownValue")})})]})]})]}),s.jsxs("section",{className:Ee.sectionCard,children:[s.jsxs("div",{className:Ee.sectionHeader,children:[s.jsx("span",{children:Ze("profile.public.showcase.title")}),s.jsx("span",{className:Ee.sectionHint,children:Ze("profile.public.showcase.subtitle")})]}),e.showcaseCharacters.length===0?s.jsx("div",{className:Ee.emptyState,children:Ze("profile.public.showcase.empty")}):s.jsx("div",{className:Ee.showcaseGrid,children:e.showcaseCharacters.map(p=>s.jsxs("article",{className:Ee.characterCard,children:[s.jsxs("div",{className:Ee.characterCardHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ee.characterName,children:p.name}),s.jsxs("div",{className:Ee.characterMeta,children:[s.jsx("span",{children:p.class}),s.jsxs("span",{children:[Ze("profile.public.identity.levelShort")," ",p.level]})]})]}),s.jsx("span",{className:Ee.badge,children:Ze(`profile.public.showcase.tags.${p.tag}`)})]}),s.jsxs("div",{className:Ee.characterMeta,children:[s.jsx("span",{children:p.server}),s.jsx("span",{children:p.guildName})]}),s.jsxs("div",{className:Ee.characterStats,children:[s.jsxs("span",{children:[Ze("profile.public.showcase.scrapbookLabel")," ",p.scrapbookPercent,"%"]}),s.jsxs("span",{children:[Ze("profile.public.showcase.highlightLabel"),": ",p.highlightProgress]})]})]},p.id))})]}),s.jsxs("section",{className:Ee.sectionCard,children:[s.jsx("div",{className:Ee.sectionHeader,children:s.jsx("span",{children:Ze("profile.public.stats.title")})}),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ee.statGrid,children:c.map(p=>s.jsxs("article",{className:Ee.statTile,children:[s.jsx("div",{className:Ee.statLabel,children:p.label}),s.jsx("div",{className:Ee.statValue,children:p.value})]},p.label))}),s.jsxs("div",{className:Ee.statSubtext,children:[Ze("profile.public.stats.topServersLabel"),": ",h]}),s.jsxs("div",{className:Ee.statSubtext,children:[Ze("profile.public.stats.firstScanLabel"),": ",Gm(e.scanStats.firstScanAt)]})]})]}),s.jsxs("section",{className:Ee.sectionCard,children:[s.jsx("div",{className:Ee.sectionHeader,children:s.jsx("span",{children:Ze("profile.public.records.title")})}),e.recordsAndMilestones.length===0?s.jsx("div",{className:Ee.emptyState,children:Ze("profile.public.records.empty")}):s.jsxs(s.Fragment,{children:[i.length>0&&s.jsx("div",{className:Ee.recordsHighlights,children:i.map(p=>s.jsxs("article",{className:Ee.highlightCard,children:[s.jsx("div",{className:Ee.recordType,children:Ze(`profile.public.records.type.${p.type}`)}),s.jsx("div",{className:Ee.recordTitle,children:p.title}),s.jsxs("div",{className:Ee.timelineMeta,children:[Gm(p.when),"  ",p.context]})]},p.id))}),s.jsx("ul",{className:Ee.timeline,children:e.recordsAndMilestones.map(p=>s.jsxs("li",{className:Ee.timelineItem,children:[s.jsx("div",{className:Ee.timelineBullet}),s.jsxs("div",{className:Ee.timelineContent,children:[s.jsx("div",{className:Ee.timelineTitle,children:p.title}),s.jsxs("div",{className:Ee.timelineMeta,children:[Gm(p.when),"  ",p.context]})]})]},p.id))})]})]}),s.jsxs("section",{className:Ee.sectionCard,children:[s.jsxs("div",{className:Ee.sectionHeader,children:[s.jsx("span",{children:Ze("profile.public.achievements.title")}),e.achievements.length>0&&s.jsx("span",{className:Ee.sectionHint,children:Ze("profile.public.achievements.highlights")})]}),e.achievements.length===0?s.jsx("div",{className:Ee.emptyState,children:Ze("profile.public.achievements.empty")}):s.jsxs(s.Fragment,{children:[a.length>0&&s.jsx("div",{className:Ee.achievementsHighlights,children:a.map(p=>s.jsxs("article",{className:Ee.achievementCard,children:[s.jsx("div",{className:[Ee.achievementIcon,p.tier==="gold"?Ee.tierGold:p.tier==="silver"?Ee.tierSilver:Ee.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:Ee.achievementTier,children:Ze(`profile.public.achievements.tiers.${p.tier}`)}),s.jsx("div",{className:Ee.achievementName,children:Ze(p.nameKey)}),s.jsx("div",{className:Ee.achievementDesc,children:Ze(p.descriptionKey)}),p.unlockedAt&&s.jsx("div",{className:Ee.achievementDate,children:Gm(p.unlockedAt)})]},p.id))}),s.jsx("div",{className:Ee.achievementsGrid,children:e.achievements.map(p=>s.jsxs("article",{className:Ee.achievementBadge,children:[s.jsx("div",{className:[Ee.achievementIcon,p.tier==="gold"?Ee.tierGold:p.tier==="silver"?Ee.tierSilver:Ee.tierBronze].join(" "),children:p.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:Ee.achievementName,children:Ze(p.nameKey)}),s.jsx("div",{className:Ee.achievementDesc,children:Ze(p.descriptionKey)})]},p.id))})]})]})]})})}const mK="_wrap_k6pqt_1",pK="_centerLogoWrap_k6pqt_21",fK="_centerLogoLink_k6pqt_37",gK="_centerLogo_k6pqt_21",xK="_arc_k6pqt_55",vK="_left_k6pqt_57",yK="_right_k6pqt_59",bK="_sub_k6pqt_61",_K="_full_k6pqt_63",wK="_arcItem_k6pqt_65",jK="_iconBtn_k6pqt_71",SK="_active_k6pqt_125",NK="_iconImg_k6pqt_135",kK="_placeholderIcon_k6pqt_139",CK="_placeholderText_k6pqt_157",TK="_iconLabel_k6pqt_161",sn={wrap:mK,centerLogoWrap:pK,centerLogoLink:fK,centerLogo:gK,arc:xK,left:vK,right:yK,sub:bK,full:_K,arcItem:wK,iconBtn:jK,active:SK,iconImg:NK,placeholderIcon:kK,placeholderText:CK,iconLabel:TK},EK=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Yn();let a=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),u=c.get("sub"),h=c.get("sub2"),p=new URL(t,window.location.origin).searchParams,g=p.get("tab"),v=p.get("sub"),b=p.get("sub2");r==="main"?a=d===g:r==="sub"?a=d===g&&!!v&&u===v:a=d===g&&!!v&&u===v&&!!b&&h===b}catch(c){a=!1}return s.jsxs(Ft,{to:t,"aria-label":e,className:[sn.iconBtn,a?sn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:sn.iconImg}):s.jsx("div",{className:sn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:sn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:sn.iconLabel,children:e})]})},Wm=({items:t,side:e,anchorSide:n,compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:c=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const u=R.useMemo(()=>{const g=t.length;if(g===0)return[];let v=-90,b=90;e==="left"?(v=90,b=270):e==="sub"||e==="sub2"?n==="left"?(v=90,b=270):(v=-90,b=90):e==="full"&&(v=0,b=360);const j=(b-v)/(g+1),I=r?190:250;return t.map((A,B)=>{const T=(v+j*(B+1))*Math.PI/180;return{it:A,x:Math.cos(T)*I,y:Math.sin(T)*I}})},[t,e,n,r]),h=(()=>{const g={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?g.left=`calc(50% - ${a}px)`:e==="right"?g.left=`calc(50% + ${a}px)`:e==="sub"?g.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(g.left=n==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),g})(),p=e==="sub"?"sub":e==="sub2"?"sub2":"main";return s.jsx("div",{className:[sn.arc,e==="left"?sn.left:"",e==="right"?sn.right:"",e==="sub"?sn.sub:"",e==="sub2"?sn.sub2:"",e==="full"?sn.full:""].join(" "),style:h,children:u.map(({it:g,x:v,y:b})=>s.jsx("div",{className:sn.arcItem,style:{transform:`translate(${v}px, ${b}px)`},children:s.jsx(EK,{to:g.to,label:g.label,icon:g.icon,variant:p})},g.key))})},AK=({logoSrc:t,categories:e})=>{const[n]=al(),r=n.get("tab")||null,i=n.get("sub")||null;n.get("sub2");const a=R.useMemo(()=>e.find(T=>T.key===r)||null,[e,r]),c=(a==null?void 0:a.sub)||[],d=R.useMemo(()=>c.find(T=>T.key===i)||null,[c,i]),u=(d==null?void 0:d.sub2)||[],h=(a==null?void 0:a.side)==="left"||(a==null?void 0:a.side)==="right"?a.side:"right",p=R.useRef(null),[g,v]=R.useState(!1),[b,j]=R.useState(220),[I,A]=R.useState(440),[B,D]=R.useState(660);return R.useLayoutEffect(()=>{(()=>{var L,P;const S=((P=(L=p.current)==null?void 0:L.getBoundingClientRect().width)!=null?P:380)/2,C=Math.round(S+60),w=Math.round(C+220),E=Math.round(w+220);j(C),A(w),D(E),v(!0)})()},[]),R.useEffect(()=>{let T=0,y=null,S={main:b,out:I,sup:B};const M=()=>{y!=null&&window.clearTimeout(y),y=window.setTimeout(()=>{T=requestAnimationFrame(()=>{var q,Q;const w=((Q=(q=p.current)==null?void 0:q.getBoundingClientRect().width)!=null?Q:380)/2,L=Math.round(w+60),P=Math.round(L+220),V=Math.round(P+220),$=Math.abs(L-S.main),W=Math.abs(P-S.out),H=Math.abs(V-S.sup);$>1&&j(L),W>1&&A(P),H>1&&D(V),S={main:L,out:P,sup:V}})},120)};return window.addEventListener("resize",M),()=>{window.removeEventListener("resize",M),y!=null&&window.clearTimeout(y),T&&cancelAnimationFrame(T)}},[b,I,B]),s.jsxs("div",{className:sn.wrap,children:[s.jsx("div",{className:sn.centerLogoWrap,children:s.jsx(Ft,{to:"/guidehub",className:sn.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:p,src:t,alt:"Guide Hub",className:sn.centerLogo})})}),g&&s.jsxs(s.Fragment,{children:[s.jsx(Wm,{items:e.filter(T=>T.side==="left").map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"left",variant:"main",arcOffset:b}),s.jsx(Wm,{items:e.filter(T=>T.side==="right").map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"right",variant:"main",arcOffset:b}),h&&c.length>0&&s.jsx(Wm,{items:c.map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"sub",anchorSide:h,variant:"sub",outerOffset:I,compact:!0}),h&&u.length>0&&s.jsx(Wm,{items:u.map(T=>({key:T.key,to:T.to,label:T.label,icon:T.icon})),side:"sub2",anchorSide:h,variant:"sub2",superOffset:B,compact:!0})]})]})},$j=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],IK="_topWrap_1vr4p_1",RK="_divider_1vr4p_19",PK="_contentArea_1vr4p_53",LK="_placeholder_1vr4p_65",DK="_placeholderTitle_1vr4p_79",MK="_placeholderText_1vr4p_93",sc={topWrap:IK,divider:RK,contentArea:PK,placeholder:LK,placeholderTitle:DK,placeholderText:MK},FK="/assets/logo_guidehub-c4zKGdF-.png";function pl({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const BK=()=>s.jsx(pl,{title:"Game Features"});function ss({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const $K=()=>s.jsx(ss,{title:"Progression"}),VK=()=>s.jsx(ss,{title:"Hellevator"}),OK=()=>s.jsx(ss,{title:"Legendary Dungeon"}),UK=()=>s.jsx(ss,{title:"Events"}),zK="_card_1rxdx_21",HK="_hoverLift_1rxdx_51",GK="_title_1rxdx_63",WK="_body_1rxdx_89",qK="_iconStack_1rxdx_99",Bd={card:zK,hoverLift:HK,title:GK,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:WK,iconStack:qK};function KK({title:t,padding:e="md",hover:n=!0,className:r="",children:i}){return s.jsxs("div",{className:[Bd.card,Bd[`pad-${e}`],n?Bd.hoverLift:"",r].join(" "),children:[t?s.jsx("div",{className:Bd.title,children:t}):null,s.jsx("div",{className:Bd.body,children:i})]})}const QK=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],XK="_grid_1amcc_3",YK="_tileBtn_1amcc_45",JK="_wrap_1amcc_87",ZK="_headerBar_1amcc_99",eQ="_title_1amcc_117",$d={grid:XK,tileBtn:YK,wrap:JK,headerBar:ZK,title:eQ};function tQ(){const[t,e]=al(),n=r=>{const i=new URLSearchParams(t);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return s.jsxs("div",{className:$d.wrap,children:[s.jsx("div",{className:$d.headerBar,children:s.jsx("h2",{className:$d.title,children:"Calculators"})}),s.jsx("div",{className:$d.grid,children:QK.map(r=>s.jsx("button",{className:$d.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:s.jsx(KK,{title:r.title,padding:"md",hover:!0,children:s.jsx(s.Fragment,{children:" "})})},r.slug))})]})}const sQ=()=>s.jsx(ss,{title:"Infographics (Dropdown inside page)"}),nQ=()=>s.jsx(ss,{title:"Class book"}),rQ=()=>s.jsx(ss,{title:"Dungeons"}),iQ=()=>s.jsx(pl,{title:"Fortress"}),aQ=()=>s.jsx(pl,{title:"Fortress Calculator"}),oQ="_wrap_1skhh_7",lQ="_headerBar_1skhh_21",cQ="_title_1skhh_39",dQ="_meta_1skhh_55",uQ="_description_1skhh_67",hQ="_contentWrapper_1skhh_83",mQ="_tableSection_1skhh_97",pQ="_table_1skhh_97",fQ="_infoBox_1skhh_151",gQ="_sectionTitle_1skhh_165",xQ="_divider_1skhh_181",qn={wrap:oQ,headerBar:lQ,title:cQ,meta:dQ,description:uQ,contentWrapper:hQ,tableSection:mQ,table:pQ,infoBox:fQ,sectionTitle:gQ,divider:xQ};function vQ(){return s.jsxs("div",{className:qn.wrap,children:[s.jsxs("div",{className:qn.headerBar,children:[s.jsx("h2",{className:qn.title,children:"Fortress Package skip order"}),s.jsx("span",{className:qn.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:qn.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:qn.contentWrapper,children:[s.jsxs("section",{className:qn.tableSection,children:[s.jsx("h3",{className:qn.sectionTitle,children:"Fortress Build Order"}),s.jsxs("table",{className:qn.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Building"}),s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Gold Cost"}),s.jsx("th",{children:"Shroom Cost"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"35"}),s.jsx("td",{children:"12"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"150"}),s.jsx("td",{children:"50"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"138"}),s.jsx("td",{children:"46"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"440"}),s.jsx("td",{children:"140"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"406"}),s.jsx("td",{children:"129"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,100"}),s.jsx("td",{children:"333"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,015"}),s.jsx("td",{children:"308"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,500"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,308"}),s.jsx("td",{children:"738"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"60"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"6,000"}),s.jsx("td",{children:"2,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"5,538"}),s.jsx("td",{children:"1,849"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"7"}),s.jsx("td",{children:"70"}),s.jsx("td",{children:"48"}),s.jsx("td",{children:"13,417"}),s.jsx("td",{children:"4,433"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"80"}),s.jsx("td",{children:"78"}),s.jsx("td",{children:"27,200"}),s.jsx("td",{children:"9,280"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"720"}),s.jsx("td",{children:"240"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"1,408"}),s.jsx("td",{children:"448"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"2,640"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Gem Mine"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"17"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Treasury"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"13"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"92"}),s.jsx("td",{children:"74"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"248"}),s.jsx("td",{children:"200"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"21"}),s.jsx("td",{children:"500"}),s.jsx("td",{children:"320"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"22"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"90"}),s.jsx("td",{children:"16"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"9"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"264"}),s.jsx("td",{children:"45"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"660"}),s.jsx("td",{children:"107"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"14"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"82"}),s.jsx("td",{children:"55"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Total cost"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"577"}),s.jsx("td",{children:"363"}),s.jsx("td",{children:"99,881"}),s.jsx("td",{children:"33,218"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress Pack ressources"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"300"}),s.jsx("td",{children:"100,000"}),s.jsx("td",{children:"50,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Left over"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-577"}),s.jsx("td",{children:"-63"}),s.jsx("td",{children:"119"}),s.jsx("td",{children:"16,782"})]})]})]})]}),s.jsxs("section",{className:qn.infoBox,children:[s.jsx("h3",{className:qn.sectionTitle,children:"Important"}),s.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Archery Guild"}),s.jsx("li",{children:"Mage's Tower"}),s.jsx("li",{children:"Fortifications"})]}),s.jsx("div",{className:qn.divider}),s.jsx("h3",{className:qn.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:qn.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const yQ=()=>s.jsx(pl,{title:"Fortress attack duplication guide"}),bQ=()=>s.jsx(pl,{title:"Underworld"}),_Q=()=>s.jsx(pl,{title:"Underworld Calculator"}),wQ=()=>s.jsx(pl,{title:"Underworld Pro Package skip order"}),jQ=()=>s.jsx(ss,{title:"Arena / AM"}),SQ="_wrap_mm7x0_5",NQ="_headerBar_mm7x0_19",kQ="_title_mm7x0_37",CQ="_meta_mm7x0_51",TQ="_description_mm7x0_63",EQ="_controls_mm7x0_79",AQ="_search_mm7x0_83",IQ="_tableWrap_mm7x0_119",RQ="_table_mm7x0_119",PQ="_thead_mm7x0_143",LQ="_th_mm7x0_143",DQ="_td_mm7x0_167",MQ="_tierCell_mm7x0_179",FQ="_amountCell_mm7x0_181",BQ="_bonusCell_mm7x0_183",$Q="_tags_mm7x0_185",VQ="_tierBox_mm7x0_191",OQ="_tierIcon_mm7x0_193",UQ="_tierTexts_mm7x0_203",zQ="_tierName_mm7x0_205",HQ="_badge_mm7x0_211",GQ="_badgeMax_mm7x0_231",WQ="_badgeAchiev_mm7x0_233",qQ="_badgeX2_mm7x0_235",KQ="_badgeX12_mm7x0_237",QQ="_badgeX60_mm7x0_239",XQ="_iconHead_mm7x0_245",YQ="_achiev_mm7x0_261",JQ="_achievImg_mm7x0_263",ZQ="_dataRow_mm7x0_291",eX="_tierCellHover_mm7x0_311",Be={wrap:SQ,headerBar:NQ,title:kQ,meta:CQ,description:TQ,controls:EQ,search:AQ,tableWrap:IQ,table:RQ,thead:PQ,th:LQ,td:DQ,tierCell:MQ,amountCell:FQ,bonusCell:BQ,tags:$Q,tierBox:VQ,tierIcon:OQ,tierTexts:UQ,tierName:zQ,badge:HQ,badgeMax:GQ,badgeAchiev:WQ,badgeX2:qQ,badgeX12:KQ,badgeX60:QQ,iconHead:XQ,achiev:YQ,achievImg:JQ,dataRow:ZQ,tierCellHover:eX};function hC(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function tX(t){const e=t.filter(Boolean).join(" ");return hC(e)}const sX={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function nX(t){var n;const e=Array.isArray(t)?tX(t):hC(t!=null?t:"");return(n=sX[e])!=null?n:null}function If(t,e=512){var a,c;const n=nX(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(a=nl(n))!=null?a:null,i=r&&(c=Mr(r,e))!=null?c:null;return{id:n,url:r,thumb:i,fallback:""}}function Zo(t,e=512){return If(t,e).thumb}const $a={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},Vj={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function Va({keyName:t,label:e}){const n=If(t,36);return s.jsxs("div",{className:Be.iconHead,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),s.jsx("span",{children:e})]})}function rX({name:t}){const e=Object.keys(Vj).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=If(e?Vj[e]:"achiev_generic",16);return s.jsxs("div",{className:Be.achiev,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:Be.achievImg}),s.jsx("span",{children:t})]})}const Op=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function ev(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function iX(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function aX(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const Oj={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},oX="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function lX(t){const e=t.trim().toLowerCase();return e?Op.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Op}function cX(){const[t,e]=R.useState(""),[n,r]=R.useState(null),i=lX(t),a=R.useMemo(()=>Math.max(...Op.map(d=>ev(d.amount))),[]),c=R.useMemo(()=>{const d=new Map;for(const h of i)d.has(h.tier)||d.set(h.tier,[]),d.get(h.tier).push(h);const u=Array.from(new Set(Op.map(h=>h.tier)));return Array.from(d.entries()).sort((h,p)=>u.indexOf(h[0])-u.indexOf(p[0]))},[i]);return s.jsxs("div",{className:Be.wrap,children:[s.jsxs("div",{className:Be.headerBar,children:[s.jsx("h2",{className:Be.title,children:"Arena Manager  Rune bonuses"}),s.jsx("span",{className:Be.meta,children:"last updated: 15.01.2025"})]}),s.jsx("p",{className:Be.description,children:oX}),s.jsx("div",{className:Be.controls,children:s.jsx("input",{className:Be.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:d=>e(d.target.value)})}),s.jsx("div",{className:Be.tableWrap,children:s.jsxs("table",{className:Be.table,children:[s.jsx("thead",{className:Be.thead,children:s.jsxs("tr",{className:Be.headRow,children:[s.jsx("th",{className:`${Be.th} ${Be.tierCell}`,children:"Tier"}),s.jsx("th",{className:`${Be.th} ${Be.amountCell}`,children:"Amount"}),s.jsx("th",{className:Be.th,children:s.jsx(Va,{keyName:$a.gold,label:"Gold Bonus"})}),s.jsx("th",{className:Be.th,children:s.jsx(Va,{keyName:$a.xp,label:"XP Bonus"})}),s.jsx("th",{className:Be.th,children:s.jsx(Va,{keyName:$a.hp,label:"HP Bonus"})}),s.jsx("th",{className:Be.th,children:s.jsx(Va,{keyName:$a.totalRes,label:"Total Resistance"})}),s.jsx("th",{className:Be.th,children:s.jsx(Va,{keyName:$a.singleRes,label:"Single Resistance"})}),s.jsx("th",{className:Be.th,children:s.jsx(Va,{keyName:$a.elem,label:"Elemental Damage"})}),s.jsx("th",{className:Be.th,children:s.jsx(Va,{keyName:$a.item,label:"Improved Item Quality"})}),s.jsx("th",{className:Be.th,children:s.jsx(Va,{keyName:$a.epics,label:"Chances of Epics"})}),s.jsx("th",{className:Be.th,children:"Tags"})]})}),s.jsx("tbody",{children:c.map(([d,u])=>{const h=Math.max(...u.map(p=>ev(p.amount)));return u.map((p,g)=>{var j,I,A,B,D,T,y,S;const v=Math.abs(ev(p.amount)-a)<1e-6,b=aX(p.note);return s.jsxs("tr",{className:Be.dataRow,onMouseEnter:()=>r(d),onMouseLeave:()=>r(null),children:[g===0&&s.jsx("td",{className:`${Be.td} ${Be.tierCell} ${Math.abs(h-a)<1e-6?Be.tierMax:""} ${n===d?Be.tierCellHover:""}`,rowSpan:u.length,children:s.jsxs("div",{className:Be.tierBox,children:[s.jsx("div",{className:Be.tierIcon,children:d.slice(0,1).toUpperCase()}),s.jsxs("div",{className:Be.tierTexts,children:[s.jsx("div",{className:Be.tierName,children:d}),Oj[d]&&s.jsx(rX,{name:Oj[d]})]})]})}),s.jsx("td",{className:`${Be.td} ${Be.amountCell}`,children:p.amount}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(j=p.gold)!=null?j:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(I=p.xp)!=null?I:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(A=p.hp)!=null?A:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(B=p.totalRes)!=null?B:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(D=p.singleRes)!=null?D:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(T=p.elemDmg)!=null?T:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(y=p.itemQuality)!=null?y:""}),s.jsx("td",{className:`${Be.td} ${Be.bonusCell}`,children:(S=p.epics)!=null?S:""}),s.jsxs("td",{className:`${Be.td} ${Be.tags}`,children:[v&&s.jsx("span",{className:`${Be.badge} ${Be.badgeMax}`,children:"MAX"}),iX(p.note)&&s.jsx("span",{className:`${Be.badge} ${Be.badgeAchiev}`,children:"Achievement"}),b==="x2"&&s.jsx("span",{className:`${Be.badge} ${Be.badgeX2}`,children:"x2"}),b==="x12"&&s.jsx("span",{className:`${Be.badge} ${Be.badgeX12}`,children:"x12"}),b==="x60"&&s.jsx("span",{className:`${Be.badge} ${Be.badgeX60}`,children:"x60"}),b==="x8"&&s.jsx("span",{className:Be.badge,children:"x8"})]})]},`${d}-${g}`)})})})]})})]})}const dX="_wrap_zrza7_11",uX="_headerBar_zrza7_15",hX="_title_zrza7_31",mX="_meta_zrza7_33",pX="_centerCol_zrza7_37",fX="_text_zrza7_53",gX="_imageBox_zrza7_55",xX="_imageFallback_zrza7_57",vX="_credit_zrza7_59",Qi={wrap:dX,headerBar:uX,title:hX,meta:mX,centerCol:pX,text:fX,imageBox:gX,imageFallback:xX,credit:vX};function yX(){const t=If("ambuildorder"),e=R.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),n=R.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,i=e||n||r;return s.jsxs("div",{className:Qi.wrap,children:[s.jsxs("div",{className:Qi.headerBar,children:[s.jsx("h2",{className:Qi.title,children:"Arena Manager  Build Order"}),s.jsx("span",{className:Qi.meta,children:"Last updated: 30.11.2024"})]}),s.jsxs("div",{className:Qi.centerCol,children:[s.jsxs("div",{className:Qi.text,children:[s.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),s.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",s.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?s.jsx("div",{className:Qi.imageBox,children:s.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):s.jsx("div",{className:Qi.imageFallback,children:""}),s.jsxs("p",{className:Qi.credit,children:["Credit to ",s.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const bX=()=>s.jsx(ss,{title:"Hellevator Guide"}),_X=()=>s.jsx(ss,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),wX=()=>s.jsx(ss,{title:"Event List"}),jX=()=>s.jsx(ss,{title:"Event Cycle"}),SX="_foCalc_18a5w_3",NX="_panel_18a5w_211",kX="_panelHead_18a5w_227",CX="_panelTitle_18a5w_241",TX="_controls_18a5w_243",EX="_ctrlLabel_18a5w_245",AX="_ctrlSelect_18a5w_249",IX="_tableWrap_18a5w_291",RX="_table_18a5w_291",PX="_th_18a5w_305",LX="_td_18a5w_321",DX="_row_18a5w_333",MX="_note_18a5w_335",as={foCalc:SX,panel:NX,panelHead:kX,panelTitle:CX,controls:TX,ctrlLabel:EX,ctrlSelect:AX,tableWrap:IX,table:RX,th:PX,td:LX,row:DX,note:MX},mC={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},ys=(t,e=0)=>t*3600+e*60,ne=[ys(0,15),ys(0,31),ys(1,6),ys(2,20),ys(5,0),ys(8,0),ys(11,25),ys(18,27),ys(40,0),ys(87,16),ys(190,46),ys(320,0),ys(480,0),ys(615,33),ys(800,0)],St=[ys(1054,17),ys(1122,51),ys(1245,42),ys(1343,20),ys(1440,0)],FX={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:ne[0]},{level:2,wood:150,stone:50,gold:20,timeSec:ne[1]},{level:3,wood:440,stone:140,gold:30,timeSec:ne[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:ne[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:ne[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:ne[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:ne[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:ne[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:ne[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:ne[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:ne[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:ne[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:ne[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:ne[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:ne[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:St[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:St[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:St[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:St[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:St[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:ne[0]},{level:2,wood:138,stone:46,gold:10,timeSec:ne[1]},{level:3,wood:406,stone:129,gold:15,timeSec:ne[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:ne[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:ne[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:ne[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:ne[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:ne[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:ne[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:ne[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:ne[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:ne[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:ne[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:ne[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:ne[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:ne[0]},{level:2,wood:28,stone:37,gold:14,timeSec:ne[1]},{level:3,wood:81,stone:103,gold:21,timeSec:ne[2]},{level:4,wood:203,stone:246,gold:28,timeSec:ne[3]},{level:5,wood:462,stone:591,gold:35,timeSec:ne[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:ne[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:ne[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:ne[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:ne[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:ne[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:ne[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:ne[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:ne[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:ne[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:ne[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:St[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:St[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:St[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:St[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:St[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:ne[0]},{level:2,wood:160,stone:53,gold:50,timeSec:ne[1]},{level:3,wood:469,stone:149,gold:75,timeSec:ne[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:ne[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:ne[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:ne[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:ne[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:ne[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:ne[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:ne[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:ne[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:ne[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:ne[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:ne[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:ne[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:ne[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:ne[0]},{level:2,wood:200,stone:67,gold:30,timeSec:ne[1]},{level:3,wood:587,stone:187,gold:45,timeSec:ne[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:ne[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:ne[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:ne[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:ne[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:ne[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:ne[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:ne[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:ne[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:ne[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:ne[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:ne[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:ne[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:St[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:St[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:St[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:St[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:St[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:ys(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:ne[0]},{level:2,wood:30,stone:20,gold:4,timeSec:ne[1]},{level:3,wood:88,stone:56,gold:6,timeSec:ne[2]},{level:4,wood:220,stone:133,gold:8,timeSec:ne[3]},{level:5,wood:500,stone:320,gold:10,timeSec:ne[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:ne[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:ne[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:ne[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:ne[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:ne[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:ne[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:ne[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:ne[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:ne[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:ne[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:St[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:St[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:St[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:St[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:St[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:ne[0]},{level:2,wood:90,stone:16,gold:6,timeSec:ne[1]},{level:3,wood:264,stone:45,gold:9,timeSec:ne[2]},{level:4,wood:660,stone:107,gold:12,timeSec:ne[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:ne[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:ne[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:ne[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:ne[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:ne[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:ne[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:ne[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:ne[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:ne[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:ne[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:ne[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:St[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:St[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:St[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:St[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:St[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:ne[0]},{level:2,wood:82,stone:55,gold:8,timeSec:ne[1]},{level:3,wood:240,stone:153,gold:12,timeSec:ne[2]},{level:4,wood:600,stone:364,gold:16,timeSec:ne[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:ne[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:ne[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:ne[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:ne[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:ne[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:ne[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:ne[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:ne[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:ne[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:ne[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:ne[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:ne[0]},{level:2,wood:100,stone:33,gold:8,timeSec:ne[1]},{level:3,wood:293,stone:93,gold:12,timeSec:ne[2]},{level:4,wood:733,stone:222,gold:16,timeSec:ne[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:ne[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:ne[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:ne[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:ne[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:ne[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:ne[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:ne[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:ne[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:ne[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:ne[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:ne[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:St[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:St[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:St[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:St[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:St[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:ne[0]},{level:2,wood:240,stone:61,gold:12,timeSec:ne[1]},{level:3,wood:675,stone:205,gold:18,timeSec:ne[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:ne[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:ne[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:ne[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:ne[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:ne[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:ne[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:ne[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:ne[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:ne[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:ne[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:ne[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:ne[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:ne[0]},{level:2,wood:164,stone:27,gold:10,timeSec:ne[1]},{level:3,wood:480,stone:76,gold:15,timeSec:ne[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:ne[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:ne[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:ne[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:ne[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:ne[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:ne[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:ne[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:ne[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:ne[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:ne[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:ne[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:ne[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:ne[0]},{level:2,wood:120,stone:53,gold:30,timeSec:ne[1]},{level:3,wood:352,stone:149,gold:45,timeSec:ne[2]},{level:4,wood:880,stone:356,gold:60,timeSec:ne[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:ne[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:ne[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:ne[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:ne[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:ne[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:ne[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:ne[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:ne[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:ne[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:ne[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:ne[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:St[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:St[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:St[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:St[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:St[4]}]}},BX=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],$X="fortress",VX={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function OX(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function Uj(t){const e=Math.max(0,Math.round(t)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,a=c=>c.toString().padStart(2,"0");return`${a(n)}:${a(r)}:${a(i)}`}const UX=()=>{const[t,e]=R.useState($X),[n,r]=R.useState(1),i=R.useMemo(()=>{var p;const d=VX[t],u=mC[d],h=(p=u==null?void 0:u.id)!=null?p:u;return nl.gifProxy(h)||nl.gif(h)||""},[t]),a=R.useMemo(()=>{var d,u;return(u=(d=FX[t])==null?void 0:d.costs)!=null?u:[]},[t]),c=R.useMemo(()=>OX(n),[n]);return s.jsxs("div",{className:`${as.foCalc}`,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:BX.map(d=>s.jsx("option",{value:d.key,children:d.label},d.key))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:as.panel,children:[s.jsxs("div",{className:as.panelHead,children:[s.jsxs("div",{className:as.panelTitle,children:["Fortress  ",t]}),s.jsxs("div",{className:as.controls,children:[s.jsx("span",{className:as.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{className:as.ctrlSelect,value:n,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:16},(d,u)=>u).map(d=>s.jsx("option",{value:d,children:d},d))})]})]}),s.jsx("div",{className:as.tableWrap,children:s.jsxs("table",{className:as.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:as.th,children:"Level"}),s.jsx("th",{className:as.th,children:"Wood"}),s.jsx("th",{className:as.th,children:"Stone"}),s.jsx("th",{className:as.th,children:"Build Time"}),s.jsx("th",{className:as.th,children:"Build Time (L2)"}),s.jsx("th",{className:as.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:a.map(d=>{var g,v,b,j,I,A,B;const u=(g=d.timeSec)!=null?g:0,h=Math.round(u*(1-c)),p=Math.ceil(Math.ceil(h/60)/10);return s.jsxs("tr",{className:as.row,children:[s.jsx("td",{className:as.td,children:d.level}),s.jsx("td",{className:as.td,children:(j=(b=(v=d.wood)==null?void 0:v.toLocaleString)==null?void 0:b.call(v))!=null?j:d.wood}),s.jsx("td",{className:as.td,children:(B=(A=(I=d.stone)==null?void 0:I.toLocaleString)==null?void 0:A.call(I))!=null?B:d.stone}),s.jsx("td",{className:as.td,children:Uj(u)}),s.jsx("td",{className:as.td,children:Uj(h)}),s.jsx("td",{className:as.td,children:p.toLocaleString()})]},d.level)})})]})}),s.jsx("div",{className:as.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},zX="_uwCalc_64lws_3",HX="_panel_64lws_211",GX="_panelHead_64lws_227",WX="_panelTitle_64lws_241",qX="_controls_64lws_243",KX="_ctrlLabel_64lws_245",QX="_ctrlSelect_64lws_251",XX="_tableWrap_64lws_295",YX="_table_64lws_295",JX="_th_64lws_309",ZX="_td_64lws_325",eY="_row_64lws_337",tY="_note_64lws_339",Xt={uwCalc:zX,panel:HX,panelHead:GX,panelTitle:WX,controls:qX,ctrlLabel:KX,ctrlSelect:QX,tableWrap:XX,table:YX,th:JX,td:ZX,row:eY,note:tY},sY={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},nY={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function rY(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function iY(t){const e=Math.max(0,t),n=Math.round(e),r=Math.floor(n/3600),i=Math.floor(n%3600/60),a=n%60;return{h:r,m:i,s:a}}function zj(t){const{h:e,m:n,s:r}=iY(t),i=a=>String(a).padStart(2,"0");return`${i(e)}:${i(n)}:${i(r)}`}function aY(t,e){var i,a;const n=rY(e);return((a=(i=nY[t])==null?void 0:i.costs)!=null?a:[]).map(c=>{const d=c.timeSec*(1-n),u=Math.ceil(Math.ceil(d/60)/10);return{...c,timeAdjSec:d,skipMushroomsAdj:u}})}const oY=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],lY=()=>{const[t,e]=R.useState("hearthofdarkngif"),[n,r]=R.useState(1),i=R.useMemo(()=>{var h;const d=mC[t],u=(h=d==null?void 0:d.id)!=null?h:d;return nl.gifProxy(u)||nl.gif(u)||""},[t]),a=R.useMemo(()=>{var d;return(d=sY[t])!=null?d:"hearthofdarkn"},[t]),c=R.useMemo(()=>aY(a,n),[a,n]);return s.jsxs("div",{className:Xt.uwCalc,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:oY.map(d=>s.jsx("option",{value:d,children:d.replace(/gif$/i,"")},d))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:Xt.panel,children:[s.jsxs("div",{className:Xt.panelHead,children:[s.jsxs("div",{className:Xt.panelTitle,children:["Underworld  ",a]}),s.jsxs("div",{className:Xt.controls,children:[s.jsx("label",{htmlFor:"uw-l2",className:Xt.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{id:"uw-l2",className:Xt.ctrlSelect,value:n,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:15},(d,u)=>u+1).map(d=>s.jsx("option",{value:d,children:d},d))})]})]}),s.jsx("div",{className:Xt.tableWrap,children:s.jsxs("table",{className:Xt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Xt.th,children:"Level"}),s.jsx("th",{className:Xt.th,children:"Soul"}),s.jsx("th",{className:Xt.th,children:"Gold"}),s.jsx("th",{className:Xt.th,children:"Build Time"}),s.jsx("th",{className:Xt.th,children:"Build Time (L2)"}),s.jsx("th",{className:Xt.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:c.length===0?s.jsx("tr",{className:Xt.row,children:s.jsx("td",{className:Xt.td,colSpan:6,children:"No data for this building yet."})}):c.map(d=>s.jsxs("tr",{className:Xt.row,children:[s.jsx("td",{className:Xt.td,children:d.level}),s.jsx("td",{className:Xt.td,children:d.soul}),s.jsx("td",{className:Xt.td,children:d.gold}),s.jsx("td",{className:Xt.td,children:zj(d.timeSec)}),s.jsx("td",{className:Xt.td,children:zj(d.timeAdjSec)}),s.jsx("td",{className:Xt.td,children:d.skipMushroomsAdj})]},d.level))})]})}),s.jsx("p",{className:Xt.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},cY=()=>s.jsx(ss,{title:"Max Item Stats Calculator"}),dY="_wrap_mnr0g_1",uY="_card_mnr0g_13",hY="_title_mnr0g_33",mY="_form_mnr0g_45",pY="_field_mnr0g_57",fY="_input_mnr0g_71",gY="_gemsRow_mnr0g_87",xY="_gemBox_mnr0g_101",vY="_disabled_mnr0g_127",yY="_gemImg_mnr0g_135",bY="_gemFallback_mnr0g_149",_Y="_normalGem_mnr0g_165",wY="_blackGem_mnr0g_173",jY="_legendaryGem_mnr0g_181",SY="_gemLabel_mnr0g_189",NY="_gemValue_mnr0g_199",kY="_hint_mnr0g_211",Tt={wrap:dY,card:uY,title:hY,form:mY,field:pY,input:fY,gemsRow:gY,gemBox:xY,disabled:vY,gemImg:yY,gemFallback:bY,normalGem:_Y,blackGem:wY,legendaryGem:jY,gemLabel:SY,gemValue:NY,hint:kY},CY={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},TY=.25,Up=t=>Math.round(Number.isFinite(t)?t:0);function EY(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const A=e*TY*(1+(n-1)*.25)+r/3;return Up(A)}const{A:i,B:a,C:c,D:d,E:u,F:h,G:p,H:g,I:v,J:b}=CY,I=i+a*e+c/n+d*e**2+u/n**2+h*e/n+p*e**3+g/n**3+v*e/n**2+b*e**2/n+r/3;return Up(I)}function AY(t){return Up(t*(2/3))}function IY(t){return Up(t)}const tv={char:1e3,mine:100,hok:1e3},RY=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[i,a]=R.useState(""),c=R.useMemo(()=>t===""||n===""||i===""?null:EY({charLevel:Number(t),mineLevel:Number(n),guildHoK:Number(i)}),[t,n,i]),d=R.useMemo(()=>c==null?null:AY(c),[c]),u=R.useMemo(()=>c==null?null:IY(c),[c]),h=Zo("luckbig"),p=Zo("blackbig"),g=Zo("legendarybig");return s.jsx("div",{className:Tt.wrap,children:s.jsxs("div",{className:Tt.card,children:[s.jsx("h2",{className:Tt.title,children:"Gem Calculator"}),s.jsxs("div",{className:Tt.form,children:[s.jsxs("label",{className:Tt.field,children:[s.jsx("span",{children:"Char Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Tt.input,placeholder:"e.g., 360",value:t,onChange:v=>{const b=v.currentTarget.value;if(b==="")return e("");const j=Number(b);e(Number.isFinite(j)?j:"")},max:tv.char})]}),s.jsxs("label",{className:Tt.field,children:[s.jsx("span",{children:"Mine Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Tt.input,placeholder:"e.g., 10",value:n,onChange:v=>{const b=v.currentTarget.value;if(b==="")return r("");const j=Number(b);r(Number.isFinite(j)?j:"")},max:tv.mine})]}),s.jsxs("label",{className:Tt.field,children:[s.jsx("span",{children:"Guild HoK"}),s.jsx("input",{type:"number",inputMode:"numeric",className:Tt.input,placeholder:"e.g., 840",value:i,onChange:v=>{const b=v.currentTarget.value;if(b==="")return a("");const j=Number(b);a(Number.isFinite(j)?j:"")},max:tv.hok})]})]}),s.jsxs("div",{className:Tt.gemsRow,children:[s.jsxs("div",{className:`${Tt.gemBox} ${c==null?Tt.disabled:""}`,children:[h?s.jsx("img",{className:Tt.gemImg,src:h,alt:"Normal Gem"}):s.jsx("div",{className:`${Tt.gemFallback} ${Tt.normalGem}`}),s.jsx("div",{className:Tt.gemLabel,children:"Normal"}),s.jsx("div",{className:Tt.gemValue,children:c!=null?c:""})]}),s.jsxs("div",{className:`${Tt.gemBox} ${d==null?Tt.disabled:""}`,children:[p?s.jsx("img",{className:Tt.gemImg,src:p,alt:"Black Gem"}):s.jsx("div",{className:`${Tt.gemFallback} ${Tt.blackGem}`}),s.jsx("div",{className:Tt.gemLabel,children:"Black"}),s.jsx("div",{className:Tt.gemValue,children:d!=null?d:""})]}),s.jsxs("div",{className:`${Tt.gemBox} ${u==null?Tt.disabled:""}`,children:[g?s.jsx("img",{className:Tt.gemImg,src:g,alt:"Legendary Gem"}):s.jsx("div",{className:`${Tt.gemFallback} ${Tt.legendaryGem}`}),s.jsx("div",{className:Tt.gemLabel,children:"Legendary"}),s.jsx("div",{className:Tt.gemValue,children:u!=null?u:""})]})]}),s.jsxs("p",{className:Tt.hint,children:["The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},PY="_container_19zdf_1",LY="_headerBar_19zdf_13",DY="_title_19zdf_31",MY="_meta_19zdf_47",FY="_description_19zdf_59",Vd={container:PY,headerBar:LY,title:DY,meta:MY,description:FY},pC=({title:t,meta:e,description:n})=>s.jsxs("header",{className:Vd.container,children:[s.jsxs("div",{className:Vd.headerBar,children:[s.jsx("h2",{className:Vd.title,children:t}),e&&s.jsx("span",{className:Vd.meta,children:e})]}),n&&s.jsx("p",{className:Vd.description,children:n})]}),BY=()=>s.jsxs(s.Fragment,{children:[s.jsx(pC,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:s.jsxs(s.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]})}),s.jsx(RY,{})]}),$Y="_wrapper_67xyv_1",VY="_panel_67xyv_11",OY="_header_67xyv_27",UY="_title_67xyv_41",zY="_resetBtn_67xyv_53",HY="_table_67xyv_73",GY="_row_67xyv_99",WY="_name_67xyv_115",qY="_selectCell_67xyv_125",KY="_sumCell_67xyv_143",QY="_footer_67xyv_155",XY="_footerLine_67xyv_175",YY="_note_67xyv_187",bs={wrapper:$Y,panel:VY,header:OY,title:UY,resetBtn:zY,table:HY,row:GY,name:WY,selectCell:qY,sumCell:KY,footer:QY,footerLine:XY,note:YY};function pu(t,e,n){var c;if(!Array.isArray(t)||e<=0||n<=0)return 0;const r=Math.min(e,n),i=Math.max(e,n);let a=0;for(let d=r;d<=i;d++)a+=(c=t[d])!=null?c:0;return a}function JY(t){const e=[0];for(let n=1;n<=t;n++)e.push(n);return e}function ct(t,e){const n=[0,...t.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const ZY=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:ct([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:ct([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:ct([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:ct([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:ct([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:ct([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:ct([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:ct([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:ct([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:ct([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:ct([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:ct([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:ct([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:ct([0,0,0,0,0,0,0,0,0,0],10)}],eJ=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:ct([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:ct([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:ct([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:ct([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:ct([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:ct([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:ct([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:ct([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:ct([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:ct([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:ct([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:ct([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:ct([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:ct([0,0,0,0,0,0,0,0,0,0],10)}],Hj=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],tJ=(()=>{const t=[0,...Hj],e=1e3-Hj.length;for(let n=0;n<e;n++)t.push(3e7);return t})(),sJ=ct([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),nJ=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),sa={light:ZY.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:eJ.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:tJ,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:sJ,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:nJ,specialType:"sandstorm"}]},zp=t=>t.toLocaleString("en-US");function Gj(){const t={},e={},n={};return sa.light.forEach(r=>t[r.key]={from:0,to:0}),sa.shadow.forEach(r=>e[r.key]={from:0,to:0}),sa.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:t,shadow:e,special:n}}function fC({row:t,range:e,onChange:n}){var d,u;const r=R.useMemo(()=>JY(t.maxLevel),[t.maxLevel]),i=(d=e.from)!=null?d:0,a=(u=e.to)!=null?u:0,c=R.useMemo(()=>i===0||a===0?0:pu(t.levels,i,a),[t.levels,i,a]);return s.jsxs("tr",{className:bs.row,children:[s.jsx("td",{className:bs.name,children:t.name}),s.jsx("td",{className:bs.selectCell,children:s.jsx("select",{value:i,onChange:h=>n({from:Number(h.target.value),to:a}),children:r.map(h=>s.jsx("option",{value:h,children:h===0?"":h},h))})}),s.jsx("td",{className:bs.selectCell,children:s.jsx("select",{value:a,onChange:h=>n({from:i,to:Number(h.target.value)}),children:r.map(h=>s.jsx("option",{value:h,children:h===0?"":h},h))})}),s.jsxs("td",{className:bs.sumCell,children:[zp(c)," XP"]})]})}function Wj({title:t,rows:e,ranges:n,setRanges:r}){const i=R.useMemo(()=>e.reduce((a,c)=>{const d=n[c.key]||{from:0,to:0};return a+pu(c.levels,d.from,d.to)},0),[e,n]);return s.jsxs("div",{className:bs.panel,children:[s.jsx("div",{className:bs.header,children:s.jsx("div",{className:bs.title,children:t})}),s.jsxs("table",{className:bs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum XP"})]})}),s.jsx("tbody",{children:e.map(a=>{var c;return s.jsx(fC,{row:a,range:(c=n[a.key])!=null?c:{from:0,to:0},onChange:d=>r(a.key,d)},a.key)})})]}),s.jsx("div",{className:bs.footer,children:s.jsxs("div",{className:bs.footerLine,children:[s.jsxs("span",{children:["Sum Total ",t]}),s.jsxs("span",{children:[zp(i)," XP"]})]})})]})}function rJ(){const t=Gj(),[e,n]=R.useState(t.light),[r,i]=R.useState(t.shadow),[a,c]=R.useState(t.special),d=R.useMemo(()=>sa.light.reduce((v,b)=>{const j=e[b.key];return v+(j?pu(b.levels,j.from,j.to):0)},0),[e]),u=R.useMemo(()=>sa.shadow.reduce((v,b)=>{const j=r[b.key];return v+(j?pu(b.levels,j.from,j.to):0)},0),[r]),h=R.useMemo(()=>sa.special.reduce((v,b)=>{const j=a[b.key];return v+(j?pu(b.levels,j.from,j.to):0)},0),[a]),p=d+u+h,g=()=>{const v=Gj();n(v.light),i(v.shadow),c(v.special)};return s.jsxs("div",{className:bs.wrapper,children:[s.jsx(Wj,{title:"Light World",rows:sa.light,ranges:e,setRanges:(v,b)=>n(j=>({...j,[v]:b}))}),s.jsx(Wj,{title:"Shadow World",rows:sa.shadow,ranges:r,setRanges:(v,b)=>i(j=>({...j,[v]:b}))}),s.jsxs("div",{className:bs.panel,children:[s.jsxs("div",{className:bs.header,children:[s.jsx("div",{className:bs.title,children:"Special Dungeons"}),s.jsx("button",{className:bs.resetBtn,onClick:g,children:"RESET"})]}),s.jsxs("table",{className:bs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum"})]})}),s.jsx("tbody",{children:sa.special.map(v=>{var b;return s.jsx(fC,{row:v,range:(b=a[v.key])!=null?b:{from:0,to:0},onChange:j=>c(I=>({...I,[v.key]:j}))},v.key)})})]}),s.jsxs("div",{className:bs.footer,children:[s.jsxs("div",{className:bs.footerLine,children:[s.jsx("span",{children:"Sum Total Special"}),s.jsxs("span",{children:[zp(h)," XP"]})]}),s.jsxs("div",{className:bs.footerLine,children:[s.jsx("span",{children:"Total XP"}),s.jsxs("span",{children:[zp(p)," XP"]})]}),s.jsxs("div",{className:bs.note,children:["Flle die XP-Arrays in ",s.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function iJ(){return s.jsx("div",{style:{padding:12},children:s.jsx(rJ,{})})}const aJ=()=>s.jsx(ss,{title:"Progression  Early Game"}),oJ="_wrap_n2poq_31",lJ="_title_n2poq_33",cJ="_infoBox_n2poq_39",dJ="_infoTitle_n2poq_63",uJ="_infoList_n2poq_73",hJ="_section_n2poq_89",mJ="_h2_n2poq_101",pJ="_h3_n2poq_103",fJ="_intro_n2poq_105",gJ="_ul_n2poq_107",xJ="_img_n2poq_113",$t={wrap:oJ,title:lJ,infoBox:cJ,infoTitle:dJ,infoList:uJ,section:hJ,h2:mJ,h3:pJ,intro:fJ,ul:gJ,img:xJ},vJ=()=>{al();const t=[Zo("first-weekend-guide-day1",900),Zo("first-weekend-guide-day2",900),Zo("first-weekend-guide-day3",900)];return s.jsxs("div",{className:$t.wrap,children:[s.jsx("h1",{className:$t.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:$t.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:$t.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:$t.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:$t.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:$t.section,children:[s.jsx("h2",{className:$t.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:$t.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:$t.section,children:[s.jsx("h2",{className:$t.h2,children:"Day 1"}),s.jsx("h3",{className:$t.h3,children:"Level 13"}),s.jsxs("ul",{className:$t.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:$t.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:$t.section,children:[s.jsx("h3",{className:$t.h3,children:"Level 410"}),s.jsxs("ul",{className:$t.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:$t.section,children:[s.jsx("h2",{className:$t.h2,children:"Day 2"}),s.jsx("h3",{className:$t.h3,children:"Level 1015"}),s.jsxs("ul",{className:$t.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:$t.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:$t.section,children:[s.jsx("h2",{className:$t.h2,children:"Day 3"}),s.jsx("h3",{className:$t.h3,children:"Level 1520"}),s.jsxs("ul",{className:$t.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:$t.img,src:t[2],alt:"Day 3 overview"})]})]})},yJ=()=>s.jsx(ss,{title:"Max Item Stats Calculator"}),bJ=()=>s.jsx(ss,{title:"Fortress Package skip order (Early)"}),_J=()=>s.jsx(ss,{title:"Underworld Pro Package skip order (Early)"}),wJ=()=>s.jsx(ss,{title:"Gem Calculator (Early)"}),jJ=()=>s.jsx(ss,{title:"Fortress attack duplication guide (Early)"}),SJ=()=>s.jsx(ss,{title:"Progression  Mid Game"}),NJ="_wrap_1x7jo_31",kJ="_header_1x7jo_35",CJ="_titles_1x7jo_55",TJ="_h1_1x7jo_57",EJ="_lead_1x7jo_59",AJ="_ctaRow_1x7jo_63",IJ="_cta_1x7jo_63",RJ="_section_1x7jo_85",PJ="_sectionGrid_1x7jo_87",LJ="_card_1x7jo_99",DJ="_h2_1x7jo_103",MJ="_h3_1x7jo_105",FJ="_p_1x7jo_107",BJ="_ul_1x7jo_111",$J="_ol_1x7jo_111",VJ="_figure_1x7jo_117",OJ="_figureNarrow_1x7jo_139",UJ="_img_1x7jo_149",zJ="_fallbackImg_1x7jo_151",HJ="_figCaption_1x7jo_159",GJ="_tableWrap_1x7jo_163",WJ="_table_1x7jo_163",qJ="_footer_1x7jo_217",KJ="_tools_1x7jo_219",QJ="_toolBtn_1x7jo_221",bt={wrap:NJ,header:kJ,titles:CJ,h1:TJ,lead:EJ,ctaRow:AJ,cta:IJ,section:RJ,sectionGrid:PJ,card:LJ,h2:DJ,h3:MJ,p:FJ,ul:BJ,ol:$J,figure:VJ,figureNarrow:OJ,img:UJ,fallbackImg:zJ,figCaption:HJ,tableWrap:GJ,table:WJ,footer:qJ,tools:KJ,toolBtn:QJ},XJ=1400;function YJ(){const t=R.useMemo(()=>Zo("goldxpcurve",XJ),[]);return s.jsxs("div",{className:bt.wrap,children:[s.jsxs("header",{className:bt.header,children:[s.jsxs("div",{className:bt.titles,children:[s.jsx("h1",{className:bt.h1,children:"Dungeon Pause"}),s.jsx("p",{className:bt.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:bt.ctaRow,children:[s.jsx(Ft,{className:bt.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(Ft,{className:bt.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:bt.section,children:[s.jsx("h2",{className:bt.h2,children:"Worum gehts?"}),s.jsxs("p",{className:bt.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:bt.section,children:[s.jsx("h3",{className:bt.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${bt.figure} ${bt.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:bt.img}):s.jsx("div",{className:bt.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:bt.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:bt.sectionGrid,children:[s.jsxs("div",{className:bt.card,children:[s.jsx("h3",{className:bt.h3,children:"Start & Ende"}),s.jsxs("ul",{className:bt.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:bt.card,children:[s.jsx("h3",{className:bt.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:bt.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:bt.section,children:[s.jsx("h3",{className:bt.h3,children:"Vorgehen"}),s.jsxs("ol",{className:bt.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:bt.section,children:[s.jsx("h3",{className:bt.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:bt.tableWrap,children:s.jsxs("table",{className:bt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:bt.footer,children:s.jsxs("div",{className:bt.tools,children:[s.jsx(Ft,{className:bt.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(Ft,{className:bt.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const JJ=()=>s.jsx(ss,{title:"Dungeon Pause open XP Calculator"}),ZJ="_wrap_1uhww_3",eZ="_headerBar_1uhww_15",tZ="_title_1uhww_33",sZ="_meta_1uhww_45",nZ="_description_1uhww_55",rZ="_section_1uhww_69",iZ="_sectionTitle_1uhww_77",aZ="_steps_1uhww_87",bi={wrap:ZJ,headerBar:eZ,title:tZ,meta:sZ,description:nZ,section:rZ,sectionTitle:iZ,steps:aZ};function oZ(){return s.jsxs("div",{className:bi.wrap,children:[s.jsxs("div",{className:bi.headerBar,children:[s.jsx("h2",{className:bi.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:bi.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:bi.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:bi.section,children:[s.jsx("h3",{className:bi.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:bi.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:bi.section,children:[s.jsx("h3",{className:bi.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const lZ=()=>s.jsx(ss,{title:"Gem Calculator (Mid)"}),cZ=()=>s.jsx(ss,{title:"Calendar Skip"}),dZ=()=>s.jsx(ss,{title:"Progression  Late Game"}),uZ="_layout_13sgm_29",hZ="_side_13sgm_49",mZ="_sideHead_13sgm_61",pZ="_search_13sgm_71",fZ="_spotBtn_13sgm_89",gZ="_sideList_13sgm_109",xZ="_sideItem_13sgm_111",vZ="_active_13sgm_119",yZ="_sideTitle_13sgm_121",bZ="_ico_13sgm_123",_Z="_badge_13sgm_125",wZ="_detail_13sgm_139",jZ="_detailInner_13sgm_141",SZ="_detailHead_13sgm_143",NZ="_detailTitle_13sgm_145",kZ="_empty_13sgm_147",CZ="_grid_13sgm_151",TZ="_card_13sgm_157",EZ="_cardHead_13sgm_175",AZ="_btnGrid_13sgm_177",IZ="_itemBtn_13sgm_179",RZ="_spotWrap_13sgm_203",PZ="_spot_13sgm_89",LZ="_spotHead_13sgm_227",DZ="_spotSearch_13sgm_235",MZ="_spotClose_13sgm_243",FZ="_spotList_13sgm_253",BZ="_spotItem_13sgm_255",$Z="_spotItemEmpty_13sgm_259",VZ="_spotCat_13sgm_261",OZ="_spotLabel_13sgm_263",UZ="_mark_13sgm_267",ft={layout:uZ,side:hZ,sideHead:mZ,search:pZ,spotBtn:fZ,sideList:gZ,sideItem:xZ,active:vZ,sideTitle:yZ,ico:bZ,badge:_Z,detail:wZ,detailInner:jZ,detailHead:SZ,detailTitle:NZ,empty:kZ,grid:CZ,card:TZ,cardHead:EZ,btnGrid:AZ,itemBtn:IZ,spotWrap:RZ,spot:PZ,spotHead:LZ,spotSearch:DZ,spotClose:MZ,spotList:FZ,spotItem:BZ,spotItemEmpty:$Z,spotCat:VZ,spotLabel:OZ,mark:UZ};function zZ(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Od(t,e){if(!e)return t;const n=new RegExp(`(${zZ(e)})`,"ig");return t.replace(n,`<mark class="${ft.mark}">$1</mark>`)}function qj(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of n.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function HZ(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const i of n.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of i.sub2)if(c.sub2&&c.sub2.length)for(const d of c.sub2)e.push({full:`${r}  ${i.label}  ${c.label}  ${d.label}`,catKey:n.key,subKey:i.key,sub2Key:d.key});else e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else for(const c of i.sub2)e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else e.push({full:`${r}  ${i.label}`,catKey:n.key,subKey:i.key})}return e}function GZ(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const WZ=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,i]=R.useState(()=>{var D;return((D=t==null?void 0:t[0])==null?void 0:D.key)||""}),[a,c]=R.useState(""),[d,u]=R.useState(!1),h=R.useRef(null),p=R.useMemo(()=>{const D=a.trim().toLowerCase();if(!D)return t;const T=y=>y.toLowerCase().includes(D);return t.map(y=>{const S=T(y.label),M=[];for(const C of y.sub||[]){const w=T(C.label);if(C.sub2&&C.sub2.length)if(C.sub2.some(L=>L.sub2&&L.sub2.length)){const L=[];for(const P of C.sub2)if(P.sub2&&P.sub2.length){const V=P.sub2.filter($=>T($.label));V.length&&L.push({...P,sub2:V})}else T(P.label)&&L.push(P);(w||L.length)&&M.push({...C,sub2:L})}else{const L=C.sub2.filter(P=>T(P.label));(w||L.length)&&M.push({...C,sub2:L})}else w&&M.push(C)}return S||M.length?{...y,sub:M.length?M:y.sub}:null}).filter(Boolean)},[t,a]),g=R.useMemo(()=>{const D=p.length?p:t,T=GZ(D,r);return D.find(y=>y.key===T)||D[0]||null},[p,t,r]),v=R.useMemo(()=>HZ(t),[t]),[b,j]=R.useState(""),I=R.useMemo(()=>{const D=b.trim().toLowerCase();return D?v.filter(T=>T.full.toLowerCase().includes(D)):v},[v,b]);R.useEffect(()=>{const D=T=>{const y=T.key.toLowerCase()==="k";(T.metaKey||T.ctrlKey)&&y&&(T.preventDefault(),u(!0),setTimeout(()=>{var S;return(S=h.current)==null?void 0:S.focus()},0)),T.key==="Escape"&&u(!1)};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[]);const A=R.useRef(null);R.useEffect(()=>{var D;n&&((D=A.current)==null||D.focus())},[n]);const B=()=>{var M;const D=a.trim().toLowerCase(),T=(D?v.find(C=>C.full.toLowerCase().includes(D)):v[0])||null;if(T){e({tab:T.catKey,sub:T.subKey,sub2:T.sub2Key});return}const y=g,S=(M=y==null?void 0:y.sub)==null?void 0:M[0];if(!(!y||!S))if(S.sub2&&S.sub2.length)if(S.sub2.some(w=>w.sub2&&w.sub2.length)){const w=S.sub2[0];w.sub2&&w.sub2.length?e({tab:y.key,sub:S.key,sub2:w.sub2[0].key}):e({tab:y.key,sub:S.key,sub2:w.key})}else e({tab:y.key,sub:S.key,sub2:S.sub2[0].key});else e({tab:y.key,sub:S.key})};return s.jsxs("div",{className:ft.layout,children:[s.jsxs("div",{className:ft.side,children:[s.jsxs("div",{className:ft.sideHead,children:[s.jsx("input",{ref:A,className:ft.search,type:"search",placeholder:"Suche",value:a,onChange:D=>c(D.target.value),onKeyDown:D=>{D.key==="Enter"&&B()}}),s.jsx("button",{className:ft.spotBtn,type:"button",onClick:()=>{u(!0),setTimeout(()=>{var D;return(D=h.current)==null?void 0:D.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:ft.sideList,children:(p.length?p:t).map(D=>s.jsxs("div",{className:`${ft.sideItem} ${(g==null?void 0:g.key)===D.key?ft.active:""}`,onClick:()=>i(D.key),children:[s.jsxs("span",{className:ft.sideTitle,children:[D.icon?s.jsx("span",{className:ft.ico,"aria-hidden":!0,children:D.icon}):null,D.label]}),s.jsx("span",{className:ft.badge,children:qj(D.sub)})]},D.key))})]}),s.jsx("div",{className:ft.detail,children:g?s.jsxs("div",{className:ft.detailInner,children:[s.jsxs("div",{className:ft.detailHead,children:[s.jsxs("h3",{className:ft.detailTitle,children:[g.icon?s.jsx("span",{className:ft.ico,"aria-hidden":!0,children:g.icon}):null,g.label]}),s.jsxs("div",{className:ft.badge,children:[qj(g.sub)," Eintrge"]})]}),s.jsx("div",{className:ft.grid,children:(g.sub||[]).map(D=>{const T=D.sub2&&D.sub2.length>0,y=T&&D.sub2.some(S=>S.sub2&&S.sub2.length);return s.jsxs("div",{className:ft.card,children:[s.jsx("div",{className:ft.cardHead,dangerouslySetInnerHTML:{__html:Od(D.label,a)}}),T?s.jsx("div",{className:ft.btnGrid,children:y?D.sub2.flatMap(S=>S.sub2&&S.sub2.length?S.sub2.map(M=>s.jsx("button",{className:ft.itemBtn,onClick:()=>e({tab:g.key,sub:D.key,sub2:M.key}),dangerouslySetInnerHTML:{__html:Od(`${S.label}  ${M.label}`,a)}},`${S.key}__${M.key}`)):[s.jsx("button",{className:ft.itemBtn,onClick:()=>e({tab:g.key,sub:D.key,sub2:S.key}),dangerouslySetInnerHTML:{__html:Od(S.label,a)}},S.key)]):D.sub2.map(S=>s.jsx("button",{className:ft.itemBtn,onClick:()=>e({tab:g.key,sub:D.key,sub2:S.key}),dangerouslySetInnerHTML:{__html:Od(S.label,a)}},S.key))}):s.jsx("div",{className:ft.btnGrid,children:s.jsx("button",{className:ft.itemBtn,onClick:()=>e({tab:g.key,sub:D.key}),dangerouslySetInnerHTML:{__html:Od(D.label,a)}})})]},D.key)})}),a&&g.sub&&g.sub.length>0&&g.sub.every(D=>!D.sub2||!D.sub2.length?!D.label.toLowerCase().includes(a.trim().toLowerCase()):D.sub2.some(y=>y.sub2&&y.sub2.length)?D.sub2.every(y=>y.sub2&&y.sub2.length?y.sub2.every(S=>!S.label.toLowerCase().includes(a.trim().toLowerCase())):!y.label.toLowerCase().includes(a.trim().toLowerCase())):D.sub2.every(y=>!y.label.toLowerCase().includes(a.trim().toLowerCase())))?s.jsxs("div",{className:ft.empty,children:["Keine Treffer in ",g.label,"."]}):null]}):s.jsx("div",{className:ft.empty,children:"Keine Kategorie gefunden."})}),d&&s.jsx("div",{className:ft.spotWrap,onClick:()=>u(!1),children:s.jsxs("div",{className:ft.spot,onClick:D=>D.stopPropagation(),children:[s.jsxs("div",{className:ft.spotHead,children:[s.jsx("input",{ref:h,className:ft.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:b,onChange:D=>j(D.target.value)}),s.jsx("button",{className:ft.spotClose,onClick:()=>u(!1),children:"Esc"})]}),s.jsx("div",{className:ft.spotList,children:I.length===0?s.jsx("div",{className:ft.spotItemEmpty,children:"Keine Treffer"}):I.map((D,T)=>s.jsxs("div",{className:ft.spotItem,onClick:()=>{u(!1),e({tab:D.catKey,sub:D.subKey,sub2:D.sub2Key})},children:[s.jsx("div",{className:ft.spotCat,children:D.catKey}),s.jsx("div",{className:ft.spotLabel,children:D.full})]},T))})]})})]})},qZ={gamefeatures:BK,progression:$K,hellevator:VK,"legendary-dungeon":OK,events:UK,calculators:tQ,infographics:sQ,"class-book":nQ,dungeons:rQ},Kj={gamefeatures:{fortress:iQ,underworld:bQ,arenaam:jQ},hellevator:{"hellevator-guide":bX},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":_X},events:{"event-list":wX,"event-cycle":jX},calculators:{"fortress-calculator":UX,"underworld-calculator":lY,"max-item-stats-calculator":cY,"gem-calculator":BY,"dungeon-pause-open-xp-calculator":iJ},progression:{early:aJ,mid:SJ,late:dZ}},sv={gamefeatures:{arenaam:{"am-rune-bonuses":cX,"am-build-order":yX},underworld:{"underworld-calculator":_Q,"underworld-pro-package-skip-order":wQ},fortress:{"fortress-calculator":aQ,"fortress-package-skip-order":vQ,"fortress-attack-duplication":yQ}},progression:{early:{"first-weekend-guide":vJ,"max-item-stats-calculator":yJ,"fortress-package-skip-order":bJ,"underworld-pro-package-skip-order":_J,"gem-calculator":wJ,"fortress-attack-duplication":jJ},mid:{"dungeon-pause":YJ,"dungeon-pause-open-xp-calculator":JJ,"dungeon-pause-exit":oZ,"gem-calculator":lZ,"calendar-skip":cZ}}};function KZ(){const[t,e]=al(),n=t.get("tab")||"",r=t.get("sub")||"",i=t.get("sub2")||"";let a=null;n?n&&!r?a=qZ[n]||null:n&&r&&!i?a=Kj[n]&&Kj[n][r]||null:n&&r&&i&&(a=sv[n]&&sv[n][r]&&sv[n][r][i]||null):a=null;const c=d=>{const u=new URLSearchParams(t);u.set("tab",d.tab),d.sub?u.set("sub",d.sub):u.delete("sub"),d.sub2?u.set("sub2",d.sub2):u.delete("sub2"),e(u,{replace:!1})};return s.jsxs(vt,{children:[s.jsx("div",{className:sc.topWrap,children:s.jsx(AK,{logoSrc:FK,categories:$j,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:sc.divider}),s.jsx("div",{className:sc.contentArea,children:a?s.jsx(a,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:sc.placeholder,children:[s.jsx("h2",{className:sc.placeholderTitle,children:"Guides"}),s.jsx("p",{className:sc.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(WZ,{categories:$j,onNavigate:c,autoFocusSearch:!1})]})})]})}const QZ="_wrap_1353r_1",XZ="_centerLogoWrap_1353r_21",YZ="_centerLogoLink_1353r_37",JZ="_centerLogo_1353r_21",ZZ="_arc_1353r_71",eee="_left_1353r_73",tee="_right_1353r_75",see="_sub_1353r_77",nee="_full_1353r_79",ree="_arcItem_1353r_81",iee="_iconBtn_1353r_87",aee="_active_1353r_141",oee="_iconImg_1353r_151",lee="_placeholderIcon_1353r_155",cee="_placeholderText_1353r_173",dee="_iconLabel_1353r_177",nn={wrap:QZ,centerLogoWrap:XZ,centerLogoLink:YZ,centerLogo:JZ,arc:ZZ,left:eee,right:tee,sub:see,full:nee,arcItem:ree,iconBtn:iee,active:aee,iconImg:oee,placeholderIcon:lee,placeholderText:cee,iconLabel:dee},uee=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Yn();let a=!1;try{const c=new URLSearchParams(i),d=c.get("tab"),u=c.get("sub"),p=new URL(t,window.location.origin).searchParams,g=p.get("tab"),v=p.get("sub");a=r==="sub"?d===g&&!!v&&u===v:d===g}catch(c){a=!1}return s.jsxs(Ft,{to:t,"aria-label":e,className:[nn.iconBtn,r==="sub"?nn.muted:"",a?nn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:nn.iconImg}):s.jsx("div",{className:nn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:nn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:nn.iconLabel,children:e})]})},nv=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:c=440})=>{const d=R.useMemo(()=>{const h=t.length;if(h===0)return[];let p=-90,g=90;e==="left"?(p=90,g=270):e==="sub"?n==="left"?(p=90,g=270):(p=-90,g=90):e==="full"&&(p=0,g=360);const v=(g-p)/(h+1),b=r?190:250;return t.map((j,I)=>{const B=(p+v*(I+1))*Math.PI/180;return{it:j,x:Math.cos(B)*b,y:Math.sin(B)*b}})},[t,e,n,r]),u=(()=>{const h={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?h.left=`calc(50% - ${a}px)`:e==="right"?h.left=`calc(50% + ${a}px)`:e==="sub"&&(h.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),h})();return s.jsx("div",{className:[nn.arc,e==="left"?nn.left:"",e==="right"?nn.right:"",e==="sub"?nn.sub:"",e==="full"?nn.full:""].join(" "),style:u,children:d.map(({it:h,x:p,y:g})=>s.jsx("div",{className:nn.arcItem,style:{transform:`translate(${p}px, ${g}px)`},children:s.jsx(uee,{to:h.to,label:h.label,icon:h.icon,variant:i})},h.key))})},hee=["creators","scans","predictions","news","records","feedback"],uy=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],mee={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},pee=new Set(hee),fee=uy.reduce((t,e)=>(t[e.key]=e,t),{}),gee=t=>typeof t=="string"&&pee.has(t),xee=({logoSrc:t})=>{const[e]=al(),n=e.get("tab")||null,r=R.useMemo(()=>uy.filter(b=>b.side==="left"),[]),i=R.useMemo(()=>uy.filter(b=>b.side==="right"),[]),a=gee(n)?n:null,c=a?mee[a]:[],d=a?fee[a].side:"right",u=R.useRef(null),[h,p]=R.useState(220),[g,v]=R.useState(440);return R.useEffect(()=>{const b=()=>{var T,y;const I=((y=(T=u.current)==null?void 0:T.offsetWidth)!=null?y:380)/2,B=Math.round(I+60),D=Math.round(B+220);p(B),v(D)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),s.jsxs("div",{className:nn.wrap,children:[s.jsx("div",{className:nn.centerLogoWrap,children:s.jsx(Ft,{to:"/community",className:nn.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:u,src:t,alt:"Community Hub",className:nn.centerLogo})})}),s.jsx(nv,{items:r.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"left",variant:"main",arcOffset:h}),s.jsx(nv,{items:i.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"right",variant:"main",arcOffset:h}),c.length>0&&s.jsx(nv,{items:c.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"sub",anchorSide:d,compact:!0,variant:"sub",outerOffset:g})]})},vee="_topWrap_1rivx_1",yee="_divider_1rivx_19",bee="_contentArea_1rivx_53",_ee="_placeholder_1rivx_63",wee="_placeholderTitle_1rivx_77",jee="_placeholderText_1rivx_91",nc={topWrap:vee,divider:yee,contentArea:bee,placeholder:_ee,placeholderTitle:wee,placeholderText:jee},See="/assets/logo_communityhub-LVMLHRD6.png",Nee=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function gC(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function kee(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,i,a]=e.map(c=>parseInt(c,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(a))return new Date(a,i-1,r).toISOString()}const n=new Date(t);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function rv(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function Cee(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function Tee(t){return t.avatar?t.avatar:`/avatars/${gC(t.code||t.name||"creator")}.png`}function Eee(t){const e=gC(t.code||t.name||"creator"),n=[],r=rv(t.youtube);r&&n.push({type:"YouTube",url:r});const i=rv(t.twitch);i&&n.push({type:"Twitch",url:i});const a=rv(t.discord);return a&&n.push({type:"Discord",url:a}),{id:`sheet-${e}`,name:t.name,avatar:Tee(t),description:Cee(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:kee(t.latestActivity),platforms:n}}function Aee(t){var n,r,i;const e=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];return{generatedAt:(n=t==null?void 0:t.generatedAt)!=null?n:new Date().toISOString(),data:e,warnings:(i=(r=t==null?void 0:t.warnings)!=null?r:t==null?void 0:t.errors)!=null?i:[],stats:t==null?void 0:t.stats}}function xC(t="/data/creators-live.json"){const[e,n]=R.useState(null),[r,i]=R.useState(""),[a,c]=R.useState(!1),[d,u]=R.useState(0);return R.useEffect(()=>{let h=!1;async function p(){c(!0),i("");try{const g=await fetch(t,{cache:"no-store"});if(!g.ok)throw new Error(`HTTP ${g.status}`);const v=await g.json();h||n(Aee(v))}catch(g){h||(i((g==null?void 0:g.message)||"Failed to load creator snapshot"),n(null))}finally{h||c(!1)}}return p(),()=>{h=!0}},[t,d]),{snapshot:e,error:r,loading:a,refresh:()=>u(h=>h+1)}}const Iee=Nee,Ree=Iee.map(Eee),Pee=[...Ree];function vC(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function qa(t,e,n=vC){if(t<=0)return"";const r=n(t);return e?`${r} ${e}`:r}function $u(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function Lee(t,e){const n=e==="asc"?1:-1;return(r,i)=>{switch(t){case"subs":return(r.subscribers-i.subscribers)*n;case"views":return(r.totalViews-i.totalViews)*n;case"activity":return($u(r.lastActive)-$u(i.lastActive))*n*-1;case"language":return r.language.localeCompare(i.language)*n;default:return 0}}}function Dee(t){const e={width:16,height:16};switch(t){case"YouTube":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[s.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),s.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[s.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),s.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),s.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[s.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),s.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),s.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),s.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),s.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function Qj({c:t}){return s.jsxs("article",{className:"cc-card",children:[s.jsxs("header",{className:"cc-card-head",children:[s.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const n=e.currentTarget;n.onerror=null,n.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),s.jsxs("div",{className:"cc-card-title",children:[s.jsx("h3",{className:"cc-name",children:t.name}),s.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[Dee(e.type),s.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),s.jsx("p",{className:"cc-desc",children:t.description}),s.jsxs("div",{className:"cc-stats",children:[s.jsx("span",{title:"Subscribers",children:qa(t.subscribers,"subs")}),s.jsx("span",{title:"Total views",children:qa(t.totalViews,"views")}),s.jsx("span",{title:"Weekly views",children:qa(t.weeklyViews,"/wk")}),s.jsx("span",{title:"Weekly posts",children:qa(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),s.jsxs("footer",{className:"cc-meta",children:[s.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),s.jsxs("span",{className:"cc-meta-right",children:["active ",$u(t.lastActive),"d ago"]})]})]},t.id)}function Mee({data:t}){return s.jsx("div",{className:"cc-table-wrap",children:s.jsxs("table",{className:"cc-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Lang"}),s.jsx("th",{children:"Subs"}),s.jsx("th",{children:"Total Views"}),s.jsx("th",{children:"Weekly Views"}),s.jsx("th",{children:"Weekly Posts"}),s.jsx("th",{children:"Active"})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"cc-table-name",children:[s.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),s.jsx("span",{children:e.name})]})}),s.jsx("td",{children:e.language.toUpperCase()}),s.jsx("td",{children:qa(e.subscribers)}),s.jsx("td",{children:qa(e.totalViews)}),s.jsx("td",{children:qa(e.weeklyViews)}),s.jsx("td",{children:qa(e.weeklyPosts,void 0,n=>`${n}`)}),s.jsxs("td",{children:[$u(e.lastActive),"d"]})]},e.id))})]})})}function yC(){var se,ce;const[t,e]=R.useState("static"),[n,r]=R.useState("cards"),[i,a]=R.useState("subs"),[c,d]=R.useState("desc"),[u,h]=R.useState("all"),[p,g]=R.useState("all"),[v,b]=R.useState(0),[j,I]=R.useState(365),[A,B]=R.useState(null),[D,T]=R.useState(""),[y,S]=R.useState(!1),[M,C]=R.useState(""),[w,E]=R.useState(null),{snapshot:L,error:P}=xC(),V=(se=L==null?void 0:L.data)!=null&&se.length?L.data:null,$=V!=null?V:Pee,W=t==="static"?$:(ce=w!=null?w:V)!=null?ce:[],H=R.useMemo(()=>{const ee=new Set(W.map(fe=>fe.language));return Array.from(ee).sort()},[W]),q=R.useMemo(()=>W.filter(ee=>u==="all"?!0:ee.language===u).filter(ee=>p==="all"?!0:ee.platforms.some(fe=>fe.type===p)).filter(ee=>ee.subscribers>=v).filter(ee=>$u(ee.lastActive)<=j).slice().sort(Lee(i,c)),[W,u,p,v,j,i,c]);R.useEffect(()=>{if(!A&&q.length){const ee=q[Math.floor(Math.random()*q.length)];B(ee.id)}},[q,A]);const Q=R.useMemo(()=>q.find(ee=>ee.id===A)||null,[q,A]),G=R.useMemo(()=>q.slice().sort((ee,fe)=>fe.weeklyViews-ee.weeklyViews).slice(0,5),[q]),te=R.useMemo(()=>q.slice().sort((ee,fe)=>fe.weeklyPosts-ee.weeklyPosts).slice(0,5),[q]);async function re(){C(""),S(!0);try{const ee=await fetch(D,{headers:{Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const fe=await ee.json(),Te=Array.isArray(fe)?fe:Array.isArray(fe==null?void 0:fe.data)?fe.data:[];E(Te)}catch(ee){C((ee==null?void 0:ee.message)||"Fetch failed")}finally{S(!1)}}const z=q.length===0;return s.jsxs("section",{className:"cc-wrap",children:[s.jsxs("div",{className:"cc-heading",children:[s.jsx("h1",{children:"Content Creator Hub"}),s.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),L&&s.jsxs("p",{className:"cc-sync",children:[s.jsxs("span",{children:["Live stats synced ",new Date(L.generatedAt).toLocaleString()]}),s.jsxs("span",{children:[L.data.length," profiles"]})]}),P&&s.jsx("p",{className:"cc-sync-error",children:P})]}),s.jsxs("div",{className:"cc-toolbar",children:[s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Data"}),s.jsxs("select",{value:t,onChange:ee=>e(ee.target.value),children:[s.jsx("option",{value:"static",children:"Static"}),s.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"View"}),s.jsxs("select",{value:n,onChange:ee=>r(ee.target.value),children:[s.jsx("option",{value:"cards",children:"Cards"}),s.jsx("option",{value:"table",children:"Table"}),s.jsx("option",{value:"json",children:"JSON"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Sort by"}),s.jsxs("select",{value:i,onChange:ee=>a(ee.target.value),children:[s.jsx("option",{value:"subs",children:"Subs"}),s.jsx("option",{value:"views",children:"Views"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"language",children:"Language"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Dir"}),s.jsxs("select",{value:c,onChange:ee=>d(ee.target.value),children:[s.jsx("option",{value:"desc",children:"Desc"}),s.jsx("option",{value:"asc",children:"Asc"})]})]})]}),s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Language"}),s.jsxs("select",{value:u,onChange:ee=>h(ee.target.value),children:[s.jsx("option",{value:"all",children:"All"}),H.map(ee=>s.jsx("option",{value:ee,children:ee.toUpperCase()},ee))]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Platform"}),s.jsxs("select",{value:p,onChange:ee=>g(ee.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"TikTok",children:"TikTok"}),s.jsx("option",{value:"Discord",children:"Discord"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Min subs"}),s.jsx("input",{type:"number",min:0,value:v,onChange:ee=>b(Number(ee.target.value||0)),placeholder:"0"})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Active within"}),s.jsxs("select",{value:j,onChange:ee=>I(Number(ee.target.value)),children:[s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:90,children:"90 days"}),s.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&s.jsxs("div",{className:"cc-api",children:[s.jsxs("div",{className:"cc-api-ctrls",children:[s.jsxs("label",{className:"cc-field cc-field-grow",children:[s.jsx("span",{children:"API URL"}),s.jsx("input",{type:"url",value:D,onChange:ee=>T(ee.target.value),placeholder:"https://api.example.com/creators"})]}),s.jsx("button",{className:"cc-btn",onClick:re,disabled:!D||y,children:y?"Loading":"Fetch"})]}),M&&s.jsx("div",{className:"cc-api-error",children:M}),s.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),Q&&s.jsxs("div",{className:"cc-spotlight",children:[s.jsxs("div",{className:"cc-spot-head",children:[s.jsx("h2",{children:"Random CC Spotlight"}),s.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!q.length)return;const ee=q[Math.floor(Math.random()*q.length)];B(ee.id)},children:"Shuffle"})]}),s.jsx(Qj,{c:Q})]}),s.jsxs("div",{className:"cc-main",children:[s.jsxs("div",{className:"cc-main-left",children:[z&&s.jsxs("div",{className:"cc-empty",children:[s.jsx("h3",{children:"No creators match the filters"}),s.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!z&&n==="cards"&&s.jsx("div",{className:"cc-grid",children:q.map(ee=>s.jsx(Qj,{c:ee},ee.id))}),!z&&n==="table"&&s.jsx(Mee,{data:q}),n==="json"&&s.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(q,null,2)})]}),s.jsxs("aside",{className:"cc-main-right",children:[s.jsxs("div",{className:"cc-side",children:[s.jsx("h3",{children:"Weekly Toplists"}),s.jsxs("div",{className:"cc-toplist",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Views"}),s.jsx("ol",{children:G.map(ee=>s.jsxs("li",{children:[s.jsx("span",{children:ee.name}),s.jsx("span",{className:"cc-top-val",children:vC(ee.weeklyViews)})]},ee.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Posts"}),s.jsx("ol",{children:te.map(ee=>s.jsxs("li",{children:[s.jsx("span",{children:ee.name}),s.jsx("span",{className:"cc-top-val",children:ee.weeklyPosts})]},ee.id))})]})]})]}),s.jsxs("div",{className:"cc-side cc-legal",children:[s.jsx("h3",{children:"Legal & Disclaimer"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Only public data; no embedding without permission."}),s.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),s.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function bC(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function _C(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function wC(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function jC(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const Fee=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],iv=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],Bee={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},$ee=t=>Bee[t],Vee=(t,e=64)=>{var i;const n=$ee(t),r=nl(n);return r&&(i=Mr(r,e))!=null?i:null},Oee="_recordsPage_kdw96_1",Uee="_navArea_kdw96_15",zee="_tabList_kdw96_27",Hee="_tabButton_kdw96_55",Gee="_tabButtonActive_kdw96_101",Wee="_sectionContent_kdw96_115",qee="_placeholderPanel_kdw96_127",Kee="_placeholderTitle_kdw96_143",Qee="_placeholderText_kdw96_157",Xee="_milestoneSection_kdw96_171",Yee="_sectionHeader_kdw96_183",Jee="_filterBar_kdw96_197",Zee="_filterButtons_kdw96_231",ete="_filterButton_kdw96_231",tte="_filterButtonActive_kdw96_295",ste="_filterSelectWrapper_kdw96_309",nte="_filterLabel_kdw96_321",rte="_filterSelect_kdw96_309",ite="_emptyFilterMessage_kdw96_355",ate="_currentSection_kdw96_369",ote="_currentGrid_kdw96_381",lte="_currentCard_kdw96_393",cte="_categoryLabel_kdw96_419",dte="_recordTitle_kdw96_433",ute="_currentDetails_kdw96_445",hte="_notes_kdw96_457",mte="_infoPanel_kdw96_469",pte="_infoCard_kdw96_481",fte="_disclaimerCard_kdw96_483",gte="_infoHeader_kdw96_525",xte="_infoAuthor_kdw96_539",vte="_authorName_kdw96_557",yte="_authorBadge_kdw96_565",bte="_infoAuthorIcon_kdw96_591",_te="_infoDate_kdw96_623",wte="_infoBody_kdw96_633",jte="_infoTitle_kdw96_645",Ste="_infoLink_kdw96_665",Nte="_milestoneGrid_kdw96_719",kte="_milestoneCard_kdw96_731",Cte="_milestoneCategory_kdw96_757",Tte="_milestoneTitle_kdw96_771",Ete="_milestoneDetails_kdw96_785",Ate="_detailRow_kdw96_797",Ite="_detailLabel_kdw96_809",Rte="_detailValue_kdw96_823",Pte="_sourceLink_kdw96_833",Lte="_emptyState_kdw96_855",Me={recordsPage:Oee,navArea:Uee,tabList:zee,tabButton:Hee,tabButtonActive:Gee,sectionContent:Wee,placeholderPanel:qee,placeholderTitle:Kee,placeholderText:Qee,milestoneSection:Xee,sectionHeader:Yee,filterBar:Jee,filterButtons:Zee,filterButton:ete,filterButtonActive:tte,filterSelectWrapper:ste,filterLabel:nte,filterSelect:rte,emptyFilterMessage:ite,currentSection:ate,currentGrid:ote,currentCard:lte,categoryLabel:cte,recordTitle:dte,currentDetails:ute,notes:hte,infoPanel:mte,infoCard:pte,disclaimerCard:fte,infoHeader:gte,infoAuthor:xte,authorName:vte,authorBadge:yte,infoAuthorIcon:bte,infoDate:_te,infoBody:wte,infoTitle:jte,infoLink:Ste,milestoneGrid:Nte,milestoneCard:kte,milestoneCategory:Cte,milestoneTitle:Tte,milestoneDetails:Ete,detailRow:Ate,detailLabel:Ite,detailValue:Rte,sourceLink:Pte,emptyState:Lte},Dte=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],Mte={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},Fte=({title:t,description:e,hint:n})=>s.jsxs("article",{className:Me.placeholderPanel,children:[s.jsx("h2",{className:Me.placeholderTitle,children:t}),s.jsx("p",{className:Me.placeholderText,children:e}),n&&s.jsx("p",{className:Me.emptyState,children:n})]}),Bte=()=>{const[t,e]=R.useState("all"),n=R.useMemo(()=>{const a=new Set,c=[];for(const d of iv)a.has(d.category)||(a.add(d.category),c.push(d.category));return["all",...c]},[]),r=t==="all"?iv:iv.filter(a=>a.category===t),i=a=>{e(a)};return s.jsxs("section",{className:Me.milestoneSection,"aria-label":"Records milestones",children:[s.jsxs("div",{className:Me.sectionHeader,children:[s.jsx("p",{children:"Milestones"}),s.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),s.jsxs("div",{className:Me.filterBar,children:[s.jsx("div",{className:Me.filterButtons,children:n.map(a=>s.jsx("button",{type:"button",className:[Me.filterButton,t===a&&Me.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(a),"aria-pressed":t===a,children:a==="all"?"All Categories":a},a))}),s.jsxs("label",{className:Me.filterSelectWrapper,children:[s.jsx("span",{className:Me.filterLabel,children:"Category"}),s.jsx("select",{value:t,onChange:a=>i(a.target.value),className:Me.filterSelect,children:n.map(a=>s.jsx("option",{value:a,children:a==="all"?"All Categories":a},a))})]})]}),r.length===0?s.jsx("p",{className:Me.emptyFilterMessage,children:"No milestones fall into this category yet."}):s.jsx("div",{className:Me.milestoneGrid,children:r.map(a=>s.jsxs("article",{className:Me.milestoneCard,children:[s.jsx("span",{className:Me.milestoneCategory,children:a.category}),s.jsx("h3",{className:Me.milestoneTitle,children:a.achievement}),s.jsxs("div",{className:Me.milestoneDetails,children:[s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Name"}),s.jsx("span",{className:Me.detailValue,children:a.name})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Server"}),s.jsx("span",{className:Me.detailValue,children:a.server})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Date"}),s.jsx("span",{className:Me.detailValue,children:a.date})]}),a.notes&&s.jsx("p",{className:Me.notes,children:a.notes}),a.source&&s.jsx("a",{href:a.source,target:"_blank",rel:"noreferrer",className:Me.sourceLink,children:"Source"})]})]},`${a.achievement}-${a.name}`))})]})},$te=()=>s.jsxs("section",{className:Me.currentSection,"aria-label":"Current community records",children:[s.jsxs("div",{className:Me.sectionHeader,children:[s.jsx("p",{children:"Current Records"}),s.jsx("h2",{children:"The latest verified achievements"})]}),s.jsx("div",{className:Me.currentGrid,children:Fee.map((t,e)=>s.jsxs("article",{className:Me.currentCard,children:[s.jsx("span",{className:Me.categoryLabel,children:t.category}),s.jsx("h3",{className:Me.recordTitle,children:t.record}),s.jsxs("div",{className:Me.currentDetails,children:[s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Class"}),s.jsx("span",{className:Me.detailValue,children:t.classType})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Player"}),s.jsx("span",{className:Me.detailValue,children:t.playerName})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Server"}),s.jsx("span",{className:Me.detailValue,children:t.server})]}),s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Days"}),s.jsx("span",{className:Me.detailValue,children:t.days})]}),t.release&&s.jsxs("div",{className:Me.detailRow,children:[s.jsx("span",{className:Me.detailLabel,children:"Release"}),s.jsx("span",{className:Me.detailValue,children:t.release})]}),(t.previousDays||t.previousName)&&s.jsxs("p",{className:Me.notes,children:["Previous: ",t.previousDays?`${t.previousDays} days`:""," ",t.previousName?`(${t.previousName})`:""]}),t.notes&&s.jsx("p",{className:Me.notes,children:t.notes})]})]},`${t.category}-${t.playerName}-${e}`))})]}),Ud={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function SC(){const[t,e]=R.useState("current"),n=Vee("infoCard",32),r=()=>{if(t==="current")return s.jsx($te,{});if(t==="milestones")return s.jsx(Bte,{});const i=Mte[t];return s.jsx(Fte,{title:i.title,description:i.description,hint:i.hint})};return s.jsxs("section",{className:Me.recordsPage,children:[s.jsx(pC,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),s.jsxs("div",{className:Me.infoPanel,children:[s.jsxs("div",{className:Me.infoCard,children:[s.jsxs("div",{className:Me.infoHeader,children:[s.jsxs("div",{className:Me.infoAuthor,children:[n?s.jsx("img",{src:n,alt:"Community Data",className:Me.infoAuthorIcon}):null,s.jsx("span",{className:Me.authorName,children:"S&F Tavern Info"}),s.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:Me.authorBadge,children:"Discord"})]}),s.jsx("span",{className:Me.infoDate,children:"11.12.2020 14:08"})]}),s.jsxs("div",{className:Me.infoBody,children:[s.jsx("h3",{className:Me.infoTitle,children:Ud.title}),Ud.paragraphs.map(i=>s.jsx("p",{children:i},i))]}),s.jsxs("div",{className:Me.infoLink,children:[s.jsx("span",{children:Ud.linkLabel}),s.jsx("a",{href:Ud.linkUrl,target:"_blank",rel:"noreferrer",children:Ud.linkUrl})]})]}),s.jsxs("div",{className:Me.disclaimerCard,children:[s.jsx("h3",{className:Me.infoTitle,children:"Disclaimer"}),s.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),s.jsx("div",{className:Me.navArea,children:s.jsx("nav",{className:Me.tabList,"aria-label":"Records navigation",children:Dte.map(i=>s.jsx("button",{type:"button",className:`${Me.tabButton} ${t===i.key?Me.tabButtonActive:""}`,"aria-pressed":t===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),s.jsx("div",{className:Me.sectionContent,children:r()})]})}const Vte={creators:yC,scans:bC,predictions:_C,news:wC,records:SC,feedback:jC};function Ote(){const[t]=al(),e=t.get("tab")||"",n=Vte[e];return s.jsxs(vt,{children:[s.jsx("div",{className:nc.topWrap,children:s.jsx(xee,{logoSrc:See})}),s.jsx("div",{className:nc.divider}),s.jsx("div",{className:nc.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:nc.placeholder,children:[s.jsx("h2",{className:nc.placeholderTitle,children:"Community"}),s.jsx("p",{className:nc.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function Ute(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(Ft,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(Ft,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function zte(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function Hte(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function Gte(){return s.jsx(vt,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(Wte,{}),right:s.jsx(qte,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(Ft,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),s.jsx(Ft,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(qm,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(qm,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),s.jsx(qm,{to:"/guild-hub/compare-guilds",title:"Gildenvergleich",desc:"Kennzahlen nebeneinander legen"}),s.jsx(qm,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function Wte(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(zd,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(zd,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),s.jsx(zd,{to:"/guild-hub/compare-guilds",children:"Gildenvergleich"}),s.jsx(zd,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(zd,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function qte(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function qm({to:t,title:e,desc:n}){return s.jsxs(Ft,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function zd({to:t,children:e}){return s.jsx(os,{to:t,className:({isActive:n})=>`block rounded-lg border px-3 py-2 no-underline ${n?"font-semibold":""}`,style:({isActive:n})=>({borderColor:n?"#2B6DE0":"#2B4C73",background:n?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:n?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}const Kte="_page_1mlmy_1",Qte="_header_1mlmy_13",Xte="_headerStack_1mlmy_25",Yte="_kicker_1mlmy_37",Jte="_title_1mlmy_53",Zte="_headerActions_1mlmy_65",ese="_primaryAction_1mlmy_77",tse="_secondaryAction_1mlmy_79",sse="_infoStrip_1mlmy_127",nse="_infoBlock_1mlmy_147",rse="_infoLabel_1mlmy_161",ise="_freshnessWrapper_1mlmy_181",ase="_freshnessBadge_1mlmy_189",ose="_badge_f0_1mlmy_213",lse="_badge_f1_1mlmy_215",cse="_badge_f2_1mlmy_217",dse="_badge_f3_1mlmy_219",use="_badge_f4_1mlmy_221",hse="_badge_f5_1mlmy_223",mse="_badge_f6_1mlmy_225",pse="_badge_f7_1mlmy_227",fse="_badge_unknown_1mlmy_229",gse="_popover_1mlmy_233",xse="_popoverLabel_1mlmy_265",vse="_filterToolbar_1mlmy_275",yse="_filterSheetButton_1mlmy_285",bse="_inlineFilters_1mlmy_303",_se="_searchInput_1mlmy_315",wse="_select_1mlmy_317",jse="_ownerGroup_1mlmy_335",Sse="_ownerChip_1mlmy_347",Nse="_ownerChipActive_1mlmy_365",kse="_sortGroup_1mlmy_375",Cse="_sortLabel_1mlmy_387",Tse="_directionButton_1mlmy_397",Ese="_listBody_1mlmy_415",Ase="_tableWrapper_1mlmy_427",Ise="_table_1mlmy_427",Rse="_stickyColumn_1mlmy_481",Pse="_rowTitleButton_1mlmy_495",Lse="_tableStatus_1mlmy_513",Dse="_cardList_1mlmy_533",Mse="_card_1mlmy_533",Fse="_cardHeader_1mlmy_565",Bse="_cardTitle_1mlmy_577",$se="_cardMeta_1mlmy_595",Vse="_cardDescription_1mlmy_611",Ose="_cardFooter_1mlmy_623",Use="_cardLabel_1mlmy_639",zse="_scanBadge_1mlmy_649",Hse="_emptyState_1mlmy_665",Gse="_sheetBackdrop_1mlmy_681",Wse="_sheet_1mlmy_681",qse="_sheetHandle_1mlmy_721",Kse="_sheetBody_1mlmy_739",Qse="_sheetLabel_1mlmy_755",Xse="_sheetActions_1mlmy_793",Yse="_overlay_1mlmy_807",Jse="_panel_1mlmy_825",Zse="_modal_1mlmy_851",ene="_drawer_1mlmy_861",tne="_panelHeader_1mlmy_869",sne="_panelControls_1mlmy_883",nne="_panelDescription_1mlmy_913",rne="_detailGrid_1mlmy_925",ine="_panelFooter_1mlmy_957",ane="_formOverlay_1mlmy_969",one="_formPanel_1mlmy_991",lne="_formGrid_1mlmy_1017",cne="_menuWrapper_1mlmy_1029",dne="_dotsButton_1mlmy_1037",une="_menu_1mlmy_1029",hne="_pagination_1mlmy_1109",be={page:Kte,header:Qte,headerStack:Xte,kicker:Yte,title:Jte,headerActions:Zte,primaryAction:ese,secondaryAction:tse,infoStrip:sse,infoBlock:nse,infoLabel:rse,freshnessWrapper:ise,freshnessBadge:ase,badge_f0:ose,badge_f1:lse,badge_f2:cse,badge_f3:dse,badge_f4:use,badge_f5:hse,badge_f6:mse,badge_f7:pse,badge_unknown:fse,popover:gse,popoverLabel:xse,filterToolbar:vse,filterSheetButton:yse,inlineFilters:bse,searchInput:_se,select:wse,ownerGroup:jse,ownerChip:Sse,ownerChipActive:Nse,sortGroup:kse,sortLabel:Cse,directionButton:Tse,listBody:Ese,tableWrapper:Ase,table:Ise,stickyColumn:Rse,rowTitleButton:Pse,tableStatus:Lse,cardList:Dse,card:Mse,cardHeader:Fse,cardTitle:Bse,cardMeta:$se,cardDescription:Vse,cardFooter:Ose,cardLabel:Use,scanBadge:zse,emptyState:Hse,sheetBackdrop:Gse,sheet:Wse,sheetHandle:qse,sheetBody:Kse,sheetLabel:Qse,sheetActions:Xse,overlay:Yse,panel:Jse,modal:Zse,drawer:ene,panelHeader:tne,panelControls:sne,panelDescription:nne,detailGrid:rne,panelFooter:ine,formOverlay:ane,formPanel:one,formGrid:lne,menuWrapper:cne,dotsButton:dne,menu:une,pagination:hne};function mne(){var re;const[t,e]=J.useState(Zz),[n,r]=J.useState(Qx),[i,a]=J.useState(Qx),c=Pc(n.q,300),d=J.useMemo(()=>{const z=eH(t,n,c);return tH(z,n.sort,n.dir)},[t,n,c]),u=J.useMemo(()=>sH(d,n.page,n.pageSize),[d,n.page,n.pageSize]),h=Math.max(1,Math.ceil(d.length/n.pageSize)),p=J.useMemo(()=>Array.from(new Set(t.map(z=>z.owner))),[t]),g=Lc("(min-width: 768px)"),v=Lc("(min-width: 1024px)"),[b,j]=J.useState(!1),[I,A]=J.useState(null),B=(re=t.find(z=>z.id===I))!=null?re:null,D=J.useRef(null);Dc(D,!!B&&!v);const[T,y]=J.useState(null),[S,M]=J.useState(!1),C=J.useRef(null);Dc(C,S);const w=J.useMemo(()=>nH(t),[t]),E=J.useMemo(()=>w?Fu(w.nextUpdateAt,Date.now()):"",[w]),L=g,P=v,V=s.jsxs("div",{className:be.headerActions,children:[s.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>{y(null),M(!0)},children:"Neuer Eintrag"}),!g&&s.jsx("button",{type:"button",className:be.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>j(!0),children:"Filter"})]}),$=z=>{const se=_j(z);r(se),a(se)},W=(z,se)=>{const ce=_j({...n,[z]:se,page:z==="page"||z==="pageSize"?se:1});$(ce)},H=()=>{$(i),j(!1)},q=()=>{$(Qx),j(!1)},Q=(z,se=!1)=>{if(se)a(ce=>{const fe=ce.owner.includes(z)?ce.owner.filter(Te=>Te!==z):[...ce.owner,z];return{...ce,owner:fe}});else{const ee=n.owner.includes(z)?n.owner.filter(fe=>fe!==z):[...n.owner,z];W("owner",ee)}},G=(z,se)=>{e(ce=>ce.map(ee=>ee.id===z?{...ee,status:se,updatedAt:new Date().toISOString()}:ee))},te=z=>{e(se=>se.some(ee=>ee.id===z.id)?se.map(ee=>ee.id===z.id?z:ee):[z,...se]),M(!1)};return s.jsxs(vt,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[s.jsxs("div",{className:be.page,children:[s.jsxs("header",{className:be.header,children:[s.jsxs("div",{className:be.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.kicker,children:"Deployment"}),s.jsx("h1",{className:be.title,children:"Planer"})]}),V]}),s.jsxs("div",{className:be.infoStrip,children:[s.jsxs("div",{className:be.infoBlock,children:[s.jsx("span",{className:be.infoLabel,children:"Offen"}),s.jsx("strong",{children:d.filter(z=>z.status==="open").length})]}),s.jsxs("div",{className:be.infoBlock,children:[s.jsx("span",{className:be.infoLabel,children:"In Arbeit"}),s.jsx("strong",{children:d.filter(z=>z.status==="in_progress").length})]}),w&&s.jsx(pne,{code:w.freshness,label:n1[w.freshness],updatedAt:w.lastScanAt,nextUpdateAt:w.nextUpdateAt,countdown:E})]})]}),s.jsx("section",{className:be.filterToolbar,children:g?s.jsx(fne,{filters:n,owners:p,onChange:W,onOwnerToggle:z=>Q(z,!1)}):s.jsx("button",{type:"button",className:be.filterSheetButton,onClick:()=>j(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),s.jsx("section",{className:be.listBody,children:L?s.jsx(gne,{items:u,sort:n.sort,dir:n.dir,onSortChange:z=>{const se=n.sort===z&&n.dir==="asc"?"desc":"asc";W("sort",z),W("dir",se)},onSelect:z=>A(z.id),onStatusChange:G,onEdit:z=>{y(z),M(!0)}}):s.jsx(xne,{items:u,onSelect:z=>A(z.id),onStatusChange:G,onEdit:z=>{y(z),M(!0)}})}),s.jsx(yne,{page:n.page,totalPages:h,onChange:z=>W("page",z)})]}),b&&s.jsx(vne,{filters:i,owners:p,onChange:a,onOwnerToggle:z=>Q(z,!0),onClose:()=>j(!1),onApply:H,onReset:q}),B&&s.jsx(kC,{ref:D,item:B,mode:P?"drawer":"modal",onClose:()=>A(null),onEdit:()=>{y(B),M(!0),A(null)},onStatusChange:G}),S&&s.jsx(CC,{ref:C,owners:p.length?p:lC,item:T,onClose:()=>M(!1),onSubmit:te})]})}function pne({code:t,label:e,updatedAt:n,nextUpdateAt:r,countdown:i}){var d;const[a,c]=J.useState(!1);return s.jsxs("div",{className:be.freshnessWrapper,children:[s.jsx("button",{type:"button",className:`${be.freshnessBadge} ${(d=be[`badge_${t}`])!=null?d:""}`,"aria-label":`Freshness ${e}`,onClick:()=>c(u=>!u),children:e}),a&&s.jsxs("div",{className:be.popover,role:"dialog","aria-label":"Freshness Details",children:[s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Zuletzt gescannt"}),s.jsx("strong",{children:Ai(n)})]}),s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Naechster Scan"}),s.jsx("strong",{children:Ai(r)})]}),s.jsxs("div",{children:[s.jsx("span",{className:be.popoverLabel,children:"Countdown"}),s.jsx("strong",{children:i})]})]})]})}function fne({filters:t,owners:e,onChange:n,onOwnerToggle:r}){return s.jsxs("div",{className:be.inlineFilters,children:[s.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:be.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>n("q",i.target.value)}),s.jsxs("select",{className:be.select,name:"plannerType","aria-label":"Planner Typ",value:t.type,onChange:i=>n("type",i.target.value),children:[s.jsx("option",{value:"all",children:"Typ (alle)"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]}),s.jsxs("select",{className:be.select,name:"plannerStatus","aria-label":"Planner Status",value:t.status,onChange:i=>n("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("select",{className:be.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:t.range,onChange:i=>n("range",i.target.value),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]}),s.jsx("div",{className:be.ownerGroup,children:e.map(i=>{const a=t.owner.includes(i);return s.jsx("button",{type:"button",className:`${be.ownerChip} ${a?be.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:be.sortGroup,children:[s.jsx("label",{htmlFor:"planner-sort",className:be.sortLabel,children:"Sortieren"}),s.jsxs("select",{id:"planner-sort",name:"plannerSort",className:be.select,value:t.sort,onChange:i=>n("sort",i.target.value),children:[s.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),s.jsx("option",{value:"priority",children:"Prioritaet"}),s.jsx("option",{value:"title",children:"Titel"})]}),s.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:be.directionButton,onClick:()=>n("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"":""})]})]})}function gne({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:a,onEdit:c}){const d=u=>e===u?n==="asc"?" ":" ":"";return t.length===0?s.jsx(NC,{}):s.jsx("div",{className:be.tableWrapper,children:s.jsxs("table",{className:be.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:be.stickyColumn,onClick:()=>r("title"),children:["Titel",d("title")]}),s.jsx("th",{children:"Typ"}),s.jsx("th",{children:"Owner"}),s.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",d("dueAt")]}),s.jsx("th",{children:"Status"}),s.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",d("updatedAt")]}),s.jsx("th",{})]})}),s.jsx("tbody",{children:t.map(u=>s.jsxs("tr",{children:[s.jsx("td",{className:be.stickyColumn,children:s.jsx("button",{type:"button",className:be.rowTitleButton,onClick:()=>i(u),children:u.title})}),s.jsx("td",{children:s1[u.type]}),s.jsx("td",{children:u.owner}),s.jsx("td",{children:Ai(u.dueAt)}),s.jsx("td",{children:s.jsxs("select",{name:`plannerStatus-${u.id}`,"aria-label":`Status fuer ${u.title}`,className:be.tableStatus,value:u.status,onChange:h=>a(u.id,h.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),s.jsx("td",{children:ih(u.updatedAt)}),s.jsx("td",{children:s.jsx(TC,{onEdit:()=>c(u),onComplete:()=>a(u.id,"done")})})]},u.id))})]})})}function xne({items:t,onSelect:e,onStatusChange:n,onEdit:r}){return t.length===0?s.jsx(NC,{}):s.jsx("div",{className:be.cardList,children:t.map(i=>s.jsxs("article",{className:be.card,children:[s.jsxs("div",{className:be.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:be.cardTitle,onClick:()=>e(i),children:i.title}),s.jsxs("div",{className:be.cardMeta,children:[s.jsx("span",{children:s1[i.type]}),s.jsx("span",{children:Yz[i.status]}),s.jsxs("span",{children:["Due ",Ai(i.dueAt)]})]})]}),s.jsx(TC,{onEdit:()=>r(i),onComplete:()=>n(i.id,"done")})]}),s.jsx("p",{className:be.cardDescription,children:i.description}),s.jsxs("div",{className:be.cardFooter,children:[s.jsxs("div",{children:[s.jsx("span",{className:be.cardLabel,children:"Owner"}),s.jsx("strong",{children:i.owner})]}),s.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:be.tableStatus,value:i.status,onChange:a=>n(i.id,a.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("span",{className:be.scanBadge,children:["Letzter Scan ",ih(i.lastScanAt)]})]})]},i.id))})}function NC(){return s.jsx("div",{className:be.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function vne({filters:t,owners:e,onChange:n,onOwnerToggle:r,onClose:i,onApply:a,onReset:c}){return s.jsx("div",{className:be.sheetBackdrop,role:"presentation",onClick:i,children:s.jsxs("div",{className:be.sheet,role:"dialog","aria-label":"Filter",onClick:d=>d.stopPropagation(),children:[s.jsx("div",{className:be.sheetHandle}),s.jsxs("div",{className:be.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:be.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"plannerSheetSearch",value:t.q,onChange:d=>n(u=>({...u,q:d.target.value}))})]}),s.jsxs("label",{className:be.sheetLabel,children:["Typ",s.jsxs("select",{name:"plannerSheetType",value:t.type,onChange:d=>n(u=>({...u,type:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{className:be.sheetLabel,children:["Status",s.jsxs("select",{name:"plannerSheetStatus",value:t.status,onChange:d=>n(u=>({...u,status:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{className:be.sheetLabel,children:["Zeitraum",s.jsxs("select",{name:"plannerSheetRange",value:t.range,onChange:d=>n(u=>({...u,range:d.target.value})),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]})]}),s.jsxs("div",{className:be.sheetLabel,children:["Owner",s.jsx("div",{className:be.ownerGroup,children:e.map(d=>{const u=t.owner.includes(d);return s.jsx("button",{type:"button",className:`${be.ownerChip} ${u?be.ownerChipActive:""}`,onClick:()=>r(d),children:d},d)})})]})]}),s.jsxs("div",{className:be.sheetActions,children:[s.jsx("button",{type:"button",onClick:c,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:be.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const kC=J.forwardRef(({item:t,mode:e,onClose:n,onEdit:r,onStatusChange:i},a)=>s.jsx("div",{className:be.overlay,children:s.jsxs("div",{ref:a,className:`${be.panel} ${e==="drawer"?be.drawer:be.modal}`,children:[s.jsxs("header",{className:be.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.cardLabel,children:s1[t.type]}),s.jsx("h2",{children:t.title})]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("div",{className:be.panelControls,children:[s.jsxs("label",{children:["Status",s.jsxs("select",{value:t.status,onChange:c=>i(t.id,c.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{disabled:!0,value:t.priority,children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsx("p",{className:be.panelDescription,children:t.description}),s.jsxs("dl",{className:be.detailGrid,children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Owner"}),s.jsx("dd",{children:t.owner})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Assignees"}),s.jsx("dd",{children:t.assignees.join(", ")})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Termin"}),s.jsx("dd",{children:Ai(t.dueAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt aktualisiert"}),s.jsx("dd",{children:ih(t.updatedAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Erstellt"}),s.jsx("dd",{children:Ai(t.createdAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Tags"}),s.jsx("dd",{children:t.tags.join(", ")})]})]}),s.jsxs("div",{className:be.panelFooter,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>i(t.id,"done"),children:"Als erledigt markieren"})]})]})}));kC.displayName="DetailPanel";const CC=J.forwardRef(({owners:t,item:e,onClose:n,onSubmit:r},i)=>{const[a,c]=J.useState(()=>{var h;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(h=t[0])!=null?h:lC[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});J.useEffect(()=>{e&&c(e)},[JSON.stringify(e)]);const d=h=>{h.preventDefault(),a.title.trim()&&r({...a,updatedAt:new Date().toISOString()})},u=h=>{c(p=>{const v=p.tags.includes(h)?p.tags.filter(b=>b!==h):[...p.tags,h];return{...p,tags:v}})};return s.jsx("div",{className:be.formOverlay,children:s.jsxs("form",{ref:i,className:be.formPanel,onSubmit:d,children:[s.jsxs("header",{className:be.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:be.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),s.jsx("h2",{children:e?e.title:"Planner Task"})]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("label",{className:be.sheetLabel,children:["Titel",s.jsx("input",{name:"plannerFormTitle",value:a.title,onChange:h=>c(p=>({...p,title:h.target.value})),required:!0})]}),s.jsxs("label",{className:be.sheetLabel,children:["Beschreibung",s.jsx("textarea",{name:"plannerFormDescription",value:a.description,onChange:h=>c(p=>({...p,description:h.target.value})),rows:4})]}),s.jsxs("div",{className:be.formGrid,children:[s.jsxs("label",{children:["Typ",s.jsxs("select",{name:"plannerFormType",value:a.type,onChange:h=>c(p=>({...p,type:h.target.value})),children:[s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"plannerFormStatus",value:a.status,onChange:h=>c(p=>({...p,status:h.target.value})),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Owner",s.jsx("select",{name:"plannerFormOwner",value:a.owner,onChange:h=>c(p=>({...p,owner:h.target.value})),children:t.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{name:"plannerFormPriority",value:a.priority,onChange:h=>c(p=>({...p,priority:h.target.value})),children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsxs("label",{className:be.sheetLabel,children:["Termin",s.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:a.dueAt.slice(0,16),onChange:h=>c(p=>({...p,dueAt:new Date(h.target.value).toISOString()}))})]}),s.jsxs("div",{className:be.sheetLabel,children:["Tags",s.jsx("div",{className:be.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(h=>{const p=a.tags.includes(h);return s.jsx("button",{type:"button",className:`${be.ownerChip} ${p?be.ownerChipActive:""}`,onClick:()=>u(h),children:h},h)})})]}),s.jsxs("footer",{className:be.panelFooter,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:be.primaryAction,children:"Speichern"})]})]})})});CC.displayName="PlannerFormOverlay";function TC({onEdit:t,onComplete:e}){const[n,r]=J.useState(!1),i=J.useRef(null);return J.useEffect(()=>{if(!n)return;const a=c=>{var d;(d=i.current)!=null&&d.contains(c.target)||r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n]),s.jsxs("div",{className:be.menuWrapper,ref:i,children:[s.jsx("button",{type:"button",className:be.dotsButton,"aria-haspopup":"menu","aria-expanded":n,onClick:()=>r(a=>!a),children:"..."}),n&&s.jsxs("div",{className:be.menu,role:"menu",children:[s.jsx("button",{type:"button",onClick:()=>t(),children:"Bearbeiten"}),s.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),s.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function yne({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:be.pagination,children:[s.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const bne="_page_1cvuk_1",_ne="_header_1cvuk_13",wne="_headerLeading_1cvuk_29",jne="_backLink_1cvuk_41",Sne="_headerStack_1cvuk_77",Nne="_kicker_1cvuk_89",kne="_title_1cvuk_105",Cne="_subtitle_1cvuk_117",Tne="_headerActions_1cvuk_129",Ene="_plannerNotice_1cvuk_141",Ane="_noticeItem_1cvuk_163",Ine="_noticeWarning_1cvuk_185",Rne="_noticeDot_1cvuk_197",Pne="_tabSection_1cvuk_213",Lne="_tabBar_1cvuk_225",Dne="_tabItem_1cvuk_239",Mne="_tabItemActive_1cvuk_279",Fne="_tabLabel_1cvuk_291",Bne="_tabHelper_1cvuk_301",$ne="_tabPanel_1cvuk_311",Vne="_tabBadge_1cvuk_331",One="_primaryAction_1cvuk_1331",Une="_secondaryAction_1cvuk_1333",zne="_infoStrip_1cvuk_1383",Hne="_infoBlock_1cvuk_1403",Gne="_infoLabel_1cvuk_1415",Wne="_infoHint_1cvuk_1441",qne="_stageGrid_1cvuk_1453",Kne="_panel_1cvuk_1465",Qne="_panelHeader_1cvuk_1487",Xne="_panelKicker_1cvuk_1501",Yne="_panelTitle_1cvuk_1517",Jne="_panelLead_1cvuk_1529",Zne="_badge_1cvuk_1541",ere="_panelBody_1cvuk_1563",tre="_placeholderGrid_1cvuk_1575",sre="_placeholderCard_1cvuk_1587",nre="_placeholderTitle_1cvuk_1609",rre="_placeholderText_1cvuk_1619",ire="_helperSection_1cvuk_1631",are="_helperCard_1cvuk_1639",ore="_helperKicker_1cvuk_1661",lre="_helperTitle_1cvuk_1677",cre="_helperText_1cvuk_1689",dre="_helperActions_1cvuk_1701",We={page:bne,header:_ne,headerLeading:wne,backLink:jne,headerStack:Sne,kicker:Nne,title:kne,subtitle:Cne,headerActions:Tne,plannerNotice:Ene,noticeItem:Ane,noticeWarning:Ine,noticeDot:Rne,tabSection:Pne,tabBar:Lne,tabItem:Dne,tabItemActive:Mne,tabLabel:Fne,tabHelper:Bne,tabPanel:$ne,tabBadge:Vne,primaryAction:One,secondaryAction:Une,infoStrip:zne,infoBlock:Hne,infoLabel:Gne,infoHint:Wne,stageGrid:qne,panel:Kne,panelHeader:Qne,panelKicker:Xne,panelTitle:Yne,panelLead:Jne,badge:Zne,panelBody:ere,placeholderGrid:tre,placeholderCard:sre,placeholderTitle:nre,placeholderText:rre,helperSection:ire,helperCard:are,helperKicker:ore,helperTitle:lre,helperText:cre,helperActions:dre},ure="_setupGrid_rdp6l_1",hre="_setupLeft_rdp6l_13",mre="_setupRight_rdp6l_15",pre="_card_rdp6l_27",fre="_cardHeader_rdp6l_49",gre="_cardKicker_rdp6l_61",xre="_cardTitle_rdp6l_77",vre="_cardText_rdp6l_89",yre="_toggleGroup_rdp6l_101",bre="_toggleButton_rdp6l_113",_re="_toggleButtonActive_rdp6l_143",wre="_modeHint_rdp6l_155",jre="_formGrid_rdp6l_167",Sre="_formField_rdp6l_179",Nre="_formLabel_rdp6l_191",kre="_input_rdp6l_201",Cre="_suggestions_rdp6l_231",Tre="_suggestionBtn_rdp6l_257",Ere="_suggestionName_rdp6l_297",Are="_suggestionMeta_rdp6l_305",Ire="_partnerActions_rdp6l_315",Rre="_primaryAction_rdp6l_329",Pre="_secondaryAction_rdp6l_331",Lre="_partnerList_rdp6l_381",Dre="_partnerRow_rdp6l_393",Mre="_partnerName_rdp6l_413",Fre="_partnerMeta_rdp6l_423",Bre="_removeButton_rdp6l_433",$re="_emptyState_rdp6l_463",Vre="_previewBlock_rdp6l_473",Ore="_previewLabel_rdp6l_485",Ure="_previewValue_rdp6l_499",zre="_previewCard_rdp6l_509",Hre="_previewTitle_rdp6l_523",Gre="_previewMeta_rdp6l_533",Wre="_previewList_rdp6l_543",qre="_previewItem_rdp6l_555",Kre="_setupInfo_rdp6l_569",Qre="_setupWarning_rdp6l_593",Xre="_setupInfoIcon_rdp6l_605",Yre="_setupInfoTitle_rdp6l_629",Jre="_setupInfoText_rdp6l_639",Ie={setupGrid:ure,setupLeft:hre,setupRight:mre,card:pre,cardHeader:fre,cardKicker:gre,cardTitle:xre,cardText:vre,toggleGroup:yre,toggleButton:bre,toggleButtonActive:_re,modeHint:wre,formGrid:jre,formField:Sre,formLabel:Nre,input:kre,suggestions:Cre,suggestionBtn:Tre,suggestionName:Ere,suggestionMeta:Are,partnerActions:Ire,primaryAction:Rre,secondaryAction:Pre,partnerList:Lre,partnerRow:Dre,partnerName:Mre,partnerMeta:Fre,removeButton:Bre,emptyState:$re,previewBlock:Vre,previewLabel:Ore,previewValue:Ure,previewCard:zre,previewTitle:Hre,previewMeta:Gre,previewList:Wre,previewItem:qre,setupInfo:Kre,setupWarning:Qre,setupInfoIcon:Xre,setupInfoTitle:Yre,setupInfoText:Jre};function Zre({setupState:t,onChangeMode:e,onChangeBaseGuild:n,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var A,B,D,T,y,S,M,C,w,E;const[a,c]=J.useState(()=>{var L,P,V,$;return{name:(P=(L=t.baseGuild)==null?void 0:L.name)!=null?P:"",server:($=(V=t.baseGuild)==null?void 0:V.server)!=null?$:""}}),[d,u]=J.useState({id:void 0,name:"",server:""}),h=Pc(a.name,250),p=Pc(d.name,250),g=Xj(h,a.server||"all"),v=Xj(p,d.server||"all"),b=!!((B=(A=t.baseGuild)==null?void 0:A.name)!=null&&B.trim()&&((T=(D=t.baseGuild)==null?void 0:D.server)!=null&&T.trim())),j=t.partnerGuilds.length>0;J.useEffect(()=>{var P,V,$,W;const L={name:(V=(P=t.baseGuild)==null?void 0:P.name)!=null?V:"",server:(W=($=t.baseGuild)==null?void 0:$.server)!=null?W:""};(L.name!==a.name||L.server!==a.server)&&c(L)},[(y=t.baseGuild)==null?void 0:y.name,(S=t.baseGuild)==null?void 0:S.server]);const I=()=>{!d.name.trim()||!d.server.trim()||(r(d),u({id:void 0,name:"",server:""}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ie.setupGrid,children:[s.jsxs("div",{className:Ie.setupLeft,children:[s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Modus"}),s.jsx("h3",{className:Ie.cardTitle,children:"Scan-based oder manuell"}),s.jsx("p",{className:Ie.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),s.jsxs("div",{className:Ie.toggleGroup,role:"group","aria-label":"Setup Modus",children:[s.jsx("button",{type:"button",className:`${Ie.toggleButton} ${t.mode==="scan"?Ie.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),s.jsx("button",{type:"button",className:`${Ie.toggleButton} ${t.mode==="manual"?Ie.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),s.jsx("p",{className:Ie.modeHint,children:t.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Base Guild"}),s.jsx("h3",{className:Ie.cardTitle,children:"Stammdaten"}),s.jsx("p",{className:Ie.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),s.jsxs("div",{className:Ie.formGrid,children:[s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Guild name"}),s.jsx("input",{type:"text",className:Ie.input,value:a.name,onChange:L=>{const P=L.target.value;c(V=>({...V,name:P}))},onBlur:()=>n({name:a.name}),placeholder:"z.B. Solaris"}),g.length>0&&s.jsx("div",{className:Ie.suggestions,children:g.map(L=>s.jsxs("button",{type:"button",className:Ie.suggestionBtn,onClick:()=>{c({name:L.name,server:L.server}),n({id:L.id,name:L.name,server:L.server})},children:[s.jsx("span",{className:Ie.suggestionName,children:L.name}),s.jsx("span",{className:Ie.suggestionMeta,children:L.server})]},L.id))})]}),s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:Ie.input,value:a.server,onChange:L=>{const P=L.target.value;c(V=>({...V,server:P}))},onBlur:()=>n({server:a.server}),placeholder:"z.B. EU-01"})]})]})]}),s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Partner Guilds"}),s.jsx("h3",{className:Ie.cardTitle,children:"Partner hinzufuegen"}),s.jsx("p",{className:Ie.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),s.jsxs("div",{className:Ie.formGrid,children:[s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Name"}),s.jsx("input",{type:"text",className:Ie.input,value:d.name,onChange:L=>u(P=>({...P,name:L.target.value})),placeholder:"z.B. Nova Alliance"}),v.length>0&&s.jsx("div",{className:Ie.suggestions,children:v.map(L=>s.jsxs("button",{type:"button",className:Ie.suggestionBtn,onClick:()=>u({id:L.id,name:L.name,server:L.server}),children:[s.jsx("span",{className:Ie.suggestionName,children:L.name}),s.jsx("span",{className:Ie.suggestionMeta,children:L.server})]},L.id))})]}),s.jsxs("label",{className:Ie.formField,children:[s.jsx("span",{className:Ie.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:Ie.input,value:d.server,onChange:L=>u(P=>({...P,server:L.target.value})),placeholder:"z.B. EU-02"})]})]}),s.jsxs("div",{className:Ie.partnerActions,children:[s.jsx("button",{type:"button",className:Ie.primaryAction,onClick:I,children:"Add partner guild"}),s.jsx("button",{type:"button",className:Ie.secondaryAction,onClick:()=>u({name:"",server:""}),children:"Reset fields"})]}),s.jsx("div",{className:Ie.partnerList,children:t.partnerGuilds.length===0?s.jsx("div",{className:Ie.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(L=>s.jsxs("div",{className:Ie.partnerRow,children:[s.jsxs("div",{children:[s.jsx("div",{className:Ie.partnerName,children:L.name||"Unbenannt"}),s.jsx("div",{className:Ie.partnerMeta,children:L.server||"Server n/a"})]}),s.jsx("button",{type:"button",className:Ie.removeButton,onClick:()=>i(L.id),children:"Remove"})]},L.id))})]})]}),s.jsx("aside",{className:Ie.setupRight,children:s.jsxs("div",{className:Ie.card,children:[s.jsx("div",{className:Ie.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Ie.cardKicker,children:"Preview"}),s.jsx("h3",{className:Ie.cardTitle,children:"Uebersicht"}),s.jsx("p",{className:Ie.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),s.jsxs("div",{className:Ie.previewBlock,children:[s.jsx("div",{className:Ie.previewLabel,children:"Modus"}),s.jsx("div",{className:Ie.previewValue,children:t.mode==="scan"?"Scan-based":"Manual"})]}),s.jsxs("div",{className:Ie.previewBlock,children:[s.jsx("div",{className:Ie.previewLabel,children:"Base Guild"}),s.jsx("div",{className:Ie.previewCard,children:(M=t.baseGuild)!=null&&M.name||(C=t.baseGuild)!=null&&C.server?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ie.previewTitle,children:((w=t.baseGuild)==null?void 0:w.name)||"Unbenannt"}),s.jsx("div",{className:Ie.previewMeta,children:((E=t.baseGuild)==null?void 0:E.server)||"Server n/a"})]}):s.jsx("div",{className:Ie.emptyState,children:"No base guild selected yet."})})]}),s.jsxs("div",{className:Ie.previewBlock,children:[s.jsx("div",{className:Ie.previewLabel,children:"Partner Guilds"}),s.jsx("div",{className:Ie.previewList,children:t.partnerGuilds.length===0?s.jsx("div",{className:Ie.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(L=>s.jsxs("div",{className:Ie.previewItem,children:[s.jsx("div",{className:Ie.previewTitle,children:L.name||"Unbenannt"}),s.jsx("div",{className:Ie.previewMeta,children:L.server||"Server n/a"})]},L.id))})]})]})})]}),b?j?null:s.jsxs("div",{className:Ie.setupInfo,role:"status","aria-live":"polite",children:[s.jsx("span",{className:Ie.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:Ie.setupInfoTitle,children:"Optional: add partner guilds."}),s.jsx("p",{className:Ie.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):s.jsxs("div",{className:`${Ie.setupInfo} ${Ie.setupWarning}`,role:"status","aria-live":"polite",children:[s.jsx("span",{className:Ie.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:Ie.setupInfoTitle,children:"No base guild selected yet."}),s.jsx("p",{className:Ie.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function Xj(t,e){const[n,r]=J.useState([]);return J.useEffect(()=>{const i=t.trim().toLowerCase();if(!i){r([]);return}let a=!1;async function c(){try{const d=pf(Pt,"latest"),u=await an(Rn(d,Wa("nameFold"),Wo(i),qo(i+""),Pn(12))),h=await an(Rn(d,Yo("nameNgrams","array-contains",i),Pn(12))),p=new Set,g=[],v=b=>{var S,M,C,w,E,L,P,V,$,W;const j=b.data(),A=(S=b.ref.parent)==null?void 0:S.parent;if(((M=A==null?void 0:A.parent)==null?void 0:M.id)!=="guilds")return;const D=(w=(C=A==null?void 0:A.id)!=null?C:j.guildIdentifier)!=null?w:b.id;if(!D||p.has(D))return;const T=(P=(L=j.server)!=null?L:(E=j.values)==null?void 0:E.Server)!=null?P:"Unknown";if(e!=="all"&&T!==e)return;const y=(W=($=j.name)!=null?$:(V=j.values)==null?void 0:V.Name)!=null?W:"Unbekannte Gilde";p.add(D),g.push({id:D,name:y,server:T})};u.forEach(v),h.forEach(v),a||(g.sort((b,j)=>b.name.localeCompare(j.name)),r(g))}catch(d){console.error("[FusionPlanner] guild search failed",d),a||r([])}}return c(),()=>{a=!0}},[t,e]),n}const eie="_membersContainer_1ctw8_1",tie="_scenarioSwitcher_1ctw8_13",sie="_scenarioButton_1ctw8_25",nie="_scenarioButtonActive_1ctw8_63",rie="_scenarioButtonName_1ctw8_75",iie="_scenarioButtonDesc_1ctw8_83",aie="_setupInfo_1ctw8_93",oie="_setupInfoHeader_1ctw8_113",lie="_setupInfoTitle_1ctw8_127",cie="_setupInfoMode_1ctw8_139",die="_setupInfoRow_1ctw8_163",uie="_setupInfoLabel_1ctw8_175",hie="_setupInfoValue_1ctw8_189",mie="_setupInfoMeta_1ctw8_199",pie="_setupInfoPartners_1ctw8_209",fie="_setupInfoBadge_1ctw8_221",gie="_setupInfoEmpty_1ctw8_245",xie="_membersSummary_1ctw8_255",vie="_membersSummaryItem_1ctw8_275",yie="_membersSummaryLabel_1ctw8_287",bie="_membersSummaryValue_1ctw8_301",_ie="_maxSlotsInput_1ctw8_313",wie="_membersTable_1ctw8_331",jie="_membersRow_1ctw8_349",Sie="_membersHead_1ctw8_375",Nie="_membersCell_1ctw8_385",kie="_memberName_1ctw8_395",Cie="_memberBadge_1ctw8_403",Tie="_assignmentCell_1ctw8_427",Eie="_assignmentBadge_1ctw8_439",Aie="_assignmentBadgeMain_1ctw8_463",Iie="_assignmentBadgePartner_1ctw8_475",Rie="_assignmentBadgeWatch_1ctw8_487",Pie="_assignmentBadgeIdle_1ctw8_499",Lie="_assignmentActions_1ctw8_507",Die="_assignmentButton_1ctw8_519",Mie="_assignmentButtonActive_1ctw8_551",Fie="_decisionGroup_1ctw8_563",Bie="_decisionButton_1ctw8_575",$ie="_decisionButtonActive_1ctw8_607",Vie="_emptyWrap_1ctw8_619",Oie="_emptyTitle_1ctw8_633",Uie="_emptyText_1ctw8_641",zie="_contextMenuBackdrop_1ctw8_651",Hie="_contextMenu_1ctw8_651",Gie="_contextMenuItem_1ctw8_693",Wie="_partnerPickerCell_1ctw8_725",qie="_partnerLabel_1ctw8_737",Kie="_partnerSelect_1ctw8_751",Se={membersContainer:eie,scenarioSwitcher:tie,scenarioButton:sie,scenarioButtonActive:nie,scenarioButtonName:rie,scenarioButtonDesc:iie,setupInfo:aie,setupInfoHeader:oie,setupInfoTitle:lie,setupInfoMode:cie,setupInfoRow:die,setupInfoLabel:uie,setupInfoValue:hie,setupInfoMeta:mie,setupInfoPartners:pie,setupInfoBadge:fie,setupInfoEmpty:gie,membersSummary:xie,membersSummaryItem:vie,membersSummaryLabel:yie,membersSummaryValue:bie,maxSlotsInput:_ie,membersTable:wie,membersRow:jie,membersHead:Sie,membersCell:Nie,memberName:kie,memberBadge:Cie,assignmentCell:Tie,assignmentBadge:Eie,assignmentBadgeMain:Aie,assignmentBadgePartner:Iie,assignmentBadgeWatch:Rie,assignmentBadgeIdle:Pie,assignmentActions:Lie,assignmentButton:Die,assignmentButtonActive:Mie,decisionGroup:Fie,decisionButton:Bie,decisionButtonActive:$ie,emptyWrap:Vie,emptyTitle:Oie,emptyText:Uie,contextMenuBackdrop:zie,contextMenu:Hie,contextMenuItem:Gie,partnerPickerCell:Wie,partnerLabel:qie,partnerSelect:Kie};function Qie({members:t,scenario:e,onChangeScenarioDecision:n,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:a}){var C,w,E,L,P,V;const[c,d]=J.useState(null),u=J.useRef(null),h=a.partnerGuilds.length>0?a.partnerGuilds.map(($,W)=>({id:$.id,label:$.name||`Partner ${W+1}`})):[{id:"partner-default",label:"Partner guild"}],p=J.useCallback(($,W)=>{d({memberId:$,...W})},[]),g=J.useCallback(()=>{d(null)},[]),v=J.useCallback(()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},[]),b=J.useCallback(($,W,H)=>{v(),u.current=window.setTimeout(()=>{p($,{x:W,y:H})},550)},[v,p]);J.useEffect(()=>()=>v(),[v]);const j=J.useCallback(($,W,H)=>{if(W==="main")n($,"take"),r($,"main");else if(W==="partner"){const q=H?`partner:${H}`:"partner";n($,"take"),r($,q)}else n($,"bench"),r($,"none");g()},[g,n,r]),I=J.useCallback(($,W)=>{n($,W),W==="take"?r($,"main"):r($,"none")},[n,r]);if(!!!((w=(C=a.baseGuild)==null?void 0:C.name)!=null&&w.trim()&&((L=(E=a.baseGuild)==null?void 0:E.server)!=null&&L.trim())))return s.jsxs("div",{className:Se.emptyWrap,children:[s.jsx("h3",{className:Se.emptyTitle,children:"No base guild configured"}),s.jsx("p",{className:Se.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return s.jsxs("div",{className:Se.emptyWrap,children:[s.jsx("h3",{className:Se.emptyTitle,children:"Members & Slots"}),s.jsx("p",{className:Se.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t||t.length===0)return s.jsxs("div",{className:Se.emptyWrap,children:[s.jsx("h3",{className:Se.emptyTitle,children:"No members found"}),s.jsx("p",{className:Se.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const B=(P=e.decisions)!=null?P:{},D=(V=e.targetGuildAssignments)!=null?V:{},T=t.filter($=>B[$.id]==="take").length,y=t.filter($=>B[$.id]==="bench").length,S=t.filter($=>B[$.id]==="drop").length,M=Math.max(0,e.maxSlots-e.reservedSlots-T);return s.jsxs("div",{className:Se.membersContainer,children:[s.jsx("div",{className:Se.scenarioSwitcher,children:s.jsxs("div",{className:`${Se.scenarioButton} ${Se.scenarioButtonActive}`,children:[s.jsx("span",{className:Se.scenarioButtonName,children:e.name}),e.description?s.jsx("span",{className:Se.scenarioButtonDesc,children:e.description}):null]})}),s.jsxs("div",{className:Se.setupInfo,children:[s.jsxs("div",{className:Se.setupInfoHeader,children:[s.jsx("div",{className:Se.setupInfoTitle,children:"Planning for"}),s.jsx("span",{className:Se.setupInfoMode,children:a.mode==="scan"?"Scan":"Manual"})]}),a.baseGuild?s.jsxs("div",{className:Se.setupInfoRow,children:[s.jsx("span",{className:Se.setupInfoLabel,children:"Base Guild"}),s.jsxs("span",{className:Se.setupInfoValue,children:[a.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:Se.setupInfoMeta,children:["(",a.baseGuild.server||"Server n/a",")"]})]})]}):s.jsx("div",{className:Se.setupInfoEmpty,children:"No base guild selected in Setup tab."}),s.jsxs("div",{className:Se.setupInfoRow,children:[s.jsx("span",{className:Se.setupInfoLabel,children:"Partner Guilds"}),a.partnerGuilds.length?s.jsx("div",{className:Se.setupInfoPartners,children:a.partnerGuilds.map($=>s.jsxs("span",{className:Se.setupInfoBadge,children:[$.name||"Unbenannt",s.jsxs("span",{className:Se.setupInfoMeta,children:[" (",$.server||"Server n/a",")"]})]},$.id))}):s.jsx("span",{className:Se.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),s.jsxs("div",{className:Se.membersSummary,children:[s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Selected"}),s.jsxs("div",{className:Se.membersSummaryValue,children:[T," / ",e.maxSlots]})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Free slots"}),s.jsx("div",{className:Se.membersSummaryValue,children:M})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Bench"}),s.jsx("div",{className:Se.membersSummaryValue,children:y})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Drop"}),s.jsx("div",{className:Se.membersSummaryValue,children:S})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Reserved"}),s.jsx("div",{className:Se.membersSummaryValue,children:e.reservedSlots})]}),s.jsxs("div",{className:Se.membersSummaryItem,children:[s.jsx("div",{className:Se.membersSummaryLabel,children:"Max slots"}),s.jsx("input",{type:"number",className:Se.maxSlotsInput,value:e.maxSlots,min:0,onChange:$=>i(Number($.target.value))})]})]}),s.jsxs("div",{className:Se.membersTable,children:[s.jsxs("div",{className:`${Se.membersRow} ${Se.membersHead}`,children:[s.jsx("div",{className:Se.membersCell,children:"Name"}),s.jsx("div",{className:Se.membersCell,children:"Level"}),s.jsx("div",{className:Se.membersCell,children:"Guild"}),s.jsx("div",{className:Se.membersCell,children:"Class"}),s.jsx("div",{className:Se.membersCell,children:"Plan"}),s.jsx("div",{className:Se.membersCell,children:"Decision"}),s.jsx("div",{className:Se.membersCell,children:"Partner"})]}),t.map($=>{var re,z,se,ce,ee,fe,Te,xe,Ce;const W=(re=B[$.id])!=null?re:"undecided",H=(z=D[$.id])!=null?z:"none",q=H&&H.toString().startsWith("partner:")?H.split(":")[1]:null,Q=(fe=(se=h.find(Ne=>Ne.id===q))==null?void 0:se.label)!=null?fe:H==="partner"?(ee=(ce=h[0])==null?void 0:ce.label)!=null?ee:"Partner guild":null,G=W==="take"&&H==="main"?"main":W==="take"&&(H==="partner"||q)?"partner":W==="bench"?"watch":"unassigned",te=G==="main"?"Main guild":G==="partner"?Q||"Partner guild":G==="watch"?"Watchlist":"Not planned";return s.jsxs("div",{className:Se.membersRow,onContextMenu:Ne=>{Ne.preventDefault(),p($.id,{x:Ne.clientX,y:Ne.clientY})},onTouchStart:Ne=>{const ue=Ne.touches[0];ue&&b($.id,ue.clientX,ue.clientY)},onTouchEnd:v,onTouchCancel:v,children:[s.jsx("div",{className:Se.membersCell,children:s.jsx("div",{className:Se.memberName,children:$.name})}),s.jsx("div",{className:Se.membersCell,children:s.jsxs("span",{className:Se.memberBadge,children:["Lvl ",$.level]})}),s.jsx("div",{className:Se.membersCell,children:$.guildName}),s.jsx("div",{className:Se.membersCell,children:(xe=(Te=$.className)!=null?Te:$.class)!=null?xe:"?"}),s.jsxs("div",{className:`${Se.membersCell} ${Se.assignmentCell}`,children:[s.jsx("span",{className:`${Se.assignmentBadge} ${G==="main"?Se.assignmentBadgeMain:G==="partner"?Se.assignmentBadgePartner:G==="watch"?Se.assignmentBadgeWatch:Se.assignmentBadgeIdle}`,children:te}),s.jsxs("div",{className:Se.assignmentActions,role:"group","aria-label":"Target guild selection",children:[s.jsx("button",{type:"button",className:`${Se.assignmentButton} ${G==="main"?Se.assignmentButtonActive:""}`,onClick:()=>j($.id,"main"),children:"Main"}),s.jsx("button",{type:"button",className:`${Se.assignmentButton} ${G==="watch"?Se.assignmentButtonActive:""}`,onClick:()=>j($.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",className:`${Se.assignmentButton} ${G==="partner"?Se.assignmentButtonActive:""}`,onClick:()=>j($.id,"partner"),children:"Partner"})]})]}),s.jsx("div",{className:Se.membersCell,children:s.jsx("div",{className:Se.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(Ne=>s.jsx("button",{type:"button",className:`${Se.decisionButton} ${W===Ne?Se.decisionButtonActive:""}`,onClick:()=>I($.id,Ne),children:Ne==="take"?"Take":Ne==="bench"?"Bench":Ne==="drop"?"Drop":"?"},Ne))})}),s.jsxs("div",{className:`${Se.membersCell} ${Se.partnerPickerCell}`,children:[s.jsx("label",{className:Se.partnerLabel,htmlFor:`partner-select-${$.id}`,children:"Partner"}),s.jsx("select",{id:`partner-select-${$.id}`,className:Se.partnerSelect,value:q!=null?q:(Ce=h[0])==null?void 0:Ce.id,onChange:Ne=>j($.id,"partner",Ne.target.value),children:h.map(Ne=>s.jsx("option",{value:Ne.id,children:Ne.label},Ne.id))})]})]},$.id)})]}),c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Se.contextMenuBackdrop,onClick:g}),s.jsxs("div",{className:Se.contextMenu,style:{top:c.y,left:c.x},children:[s.jsx("button",{type:"button",className:Se.contextMenuItem,onClick:()=>j(c.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:Se.contextMenuItem,onClick:()=>j(c.memberId,"watch"),children:"Move to Watchlist"}),h.map($=>s.jsxs("button",{type:"button",className:Se.contextMenuItem,onClick:()=>j(c.memberId,"partner",$.id),children:["Move to ",$.label]},$.id))]})]}):null]})}const Xie="_overview_6ytw3_1",Yie="_contextBox_6ytw3_15",Jie="_contextKicker_6ytw3_35",Zie="_contextTitle_6ytw3_51",eae="_contextText_6ytw3_61",tae="_contextDetails_6ytw3_71",sae="_detailItem_6ytw3_85",nae="_detailLabel_6ytw3_99",rae="_detailValue_6ytw3_113",iae="_kpiGrid_6ytw3_121",aae="_kpiCard_6ytw3_133",oae="_kpiLabel_6ytw3_153",lae="_kpiValue_6ytw3_167",cae="_columnsWrapper_6ytw3_177",dae="_column_6ytw3_177",uae="_columnDropTarget_6ytw3_213",hae="_columnHeader_6ytw3_223",mae="_columnKicker_6ytw3_235",pae="_columnTitle_6ytw3_251",fae="_columnCount_6ytw3_259",gae="_columnBody_6ytw3_281",xae="_memberCard_6ytw3_293",vae="_memberTop_6ytw3_337",yae="_memberName_6ytw3_349",bae="_memberMeta_6ytw3_357",_ae="_memberBadge_6ytw3_369",wae="_memberBottom_6ytw3_395",jae="_memberGuild_6ytw3_409",Sae="_memberServer_6ytw3_419",Nae="_memberActions_6ytw3_427",kae="_emptyList_6ytw3_469",Cae="_emptyWrap_6ytw3_487",Tae="_emptyTitle_6ytw3_501",Eae="_emptyText_6ytw3_509",Aae="_addPartnerCard_6ytw3_519",Iae="_contextMenuBackdrop_6ytw3_559",Rae="_contextMenu_6ytw3_559",Pae="_contextMenuItem_6ytw3_601",ze={overview:Xie,contextBox:Yie,contextKicker:Jie,contextTitle:Zie,contextText:eae,contextDetails:tae,detailItem:sae,detailLabel:nae,detailValue:rae,kpiGrid:iae,kpiCard:aae,kpiLabel:oae,kpiValue:lae,columnsWrapper:cae,column:dae,columnDropTarget:uae,columnHeader:hae,columnKicker:mae,columnTitle:pae,columnCount:fae,columnBody:gae,memberCard:xae,memberTop:vae,memberName:yae,memberMeta:bae,memberBadge:_ae,memberBottom:wae,memberGuild:jae,memberServer:Sae,memberActions:Nae,emptyList:kae,emptyWrap:Cae,emptyTitle:Tae,emptyText:Eae,addPartnerCard:Aae,contextMenuBackdrop:Iae,contextMenu:Rae,contextMenuItem:Pae};function Lae({members:t,scenario:e,setupState:n,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i,onAddPartnerGuild:a}){var H,q,Q;const c=(H=e==null?void 0:e.decisions)!=null?H:{},d=(q=e==null?void 0:e.targetGuildAssignments)!=null?q:{},u=n.partnerGuilds.length>0?n.partnerGuilds.map((G,te)=>({id:G.id,label:G.name||`Partner ${te+1}`})):[{id:"partner-default",label:"Partner guild"}],h=t.filter(G=>c[G.id]==="take"&&d[G.id]==="main"),p=t.filter(G=>c[G.id]==="bench"),g=u.reduce((G,te)=>(G[te.id]=t.filter(re=>{const z=d[re.id];return c[re.id]==="take"&&(z===`partner:${te.id}`||z==="partner")}),G),{}),v=t.filter(G=>!h.includes(G)&&!p.includes(G)&&!Object.values(g).some(te=>te.includes(G))),[b,j]=J.useState(null),[I,A]=J.useState(null),B=J.useRef(null),D=t.length,T=h.length,y=p.length,S=Object.values(g).reduce((G,te)=>G+te.length,0),M=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-T-S):0,C=J.useCallback((G,te,re)=>{G&&(te==="main"?(r(G,"take"),i(G,"main")):te==="partner"?(r(G,"take"),i(G,re?`partner:${re}`:"partner")):te==="unassigned"?(r(G,"undecided"),i(G,"none")):(r(G,"bench"),i(G,"none")),A(null))},[r,i]),w=J.useCallback((G,te)=>re=>{re.preventDefault();const z=re.dataTransfer.getData("text/plain");z&&C(z,G,te),j(null)},[C]),E=J.useCallback(G=>te=>{te.preventDefault(),j(G)},[]),L=J.useCallback(()=>j(null),[]),P=J.useCallback((G,te)=>{A({memberId:G,...te})},[]),V=J.useCallback(()=>{B.current!==null&&(window.clearTimeout(B.current),B.current=null)},[]),$=J.useCallback((G,te,re)=>{V(),B.current=window.setTimeout(()=>{P(G,{x:te,y:re})},550)},[V,P]);if(J.useEffect(()=>()=>V(),[V]),!e)return s.jsxs("div",{className:ze.emptyWrap,children:[s.jsx("h3",{className:ze.emptyTitle,children:"Overview"}),s.jsx("p",{className:ze.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t.length)return s.jsxs("div",{className:ze.emptyWrap,children:[s.jsx("h3",{className:ze.emptyTitle,children:"No members loaded"}),s.jsx("p",{className:ze.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const W=(G,te,re,z,se)=>s.jsxs("div",{className:`${ze.column} ${b===G?ze.columnDropTarget:""}`,onDragOver:E(G),onDragEnter:E(G),onDragLeave:L,onDrop:w(G,se),children:[s.jsxs("div",{className:ze.columnHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ze.columnKicker,children:re}),s.jsx("h4",{className:ze.columnTitle,children:te})]}),s.jsx("span",{className:ze.columnCount,children:z.length})]}),s.jsx("div",{className:ze.columnBody,children:z.length?z.map(ce=>{var ee,fe,Te,xe;return s.jsxs("div",{className:ze.memberCard,draggable:!0,onDragStart:Ce=>Ce.dataTransfer.setData("text/plain",ce.id),onContextMenu:Ce=>{Ce.preventDefault(),P(ce.id,{x:Ce.clientX,y:Ce.clientY})},onTouchStart:Ce=>{const Ne=Ce.touches[0];Ne&&$(ce.id,Ne.clientX,Ne.clientY)},onTouchEnd:V,onTouchCancel:V,children:[s.jsxs("div",{className:ze.memberTop,children:[s.jsxs("div",{children:[s.jsx("div",{className:ze.memberName,children:ce.name}),s.jsxs("p",{className:ze.memberMeta,children:[(fe=(ee=ce.className)!=null?ee:ce.class)!=null?fe:"Unknown","  ",(Te=ce.role)!=null?Te:"Unknown"]})]}),s.jsxs("span",{className:ze.memberBadge,children:["Lvl ",(xe=ce.level)!=null?xe:"?"]})]}),s.jsxs("div",{className:ze.memberBottom,children:[s.jsxs("span",{className:ze.memberGuild,children:[ce.guildName," ",s.jsxs("span",{className:ze.memberServer,children:["(",ce.server||"Server n/a",")"]})]}),s.jsxs("div",{className:ze.memberActions,children:[s.jsx("button",{type:"button",onClick:()=>C(ce.id,"main"),children:"Main"}),s.jsx("button",{type:"button",onClick:()=>C(ce.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",onClick:()=>C(ce.id,"partner"),children:"Partner"})]})]})]},ce.id)}):s.jsx("div",{className:ze.emptyList,children:"No players in this list yet."})})]});return s.jsxs("div",{className:ze.overview,children:[s.jsxs("div",{className:ze.contextBox,children:[s.jsxs("div",{children:[s.jsx("p",{className:ze.contextKicker,children:"Setup"}),s.jsx("h3",{className:ze.contextTitle,children:"Fusion Overview"}),s.jsx("p",{className:ze.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),s.jsxs("div",{className:ze.contextDetails,children:[s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Base Guild"}),s.jsx("strong",{className:ze.detailValue,children:((Q=n.baseGuild)==null?void 0:Q.name)||"Unbenannt"})]}),s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Partner Guilds"}),s.jsx("strong",{className:ze.detailValue,children:n.partnerGuilds.length})]}),s.jsxs("div",{className:ze.detailItem,children:[s.jsx("span",{className:ze.detailLabel,children:"Max Slots"}),s.jsx("strong",{className:ze.detailValue,children:e.maxSlots})]})]})]}),s.jsxs("div",{className:ze.kpiGrid,children:[s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Total players"}),s.jsx("strong",{className:ze.kpiValue,children:D})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Main guild"}),s.jsx("strong",{className:ze.kpiValue,children:T})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Watchlist"}),s.jsx("strong",{className:ze.kpiValue,children:y})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Partner guild"}),s.jsx("strong",{className:ze.kpiValue,children:S})]}),s.jsxs("div",{className:ze.kpiCard,children:[s.jsx("span",{className:ze.kpiLabel,children:"Free slots"}),s.jsx("strong",{className:ze.kpiValue,children:M})]})]}),s.jsxs("div",{className:ze.columnsWrapper,children:[W("unassigned","Unassigned","Noch ohne Planung",v),W("main","Main guild","Take & Assign main",h),W("watch","Watchlist","Bench for review",p),u.map(G=>{var te;return W("partner",G.label,"Take & Assign partner",(te=g[G.id])!=null?te:[],G.id)}),s.jsx("button",{type:"button",className:ze.addPartnerCard,onClick:()=>a(`Partner ${u.length+1}`),children:"+ Partner guild"})]}),I?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ze.contextMenuBackdrop,onClick:()=>A(null)}),s.jsxs("div",{className:ze.contextMenu,style:{top:I.y,left:I.x},children:[s.jsx("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(I.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(I.memberId,"watch"),children:"Move to Watchlist"}),u.map(G=>s.jsxs("button",{type:"button",className:ze.contextMenuItem,onClick:()=>C(I.memberId,"partner",G.id),children:["Move to ",G.label]},G.id))]})]}):null]})}const Dae="_scenariosTab_3v4iw_1",Mae="_scenariosHeader_3v4iw_13",Fae="_scenariosTitle_3v4iw_35",Bae="_scenariosText_3v4iw_45",$ae="_scenarioInfo_3v4iw_57",Vae="_headerActions_3v4iw_71",Oae="_createButton_3v4iw_81",Uae="_scenarioList_3v4iw_115",zae="_scenarioCard_3v4iw_127",Hae="_scenarioCardActive_3v4iw_147",Gae="_scenarioCardTop_3v4iw_157",Wae="_cardKicker_3v4iw_169",qae="_cardTitle_3v4iw_185",Kae="_cardText_3v4iw_197",Qae="_scenarioActiveBadge_3v4iw_209",Xae="_scenarioMeta_3v4iw_231",Yae="_scenarioMetaLabel_3v4iw_243",Jae="_scenarioMetaValue_3v4iw_259",Zae="_scenarioStats_3v4iw_269",eoe="_scenarioStatItem_3v4iw_281",toe="_scenarioStatLabel_3v4iw_295",soe="_scenarioStatValue_3v4iw_311",noe="_scenarioActions_3v4iw_321",roe="_scenarioActionButton_3v4iw_337",ioe="_scenarioActionActive_3v4iw_367",aoe="_scenarioActionGroup_3v4iw_377",ooe="_secondaryActionButton_3v4iw_389",loe="_deleteActionButton_3v4iw_391",coe="_deleteActionDisabled_3v4iw_443",dt={scenariosTab:Dae,scenariosHeader:Mae,scenariosTitle:Fae,scenariosText:Bae,scenarioInfo:$ae,headerActions:Vae,createButton:Oae,scenarioList:Uae,scenarioCard:zae,scenarioCardActive:Hae,scenarioCardTop:Gae,cardKicker:Wae,cardTitle:qae,cardText:Kae,scenarioActiveBadge:Qae,scenarioMeta:Xae,scenarioMetaLabel:Yae,scenarioMetaValue:Jae,scenarioStats:Zae,scenarioStatItem:eoe,scenarioStatLabel:toe,scenarioStatValue:soe,scenarioActions:noe,scenarioActionButton:roe,scenarioActionActive:ioe,scenarioActionGroup:aoe,secondaryActionButton:ooe,deleteActionButton:loe,deleteActionDisabled:coe};function doe({scenarios:t,activeScenarioId:e,onSetActiveScenario:n,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:a,onDeleteScenario:c}){const d=J.useCallback(p=>{const g=Object.values(p.decisions),v=g.filter(A=>A==="take").length,b=g.filter(A=>A==="bench").length,j=g.filter(A=>A==="drop").length,I=Math.max(0,p.maxSlots-p.reservedSlots-v);return{selected:v,bench:b,drop:j,free:I}},[]),u=p=>{const g=window.prompt("Neuer Szenario-Name",p.name);g!==null&&a(p.id,g)},h=p=>{if(t.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&c(p.id)};return s.jsxs("div",{className:dt.scenariosTab,children:[s.jsxs("div",{className:dt.scenariosHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:dt.cardKicker,children:"Scenarios"}),s.jsx("h3",{className:dt.scenariosTitle,children:"Fusion Plans verwalten"}),s.jsx("p",{className:dt.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),s.jsx("div",{className:dt.headerActions,children:s.jsx("button",{type:"button",className:dt.createButton,onClick:r,children:"Neues Szenario"})})]}),s.jsx("p",{className:dt.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),s.jsx("div",{className:dt.scenarioList,children:t.map(p=>{const g=d(p),v=p.id===e,b=t.length<=1;return s.jsxs("article",{className:`${dt.scenarioCard} ${v?dt.scenarioCardActive:""}`,children:[s.jsxs("div",{className:dt.scenarioCardTop,children:[s.jsxs("div",{children:[s.jsx("p",{className:dt.cardKicker,children:"Scenario"}),s.jsx("h3",{className:dt.cardTitle,children:p.name}),p.description?s.jsx("p",{className:dt.cardText,children:p.description}):null]}),v?s.jsx("span",{className:dt.scenarioActiveBadge,children:"Active"}):null]}),s.jsxs("div",{className:dt.scenarioMeta,children:[s.jsxs("div",{children:[s.jsx("span",{className:dt.scenarioMetaLabel,children:"Max slots"}),s.jsx("span",{className:dt.scenarioMetaValue,children:p.maxSlots})]}),s.jsxs("div",{children:[s.jsx("span",{className:dt.scenarioMetaLabel,children:"Reserved"}),s.jsx("span",{className:dt.scenarioMetaValue,children:p.reservedSlots})]})]}),s.jsxs("div",{className:dt.scenarioStats,children:[s.jsxs("div",{className:dt.scenarioStatItem,children:[s.jsx("span",{className:dt.scenarioStatLabel,children:"Selected"}),s.jsx("strong",{className:dt.scenarioStatValue,children:g.selected})]}),s.jsxs("div",{className:dt.scenarioStatItem,children:[s.jsx("span",{className:dt.scenarioStatLabel,children:"Free"}),s.jsx("strong",{className:dt.scenarioStatValue,children:g.free})]}),s.jsxs("div",{className:dt.scenarioStatItem,children:[s.jsx("span",{className:dt.scenarioStatLabel,children:"Bench"}),s.jsx("strong",{className:dt.scenarioStatValue,children:g.bench})]}),s.jsxs("div",{className:dt.scenarioStatItem,children:[s.jsx("span",{className:dt.scenarioStatLabel,children:"Drop"}),s.jsx("strong",{className:dt.scenarioStatValue,children:g.drop})]})]}),s.jsxs("div",{className:dt.scenarioActions,children:[s.jsx("button",{type:"button",className:`${dt.scenarioActionButton} ${v?dt.scenarioActionActive:""}`,onClick:()=>n(p.id),children:"Set active"}),s.jsxs("div",{className:dt.scenarioActionGroup,children:[s.jsx("button",{type:"button",className:dt.secondaryActionButton,onClick:()=>i(p.id),children:"Duplicate"}),s.jsx("button",{type:"button",className:dt.secondaryActionButton,onClick:()=>u(p),children:"Rename"}),s.jsx("button",{type:"button",className:`${dt.deleteActionButton} ${b?dt.deleteActionDisabled:""}`,onClick:()=>h(p),disabled:b,children:"Delete"})]})]})]},p.id)})})]})}const uoe="_resultWrap_179wi_1",hoe="_emptyState_179wi_13",moe="_emptyTitle_179wi_35",poe="_emptyText_179wi_43",foe="_resultHeader_179wi_55",goe="_resultKicker_179wi_79",xoe="_resultTitle_179wi_95",voe="_resultText_179wi_107",yoe="_emptyNote_179wi_119",boe="_setupSummary_179wi_131",_oe="_setupSummaryTitle_179wi_149",woe="_setupSummaryRow_179wi_159",joe="_setupSummaryLabel_179wi_171",Soe="_setupSummaryValue_179wi_185",Noe="_setupSummaryMeta_179wi_195",koe="_setupSummaryTags_179wi_205",Coe="_setupSummaryTag_179wi_205",Toe="_classDistribution_179wi_241",Eoe="_resultStats_179wi_253",Aoe="_resultStatBadge_179wi_267",Ioe="_resultStatBadgeMuted_179wi_269",Roe="_group_179wi_307",Poe="_groupHeader_179wi_327",Loe="_groupTitle_179wi_341",Doe="_groupHint_179wi_351",Moe="_groupBadge_179wi_361",Foe="_badgeSuccess_179wi_387",Boe="_badgeMuted_179wi_399",$oe="_badgeDanger_179wi_409",Voe="_groupEmpty_179wi_421",Ooe="_groupTable_179wi_437",Uoe="_groupRow_179wi_455",zoe="_groupHead_179wi_327",Hoe="_groupCell_179wi_491",Goe="_memberName_179wi_501",Woe="_memberBadge_179wi_509",Ge={resultWrap:uoe,emptyState:hoe,emptyTitle:moe,emptyText:poe,resultHeader:foe,resultKicker:goe,resultTitle:xoe,resultText:voe,emptyNote:yoe,setupSummary:boe,setupSummaryTitle:_oe,setupSummaryRow:woe,setupSummaryLabel:joe,setupSummaryValue:Soe,setupSummaryMeta:Noe,setupSummaryTags:koe,setupSummaryTag:Coe,classDistribution:Toe,resultStats:Eoe,resultStatBadge:Aoe,resultStatBadgeMuted:Ioe,group:Roe,groupHeader:Poe,groupTitle:Loe,groupHint:Doe,groupBadge:Moe,badgeSuccess:Foe,badgeMuted:Boe,badgeDanger:$oe,groupEmpty:Voe,groupTable:Ooe,groupRow:Uoe,groupHead:zoe,groupCell:Hoe,memberName:Goe,memberBadge:Woe};function qoe({members:t,scenario:e,setupState:n}){var j;if(!e)return s.jsxs("div",{className:Ge.emptyState,children:[s.jsx("h3",{className:Ge.emptyTitle,children:"No scenario selected"}),s.jsx("p",{className:Ge.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!t||t.length===0)return s.jsxs("div",{className:Ge.emptyState,children:[s.jsx("h3",{className:Ge.emptyTitle,children:"No members available"}),s.jsx("p",{className:Ge.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:a,undecidedMembers:c}=J.useMemo(()=>{const I=[],A=[],B=[],D=[];return t.forEach(T=>{var S;const y=(S=e.decisions[T.id])!=null?S:"undecided";y==="take"?I.push(T):y==="bench"?A.push(T):y==="drop"?B.push(T):D.push(T)}),{takeMembers:I,benchMembers:A,dropMembers:B,undecidedMembers:D}},[t,e.decisions]),d=r.length,u=i.length,h=a.length,p=Math.max(0,e.maxSlots-d),g=e.maxSlots?Math.round(d/e.maxSlots*100):0,v=J.useMemo(()=>{const I=r.reduce((B,D)=>{var y,S;const T=(y=D.className)!=null?y:D.class;return T&&(B[T]=((S=B[T])!=null?S:0)+1),B},{});return Object.entries(I).map(([B,D])=>`${B}: ${D}`).join(" | ")},[r]),b=(I,A,B,D)=>s.jsxs("div",{className:Ge.group,children:[s.jsxs("div",{className:Ge.groupHeader,children:[s.jsxs("div",{children:[s.jsx("h4",{className:Ge.groupTitle,children:I}),s.jsx("span",{className:Ge.groupHint,children:A})]}),s.jsx("span",{className:`${Ge.groupBadge} ${D}`,children:B.length})]}),B.length===0?s.jsx("div",{className:Ge.groupEmpty,children:"No players in this group."}):s.jsxs("div",{className:Ge.groupTable,role:"table",children:[s.jsxs("div",{className:`${Ge.groupRow} ${Ge.groupHead}`,role:"row",children:[s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Name"}),s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Level"}),s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Guild"}),s.jsx("div",{className:Ge.groupCell,role:"columnheader",children:"Class"})]}),B.map(T=>{var y,S;return s.jsxs("div",{className:Ge.groupRow,role:"row",children:[s.jsx("div",{className:Ge.groupCell,role:"cell",children:s.jsx("span",{className:Ge.memberName,children:T.name})}),s.jsx("div",{className:Ge.groupCell,role:"cell",children:s.jsxs("span",{className:Ge.memberBadge,children:["Lvl ",T.level]})}),s.jsx("div",{className:Ge.groupCell,role:"cell",children:T.guildName}),s.jsx("div",{className:Ge.groupCell,role:"cell",children:(S=(y=T.className)!=null?y:T.class)!=null?S:"-"})]},T.id)})]})]});return s.jsxs("div",{className:Ge.resultWrap,children:[s.jsxs("div",{className:Ge.resultHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ge.resultKicker,children:"Final Plan"}),s.jsx("h3",{className:Ge.resultTitle,children:e.name}),s.jsx("p",{className:Ge.resultText,children:(j=e.description)!=null?j:"Zusammenfassung des aktuellen Plans."}),r.length===0?s.jsx("p",{className:Ge.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,v?s.jsxs("p",{className:Ge.classDistribution,children:["Class distribution: ",v]}):null,s.jsxs("div",{className:Ge.setupSummary,children:[s.jsx("div",{className:Ge.setupSummaryTitle,children:"Fusion plan between"}),n.baseGuild?s.jsxs("div",{className:Ge.setupSummaryRow,children:[s.jsx("span",{className:Ge.setupSummaryLabel,children:"Base"}),s.jsxs("span",{className:Ge.setupSummaryValue,children:[n.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:Ge.setupSummaryMeta,children:["(",n.baseGuild.server||"Server n/a",")"]})]})]}):s.jsxs("div",{className:Ge.setupSummaryRow,children:[s.jsx("span",{className:Ge.setupSummaryLabel,children:"Base"}),s.jsx("span",{className:Ge.setupSummaryMeta,children:"No base guild selected."})]}),s.jsxs("div",{className:Ge.setupSummaryRow,children:[s.jsx("span",{className:Ge.setupSummaryLabel,children:"Partners"}),n.partnerGuilds.length?s.jsx("div",{className:Ge.setupSummaryTags,children:n.partnerGuilds.map(I=>s.jsxs("span",{className:Ge.setupSummaryTag,children:[I.name||"Unbenannt"," ",s.jsxs("span",{className:Ge.setupSummaryMeta,children:["(",I.server||"Server n/a",")"]})]},I.id))}):s.jsx("span",{className:Ge.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),s.jsxs("div",{className:Ge.resultStats,children:[s.jsxs("span",{className:Ge.resultStatBadge,children:["Members selected: ",d," / ",e.maxSlots]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Bench: ",u]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Drop: ",h]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Free slots: ",p]}),s.jsxs("span",{className:Ge.resultStatBadge,children:["Utilization: ",g,"%"]}),c.length>0?s.jsxs("span",{className:Ge.resultStatBadgeMuted,children:["Undecided: ",c.length]}):null]})]}),b("Final roster (selected)","Take",r,Ge.badgeSuccess),b("Bench (waiting list)","Bench",i,Ge.badgeMuted),b("Not included","Drop",a,Ge.badgeDanger)]})}const Km=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],Yj=t=>t.reduce((e,n)=>(e[n.id]="undecided",e),{}),Jj=t=>t.reduce((e,n)=>(e[n.id]="none",e),{}),Koe=(t,e,n)=>{var r,i,a,c,d,u,h,p,g,v,b,j,I,A,B,D;return{id:t.id,name:(r=t.name)!=null?r:"Unknown",class:(i=t.class)!=null?i:"Unknown",className:(a=t.class)!=null?a:void 0,role:(c=t.role)!=null?c:"Unknown",level:(d=t.level)!=null?d:void 0,guildName:e,server:n,scrapbook:void 0,lastOnline:(u=t.lastActivityMs)!=null?u:null,baseStats:{main:(h=t.baseMain)!=null?h:void 0,con:(p=t.conBase)!=null?p:void 0,sumBaseTotal:(g=t.sumBaseTotal)!=null?g:void 0},totalStats:(v=t.totalStats)!=null?v:void 0,values:{treasury:(b=t.treasury)!=null?b:void 0,mine:(j=t.mine)!=null?j:void 0,attrTotal:(I=t.attrTotal)!=null?I:void 0,conTotal:(A=t.conTotal)!=null?A:void 0,lastScan:(B=t.lastScan)!=null?B:void 0,lastActivity:(D=t.lastActivity)!=null?D:void 0}}},Qoe=t=>{var r,i;if(!t)return null;const e=(r=t.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const n=(i=t.name)==null?void 0:i.trim();return n||null},Zj=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,eS=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],Xoe=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function Yoe(){var $;const[t,e]=J.useState("setup"),[n,r]=J.useState(Km),[i,a]=J.useState(!1),[c,d]=J.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[u,h]=J.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:Yj(Km),targetGuildAssignments:Jj(Km),isDefault:!0}]),[p,g]=J.useState("plan-a"),v=J.useMemo(()=>{var W,H;return(H=(W=u.find(q=>q.id===p))!=null?W:u[0])!=null?H:null},[p,u]),b=J.useMemo(()=>{var Q,G;const W=c.baseGuild,H=(Q=W==null?void 0:W.name)==null?void 0:Q.trim(),q=(G=W==null?void 0:W.server)==null?void 0:G.trim();return!!(H&&q)},[c.baseGuild]),j=J.useMemo(()=>n.length>0,[n.length]),I=J.useMemo(()=>u.length>0,[u.length]),A=J.useMemo(()=>{const W=[];return b||W.push("Setup incomplete - no base guild selected."),b&&!j&&W.push("No members loaded yet. Check scans or setup."),I||W.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),W},[b,j,I]),B=(W,H)=>{h(q=>q.map(Q=>Q.id===p?{...Q,decisions:{...Q.decisions,[W]:H}}:Q))},D=(W,H)=>{h(q=>q.map(Q=>{var G;return Q.id===p?{...Q,targetGuildAssignments:{...(G=Q.targetGuildAssignments)!=null?G:{},[W]:H}}:Q}))},T=W=>{const H=Number(W)||0;h(q=>q.map(Q=>Q.id===p?{...Q,maxSlots:Math.max(0,H)}:Q))},y=()=>{h(W=>{const H={id:Zj(),name:`Plan ${W.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:Yj(n),targetGuildAssignments:Jj(n)};return g(H.id),[...W,H]})},S=W=>{h(H=>{var G;const q=H.find(te=>te.id===W);if(!q)return H;const Q={...q,id:Zj(),name:`${q.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...q.decisions},targetGuildAssignments:{...(G=q.targetGuildAssignments)!=null?G:{}}};return g(Q.id),[...H,Q]})},M=(W,H)=>{const q=H.trim();q&&h(Q=>Q.map(G=>G.id===W?{...G,name:q}:G))},C=W=>{h(H=>{if(H.length<=1)return H;const q=H.filter(Q=>Q.id!==W);return q.length?(p===W&&g(q[0].id),q):H})};J.useEffect(()=>{if(c.mode!=="scan"){a(!1),r(Km);return}const W=[c.baseGuild,...c.partnerGuilds].filter(Boolean);if(W.length===0){a(!1),r([]);return}let H=!1;async function q(){var Q,G,te,re,z,se,ce,ee,fe,Te;a(!0);try{const xe=[];for(const Ce of W){const Ne=Qoe(Ce);if(!Ne)continue;const ue=fs(Pt,`guilds/${Ne}/latest/latest`),De=await mr(ue),Ae=De.exists()?De.data():null,nt=(z=(re=(G=(Q=Ce.name)==null?void 0:Q.trim())!=null?G:Ae==null?void 0:Ae.name)!=null?re:(te=Ae==null?void 0:Ae.values)==null?void 0:te.Name)!=null?z:Ne,ht=(Te=(fe=(ce=(se=Ce.server)==null?void 0:se.trim())!=null?ce:Ae==null?void 0:Ae.server)!=null?fe:(ee=Ae==null?void 0:Ae.values)==null?void 0:ee.Server)!=null?Te:null,ns=fs(Pt,`guilds/${Ne}/snapshots/members_summary`),Gs=await mr(ns);if(!Gs.exists())continue;const Ws=Gs.data();(Array.isArray(Ws.members)?Ws.members:[]).forEach(qs=>{xe.push(Koe(qs,nt,ht))})}H||r(xe)}catch(xe){console.error("[FusionPlanner] Failed to load members",xe),H||r([])}finally{H||a(!1)}}return r([]),q(),()=>{H=!0}},[c.baseGuild,c.partnerGuilds,c.mode]),J.useEffect(()=>{i||h(W=>W.map(H=>{var te;const q=new Set(n.map(re=>re.id)),Q={...H.decisions},G={...(te=H.targetGuildAssignments)!=null?te:{}};return n.forEach(re=>{Q[re.id]||(Q[re.id]="undecided"),G[re.id]||(G[re.id]="none")}),Object.keys(Q).forEach(re=>{q.has(re)||delete Q[re]}),Object.keys(G).forEach(re=>{q.has(re)||delete G[re]}),{...H,decisions:Q,targetGuildAssignments:G}}))},[n,i]);const w=W=>{d(H=>({...H,mode:W}))},E=W=>{d(H=>{var Q,G,te;const q=(Q=H.baseGuild)!=null?Q:{id:"base-1",kind:"base",name:"",server:""};return{...H,baseGuild:{...q,...W.id?{id:W.id}:{},name:(G=W.name)!=null?G:q.name,server:(te=W.server)!=null?te:q.server}}})},L=W=>{var G;if(!W.name.trim()||!W.server.trim())return;const H=W.name.trim(),q=W.server.trim(),Q=(G=W.id)==null?void 0:G.trim();d(te=>({...te,partnerGuilds:[...te.partnerGuilds,{id:Q&&!Q.startsWith("partner-")?Q:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:H,server:q,kind:"partner"}]}))},P=W=>{d(H=>({...H,partnerGuilds:H.partnerGuilds.filter(q=>q.id!==W)}))},V=()=>{switch(t){case"setup":return s.jsx(Zre,{setupState:c,onChangeMode:w,onChangeBaseGuild:E,onAddPartnerGuild:L,onRemovePartnerGuild:P});case"members":return s.jsx(Qie,{members:n,scenario:v,onChangeScenarioDecision:B,onChangeScenarioTargetGuild:D,onChangeScenarioMaxSlots:T,setupState:c});case"overview":return s.jsx(Lae,{members:n,scenario:v,setupState:c,onChangeScenarioDecision:B,onChangeScenarioTargetGuild:D,onAddPartnerGuild:W=>L({name:W,server:"tbd"})});case"scenarios":return s.jsx(doe,{scenarios:u,activeScenarioId:p,onSetActiveScenario:g,onCreateScenario:y,onDuplicateScenario:S,onRenameScenario:M,onDeleteScenario:C});case"result":return s.jsx(qoe,{members:n,scenario:v,setupState:c});default:return null}};return s.jsx(vt,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:s.jsxs("div",{className:We.page,children:[s.jsxs("header",{className:We.header,children:[s.jsxs("div",{className:We.headerLeading,children:[s.jsx(Ft,{to:"/guild-hub",className:We.backLink,children:"Back to Guild Hub"}),s.jsxs("div",{className:We.headerStack,children:[s.jsx("p",{className:We.kicker,children:"Guild Hub"}),s.jsx("h1",{className:We.title,children:"Fusion Planner"}),s.jsx("p",{className:We.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),s.jsxs("div",{className:We.headerActions,children:[s.jsx("button",{type:"button",className:We.primaryAction,children:"Neues Setup"}),s.jsx("button",{type:"button",className:We.secondaryAction,children:"Checkliste"})]})]}),A.length?s.jsx("div",{className:We.plannerNotice,role:"status","aria-live":"polite",children:A.map(W=>s.jsxs("div",{className:`${We.noticeItem} ${W.toLowerCase().includes("no base guild")?We.noticeWarning:""}`,children:[s.jsx("span",{className:We.noticeDot,"aria-hidden":!0}),s.jsx("span",{children:W})]},W))}):null,s.jsxs("section",{className:We.tabSection,"aria-label":"Fusion Planner Tabs",children:[s.jsx("div",{className:We.tabBar,children:eS.map(W=>{const H=W.key===t;return s.jsxs("button",{type:"button",className:`${We.tabItem} ${H?We.tabItemActive:""}`,onClick:()=>e(W.key),"aria-pressed":H,children:[s.jsx("span",{className:We.tabLabel,children:W.label}),s.jsx("span",{className:We.tabHelper,children:W.helper})]},W.key)})}),s.jsxs("div",{className:We.tabPanel,children:[s.jsx("span",{className:We.tabBadge,children:($=eS.find(W=>W.key===t))==null?void 0:$.label}),V()]})]}),s.jsxs("section",{className:We.infoStrip,children:[s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Status"}),s.jsx("strong",{children:"Entwurf"}),s.jsx("p",{className:We.infoHint,children:"Bereit fuer weitere Eingaben."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Slots geplant"}),s.jsx("strong",{children:"0 / 40"}),s.jsx("p",{className:We.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Szenarien"}),s.jsx("strong",{children:"3"}),s.jsx("p",{className:We.infoHint,children:"Baseline, Optimistic, Risiko."})]}),s.jsxs("div",{className:We.infoBlock,children:[s.jsx("span",{className:We.infoLabel,children:"Letztes Update"}),s.jsx("strong",{children:"vor wenigen Minuten"}),s.jsx("p",{className:We.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),s.jsx("section",{className:We.stageGrid,children:Xoe.map(W=>s.jsxs("article",{className:We.panel,children:[s.jsxs("div",{className:We.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:We.panelKicker,children:W.step}),s.jsx("h2",{className:We.panelTitle,children:W.title}),s.jsx("p",{className:We.panelLead,children:W.description})]}),W.badge?s.jsx("span",{className:We.badge,children:W.badge}):null]}),s.jsx("div",{className:We.panelBody,children:s.jsx("div",{className:We.placeholderGrid,children:W.placeholders.map(H=>s.jsxs("div",{className:We.placeholderCard,children:[s.jsx("div",{className:We.placeholderTitle,children:H}),s.jsx("p",{className:We.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},H))})})]},W.key))}),s.jsx("section",{className:We.helperSection,children:s.jsxs("div",{className:We.helperCard,children:[s.jsxs("div",{children:[s.jsx("p",{className:We.helperKicker,children:"Result"}),s.jsx("h3",{className:We.helperTitle,children:"Finaler Merge-Plan"}),s.jsx("p",{className:We.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),s.jsxs("div",{className:We.helperActions,children:[s.jsx("button",{type:"button",className:We.secondaryAction,children:"Teilen"}),s.jsx("button",{type:"button",className:We.primaryAction,children:"Review starten"})]})]})})]})})}const hy=["EU-01","EU-02","US-01","US-02","ASIA-01"],fu=new Intl.NumberFormat("de-DE");function Joe(){const t=Lc("(min-width: 768px)"),[e,n]=J.useState("all"),[r,i]=J.useState(null),[a,c]=J.useState(null),[d,u]=J.useState(null),[h,p]=J.useState(null),g=[r,a].filter(Boolean).length,v=J.useMemo(()=>{const P=[d,h].filter(Boolean);if(!P.length)return 0;const V=P.reduce(($,W)=>{var H;return $+((H=W.members)!=null?H:0)},0);return Math.round(V/P.length)},[d,h]),[b,j]=J.useState(null),[I,A]=J.useState(!1),B=J.useRef(null);Dc(B,I&&!t),J.useEffect(()=>{t&&A(!1)},[t]),J.useEffect(()=>{if(!b)return;const P=$=>{const W=$.target;W&&(W.closest(`.${ie.freshnessBadge}`)||W.closest(`.${ie.freshnessPopover}`)||j(null))},V=$=>{$.key==="Escape"&&j(null)};return document.addEventListener("pointerdown",P),document.addEventListener("keydown",V),()=>{document.removeEventListener("pointerdown",P),document.removeEventListener("keydown",V)}},[b]);const D=J.useMemo(()=>d?Fu(d.nextUpdateAt,Date.now()):"",[d]),T=J.useMemo(()=>h?Fu(h.nextUpdateAt,Date.now()):"",[h]),y=()=>A(!0),S=()=>A(!1),M=P=>{n(P)},C=(P,V)=>{P==="guildA"?(i(V.id),u(V)):(c(V.id),p(V))},w=P=>{P==="guildA"?(i(null),u(null)):(c(null),p(null))},E=P=>{j(V=>V===P?null:P)},L=d&&h;return s.jsxs(vt,{title:"Guild Hub",subtitle:"Gildenvergleich",centerFramed:!1,children:[s.jsxs("div",{className:ie.page,children:[s.jsxs("header",{className:ie.header,children:[s.jsxs("div",{className:ie.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Guild Hub"}),s.jsx("h1",{className:ie.title,children:"Gilden vergleichen"}),s.jsx("p",{className:ie.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken ab, bevor du dich fuer oder gegen einen Zusammenschluss entscheidest."})]}),s.jsx("div",{className:ie.headerActions,children:!t&&s.jsx("button",{type:"button",className:ie.secondaryAction,onClick:y,children:"Filter"})})]}),s.jsxs("div",{className:ie.infoStrip,children:[s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Pool"}),s.jsxs("strong",{children:[fu.format(g)," Gilden"]})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Durchschnitt Mitglieder"}),s.jsx("strong",{children:fu.format(v)})]}),s.jsxs("div",{className:ie.infoCard,children:[s.jsx("span",{className:ie.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:ie.inlineFilters,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:P=>M(P.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),hy.map(P=>s.jsx("option",{value:P,children:P},P))]})]})})]}),s.jsxs("div",{className:ie.layout,children:[s.jsxs("section",{className:ie.selectionColumn,children:[s.jsx(tS,{title:"Gilde A",slot:"guildA",selectedGuild:d,excludeId:a,onSelect:C,onClear:w,serverFilter:e,onServerChange:M}),s.jsx(tS,{title:"Gilde B",slot:"guildB",selectedGuild:h,excludeId:r,onSelect:C,onClear:w,serverFilter:e,onServerChange:M})]}),s.jsxs("section",{className:ie.comparisonColumn,children:[s.jsxs("div",{className:ie.comparisonCard,children:[s.jsxs("div",{className:ie.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.kicker,children:"Vergleich"}),s.jsx("h2",{className:ie.sectionTitle,children:"Kennzahlen"})]}),L&&s.jsxs("span",{className:ie.diffBadge,children:["Delta Mitglieder:"," ",fu.format(d.members-h.members)]})]}),L?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ie.metricGrid,children:[s.jsx(sS,{label:"Mitglieder",aValue:d.members,bValue:h.members}),s.jsx(sS,{label:"Durchschnittslevel",aValue:d.avgLevel,bValue:h.avgLevel,isDecimal:!0}),s.jsx(Zoe,{guildA:d,guildB:h,countdownA:D,countdownB:T,activePopover:b,onToggle:E})]}),s.jsx(ele,{guildA:d,guildB:h})]}):s.jsx("div",{className:ie.emptyState,children:s.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:ie.supportPanels,children:[s.jsx(tle,{}),s.jsx(sle,{})]})]})]})]}),!t&&s.jsx("div",{className:`${ie.sheetOverlay} ${I?ie.sheetOpen:""}`,children:s.jsxs("div",{className:ie.sheet,role:"dialog","aria-modal":"true",ref:B,children:[s.jsxs("header",{className:ie.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:ie.clearButton,onClick:S,children:"Schliessen"})]}),s.jsx("div",{className:ie.sheetBody,children:s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:e,onChange:P=>M(P.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),hy.map(P=>s.jsx("option",{value:P,children:P},P))]})]})})]})})]})}function tS({title:t,slot:e,selectedGuild:n,excludeId:r,onSelect:i,onClear:a,serverFilter:c,onServerChange:d}){const[u,h]=J.useState(""),p=Pc(u,300);J.useEffect(()=>{h("")},[n,c]);const{results:g,loading:v}=nle(p,c,r);return s.jsxs("article",{className:ie.selectionCard,children:[s.jsxs("div",{className:ie.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.slotLabel,children:t}),s.jsx("p",{className:ie.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:ie.clearButton,onClick:()=>a(e),children:"Reset"})]}),s.jsxs("div",{className:ie.slotBody,children:[s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ie.select,value:c,onChange:b=>d(b.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),hy.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsxs("label",{className:ie.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:ie.searchInput,placeholder:"Gildennamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),s.jsxs("div",{className:ie.resultList,role:"list",children:[v&&s.jsx("div",{className:ie.emptyResult,children:"Lade..."}),!v&&g.length===0&&s.jsx("div",{className:ie.emptyResult,children:"Keine Gilde gefunden."}),!v&&g.map(b=>s.jsxs("div",{className:ie.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:ie.resultName,children:b.name}),s.jsxs("p",{className:ie.resultMeta,children:[b.server," - ",b.members," Mitglieder"]})]}),s.jsx("button",{type:"button",className:ie.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),n&&s.jsxs("div",{className:ie.selectedCard,children:[s.jsx("p",{className:ie.selectedName,children:n.name}),s.jsxs("p",{className:ie.selectedMeta,children:[n.server," - ",n.members," Mitglieder - Durchschnittslevel"," ",n.avgLevel.toFixed(1)]}),s.jsx("p",{className:ie.selectedTagline,children:n.tagline})]})]})]})}function sS({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):fu.format(d),a=e-n;let c="gleich";if(a!==0){const d=r?Math.abs(a).toFixed(1).replace(".",","):fu.format(Math.abs(a));c=a>0?`+${d}`:`-${d}`}return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:t}),s.jsxs("div",{className:ie.metricValues,children:[s.jsx("span",{"aria-label":"Gilde A",children:i(e)}),s.jsx("span",{className:ie.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Gilde B",children:i(n)})]}),s.jsx("p",{className:ie.metricDelta,children:c})]})}function Zoe({guildA:t,guildB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:a}){return s.jsxs("div",{className:ie.metricCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Freshness"}),s.jsx("div",{className:ie.freshnessRow,children:[t,e].map(c=>{const d=c.id===t.id?n:r,u=`fresh-${c.id}`,h=i===u;return s.jsxs("div",{className:ie.freshnessItem,children:[s.jsxs("button",{type:"button",className:ie.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[s.jsx("span",{children:c.freshness.toUpperCase()}),s.jsx("small",{children:ih(c.lastScanAt)})]}),h&&s.jsxs("div",{className:ie.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:ie.popoverTitle,children:c.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:n1[c.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:Ai(c.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[Ai(c.nextUpdateAt)," (",d,")"]})]})]})]})]},c.id)})})]})}function ele({guildA:t,guildB:e}){const n=J.useMemo(()=>Array.from(new Set([...t.classes,...e.classes].map(r=>r.label))),[t.classes,e.classes]);return s.jsxs("div",{className:ie.classCard,children:[s.jsx("p",{className:ie.metricLabel,children:"Klassenverteilung"}),s.jsx("div",{className:ie.classGrid,children:[t,e].map(r=>s.jsxs("div",{className:ie.classColumn,children:[s.jsx("h3",{children:r.name}),s.jsx("div",{className:ie.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>s.jsxs("span",{style:{width:`${i.percent}%`},className:ie.classSlice,children:[s.jsx("small",{children:i.label}),s.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),s.jsx("ul",{className:ie.classLegend,children:n.map(r=>s.jsx("li",{children:r},r))})]})}function tle(){const t=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return s.jsxs("section",{className:ie.checklistCard,children:[s.jsx("h3",{children:"Vor dem Vergleich pruefen"}),s.jsx("ul",{className:ie.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function sle(){return s.jsxs("section",{className:ie.infoCardExtended,children:[s.jsx("h3",{children:"Transfers-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:ie.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),s.jsx("button",{type:"button",className:ie.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function nle(t,e,n){const[r,i]=J.useState([]),[a,c]=J.useState(!1);return J.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),c(!1);return}let u=!1;async function h(){c(!0);try{const p=d.toLowerCase(),g=pf(Pt,"latest"),v=await an(Rn(g,Wa("nameFold"),Wo(p),qo(p+""),Pn(15))),b=await an(Rn(g,Yo("nameNgrams","array-contains",p),Pn(15))),j=new Set,I=[],A=B=>{var V,$,W,H,q,Q,G,te,re,z,se,ce,ee,fe,Te,xe,Ce,Ne,ue,De,Ae;const D=B.data(),y=(V=B.ref.parent)==null?void 0:V.parent,S=y==null?void 0:y.parent;if((S==null?void 0:S.id)!=="guilds")return;const C=(W=($=y==null?void 0:y.id)!=null?$:D.guildIdentifier)!=null?W:B.id;if(!C||j.has(C)||n&&C===n)return;const w=(Q=(q=D.name)!=null?q:(H=D.values)==null?void 0:H.Name)!=null?Q:"Unbekannte Gilde",E=(re=(te=D.server)!=null?te:(G=D.values)==null?void 0:G.Server)!=null?re:"Unknown";if(e!=="all"&&E!==e)return;const L=(fe=(ee=(se=D.memberCount)!=null?se:(z=D.values)==null?void 0:z["Guild Member Count"])!=null?ee:(ce=D.values)==null?void 0:ce.GuildMemberCount)!=null?fe:0,P=(Ce=(xe=D.updatedAt)!=null?xe:(Te=D.values)==null?void 0:Te.UpdatedAt)!=null?Ce:D.timestamp?new Date(D.timestamp*1e3).toISOString():new Date().toISOString();j.add(C),I.push({id:C,name:w,tagline:(Ne=D.tagline)!=null?Ne:"",server:E,members:L,avgLevel:(Ae=(De=D.avgLevel)!=null?De:(ue=D.values)==null?void 0:ue.AvgLevel)!=null?Ae:0,lastScanAt:P,updatedAt:P,nextUpdateAt:P,freshness:"unknown",classes:[]})};v.forEach(A),b.forEach(A),u||(I.sort((B,D)=>B.name.localeCompare(D.name)),i(I))}catch(p){console.error("[GuildHub CompareGuilds] guild search failed",p),u||i([])}finally{u||c(!1)}}return h(),()=>{u=!0}},[t,e,n]),{results:r,loading:a}}const rle="_page_o27vc_1",ile="_header_o27vc_13",ale="_headerStack_o27vc_25",ole="_kicker_o27vc_37",lle="_title_o27vc_53",cle="_headerActions_o27vc_65",dle="_primaryAction_o27vc_77",ule="_secondaryAction_o27vc_79",hle="_infoStrip_o27vc_109",mle="_infoPill_o27vc_129",ple="_freshnessWrapper_o27vc_163",fle="_freshnessBadge_o27vc_171",gle="_popover_o27vc_191",xle="_popoverLabel_o27vc_221",vle="_filterToolbar_o27vc_231",yle="_filterSheetButton_o27vc_241",ble="_inlineFilters_o27vc_259",_le="_searchInput_o27vc_271",wle="_select_o27vc_273",jle="_chipGroup_o27vc_295",Sle="_chip_o27vc_295",Nle="_chipActive_o27vc_325",kle="_levelRow_o27vc_335",Cle="_sortControls_o27vc_363",Tle="_sortLabel_o27vc_375",Ele="_directionButton_o27vc_385",Ale="_listBody_o27vc_403",Ile="_tableWrapper_o27vc_415",Rle="_table_o27vc_415",Ple="_cardFooter_o27vc_459",Lle="_panel_o27vc_461",Dle="_formPanel_o27vc_463",Mle="_statusSelect_o27vc_481",Fle="_stickyColumn_o27vc_515",Ble="_rowButton_o27vc_529",$le="_scanBadge_o27vc_545",Vle="_cardList_o27vc_561",Ole="_card_o27vc_459",Ule="_cardHeader_o27vc_593",zle="_cardTitle_o27vc_605",Hle="_cardMeta_o27vc_623",Gle="_cardNotes_o27vc_635",Wle="_emptyState_o27vc_659",qle="_sheetBackdrop_o27vc_675",Kle="_sheet_o27vc_675",Qle="_sheetHandle_o27vc_717",Xle="_sheetBody_o27vc_733",Yle="_sheetLabel_o27vc_749",Jle="_sheetActions_o27vc_785",Zle="_overlay_o27vc_797",ece="_drawer_o27vc_837",tce="_modal_o27vc_845",sce="_panelHeader_o27vc_853",nce="_section_o27vc_867",rce="_tagRow_o27vc_899",ice="_historyList_o27vc_913",ace="_panelFooter_o27vc_943",oce="_formOverlay_o27vc_955",lce="_formGrid_o27vc_1003",cce="_warning_o27vc_1015",dce="_pagination_o27vc_1033",_e={page:rle,header:ile,headerStack:ale,kicker:ole,title:lle,headerActions:cle,primaryAction:dle,secondaryAction:ule,infoStrip:hle,infoPill:mle,freshnessWrapper:ple,freshnessBadge:fle,popover:gle,popoverLabel:xle,filterToolbar:vle,filterSheetButton:yle,inlineFilters:ble,searchInput:_le,select:wle,chipGroup:jle,chip:Sle,chipActive:Nle,levelRow:kle,sortControls:Cle,sortLabel:Tle,directionButton:Ele,listBody:Ale,tableWrapper:Ile,table:Rle,cardFooter:Ple,panel:Lle,formPanel:Dle,statusSelect:Mle,stickyColumn:Fle,rowButton:Ble,scanBadge:$le,cardList:Vle,card:Ole,cardHeader:Ule,cardTitle:zle,cardMeta:Hle,cardNotes:Gle,emptyState:Wle,sheetBackdrop:qle,sheet:Kle,sheetHandle:Qle,sheetBody:Xle,sheetLabel:Yle,sheetActions:Jle,overlay:Zle,drawer:ece,modal:tce,panelHeader:sce,section:nce,tagRow:rce,historyList:ice,panelFooter:ace,formOverlay:oce,formGrid:lce,warning:cce,pagination:dce},Hp=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],Gp=["EU-01","EU-02","US-01","US-02","ASIA-01"],r1={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},nS={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},av={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},uce=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:Oa(2),updatedAt:Oa(3),freshness:"f1",history:[{date:cr(1),message:"Interview abgeschlossen"},{date:cr(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:Oa(10),updatedAt:Oa(11),freshness:"f3",history:[{date:cr(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:Oa(20),updatedAt:Oa(5),freshness:"f4",history:[{date:cr(4),message:"Probe erfolgreich"},{date:cr(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:cr(2),updatedAt:cr(2),freshness:"f5",history:[{date:cr(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:cr(3),updatedAt:cr(1),freshness:"f6",history:[{date:cr(1),message:"Bewerbung zurueckgezogen"},{date:cr(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:Oa(5),updatedAt:Oa(5),freshness:"f2",history:[{date:cr(1),message:"Profil verifiziert"}]}];function rS(t){return{...t,lvMin:Math.max(1,t.lvMin),lvMax:Math.max(t.lvMin,Math.min(200,t.lvMax)),page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),classes:Array.from(new Set(t.classes)),servers:Array.from(new Set(t.servers))}}function hce(t,e,n){const r=n.toLowerCase();return t.filter(i=>{const a=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),c=e.status==="all"||i.status===e.status,d=e.classes.length===0||e.classes.includes(i.classRole),u=e.servers.length===0||e.servers.includes(i.server),h=i.level>=e.lvMin&&i.level<=e.lvMax;return a&&c&&d&&u&&h})}function mce(t,e,n){const r=[...t];return r.sort((i,a)=>{let c=0;switch(e){case"name":c=i.name.localeCompare(a.name);break;case"level":c=i.level-a.level;break;case"status":c=i.status.localeCompare(a.status);break;case"lastScan":c=new Date(i.lastScanAt).getTime()-new Date(a.lastScanAt).getTime();break;case"updatedAt":default:c=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break}return n==="asc"?c:-c}),r}function pce(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function hp(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function fce(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function gce(t){return t.length?t.reduce((e,n)=>e?nS[n.freshness]>nS[e.freshness]?n:e:n,null):null}function cr(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}function Oa(t){const e=new Date;return e.setHours(e.getHours()-t),e.toISOString()}function xce(){var H;const[t,e]=J.useState(uce),[n,r]=J.useState(av),[i,a]=J.useState(av),c=Pc(n.q,300),d=J.useMemo(()=>{const q=hce(t,n,c);return mce(q,n.sort,n.dir)},[t,n,c]),u=J.useMemo(()=>pce(d,n.page,n.pageSize),[d,n.page,n.pageSize]),h=Math.max(1,Math.ceil(d.length/n.pageSize)),p=Lc("(min-width: 768px)"),g=Lc("(min-width: 1024px)"),[v,b]=J.useState(!1),[j,I]=J.useState(null),A=(H=t.find(q=>q.id===j))!=null?H:null,B=J.useRef(null);Dc(B,!!A&&!g);const[D,T]=J.useState(null),[y,S]=J.useState(!1),M=J.useRef(null);Dc(M,y);const C=J.useMemo(()=>gce(t),[t]),w=C&&C.lastScanAt?fce(C.lastScanAt):"unbekannt",E=q=>{const Q=rS(q);r(Q),a(Q)},L=(q,Q)=>{const G=rS({...n,[q]:Q,page:q==="page"?Q:1});E(G)},P=()=>{E(i),b(!1)},V=()=>{E(av),b(!1)},$=(q,Q)=>{e(G=>G.map(te=>te.id===q?{...te,status:Q,updatedAt:new Date().toISOString()}:te))},W=q=>{e(Q=>Q.some(te=>te.id===q.id)?Q.map(te=>te.id===q.id?q:te):[q,...Q]),S(!1)};return s.jsxs(vt,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[s.jsxs("div",{className:_e.page,children:[s.jsxs("header",{className:_e.header,children:[s.jsxs("div",{className:_e.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:_e.kicker,children:"Recruiting"}),s.jsx("h1",{className:_e.title,children:"Waitlist"})]}),s.jsxs("div",{className:_e.headerActions,children:[s.jsx("button",{type:"button",className:_e.primaryAction,onClick:()=>{T(null),S(!0)},children:"Neuer Eintrag"}),!p&&s.jsx("button",{type:"button",className:_e.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>b(!0),children:"Filter"})]})]}),s.jsxs("div",{className:_e.infoStrip,children:[s.jsx(ov,{label:"Neu",value:d.filter(q=>q.status==="new").length}),s.jsx(ov,{label:"In Review",value:d.filter(q=>q.status==="in_review").length}),s.jsx(ov,{label:"Zugesagt",value:d.filter(q=>q.status==="accepted").length}),C&&s.jsx(vce,{label:r1[C.freshness],updatedAt:C.lastScanAt,countdown:w})]})]}),s.jsx("section",{className:_e.filterToolbar,children:p?s.jsx(yce,{filters:n,onChange:L,onToggleClass:q=>{const Q=n.classes.includes(q)?n.classes.filter(G=>G!==q):[...n.classes,q];L("classes",Q)},onToggleServer:q=>{const Q=n.servers.includes(q)?n.servers.filter(G=>G!==q):[...n.servers,q];L("servers",Q)}}):s.jsx("button",{type:"button",className:_e.filterSheetButton,onClick:()=>b(!0),children:"Filter & Sortierung"})}),s.jsx("section",{className:_e.listBody,children:p?s.jsx(bce,{items:u,sort:n.sort,dir:n.dir,onSortChange:q=>{const Q=n.sort===q&&n.dir==="asc"?"desc":"asc";L("sort",q),L("dir",Q)},onSelect:I,onStatusChange:$}):s.jsx(_ce,{items:u,onSelect:I,onStatusChange:$})}),s.jsx(jce,{page:n.page,totalPages:h,onChange:q=>L("page",q)})]}),v&&s.jsx(wce,{filters:i,onChange:a,onToggleClass:q=>a(Q=>({...Q,classes:Q.classes.includes(q)?Q.classes.filter(G=>G!==q):[...Q.classes,q]})),onToggleServer:q=>a(Q=>({...Q,servers:Q.servers.includes(q)?Q.servers.filter(G=>G!==q):[...Q.servers,q]})),onClose:()=>b(!1),onApply:P,onReset:V}),A&&s.jsx(AC,{ref:B,item:A,mode:g?"drawer":"modal",onClose:()=>I(null),onEdit:()=>{T(A),S(!0),I(null)}}),y&&s.jsx(IC,{ref:M,item:D,entries:t,onClose:()=>S(!1),onSubmit:W})]})}function ov({label:t,value:e}){return s.jsxs("div",{className:_e.infoPill,children:[s.jsx("span",{children:t}),s.jsx("strong",{children:e})]})}function vce({label:t,updatedAt:e,countdown:n}){const[r,i]=J.useState(!1);return s.jsxs("div",{className:_e.freshnessWrapper,children:[s.jsx("button",{type:"button",className:_e.freshnessBadge,onClick:()=>i(a=>!a),"aria-expanded":r,children:t}),r&&s.jsxs("div",{className:_e.popover,children:[s.jsxs("div",{children:[s.jsx("span",{className:_e.popoverLabel,children:"Letzter Scan"}),s.jsx("strong",{children:hp(e)})]}),s.jsxs("div",{children:[s.jsx("span",{className:_e.popoverLabel,children:"Aktualisiert"}),s.jsx("strong",{children:n})]})]})]})}function yce({filters:t,onChange:e,onToggleClass:n,onToggleServer:r}){return s.jsxs("div",{className:_e.inlineFilters,children:[s.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:_e.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>e("q",i.target.value)}),s.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:_e.select,value:t.status,onChange:i=>e("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("div",{className:_e.chipGroup,children:Hp.map(i=>{const a=t.classes.includes(i);return s.jsx("button",{type:"button",className:`${_e.chip} ${a?_e.chipActive:""}`,onClick:()=>n(i),children:i},i)})}),s.jsx("div",{className:_e.chipGroup,children:Gp.map(i=>{const a=t.servers.includes(i);return s.jsx("button",{type:"button",className:`${_e.chip} ${a?_e.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:_e.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:t.lvMin,min:1,max:t.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:t.lvMax,min:t.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),s.jsxs("div",{className:_e.sortControls,children:[s.jsx("label",{className:_e.sortLabel,children:"Sortieren"}),s.jsxs("select",{value:t.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"status",children:"Status"}),s.jsx("option",{value:"lastScan",children:"Letzter Scan"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),s.jsx("button",{type:"button",className:_e.directionButton,onClick:()=>e("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"ASC":"DESC"})]})]})}function bce({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:a}){const c=d=>e===d?n==="asc"?" ":" ":"";return t.length?s.jsx("div",{className:_e.tableWrapper,children:s.jsxs("table",{className:_e.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:_e.stickyColumn,onClick:()=>r("name"),children:["Name",c("name")]}),s.jsx("th",{children:"Klasse"}),s.jsxs("th",{onClick:()=>r("level"),children:["Level",c("level")]}),s.jsx("th",{children:"Server"}),s.jsxs("th",{onClick:()=>r("status"),children:["Status",c("status")]}),s.jsx("th",{children:"Notizen"}),s.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",c("lastScan")]})]})}),s.jsx("tbody",{children:t.map(d=>s.jsxs("tr",{children:[s.jsx("td",{className:_e.stickyColumn,children:s.jsx("button",{type:"button",className:_e.rowButton,onClick:()=>i(d.id),children:d.name})}),s.jsx("td",{children:d.classRole}),s.jsx("td",{children:d.level}),s.jsx("td",{children:d.server}),s.jsx("td",{children:s.jsxs("select",{className:_e.statusSelect,name:`waitlistStatus-${d.id}`,"aria-label":`Status fuer ${d.name}`,value:d.status,onChange:u=>a(d.id,u.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),s.jsxs("td",{children:[d.notes.slice(0,64),"..."]}),s.jsx("td",{children:s.jsx("span",{className:_e.scanBadge,children:r1[d.freshness]})})]},d.id))})]})}):s.jsx(EC,{})}function _ce({items:t,onSelect:e,onStatusChange:n}){return t.length?s.jsx("div",{className:_e.cardList,children:t.map(r=>s.jsxs("article",{className:_e.card,children:[s.jsxs("div",{className:_e.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:_e.cardTitle,onClick:()=>e(r.id),children:r.name}),s.jsxs("p",{className:_e.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),s.jsx("span",{className:_e.scanBadge,children:r1[r.freshness]})]}),s.jsxs("p",{className:_e.cardNotes,children:[r.notes.slice(0,160),"..."]}),s.jsxs("div",{className:_e.cardFooter,children:[s.jsxs("select",{className:_e.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>n(r.id,i.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):s.jsx(EC,{})}function EC(){return s.jsx("div",{className:_e.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function wce({filters:t,onChange:e,onToggleClass:n,onToggleServer:r,onClose:i,onApply:a,onReset:c}){return s.jsx("div",{className:_e.sheetBackdrop,onClick:i,children:s.jsxs("div",{className:_e.sheet,onClick:d=>d.stopPropagation(),children:[s.jsx("div",{className:_e.sheetHandle}),s.jsxs("div",{className:_e.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:_e.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:t.q,onChange:d=>e(u=>({...u,q:d.target.value}))})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Status",s.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:t.status,onChange:d=>e(u=>({...u,status:d.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),s.jsxs("div",{className:_e.sheetLabel,children:["Klassen",s.jsx("div",{className:_e.chipGroup,children:Hp.map(d=>{const u=t.classes.includes(d);return s.jsx("button",{type:"button",className:`${_e.chip} ${u?_e.chipActive:""}`,"aria-label":`Klasse ${d}`,onClick:()=>n(d),children:d},d)})})]}),s.jsxs("div",{className:_e.sheetLabel,children:["Server",s.jsx("div",{className:_e.chipGroup,children:Gp.map(d=>{const u=t.servers.includes(d);return s.jsx("button",{type:"button",className:`${_e.chip} ${u?_e.chipActive:""}`,"aria-label":`Server ${d}`,onClick:()=>r(d),children:d},d)})})]}),s.jsxs("div",{className:_e.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:t.lvMin,onChange:d=>e(u=>({...u,lvMin:Number(d.target.value)}))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:t.lvMax,onChange:d=>e(u=>({...u,lvMax:Number(d.target.value)}))})]})]})]}),s.jsxs("div",{className:_e.sheetActions,children:[s.jsx("button",{type:"button",onClick:c,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:_e.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const AC=J.forwardRef(({item:t,mode:e,onClose:n,onEdit:r},i)=>s.jsx("div",{className:_e.overlay,children:s.jsxs("div",{ref:i,className:`${_e.panel} ${e==="drawer"?_e.drawer:_e.modal}`,children:[s.jsxs("header",{className:_e.panelHeader,children:[s.jsxs("div",{children:[s.jsxs("p",{className:_e.cardMeta,children:[t.classRole," - Lv ",t.level," - ",t.server]}),s.jsx("h2",{children:t.name})]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Kontakt"}),s.jsx("p",{children:t.contact}),s.jsxs("p",{children:["Quelle: ",t.source]})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Notizen"}),s.jsx("p",{children:t.notes})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Tags"}),s.jsx("div",{className:_e.tagRow,children:t.tags.length?t.tags.map(a=>s.jsx("span",{children:a},a)):s.jsx("span",{children:"Keine"})})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Historie"}),s.jsx("ul",{className:_e.historyList,children:t.history.map(a=>s.jsxs("li",{children:[s.jsx("span",{children:hp(a.date)}),s.jsx("p",{children:a.message})]},`${a.date}-${a.message}`))})]}),s.jsxs("section",{className:_e.section,children:[s.jsx("h3",{children:"Scan-Infos"}),s.jsxs("p",{children:["Letzter Scan: ",hp(t.lastScanAt)]}),s.jsxs("p",{children:["Aktualisiert: ",hp(t.updatedAt)]})]}),s.jsxs("footer",{className:_e.panelFooter,children:[s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:_e.primaryAction,onClick:n,children:"Schliessen"})]})]})}));AC.displayName="DetailPanel";const IC=J.forwardRef(({item:t,entries:e,onClose:n,onSubmit:r},i)=>{const[a,c]=J.useState(()=>t!=null?t:{id:`wl-${Date.now()}`,name:"",classRole:Hp[0],level:1,server:Gp[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});J.useEffect(()=>{t&&c(t)},[JSON.stringify(t)]);const d=h=>{h.preventDefault(),r({...a,updatedAt:new Date().toISOString()})},u=e.some(h=>h.id!==a.id&&h.name.toLowerCase()===a.name.toLowerCase()&&h.server===a.server);return s.jsx("div",{className:_e.formOverlay,children:s.jsxs("form",{ref:i,className:_e.formPanel,onSubmit:d,children:[s.jsxs("header",{className:_e.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:_e.cardMeta,children:t?"Bearbeiten":"Neu"}),s.jsx("h2",{children:t?t.name:"Neuer Bewerber"})]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:n,children:"Schliessen"})]}),u&&s.jsx("div",{className:_e.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),s.jsxs("label",{className:_e.sheetLabel,children:["Name",s.jsx("input",{name:"waitlistFormName",value:a.name,onChange:h=>c(p=>({...p,name:h.target.value}))})]}),s.jsxs("div",{className:_e.formGrid,children:[s.jsxs("label",{children:["Klasse",s.jsx("select",{name:"waitlistFormClass",value:a.classRole,onChange:h=>c(p=>({...p,classRole:h.target.value})),children:Hp.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("label",{children:["Level",s.jsx("input",{type:"number",name:"waitlistFormLevel",value:a.level,min:1,max:200,onChange:h=>c(p=>({...p,level:Number(h.target.value)}))})]}),s.jsxs("label",{children:["Server",s.jsx("select",{name:"waitlistFormServer",value:a.server,onChange:h=>c(p=>({...p,server:h.target.value})),children:Gp.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"waitlistFormStatus",value:a.status,onChange:h=>c(p=>({...p,status:h.target.value})),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Kontakt",s.jsx("input",{name:"waitlistFormContact",value:a.contact,onChange:h=>c(p=>({...p,contact:h.target.value}))})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Quelle",s.jsx("input",{name:"waitlistFormSource",value:a.source,onChange:h=>c(p=>({...p,source:h.target.value}))})]}),s.jsxs("label",{className:_e.sheetLabel,children:["Notizen",s.jsx("textarea",{name:"waitlistFormNotes",value:a.notes,onChange:h=>c(p=>({...p,notes:h.target.value})),rows:4})]}),s.jsxs("footer",{className:_e.panelFooter,children:[s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:_e.primaryAction,children:"Speichern"})]})]})})});IC.displayName="WaitlistForm";function jce({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:_e.pagination,children:[s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const Sce=["tab","sub","sub2","q","sort","dir","page","pageSize"];function Hc(t=[]){const[e,n]=al(),r=J.useMemo(()=>[...t].sort().join("|"),[t]),i=J.useMemo(()=>{const p=new Set([...Sce]);return t.forEach(g=>p.add(g)),Array.from(p)},[r]),a=J.useMemo(()=>{const p={};return i.forEach(g=>{const v=e.get(g);v!==null&&(p[g]=v)}),p},[e,i]),c=J.useCallback((p,g)=>{var b;const v=new URLSearchParams(e);Object.entries(p).forEach(([j,I])=>{I==null||I===""?v.delete(j):v.set(j,String(I))}),n(v,{replace:(b=g==null?void 0:g.replace)!=null?b:!1})},[e,n]),d=J.useCallback(p=>{const g=new URLSearchParams(e);(p&&p.length>0?p:i).forEach(b=>g.delete(b)),n(g,{replace:!0})},[e,n,i]),u=J.useCallback((p,g="")=>{var v;return(v=a[p])!=null?v:g},[a]),h=J.useCallback((p,g=0)=>{const v=a[p],b=v?Number(v):NaN;return Number.isFinite(b)?b:g},[a]);return{params:a,getParam:u,getNumberParam:h,writeParams:c,resetParams:d}}function Nce(){return Hc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Activity"})})}function kce(){return Hc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Imports"})})}function Cce(){return Hc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Announcements"})})}function Tce(){return Hc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Events"})})}function Ece(){return Hc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Roles"})})}function Ace(){return Hc(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Settings"})})}const Ice=[{icon:s.jsx(tf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:s.jsx(M6,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:s.jsx(N6,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],Rce=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],Pce=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function Lce(){return s.jsx(vt,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ft,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:s.jsx(Dce,{}),right:s.jsx(Mce,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:Ice.map(t=>s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),s.jsx(Ft,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),s.jsx("ul",{className:"space-y-3",children:Rce.map(t=>s.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[s.jsx(Ey,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),s.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),s.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function Dce(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[s.jsx(Ft,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),s.jsx(Ft,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),s.jsx(Ft,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),s.jsx(Ft,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[s.jsx("li",{children:" Pager rotation: Ops Team"}),s.jsx("li",{children:" Slack channel: #sf-alerts"}),s.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function Mce(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),s.jsx("ul",{className:"mt-3 space-y-2",children:Pce.map(t=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),s.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),s.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const Fce=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function Bce(){return s.jsx(vt,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:s.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Time"}),s.jsx("span",{children:"Service"}),s.jsx("span",{className:"text-right",children:"Severity"})]}),s.jsx("ul",{children:Fce.map(t=>s.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),s.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:$ce(t.severity)},children:t.severity})]},t.id))})]})})}function $ce(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const ni={background:"#152A42",borderColor:"#2B4C73"},pc={background:"#1A2F4A",borderColor:"#2B4C73"},lv=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function Vce(){const{data:t,loading:e,refreshing:n,error:r,refresh:i}=Hce(),a=J.useMemo(()=>[{label:"Total uploads",value:Ar(t.metrics.totalUploads),hint:`${Ar(t.metrics.last24h)} in the last 24h`,icon:s.jsx(KA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:Vu(t.metrics.successRate),hint:`${Ar(t.metrics.failed)} failed`,icon:s.jsx(MA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?cv(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${cv(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:s.jsx(WA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:iS(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:s.jsx(JA,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:Ar(t.metrics.uniqueUploaders),hint:`${Ar(t.metrics.uniqueGuilds)} guilds represented`,icon:s.jsx(tf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:Ar(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:s.jsx(hN,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return s.jsx(vt,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:s.jsx(Oce,{breakdown:t.statusBreakdown,onRefresh:i,loading:e,refreshing:n}),right:s.jsx(Uce,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:a.map(c=>s.jsxs("article",{className:"rounded-2xl border p-4",style:ni,children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[c.icon,c.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:c.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:c.hint})]},c.label))}),s.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:ni,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:pc,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:fc(c.status)},"aria-hidden":"true"}),i1(c.status)]}),s.jsx("span",{className:"font-semibold",children:Ar(c.count)})]}),s.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:s.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(c.share*100,100).toFixed(1)}%`,backgroundColor:fc(c.status)}})}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[Vu(c.share)," of window"]})]},c.status))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ni,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:pc,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-semibold",children:c.hourLabel}),s.jsxs("span",{children:[Ar(c.total)," uploads"]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:fc("success")},"aria-hidden":"true"}),"Success ",Ar(c.success)]}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:fc("failed")},"aria-hidden":"true"}),"Failed ",Ar(c.failed)]})]})]},c.hourLabel))})]})]}),s.jsxs("section",{className:"rounded-2xl border",style:ni,children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Ka,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?s.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[s.jsx(Ey,{className:"h-3.5 w-3.5"}),r]}):s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(TA,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),s.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Status"}),s.jsx("span",{children:"Uploader"}),s.jsx("span",{children:"Guild"}),s.jsx("span",{className:"text-right",children:"Processing"}),s.jsx("span",{className:"text-right",children:"File size"})]}),s.jsx("ul",{children:t.recentUploads.map(c=>{var d,u,h,p;return s.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:c.id}),s.jsx("span",{children:s.jsx(zce,{status:c.status})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(u=(d=c.uploaderName)!=null?d:c.uploaderId)!=null?u:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.uploadedAt?c.uploadedAt.toLocaleString():"Timestamp missing"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(p=(h=c.guildName)!=null?h:c.guildId)!=null?p:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.errorCode?`Issue: ${c.errorCode}`:"Healthy"})]}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.processingMs?cv(c.processingMs):"Pending"}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.fileSizeBytes?iS(c.fileSizeBytes):""})]},c.id)})})]})]})})}function Oce({breakdown:t,onRefresh:e,loading:n,refreshing:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"rounded-2xl border p-4",style:ni,children:[s.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[s.jsx("span",{children:"Controls"}),s.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[s.jsx(ef,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),s.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:ni,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(i=>s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:fc(i.status)},"aria-hidden":"true"}),i1(i.status)]}),s.jsx("span",{children:Vu(i.share)})]},i.status))}),n&&s.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[s.jsx(Ka,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:ni,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),s.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(ep,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(ep,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(ep,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function Uce({issues:t,failures:e,uploaders:n,guilds:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:ni,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(hN,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),s.jsx("span",{children:"Top failure signatures"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(i=>s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:pc,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{children:i.code}),s.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ni,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(Ey,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("span",{children:"Latest failed uploads"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var a;return s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:pc,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),s.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(a=i.errorCode)!=null?a:"No error code provided"})]},i.id)})})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ni,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(tf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Uploader leaderboard"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:n.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:pc,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Vu(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Ar(i.count)})]},i.id))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:ni,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(t6,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Guild spotlight"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:pc,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",Vu(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Ar(i.count)})]},i.id))})]})]})}function zce({status:t}){const e=fc(t);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[s.jsx(ep,{className:"h-3 w-3","aria-hidden":"true"}),i1(t)]})}function Hce(){const[t,e]=J.useState(lv),[n,r]=J.useState(!0),[i,a]=J.useState(!1),[c,d]=J.useState(null),u=J.useCallback(async(p=!1)=>{p?a(!0):r(!0);try{const g=Xu(Pt,"scanUploads"),v=Rn(g,Wa("uploadedAt","desc"),Pn(100)),j=(await an(v)).docs.map(I=>Gce(I.id,I.data()));j.length>0?(e(j),d(null)):(e(lv),d("No uploads in window  showing fallback snapshot"))}catch(g){console.error("[ScansUploaded] Failed to load Firestore data",g),d("Live data unavailable  fallback snapshot active"),e(lv)}finally{p?a(!1):r(!1)}},[]);J.useEffect(()=>{u(!1)},[u]);const h=J.useMemo(()=>qce(t),[t]);return{loading:n,refreshing:i,error:c,data:h,refresh:J.useCallback(()=>u(!0),[u])}}function Gce(t,e){const n=Wce(e.status);return{id:t,status:n,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof gs?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function Wce(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function qce(t){var E,L;const e=new Map,n=new Map,r=new Map,i=new Map,a=[];let c=0,d=0;const h=Date.now()-1440*60*1e3,p=new Map;t.forEach(P=>{var H,q,Q,G,te,re,z,se,ce,ee,fe,Te,xe,Ce,Ne,ue,De;const V=(H=e.get(P.status))!=null?H:0;if(e.set(P.status,V+1),P.uploadedAt&&P.uploadedAt.getTime()>=h&&(d+=1),P.processingMs!=null&&a.push(P.processingMs),P.fileSizeBytes!=null&&(c+=P.fileSizeBytes),P.status==="failed"&&P.errorCode){const Ae=(q=n.get(P.errorCode))!=null?q:{count:0,lastSeen:null};n.set(P.errorCode,{count:Ae.count+1,lastSeen:!Ae.lastSeen||P.uploadedAt&&Ae.lastSeen<P.uploadedAt?P.uploadedAt:Ae.lastSeen})}const $=(G=(Q=P.uploaderId)!=null?Q:P.uploaderName)!=null?G:`anon-${P.id}`,W=(z=r.get($))!=null?z:{name:(re=(te=P.uploaderName)!=null?te:P.uploaderId)!=null?re:"Unknown",success:0,total:0};if(r.set($,{name:(ce=(se=P.uploaderName)!=null?se:P.uploaderId)!=null?ce:"Unknown",success:W.success+(P.status==="success"?1:0),total:W.total+1}),P.guildId||P.guildName){const Ae=(fe=(ee=P.guildId)!=null?ee:P.guildName)!=null?fe:`guild-${P.id}`,nt=(Ce=i.get(Ae))!=null?Ce:{name:(xe=(Te=P.guildName)!=null?Te:P.guildId)!=null?xe:"Unknown",success:0,total:0};i.set(Ae,{name:(ue=(Ne=P.guildName)!=null?Ne:P.guildId)!=null?ue:"Unknown",success:nt.success+(P.status==="success"?1:0),total:nt.total+1})}if(P.uploadedAt){const Ae=new Date(P.uploadedAt);Ae.setMinutes(0,0,0);const nt=Ae.toISOString(),ht=(De=p.get(nt))!=null?De:{hourLabel:Qce(Ae),timestamp:Ae,total:0,success:0,failed:0};p.set(nt,{hourLabel:ht.hourLabel,timestamp:ht.timestamp,total:ht.total+1,success:ht.success+(P.status==="success"?1:0),failed:ht.failed+(P.status==="failed"?1:0)})}});const g=t.length,v=(E=e.get("success"))!=null?E:0,b=(L=e.get("failed"))!=null?L:0,j=a.length?a.reduce((P,V)=>P+V,0)/a.length:null,I=a.length?Kce(a,95):null,A=r.size,B=i.size,D=Array.from(e.entries()).map(([P,V])=>({status:P,count:V,share:g?V/g:0})).sort((P,V)=>V.count-P.count),T=Array.from(p.values()).sort((P,V)=>V.timestamp.getTime()-P.timestamp.getTime()).slice(0,12),y=Array.from(n.entries()).map(([P,V])=>({code:P,...V})).sort((P,V)=>V.count-P.count).slice(0,6),S=[...t].sort((P,V)=>{var $,W,H,q;return((W=($=V.uploadedAt)==null?void 0:$.getTime())!=null?W:0)-((q=(H=P.uploadedAt)==null?void 0:H.getTime())!=null?q:0)}).slice(0,12),M=t.filter(P=>P.status==="failed").sort((P,V)=>{var $,W,H,q;return((W=($=V.uploadedAt)==null?void 0:$.getTime())!=null?W:0)-((q=(H=P.uploadedAt)==null?void 0:H.getTime())!=null?q:0)}),C=Array.from(r.entries()).map(([P,V])=>({id:P,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((P,V)=>V.count-P.count).slice(0,5),w=Array.from(i.entries()).map(([P,V])=>({id:P,name:V.name,count:V.total,successRate:V.total?V.success/V.total:0})).sort((P,V)=>V.count-P.count).slice(0,5);return{metrics:{totalUploads:g,last24h:d,successRate:g?v/g:0,failed:b,avgProcessingMs:j,p95ProcessingMs:I,uniqueUploaders:A,uniqueGuilds:B,totalFileSizeBytes:c},statusBreakdown:D,timeline:T,issues:y,recentFailures:M,recentUploads:S,topUploaders:C,topGuilds:w}}function Kce(t,e){const n=[...t].sort((d,u)=>d-u);if(n.length===0)return 0;const r=e/100*(n.length-1),i=Math.floor(r),a=Math.ceil(r);if(i===a)return n[i];const c=r-i;return n[i]*(1-c)+n[a]*c}function Ar(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function Vu(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function cv(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function iS(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10?0:1)} ${e[r]}`}function fc(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function i1(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function Qce(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function dv({label:t,value:e,hint:n}){return s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t}),s.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),n&&s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:n})]})}function Xce(){var d,u,h,p,g,v;const{snapshot:t,error:e,loading:n,refresh:r}=xC(),i=(d=t==null?void 0:t.warnings)!=null?d:[],a=(h=(u=t==null?void 0:t.data)==null?void 0:u.length)!=null?h:0,c=(p=t==null?void 0:t.stats)!=null?p:{};return s.jsx(vt,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:n,children:n?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(dv,{label:"Last successful sync",value:t!=null&&t.generatedAt?new Date(t.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),s.jsx(dv,{label:"Creators tracked",value:a?a.toString():"0"}),s.jsx(dv,{label:"API lookups",value:`${(g=c.youtubeLookups)!=null?g:0}  ${(v=c.twitchLookups)!=null?v:0}`,hint:"YouTube  Twitch"})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?s.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):s.jsx("ul",{className:"space-y-2",children:i.map((b,j)=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[b.creator,"  ",b.scope]}),s.jsx("div",{className:"text-xs text-[#B0C4D9]",children:b.message}),b.source&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:b.source})]},`${b.scope}-${j}`))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),s.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{children:["Add the following environment variables (e.g. in ",s.jsx("code",{children:".env.local"}),"):",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),s.jsxs("li",{children:["Execute the sync script:",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),s.jsxs("li",{children:["Commit/deploy the generated ",s.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&s.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}const Rf=`${ll}/admin/users`,Yce=25,a1=()=>{if(!Rf)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},aS=t=>typeof t!="number"?null:gs.fromMillis(t),o1=t=>{var e;return{id:t.id,userId:t.userId,displayName:t.displayName,avatarUrl:t.avatarUrl,primaryProvider:(e=t.primaryProvider)!=null?e:"discord",roles:t.roles,providers:t.providers,profile:t.profile,createdAt:aS(t.createdAt),lastLoginAt:aS(t.lastLoginAt),status:t.status,notes:t.notes}},Jce=t=>{var r;const e=new URLSearchParams;e.set("pageSize",String((r=t.pageSize)!=null?r:Yce)),t.cursor&&e.set("cursor",t.cursor),t.role&&e.set("role",t.role),t.status&&e.set("status",t.status),t.provider&&e.set("provider",t.provider),t.search&&e.set("search",t.search);const n=e.toString();return n?`?${n}`:""},l1=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function oS(t={}){var r;a1();const e=Jce(t),n=`${Rf}${e}`;try{const i=await fetch(n,{credentials:"include"});if(!i.ok)throw await l1(i);const a=await i.json();return{users:a.users.map(o1),nextPageCursor:(r=a.nextPageCursor)!=null?r:null}}catch(i){throw console.error("[AdminUsers] listAdminUsers failed",i),i instanceof Error?i:new Error("Failed to load admin users")}}async function Zce(t){a1();const e=await fetch(`${Rf}/${encodeURIComponent(t)}`,{credentials:"include"});if(!e.ok)throw await l1(e);const n=await e.json();return o1(n.user)}async function ede(t,e){a1();const n=await fetch(`${Rf}/${encodeURIComponent(t)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw await l1(n);const r=await n.json();return o1(r.user)}const RC=`${ll}/admin/audit-events`,tde=50,sde=()=>{if(!RC)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},nde=t=>typeof t!="number"?null:gs.fromMillis(t),rde=t=>{var e,n;return{id:t.id,createdAt:nde(t.createdAt),actorUserId:t.actorUserId,actorDisplayName:(e=t.actorDisplayName)!=null?e:null,targetUserId:t.targetUserId,action:t.action,summary:t.summary,changes:(n=t.changes)!=null?n:{},context:t.context}},ide=t=>{var r;const e=new URLSearchParams;e.set("limit",String((r=t.limit)!=null?r:tde)),t.cursor&&e.set("cursor",t.cursor),t.actorUserId&&e.set("actorUserId",t.actorUserId),t.targetUserId&&e.set("targetUserId",t.targetUserId),t.action&&e.set("action",t.action);const n=e.toString();return n?`?${n}`:""},ade=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function my(t={}){var i;sde();const e=`${RC}${ide(t)}`,n=await fetch(e,{credentials:"include"});if(!n.ok)throw await ade(n);const r=await n.json();return{events:r.events.map(rde),nextPageCursor:(i=r.nextPageCursor)!=null?i:null}}async function ode(t,e=10){return my({targetUserId:t,limit:e})}const lde=20,cde=50,gu={borderColor:"#2B4C73",background:"#152A42"},PC={background:"#1A2F4A"};function dde(){var d;const{status:t,user:e}=cl(),n=(d=e==null?void 0:e.roles)!=null?d:[],r=n.includes("admin"),i=r||n.includes("mod"),[a,c]=R.useState("users");return t==="loading"||t==="idle"?s.jsx(vt,{title:"Admin Users",subtitle:"Checking permissions",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full items-center justify-center text-[#B0C4D9]",children:[s.jsx(Ka,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating session..."]})}):i?s.jsx(vt,{title:"Admin user management",subtitle:"Moderate accounts, roles, and audit events",centerFramed:!0,mode:"page",actions:s.jsxs("div",{className:"flex items-center rounded-full border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:[s.jsx(ol,{className:"mr-2 h-3.5 w-3.5 text-[#5C8BC6]"}),r?"Admin":"Moderator"," access"]}),stickyTopbar:!0,subheader:s.jsx(ude,{activeTab:a,onChange:c}),children:a==="users"?s.jsx(hde,{isAdmin:r}):s.jsx(mde,{isAdmin:r,onSelectUser:u=>{c("users"),typeof window!="undefined"&&window.dispatchEvent(new CustomEvent("sf-admin-open-user",{detail:{userId:u}}))}})}):s.jsx(vt,{title:"Admin Users",subtitle:"Control panel access",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#B0C4D9]",children:[s.jsx(P6,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("p",{className:"text-base font-semibold text-white",children:"Access restricted"}),s.jsxs("p",{children:["You need at least the ",s.jsx("strong",{children:"mod"})," role to view this section."]})]})})}function ude({activeTab:t,onChange:e}){const n=[{key:"users",label:"Users",icon:s.jsx(tf,{className:"h-4 w-4"})},{key:"audit",label:"Audit Log",icon:s.jsx(w6,{className:"h-4 w-4"})}];return s.jsx("div",{className:"flex gap-2",children:n.map(r=>s.jsxs("button",{type:"button",onClick:()=>e(r.key),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs transition ${t===r.key?"bg-[#1F3A59] text-white":"text-[#B0C4D9]"}`,style:{borderColor:"#2B4C73"},"aria-pressed":t===r.key,children:[r.icon,r.label]},r.key))})}function hde({isAdmin:t}){const[e,n]=R.useState({role:"all",status:"all",provider:"all",search:""}),[r,i]=R.useState(""),a=fy(r,350);R.useEffect(()=>{n(ue=>ue.search===a?ue:{...ue,search:a})},[a]);const[c,d]=R.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[u,h]=R.useState(0),p=R.useMemo(()=>({pageSize:lde,role:e.role==="all"?void 0:e.role,status:e.status==="all"?void 0:e.status,provider:e.provider==="all"?void 0:e.provider,search:e.search}),[e]);R.useEffect(()=>{let ue=!1;return d(De=>({...De,loading:!0,error:null})),oS(p).then(De=>{ue||d({items:De.users,cursor:De.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(De=>{ue||d(Ae=>({...Ae,loading:!1,loadingMore:!1,error:De instanceof Error?De.message:"Failed to load users"}))}),()=>{ue=!0}},[p,u]);const g=()=>h(ue=>ue+1),v=async()=>{if(c.cursor){d(ue=>({...ue,loadingMore:!0,error:null}));try{const ue=await oS({...p,cursor:c.cursor});d(De=>({items:[...De.items,...ue.users],cursor:ue.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(ue){d(De=>{var Ae;return{...De,loadingMore:!1,error:(Ae=ue==null?void 0:ue.message)!=null?Ae:"Failed to load additional users"}})}}},[b,j]=R.useState(null),[I,A]=R.useState(null),[B,D]=R.useState(!1),[T,y]=R.useState(null),[S,M]=R.useState(""),[C,w]=R.useState(!1),[E,L]=R.useState(null),[P,V]=R.useState(!1),[$,W]=R.useState(!1),[H,q]=R.useState([]),[Q,G]=R.useState(!1),[te,re]=R.useState(null),z=R.useRef(null);R.useEffect(()=>{z.current=b},[b]);const se=R.useRef(!1);R.useEffect(()=>{se.current=C},[C]);const ce=R.useCallback(async ue=>{var De;G(!0),re(null);try{const Ae=await ode(ue,12);z.current===ue&&q(Ae.events)}catch(Ae){z.current===ue&&re((De=Ae==null?void 0:Ae.message)!=null?De:"Failed to load audit history")}finally{z.current===ue&&G(!1)}},[]);R.useEffect(()=>{var nt;if(!b){A(null),M(""),w(!1),q([]),re(null),W(!1);return}const ue=b,De=c.items.find(ht=>ht.id===ue);De?(A(De),M((nt=De.notes)!=null?nt:"")):(A(null),M("")),w(!1),D(!0),y(null);let Ae=!1;return Zce(ue).then(ht=>{var ns;Ae||z.current!==ue||(A(ht),M((ns=ht.notes)!=null?ns:""),w(!1),D(!1))}).catch(ht=>{var ns;Ae||z.current!==ue||(D(!1),y((ns=ht==null?void 0:ht.message)!=null?ns:"Failed to load user"))}),ce(ue),()=>{Ae=!0}},[b,c.items,ce]),R.useEffect(()=>{var De;if(!b)return;const ue=c.items.find(Ae=>Ae.id===b);ue&&(A(Ae=>Ae&&Ae.id===ue.id?{...Ae,...ue}:ue),se.current||M((De=ue.notes)!=null?De:""))},[c.items,b]);const ee=R.useCallback(ue=>{d(De=>({...De,items:De.items.map(Ae=>Ae.id===ue.id?ue:Ae)}))},[]),fe=R.useCallback(async ue=>{var De,Ae;if(I){V(!0),L(null);try{const nt=await ede(I.id,ue);A(nt),ee(nt),"notes"in ue&&(w(!1),M((De=nt.notes)!=null?De:"")),await ce(nt.id)}catch(nt){L((Ae=nt==null?void 0:nt.message)!=null?Ae:"Failed to update user")}finally{V(!1)}}},[I,ce,ee]),Te=ue=>{if(!I||!t||ue==="user")return;const De=new Set(I.roles);De.has(ue)?De.delete(ue):De.add(ue),De.add("user"),fe({roles:Array.from(De)})},xe=ue=>{!I||!t||py(I.status)===ue||ue==="banned"&&!window.confirm(`Ban ${xu(I)}? They will lose access to the control panel.`)||fe({status:ue})},Ce=ue=>{M(ue),w(!0)},Ne=()=>{!I||!t||!C||fe({notes:S.trim().length?S:null})};return R.useEffect(()=>{if(typeof window=="undefined")return;const ue=De=>{const Ae=De.detail;Ae!=null&&Ae.userId&&j(Ae.userId)};return window.addEventListener("sf-admin-open-user",ue),()=>{window.removeEventListener("sf-admin-open-user",ue)}},[]),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:gu,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(Nv,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Search user id or name",value:r,onChange:ue=>i(ue.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(mp,{label:"Role",value:e.role,onChange:ue=>n(De=>({...De,role:ue})),options:[{value:"all",label:"All"},{value:"admin",label:"Admin"},{value:"mod",label:"Mod"},{value:"creator",label:"Creator"},{value:"user",label:"User"}]}),s.jsx(mp,{label:"Status",value:e.status,onChange:ue=>n(De=>({...De,status:ue})),options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"banned",label:"Banned"}]}),s.jsx(mp,{label:"Provider",value:e.provider,onChange:ue=>n(De=>({...De,provider:ue})),options:[{value:"all",label:"All"},{value:"discord",label:"Discord"},{value:"google",label:"Google"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(ef,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]",children:[s.jsxs("div",{className:"rounded-2xl border",style:gu,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#B0C4D9]",children:[c.items.length," users ",e.search?"filtered":""]}),c.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(Ka,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:PC,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"User ID"}),s.jsx("th",{className:"px-4 py-2",children:"Display name"}),s.jsx("th",{className:"px-4 py-2",children:"Role"}),s.jsx("th",{className:"px-4 py-2",children:"Status"}),s.jsx("th",{className:"px-4 py-2",children:"Providers"}),s.jsx("th",{className:"px-4 py-2",children:"Created"}),s.jsx("th",{className:"px-4 py-2",children:"Last login"})]})}),s.jsx("tbody",{children:c.items.map(ue=>{var Ae,nt,ht;const De=ue.id===b;return s.jsxs("tr",{onClick:()=>j(ue.id),className:`cursor-pointer border-t text-xs transition hover:bg-[#1F3652] ${De?"bg-[#1F3652]":""}`,style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 font-mono text-[#8AA5C4]",children:ue.userId}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(DC,{url:BC(ue),name:xu(ue)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm",children:xu(ue)}),(Ae=ue.profile)!=null&&Ae.displayName&&ue.profile.displayName!==ue.displayName?s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:ue.profile.displayName}):null]})]})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(MC,{role:FC(ue.roles)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(fde,{status:py(ue.status)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Wp,{provider:"discord",active:!!((nt=ue.providers)!=null&&nt.discord)}),s.jsx(Wp,{provider:"google",active:!!((ht=ue.providers)!=null&&ht.google)})]})}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:yc(ue.createdAt)}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:yc(ue.lastLoginAt)})]},ue.id)})})]}),!c.loading&&!c.items.length&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No users match these filters."})]}),c.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(ru,{className:"h-3.5 w-3.5"}),c.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:c.cursor?"More users available":"End of list"}),s.jsx("button",{type:"button",onClick:v,disabled:!c.cursor||c.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:c.loadingMore?"Loading...":"Load more"})]})]}),s.jsx("aside",{className:"rounded-2xl border p-3",style:gu,children:I?s.jsx(pde,{user:I,isAdmin:t,detailLoading:B,detailError:T,notesValue:S,notesDirty:C,onNotesChange:Ce,onNotesSave:Ne,onRoleToggle:Te,onStatusChange:xe,actionError:E,actionPending:P,auditEntries:H,auditLoading:Q,auditError:te,onRefreshAudit:()=>I&&ce(I.id),showRawJson:$,toggleRawJson:()=>W(ue=>!ue)}):s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#8AA5C4]",children:[s.jsx(HA,{className:"h-10 w-10 text-[#5C8BC6]"}),"Select a user to see details."]})})]})]})}function mde({isAdmin:t,onSelectUser:e}){const[n,r]=R.useState({actor:"",target:"",action:"all"}),[i,a]=R.useState(""),[c,d]=R.useState(""),u=fy(i,350),h=fy(c,350);R.useEffect(()=>{r(B=>B.actor===u&&B.target===h?B:{...B,actor:u,target:h})},[u,h]);const[p,g]=R.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[v,b]=R.useState(0),j=R.useMemo(()=>{const B=n.action==="all"?void 0:n.action,D=n.actor.includes(":")?n.actor:void 0,T=n.target.includes(":")?n.target:void 0;return{limit:cde,action:B,actorUserId:D,targetUserId:T}},[n]);R.useEffect(()=>{let B=!1;return g(D=>({...D,loading:!0,error:null})),my(j).then(D=>{B||g({items:D.events,cursor:D.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(D=>{B||g(T=>{var y;return{...T,loading:!1,loadingMore:!1,error:(y=D==null?void 0:D.message)!=null?y:"Failed to load audit log"}})}),()=>{B=!0}},[j,v]);const I=async()=>{if(p.cursor){g(B=>({...B,loadingMore:!0,error:null}));try{const B=await my({...j,cursor:p.cursor});g(D=>({items:[...D.items,...B.events],cursor:B.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(B){g(D=>{var T;return{...D,loadingMore:!1,error:(T=B==null?void 0:B.message)!=null?T:"Failed to load more events"}})}}},A=R.useMemo(()=>{const B=n.actor.trim().toLowerCase(),D=n.target.trim().toLowerCase();return p.items.filter(T=>{var M;const y=!B||T.actorUserId.toLowerCase().includes(B)||((M=T.actorDisplayName)!=null?M:"").toLowerCase().includes(B),S=!D||T.targetUserId.toLowerCase().includes(D);return y&&S})},[p.items,n.actor,n.target]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:gu,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(Nv,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Actor (id or name)",value:i,onChange:B=>a(B.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(Nv,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Target user id",value:c,onChange:B=>d(B.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(mp,{label:"Action",value:n.action,onChange:B=>r(D=>({...D,action:B})),options:[{value:"all",label:"All"},{value:"user.role.update",label:"Role update"},{value:"user.status.update",label:"Status update"},{value:"user.notes.update",label:"Notes update"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:()=>b(B=>B+1),className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(ef,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"rounded-2xl border",style:gu,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#8AA5C4]",children:[A.length," events"]}),p.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(Ka,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:PC,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"Time"}),s.jsx("th",{className:"px-4 py-2",children:"Actor"}),s.jsx("th",{className:"px-4 py-2",children:"Target User"}),s.jsx("th",{className:"px-4 py-2",children:"Action"}),s.jsx("th",{className:"px-4 py-2",children:"Summary"})]})}),s.jsx("tbody",{children:A.map(B=>{var D;return s.jsxs("tr",{className:"border-t text-xs text-[#E4ECF5]",style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:yc(B.createdAt)}),s.jsxs("td",{className:"px-4 py-2",children:[s.jsx("div",{className:"text-white",children:(D=B.actorDisplayName)!=null?D:"N/A"}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:B.actorUserId})]}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{type:"button",className:"text-left font-mono text-[#5C8BC6] underline-offset-2 hover:underline",onClick:()=>e(B.targetUserId),children:B.targetUserId})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(LC,{action:B.action})}),s.jsx("td",{className:"px-4 py-2 text-[#C8D6EC]",children:B.summary})]},B.id)})})]}),!A.length&&!p.loading&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No audit events match these filters."})]}),p.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(ru,{className:"h-3.5 w-3.5"}),p.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:p.cursor?"More events available":"End of audit log"}),s.jsx("button",{type:"button",onClick:I,disabled:!p.cursor||p.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:p.loadingMore?"Loading...":"Load more"})]})]}),!t&&s.jsx("div",{className:"rounded-2xl border px-4 py-3 text-xs text-[#8AA5C4]",style:{borderColor:"#2B4C73"},children:"You are viewing the audit log in read-only mode."})]})}function pde({user:t,isAdmin:e,detailLoading:n,detailError:r,notesValue:i,notesDirty:a,onNotesChange:c,onNotesSave:d,onRoleToggle:u,onStatusChange:h,actionError:p,actionPending:g,auditEntries:v,auditLoading:b,auditError:j,onRefreshAudit:I,showRawJson:A,toggleRawJson:B}){var T,y;const D=FC(t.roles);return s.jsxs("div",{className:"space-y-4 text-xs text-[#E4ECF5]",children:[n&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border px-3 py-2",style:{borderColor:"#2B4C73"},children:[s.jsx(Ka,{className:"h-3 w-3 animate-spin"}),"Loading user..."]}),r&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-[#F9A825] bg-[#3A2B0F] px-3 py-2 text-[#FFD55F]",children:[s.jsx(ru,{className:"h-3.5 w-3.5"}),r]}),s.jsx("div",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(DC,{url:BC(t),name:xu(t),size:56}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-base text-white",children:xu(t)}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:t.userId}),s.jsxs("div",{className:"mt-1 flex gap-1",children:[s.jsx(MC,{role:D}),s.jsx(Wp,{provider:"discord",active:!!((T=t.providers)!=null&&T.discord)}),s.jsx(Wp,{provider:"google",active:!!((y=t.providers)!=null&&y.google)})]})]})]})}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Roles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["admin","mod","creator","user"].map(S=>s.jsx("button",{type:"button",onClick:()=>u(S),disabled:!e||S==="user",className:`rounded-full px-3 py-1 text-xs ${t.roles.includes(S)?"bg-[#1F3A59] text-white":"bg-[#122033] text-[#6E86A6]"} disabled:opacity-50`,children:S},S))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Status"}),s.jsx("div",{className:"flex gap-2",children:["active","suspended","banned"].map(S=>s.jsx("button",{type:"button",onClick:()=>h(S),disabled:!e,className:`rounded-full border px-3 py-1 text-xs capitalize ${py(t.status)===S?"border-[#5C8BC6] text-white":"border-[#2B4C73] text-[#8AA5C4]"} disabled:opacity-50`,children:S},S))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notes"}),!e&&s.jsx("span",{className:"text-[11px] text-[#8AA5C4]",children:"Read-only"})]}),s.jsx("textarea",{value:i,onChange:S=>c(S.target.value),className:"h-24 w-full rounded-xl border bg-[#0F1B2A] p-2 text-sm text-white placeholder:text-[#5C6E89] focus:outline-none disabled:opacity-60",style:{borderColor:"#2B4C73"},placeholder:"Add context for moderators",disabled:!e}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#8AA5C4]",children:[g&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ka,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),a&&e&&s.jsx("button",{type:"button",onClick:d,className:"ml-auto rounded-full border px-3 py-1 text-xs text-white",style:{borderColor:"#2B4C73"},children:"Save notes"})]}),p&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(ru,{className:"h-3 w-3"}),p]})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Audit log"}),s.jsxs("button",{type:"button",onClick:I,className:"flex items-center gap-1 rounded-full border px-2 py-1 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsx(ef,{className:"h-3 w-3"}),"Refresh"]})]}),b&&s.jsxs("div",{className:"flex items-center gap-2 text-[#8AA5C4]",children:[s.jsx(Ka,{className:"h-3 w-3 animate-spin"})," Loading entries..."]}),j&&s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(ru,{className:"h-3 w-3"}),j]}),!b&&!v.length&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:"No actions logged."}),s.jsx("ul",{className:"space-y-2",children:v.map(S=>{var M;return s.jsxs("li",{className:"rounded-xl border px-3 py-2 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"flex items-center justify-between text-[#8AA5C4]",children:[s.jsx("span",{children:yc(S.createdAt)}),s.jsx(LC,{action:S.action})]}),s.jsx("div",{className:"mt-1 text-white",children:(M=S.actorDisplayName)!=null?M:S.actorUserId}),s.jsx("div",{className:"text-[#C8D6EC]",children:S.summary})]},S.id)})})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Meta"}),s.jsxs("button",{type:"button",onClick:B,className:"flex items-center gap-1 text-[11px] text-[#5C8BC6]",children:[s.jsx(V6,{className:"h-3 w-3"}),A?"Hide raw JSON":"Show raw JSON"]})]}),s.jsxs("dl",{className:"space-y-1 text-[11px] text-[#C8D6EC]",children:[s.jsx(Qm,{label:"Created",value:yc(t.createdAt)}),s.jsx(Qm,{label:"Last login",value:yc(t.lastLoginAt)}),s.jsx(Qm,{label:"Primary provider",value:t.primaryProvider}),s.jsx(Qm,{label:"Roles",value:t.roles.join(", ")})]}),A&&s.jsx("pre",{className:"mt-3 max-h-48 overflow-auto rounded-xl bg-[#0F1B2A] p-3 text-[11px] text-[#8AA5C4]",children:JSON.stringify(t,null,2)})]})]})}function LC({action:t}){const e=t==="user.role.update"?"Role update":t==="user.status.update"?"Status update":"Notes update";return s.jsx("span",{className:"rounded-full border px-2 py-0.5 text-[11px]",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:e})}function Qm({label:t,value:e}){return e?s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsx("span",{className:"text-[#6E86A6]",children:t}),s.jsx("span",{className:"text-white",children:e})]}):null}function mp({label:t,value:e,options:n,onChange:r}){return s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[#8AA5C4]",children:t}),s.jsx("select",{value:e,onChange:i=>r(i.target.value),className:"rounded-xl border bg-[#0F1B2A] px-3 py-1 text-xs text-white focus:outline-none",style:{borderColor:"#2B4C73"},children:n.map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))})]})}function DC({url:t,name:e,size:n=32}){return t?s.jsx("img",{src:t,alt:"",className:"rounded-full border object-cover",style:{width:n,height:n,borderColor:"#2B4C73"}}):s.jsx("div",{className:"flex items-center justify-center rounded-full border bg-[#0F1B2A] text-xs text-[#8AA5C4]",style:{width:n,height:n,borderColor:"#2B4C73"},children:e.slice(0,2).toUpperCase()})}function MC({role:t}){const e=t==="admin"?"#F87171":t==="mod"?"#FBBF24":t==="creator"?"#34D399":"#93C5FD";return s.jsx("span",{className:"rounded-full px-2 py-0.5 text-[11px] capitalize",style:{background:"rgba(255,255,255,0.08)",color:e},children:t})}function fde({status:t}){const e={active:{label:"Active",color:"#5CC689",icon:s.jsx(OA,{className:"h-3 w-3"})},suspended:{label:"Suspended",color:"#F9A825",icon:s.jsx(ol,{className:"h-3 w-3"})},banned:{label:"Banned",color:"#FF6B6B",icon:s.jsx(AA,{className:"h-3 w-3"})}},{label:n,color:r,icon:i}=e[t];return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px]",style:{color:r,background:"rgba(255,255,255,0.06)"},children:[i,n]})}function Wp({provider:t,active:e}){const n=t==="discord"?"D":"G";return s.jsx("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] ${e?"bg-[#1F3A59] text-white":"bg-[#0F1B2A] text-[#55637B]"}`,title:t,children:n})}function FC(t){const e=["admin","mod","creator","user"];for(const n of e)if(t.includes(n))return n;return"user"}function xu(t){var e,n,r,i,a,c,d,u,h;return(h=(u=(a=(n=t.displayName)!=null?n:(e=t.profile)==null?void 0:e.displayName)!=null?a:(i=(r=t.providers)==null?void 0:r.discord)==null?void 0:i.displayName)!=null?u:(d=(c=t.providers)==null?void 0:c.google)==null?void 0:d.displayName)!=null?h:t.userId}function BC(t){var e,n,r,i,a,c,d;return(d=(c=(r=t.avatarUrl)!=null?r:(n=(e=t.providers)==null?void 0:e.discord)==null?void 0:n.avatarUrl)!=null?c:(a=(i=t.providers)==null?void 0:i.google)==null?void 0:a.avatarUrl)!=null?d:null}function py(t){return t!=null?t:"active"}function yc(t){if(!t)return"";const e=t.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(e)}function fy(t,e){const[n,r]=R.useState(t);return R.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}function gde(){return s.jsx(vt,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:s.jsx("div",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const xde="_page_jgozr_1",vde="_banner_jgozr_17",yde="_bannerSuccess_jgozr_31",bde="_bannerError_jgozr_43",_de="_card_jgozr_55",wde="_cardTitle_jgozr_75",jde="_cardSubtitle_jgozr_89",Sde="_identityHeader_jgozr_101",Nde="_identityAvatar_jgozr_115",kde="_identityName_jgozr_129",Cde="_identityProvider_jgozr_143",Tde="_identityForm_jgozr_155",Ede="_nameInputWrap_jgozr_171",Ade="_nameLabel_jgozr_187",Ide="_nameInput_jgozr_171",Rde="_nameSaveButton_jgozr_219",Pde="_feedbackError_jgozr_263",Lde="_feedbackSuccess_jgozr_275",Dde="_metaGrid_jgozr_287",Mde="_metaItem_jgozr_299",Fde="_metaLabel_jgozr_313",Bde="_metaValue_jgozr_327",$de="_serviceList_jgozr_341",Vde="_serviceRow_jgozr_351",Ode="_serviceName_jgozr_379",Ude="_serviceStatus_jgozr_393",zde="_serviceAction_jgozr_405",Hde="_securityText_jgozr_437",Gde="_securityNote_jgozr_449",Wde="_logoutButton_jgozr_461",qde="_loadingState_jgozr_493",Kde="_emptyState_jgozr_495",Qde="_emptyStateTitle_jgozr_513",Xde="_emptyStateText_jgozr_525",Yde="_primaryButton_jgozr_537",ut={page:xde,banner:vde,bannerSuccess:yde,bannerError:bde,card:_de,cardTitle:wde,cardSubtitle:jde,identityHeader:Sde,identityAvatar:Nde,identityName:kde,identityProvider:Cde,identityForm:Tde,nameInputWrap:Ede,nameLabel:Ade,nameInput:Ide,nameSaveButton:Rde,feedbackError:Pde,feedbackSuccess:Lde,metaGrid:Dde,metaItem:Mde,metaLabel:Fde,metaValue:Bde,serviceList:$de,serviceRow:Vde,serviceName:Ode,serviceStatus:Ude,serviceAction:zde,securityText:Hde,securityNote:Gde,logoutButton:Wde,loadingState:qde,emptyState:Kde,emptyStateTitle:Qde,emptyStateText:Xde,primaryButton:Yde},Jde="https://i.pravatar.cc/72",Xm=`${ll}/auth/account/profile`,uv=`${ll}/auth/google/link/start`,lS=3,cS=32,dS=t=>{if(!t)return;const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()},Zde=()=>{const{status:t,user:e,logout:n,refreshSession:r}=cl(),i=Dr(),a=Yn(),c=R.useMemo(()=>{const D=new URLSearchParams(a.search);return D.get("linked")==="google"?{type:"success",message:"Google successfully connected."}:D.get("error")==="google_already_linked"?{type:"error",message:"This Google account is already linked to another SFDataHub account."}:null},[a.search]),d=t==="loading"||t==="idle",u=t==="authenticated"&&!!e,h=()=>{i("/login")},p=async()=>{await n(),i("/")},g=()=>{if(!uv){window.alert("Auth service is not configured for Google linking.");return}window.location.href=uv},v=()=>s.jsx("div",{className:ut.loadingState,children:"Checking session..."}),b=()=>s.jsxs("div",{className:ut.emptyState,children:[s.jsx("p",{className:ut.emptyStateTitle,children:"You are not signed in."}),s.jsx("p",{className:ut.emptyStateText,children:"Use the sign-in page to connect your Discord or Google account and unlock settings."}),s.jsx("button",{type:"button",className:ut.primaryButton,onClick:h,children:"Go to sign-in"})]}),j=()=>{if(!c)return null;const D=c.type==="success"?`${ut.banner} ${ut.bannerSuccess}`:`${ut.banner} ${ut.bannerError}`;return s.jsx("div",{className:D,children:c.message})},I=()=>{var E,L,P;if(!e)return null;const D=(E=e.providers)==null?void 0:E.discord,T=(L=e.providers)==null?void 0:L.google,y=!!D,S=!!T,M=!!uv,C=M?S?T!=null&&T.displayName?`Connected as ${T.displayName}`:"Connected":"Not connected":"Auth service not configured",w=[{key:"discord",name:"Discord",status:y?`Connected as ${(P=D==null?void 0:D.displayName)!=null?P:e.displayName}`:"Not connected",actionLabel:y?"Connected":"Connect",disabled:!0},{key:"google",name:"Google",status:C,actionLabel:S?"Connected":"Connect",disabled:S||!M,onClick:S||!M?void 0:g},{key:"twitch",name:"Twitch",status:"Planned",actionLabel:"Soon",disabled:!0},{key:"youtube",name:"YouTube",status:"Planned",actionLabel:"Soon",disabled:!0}];return s.jsxs("section",{className:ut.card,children:[s.jsx("h2",{className:ut.cardTitle,children:"Connected services"}),s.jsx("p",{className:ut.cardSubtitle,children:"Manage which social logins are linked to your SFDataHub identity."}),s.jsx("div",{className:ut.serviceList,children:w.map(V=>s.jsxs("div",{className:ut.serviceRow,children:[s.jsxs("div",{children:[s.jsx("p",{className:ut.serviceName,children:V.name}),s.jsx("p",{className:ut.serviceStatus,children:V.status})]}),s.jsx("button",{type:"button",className:ut.serviceAction,disabled:V.disabled,onClick:V.onClick,children:V.actionLabel})]},V.key))})]})},A=()=>s.jsxs("section",{className:ut.card,children:[s.jsx("h2",{className:ut.cardTitle,children:"Security & session"}),s.jsx("p",{className:ut.securityText,children:"We only store your SFDataHub user ID, display name, avatar URL and provider identifiers (like your Discord ID). We never see or store your Discord or Google password."}),s.jsx("p",{className:ut.securityNote,children:"Logging out here only clears your SFDataHub session cookie. Your Discord or Google account stays signed in separately."}),s.jsx("button",{type:"button",className:ut.logoutButton,onClick:p,children:"Log out from this device"}),s.jsx("p",{className:ut.securityNote,children:"To fully revoke access, remove SFDataHub Auth from your Discord applications page."})]}),B=()=>d?v():u?s.jsxs(s.Fragment,{children:[s.jsx(eue,{user:e,refreshSession:r}),I(),A()]}):b();return s.jsx(vt,{title:"Account & Profile",subtitle:"Manage your SFDataHub identity and connected services.",centerFramed:!0,children:s.jsxs("div",{className:ut.page,children:[j(),B()]})})};function eue({user:t,refreshSession:e}){var M;const[n,r]=R.useState(()=>{var C;return(C=t==null?void 0:t.displayName)!=null?C:""}),[i,a]=R.useState(!1),[c,d]=R.useState(null),[u,h]=R.useState(!1),p=(t==null?void 0:t.avatarUrl)||Jde,g=(t==null?void 0:t.provider)==="google"?"Google":"Discord",v=(M=t==null?void 0:t.displayName)!=null?M:"",b=n.trim(),j=b.length===0||b.length>=lS&&b.length<=cS,I=!!t&&b.length>0&&b!==v,A=!!(Xm&&j&&I&&!i),B=b.length>0&&!j?`Name must be between ${lS} and ${cS} characters.`:null;R.useEffect(()=>{var C;r((C=t==null?void 0:t.displayName)!=null?C:""),h(!1),d(null)},[t==null?void 0:t.id,t==null?void 0:t.displayName]);const D=R.useMemo(()=>{var C;return t?[{label:"SFDataHub ID",value:t.id},(C=t.roles)!=null&&C.length?{label:"Roles",value:t.roles.join(", ")}:null,t.createdAt?{label:"Created at",value:dS(t.createdAt)}:null,t.lastLoginAt?{label:"Last login",value:dS(t.lastLoginAt)}:null].filter(w=>!!(w!=null&&w.value)):[]},[t]),T=async()=>{var C,w;if(!A||!Xm){Xm||d("Auth service is not configured.");return}try{a(!0),d(null),h(!1);const E=await fetch(Xm,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:b})});if(!E.ok){const L=await E.json().catch(()=>null);throw new Error((C=L==null?void 0:L.error)!=null?C:"Failed to update name.")}await e(),h(!0),r(b)}catch(E){const L=(w=E==null?void 0:E.message)!=null?w:"Failed to update name.";d(L)}finally{a(!1)}},y=C=>{C.key==="Enter"&&(C.preventDefault(),A&&T())},S=()=>{A&&T()};return t?s.jsxs("section",{className:ut.card,children:[s.jsxs("div",{className:ut.identityHeader,children:[s.jsx("img",{src:p,alt:"",className:ut.identityAvatar}),s.jsxs("div",{children:[s.jsx("p",{className:ut.identityName,children:t.displayName||"Unbenannter Nutzer"}),s.jsxs("p",{className:ut.identityProvider,children:[g," sign-in"]})]}),s.jsx("span",{className:ut.statusBadge,children:"Verified"})]}),s.jsxs("div",{className:ut.identityForm,children:[s.jsxs("div",{className:ut.nameInputWrap,children:[s.jsx("label",{className:ut.nameLabel,children:"Display name"}),s.jsx("input",{type:"text",className:ut.nameInput,value:n,onChange:C=>r(C.target.value),onKeyDown:y,onBlur:S,placeholder:"Enter your display name"})]}),s.jsx("button",{type:"button",className:ut.nameSaveButton,disabled:!A,onClick:T,children:i?"Saving...":"Save"})]}),B&&s.jsx("p",{className:ut.feedbackError,children:B}),c&&s.jsx("p",{className:ut.feedbackError,children:c}),u&&s.jsx("p",{className:ut.feedbackSuccess,children:"Name updated."}),D.length>0&&s.jsx("div",{className:ut.metaGrid,children:D.map(C=>s.jsxs("div",{className:ut.metaItem,children:[s.jsx("span",{className:ut.metaLabel,children:C.label}),s.jsx("span",{className:ut.metaValue,children:C.value})]},C.label))})]}):null}const yt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function tue(){return s.jsx("div",{style:yt.wrap,children:s.jsxs("div",{style:yt.grid,children:[s.jsxs("aside",{style:yt.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:yt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:yt.groupLabel,children:"Allgemein"}),s.jsx(os,{to:"list-views",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"List-View Switcher"}),s.jsx(os,{to:"rescan-widget",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(os,{to:"upload-sim",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"Upload Simulator"}),s.jsx(os,{to:"hud/game-buttons",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"HUD  Game Buttons"}),s.jsx(os,{to:"theme-maker",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"Theme / Template Maker"}),s.jsx(os,{to:"theme-maker-pro",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx("div",{style:yt.groupLabel,children:"Templates"}),s.jsx(os,{to:"templates/content-shell",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"ContentShell Template"}),s.jsx(os,{to:"templates/blank",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"Leere Vorlage"}),s.jsx(os,{to:"templates/blank-alt",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"Leere Vorlage (Neu)"}),s.jsx(os,{to:"templates/blank-layout-2",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"Leere Vorlage  Layout 2"}),s.jsx(os,{to:"templates/blank-layout-3",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"Leere Vorlage  Layout 3"}),s.jsx(os,{to:"templates/blank-layout-4",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"Leere Vorlage  Layout 4"}),s.jsx("div",{style:yt.groupLabel,children:"Guide Hub Demos"}),s.jsx(os,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),s.jsx("div",{style:yt.groupLabel,children:"Graphics / Portraits"}),s.jsx(os,{to:"portrait-maker",style:({isActive:t})=>({...yt.link,...t?yt.active:{}}),children:"PortraitMaker Demo"})]})]}),s.jsx("section",{style:yt.tile,children:s.jsx(sN,{})})]})})}const sue="_page_1kokx_1",nue="_topBar_1kokx_17",rue="_tabs_1kokx_31",iue="_tab_1kokx_31",aue="_tabActive_1kokx_63",oue="_searchWrap_1kokx_73",lue="_input_1kokx_85",cue="_stickyIcons_1kokx_105",due="_iconBtn_1kokx_129",uue="_tableWrap_1kokx_161",hue="_table_1kokx_161",mue="_th_1kokx_181",pue="_td_1kokx_181",fue="_row_1kokx_201",gue="_chips_1kokx_219",xue="_chip_1kokx_219",vue="_badges_1kokx_249",yue="_badge_1kokx_249",bue="_badgeMax_1kokx_275",_ue="_badgeAchiev_1kokx_277",wue="_badgeX2_1kokx_279",jue="_badgeX12_1kokx_281",Sue="_badgeX60_1kokx_283",Nue="_section_1kokx_289",kue="_sectionHeader_1kokx_297",Cue="_cardList_1kokx_315",Tue="_card_1kokx_315",Eue="_cardMax_1kokx_353",Aue="_iconXL_1kokx_355",Iue="_split_1kokx_369",Rue="_left_1kokx_379",Pue="_leftBtn_1kokx_399",Lue="_leftBtnActive_1kokx_411",Due="_detail_1kokx_413",Mue="_grid_1kokx_433",Fue="_tile_1kokx_443",Bue="_drawer_1kokx_457",$ue="_timeline_1kokx_487",Vue="_node_1kokx_493",Oue="_dot_1kokx_501",Ye={page:sue,topBar:nue,tabs:rue,tab:iue,tabActive:aue,searchWrap:oue,input:lue,stickyIcons:cue,iconBtn:due,tableWrap:uue,table:hue,th:mue,td:pue,row:fue,chips:gue,chip:xue,badges:vue,badge:yue,badgeMax:bue,badgeAchiev:_ue,badgeX2:wue,badgeX12:jue,badgeX60:Sue,section:Nue,sectionHeader:kue,cardList:Cue,card:Tue,cardMax:Eue,iconXL:Aue,split:Iue,left:Rue,leftBtn:Pue,leftBtnActive:Lue,detail:Due,grid:Mue,tile:Fue,drawer:Bue,timeline:$ue,node:Vue,dot:Oue},uS=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function Rr(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function Uue(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function zue(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function qp({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Ye.iconBtn,title:t||"Rune",children:e})}function c1({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Ye.iconXL,title:t||"Rune",children:e})}function Hue(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function ah({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:Ye.chips,children:e.map((n,r)=>s.jsx("span",{className:Ye.chip,children:n},r))})}function oh({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Ye.badgeMax}),Uue(t)&&n.push({label:"Achievement",cls:Ye.badgeAchiev});const r=zue(t);return r==="x2"&&n.push({label:"x2",cls:Ye.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Ye.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Ye.badgeX60}),n.length===0?null:s.jsx("div",{className:Ye.badges,children:n.map((i,a)=>{var c;return s.jsx("span",{className:`${Ye.badge} ${(c=i.cls)!=null?c:""}`,children:i.label},a)})})}function Gue(t){const e=t.trim().toLowerCase();return e?uS.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):uS}function Wue({data:t}){const e=Math.max(...t.map(i=>Rr(i.amount))),n=R.useMemo(()=>Array.from(new Set(t.map(i=>i.tier||"(no tier)"))),[t]);function r(i){const a=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ye.stickyIcons,children:n.map((i,a)=>s.jsx("div",{onClick:()=>r(i),children:s.jsx(qp,{label:i||"(no tier)"})},a))}),s.jsx("div",{className:Ye.tableWrap,children:s.jsxs("table",{className:Ye.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Ye.th,style:{width:42}}),s.jsx("th",{className:Ye.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:Ye.th,children:"Bonuses"}),s.jsx("th",{className:Ye.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((i,a)=>{const c=Math.abs(Rr(i.amount)-e)<1e-6;return s.jsxs("tr",{className:Ye.row,"data-tier":i.tier||"(no tier)",children:[s.jsx("td",{className:Ye.td,children:s.jsx(qp,{label:i.tier||""})}),s.jsx("td",{className:Ye.td,children:i.amount}),s.jsx("td",{className:Ye.td,children:s.jsx(ah,{r:i})}),s.jsx("td",{className:Ye.td,children:s.jsx(oh,{r:i,isMax:c})})]},a)})})]})})]})}function que({data:t}){const e=Hue(t),n=Math.max(...t.map(r=>Rr(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,i])=>s.jsxs("section",{className:Ye.section,children:[s.jsx("div",{className:Ye.sectionHeader,children:r}),s.jsx("div",{className:Ye.cardList,children:i.map((a,c)=>{const d=Math.abs(Rr(a.amount)-n)<1e-6;return s.jsxs("div",{className:`${Ye.card} ${d?Ye.cardMax:""}`,children:[s.jsx(c1,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:a.amount}),s.jsx(oh,{r:a,isMax:d})]}),s.jsx(ah,{r:a})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function Kue({data:t}){var c;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[n,r]=R.useState((c=e[0])!=null?c:""),i=t.filter(d=>(d.tier||"(no tier)")===n),a=Math.max(...t.map(d=>Rr(d.amount)));return s.jsxs("div",{className:Ye.split,children:[s.jsx("div",{className:Ye.left,children:e.map(d=>s.jsxs("button",{className:`${Ye.leftBtn} ${d===n?Ye.leftBtnActive:""}`,onClick:()=>r(d),children:[s.jsx(qp,{label:d}),s.jsx("span",{children:d})]},d))}),s.jsxs("div",{className:Ye.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(c1,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((d,u)=>{const h=Math.abs(Rr(d.amount)-a)<1e-6;return s.jsxs("div",{className:Ye.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:d.amount}),s.jsx(oh,{r:d,isMax:h})]}),s.jsx(ah,{r:d})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},u)})]})]})}function Que({data:t}){const[e,n]=R.useState(null),r=Math.max(...t.map(i=>Rr(i.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Ye.grid,children:t.map((i,a)=>s.jsx("div",{className:Ye.tile,onClick:()=>n(i),title:i.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(qp,{label:i.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},a))}),e&&s.jsxs("div",{className:Ye.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx(c1,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:Ye.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(oh,{r:e,isMax:Math.abs(Rr(e.amount)-r)<1e-6})}),s.jsx(ah,{r:e})]})]})}function Xue({data:t}){const e=Math.max(...t.map(r=>Rr(r.amount))),n=[...t].sort((r,i)=>Rr(r.amount)-Rr(i.amount));return s.jsx("div",{className:Ye.timeline,children:n.map((r,i)=>{const a=Math.abs(Rr(r.amount)-e)<1e-6;return s.jsxs("div",{className:Ye.node,children:[s.jsx("div",{className:Ye.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(oh,{r,isMax:a})]}),s.jsx(ah,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const Yue=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function Jue(){const[t,e]=R.useState("A: Compact Table"),[n,r]=R.useState(""),i=Gue(n);return s.jsxs("div",{className:Ye.page,children:[s.jsxs("div",{className:Ye.topBar,children:[s.jsx("div",{className:Ye.tabs,children:Yue.map(a=>s.jsx("button",{onClick:()=>e(a),className:`${Ye.tab} ${t===a?Ye.tabActive:""}`,children:a},a))}),s.jsx("div",{className:Ye.searchWrap,children:s.jsx("input",{className:Ye.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:a=>r(a.target.value)})})]}),t==="A: Compact Table"&&s.jsx(Wue,{data:i}),t==="B: Card Track"&&s.jsx(que,{data:i}),t==="C: Two-Pane"&&s.jsx(Kue,{data:i}),t==="D: Icon Grid + Drawer"&&s.jsx(Que,{data:i}),t==="E: Timeline"&&s.jsx(Xue,{data:i})]})}function Zue(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(os,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const ge={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},ehe=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),Ho={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function the(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function Gc(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",the(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function $C(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},a={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},u={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},h={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},p={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},g={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},v={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},b={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:a,gold:c,obsidian:d,neon:u,plasma:h,aurora:p,satin:g,matte:v,holo:b}[t.material]}function io(t){const e={color:ge.title,borderColor:ge.border,...$C(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const lh=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function Wc({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function she({fx:t,children:e}){const n=Gc(t),r=io(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx(Wc,{fx:t,clip:i}),t.withIcon&&s.jsx(cN,{size:16,className:"relative z-10"}),s.jsx(lh,{children:e})]})}function nhe({fx:t,children:e}){const n=Gc(t),r=io(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(Wc,{fx:t,clip:i}),t.withIcon&&s.jsx(dN,{size:16,className:"relative z-10"}),s.jsx(lh,{children:e})]})}function rhe({fx:t,children:e}){const n=Gc(t),r=io(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(Wc,{fx:t,clip:i}),t.withIcon&&s.jsx(ol,{size:16,className:"relative z-10"}),s.jsx(lh,{children:e})]})}function ihe({fx:t,children:e}){const n=Gc(t),r=io(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${ge.tile}, ${ge.active})`}}),s.jsx(Wc,{fx:t,clip:i}),t.withIcon&&s.jsx(uN,{size:16,className:"relative z-10"}),s.jsx(lh,{children:e})]})}function ahe({fx:t,children:e}){const n=Gc(t),r=io(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx(Wc,{fx:t}),t.withIcon&&s.jsx(Zp,{size:16,className:"relative z-10"}),s.jsx(lh,{children:e})]})}function ohe({fx:t,tabs:e}){const[n,r]=R.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:e.map((i,a)=>s.jsxs("button",{onClick:()=>r(a),className:`px-4 py-2 rounded-lg text-sm transition-colors ${a===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:a===n?ge.active:"transparent",border:a===n&&t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[t.withIcon&&a===n&&s.jsx(Zp,{size:14,className:"inline mr-1"}),i]},a))})}function lhe({fx:t}){const e=Gc(t),n=io(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(mN,{})})}const gy={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function che({fx:t,setFx:e}){const n=(d,u)=>e(h=>({...h,[d]:u})),r=d=>e(u=>({...u,[d]:!u[d]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],a=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ge.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Presets"}),Object.keys(gy).map(d=>s.jsx("button",{onClick:()=>e(u=>gy[d](u)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:ge.btn,borderColor:ge.border,color:ge.title},children:d},d))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ge.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Material"}),i.map(d=>s.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:d},d)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:ge.title},children:"Size"}),["sm","md","lg"].map(d=>s.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:d.toUpperCase()},d)),s.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ge.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Core FX"}),a.map(([d,u])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:u},d))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ge.title},children:"Advanced"}),c.map(([d,u])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?ge.active:ge.btn,borderColor:ge.border,color:ge.title},children:u},d))]}),s.jsx("button",{onClick:()=>e(Ho),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:ge.btn,borderColor:ge.border,color:ge.title},children:"Reset"})]})}function Ht({fx:t,className:e="",style:n={},children:r,clip:i}){const a=io(t);return s.jsxs("div",{className:`relative ${e}`,style:{...a,...n},children:[s.jsx(Wc,{fx:t,clip:i}),s.jsx("div",{className:"relative z-10",children:r})]})}function Ln({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:n})}function dhe({fx:t}){const[e,n]=R.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(Ln,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const a=e.includes(i);return s.jsx(Ht,{fx:t,className:`rounded-full border ${a?"":"opacity-80"}`,style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(c=>a?c.filter(d=>d!==i):[...c,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function uhe({fx:t}){return s.jsxs(Ln,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:ge.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(Ht,{fx:t,className:"rounded-xl border p-2",style:{borderColor:ge.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(mN,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function hhe({fx:t}){return s.jsxs(Ht,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(Ht,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:ge.border},children:e},e))})]})}function mhe({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(Ln,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(Ht,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:ge.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function phe({fx:t}){const[e,n]=R.useState(.66);return s.jsxs(Ln,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Meter / Energy Bar"}),s.jsx(Ht,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:ge.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function fhe({fx:t}){return s.jsxs(Ln,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Badge / Medal"}),s.jsxs(Ht,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:ge.border},children:[s.jsx(ol,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function ghe({fx:t}){const[e,n]=R.useState(!1);return s.jsxs(Ln,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Toast / Notification"}),s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(Ht,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:ge.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function xhe({fx:t}){const[e,n]=R.useState(!0);return s.jsxs(Ln,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Toggle Switch"}),s.jsxs(Ht,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:ge.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function vhe({fx:t}){const[e,n]=R.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(Ln,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Dropdown HUD"}),s.jsx(Ht,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(Ht,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:ge.border},children:r.map(i=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function yhe({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(Ln,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,a=56,c=56+Math.cos(i)*a,d=56+Math.sin(i)*a;return s.jsx(Ht,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:ge.border},children:n},n)}),s.jsx(Ht,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:ge.border},children:"Menu"})]})]})}function bhe({fx:t}){const e=[1,2,3,4,5],[n,r]=R.useState(2);return s.jsxs(Ln,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>s.jsx(Ht,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:ge.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function _he({fx:t}){const[e,n]=R.useState(!1);return s.jsxs(Ln,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ge.title},children:"Modal HUD"}),s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(Ht,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:ge.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function whe({fx:t}){const[e,n]=R.useState("");return s.jsxs(Ln,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Search HUD"}),s.jsx(Ht,{fx:t,className:"rounded-lg border p-2",style:{borderColor:ge.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function jhe({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=R.useState("Bravo");return s.jsxs(Ln,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(i=>s.jsx(Ht,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:ge.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function She({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=R.useState(1);return s.jsxs(Ln,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((i,a)=>s.jsxs(J.Fragment,{children:[s.jsx(Ht,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${a<=n?"":"opacity-70"}`,style:{borderColor:ge.border},children:a+1}),a<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(Ht,{fx:t,className:"rounded-md border",style:{borderColor:ge.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function Nhe({fx:t}){const e=["","","","","",""];return s.jsxs(Ln,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ge.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(Ht,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:ge.border},children:n},r))})]})}function khe(){const[t,e]=R.useState(Ho);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:ge.bg,color:ge.txt},children:[s.jsx(ehe,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(d6,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:ge.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:ge.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx(che,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:ge.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(she,{fx:t,children:[s.jsx(cN,{size:16})," Diamond"]}),s.jsxs(nhe,{fx:t,children:[s.jsx(dN,{size:16})," Hex"]}),s.jsxs(rhe,{fx:t,children:[s.jsx(ol,{size:16})," Octagon/Shield"]}),s.jsxs(ihe,{fx:t,children:[s.jsx(uN,{size:16})," Shard"]}),s.jsxs(ahe,{fx:t,children:[s.jsx(Zp,{size:16})," Pill/Chip"]}),s.jsx(lhe,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:ge.title},children:"Tabs"}),s.jsx(ohe,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:ge.tile,border:t.baseBorder?`1px solid ${ge.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:ge.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(dhe,{fx:t}),s.jsx(uhe,{fx:t}),s.jsx(hhe,{fx:t}),s.jsx(mhe,{fx:t}),s.jsx(phe,{fx:t}),s.jsx(fhe,{fx:t}),s.jsx(ghe,{fx:t}),s.jsx(xhe,{fx:t}),s.jsx(vhe,{fx:t}),s.jsx(yhe,{fx:t}),s.jsx(bhe,{fx:t}),s.jsx(_he,{fx:t}),s.jsx(whe,{fx:t}),s.jsx(jhe,{fx:t}),s.jsx(She,{fx:t}),s.jsx(Nhe,{fx:t})]})]})}),s.jsx(Che,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:ge.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function Che(){return R.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(Ho.material),"Material type present");const e=io(Ho);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=$C({...Ho,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof Ho[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(gy).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const a=i({...Ho});console.assert(a&&typeof a=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const vu={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},hS={Arcade:{...vu,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...vu,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},rc={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},VC={display:"grid",gap:8,alignItems:"center"};function Xi({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...VC,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function hv({label:t,value:e,min:n,max:r,onChange:i}){return s.jsxs("label",{style:{...VC,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:a=>i(parseInt(a.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:a=>i(parseInt(a.target.value||"0"))})]})}function mS(){const[t,e]=J.useState(vu),n=J.useRef(null),r=u=>{const h=n.current;h&&(h.style.setProperty("--page",u.page),h.style.setProperty("--tile",u.tile),h.style.setProperty("--tile-hover",u.tileHover),h.style.setProperty("--nav",u.nav),h.style.setProperty("--active",u.active),h.style.setProperty("--text",u.text),h.style.setProperty("--text-soft",u.textSoft),h.style.setProperty("--title",u.title),h.style.setProperty("--line",u.line),h.style.setProperty("--radius",`${u.radius}px`),h.style.setProperty("--shadow",`0 8px ${u.shadow}px rgba(0,0,0,0.25)`),h.style.setProperty("--gap",`${u.gap}px`))};J.useEffect(()=>{r(t)},[t]);const i=u=>e(hS[u]),a=()=>e(vu),c=()=>{const u=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download="sfdatahub-theme.json",h.click()},d=async u=>{const h=await u.text();e({...vu,...JSON.parse(h)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(hS).map(u=>s.jsx("button",{style:rc,onClick:()=>i(u),children:u},u)),s.jsx("button",{style:rc,onClick:a,children:"Default"}),s.jsx("button",{style:rc,onClick:c,children:"Export JSON"}),s.jsxs("label",{style:{...rc,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:u=>u.target.files&&d(u.target.files[0]),style:{display:"none"}})]})]}),s.jsx(Xi,{label:"Page",value:t.page,onChange:u=>e(h=>({...h,page:u}))}),s.jsx(Xi,{label:"Tile",value:t.tile,onChange:u=>e(h=>({...h,tile:u}))}),s.jsx(Xi,{label:"Tile Hover",value:t.tileHover,onChange:u=>e(h=>({...h,tileHover:u}))}),s.jsx(Xi,{label:"Nav",value:t.nav,onChange:u=>e(h=>({...h,nav:u}))}),s.jsx(Xi,{label:"Active",value:t.active,onChange:u=>e(h=>({...h,active:u}))}),s.jsx(Xi,{label:"Text",value:t.text,onChange:u=>e(h=>({...h,text:u}))}),s.jsx(Xi,{label:"Text Soft",value:t.textSoft,onChange:u=>e(h=>({...h,textSoft:u}))}),s.jsx(Xi,{label:"Title",value:t.title,onChange:u=>e(h=>({...h,title:u}))}),s.jsx(Xi,{label:"Line",value:t.line,onChange:u=>e(h=>({...h,line:u}))}),s.jsx(hv,{label:"Radius",value:t.radius,min:8,max:28,onChange:u=>e(h=>({...h,radius:u}))}),s.jsx(hv,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:u=>e(h=>({...h,shadow:u}))}),s.jsx(hv,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:u=>e(h=>({...h,gap:u}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{...rc,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:rc,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((u,h)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",h+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},h))})]})]})]})}const xy={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},pS={"SFDataHub (Default)":{...xy},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},Pf={display:"grid",gap:8,alignItems:"center"},Bo={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},$o={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Tr({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...Pf,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Yi({label:t,value:e,min:n,max:r,step:i=1,onChange:a,suffix:c}){return s.jsxs("label",{style:{...Pf,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:d=>a(parseFloat(d.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:d=>a(parseFloat(d.target.value||"0"))})]})}function The({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{...Pf,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function fS(){const[t,e]=J.useState(xy),n=J.useRef(null),r=h=>{const p=n.current;p&&(p.style.setProperty("--page",h.page),p.style.setProperty("--tile",h.tile),p.style.setProperty("--tile-hover",h.tileHover),p.style.setProperty("--nav",h.nav),p.style.setProperty("--active",h.active),p.style.setProperty("--text",h.text),p.style.setProperty("--text-soft",h.textSoft),p.style.setProperty("--title",h.title),p.style.setProperty("--line",h.line),p.style.setProperty("--accent",h.accent),p.style.setProperty("--success",h.success),p.style.setProperty("--warning",h.warning),p.style.setProperty("--danger",h.danger),p.style.setProperty("--radius",`${h.radius}px`),p.style.setProperty("--border",`${h.border}px`),p.style.setProperty("--gap",`${h.gap}px`),p.style.setProperty("--shadow",`0 10px ${h.shadow}px rgba(0,0,0,0.30)`),p.style.setProperty("--surface-opacity",`${h.surfaceOpacity}%`),p.style.setProperty("--noise",`${h.noise}%`),p.style.setProperty("--font",h.fontFamily),p.style.setProperty("--font-size",`${h.fontSize}px`),p.style.setProperty("--heading-tight",h.headingsTight?"1.1":"1.3"),p.style.setProperty("--glow",`${h.glow}`),p.style.setProperty("--scanlines",`${h.scanlines}`))};J.useEffect(()=>{r(t)},[t]);const i=(h,p)=>e(g=>({...g,[h]:p})),a=h=>e(p=>({...p,...pS[h]})),c=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(h),p.download="sfdatahub-theme-pro.json",p.click()},d=async h=>{try{const p=await h.text(),g=JSON.parse(p);e({...t,...g})}catch(p){}},u={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(pS).map(h=>s.jsx("button",{style:Bo,onClick:()=>a(h),children:h},h)),s.jsx("button",{style:Bo,onClick:()=>e(xy),children:"Reset"}),s.jsx("button",{style:Bo,onClick:c,children:"Export"}),s.jsxs("label",{style:{...Bo,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:h=>h.target.files&&d(h.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Tr,{label:"Page",value:t.page,onChange:h=>i("page",h)}),s.jsx(Tr,{label:"Tile",value:t.tile,onChange:h=>i("tile",h)}),s.jsx(Tr,{label:"Tile Hover",value:t.tileHover,onChange:h=>i("tileHover",h)}),s.jsx(Tr,{label:"Active",value:t.active,onChange:h=>i("active",h)}),s.jsx(Tr,{label:"Text",value:t.text,onChange:h=>i("text",h)}),s.jsx(Tr,{label:"Text Soft",value:t.textSoft,onChange:h=>i("textSoft",h)}),s.jsx(Tr,{label:"Title",value:t.title,onChange:h=>i("title",h)}),s.jsx(Tr,{label:"Line",value:t.line,onChange:h=>i("line",h)}),s.jsx(Tr,{label:"Accent",value:t.accent,onChange:h=>i("accent",h)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(Tr,{label:"Success",value:t.success,onChange:h=>i("success",h)}),s.jsx(Tr,{label:"Warning",value:t.warning,onChange:h=>i("warning",h)}),s.jsx(Tr,{label:"Danger",value:t.danger,onChange:h=>i("danger",h)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Yi,{label:"Radius",min:0,max:28,value:t.radius,onChange:h=>i("radius",h)}),s.jsx(Yi,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:h=>i("border",h)}),s.jsx(Yi,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:h=>i("gap",h)}),s.jsx(Yi,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:h=>i("shadow",h)}),s.jsx(Yi,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:h=>i("surfaceOpacity",h),suffix:"%"}),s.jsx(Yi,{label:"Noise",min:0,max:20,value:t.noise,onChange:h=>i("noise",h),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{...Pf,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:h=>i("fontFamily",h.target.value)})]}),s.jsx(Yi,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:h=>i("fontSize",h)}),s.jsx(The,{label:"Headings tighter",checked:t.headingsTight,onChange:h=>i("headingsTight",h)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Yi,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:h=>i("glow",h)}),s.jsx(Yi,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:h=>i("scanlines",h)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:$o,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...$o,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...$o,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...$o,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:$o,children:["Radius: ",t.radius]}),s.jsxs("span",{style:$o,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:$o,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:u.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[u.className,"  ",u.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",u.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:u.level,pct:u.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:u.scrapbook+"%",pct:u.scrapbook/100,color:"var(--success)"},{label:"Power",value:u.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:u.activity+"%",pct:u.activity/100,color:"var(--accent)"}].map((h,p)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:h.label}),s.jsx("span",{style:{color:"var(--title)"},children:h.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(h.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${h.color} 75%, transparent), ${h.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${h.color} 40%, transparent)`}})})]},p))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...Bo,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...Bo,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((h,p)=>s.jsx("button",{style:{...Bo,background:p===0?"var(--tile-hover)":"transparent",borderColor:p===0?"var(--active)":"var(--line)",boxShadow:p===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:h},h))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((h,p)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:h.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:h.v}),s.jsx("div",{style:{fontSize:12,color:h.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:h.trend})]},p))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((h,p)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:p%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:h[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:h[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:h[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:h[2]})]},p))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const gS=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function Ehe(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:gS[n%gS.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const mv={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function xS(){const[t,e]=R.useState("rows"),[n,r]=R.useState(0),[i,a]=R.useState(""),[c,d]=R.useState(60),u=R.useMemo(()=>Ehe(240),[]),h=R.useMemo(()=>u.filter(p=>p.level>=n).filter(p=>p.name.toLowerCase().includes(i.toLowerCase())).slice(0,c),[u,n,i,c]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:p=>e(p.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:i,onChange:p=>a(p.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:p=>r(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:c,onChange:p=>d(parseInt(p.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{...mv,padding:0,overflow:"hidden"},children:h.map(p=>{var g;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[p.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(g=p.kpi)==null?void 0:g.toFixed(1)})]})]},p.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(p=>{var g;return s.jsxs("div",{style:mv,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:p.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(g=p.kpi)==null?void 0:g.toFixed(1)})]})]},p.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(p=>s.jsxs("div",{style:{...mv,height:140+parseInt(p.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:p.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:p.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",p.level," ",p.guild?` ${p.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},p.id))})]})}function vS(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function yS(){const[t,e]=R.useState(120),[n,r]=R.useState(()=>vS(24));R.useEffect(()=>{const a=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),u=[...c];return u[d]={...u[d],lastScanMinsAgo:0},u})},5e3);return()=>clearInterval(a)},[]),R.useEffect(()=>{const a=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(a)},[]);const i=R.useMemo(()=>n.filter(a=>a.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:a=>e(parseInt(a.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(vS(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(a=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[a.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:a.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[a.lastScanMinsAgo," min ago"]})]},a.id)),i.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function Ahe(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function bS(){const[t,e]=R.useState("idle"),[n,r]=R.useState(null),[i,a]=R.useState(!1),c=R.useCallback(async d=>{var h;d.preventDefault(),a(!1);const u=(h=d.dataTransfer.files)==null?void 0:h[0];if(u){e("validating");try{const p=await u.text(),{isHar:g,isSf:v}=Ahe(p);if(e("parsing"),await new Promise(b=>setTimeout(b,600)),!g&&!v){e("error"),r({isHar:g,isSf:v,sizeKB:Math.round(u.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:g,isSf:v,sizeKB:Math.round(u.size/1024),summary:`Detected: ${g?"HAR":v?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(p.length/2500)} (rough).`})}catch(p){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(p==null?void 0:p.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:d=>{d.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const Ihe="_wrap_hxkkn_3",Rhe="_left_hxkkn_17",Phe="_right_hxkkn_25",Lhe="_canvasCard_hxkkn_33",Dhe="_hint_hxkkn_83",Mhe="_panel_hxkkn_95",Fhe="_panelTitle_hxkkn_109",Bhe="_panelBody_hxkkn_121",Ji={wrap:Ihe,left:Rhe,right:Phe,canvasCard:Lhe,hint:Dhe,panel:Mhe,panelTitle:Fhe,panelBody:Bhe},$he=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],Vhe=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function Ohe(){const[t,e]=R.useState("Canvas ist vorbereitet (526526)."),n=R.useRef(null),[r,i]=R.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[a,c]=R.useState(!0);R.useEffect(()=>{const p=document.getElementById("PortraitCanvas");if(!p){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(b){}let g=console.error;a&&(console.error=(...b)=>{var I;const j=String((I=b==null?void 0:b[0])!=null?I:"");j.includes("Failed to load URL")&&j.includes("PortraitMaker-res/portraits/")||g(...b)});let v=null;try{v=new BS(p,{...r}),n.current=v,e("Rendering")}catch(b){a&&(console.error=g),g("Error initializing PortraitMaker:",b),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return v&&(v.onFinish=()=>{a&&(console.error=g),e("Fertig gerendert.")}),()=>{try{v&&typeof v.dispose=="function"&&v.dispose()}finally{a&&(console.error=g)}}},[r,a]);const d=()=>{const p=document.getElementById("PortraitCanvas");if(!p)return;const g=p.toDataURL("image/png"),v=document.createElement("a");v.href=g,v.download="portrait.png",v.click()},u=p=>{i(g=>({...g,genderName:p,beard:p==="female"?0:g.beard}))},h=r.special!==0;return s.jsxs("div",{className:Ji.wrap,children:[s.jsx("div",{className:Ji.left,children:s.jsxs("div",{className:Ji.canvasCard,children:[s.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),s.jsx("div",{className:Ji.hint,children:t})]})}),s.jsx("div",{className:Ji.right,children:s.jsxs("div",{className:Ji.panel,children:[s.jsx("h2",{className:Ji.panelTitle,children:"Controls"}),s.jsx("div",{className:Ji.panelBody,children:s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",s.jsx("input",{type:"number",value:r.special,onChange:p=>i(g=>({...g,special:Number(p.target.value||0)})),style:{width:100}})]}),s.jsxs("fieldset",{disabled:h,style:{border:0,padding:0,margin:0},children:[s.jsxs("label",{children:["Gender:",s.jsxs("select",{value:r.genderName,onChange:p=>u(p.target.value),children:[s.jsx("option",{value:"male",children:"male"}),s.jsx("option",{value:"female",children:"female"})]})]}),s.jsxs("label",{children:["Class:",s.jsx("input",{type:"number",min:1,value:r.class,onChange:p=>i(g=>({...g,class:Number(p.target.value||0)})),style:{width:80}})]}),s.jsxs("label",{children:["Race:",s.jsx("input",{type:"number",min:1,value:r.race,onChange:p=>i(g=>({...g,race:Number(p.target.value||0)})),style:{width:80}})]})]}),s.jsxs("label",{children:["Background:",s.jsx("select",{value:r.background,onChange:p=>i(g=>({...g,background:p.target.value})),children:$he.map(p=>s.jsx("option",{value:p,children:p===""?"transparent":p},p))})]}),s.jsxs("label",{children:["Frame:",s.jsx("select",{value:r.frame,onChange:p=>i(g=>({...g,frame:p.target.value})),children:Vhe.map(p=>s.jsx("option",{value:p,children:p===""?"none":p},p))})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:p=>i(g=>({...g,showBorder:p.target.checked}))}),"showBorder"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:a,onChange:p=>c(p.target.checked)}),"Mute 404 logs (Playground)"]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:s.jsx("button",{onClick:d,children:"Export PNG"})}),h&&s.jsxs("div",{className:Ji.hint,children:["Hinweis: Bei ",s.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const Uhe=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],zhe=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],Hhe=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function Ghe(){return s.jsx(vt,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),s.jsx("ul",{className:"mt-2 space-y-2",children:Uhe.map(t=>s.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[s.jsx("div",{className:"font-semibold text-slate-50",children:t.title}),s.jsx("p",{className:"text-xs text-slate-400",children:t.description})]},t.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[s.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),s.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),s.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),s.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:zhe.map(t=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("dt",{className:"text-xs text-slate-400",children:t.label}),s.jsx("dd",{className:"font-semibold",children:t.value})]},t.label))})]}),s.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),s.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:Hhe.map(t=>s.jsx("li",{children:t},t))})]})]}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),s.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),s.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),s.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:t}),s.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},t))}),s.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",t]}),s.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",t]})]}),s.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),s.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},t))})]})})}const Whe={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function qhe(){return s.jsx(vt,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:s.jsx("div",{className:"flex w-full justify-center pt-10",children:s.jsx(aC,{config:Whe,label:"Playground Avatar"})})})}const Khe=Array.from({length:4},(t,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function Qhe(){return s.jsx(vt,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:Khe.map(t=>s.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:t.label}),s.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),s.jsx("p",{className:"text-[11px] text-slate-400",children:t.note})]},t.id))})})})}const Xhe="_avatarFrameMask_1pzs8_5",Yhe="_avatarFrameOverlay_1pzs8_7",_S={avatarFrameMask:Xhe,avatarFrameOverlay:Yhe},Jhe=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function Zhe(){return s.jsx(vt,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:s.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[s.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:Jhe.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:t.title}),s.jsx("p",{className:"mt-2 text-xs text-slate-300",children:t.detail}),s.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.title))}),s.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:_S.avatarFrameMask,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:_S.avatarFrameOverlay,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const eme=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function tme(){return s.jsx(vt,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"flex w-full flex-col gap-4",children:eme.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[t.label,s.jsx("span",{children:"Leer"})]}),s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:t.info}),s.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.label))})})})}function sme(){return s.jsx(vt,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),s.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const Y={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},nme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},rme={maxWidth:1200,margin:"0 auto"},ime={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function ame(){return s.jsx("div",{style:nme,children:s.jsxs("div",{style:rme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ime,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${Y.line}`,borderRadius:12,padding:24,textAlign:"center",background:Y.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const ome={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},lme={maxWidth:1200,margin:"0 auto"},cme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function dme(){return s.jsx("div",{style:ome,children:s.jsxs("div",{style:lme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:cme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const ume={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},hme={maxWidth:1200,margin:"0 auto"},mme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function pme(){return s.jsx("div",{style:ume,children:s.jsxs("div",{style:hme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:mme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const fme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},gme={maxWidth:1200,margin:"0 auto"},xme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function vme(){return s.jsx("div",{style:fme,children:s.jsxs("div",{style:gme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:xme,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${Y.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:Y.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const yme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},bme={maxWidth:1200,margin:"0 auto"},_me={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function wme(){return s.jsx("div",{style:yme,children:s.jsxs("div",{style:bme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:_me,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:Y.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:Y.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const jme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Sme={maxWidth:1200,margin:"0 auto"},Nme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function kme(){return s.jsx("div",{style:jme,children:s.jsxs("div",{style:Sme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Nme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const Cme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Tme={maxWidth:1200,margin:"0 auto"},Eme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ame(){return s.jsx("div",{style:Cme,children:s.jsxs("div",{style:Tme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Eme,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${Y.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:Y.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const Ime={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Rme={maxWidth:1200,margin:"0 auto"},Pme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Lme(){return s.jsx("div",{style:Ime,children:s.jsxs("div",{style:Rme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:Pme,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const Dme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Mme={maxWidth:1200,margin:"0 auto"},Fme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Bme(){return s.jsx("div",{style:Dme,children:s.jsxs("div",{style:Mme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Fme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const $me={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Vme={maxWidth:1200,margin:"0 auto"},Ome={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ume(){return s.jsx("div",{style:$me,children:s.jsxs("div",{style:Vme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:Ome,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const zme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Hme={maxWidth:1200,margin:"0 auto"},Gme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Wme(){return s.jsx("div",{style:zme,children:s.jsxs("div",{style:Hme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Gme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const qme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Kme={maxWidth:1200,margin:"0 auto"},Qme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Xme(){return s.jsx("div",{style:qme,children:s.jsxs("div",{style:Kme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Qme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const Yme={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Jme={maxWidth:1200,margin:"0 auto"},Zme={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function epe(){return s.jsx("div",{style:Yme,children:s.jsxs("div",{style:Jme,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Zme,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${Y.line}`,borderRadius:10},children:"Send"})]})})]})})}const tpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},spe={maxWidth:1200,margin:"0 auto"},npe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function rpe(){return s.jsx("div",{style:tpe,children:s.jsxs("div",{style:spe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:npe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const ipe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ape={maxWidth:1200,margin:"0 auto"},ope={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function lpe(){return s.jsx("div",{style:ipe,children:s.jsxs("div",{style:ape,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ope,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const cpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},dpe={maxWidth:1200,margin:"0 auto"},upe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function hpe(){return s.jsx("div",{style:cpe,children:s.jsxs("div",{style:dpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:upe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const mpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},ppe={maxWidth:1200,margin:"0 auto"},fpe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function gpe(){return s.jsx("div",{style:mpe,children:s.jsxs("div",{style:ppe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:fpe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const xpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},vpe={maxWidth:1200,margin:"0 auto"},ype={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function bpe(){return s.jsx("div",{style:xpe,children:s.jsxs("div",{style:vpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ype,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const _pe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},wpe={maxWidth:1200,margin:"0 auto"},jpe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Spe(){return s.jsx("div",{style:_pe,children:s.jsxs("div",{style:wpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:jpe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const Npe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},kpe={maxWidth:1200,margin:"0 auto"},Cpe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Tpe(){return s.jsx("div",{style:Npe,children:s.jsxs("div",{style:kpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Cpe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const Epe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ape={maxWidth:1200,margin:"0 auto"},Ipe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Rpe(){return s.jsx("div",{style:Epe,children:s.jsxs("div",{style:Ape,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Ipe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:Y.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const Ppe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Lpe={maxWidth:1200,margin:"0 auto"},Dpe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Mpe(){return s.jsx("div",{style:Ppe,children:s.jsxs("div",{style:Lpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Dpe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:Y.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const Fpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Bpe={maxWidth:1200,margin:"0 auto"},$pe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Vpe(){return s.jsx("div",{style:Fpe,children:s.jsxs("div",{style:Bpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:$pe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const Ope={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Upe={maxWidth:1200,margin:"0 auto"},zpe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Hpe(){return s.jsx("div",{style:Ope,children:s.jsxs("div",{style:Upe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:zpe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:Y.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const Gpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Wpe={maxWidth:1200,margin:"0 auto"},qpe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Kpe(){return s.jsx("div",{style:Gpe,children:s.jsxs("div",{style:Wpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:qpe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const Qpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Xpe={maxWidth:1200,margin:"0 auto"},Ype={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Jpe(){return s.jsx("div",{style:Qpe,children:s.jsxs("div",{style:Xpe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Ype,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const Zpe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},efe={maxWidth:1200,margin:"0 auto"},tfe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function sfe(){return s.jsx("div",{style:Zpe,children:s.jsxs("div",{style:efe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:tfe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const nfe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},rfe={maxWidth:1200,margin:"0 auto"},ife={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function afe(){return s.jsx("div",{style:nfe,children:s.jsxs("div",{style:rfe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ife,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const ofe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},lfe={maxWidth:1200,margin:"0 auto"},cfe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function dfe(){return s.jsx("div",{style:ofe,children:s.jsxs("div",{style:lfe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:cfe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const ufe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},hfe={maxWidth:1200,margin:"0 auto"},mfe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function pfe(){return s.jsx("div",{style:ufe,children:s.jsxs("div",{style:hfe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:mfe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const ffe={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},gfe={maxWidth:1200,margin:"0 auto"},xfe={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function vfe(){return s.jsx("div",{style:ffe,children:s.jsxs("div",{style:gfe,children:[s.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:xfe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const wS=[{id:"main-dh",name:"Main DH",classLabel:"Demon Hunter",serverLabel:"DE-55"},{id:"twink-mage",name:"Twink Mage",classLabel:"Mage",serverLabel:"US-12"}],Hd=[{id:"gem-sim",name:"Gem Simulator",description:"Placeholder fuer kuenftige Gem-Berechnungen."},{id:"dungeon-pause",name:"Dungeon Pause",description:"Dummy-Ansicht fuer Dungeon-Pausen-Tools."},{id:"xp-dungeon",name:"XP Dungeon",description:"Slide fuer XP-Lauf-Planung als Platzhalter."}];function yfe(){var I,A,B,D;const{t}=WS(),{user:e,status:n,loginWithDiscord:r}=cl(),i=n==="authenticated"&&!!e,[a,c]=R.useState(wS),[d,u]=R.useState((A=(I=wS[0])==null?void 0:I.id)!=null?A:""),[h,p]=R.useState((D=(B=Hd[0])==null?void 0:B.id)!=null?D:""),g=R.useMemo(()=>{var T;return(T=a.find(y=>y.id===d))!=null?T:a[0]},[d,a]),v=R.useMemo(()=>{var T;return(T=Hd.find(y=>y.id===h))!=null?T:Hd[0]},[h]),b=()=>{if(a.length>=3)return;const T=a.length+1,y={id:`custom-${T}`,name:`New Set ${T}`,classLabel:"Class TBD",serverLabel:"Server TBD"};c(S=>[...S,y]),u(y.id)},j=()=>{r()};return s.jsx(vt,{title:"Tools",subtitle:"Sets & Dummy-Tools",centerFramed:!1,children:s.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4 md:p-5",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Sets"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Waehle dein aktives Char-Set (max. 3 Slots)"})]}),s.jsxs("span",{className:"text-xs text-slate-400",children:[a.length,"/3"]})]}),s.jsxs("div",{className:"flex items-stretch gap-3 overflow-x-auto pb-1",children:[a.map(T=>{const y=T.id===d;return s.jsxs("button",{type:"button",onClick:()=>u(T.id),className:["flex min-w-[180px] flex-col gap-1 rounded-2xl border px-4 py-3 text-left transition duration-150 ease-out focus:outline-none focus:ring-2 focus:ring-emerald-400/70",y?"border-emerald-400/80 bg-emerald-500/10 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.6)]":"border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:bg-slate-800/80"].join(" "),children:[s.jsx("div",{className:"text-sm font-semibold text-slate-50",children:T.name}),s.jsx("div",{className:"text-xs text-emerald-200/90",children:T.classLabel}),s.jsx("div",{className:"text-xs text-slate-400",children:T.serverLabel}),y&&s.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-300",children:"Aktiv"})]},T.id)}),s.jsxs("button",{type:"button",onClick:b,disabled:a.length>=3,className:["flex h-full min-w-[140px] flex-col items-center justify-center gap-2 rounded-2xl border border-dashed px-4 py-3 text-sm font-semibold transition",a.length>=3?"cursor-not-allowed border-slate-700/70 bg-slate-800/40 text-slate-500":"border-emerald-400/60 bg-emerald-500/5 text-emerald-200 hover:border-emerald-400 hover:bg-emerald-500/10"].join(" "),children:[s.jsx("span",{className:"text-lg",children:"+"}),s.jsx("span",{children:a.length>=3?"Max erreicht":"Neues Set"})]})]})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:[s.jsx("div",{className:"mb-3 flex items-center justify-between gap-3",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Tools"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Dummy-Tools, die das aktive Set verwenden"})]})}),s.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-1",children:Hd.map(T=>{const y=T.id===h;return s.jsxs("button",{type:"button",onClick:()=>p(T.id),className:["flex flex-shrink-0 items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition duration-150 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",y?"border-emerald-400/80 bg-emerald-500/10 text-emerald-100 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/70 text-slate-200 hover:border-emerald-400/60 hover:text-emerald-100"].join(" "),children:[s.jsx("span",{className:"text-base","aria-hidden":!0,children:"*"}),s.jsx("span",{children:T.name})]},T.id)})})]}),s.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:i?s.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.2fr_1fr] md:items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:t("tools.banner.accountComingSoon")}),s.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-50",children:t("tools.banner.accountTitle")})]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(T=>s.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/5 p-3 text-sm text-emerald-50 shadow-[0_12px_45px_-30px_rgba(16,185,129,0.8)]",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200/90",children:t("tools.banner.accountComingSoon")}),s.jsx("div",{className:"mt-1 leading-snug text-emerald-50/90",children:T})]},T))})]}):s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:t("tools.banner.guestTitle")}),s.jsx("p",{className:"text-sm text-slate-400",children:t("tools.banner.guestDescription")}),s.jsx("ul",{className:"text-sm text-slate-300",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(T=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-400","aria-hidden":!0}),s.jsx("span",{children:T})]},T))})]}),s.jsx("div",{className:"flex gap-3 md:flex-col md:items-end",children:s.jsx("button",{type:"button",onClick:j,className:"rounded-xl border border-emerald-400/60 bg-emerald-500/10 px-4 py-2 text-sm font-semibold text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",children:t("tools.banner.guestLoginCta")})})]})}),s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-5 md:p-6",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Aktives Tool"}),s.jsx("h3",{className:"text-xl font-semibold text-slate-50",children:v==null?void 0:v.name}),s.jsxs("p",{className:"text-sm text-slate-400",children:["Aktives Set: ",(g==null?void 0:g.name)||"kein Set"]})]}),s.jsx("div",{className:"flex gap-2",children:Hd.map(T=>s.jsx("div",{className:["h-2 w-8 rounded-full transition",h===T.id?"bg-emerald-400":"bg-slate-700"].join(" "),"aria-hidden":!0},T.id))})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-[2fr_1fr]",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-slate-300",children:v==null?void 0:v.description}),s.jsxs("div",{className:"mt-4 rounded-xl border border-dashed border-slate-700/70 bg-slate-900/60 p-4 text-center text-sm text-slate-400",children:["Placeholder fuer kuenftige Tool-Komponente",s.jsx("br",{}),"(z. B. ",v==null?void 0:v.name,")"]})]}),s.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Set-Details"}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-100",children:g==null?void 0:g.name}),s.jsx("div",{className:"text-sm text-emerald-200/90",children:g==null?void 0:g.classLabel}),s.jsx("div",{className:"text-xs text-slate-400",children:g==null?void 0:g.serverLabel})]}),s.jsxs("div",{className:"rounded-xl border border-dashed border-emerald-400/40 bg-emerald-500/5 p-3 text-xs text-emerald-100",children:["Lokaler State only - keine Firestore-Anbindung.",s.jsx("br",{}),"Slides wechseln, wenn du oben ein Tool auswaehlst."]})]})]})]})]})})}const bfe="_backdrop_19xh2_1",_fe="_panel_19xh2_19",wfe="_header_19xh2_43",jfe="_tabs_19xh2_63",Sfe="_tabBtn_19xh2_75",Nfe="_tabActive_19xh2_97",kfe="_closeBtn_19xh2_101",Cfe="_content_19xh2_123",_i={backdrop:bfe,panel:_fe,header:wfe,tabs:jfe,tabBtn:Sfe,tabActive:Nfe,closeBtn:kfe,content:Cfe},pp=t=>String(t!=null?t:"").trim(),Ua=t=>pp(t).toUpperCase(),zt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),fp=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),jS=t=>{const e=fp(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},SS=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},pv=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},pt={PLAYERS:{IDENTIFIER:zt("Identifier"),PID:zt("ID"),GUILD_IDENTIFIER:zt("Guild Identifier"),SERVER:zt("Server"),NAME:zt("Name"),TIMESTAMP:zt("Timestamp"),LEVEL:zt("Level"),CLASS:zt("Class"),GUILD:zt("Guild")},GUILDS:{GUILD_IDENTIFIER:zt("Guild Identifier"),SERVER:zt("Server"),NAME:zt("Name"),MEMBER_COUNT:zt("Guild Member Count"),TIMESTAMP:zt("Timestamp"),HOF:zt("Hall of Fame Rank"),HOF_ALT:zt("HoF"),RANK:zt("Rank"),GUILD_RANK:zt("Guild Rank")}},Tfe=new Set([zt("Strength"),zt("Dexterity"),zt("Intelligence"),zt("Constitution"),zt("Luck"),zt("Attribute")]),Efe=["equipment"],Afe=t=>Tfe.has(t)||Efe.some(e=>t.includes(e)),_t=(t,e)=>{for(const n of Object.keys(t))if(zt(n)===e)return t[n]},Ife=(t,e)=>e.map(n=>_t(t,n)).find(n=>n!=null&&String(n)!=="");function Kp(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),a=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),u=Number(n[5]),h=n[6]?Number(n[6]):0,p=new Date(c,a,i,d,u,h);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function NS(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),a=Math.ceil(((+n-+i)/864e5+1)/7),c=n.getUTCFullYear(),d=a.toString().padStart(2,"0");return`${c}-W${d}`}function kS(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),a=i+7*86400-1;return{start:i,end:a}}function CS(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function TS(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function Rfe(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const a=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(n=i,r=a)}return n}function Pfe(t){var u;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=Rfe((u=n[0])!=null?u:""),i=h=>{const p=[];let g="",v=!1;for(let b=0;b<h.length;b++){const j=h[b];j==='"'?v&&h[b+1]==='"'?(g+='"',b++):v=!v:j===r&&!v?(p.push(g),g=""):g+=j}return p.push(g),p},c=(n[0]?i(n[0]).map(pp):[]).map((h,p)=>h||`col${p}`),d=[];for(let h=1;h<n.length;h++){if(!n[h])continue;const p=i(n[h]);if(p.every(v=>pp(v)===""))continue;const g={};for(let v=0;v<c.length;v++)g[c[v]]=p[v]!=null?pp(p[v]):"";d.push(g)}return{headers:c,rows:d}}const ES=120,AS=40,IS=120;async function ic(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let i=0;i<t.length;i+=e){const a=oD(Pt),c=t.slice(i,i+e);for(const d of c)d(a);r==null||r({phase:"write",current:Math.min(i+c.length,t.length),total:t.length,pass:n}),await a.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Ym(t,e){const n={};for(const r of e){const i=zt(r);if(Afe(i)){let a=null,c;for(const d of t){const u=d.row[r];if(u==null||u==="")continue;const h=Number(String(u).replace(/[^0-9.-]/g,""));Number.isNaN(h)||(a==null||h>a)&&(a=h,c=u)}n[r]=c!=null?c:""}else{let a="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){a=d;break}}n[r]=a}}return n}async function RS(t){var i;const e=await mr(t);if(!e.exists())return 0;const n=e.data();if(((i=n==null?void 0:n.values)==null?void 0:i.Timestamp)!=null){const a=Kp(n.values.Timestamp);if(a!=null)return a}if((n==null?void 0:n.timestampRaw)!=null){const a=Kp(n.timestampRaw);if(a!=null)return a}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const a=Date.parse(r);return Number.isFinite(a)?Math.floor(a/1e3):0}return 0}async function PS(t,e){var p,g,v,b,j;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],a={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=Pfe(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const I of c)Object.keys(I).forEach(A=>d.add(A));const u=Array.from(d);if(e.kind==="players"){const I=[],A=[],B=[],D=new Map;for(const T of c){const y=(p=_t(T,pt.PLAYERS.PID))!=null?p:_t(T,pt.PLAYERS.IDENTIFIER),S=String(y!=null?y:"").trim();if(!S){a.skippedMissingIdentifier++;continue}const M=Kp(_t(T,pt.PLAYERS.TIMESTAMP));if(M==null){a.skippedBadTs++;continue}const C=(()=>{const w=_t(T,pt.PLAYERS.SERVER);return w&&String(w).trim()!==""?Ua(w):void 0})();if(!C){a.skippedMissingServer++;continue}I.push(w=>{const E=fs(Pt,`players/${S}/scans/${M}`);w.set(E,{playerId:S,server:C,timestamp:M,timestampRaw:_t(T,pt.PLAYERS.TIMESTAMP),name:_t(T,pt.PLAYERS.NAME)||null,values:T,createdAt:ta()},{merge:!0})}),a.writtenScanPlayers++,D.has(S)||D.set(S,[]),D.get(S).push({row:T,ts:M})}for(const[T,y]of D){y.sort((G,te)=>G.ts-te.ts);const S=y[y.length-1],M=Ua(_t(S.row,pt.PLAYERS.SERVER)||""),C=_t(S.row,pt.PLAYERS.NAME)||null,w=_t(S.row,pt.PLAYERS.LEVEL),E=_t(S.row,pt.PLAYERS.CLASS),L=_t(S.row,pt.PLAYERS.GUILD),P=(v=(g=_t(S.row,pt.PLAYERS.NAME))!=null?g:C)!=null?v:"",V=jS(P),$=SS(V),W=fs(Pt,`players/${T}/latest/latest`),H=await RS(W);S.ts>H&&(A.push(G=>{G.set(W,{playerId:T,server:M,timestamp:S.ts,timestampRaw:_t(S.row,pt.PLAYERS.TIMESTAMP),name:C,values:S.row,updatedAt:ta(),nameFold:fp(P),nameTokens:V,nameNgrams:$,level:pv(w),className:E!=null&&String(E).trim()!==""?String(E):null,guildName:L!=null&&String(L).trim()!==""?String(L):null,guildNameFold:L?fp(L):null},{merge:!0})}),a.writtenLatestPlayers++);const q=new Map,Q=new Map;for(const G of y){const te=NS(G.ts),re=CS(G.ts);q.has(te)||q.set(te,[]),Q.has(re)||Q.set(re,[]),q.get(te).push(G),Q.get(re).push(G)}for(const[G,te]of q){te.sort((ce,ee)=>ce.ts-ee.ts);const re=Ym(te,u),z=kS(te[te.length-1].ts),se=te[te.length-1];B.push(ce=>{const ee=fs(Pt,`players/${T}/history_weekly/${G}`);ce.set(ee,{playerId:T,weekId:G,periodStartSec:z.start,periodEndSec:z.end,lastTs:se.ts,lastTimestampRaw:_t(se.row,pt.PLAYERS.TIMESTAMP),server:Ua(_t(se.row,pt.PLAYERS.SERVER)||""),name:_t(se.row,pt.PLAYERS.NAME)||null,values:re,updatedAt:ta()},{merge:!0})}),a.writtenWeeklyPlayers++}for(const[G,te]of Q){te.sort((ce,ee)=>ce.ts-ee.ts);const re=Ym(te,u),z=TS(te[te.length-1].ts),se=te[te.length-1];B.push(ce=>{const ee=fs(Pt,`players/${T}/history_monthly/${G}`);ce.set(ee,{playerId:T,monthId:G,periodStartSec:z.start,periodEndSec:z.end,lastTs:se.ts,lastTimestampRaw:_t(se.row,pt.PLAYERS.TIMESTAMP),server:Ua(_t(se.row,pt.PLAYERS.SERVER)||""),name:_t(se.row,pt.PLAYERS.NAME)||null,values:re,updatedAt:ta()},{merge:!0})}),a.writtenMonthlyPlayers++}}await ic(I,ES,"scans",e.onProgress),await ic(A,AS,"latest",e.onProgress),await ic(B,IS,"history",e.onProgress)}if(e.kind==="guilds"){const I=[],A=[],B=[],D=new Map;for(const T of c){const y=String((b=_t(T,pt.GUILDS.GUILD_IDENTIFIER))!=null?b:"").trim();if(!y){a.skippedMissingGuildIdentifier++;continue}const S=Kp(_t(T,pt.GUILDS.TIMESTAMP));if(S==null){a.skippedBadTsGuild++;continue}const M=(()=>{const C=_t(T,pt.GUILDS.SERVER);return C&&String(C).trim()!==""?Ua(C):void 0})();if(!M){a.skippedMissingServer++;continue}I.push(C=>{const w=fs(Pt,`guilds/${y}/scans/${S}`);C.set(w,{guildIdentifier:y,server:M,timestamp:S,timestampRaw:_t(T,pt.GUILDS.TIMESTAMP),name:_t(T,pt.GUILDS.NAME)||null,values:T,createdAt:ta()},{merge:!0})}),a.writtenScanGuilds++,D.has(y)||D.set(y,[]),D.get(y).push({row:T,ts:S})}for(const[T,y]of D){y.sort((H,q)=>H.ts-q.ts);const S=y[y.length-1],M=(j=_t(S.row,pt.GUILDS.NAME))!=null?j:"",C=jS(M),w=SS(C),E=pv(_t(S.row,pt.GUILDS.MEMBER_COUNT)),L=pv(Ife(S.row,[pt.GUILDS.HOF,pt.GUILDS.HOF_ALT,pt.GUILDS.RANK,pt.GUILDS.GUILD_RANK])),P=fs(Pt,`guilds/${T}/latest/latest`),V=await RS(P);S.ts>V&&(A.push(H=>{H.set(P,{guildIdentifier:T,server:Ua(_t(S.row,pt.GUILDS.SERVER)||""),timestamp:S.ts,timestampRaw:_t(S.row,pt.GUILDS.TIMESTAMP),name:_t(S.row,pt.GUILDS.NAME)||null,values:S.row,updatedAt:ta(),nameFold:fp(M),nameTokens:C,nameNgrams:w,memberCount:E,hofRank:L},{merge:!0})}),a.writtenLatestGuilds++);const $=new Map,W=new Map;for(const H of y){const q=NS(H.ts),Q=CS(H.ts);$.has(q)||$.set(q,[]),W.has(Q)||W.set(Q,[]),$.get(q).push(H),W.get(Q).push(H)}for(const[H,q]of $){q.sort((re,z)=>re.ts-z.ts);const Q=Ym(q,u),G=kS(q[q.length-1].ts),te=q[q.length-1];B.push(re=>{const z=fs(Pt,`guilds/${T}/history_weekly/${H}`);re.set(z,{guildIdentifier:T,weekId:H,periodStartSec:G.start,periodEndSec:G.end,lastTs:te.ts,lastTimestampRaw:_t(te.row,pt.GUILDS.TIMESTAMP),server:Ua(_t(te.row,pt.GUILDS.SERVER)||""),name:_t(te.row,pt.GUILDS.NAME)||null,values:Q,updatedAt:ta()},{merge:!0})}),a.writtenWeeklyGuilds++}for(const[H,q]of W){q.sort((re,z)=>re.ts-z.ts);const Q=Ym(q,u),G=TS(q[q.length-1].ts),te=q[q.length-1];B.push(re=>{const z=fs(Pt,`guilds/${T}/history_monthly/${H}`);re.set(z,{guildIdentifier:T,monthId:H,periodStartSec:G.start,periodEndSec:G.end,lastTs:te.ts,lastTimestampRaw:_t(te.row,pt.GUILDS.TIMESTAMP),server:Ua(_t(te.row,pt.GUILDS.SERVER)||""),name:_t(te.row,pt.GUILDS.NAME)||null,values:Q,updatedAt:ta()},{merge:!0})}),a.writtenMonthlyGuilds++}}await ic(I,ES,"scans",e.onProgress),await ic(A,AS,"latest",e.onProgress),await ic(B,IS,"history",e.onProgress)}const h=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:a,errors:r,warnings:i,durationMs:h-n}}const it=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),Lfe=t=>String(t!=null?t:"").trim(),vy=t=>Lfe(t).toUpperCase(),yy=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function vn(t,e){for(const n of Object.keys(t))if(it(n)===e)return t[n]}function Zi(t,e){for(const n of e){const r=vn(t,n);if(r!=null&&String(r)!=="")return r}}function Vo(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function bc(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),a=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),u=Number(n[5]),h=n[6]?Number(n[6]):0,p=new Date(c,a,i,d,u,h);if(!Number.isNaN(p.getTime()))return Math.floor(p.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const ks={GUILD_IDENTIFIER:it("Guild Identifier"),SERVER:it("Server"),NAME:it("Name"),TIMESTAMP:it("Timestamp"),LEVEL:it("Level"),CLASS:it("Class"),GUILD:it("Guild"),GUILD_ROLE:[it("Role"),it("Guild Role")],TREASURY:[it("Treasury"),it("Fortress Treasury"),it("Treasury Level"),it("Festungsschatzkammer")],MINE:[it("Mine"),it("Gem Mine"),it("Mine Level"),it("Festungsmine")],BASE_MAIN:[it("Base"),it("Base Attribute"),it("BaseMain"),it("Basis Attribut")],CON_BASE:[it("Con Base"),it("Constitution Base"),it("Base Constitution"),it("Basis Konstitution"),it("conbase")],ATTR_TOT:[it("Attribute"),it("Attr Total"),it("Attribut"),it("Attribut Gesamt")],CON_TOT:[it("Constitution"),it("Constitution Total"),it("Konstitution"),it("Konstitution Gesamt")],LAST_ACTIVE:[it("Last Active"),it("LastActivity"),it("Letzte Aktivitt")],GUILD_JOINED:[it("Guild Joined"),it("Joined Guild"),it("Gildenbeitritt")]},gp={GUILD_IDENTIFIER:it("Guild Identifier"),SERVER:it("Server"),NAME:it("Name")};function LS(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function Dfe(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function Mfe(t){var n;const e=new Map;for(const r of t){const i=String((n=vn(r,gp.GUILD_IDENTIFIER))!=null?n:"").trim(),a=vn(r,gp.SERVER),c=vn(r,gp.NAME);if(!i||!a||!c)continue;const d=`${vy(a)}__${yy(String(c))}`;e.set(d,i)}return e}function Ffe(t){var T,y;const e=vn(t,ks.TIMESTAMP),n=bc(e),r=Zi(t,ks.LAST_ACTIVE),i=bc(r),a=Zi(t,ks.GUILD_JOINED),c=bc(a),d=Vo(vn(t,ks.LEVEL)),u=(()=>{const S=vn(t,ks.CLASS);return S!=null&&String(S).trim()!==""?String(S):null})(),h=(()=>{const S=Zi(t,ks.GUILD_ROLE);return S!=null&&String(S).trim()!==""?String(S):null})(),p=Vo(Zi(t,ks.TREASURY)),g=Vo(Zi(t,ks.MINE)),v=Vo(Zi(t,ks.BASE_MAIN)),b=Vo(Zi(t,ks.CON_BASE)),j=Vo(Zi(t,ks.ATTR_TOT)),I=Vo(Zi(t,ks.CON_TOT)),A=v!=null&&b!=null?v+b:null,B=j!=null&&I!=null?j+I:null,D=(()=>{const S=vn(t,ks.NAME);return S!=null&&String(S).trim()!==""?String(S):null})();return{id:String((y=(T=t==null?void 0:t.ID)!=null?T:t==null?void 0:t.Identifier)!=null?y:""),name:D,class:u,role:h,level:d,treasury:p,mine:g,baseMain:v,conBase:b,sumBaseTotal:A,attrTotal:j,conTotal:I,totalStats:B,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:a!=null?String(a):null,guildJoinedMs:c!=null?c*1e3:null}}function ea(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}async function Bfe(t){var c,d,u;const e=fs(Pt,`guilds/${t}/latest/latest`),n=await mr(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(u=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?u:null;let a=null;return typeof r.timestamp=="number"?a=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(a=bc(i)),{sec:a,raw:i}}async function $fe(t){const e=fs(Pt,`guilds/${t}/snapshots/members_summary`),n=await mr(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=bc(r.updatedAt);if(i!=null)return i}return 0}async function Vfe(t,e){var a,c,d,u,h,p,g;const n=Mfe(e||[]),r=new Set;for(const v of e||[]){const b=String((a=vn(v,gp.GUILD_IDENTIFIER))!=null?a:"").trim();b&&r.add(b)}for(const v of t||[]){const b=vn(v,ks.SERVER);let j=String((c=vn(v,ks.GUILD_IDENTIFIER))!=null?c:"").trim();if(!j){const I=(d=vn(v,ks.GUILD))!=null?d:v.Guild;if(I&&b){const A=`${vy(b)}__${yy(String(I))}`,B=n.get(A);B&&(j=B)}}j&&r.add(j)}let i=0;for(const v of r){const{sec:b,raw:j}=await Bfe(v);if(b==null)continue;const I=await $fe(v);if(b<=I)continue;const A=new Map;for(const H of t||[]){const q=vn(H,ks.SERVER);let Q=String((u=vn(H,ks.GUILD_IDENTIFIER))!=null?u:"").trim();if(!Q){const re=(h=vn(H,ks.GUILD))!=null?h:H.Guild;if(re&&q){const z=`${vy(q)}__${yy(String(re))}`,se=n.get(z);se&&(Q=se)}}if(Q!==v)continue;const G=bc(vn(H,ks.TIMESTAMP));if(G==null||G!==b)continue;const te=String((g=(p=H==null?void 0:H.ID)!=null?p:H==null?void 0:H.Identifier)!=null?g:"").trim();te&&(A.has(te)||A.set(te,H))}const B=Array.from(A.values()),D=[];for(const H of B)D.push(Ffe(H));D.sort((H,q)=>{var te,re;const Q=LS(H.role),G=LS(q.role);return Q!==G?Q-G:((te=H.name)!=null?te:"").toLowerCase().localeCompare(((re=q.name)!=null?re:"").toLowerCase())});const T=ea(D,"level"),y=ea(D,"treasury"),S=ea(D,"mine"),M=ea(D,"baseMain"),C=ea(D,"conBase"),w=ea(D,"sumBaseTotal"),E=ea(D,"attrTotal"),L=ea(D,"conTotal"),P=ea(D,"totalStats"),V=JSON.stringify({gid:v,tsSec:b,members:D.map(H=>{var q,Q,G,te,re,z,se,ce,ee,fe,Te,xe,Ce;return{id:H.id,name:(q=H.name)!=null?q:"",class:(Q=H.class)!=null?Q:"",role:(G=H.role)!=null?G:"",level:(te=H.level)!=null?te:null,treasury:(re=H.treasury)!=null?re:null,mine:(z=H.mine)!=null?z:null,baseMain:(se=H.baseMain)!=null?se:null,conBase:(ce=H.conBase)!=null?ce:null,sumBaseTotal:(ee=H.sumBaseTotal)!=null?ee:null,attrTotal:(fe=H.attrTotal)!=null?fe:null,conTotal:(Te=H.conTotal)!=null?Te:null,totalStats:(xe=H.totalStats)!=null?xe:null,guildJoinedMs:(Ce=H.guildJoinedMs)!=null?Ce:null}})}),$=Dfe(V),W=fs(Pt,`guilds/${v}/snapshots/members_summary`);await Ap(W,{guildId:v,count:D.length,updatedAt:j!=null?j:String(b),updatedAtMs:b*1e3,hash:$,avgLevel:T,avgTreasury:y,avgMine:S,avgBaseMain:M,avgConBase:C,avgSumBaseTotal:w,avgAttrTotal:E,avgConTotal:L,avgTotalStats:P,members:D,updatedAtServer:ta()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function Ofe(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function Ufe(t,e,n,r){var u,h,p;const i=fs(Pt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),a=await mr(i);if(!a.exists())return await Ap(i,n,{merge:!1}),{first:n,firstTsMs:(u=n.updatedAtMs)!=null?u:n.timestamp?n.timestamp*1e3:r};const c=a.data(),d=(h=c.updatedAtMs)!=null?h:c.timestamp?c.timestamp*1e3:r;return r<d?(await Ap(i,n,{merge:!1}),{first:n,firstTsMs:(p=n.updatedAtMs)!=null?p:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function zfe(t,e,n){const r=fs(Pt,`guilds/${t}/history_monthly/${e}`);await Ap(r,n,{merge:!0})}function Hfe(t){var D,T,y,S,M,C,w,E,L,P,V,$,W;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:a,latest:c,latestTsMs:d}=t,u=a!=null?Math.floor((d-a)/864e5):null,h=u!=null&&u<=40,p={available:h};h||(p.reason=u==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const g={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:a?new Date(a).toISOString():null,toISO:new Date(d).toISOString(),fromTs:a?Math.floor(a/1e3):null,toTs:Math.floor(d/1e3),daysSpan:u,guildId:e,server:r!=null?r:null},status:p};if(!h||!i)return g;const v=new Map;for(const H of i.members||[])H.playerId&&v.set(H.playerId,H);const b=[],j=[],I=[],A=[],B=[];for(const H of c.members||[]){if(!H.playerId)continue;const q=v.get(H.playerId)||null,Q=(D=H.sumBaseTotal)!=null?D:null,G=(T=q==null?void 0:q.sumBaseTotal)!=null?T:null,te=Q!=null&&G!=null?Q-G:0,re=(y=H.totalStats)!=null?y:null,z=(S=q==null?void 0:q.totalStats)!=null?S:null,se=re!=null&&z!=null?re-z:0;b.push({playerId:H.playerId,name:(M=H.name)!=null?M:null,class:(C=H.class)!=null?C:null,levelLatest:(w=H.level)!=null?w:null,baseLatest:Q,baseDelta:te}),j.push({playerId:H.playerId,name:(E=H.name)!=null?E:null,base:Q,stamDelta:null,shoDelta:null}),I.push({playerId:H.playerId,name:(L=H.name)!=null?L:null,stats:Q,delta:te}),A.push({playerId:H.playerId,name:(P=H.name)!=null?P:null,total:re,delta:se}),B.push({playerId:H.playerId,name:(V=H.name)!=null?V:null,class:($=H.class)!=null?$:null,stats:(W=H.baseMain)!=null?W:null,delta:(q==null?void 0:q.baseMain)!=null&&H.baseMain!=null?H.baseMain-q.baseMain:0})}return b.sort((H,q)=>{var Q,G;return((Q=q.baseDelta)!=null?Q:-1/0)-((G=H.baseDelta)!=null?G:-1/0)}),I.sort((H,q)=>{var Q,G;return((Q=q.stats)!=null?Q:-1/0)-((G=H.stats)!=null?G:-1/0)}),A.sort((H,q)=>{var Q,G;return((Q=q.total)!=null?Q:-1/0)-((G=H.total)!=null?G:-1/0)}),j.sort((H,q)=>{var Q,G;return((Q=q.base)!=null?Q:-1/0)-((G=H.base)!=null?G:-1/0)}),B.sort((H,q)=>{var Q,G;return((Q=q.stats)!=null?Q:-1/0)-((G=H.stats)!=null?G:-1/0)}),{...g,mostBaseGained:b.slice(0,50),sumBaseStats:j.slice(0,50),highestBaseStats:I.slice(0,50),highestTotalStats:A.slice(0,50),mainAndCon:B.slice(0,50)}}const fv=t=>String(t!=null?t:"").trim(),In=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function Gfe(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const a=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(n=i,r=a)}return n}function DS(t){var u;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=Gfe((u=n[0])!=null?u:""),i=h=>{const p=[];let g="",v=!1;for(let b=0;b<h.length;b++){const j=h[b];j==='"'?v&&h[b+1]==='"'?(g+='"',b++):v=!v:j===r&&!v?(p.push(g),g=""):g+=j}return p.push(g),p},c=(n[0]?i(n[0]).map(fv):[]).map((h,p)=>h||`col${p}`),d=[];for(let h=1;h<n.length;h++){if(!n[h])continue;const p=i(n[h]);if(p.every(v=>fv(v)===""))continue;const g={};for(let v=0;v<c.length;v++)g[c[v]]=p[v]!=null?fv(p[v]):"";d.push(g)}return{headers:c,rows:d,delimiter:r}}const Ts={PLAYERS:{IDENTIFIER:In("Identifier"),GUILD_IDENTIFIER:In("Guild Identifier"),TIMESTAMP:In("Timestamp"),NAME:In("Name"),SERVER:In("Server"),OWN:In("Own")},GUILDS:{GUILD_IDENTIFIER:In("Guild Identifier"),GUILD_MEMBER_COUNT:In("Guild Member Count"),NAME:In("Name"),TIMESTAMP:In("Timestamp")}},OC=(t,e)=>{const n=new Set(t.map(In));return e.every(r=>n.has(r))},Ir=(t,e)=>{for(const n of Object.keys(t))if(In(n)===e)return t[n]};function Wfe(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function MS(t){const e=t.map(In),n=a=>e.includes(a);let r=0,i=0;return n(Ts.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(Ts.PLAYERS.IDENTIFIER)&&(r+=2),n(Ts.PLAYERS.TIMESTAMP)&&(r+=1),n(Ts.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(Ts.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(Ts.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(Ts.PLAYERS.IDENTIFIER)?"players":"guilds"}function FS(t,e){const n=Wfe(t);if(n!=="unknown"){const i=MS(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=MS(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function UC(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function qfe(t,e){var r;const n=[];if(!OC(e,[Ts.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of t){const a=Ir(i,Ts.PLAYERS.GUILD_IDENTIFIER);if(!a)continue;const c=Ir(i,Ts.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(a),id:Ir(i,Ts.PLAYERS.IDENTIFIER)||void 0,name:Ir(i,Ts.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(Ir(i,Ts.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=UC(Ir(i,Ts.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function Kfe(t,e){const n=[];if(!OC(e,[Ts.GUILDS.GUILD_IDENTIFIER,Ts.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const i=Ir(r,Ts.GUILDS.GUILD_IDENTIFIER),a=Number(Ir(r,Ts.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(a))continue;const c=UC(Ir(r,Ts.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:Ir(r,Ts.GUILDS.NAME)||void 0,memberCount:a,tsSec:c!=null?c:void 0})}return n}function Qfe(t,e){var A,B,D,T,y,S;const n=[],r=new Map;for(const M of t){const C=M.id||"",w=(A=M.server)==null?void 0:A.toUpperCase();if(C){const E=`${w!=null?w:"NO"}::${C}`;r.has(E)||r.set(E,{server:w,id:C,name:M.name||"",own:!!M.own})}}const i=r.size,a=t.length,c=Array.from(r.values()).filter(M=>M.own).length,d=new Map;for(const M of r.values())M.server&&d.set(M.server,((B=d.get(M.server))!=null?B:0)+1);const u=Array.from(d.entries()).map(([M,C])=>({server:M,players:C})).sort((M,C)=>C.players-M.players),h=u.length,p=new Map;for(const M of t)p.set(M.guildIdentifier,((D=p.get(M.guildIdentifier))!=null?D:0)+1);const g=new Set,v=new Map;for(const M of e)g.add(M.guildIdentifier),v.set(M.guildIdentifier,{name:M.name||"",declared:M.memberCount});for(const M of p.keys())g.add(M);let b=0;const j=[];for(const M of g){const C=(T=v.get(M))==null?void 0:T.declared,w=(y=p.get(M))!=null?y:0,E=C!=null&&w===C;E&&b++,j.push({id:M,name:((S=v.get(M))==null?void 0:S.name)||"",declaredCount:C!=null?C:0,playersCount:w,full:E})}[...v.values()].some(M=>Number.isFinite(M.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),j.sort((M,C)=>M.name?M.name.localeCompare(C.name):M.id.localeCompare(C.id));const I=Array.from(r.values()).sort((M,C)=>(M.server||"")===(C.server||"")?M.name.localeCompare(C.name):(M.server||"").localeCompare(C.server||""));return{totalPlayers:a,uniquePlayerIds:i,ownPlayers:c,servers:h,perServer:u,guildsRepresented:g.size,fullyScannedGuilds:b,notes:n,playersList:I,guildsList:j}}function Xfe(){const[t,e]=R.useState([]),[n,r]=R.useState(null),[i,a]=R.useState(!1),[c,d]=R.useState(null),[u,h]=R.useState(!1),[p,g]=R.useState(null),[v,b]=R.useState([]),[j,I]=R.useState(null);R.useEffect(()=>{const C=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=C}},[]);const A=R.useCallback(async C=>{var w;a(!0),d(null),r(null),b([]),g(null);try{const E=Array.from(C).slice(0,2),L=[];let P=[],V=[];for(const $ of E){const W=$,H=await W.text(),q=DS(H),{kind:Q,warn:G}=FS(W.name,q.headers);L.push({name:W.name,size:W.size||H.length,rows:q.rows.length,delimiter:q.delimiter,text:H,kind:Q,warn:G}),Q==="players"?P=P.concat(qfe(q.rows,q.headers)):Q==="guilds"&&(V=V.concat(Kfe(q.rows,q.headers)))}e(L),r(Qfe(P,V))}catch(E){d(String((w=E==null?void 0:E.message)!=null?w:E))}finally{a(!1)}},[]),B=R.useCallback(async C=>{!C||C.length===0||await A(C)},[A]),D=R.useCallback(async C=>{C.preventDefault();const w=C.dataTransfer.files;!w||!w.length||await A(w)},[A]);async function T(){var C,w,E;if(t.length){h(!0),I({phase:"prepare",current:0,total:0}),g(null),b([]);try{let L=[],P=[];for(const H of t){const q=DS(H.text),{kind:Q}=FS(H.name,q.headers);Q==="players"&&(L=L.concat(q.rows)),Q==="guilds"&&(P=P.concat(q.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!L.length,hasGuildsCsv:!!P.length,playersRows:L.length,guildsRows:P.length}),!P.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!L.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const V=await PS(null,{kind:"guilds",rows:P,onProgress:H=>I(H)});console.info("[Import Report] guilds",V);const $=await PS(null,{kind:"players",rows:L,onProgress:H=>I(H)});console.info("[Import Report] players",$),await Vfe(L,P);const W=new Set;for(const H of P){const q=Ir(H,In("Guild Identifier"));q&&W.add(String(q))}for(const H of L){const q=Ir(H,In("Guild Identifier"));q&&W.add(String(q))}for(const H of W){const q=fs(Pt,`guilds/${H}/snapshots/members_summary`),Q=await mr(q);if(!Q.exists())continue;const G=Q.data(),te=Number((C=G.updatedAtMs)!=null?C:G.timestamp?G.timestamp*1e3:Date.now()),re=Ofe(te),{first:z,firstTsMs:se}=await Ufe(H,re,G,te),ce=Hfe({guildId:H,monthKey:re,server:(w=G.server)!=null?w:null,first:z,firstTsMs:se,latest:G,latestTsMs:te});await zfe(H,re,ce)}I({phase:"done",current:1,total:1}),b([V,$]),g("Import abgeschlossen.")}catch(L){console.error("[UploadCenter] Import error:",L),g(`Fehler beim Import: ${(E=L==null?void 0:L.message)!=null?E:L}`)}finally{h(!1),setTimeout(()=>I(null),1200)}}}const y=R.useMemo(()=>t.map(C=>`${C.name} (${C.rows} rows, ${C.delimiter}, ${C.kind}${C.warn?" ":""})`),[t]),S=R.useMemo(()=>t.reduce((C,w)=>C+w.rows,0),[t]),M=j?Math.floor(100*j.current/Math.max(1,j.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[y.map((C,w)=>s.jsx("span",{className:"uc-chip",title:t[w].warn||"",children:C},w)),t.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",S," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[j&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${M}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[M,"%"]})]}),s.jsx("button",{onClick:T,disabled:!t.length||!n||u,className:"uc-btn",children:u?"Loading":"Load to DB"}),p&&s.jsx("span",{style:{color:p.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:p})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:C=>B(C.target.files),disabled:i})]}),s.jsx("div",{onDragOver:C=>C.preventDefault(),onDrop:D,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),i&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",c]}),n&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(Gd,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),s.jsx(Gd,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),s.jsx(Gd,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),s.jsx(Gd,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),s.jsx(Gd,{label:"Verschiedene Server",value:n.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:n.perServer.map(C=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:C.server}),s.jsx("td",{style:{textAlign:"right"},children:C.players})]},C.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:n.playersList.map((C,w)=>{var E,L;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:(E=C.server)!=null?E:""}),s.jsx("td",{children:C.id}),s.jsx("td",{children:C.name||""}),s.jsx("td",{children:C.own?"":""})]},`${(L=C.server)!=null?L:"NO"}-${C.id}-${w}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:n.guildsList.map((C,w)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:C.id}),s.jsx("td",{children:C.name||""}),s.jsx("td",{style:{textAlign:"right"},children:C.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:C.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:C.full?"":""})]},`${C.id}-${w}`))})]})})]})]}),!!n.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:n.notes.map((C,w)=>s.jsx("li",{children:C},w))})]})]})]})}function Gd({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function Yfe(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function Jfe(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:i}=gN();return!t||!i?null:s.jsx("div",{className:_i.backdrop,onClick:e,children:s.jsxs("div",{className:_i.panel,onClick:a=>a.stopPropagation(),children:[s.jsxs("div",{className:_i.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:_i.tabs,children:[s.jsx("button",{type:"button",className:`${_i.tabBtn} ${n==="csv"?_i.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${_i.tabBtn} ${n==="json"?_i.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:_i.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:_i.content,children:n==="csv"?s.jsx(Xfe,{}):s.jsx(Yfe,{})})]})})}function Zfe({route:t,featureId:e,fallback:n=null,children:r}){var p;const{resolveRule:i,canAccessFeature:a,canAccessRule:c}=x0(),d=(p=e!=null?e:t)!=null?p:"/",u=J.useMemo(()=>i(d),[i,d]);return J.useEffect(()=>{u||console.debug(`[FeatureGate] No rule found for target "${d}", allowing by default.`)},[u,d]),J.useMemo(()=>!e&&!t?!0:u?c(u):a(d),[a,c,e,t,u,d])?s.jsx(s.Fragment,{children:r}):s.jsx(s.Fragment,{children:n})}const ege=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),Tn=ege("Diese Unterseite existiert in der neuen Struktur nicht mehr."),xt=(t,e,n,r=s.jsx(Wd,{to:"/",replace:!0}))=>s.jsx(Zfe,{featureId:t,route:e,fallback:r,children:n});e4.createRoot(document.getElementById("root")).render(s.jsx(J.StrictMode,{children:s.jsx(kI,{children:s.jsx(SD,{children:s.jsxs(EI,{role:"admin",children:[s.jsx(dA,{children:s.jsx(VE,{children:s.jsxs(me,{element:s.jsx(b9,{}),children:[s.jsx(me,{path:"/",element:xt("main.home","/",s.jsx(fV,{}),s.jsx(Wd,{to:"/login",replace:!0}))}),s.jsx(me,{path:"/login",element:s.jsx(RV,{})}),s.jsx(me,{path:"/dashboard",element:xt("main.dashboard","/dashboard",s.jsx(PV,{}))}),s.jsx(me,{path:"/dashboard/kpis",element:xt("main.dashboard","/dashboard",s.jsx(MV,{}))}),s.jsx(me,{path:"/dashboard/activity",element:xt("main.dashboard","/dashboard",s.jsx(FV,{}))}),s.jsx(me,{path:"/dashboard/progression",element:xt("main.dashboard","/dashboard",s.jsx(BV,{}))}),s.jsx(me,{path:"/discover",element:xt("main.discover","/discover",s.jsx($V,{}))}),s.jsx(me,{path:"/toplists",element:xt("main.toplists","/toplists",s.jsx(gU,{}))}),s.jsx(me,{path:"/sfmagazine",element:s.jsx(HV,{})}),s.jsx(me,{path:"/sfmagazine/historybook",element:s.jsx(bO,{})}),s.jsx(me,{path:"/players",element:s.jsx(xU,{})}),s.jsx(me,{path:"/players/rankings",element:s.jsx(vU,{})}),s.jsx(me,{path:"/players/stats",element:s.jsx(yU,{})}),s.jsx(me,{path:"/players/profile",element:s.jsx(qx,{})}),s.jsx(me,{path:"/players/profile/:playerId",element:s.jsx(qx,{})}),s.jsx(me,{path:"/players/compare",element:s.jsx(rH,{})}),s.jsx(me,{path:"/player/:playerId",element:s.jsx(qx,{})}),s.jsx(me,{path:"/guilds",element:s.jsx(hH,{})}),s.jsx(me,{path:"/guilds/rankings",element:s.jsx(mH,{})}),s.jsx(me,{path:"/guilds/stats",element:s.jsx(pH,{})}),s.jsx(me,{path:"/guilds/profile",element:s.jsx(Jx,{})}),s.jsx(me,{path:"/guilds/profile/:guildId",element:s.jsx(Jx,{})}),s.jsx(me,{path:"/guild/:guildId",element:s.jsx(Jx,{})}),s.jsx(me,{path:"/servers",element:s.jsx(tq,{})}),s.jsx(me,{path:"/servers/rankings",element:s.jsx(sq,{})}),s.jsx(me,{path:"/servers/stats",element:s.jsx(nq,{})}),s.jsx(me,{path:"/servers/profile",element:s.jsx(Zx,{})}),s.jsx(me,{path:"/servers/profile/:serverId",element:s.jsx(Zx,{})}),s.jsx(me,{path:"/server/:serverId",element:s.jsx(Zx,{})}),s.jsx(me,{path:"/u/:profileId",element:s.jsx(hK,{})}),s.jsx(me,{path:"/guidehub/*",element:xt("main.guidehub","/guidehub",s.jsx(KZ,{}))}),s.jsx(me,{path:"/tools",element:xt("main.tools","/tools",s.jsx(yfe,{}))}),s.jsx(me,{path:"/community",element:xt("main.community","/community",s.jsx(Ote,{}))}),s.jsx(me,{path:"/community/scans",element:xt("main.community","/community",s.jsx(bC,{}))}),s.jsx(me,{path:"/community/predictions",element:xt("main.community","/community",s.jsx(_C,{}))}),s.jsx(me,{path:"/community/creators",element:xt("main.community","/community",s.jsx(yC,{}))}),s.jsx(me,{path:"/community/feedback",element:xt("main.community","/community",s.jsx(jC,{}))}),s.jsx(me,{path:"/community/news",element:xt("main.community","/community",s.jsx(wC,{}))}),s.jsx(me,{path:"/community/records",element:xt("main.community","/community",s.jsx(SC,{}))}),s.jsx(me,{path:"/scans",element:xt("main.scans","/scans",s.jsx(Ute,{}))}),s.jsx(me,{path:"/scans/latest",element:xt("main.scans","/scans",s.jsx(zte,{}))}),s.jsx(me,{path:"/scans/archive",element:xt("main.scans","/scans",s.jsx(Hte,{}))}),s.jsx(me,{path:"/guild-hub",element:xt("main.guildHub","/guild-hub",s.jsx(Gte,{}))}),s.jsx(me,{path:"/guild-hub/planner",element:xt("main.guildHub","/guild-hub",s.jsx(mne,{}))}),s.jsx(me,{path:"/guild-hub/fusion-planner",element:xt("main.guildHub","/guild-hub",s.jsx(Yoe,{}))}),s.jsx(me,{path:"/guild-hub/compare-guilds",element:xt("main.guildHub","/guild-hub",s.jsx(Joe,{}))}),s.jsx(me,{path:"/guild-hub/waitlist",element:xt("main.guildHub","/guild-hub",s.jsx(xce,{}))}),s.jsx(me,{path:"/guild-hub/activity",element:xt("main.guildHub","/guild-hub",s.jsx(Nce,{}))}),s.jsx(me,{path:"/guild-hub/imports",element:xt("main.guildHub","/guild-hub",s.jsx(kce,{}))}),s.jsx(me,{path:"/guild-hub/announcements",element:xt("main.guildHub","/guild-hub",s.jsx(Cce,{}))}),s.jsx(me,{path:"/guild-hub/events",element:xt("main.guildHub","/guild-hub",s.jsx(Tce,{}))}),s.jsx(me,{path:"/guild-hub/roles",element:xt("main.guildHub","/guild-hub",s.jsx(Ece,{}))}),s.jsx(me,{path:"/guild-hub/settings",element:xt("main.guildHub","/guild-hub",s.jsx(Ace,{}))}),s.jsx(me,{path:"/admin",element:xt("main.admin","/admin",s.jsx(Lce,{}))}),s.jsx(me,{path:"/admin/errors",element:xt("main.admin","/admin",s.jsx(Bce,{}))}),s.jsx(me,{path:"/admin/scans-uploaded",element:xt("main.admin","/admin",s.jsx(Vce,{}))}),s.jsx(me,{path:"/admin/creators-api",element:xt("main.admin","/admin",s.jsx(Xce,{}))}),s.jsx(me,{path:"/admin/users",element:xt("main.admin","/admin",s.jsx(dde,{}))}),s.jsx(me,{path:"/settings",element:xt("main.settings","/settings",s.jsx(gde,{}))}),s.jsx(me,{path:"/settings/account",element:xt("main.settings","/settings",s.jsx(Zde,{}))}),s.jsxs(me,{path:"/playground",element:xt("main.playground","/playground",s.jsx(tue,{})),children:[s.jsx(me,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(me,{path:"list-views",element:s.jsx(xS,{})}),s.jsx(me,{path:"rescan-widget",element:s.jsx(yS,{})}),s.jsx(me,{path:"upload-sim",element:s.jsx(bS,{})}),s.jsx(me,{path:"theme-maker",element:s.jsx(mS,{})}),s.jsx(me,{path:"theme-maker-pro",element:s.jsx(fS,{})}),s.jsx(me,{path:"am-rune-bonuses-demos",element:s.jsx(Jue,{})}),s.jsx(me,{path:"templates/content-shell",element:s.jsx(Ghe,{})}),s.jsx(me,{path:"templates/blank",element:s.jsx(qhe,{})}),s.jsx(me,{path:"templates/blank-alt",element:s.jsx(Qhe,{})}),s.jsx(me,{path:"templates/blank-layout-2",element:s.jsx(Zhe,{})}),s.jsx(me,{path:"templates/blank-layout-3",element:s.jsx(tme,{})}),s.jsx(me,{path:"templates/blank-layout-4",element:s.jsx(sme,{})}),s.jsx(me,{path:"portrait-maker",element:s.jsx(Ohe,{})}),s.jsx(me,{path:"hud",element:s.jsx(Zue,{})}),s.jsx(me,{path:"hud/game-buttons",element:s.jsx(khe,{})}),s.jsx(me,{path:"core-ui/theme-maker",element:s.jsx(mS,{})}),s.jsx(me,{path:"core-ui/theme-maker-pro",element:s.jsx(fS,{})}),s.jsx(me,{path:"core-ui/list-views",element:s.jsx(xS,{})}),s.jsx(me,{path:"sync/rescan",element:s.jsx(yS,{})}),s.jsx(me,{path:"upload/sim",element:s.jsx(bS,{})}),s.jsx(me,{path:"import/har",element:s.jsx(ame,{})}),s.jsx(me,{path:"import/json-csv",element:s.jsx(dme,{})}),s.jsx(me,{path:"import/schema",element:s.jsx(pme,{})}),s.jsx(me,{path:"hubs/player-contained",element:s.jsx(vme,{})}),s.jsx(me,{path:"hubs/guilds",element:s.jsx(wme,{})}),s.jsx(me,{path:"hubs/servers",element:s.jsx(kme,{})}),s.jsx(me,{path:"rankings/views",element:s.jsx(Ame,{})}),s.jsx(me,{path:"analytics/kpi",element:s.jsx(Lme,{})}),s.jsx(me,{path:"analytics/progression",element:s.jsx(Bme,{})}),s.jsx(me,{path:"analytics/legendary-pets",element:s.jsx(Ume,{})}),s.jsx(me,{path:"community/scans",element:s.jsx(Wme,{})}),s.jsx(me,{path:"community/creators",element:s.jsx(Xme,{})}),s.jsx(me,{path:"feedback/form",element:s.jsx(epe,{})}),s.jsx(me,{path:"feedback/admin",element:s.jsx(rpe,{})}),s.jsx(me,{path:"help/tutorials",element:s.jsx(lpe,{})}),s.jsx(me,{path:"help/wiki",element:s.jsx(hpe,{})}),s.jsx(me,{path:"legal/tos",element:s.jsx(bpe,{})}),s.jsx(me,{path:"legal/transparency",element:s.jsx(Spe,{})}),s.jsx(me,{path:"settings",element:s.jsx(gpe,{})}),s.jsx(me,{path:"pwa/update",element:s.jsx(Tpe,{})}),s.jsx(me,{path:"pwa/install",element:s.jsx(Rpe,{})}),s.jsx(me,{path:"connect/manual",element:s.jsx(Mpe,{})}),s.jsx(me,{path:"connect/userscript",element:s.jsx(Vpe,{})}),s.jsx(me,{path:"interop/exports",element:s.jsx(Hpe,{})}),s.jsx(me,{path:"interop/deeplinks",element:s.jsx(Kpe,{})}),s.jsx(me,{path:"admin/servers",element:s.jsx(Jpe,{})}),s.jsx(me,{path:"admin/jobs",element:s.jsx(sfe,{})}),s.jsx(me,{path:"admin/flags",element:s.jsx(afe,{})}),s.jsx(me,{path:"perf/table-lab",element:s.jsx(dfe,{})}),s.jsx(me,{path:"mobile/filters",element:s.jsx(pfe,{})}),s.jsx(me,{path:"qa/a11y",element:s.jsx(vfe,{})})]}),s.jsx(me,{path:"/latest-scan",element:s.jsx(Wd,{to:"/scans/latest",replace:!0})}),s.jsx(me,{path:"/old-scans",element:s.jsx(Wd,{to:"/scans/archive",replace:!0})}),s.jsx(me,{path:"/favorites",element:Tn()}),s.jsx(me,{path:"/notifications",element:Tn()}),s.jsx(me,{path:"/guilds/planner",element:Tn()}),s.jsx(me,{path:"/guilds/fusion",element:Tn()}),s.jsx(me,{path:"/guilds/academy",element:Tn()}),s.jsx(me,{path:"/toplists/players",element:Tn()}),s.jsx(me,{path:"/toplists/guilds",element:Tn()}),s.jsx(me,{path:"/toplists/servers",element:Tn()}),s.jsx(me,{path:"/settings/profile",element:Tn()}),s.jsx(me,{path:"/settings/appearance",element:Tn()}),s.jsx(me,{path:"/players/search",element:Tn()}),s.jsx(me,{path:"/servers/list",element:Tn()}),s.jsx(me,{path:"/servers/trend",element:Tn()}),s.jsx(me,{path:"/scans/upload",element:Tn()}),s.jsx(me,{path:"/scans/history",element:Tn()}),s.jsx(me,{path:"*",element:s.jsx(Wd,{to:"/",replace:!0})})]})})}),s.jsx(Jfe,{})]})})})}));
