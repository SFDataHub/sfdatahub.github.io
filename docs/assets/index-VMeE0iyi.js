import fk from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();function j0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iv={exports:{}},cu={},av={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function a4(){if(Ew)return kt;Ew=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function R(U,J,ce){this.props=U,this.context=J,this.refs=C,this.updater=ce||b}R.prototype.isReactComponent={},R.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=R.prototype;function D(U,J,ce){this.props=U,this.context=J,this.refs=C,this.updater=ce||b}var A=D.prototype=new F;A.constructor=D,S(A,R.prototype),A.isPureReactComponent=!0;var y=Array.isArray,w=Object.prototype.hasOwnProperty,L={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function j(U,J,ce){var ee,fe={},Ce=null,ge=null;if(J!=null)for(ee in J.ref!==void 0&&(ge=J.ref),J.key!==void 0&&(Ce=""+J.key),J)w.call(J,ee)&&!N.hasOwnProperty(ee)&&(fe[ee]=J[ee]);var ke=arguments.length-2;if(ke===1)fe.children=ce;else if(1<ke){for(var Se=Array(ke),ue=0;ue<ke;ue++)Se[ue]=arguments[ue+2];fe.children=Se}if(U&&U.defaultProps)for(ee in ke=U.defaultProps,ke)fe[ee]===void 0&&(fe[ee]=ke[ee]);return{$$typeof:t,type:U,key:Ce,ref:ge,props:fe,_owner:L.current}}function I(U,J){return{$$typeof:t,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function M(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function P(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return J[ce]})}var O=/\/+/g;function $(U,J){return typeof U=="object"&&U!==null&&U.key!=null?P(""+U.key):J.toString(36)}function W(U,J,ce,ee,fe){var Ce=typeof U;(Ce==="undefined"||Ce==="boolean")&&(U=null);var ge=!1;if(U===null)ge=!0;else switch(Ce){case"string":case"number":ge=!0;break;case"object":switch(U.$$typeof){case t:case e:ge=!0}}if(ge)return ge=U,fe=fe(ge),U=ee===""?"."+$(ge,0):ee,y(fe)?(ce="",U!=null&&(ce=U.replace(O,"$&/")+"/"),W(fe,J,ce,"",function(ue){return ue})):fe!=null&&(M(fe)&&(fe=I(fe,ce+(!fe.key||ge&&ge.key===fe.key?"":(""+fe.key).replace(O,"$&/")+"/")+U)),J.push(fe)),1;if(ge=0,ee=ee===""?".":ee+":",y(U))for(var ke=0;ke<U.length;ke++){Ce=U[ke];var Se=ee+$(Ce,ke);ge+=W(Ce,J,ce,Se,fe)}else if(Se=v(U),typeof Se=="function")for(U=Se.call(U),ke=0;!(Ce=U.next()).done;)Ce=Ce.value,Se=ee+$(Ce,ke++),ge+=W(Ce,J,ce,Se,fe);else if(Ce==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ge}function H(U,J,ce){if(U==null)return U;var ee=[],fe=0;return W(U,ee,"","",function(Ce){return J.call(ce,Ce,fe++)}),ee}function q(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var K={current:null},G={transition:null},te={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:G,ReactCurrentOwner:L};function ne(){throw Error("act(...) is not supported in production builds of React.")}return kt.Children={map:H,forEach:function(U,J,ce){H(U,function(){J.apply(this,arguments)},ce)},count:function(U){var J=0;return H(U,function(){J++}),J},toArray:function(U){return H(U,function(J){return J})||[]},only:function(U){if(!M(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},kt.Component=R,kt.Fragment=s,kt.Profiler=i,kt.PureComponent=D,kt.StrictMode=r,kt.Suspense=u,kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,kt.act=ne,kt.cloneElement=function(U,J,ce){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ee=S({},U.props),fe=U.key,Ce=U.ref,ge=U._owner;if(J!=null){if(J.ref!==void 0&&(Ce=J.ref,ge=L.current),J.key!==void 0&&(fe=""+J.key),U.type&&U.type.defaultProps)var ke=U.type.defaultProps;for(Se in J)w.call(J,Se)&&!N.hasOwnProperty(Se)&&(ee[Se]=J[Se]===void 0&&ke!==void 0?ke[Se]:J[Se])}var Se=arguments.length-2;if(Se===1)ee.children=ce;else if(1<Se){ke=Array(Se);for(var ue=0;ue<Se;ue++)ke[ue]=arguments[ue+2];ee.children=ke}return{$$typeof:t,type:U.type,key:fe,ref:Ce,props:ee,_owner:ge}},kt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},kt.createElement=j,kt.createFactory=function(U){var J=j.bind(null,U);return J.type=U,J},kt.createRef=function(){return{current:null}},kt.forwardRef=function(U){return{$$typeof:d,render:U}},kt.isValidElement=M,kt.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:q}},kt.memo=function(U,J){return{$$typeof:h,type:U,compare:J===void 0?null:J}},kt.startTransition=function(U){var J=G.transition;G.transition={};try{U()}finally{G.transition=J}},kt.unstable_act=ne,kt.useCallback=function(U,J){return K.current.useCallback(U,J)},kt.useContext=function(U){return K.current.useContext(U)},kt.useDebugValue=function(){},kt.useDeferredValue=function(U){return K.current.useDeferredValue(U)},kt.useEffect=function(U,J){return K.current.useEffect(U,J)},kt.useId=function(){return K.current.useId()},kt.useImperativeHandle=function(U,J,ce){return K.current.useImperativeHandle(U,J,ce)},kt.useInsertionEffect=function(U,J){return K.current.useInsertionEffect(U,J)},kt.useLayoutEffect=function(U,J){return K.current.useLayoutEffect(U,J)},kt.useMemo=function(U,J){return K.current.useMemo(U,J)},kt.useReducer=function(U,J,ce){return K.current.useReducer(U,J,ce)},kt.useRef=function(U){return K.current.useRef(U)},kt.useState=function(U){return K.current.useState(U)},kt.useSyncExternalStore=function(U,J,ce){return K.current.useSyncExternalStore(U,J,ce)},kt.useTransition=function(){return K.current.useTransition()},kt.version="18.3.1",kt}var Aw;function S0(){return Aw||(Aw=1,av.exports=a4()),av.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function o4(){if(Iw)return cu;Iw=1;var t=S0(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,u,h){var m,g={},v=null,b=null;h!==void 0&&(v=""+h),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(b=u.ref);for(m in u)r.call(u,m)&&!a.hasOwnProperty(m)&&(g[m]=u[m]);if(d&&d.defaultProps)for(m in u=d.defaultProps,u)g[m]===void 0&&(g[m]=u[m]);return{$$typeof:e,type:d,key:v,ref:b,props:g,_owner:i.current}}return cu.Fragment=s,cu.jsx=l,cu.jsxs=l,cu}var Rw;function l4(){return Rw||(Rw=1,iv.exports=o4()),iv.exports}var n=l4(),E=S0();const Z=j0(E);var im={},ov={exports:{}},Xn={},lv={exports:{}},cv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw;function c4(){return Pw||(Pw=1,(function(t){function e(G,te){var ne=G.length;G.push(te);e:for(;0<ne;){var U=ne-1>>>1,J=G[U];if(0<i(J,te))G[U]=te,G[ne]=J,ne=U;else break e}}function s(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],ne=G.pop();if(ne!==te){G[0]=ne;e:for(var U=0,J=G.length,ce=J>>>1;U<ce;){var ee=2*(U+1)-1,fe=G[ee],Ce=ee+1,ge=G[Ce];if(0>i(fe,ne))Ce<J&&0>i(ge,fe)?(G[U]=ge,G[Ce]=ne,U=Ce):(G[U]=fe,G[ee]=ne,U=ee);else if(Ce<J&&0>i(ge,ne))G[U]=ge,G[Ce]=ne,U=Ce;else break e}}return te}function i(G,te){var ne=G.sortIndex-te.sortIndex;return ne!==0?ne:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var u=[],h=[],m=1,g=null,v=3,b=!1,S=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var te=s(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=G)r(h),te.sortIndex=te.expirationTime,e(u,te);else break;te=s(h)}}function y(G){if(C=!1,A(G),!S)if(s(u)!==null)S=!0,q(w);else{var te=s(h);te!==null&&K(y,te.startTime-G)}}function w(G,te){S=!1,C&&(C=!1,F(j),j=-1),b=!0;var ne=v;try{for(A(te),g=s(u);g!==null&&(!(g.expirationTime>te)||G&&!P());){var U=g.callback;if(typeof U=="function"){g.callback=null,v=g.priorityLevel;var J=U(g.expirationTime<=te);te=t.unstable_now(),typeof J=="function"?g.callback=J:g===s(u)&&r(u),A(te)}else r(u);g=s(u)}if(g!==null)var ce=!0;else{var ee=s(h);ee!==null&&K(y,ee.startTime-te),ce=!1}return ce}finally{g=null,v=ne,b=!1}}var L=!1,N=null,j=-1,I=5,M=-1;function P(){return!(t.unstable_now()-M<I)}function O(){if(N!==null){var G=t.unstable_now();M=G;var te=!0;try{te=N(!0,G)}finally{te?$():(L=!1,N=null)}}else L=!1}var $;if(typeof D=="function")$=function(){D(O)};else if(typeof MessageChannel!="undefined"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=O,$=function(){H.postMessage(null)}}else $=function(){R(O,0)};function q(G){N=G,L||(L=!0,$())}function K(G,te){j=R(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,q(w))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return s(u)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var ne=v;v=te;try{return G()}finally{v=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ne=v;v=G;try{return te()}finally{v=ne}},t.unstable_scheduleCallback=function(G,te,ne){var U=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?U+ne:U):ne=U,G){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ne+J,G={id:m++,callback:te,priorityLevel:G,startTime:ne,expirationTime:J,sortIndex:-1},ne>U?(G.sortIndex=ne,e(h,G),s(u)===null&&G===s(h)&&(C?(F(j),j=-1):C=!0,K(y,ne-U))):(G.sortIndex=J,e(u,G),S||b||(S=!0,q(w))),G},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(G){var te=v;return function(){var ne=v;v=te;try{return G.apply(this,arguments)}finally{v=ne}}}})(cv)),cv}var Lw;function d4(){return Lw||(Lw=1,lv.exports=c4()),lv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function u4(){if(Dw)return Xn;Dw=1;var t=S0(),e=d4();function s(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,c){l(o,c),l(o+"Capture",c)}function l(o,c){for(i[o]=c,o=0;o<c.length;o++)r.add(c[o])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(o){return u.call(g,o)?!0:u.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function b(o,c,p,x){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,c,p,x){if(c===null||typeof c=="undefined"||b(o,c,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function C(o,c,p,x,_,T,V){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=x,this.attributeNamespace=_,this.mustUseProperty=p,this.propertyName=o,this.type=c,this.sanitizeURL=T,this.removeEmptyString=V}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){R[o]=new C(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var c=o[0];R[c]=new C(c,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){R[o]=new C(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){R[o]=new C(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){R[o]=new C(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){R[o]=new C(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){R[o]=new C(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){R[o]=new C(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){R[o]=new C(o,5,!1,o.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function D(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var c=o.replace(F,D);R[c]=new C(c,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var c=o.replace(F,D);R[c]=new C(c,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var c=o.replace(F,D);R[c]=new C(c,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){R[o]=new C(o,1,!1,o.toLowerCase(),null,!1,!1)}),R.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){R[o]=new C(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,c,p,x){var _=R.hasOwnProperty(c)?R[c]:null;(_!==null?_.type!==0:x||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,p,_,x)&&(p=null),x||_===null?v(c)&&(p===null?o.removeAttribute(c):o.setAttribute(c,""+p)):_.mustUseProperty?o[_.propertyName]=p===null?_.type===3?!1:"":p:(c=_.attributeName,x=_.attributeNamespace,p===null?o.removeAttribute(c):(_=_.type,p=_===3||_===4&&p===!0?"":""+p,x?o.setAttributeNS(x,c,p):o.setAttribute(c,p))))}var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),L=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=G&&o[G]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Object.assign,U;function J(o){if(U===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);U=c&&c[1]||""}return`
`+U+o}var ce=!1;function ee(o,c){if(!o||ce)return"";ce=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(de){var x=de}Reflect.construct(o,[],c)}else{try{c.call()}catch(de){x=de}o.call(c.prototype)}else{try{throw Error()}catch(de){x=de}o()}}catch(de){if(de&&x&&typeof de.stack=="string"){for(var _=de.stack.split(`
`),T=x.stack.split(`
`),V=_.length-1,Q=T.length-1;1<=V&&0<=Q&&_[V]!==T[Q];)Q--;for(;1<=V&&0<=Q;V--,Q--)if(_[V]!==T[Q]){if(V!==1||Q!==1)do if(V--,Q--,0>Q||_[V]!==T[Q]){var X=`
`+_[V].replace(" at new "," at ");return o.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",o.displayName)),X}while(1<=V&&0<=Q);break}}}finally{ce=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?J(o):""}function fe(o){switch(o.tag){case 5:return J(o.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return o=ee(o.type,!1),o;case 11:return o=ee(o.type.render,!1),o;case 1:return o=ee(o.type,!0),o;default:return""}}function Ce(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case N:return"Fragment";case L:return"Portal";case I:return"Profiler";case j:return"StrictMode";case $:return"Suspense";case W:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case P:return(o.displayName||"Context")+".Consumer";case M:return(o._context.displayName||"Context")+".Provider";case O:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case H:return c=o.displayName||null,c!==null?c:Ce(o.type)||"Memo";case q:c=o._payload,o=o._init;try{return Ce(o(c))}catch(p){}}return null}function ge(o){var c=o.type;switch(o.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=c.render,o=o.displayName||o.name||"",c.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(c);case 8:return c===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function ke(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Se(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ue(o){var c=Se(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),x=""+o[c];if(!o.hasOwnProperty(c)&&typeof p!="undefined"&&typeof p.get=="function"&&typeof p.set=="function"){var _=p.get,T=p.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return _.call(this)},set:function(V){x=""+V,T.call(this,V)}}),Object.defineProperty(o,c,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(V){x=""+V},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function De(o){o._valueTracker||(o._valueTracker=ue(o))}function Ee(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var p=c.getValue(),x="";return o&&(x=Se(o)?o.checked?"true":"false":o.value),o=x,o!==p?(c.setValue(o),!0):!1}function tt(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(c){return o.body}}function pt(o,c){var p=c.checked;return ne({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p!=null?p:o._wrapperState.initialChecked})}function Ht(o,c){var p=c.defaultValue==null?"":c.defaultValue,x=c.checked!=null?c.checked:c.defaultChecked;p=ke(c.value!=null?c.value:p),o._wrapperState={initialChecked:x,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ss(o,c){c=c.checked,c!=null&&A(o,"checked",c,!1)}function Ns(o,c){Ss(o,c);var p=ke(c.value),x=c.type;if(p!=null)x==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}c.hasOwnProperty("value")?ys(o,c.type,p):c.hasOwnProperty("defaultValue")&&ys(o,c.type,ke(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(o.defaultChecked=!!c.defaultChecked)}function $s(o,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var x=c.type;if(!(x!=="submit"&&x!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+o._wrapperState.initialValue,p||c===o.value||(o.value=c),o.defaultValue=c}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function ys(o,c,p){(c!=="number"||tt(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var Ne=Array.isArray;function Re(o,c,p,x){if(o=o.options,c){c={};for(var _=0;_<p.length;_++)c["$"+p[_]]=!0;for(p=0;p<o.length;p++)_=c.hasOwnProperty("$"+o[p].value),o[p].selected!==_&&(o[p].selected=_),_&&x&&(o[p].defaultSelected=!0)}else{for(p=""+ke(p),c=null,_=0;_<o.length;_++){if(o[_].value===p){o[_].selected=!0,x&&(o[_].defaultSelected=!0);return}c!==null||o[_].disabled||(c=o[_])}c!==null&&(c.selected=!0)}}function Ae(o,c){if(c.dangerouslySetInnerHTML!=null)throw Error(s(91));return ne({},c,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Ue(o,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(s(92));if(Ne(p)){if(1<p.length)throw Error(s(93));p=p[0]}c=p}c==null&&(c=""),p=c}o._wrapperState={initialValue:ke(p)}}function nt(o,c){var p=ke(c.value),x=ke(c.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),c.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),x!=null&&(o.defaultValue=""+x)}function ut(o){var c=o.textContent;c===o._wrapperState.initialValue&&c!==""&&c!==null&&(o.value=c)}function xt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(o,c){return o==null||o==="http://www.w3.org/1999/xhtml"?xt(c):o==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Bt,ir=(function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(c,p,x,_){MSApp.execUnsafeLocalFunction(function(){return o(c,p,x,_)})}:o})(function(o,c){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=c;else{for(Bt=Bt||document.createElement("div"),Bt.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Bt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}});function vn(o,c){if(c){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=c;return}}o.textContent=c}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_r=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(o){_r.forEach(function(c){c=c+o.charAt(0).toUpperCase()+o.substring(1),Os[c]=Os[o]})});function hi(o,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Os.hasOwnProperty(o)&&Os[o]?(""+c).trim():c+"px"}function Fi(o,c){o=o.style;for(var p in c)if(c.hasOwnProperty(p)){var x=p.indexOf("--")===0,_=hi(p,c[p],x);p==="float"&&(p="cssFloat"),x?o.setProperty(p,_):o[p]=_}}var pi=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(o,c){if(c){if(pi[o]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(s(137,o));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(s(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(s(61))}if(c.style!=null&&typeof c.style!="object")throw Error(s(62))}}function ns(o,c){if(o.indexOf("-")===-1)return typeof c.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=null;function Bi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var $i=null,En=null,ar=null;function Oi(o){if(o=Kd(o)){if(typeof $i!="function")throw Error(s(280));var c=o.stateNode;c&&(c=bp(c),$i(o.stateNode,o.type,c))}}function or(o){En?ar?ar.push(o):ar=[o]:En=o}function Nd(){if(En){var o=En,c=ar;if(ar=En=null,Oi(o),c)for(o=0;o<c.length;o++)Oi(c[o])}}function To(o,c){return o(c)}function kd(){}var Vi=!1;function Td(o,c,p){if(Vi)return o(c,p);Vi=!0;try{return To(o,c,p)}finally{Vi=!1,(En!==null||ar!==null)&&(kd(),Nd())}}function ks(o,c){var p=o.stateNode;if(p===null)return null;var x=bp(p);if(x===null)return null;p=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(s(231,c,typeof p));return p}var Bl=!1;if(d)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch(o){Bl=!1}function Co(o,c,p,x,_,T,V,Q,X){var de=Array.prototype.slice.call(arguments,3);try{c.apply(p,de)}catch(ye){this.onError(ye)}}var Eo=!1,$l=null,Hr=!1,Cd=null,Pg={onError:function(o){Eo=!0,$l=o}};function Ol(o,c,p,x,_,T,V,Q,X){Eo=!1,$l=null,Co.apply(Pg,arguments)}function Gh(o,c,p,x,_,T,V,Q,X){if(Ol.apply(this,arguments),Eo){if(Eo){var de=$l;Eo=!1,$l=null}else throw Error(s(198));Hr||(Hr=!0,Cd=de)}}function Gr(o){var c=o,p=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(p=c.return),o=c.return;while(o)}return c.tag===3?p:null}function Ao(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function Wr(o){if(Gr(o)!==o)throw Error(s(188))}function Wh(o){var c=o.alternate;if(!c){if(c=Gr(o),c===null)throw Error(s(188));return c!==o?null:o}for(var p=o,x=c;;){var _=p.return;if(_===null)break;var T=_.alternate;if(T===null){if(x=_.return,x!==null){p=x;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===p)return Wr(_),o;if(T===x)return Wr(_),c;T=T.sibling}throw Error(s(188))}if(p.return!==x.return)p=_,x=T;else{for(var V=!1,Q=_.child;Q;){if(Q===p){V=!0,p=_,x=T;break}if(Q===x){V=!0,x=_,p=T;break}Q=Q.sibling}if(!V){for(Q=T.child;Q;){if(Q===p){V=!0,p=T,x=_;break}if(Q===x){V=!0,x=T,p=_;break}Q=Q.sibling}if(!V)throw Error(s(189))}}if(p.alternate!==x)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?o:c}function Ed(o){return o=Wh(o),o!==null?Vl(o):null}function Vl(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var c=Vl(o);if(c!==null)return c;o=o.sibling}return null}var Ul=e.unstable_scheduleCallback,Ad=e.unstable_cancelCallback,qh=e.unstable_shouldYield,Lg=e.unstable_requestPaint,Jt=e.unstable_now,Kh=e.unstable_getCurrentPriorityLevel,Io=e.unstable_ImmediatePriority,Ta=e.unstable_UserBlockingPriority,jr=e.unstable_NormalPriority,Id=e.unstable_LowPriority,Qh=e.unstable_IdlePriority,Ro=null,lr=null;function Xh(o){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Ro,o,void 0,(o.current.flags&128)===128)}catch(c){}}var An=Math.clz32?Math.clz32:Jh,Rd=Math.log,Yh=Math.LN2;function Jh(o){return o>>>=0,o===0?32:31-(Rd(o)/Yh|0)|0}var zl=64,Hl=4194304;function Ca(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Po(o,c){var p=o.pendingLanes;if(p===0)return 0;var x=0,_=o.suspendedLanes,T=o.pingedLanes,V=p&268435455;if(V!==0){var Q=V&~_;Q!==0?x=Ca(Q):(T&=V,T!==0&&(x=Ca(T)))}else V=p&~_,V!==0?x=Ca(V):T!==0&&(x=Ca(T));if(x===0)return 0;if(c!==0&&c!==x&&(c&_)===0&&(_=x&-x,T=c&-c,_>=T||_===16&&(T&4194240)!==0))return c;if((x&4)!==0&&(x|=p&16),c=o.entangledLanes,c!==0)for(o=o.entanglements,c&=x;0<c;)p=31-An(c),_=1<<p,x|=o[p],c&=~_;return x}function Dg(o,c){switch(o){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(o,c){for(var p=o.suspendedLanes,x=o.pingedLanes,_=o.expirationTimes,T=o.pendingLanes;0<T;){var V=31-An(T),Q=1<<V,X=_[V];X===-1?((Q&p)===0||(Q&x)!==0)&&(_[V]=Dg(Q,c)):X<=c&&(o.expiredLanes|=Q),T&=~Q}}function cr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Lo(){var o=zl;return zl<<=1,(zl&4194240)===0&&(zl=64),o}function Ea(o){for(var c=[],p=0;31>p;p++)c.push(o);return c}function Aa(o,c,p){o.pendingLanes|=c,c!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,c=31-An(c),o[c]=p}function Kt(o,c){var p=o.pendingLanes&~c;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=c,o.mutableReadLanes&=c,o.entangledLanes&=c,c=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<p;){var _=31-An(p),T=1<<_;c[_]=0,x[_]=-1,o[_]=-1,p&=~T}}function Ia(o,c){var p=o.entangledLanes|=c;for(o=o.entanglements;p;){var x=31-An(p),_=1<<x;_&c|o[x]&c&&(o[x]|=c),p&=~_}}var Rt=0;function Ra(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Zh,Gl,ep,tp,sp,Pd=!1,mi=[],tn=null,qr=null,Kr=null,Pa=new Map,Sr=new Map,fi=[],Mg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function np(o,c){switch(o){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Pa.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(c.pointerId)}}function zn(o,c,p,x,_,T){return o===null||o.nativeEvent!==T?(o={blockedOn:c,domEventName:p,eventSystemFlags:x,nativeEvent:T,targetContainers:[_]},c!==null&&(c=Kd(c),c!==null&&Gl(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),o)}function Fg(o,c,p,x,_){switch(c){case"focusin":return tn=zn(tn,o,c,p,x,_),!0;case"dragenter":return qr=zn(qr,o,c,p,x,_),!0;case"mouseover":return Kr=zn(Kr,o,c,p,x,_),!0;case"pointerover":var T=_.pointerId;return Pa.set(T,zn(Pa.get(T)||null,o,c,p,x,_)),!0;case"gotpointercapture":return T=_.pointerId,Sr.set(T,zn(Sr.get(T)||null,o,c,p,x,_)),!0}return!1}function rp(o){var c=$o(o.target);if(c!==null){var p=Gr(c);if(p!==null){if(c=p.tag,c===13){if(c=Ao(p),c!==null){o.blockedOn=c,sp(o.priority,function(){ep(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function zi(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var p=Wl(o.domEventName,o.eventSystemFlags,c[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var x=new p.constructor(p.type,p);wr=x,p.target.dispatchEvent(x),wr=null}else return c=Kd(p),c!==null&&Gl(c),o.blockedOn=p,!1;c.shift()}return!0}function Do(o,c,p){zi(o)&&p.delete(c)}function ip(){Pd=!1,tn!==null&&zi(tn)&&(tn=null),qr!==null&&zi(qr)&&(qr=null),Kr!==null&&zi(Kr)&&(Kr=null),Pa.forEach(Do),Sr.forEach(Do)}function Qr(o,c){o.blockedOn===c&&(o.blockedOn=null,Pd||(Pd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ip)))}function Xr(o){function c(_){return Qr(_,o)}if(0<mi.length){Qr(mi[0],o);for(var p=1;p<mi.length;p++){var x=mi[p];x.blockedOn===o&&(x.blockedOn=null)}}for(tn!==null&&Qr(tn,o),qr!==null&&Qr(qr,o),Kr!==null&&Qr(Kr,o),Pa.forEach(c),Sr.forEach(c),p=0;p<fi.length;p++)x=fi[p],x.blockedOn===o&&(x.blockedOn=null);for(;0<fi.length&&(p=fi[0],p.blockedOn===null);)rp(p),p.blockedOn===null&&fi.shift()}var Hi=y.ReactCurrentBatchConfig,La=!0;function os(o,c,p,x){var _=Rt,T=Hi.transition;Hi.transition=null;try{Rt=1,Ld(o,c,p,x)}finally{Rt=_,Hi.transition=T}}function Bg(o,c,p,x){var _=Rt,T=Hi.transition;Hi.transition=null;try{Rt=4,Ld(o,c,p,x)}finally{Rt=_,Hi.transition=T}}function Ld(o,c,p,x){if(La){var _=Wl(o,c,p,x);if(_===null)Qg(o,c,x,Mo,p),np(o,x);else if(Fg(_,o,c,p,x))x.stopPropagation();else if(np(o,x),c&4&&-1<Mg.indexOf(o)){for(;_!==null;){var T=Kd(_);if(T!==null&&Zh(T),T=Wl(o,c,p,x),T===null&&Qg(o,c,x,Mo,p),T===_)break;_=T}_!==null&&x.stopPropagation()}else Qg(o,c,x,null,p)}}var Mo=null;function Wl(o,c,p,x){if(Mo=null,o=Bi(x),o=$o(o),o!==null)if(c=Gr(o),c===null)o=null;else if(p=c.tag,p===13){if(o=Ao(c),o!==null)return o;o=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null);return Mo=o,null}function Dd(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kh()){case Io:return 1;case Ta:return 4;case jr:case Id:return 16;case Qh:return 536870912;default:return 16}default:return 16}}var dr=null,ql=null,Hn=null;function Md(){if(Hn)return Hn;var o,c=ql,p=c.length,x,_="value"in dr?dr.value:dr.textContent,T=_.length;for(o=0;o<p&&c[o]===_[o];o++);var V=p-o;for(x=1;x<=V&&c[p-x]===_[T-x];x++);return Hn=_.slice(o,1<x?1-x:void 0)}function Kl(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function gi(){return!0}function Fd(){return!1}function sn(o){function c(p,x,_,T,V){this._reactName=p,this._targetInst=_,this.type=x,this.nativeEvent=T,this.target=V,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(p=o[Q],this[Q]=p?p(T):T[Q]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?gi:Fd,this.isPropagationStopped=Fd,this}return ne(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),c}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=sn(Yr),xi=ne({},Yr,{view:0,detail:0}),$g=sn(xi),Xl,Gi,Da,Fo=ne({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vi,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Da&&(Da&&o.type==="mousemove"?(Xl=o.screenX-Da.screenX,Gi=o.screenY-Da.screenY):Gi=Xl=0,Da=o),Xl)},movementY:function(o){return"movementY"in o?o.movementY:Gi}}),Yl=sn(Fo),Bd=ne({},Fo,{dataTransfer:0}),ap=sn(Bd),Jl=ne({},xi,{relatedTarget:0}),Zl=sn(Jl),op=ne({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wi=sn(op),lp=ne({},Yr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),cp=sn(lp),dp=ne({},Yr,{data:0}),$d=sn(dp),ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hp(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=up[o])?!!c[o]:!1}function vi(){return hp}var f=ne({},xi,{key:function(o){if(o.key){var c=ec[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Kl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?In[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vi,charCode:function(o){return o.type==="keypress"?Kl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Kl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),k=sn(f),B=ne({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z=sn(B),ae=ne({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vi}),he=sn(ae),Me=ne({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gt=sn(Me),Vs=ne({},Fo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Dt=sn(Vs),qs=[9,13,27,32],Is=d&&"CompositionEvent"in window,Nr=null;d&&"documentMode"in document&&(Nr=document.documentMode);var ur=d&&"TextEvent"in window&&!Nr,Bo=d&&(!Is||Nr&&8<Nr&&11>=Nr),tc=" ",jb=!1;function Sb(o,c){switch(o){case"keyup":return qs.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nb(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var sc=!1;function nA(o,c){switch(o){case"compositionend":return Nb(c);case"keypress":return c.which!==32?null:(jb=!0,tc);case"textInput":return o=c.data,o===tc&&jb?null:o;default:return null}}function rA(o,c){if(sc)return o==="compositionend"||!Is&&Sb(o,c)?(o=Md(),Hn=ql=dr=null,sc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Bo&&c.locale!=="ko"?null:c.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kb(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!iA[o.type]:c==="textarea"}function Tb(o,c,p,x){or(x),c=xp(c,"onChange"),0<c.length&&(p=new Ql("onChange","change",null,p,x),o.push({event:p,listeners:c}))}var Od=null,Vd=null;function aA(o){Gb(o,0)}function pp(o){var c=oc(o);if(Ee(c))return o}function oA(o,c){if(o==="change")return c}var Cb=!1;if(d){var Og;if(d){var Vg="oninput"in document;if(!Vg){var Eb=document.createElement("div");Eb.setAttribute("oninput","return;"),Vg=typeof Eb.oninput=="function"}Og=Vg}else Og=!1;Cb=Og&&(!document.documentMode||9<document.documentMode)}function Ab(){Od&&(Od.detachEvent("onpropertychange",Ib),Vd=Od=null)}function Ib(o){if(o.propertyName==="value"&&pp(Vd)){var c=[];Tb(c,Vd,o,Bi(o)),Td(aA,c)}}function lA(o,c,p){o==="focusin"?(Ab(),Od=c,Vd=p,Od.attachEvent("onpropertychange",Ib)):o==="focusout"&&Ab()}function cA(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return pp(Vd)}function dA(o,c){if(o==="click")return pp(c)}function uA(o,c){if(o==="input"||o==="change")return pp(c)}function hA(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Jr=typeof Object.is=="function"?Object.is:hA;function Ud(o,c){if(Jr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var p=Object.keys(o),x=Object.keys(c);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var _=p[x];if(!u.call(c,_)||!Jr(o[_],c[_]))return!1}return!0}function Rb(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Pb(o,c){var p=Rb(o);o=0;for(var x;p;){if(p.nodeType===3){if(x=o+p.textContent.length,o<=c&&x>=c)return{node:p,offset:c-o};o=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Rb(p)}}function Lb(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Lb(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Db(){for(var o=window,c=tt();c instanceof o.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch(x){p=!1}if(p)o=c.contentWindow;else break;c=tt(o.document)}return c}function Ug(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}function pA(o){var c=Db(),p=o.focusedElem,x=o.selectionRange;if(c!==p&&p&&p.ownerDocument&&Lb(p.ownerDocument.documentElement,p)){if(x!==null&&Ug(p)){if(c=x.start,o=x.end,o===void 0&&(o=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(o,p.value.length);else if(o=(c=p.ownerDocument||document)&&c.defaultView||window,o.getSelection){o=o.getSelection();var _=p.textContent.length,T=Math.min(x.start,_);x=x.end===void 0?T:Math.min(x.end,_),!o.extend&&T>x&&(_=x,x=T,T=_),_=Pb(p,T);var V=Pb(p,x);_&&V&&(o.rangeCount!==1||o.anchorNode!==_.node||o.anchorOffset!==_.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(c=c.createRange(),c.setStart(_.node,_.offset),o.removeAllRanges(),T>x?(o.addRange(c),o.extend(V.node,V.offset)):(c.setEnd(V.node,V.offset),o.addRange(c)))}}for(c=[],o=p;o=o.parentNode;)o.nodeType===1&&c.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)o=c[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var mA=d&&"documentMode"in document&&11>=document.documentMode,nc=null,zg=null,zd=null,Hg=!1;function Mb(o,c,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Hg||nc==null||nc!==tt(x)||(x=nc,"selectionStart"in x&&Ug(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),zd&&Ud(zd,x)||(zd=x,x=xp(zg,"onSelect"),0<x.length&&(c=new Ql("onSelect","select",null,c,p),o.push({event:c,listeners:x}),c.target=nc)))}function mp(o,c){var p={};return p[o.toLowerCase()]=c.toLowerCase(),p["Webkit"+o]="webkit"+c,p["Moz"+o]="moz"+c,p}var rc={animationend:mp("Animation","AnimationEnd"),animationiteration:mp("Animation","AnimationIteration"),animationstart:mp("Animation","AnimationStart"),transitionend:mp("Transition","TransitionEnd")},Gg={},Fb={};d&&(Fb=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function fp(o){if(Gg[o])return Gg[o];if(!rc[o])return o;var c=rc[o],p;for(p in c)if(c.hasOwnProperty(p)&&p in Fb)return Gg[o]=c[p];return o}var Bb=fp("animationend"),$b=fp("animationiteration"),Ob=fp("animationstart"),Vb=fp("transitionend"),Ub=new Map,zb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(o,c){Ub.set(o,c),a(c,[o])}for(var Wg=0;Wg<zb.length;Wg++){var qg=zb[Wg],fA=qg.toLowerCase(),gA=qg[0].toUpperCase()+qg.slice(1);Ma(fA,"on"+gA)}Ma(Bb,"onAnimationEnd"),Ma($b,"onAnimationIteration"),Ma(Ob,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(Vb,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hd));function Hb(o,c,p){var x=o.type||"unknown-event";o.currentTarget=p,Gh(x,c,void 0,o),o.currentTarget=null}function Gb(o,c){c=(c&4)!==0;for(var p=0;p<o.length;p++){var x=o[p],_=x.event;x=x.listeners;e:{var T=void 0;if(c)for(var V=x.length-1;0<=V;V--){var Q=x[V],X=Q.instance,de=Q.currentTarget;if(Q=Q.listener,X!==T&&_.isPropagationStopped())break e;Hb(_,Q,de),T=X}else for(V=0;V<x.length;V++){if(Q=x[V],X=Q.instance,de=Q.currentTarget,Q=Q.listener,X!==T&&_.isPropagationStopped())break e;Hb(_,Q,de),T=X}}}if(Hr)throw o=Cd,Hr=!1,Cd=null,o}function rs(o,c){var p=c[tx];p===void 0&&(p=c[tx]=new Set);var x=o+"__bubble";p.has(x)||(Wb(c,o,2,!1),p.add(x))}function Kg(o,c,p){var x=0;c&&(x|=4),Wb(p,o,x,c)}var gp="_reactListening"+Math.random().toString(36).slice(2);function Gd(o){if(!o[gp]){o[gp]=!0,r.forEach(function(p){p!=="selectionchange"&&(xA.has(p)||Kg(p,!1,o),Kg(p,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[gp]||(c[gp]=!0,Kg("selectionchange",!1,c))}}function Wb(o,c,p,x){switch(Dd(c)){case 1:var _=os;break;case 4:_=Bg;break;default:_=Ld}p=_.bind(null,c,p,o),_=void 0,!Bl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),x?_!==void 0?o.addEventListener(c,p,{capture:!0,passive:_}):o.addEventListener(c,p,!0):_!==void 0?o.addEventListener(c,p,{passive:_}):o.addEventListener(c,p,!1)}function Qg(o,c,p,x,_){var T=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var V=x.tag;if(V===3||V===4){var Q=x.stateNode.containerInfo;if(Q===_||Q.nodeType===8&&Q.parentNode===_)break;if(V===4)for(V=x.return;V!==null;){var X=V.tag;if((X===3||X===4)&&(X=V.stateNode.containerInfo,X===_||X.nodeType===8&&X.parentNode===_))return;V=V.return}for(;Q!==null;){if(V=$o(Q),V===null)return;if(X=V.tag,X===5||X===6){x=T=V;continue e}Q=Q.parentNode}}x=x.return}Td(function(){var de=T,ye=Bi(p),je=[];e:{var ve=Ub.get(o);if(ve!==void 0){var Ve=Ql,Ge=o;switch(o){case"keypress":if(Kl(p)===0)break e;case"keydown":case"keyup":Ve=k;break;case"focusin":Ge="focus",Ve=Zl;break;case"focusout":Ge="blur",Ve=Zl;break;case"beforeblur":case"afterblur":Ve=Zl;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=he;break;case Bb:case $b:case Ob:Ve=Wi;break;case Vb:Ve=Gt;break;case"scroll":Ve=$g;break;case"wheel":Ve=Dt;break;case"copy":case"cut":case"paste":Ve=cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=z}var We=(c&4)!==0,Ts=!We&&o==="scroll",oe=We?ve!==null?ve+"Capture":null:ve;We=[];for(var se=de,le;se!==null;){le=se;var Ie=le.stateNode;if(le.tag===5&&Ie!==null&&(le=Ie,oe!==null&&(Ie=ks(se,oe),Ie!=null&&We.push(Wd(se,Ie,le)))),Ts)break;se=se.return}0<We.length&&(ve=new Ve(ve,Ge,null,p,ye),je.push({event:ve,listeners:We}))}}if((c&7)===0){e:{if(ve=o==="mouseover"||o==="pointerover",Ve=o==="mouseout"||o==="pointerout",ve&&p!==wr&&(Ge=p.relatedTarget||p.fromElement)&&($o(Ge)||Ge[qi]))break e;if((Ve||ve)&&(ve=ye.window===ye?ye:(ve=ye.ownerDocument)?ve.defaultView||ve.parentWindow:window,Ve?(Ge=p.relatedTarget||p.toElement,Ve=de,Ge=Ge?$o(Ge):null,Ge!==null&&(Ts=Gr(Ge),Ge!==Ts||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(Ve=null,Ge=de),Ve!==Ge)){if(We=Yl,Ie="onMouseLeave",oe="onMouseEnter",se="mouse",(o==="pointerout"||o==="pointerover")&&(We=z,Ie="onPointerLeave",oe="onPointerEnter",se="pointer"),Ts=Ve==null?ve:oc(Ve),le=Ge==null?ve:oc(Ge),ve=new We(Ie,se+"leave",Ve,p,ye),ve.target=Ts,ve.relatedTarget=le,Ie=null,$o(ye)===de&&(We=new We(oe,se+"enter",Ge,p,ye),We.target=le,We.relatedTarget=Ts,Ie=We),Ts=Ie,Ve&&Ge)t:{for(We=Ve,oe=Ge,se=0,le=We;le;le=ic(le))se++;for(le=0,Ie=oe;Ie;Ie=ic(Ie))le++;for(;0<se-le;)We=ic(We),se--;for(;0<le-se;)oe=ic(oe),le--;for(;se--;){if(We===oe||oe!==null&&We===oe.alternate)break t;We=ic(We),oe=ic(oe)}We=null}else We=null;Ve!==null&&qb(je,ve,Ve,We,!1),Ge!==null&&Ts!==null&&qb(je,Ts,Ge,We,!0)}}e:{if(ve=de?oc(de):window,Ve=ve.nodeName&&ve.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&ve.type==="file")var Qe=oA;else if(kb(ve))if(Cb)Qe=uA;else{Qe=cA;var Ze=lA}else(Ve=ve.nodeName)&&Ve.toLowerCase()==="input"&&(ve.type==="checkbox"||ve.type==="radio")&&(Qe=dA);if(Qe&&(Qe=Qe(o,de))){Tb(je,Qe,p,ye);break e}Ze&&Ze(o,ve,de),o==="focusout"&&(Ze=ve._wrapperState)&&Ze.controlled&&ve.type==="number"&&ys(ve,"number",ve.value)}switch(Ze=de?oc(de):window,o){case"focusin":(kb(Ze)||Ze.contentEditable==="true")&&(nc=Ze,zg=de,zd=null);break;case"focusout":zd=zg=nc=null;break;case"mousedown":Hg=!0;break;case"contextmenu":case"mouseup":case"dragend":Hg=!1,Mb(je,p,ye);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":Mb(je,p,ye)}var et;if(Is)e:{switch(o){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else sc?Sb(o,p)&&(it="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(it="onCompositionStart");it&&(Bo&&p.locale!=="ko"&&(sc||it!=="onCompositionStart"?it==="onCompositionEnd"&&sc&&(et=Md()):(dr=ye,ql="value"in dr?dr.value:dr.textContent,sc=!0)),Ze=xp(de,it),0<Ze.length&&(it=new $d(it,o,null,p,ye),je.push({event:it,listeners:Ze}),et?it.data=et:(et=Nb(p),et!==null&&(it.data=et)))),(et=ur?nA(o,p):rA(o,p))&&(de=xp(de,"onBeforeInput"),0<de.length&&(ye=new $d("onBeforeInput","beforeinput",null,p,ye),je.push({event:ye,listeners:de}),ye.data=et))}Gb(je,c)})}function Wd(o,c,p){return{instance:o,listener:c,currentTarget:p}}function xp(o,c){for(var p=c+"Capture",x=[];o!==null;){var _=o,T=_.stateNode;_.tag===5&&T!==null&&(_=T,T=ks(o,p),T!=null&&x.unshift(Wd(o,T,_)),T=ks(o,c),T!=null&&x.push(Wd(o,T,_))),o=o.return}return x}function ic(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function qb(o,c,p,x,_){for(var T=c._reactName,V=[];p!==null&&p!==x;){var Q=p,X=Q.alternate,de=Q.stateNode;if(X!==null&&X===x)break;Q.tag===5&&de!==null&&(Q=de,_?(X=ks(p,T),X!=null&&V.unshift(Wd(p,X,Q))):_||(X=ks(p,T),X!=null&&V.push(Wd(p,X,Q)))),p=p.return}V.length!==0&&o.push({event:c,listeners:V})}var vA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function Kb(o){return(typeof o=="string"?o:""+o).replace(vA,`
`).replace(yA,"")}function vp(o,c,p){if(c=Kb(c),Kb(o)!==c&&p)throw Error(s(425))}function yp(){}var Xg=null,Yg=null;function Jg(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Zg=typeof setTimeout=="function"?setTimeout:void 0,bA=typeof clearTimeout=="function"?clearTimeout:void 0,Qb=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof Qb!="undefined"?function(o){return Qb.resolve(null).then(o).catch(wA)}:Zg;function wA(o){setTimeout(function(){throw o})}function ex(o,c){var p=c,x=0;do{var _=p.nextSibling;if(o.removeChild(p),_&&_.nodeType===8)if(p=_.data,p==="/$"){if(x===0){o.removeChild(_),Xr(c);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=_}while(p);Xr(c)}function Fa(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return o}function Xb(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return o;c--}else p==="/$"&&c++}o=o.previousSibling}return null}var ac=Math.random().toString(36).slice(2),yi="__reactFiber$"+ac,qd="__reactProps$"+ac,qi="__reactContainer$"+ac,tx="__reactEvents$"+ac,jA="__reactListeners$"+ac,SA="__reactHandles$"+ac;function $o(o){var c=o[yi];if(c)return c;for(var p=o.parentNode;p;){if(c=p[qi]||p[yi]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(o=Xb(o);o!==null;){if(p=o[yi])return p;o=Xb(o)}return c}o=p,p=o.parentNode}return null}function Kd(o){return o=o[yi]||o[qi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function oc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(s(33))}function bp(o){return o[qd]||null}var sx=[],lc=-1;function Ba(o){return{current:o}}function is(o){0>lc||(o.current=sx[lc],sx[lc]=null,lc--)}function Zt(o,c){lc++,sx[lc]=o.current,o.current=c}var $a={},yn=Ba($a),Gn=Ba(!1),Oo=$a;function cc(o,c){var p=o.type.contextTypes;if(!p)return $a;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===c)return x.__reactInternalMemoizedMaskedChildContext;var _={},T;for(T in p)_[T]=c[T];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=c,o.__reactInternalMemoizedMaskedChildContext=_),_}function Wn(o){return o=o.childContextTypes,o!=null}function _p(){is(Gn),is(yn)}function Yb(o,c,p){if(yn.current!==$a)throw Error(s(168));Zt(yn,c),Zt(Gn,p)}function Jb(o,c,p){var x=o.stateNode;if(c=c.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var _ in x)if(!(_ in c))throw Error(s(108,ge(o)||"Unknown",_));return ne({},p,x)}function wp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||$a,Oo=yn.current,Zt(yn,o),Zt(Gn,Gn.current),!0}function Zb(o,c,p){var x=o.stateNode;if(!x)throw Error(s(169));p?(o=Jb(o,c,Oo),x.__reactInternalMemoizedMergedChildContext=o,is(Gn),is(yn),Zt(yn,o)):is(Gn),Zt(Gn,p)}var Ki=null,jp=!1,nx=!1;function e_(o){Ki===null?Ki=[o]:Ki.push(o)}function NA(o){jp=!0,e_(o)}function Oa(){if(!nx&&Ki!==null){nx=!0;var o=0,c=Rt;try{var p=Ki;for(Rt=1;o<p.length;o++){var x=p[o];do x=x(!0);while(x!==null)}Ki=null,jp=!1}catch(_){throw Ki!==null&&(Ki=Ki.slice(o+1)),Ul(Io,Oa),_}finally{Rt=c,nx=!1}}return null}var dc=[],uc=0,Sp=null,Np=0,kr=[],Tr=0,Vo=null,Qi=1,Xi="";function Uo(o,c){dc[uc++]=Np,dc[uc++]=Sp,Sp=o,Np=c}function t_(o,c,p){kr[Tr++]=Qi,kr[Tr++]=Xi,kr[Tr++]=Vo,Vo=o;var x=Qi;o=Xi;var _=32-An(x)-1;x&=~(1<<_),p+=1;var T=32-An(c)+_;if(30<T){var V=_-_%5;T=(x&(1<<V)-1).toString(32),x>>=V,_-=V,Qi=1<<32-An(c)+_|p<<_|x,Xi=T+o}else Qi=1<<T|p<<_|x,Xi=o}function rx(o){o.return!==null&&(Uo(o,1),t_(o,1,0))}function ix(o){for(;o===Sp;)Sp=dc[--uc],dc[uc]=null,Np=dc[--uc],dc[uc]=null;for(;o===Vo;)Vo=kr[--Tr],kr[Tr]=null,Xi=kr[--Tr],kr[Tr]=null,Qi=kr[--Tr],kr[Tr]=null}var hr=null,pr=null,ls=!1,Zr=null;function s_(o,c){var p=Ir(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=o,c=o.deletions,c===null?(o.deletions=[p],o.flags|=16):c.push(p)}function n_(o,c){switch(o.tag){case 5:var p=o.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(o.stateNode=c,hr=o,pr=Fa(c.firstChild),!0):!1;case 6:return c=o.pendingProps===""||c.nodeType!==3?null:c,c!==null?(o.stateNode=c,hr=o,pr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=Vo!==null?{id:Qi,overflow:Xi}:null,o.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=Ir(18,null,null,0),p.stateNode=c,p.return=o,o.child=p,hr=o,pr=null,!0):!1;default:return!1}}function ax(o){return(o.mode&1)!==0&&(o.flags&128)===0}function ox(o){if(ls){var c=pr;if(c){var p=c;if(!n_(o,c)){if(ax(o))throw Error(s(418));c=Fa(p.nextSibling);var x=hr;c&&n_(o,c)?s_(x,p):(o.flags=o.flags&-4097|2,ls=!1,hr=o)}}else{if(ax(o))throw Error(s(418));o.flags=o.flags&-4097|2,ls=!1,hr=o}}}function r_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;hr=o}function kp(o){if(o!==hr)return!1;if(!ls)return r_(o),ls=!0,!1;var c;if((c=o.tag!==3)&&!(c=o.tag!==5)&&(c=o.type,c=c!=="head"&&c!=="body"&&!Jg(o.type,o.memoizedProps)),c&&(c=pr)){if(ax(o))throw i_(),Error(s(418));for(;c;)s_(o,c),c=Fa(c.nextSibling)}if(r_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(c===0){pr=Fa(o.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}o=o.nextSibling}pr=null}}else pr=hr?Fa(o.stateNode.nextSibling):null;return!0}function i_(){for(var o=pr;o;)o=Fa(o.nextSibling)}function hc(){pr=hr=null,ls=!1}function lx(o){Zr===null?Zr=[o]:Zr.push(o)}var kA=y.ReactCurrentBatchConfig;function Qd(o,c,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(s(309));var x=p.stateNode}if(!x)throw Error(s(147,o));var _=x,T=""+o;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===T?c.ref:(c=function(V){var Q=_.refs;V===null?delete Q[T]:Q[T]=V},c._stringRef=T,c)}if(typeof o!="string")throw Error(s(284));if(!p._owner)throw Error(s(290,o))}return o}function Tp(o,c){throw o=Object.prototype.toString.call(c),Error(s(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o))}function a_(o){var c=o._init;return c(o._payload)}function o_(o){function c(oe,se){if(o){var le=oe.deletions;le===null?(oe.deletions=[se],oe.flags|=16):le.push(se)}}function p(oe,se){if(!o)return null;for(;se!==null;)c(oe,se),se=se.sibling;return null}function x(oe,se){for(oe=new Map;se!==null;)se.key!==null?oe.set(se.key,se):oe.set(se.index,se),se=se.sibling;return oe}function _(oe,se){return oe=Ka(oe,se),oe.index=0,oe.sibling=null,oe}function T(oe,se,le){return oe.index=le,o?(le=oe.alternate,le!==null?(le=le.index,le<se?(oe.flags|=2,se):le):(oe.flags|=2,se)):(oe.flags|=1048576,se)}function V(oe){return o&&oe.alternate===null&&(oe.flags|=2),oe}function Q(oe,se,le,Ie){return se===null||se.tag!==6?(se=Zx(le,oe.mode,Ie),se.return=oe,se):(se=_(se,le),se.return=oe,se)}function X(oe,se,le,Ie){var Qe=le.type;return Qe===N?ye(oe,se,le.props.children,Ie,le.key):se!==null&&(se.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===q&&a_(Qe)===se.type)?(Ie=_(se,le.props),Ie.ref=Qd(oe,se,le),Ie.return=oe,Ie):(Ie=Yp(le.type,le.key,le.props,null,oe.mode,Ie),Ie.ref=Qd(oe,se,le),Ie.return=oe,Ie)}function de(oe,se,le,Ie){return se===null||se.tag!==4||se.stateNode.containerInfo!==le.containerInfo||se.stateNode.implementation!==le.implementation?(se=ev(le,oe.mode,Ie),se.return=oe,se):(se=_(se,le.children||[]),se.return=oe,se)}function ye(oe,se,le,Ie,Qe){return se===null||se.tag!==7?(se=Xo(le,oe.mode,Ie,Qe),se.return=oe,se):(se=_(se,le),se.return=oe,se)}function je(oe,se,le){if(typeof se=="string"&&se!==""||typeof se=="number")return se=Zx(""+se,oe.mode,le),se.return=oe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case w:return le=Yp(se.type,se.key,se.props,null,oe.mode,le),le.ref=Qd(oe,null,se),le.return=oe,le;case L:return se=ev(se,oe.mode,le),se.return=oe,se;case q:var Ie=se._init;return je(oe,Ie(se._payload),le)}if(Ne(se)||te(se))return se=Xo(se,oe.mode,le,null),se.return=oe,se;Tp(oe,se)}return null}function ve(oe,se,le,Ie){var Qe=se!==null?se.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Qe!==null?null:Q(oe,se,""+le,Ie);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return le.key===Qe?X(oe,se,le,Ie):null;case L:return le.key===Qe?de(oe,se,le,Ie):null;case q:return Qe=le._init,ve(oe,se,Qe(le._payload),Ie)}if(Ne(le)||te(le))return Qe!==null?null:ye(oe,se,le,Ie,null);Tp(oe,le)}return null}function Ve(oe,se,le,Ie,Qe){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return oe=oe.get(le)||null,Q(se,oe,""+Ie,Qe);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case w:return oe=oe.get(Ie.key===null?le:Ie.key)||null,X(se,oe,Ie,Qe);case L:return oe=oe.get(Ie.key===null?le:Ie.key)||null,de(se,oe,Ie,Qe);case q:var Ze=Ie._init;return Ve(oe,se,le,Ze(Ie._payload),Qe)}if(Ne(Ie)||te(Ie))return oe=oe.get(le)||null,ye(se,oe,Ie,Qe,null);Tp(se,Ie)}return null}function Ge(oe,se,le,Ie){for(var Qe=null,Ze=null,et=se,it=se=0,Xs=null;et!==null&&it<le.length;it++){et.index>it?(Xs=et,et=null):Xs=et.sibling;var Ut=ve(oe,et,le[it],Ie);if(Ut===null){et===null&&(et=Xs);break}o&&et&&Ut.alternate===null&&c(oe,et),se=T(Ut,se,it),Ze===null?Qe=Ut:Ze.sibling=Ut,Ze=Ut,et=Xs}if(it===le.length)return p(oe,et),ls&&Uo(oe,it),Qe;if(et===null){for(;it<le.length;it++)et=je(oe,le[it],Ie),et!==null&&(se=T(et,se,it),Ze===null?Qe=et:Ze.sibling=et,Ze=et);return ls&&Uo(oe,it),Qe}for(et=x(oe,et);it<le.length;it++)Xs=Ve(et,oe,it,le[it],Ie),Xs!==null&&(o&&Xs.alternate!==null&&et.delete(Xs.key===null?it:Xs.key),se=T(Xs,se,it),Ze===null?Qe=Xs:Ze.sibling=Xs,Ze=Xs);return o&&et.forEach(function(Qa){return c(oe,Qa)}),ls&&Uo(oe,it),Qe}function We(oe,se,le,Ie){var Qe=te(le);if(typeof Qe!="function")throw Error(s(150));if(le=Qe.call(le),le==null)throw Error(s(151));for(var Ze=Qe=null,et=se,it=se=0,Xs=null,Ut=le.next();et!==null&&!Ut.done;it++,Ut=le.next()){et.index>it?(Xs=et,et=null):Xs=et.sibling;var Qa=ve(oe,et,Ut.value,Ie);if(Qa===null){et===null&&(et=Xs);break}o&&et&&Qa.alternate===null&&c(oe,et),se=T(Qa,se,it),Ze===null?Qe=Qa:Ze.sibling=Qa,Ze=Qa,et=Xs}if(Ut.done)return p(oe,et),ls&&Uo(oe,it),Qe;if(et===null){for(;!Ut.done;it++,Ut=le.next())Ut=je(oe,Ut.value,Ie),Ut!==null&&(se=T(Ut,se,it),Ze===null?Qe=Ut:Ze.sibling=Ut,Ze=Ut);return ls&&Uo(oe,it),Qe}for(et=x(oe,et);!Ut.done;it++,Ut=le.next())Ut=Ve(et,oe,it,Ut.value,Ie),Ut!==null&&(o&&Ut.alternate!==null&&et.delete(Ut.key===null?it:Ut.key),se=T(Ut,se,it),Ze===null?Qe=Ut:Ze.sibling=Ut,Ze=Ut);return o&&et.forEach(function(i4){return c(oe,i4)}),ls&&Uo(oe,it),Qe}function Ts(oe,se,le,Ie){if(typeof le=="object"&&le!==null&&le.type===N&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case w:e:{for(var Qe=le.key,Ze=se;Ze!==null;){if(Ze.key===Qe){if(Qe=le.type,Qe===N){if(Ze.tag===7){p(oe,Ze.sibling),se=_(Ze,le.props.children),se.return=oe,oe=se;break e}}else if(Ze.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===q&&a_(Qe)===Ze.type){p(oe,Ze.sibling),se=_(Ze,le.props),se.ref=Qd(oe,Ze,le),se.return=oe,oe=se;break e}p(oe,Ze);break}else c(oe,Ze);Ze=Ze.sibling}le.type===N?(se=Xo(le.props.children,oe.mode,Ie,le.key),se.return=oe,oe=se):(Ie=Yp(le.type,le.key,le.props,null,oe.mode,Ie),Ie.ref=Qd(oe,se,le),Ie.return=oe,oe=Ie)}return V(oe);case L:e:{for(Ze=le.key;se!==null;){if(se.key===Ze)if(se.tag===4&&se.stateNode.containerInfo===le.containerInfo&&se.stateNode.implementation===le.implementation){p(oe,se.sibling),se=_(se,le.children||[]),se.return=oe,oe=se;break e}else{p(oe,se);break}else c(oe,se);se=se.sibling}se=ev(le,oe.mode,Ie),se.return=oe,oe=se}return V(oe);case q:return Ze=le._init,Ts(oe,se,Ze(le._payload),Ie)}if(Ne(le))return Ge(oe,se,le,Ie);if(te(le))return We(oe,se,le,Ie);Tp(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,se!==null&&se.tag===6?(p(oe,se.sibling),se=_(se,le),se.return=oe,oe=se):(p(oe,se),se=Zx(le,oe.mode,Ie),se.return=oe,oe=se),V(oe)):p(oe,se)}return Ts}var pc=o_(!0),l_=o_(!1),Cp=Ba(null),Ep=null,mc=null,cx=null;function dx(){cx=mc=Ep=null}function ux(o){var c=Cp.current;is(Cp),o._currentValue=c}function hx(o,c,p){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===p)break;o=o.return}}function fc(o,c){Ep=o,cx=mc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&c)!==0&&(qn=!0),o.firstContext=null)}function Cr(o){var c=o._currentValue;if(cx!==o)if(o={context:o,memoizedValue:c,next:null},mc===null){if(Ep===null)throw Error(s(308));mc=o,Ep.dependencies={lanes:0,firstContext:o}}else mc=mc.next=o;return c}var zo=null;function px(o){zo===null?zo=[o]:zo.push(o)}function c_(o,c,p,x){var _=c.interleaved;return _===null?(p.next=p,px(c)):(p.next=_.next,_.next=p),c.interleaved=p,Yi(o,x)}function Yi(o,c){o.lanes|=c;var p=o.alternate;for(p!==null&&(p.lanes|=c),p=o,o=o.return;o!==null;)o.childLanes|=c,p=o.alternate,p!==null&&(p.childLanes|=c),p=o,o=o.return;return p.tag===3?p.stateNode:null}var Va=!1;function mx(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d_(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ji(o,c){return{eventTime:o,lane:c,tag:0,payload:null,callback:null,next:null}}function Ua(o,c,p){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,($t&2)!==0){var _=x.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),x.pending=c,Yi(o,p)}return _=x.interleaved,_===null?(c.next=c,px(x)):(c.next=_.next,_.next=c),x.interleaved=c,Yi(o,p)}function Ap(o,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var x=c.lanes;x&=o.pendingLanes,p|=x,c.lanes=p,Ia(o,p)}}function u_(o,c){var p=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var _=null,T=null;if(p=p.firstBaseUpdate,p!==null){do{var V={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};T===null?_=T=V:T=T.next=V,p=p.next}while(p!==null);T===null?_=T=c:T=T.next=c}else _=T=c;p={baseState:x.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:x.shared,effects:x.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=c:o.next=c,p.lastBaseUpdate=c}function Ip(o,c,p,x){var _=o.updateQueue;Va=!1;var T=_.firstBaseUpdate,V=_.lastBaseUpdate,Q=_.shared.pending;if(Q!==null){_.shared.pending=null;var X=Q,de=X.next;X.next=null,V===null?T=de:V.next=de,V=X;var ye=o.alternate;ye!==null&&(ye=ye.updateQueue,Q=ye.lastBaseUpdate,Q!==V&&(Q===null?ye.firstBaseUpdate=de:Q.next=de,ye.lastBaseUpdate=X))}if(T!==null){var je=_.baseState;V=0,ye=de=X=null,Q=T;do{var ve=Q.lane,Ve=Q.eventTime;if((x&ve)===ve){ye!==null&&(ye=ye.next={eventTime:Ve,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Ge=o,We=Q;switch(ve=c,Ve=p,We.tag){case 1:if(Ge=We.payload,typeof Ge=="function"){je=Ge.call(Ve,je,ve);break e}je=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=We.payload,ve=typeof Ge=="function"?Ge.call(Ve,je,ve):Ge,ve==null)break e;je=ne({},je,ve);break e;case 2:Va=!0}}Q.callback!==null&&Q.lane!==0&&(o.flags|=64,ve=_.effects,ve===null?_.effects=[Q]:ve.push(Q))}else Ve={eventTime:Ve,lane:ve,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ye===null?(de=ye=Ve,X=je):ye=ye.next=Ve,V|=ve;if(Q=Q.next,Q===null){if(Q=_.shared.pending,Q===null)break;ve=Q,Q=ve.next,ve.next=null,_.lastBaseUpdate=ve,_.shared.pending=null}}while(!0);if(ye===null&&(X=je),_.baseState=X,_.firstBaseUpdate=de,_.lastBaseUpdate=ye,c=_.shared.interleaved,c!==null){_=c;do V|=_.lane,_=_.next;while(_!==c)}else T===null&&(_.shared.lanes=0);Wo|=V,o.lanes=V,o.memoizedState=je}}function h_(o,c,p){if(o=c.effects,c.effects=null,o!==null)for(c=0;c<o.length;c++){var x=o[c],_=x.callback;if(_!==null){if(x.callback=null,x=p,typeof _!="function")throw Error(s(191,_));_.call(x)}}}var Xd={},bi=Ba(Xd),Yd=Ba(Xd),Jd=Ba(Xd);function Ho(o){if(o===Xd)throw Error(s(174));return o}function fx(o,c){switch(Zt(Jd,c),Zt(Yd,o),Zt(bi,Xd),o=c.nodeType,o){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Vt(null,"");break;default:o=o===8?c.parentNode:c,c=o.namespaceURI||null,o=o.tagName,c=Vt(c,o)}is(bi),Zt(bi,c)}function gc(){is(bi),is(Yd),is(Jd)}function p_(o){Ho(Jd.current);var c=Ho(bi.current),p=Vt(c,o.type);c!==p&&(Zt(Yd,o),Zt(bi,p))}function gx(o){Yd.current===o&&(is(bi),is(Yd))}var ps=Ba(0);function Rp(o){for(var c=o;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var xx=[];function vx(){for(var o=0;o<xx.length;o++)xx[o]._workInProgressVersionPrimary=null;xx.length=0}var Pp=y.ReactCurrentDispatcher,yx=y.ReactCurrentBatchConfig,Go=0,ms=null,Us=null,Ks=null,Lp=!1,Zd=!1,eu=0,TA=0;function bn(){throw Error(s(321))}function bx(o,c){if(c===null)return!1;for(var p=0;p<c.length&&p<o.length;p++)if(!Jr(o[p],c[p]))return!1;return!0}function _x(o,c,p,x,_,T){if(Go=T,ms=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Pp.current=o===null||o.memoizedState===null?IA:RA,o=p(x,_),Zd){T=0;do{if(Zd=!1,eu=0,25<=T)throw Error(s(301));T+=1,Ks=Us=null,c.updateQueue=null,Pp.current=PA,o=p(x,_)}while(Zd)}if(Pp.current=Fp,c=Us!==null&&Us.next!==null,Go=0,Ks=Us=ms=null,Lp=!1,c)throw Error(s(300));return o}function wx(){var o=eu!==0;return eu=0,o}function _i(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ks===null?ms.memoizedState=Ks=o:Ks=Ks.next=o,Ks}function Er(){if(Us===null){var o=ms.alternate;o=o!==null?o.memoizedState:null}else o=Us.next;var c=Ks===null?ms.memoizedState:Ks.next;if(c!==null)Ks=c,Us=o;else{if(o===null)throw Error(s(310));Us=o,o={memoizedState:Us.memoizedState,baseState:Us.baseState,baseQueue:Us.baseQueue,queue:Us.queue,next:null},Ks===null?ms.memoizedState=Ks=o:Ks=Ks.next=o}return Ks}function tu(o,c){return typeof c=="function"?c(o):c}function jx(o){var c=Er(),p=c.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=o;var x=Us,_=x.baseQueue,T=p.pending;if(T!==null){if(_!==null){var V=_.next;_.next=T.next,T.next=V}x.baseQueue=_=T,p.pending=null}if(_!==null){T=_.next,x=x.baseState;var Q=V=null,X=null,de=T;do{var ye=de.lane;if((Go&ye)===ye)X!==null&&(X=X.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),x=de.hasEagerState?de.eagerState:o(x,de.action);else{var je={lane:ye,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};X===null?(Q=X=je,V=x):X=X.next=je,ms.lanes|=ye,Wo|=ye}de=de.next}while(de!==null&&de!==T);X===null?V=x:X.next=Q,Jr(x,c.memoizedState)||(qn=!0),c.memoizedState=x,c.baseState=V,c.baseQueue=X,p.lastRenderedState=x}if(o=p.interleaved,o!==null){_=o;do T=_.lane,ms.lanes|=T,Wo|=T,_=_.next;while(_!==o)}else _===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Sx(o){var c=Er(),p=c.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=o;var x=p.dispatch,_=p.pending,T=c.memoizedState;if(_!==null){p.pending=null;var V=_=_.next;do T=o(T,V.action),V=V.next;while(V!==_);Jr(T,c.memoizedState)||(qn=!0),c.memoizedState=T,c.baseQueue===null&&(c.baseState=T),p.lastRenderedState=T}return[T,x]}function m_(){}function f_(o,c){var p=ms,x=Er(),_=c(),T=!Jr(x.memoizedState,_);if(T&&(x.memoizedState=_,qn=!0),x=x.queue,Nx(v_.bind(null,p,x,o),[o]),x.getSnapshot!==c||T||Ks!==null&&Ks.memoizedState.tag&1){if(p.flags|=2048,su(9,x_.bind(null,p,x,_,c),void 0,null),Qs===null)throw Error(s(349));(Go&30)!==0||g_(p,c,_)}return _}function g_(o,c,p){o.flags|=16384,o={getSnapshot:c,value:p},c=ms.updateQueue,c===null?(c={lastEffect:null,stores:null},ms.updateQueue=c,c.stores=[o]):(p=c.stores,p===null?c.stores=[o]:p.push(o))}function x_(o,c,p,x){c.value=p,c.getSnapshot=x,y_(c)&&b_(o)}function v_(o,c,p){return p(function(){y_(c)&&b_(o)})}function y_(o){var c=o.getSnapshot;o=o.value;try{var p=c();return!Jr(o,p)}catch(x){return!0}}function b_(o){var c=Yi(o,1);c!==null&&ni(c,o,1,-1)}function __(o){var c=_i();return typeof o=="function"&&(o=o()),c.memoizedState=c.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:o},c.queue=o,o=o.dispatch=AA.bind(null,ms,o),[c.memoizedState,o]}function su(o,c,p,x){return o={tag:o,create:c,destroy:p,deps:x,next:null},c=ms.updateQueue,c===null?(c={lastEffect:null,stores:null},ms.updateQueue=c,c.lastEffect=o.next=o):(p=c.lastEffect,p===null?c.lastEffect=o.next=o:(x=p.next,p.next=o,o.next=x,c.lastEffect=o)),o}function w_(){return Er().memoizedState}function Dp(o,c,p,x){var _=_i();ms.flags|=o,_.memoizedState=su(1|c,p,void 0,x===void 0?null:x)}function Mp(o,c,p,x){var _=Er();x=x===void 0?null:x;var T=void 0;if(Us!==null){var V=Us.memoizedState;if(T=V.destroy,x!==null&&bx(x,V.deps)){_.memoizedState=su(c,p,T,x);return}}ms.flags|=o,_.memoizedState=su(1|c,p,T,x)}function j_(o,c){return Dp(8390656,8,o,c)}function Nx(o,c){return Mp(2048,8,o,c)}function S_(o,c){return Mp(4,2,o,c)}function N_(o,c){return Mp(4,4,o,c)}function k_(o,c){if(typeof c=="function")return o=o(),c(o),function(){c(null)};if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function T_(o,c,p){return p=p!=null?p.concat([o]):null,Mp(4,4,k_.bind(null,c,o),p)}function kx(){}function C_(o,c){var p=Er();c=c===void 0?null:c;var x=p.memoizedState;return x!==null&&c!==null&&bx(c,x[1])?x[0]:(p.memoizedState=[o,c],o)}function E_(o,c){var p=Er();c=c===void 0?null:c;var x=p.memoizedState;return x!==null&&c!==null&&bx(c,x[1])?x[0]:(o=o(),p.memoizedState=[o,c],o)}function A_(o,c,p){return(Go&21)===0?(o.baseState&&(o.baseState=!1,qn=!0),o.memoizedState=p):(Jr(p,c)||(p=Lo(),ms.lanes|=p,Wo|=p,o.baseState=!0),c)}function CA(o,c){var p=Rt;Rt=p!==0&&4>p?p:4,o(!0);var x=yx.transition;yx.transition={};try{o(!1),c()}finally{Rt=p,yx.transition=x}}function I_(){return Er().memoizedState}function EA(o,c,p){var x=Wa(o);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},R_(o))P_(c,p);else if(p=c_(o,c,p,x),p!==null){var _=Pn();ni(p,o,x,_),L_(p,c,x)}}function AA(o,c,p){var x=Wa(o),_={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(R_(o))P_(c,_);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=c.lastRenderedReducer,T!==null))try{var V=c.lastRenderedState,Q=T(V,p);if(_.hasEagerState=!0,_.eagerState=Q,Jr(Q,V)){var X=c.interleaved;X===null?(_.next=_,px(c)):(_.next=X.next,X.next=_),c.interleaved=_;return}}catch(de){}finally{}p=c_(o,c,_,x),p!==null&&(_=Pn(),ni(p,o,x,_),L_(p,c,x))}}function R_(o){var c=o.alternate;return o===ms||c!==null&&c===ms}function P_(o,c){Zd=Lp=!0;var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}function L_(o,c,p){if((p&4194240)!==0){var x=c.lanes;x&=o.pendingLanes,p|=x,c.lanes=p,Ia(o,p)}}var Fp={readContext:Cr,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},IA={readContext:Cr,useCallback:function(o,c){return _i().memoizedState=[o,c===void 0?null:c],o},useContext:Cr,useEffect:j_,useImperativeHandle:function(o,c,p){return p=p!=null?p.concat([o]):null,Dp(4194308,4,k_.bind(null,c,o),p)},useLayoutEffect:function(o,c){return Dp(4194308,4,o,c)},useInsertionEffect:function(o,c){return Dp(4,2,o,c)},useMemo:function(o,c){var p=_i();return c=c===void 0?null:c,o=o(),p.memoizedState=[o,c],o},useReducer:function(o,c,p){var x=_i();return c=p!==void 0?p(c):c,x.memoizedState=x.baseState=c,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:c},x.queue=o,o=o.dispatch=EA.bind(null,ms,o),[x.memoizedState,o]},useRef:function(o){var c=_i();return o={current:o},c.memoizedState=o},useState:__,useDebugValue:kx,useDeferredValue:function(o){return _i().memoizedState=o},useTransition:function(){var o=__(!1),c=o[0];return o=CA.bind(null,o[1]),_i().memoizedState=o,[c,o]},useMutableSource:function(){},useSyncExternalStore:function(o,c,p){var x=ms,_=_i();if(ls){if(p===void 0)throw Error(s(407));p=p()}else{if(p=c(),Qs===null)throw Error(s(349));(Go&30)!==0||g_(x,c,p)}_.memoizedState=p;var T={value:p,getSnapshot:c};return _.queue=T,j_(v_.bind(null,x,T,o),[o]),x.flags|=2048,su(9,x_.bind(null,x,T,p,c),void 0,null),p},useId:function(){var o=_i(),c=Qs.identifierPrefix;if(ls){var p=Xi,x=Qi;p=(x&~(1<<32-An(x)-1)).toString(32)+p,c=":"+c+"R"+p,p=eu++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=TA++,c=":"+c+"r"+p.toString(32)+":";return o.memoizedState=c},unstable_isNewReconciler:!1},RA={readContext:Cr,useCallback:C_,useContext:Cr,useEffect:Nx,useImperativeHandle:T_,useInsertionEffect:S_,useLayoutEffect:N_,useMemo:E_,useReducer:jx,useRef:w_,useState:function(){return jx(tu)},useDebugValue:kx,useDeferredValue:function(o){var c=Er();return A_(c,Us.memoizedState,o)},useTransition:function(){var o=jx(tu)[0],c=Er().memoizedState;return[o,c]},useMutableSource:m_,useSyncExternalStore:f_,useId:I_,unstable_isNewReconciler:!1},PA={readContext:Cr,useCallback:C_,useContext:Cr,useEffect:Nx,useImperativeHandle:T_,useInsertionEffect:S_,useLayoutEffect:N_,useMemo:E_,useReducer:Sx,useRef:w_,useState:function(){return Sx(tu)},useDebugValue:kx,useDeferredValue:function(o){var c=Er();return Us===null?c.memoizedState=o:A_(c,Us.memoizedState,o)},useTransition:function(){var o=Sx(tu)[0],c=Er().memoizedState;return[o,c]},useMutableSource:m_,useSyncExternalStore:f_,useId:I_,unstable_isNewReconciler:!1};function ei(o,c){if(o&&o.defaultProps){c=ne({},c),o=o.defaultProps;for(var p in o)c[p]===void 0&&(c[p]=o[p]);return c}return c}function Tx(o,c,p,x){c=o.memoizedState,p=p(x,c),p=p==null?c:ne({},c,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var Bp={isMounted:function(o){return(o=o._reactInternals)?Gr(o)===o:!1},enqueueSetState:function(o,c,p){o=o._reactInternals;var x=Pn(),_=Wa(o),T=Ji(x,_);T.payload=c,p!=null&&(T.callback=p),c=Ua(o,T,_),c!==null&&(ni(c,o,_,x),Ap(c,o,_))},enqueueReplaceState:function(o,c,p){o=o._reactInternals;var x=Pn(),_=Wa(o),T=Ji(x,_);T.tag=1,T.payload=c,p!=null&&(T.callback=p),c=Ua(o,T,_),c!==null&&(ni(c,o,_,x),Ap(c,o,_))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var p=Pn(),x=Wa(o),_=Ji(p,x);_.tag=2,c!=null&&(_.callback=c),c=Ua(o,_,x),c!==null&&(ni(c,o,x,p),Ap(c,o,x))}};function D_(o,c,p,x,_,T,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,T,V):c.prototype&&c.prototype.isPureReactComponent?!Ud(p,x)||!Ud(_,T):!0}function M_(o,c,p){var x=!1,_=$a,T=c.contextType;return typeof T=="object"&&T!==null?T=Cr(T):(_=Wn(c)?Oo:yn.current,x=c.contextTypes,T=(x=x!=null)?cc(o,_):$a),c=new c(p,T),o.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Bp,o.stateNode=c,c._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=_,o.__reactInternalMemoizedMaskedChildContext=T),c}function F_(o,c,p,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,x),c.state!==o&&Bp.enqueueReplaceState(c,c.state,null)}function Cx(o,c,p,x){var _=o.stateNode;_.props=p,_.state=o.memoizedState,_.refs={},mx(o);var T=c.contextType;typeof T=="object"&&T!==null?_.context=Cr(T):(T=Wn(c)?Oo:yn.current,_.context=cc(o,T)),_.state=o.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(Tx(o,c,T,p),_.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(c=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),c!==_.state&&Bp.enqueueReplaceState(_,_.state,null),Ip(o,p,_,x),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308)}function xc(o,c){try{var p="",x=c;do p+=fe(x),x=x.return;while(x);var _=p}catch(T){_=`
Error generating stack: `+T.message+`
`+T.stack}return{value:o,source:c,stack:_,digest:null}}function Ex(o,c,p){return{value:o,source:null,stack:p!=null?p:null,digest:c!=null?c:null}}function Ax(o,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var LA=typeof WeakMap=="function"?WeakMap:Map;function B_(o,c,p){p=Ji(-1,p),p.tag=3,p.payload={element:null};var x=c.value;return p.callback=function(){Gp||(Gp=!0,Gx=x),Ax(o,c)},p}function $_(o,c,p){p=Ji(-1,p),p.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var _=c.value;p.payload=function(){return x(_)},p.callback=function(){Ax(o,c)}}var T=o.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(p.callback=function(){Ax(o,c),typeof x!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var V=c.stack;this.componentDidCatch(c.value,{componentStack:V!==null?V:""})}),p}function O_(o,c,p){var x=o.pingCache;if(x===null){x=o.pingCache=new LA;var _=new Set;x.set(c,_)}else _=x.get(c),_===void 0&&(_=new Set,x.set(c,_));_.has(p)||(_.add(p),o=KA.bind(null,o,c,p),c.then(o,o))}function V_(o){do{var c;if((c=o.tag===13)&&(c=o.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return o;o=o.return}while(o!==null);return null}function U_(o,c,p,x,_){return(o.mode&1)===0?(o===c?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=Ji(-1,1),c.tag=2,Ua(p,c,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=_,o)}var DA=y.ReactCurrentOwner,qn=!1;function Rn(o,c,p,x){c.child=o===null?l_(c,null,p,x):pc(c,o.child,p,x)}function z_(o,c,p,x,_){p=p.render;var T=c.ref;return fc(c,_),x=_x(o,c,p,x,T,_),p=wx(),o!==null&&!qn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~_,Zi(o,c,_)):(ls&&p&&rx(c),c.flags|=1,Rn(o,c,x,_),c.child)}function H_(o,c,p,x,_){if(o===null){var T=p.type;return typeof T=="function"&&!Jx(T)&&T.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=T,G_(o,c,T,x,_)):(o=Yp(p.type,null,x,c,c.mode,_),o.ref=c.ref,o.return=c,c.child=o)}if(T=o.child,(o.lanes&_)===0){var V=T.memoizedProps;if(p=p.compare,p=p!==null?p:Ud,p(V,x)&&o.ref===c.ref)return Zi(o,c,_)}return c.flags|=1,o=Ka(T,x),o.ref=c.ref,o.return=c,c.child=o}function G_(o,c,p,x,_){if(o!==null){var T=o.memoizedProps;if(Ud(T,x)&&o.ref===c.ref)if(qn=!1,c.pendingProps=x=T,(o.lanes&_)!==0)(o.flags&131072)!==0&&(qn=!0);else return c.lanes=o.lanes,Zi(o,c,_)}return Ix(o,c,p,x,_)}function W_(o,c,p){var x=c.pendingProps,_=x.children,T=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(yc,mr),mr|=p;else{if((p&1073741824)===0)return o=T!==null?T.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:o,cachePool:null,transitions:null},c.updateQueue=null,Zt(yc,mr),mr|=o,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=T!==null?T.baseLanes:p,Zt(yc,mr),mr|=x}else T!==null?(x=T.baseLanes|p,c.memoizedState=null):x=p,Zt(yc,mr),mr|=x;return Rn(o,c,_,p),c.child}function q_(o,c){var p=c.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Ix(o,c,p,x,_){var T=Wn(p)?Oo:yn.current;return T=cc(c,T),fc(c,_),p=_x(o,c,p,x,T,_),x=wx(),o!==null&&!qn?(c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~_,Zi(o,c,_)):(ls&&x&&rx(c),c.flags|=1,Rn(o,c,p,_),c.child)}function K_(o,c,p,x,_){if(Wn(p)){var T=!0;wp(c)}else T=!1;if(fc(c,_),c.stateNode===null)Op(o,c),M_(c,p,x),Cx(c,p,x,_),x=!0;else if(o===null){var V=c.stateNode,Q=c.memoizedProps;V.props=Q;var X=V.context,de=p.contextType;typeof de=="object"&&de!==null?de=Cr(de):(de=Wn(p)?Oo:yn.current,de=cc(c,de));var ye=p.getDerivedStateFromProps,je=typeof ye=="function"||typeof V.getSnapshotBeforeUpdate=="function";je||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Q!==x||X!==de)&&F_(c,V,x,de),Va=!1;var ve=c.memoizedState;V.state=ve,Ip(c,x,V,_),X=c.memoizedState,Q!==x||ve!==X||Gn.current||Va?(typeof ye=="function"&&(Tx(c,p,ye,x),X=c.memoizedState),(Q=Va||D_(c,p,Q,x,ve,X,de))?(je||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(c.flags|=4194308)):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=X),V.props=x,V.state=X,V.context=de,x=Q):(typeof V.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{V=c.stateNode,d_(o,c),Q=c.memoizedProps,de=c.type===c.elementType?Q:ei(c.type,Q),V.props=de,je=c.pendingProps,ve=V.context,X=p.contextType,typeof X=="object"&&X!==null?X=Cr(X):(X=Wn(p)?Oo:yn.current,X=cc(c,X));var Ve=p.getDerivedStateFromProps;(ye=typeof Ve=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Q!==je||ve!==X)&&F_(c,V,x,X),Va=!1,ve=c.memoizedState,V.state=ve,Ip(c,x,V,_);var Ge=c.memoizedState;Q!==je||ve!==Ge||Gn.current||Va?(typeof Ve=="function"&&(Tx(c,p,Ve,x),Ge=c.memoizedState),(de=Va||D_(c,p,de,x,ve,Ge,X)||!1)?(ye||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(x,Ge,X),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(x,Ge,X)),typeof V.componentDidUpdate=="function"&&(c.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof V.componentDidUpdate!="function"||Q===o.memoizedProps&&ve===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&ve===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Ge),V.props=x,V.state=Ge,V.context=X,x=de):(typeof V.componentDidUpdate!="function"||Q===o.memoizedProps&&ve===o.memoizedState||(c.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&ve===o.memoizedState||(c.flags|=1024),x=!1)}return Rx(o,c,p,x,T,_)}function Rx(o,c,p,x,_,T){q_(o,c);var V=(c.flags&128)!==0;if(!x&&!V)return _&&Zb(c,p,!1),Zi(o,c,T);x=c.stateNode,DA.current=c;var Q=V&&typeof p.getDerivedStateFromError!="function"?null:x.render();return c.flags|=1,o!==null&&V?(c.child=pc(c,o.child,null,T),c.child=pc(c,null,Q,T)):Rn(o,c,Q,T),c.memoizedState=x.state,_&&Zb(c,p,!0),c.child}function Q_(o){var c=o.stateNode;c.pendingContext?Yb(o,c.pendingContext,c.pendingContext!==c.context):c.context&&Yb(o,c.context,!1),fx(o,c.containerInfo)}function X_(o,c,p,x,_){return hc(),lx(_),c.flags|=256,Rn(o,c,p,x),c.child}var Px={dehydrated:null,treeContext:null,retryLane:0};function Lx(o){return{baseLanes:o,cachePool:null,transitions:null}}function Y_(o,c,p){var x=c.pendingProps,_=ps.current,T=!1,V=(c.flags&128)!==0,Q;if((Q=V)||(Q=o!==null&&o.memoizedState===null?!1:(_&2)!==0),Q?(T=!0,c.flags&=-129):(o===null||o.memoizedState!==null)&&(_|=1),Zt(ps,_&1),o===null)return ox(c),o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((c.mode&1)===0?c.lanes=1:o.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(V=x.children,o=x.fallback,T?(x=c.mode,T=c.child,V={mode:"hidden",children:V},(x&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=V):T=Jp(V,x,0,null),o=Xo(o,x,p,null),T.return=c,o.return=c,T.sibling=o,c.child=T,c.child.memoizedState=Lx(p),c.memoizedState=Px,o):Dx(c,V));if(_=o.memoizedState,_!==null&&(Q=_.dehydrated,Q!==null))return MA(o,c,V,x,Q,_,p);if(T){T=x.fallback,V=c.mode,_=o.child,Q=_.sibling;var X={mode:"hidden",children:x.children};return(V&1)===0&&c.child!==_?(x=c.child,x.childLanes=0,x.pendingProps=X,c.deletions=null):(x=Ka(_,X),x.subtreeFlags=_.subtreeFlags&14680064),Q!==null?T=Ka(Q,T):(T=Xo(T,V,p,null),T.flags|=2),T.return=c,x.return=c,x.sibling=T,c.child=x,x=T,T=c.child,V=o.child.memoizedState,V=V===null?Lx(p):{baseLanes:V.baseLanes|p,cachePool:null,transitions:V.transitions},T.memoizedState=V,T.childLanes=o.childLanes&~p,c.memoizedState=Px,x}return T=o.child,o=T.sibling,x=Ka(T,{mode:"visible",children:x.children}),(c.mode&1)===0&&(x.lanes=p),x.return=c,x.sibling=null,o!==null&&(p=c.deletions,p===null?(c.deletions=[o],c.flags|=16):p.push(o)),c.child=x,c.memoizedState=null,x}function Dx(o,c){return c=Jp({mode:"visible",children:c},o.mode,0,null),c.return=o,o.child=c}function $p(o,c,p,x){return x!==null&&lx(x),pc(c,o.child,null,p),o=Dx(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function MA(o,c,p,x,_,T,V){if(p)return c.flags&256?(c.flags&=-257,x=Ex(Error(s(422))),$p(o,c,V,x)):c.memoizedState!==null?(c.child=o.child,c.flags|=128,null):(T=x.fallback,_=c.mode,x=Jp({mode:"visible",children:x.children},_,0,null),T=Xo(T,_,V,null),T.flags|=2,x.return=c,T.return=c,x.sibling=T,c.child=x,(c.mode&1)!==0&&pc(c,o.child,null,V),c.child.memoizedState=Lx(V),c.memoizedState=Px,T);if((c.mode&1)===0)return $p(o,c,V,null);if(_.data==="$!"){if(x=_.nextSibling&&_.nextSibling.dataset,x)var Q=x.dgst;return x=Q,T=Error(s(419)),x=Ex(T,x,void 0),$p(o,c,V,x)}if(Q=(V&o.childLanes)!==0,qn||Q){if(x=Qs,x!==null){switch(V&-V){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(x.suspendedLanes|V))!==0?0:_,_!==0&&_!==T.retryLane&&(T.retryLane=_,Yi(o,_),ni(x,o,_,-1))}return Yx(),x=Ex(Error(s(421))),$p(o,c,V,x)}return _.data==="$?"?(c.flags|=128,c.child=o.child,c=QA.bind(null,o),_._reactRetry=c,null):(o=T.treeContext,pr=Fa(_.nextSibling),hr=c,ls=!0,Zr=null,o!==null&&(kr[Tr++]=Qi,kr[Tr++]=Xi,kr[Tr++]=Vo,Qi=o.id,Xi=o.overflow,Vo=c),c=Dx(c,x.children),c.flags|=4096,c)}function J_(o,c,p){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),hx(o.return,c,p)}function Mx(o,c,p,x,_){var T=o.memoizedState;T===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:_}:(T.isBackwards=c,T.rendering=null,T.renderingStartTime=0,T.last=x,T.tail=p,T.tailMode=_)}function Z_(o,c,p){var x=c.pendingProps,_=x.revealOrder,T=x.tail;if(Rn(o,c,x.children,p),x=ps.current,(x&2)!==0)x=x&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&J_(o,p,c);else if(o.tag===19)J_(o,p,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Zt(ps,x),(c.mode&1)===0)c.memoizedState=null;else switch(_){case"forwards":for(p=c.child,_=null;p!==null;)o=p.alternate,o!==null&&Rp(o)===null&&(_=p),p=p.sibling;p=_,p===null?(_=c.child,c.child=null):(_=p.sibling,p.sibling=null),Mx(c,!1,_,p,T);break;case"backwards":for(p=null,_=c.child,c.child=null;_!==null;){if(o=_.alternate,o!==null&&Rp(o)===null){c.child=_;break}o=_.sibling,_.sibling=p,p=_,_=o}Mx(c,!0,p,null,T);break;case"together":Mx(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Op(o,c){(c.mode&1)===0&&o!==null&&(o.alternate=null,c.alternate=null,c.flags|=2)}function Zi(o,c,p){if(o!==null&&(c.dependencies=o.dependencies),Wo|=c.lanes,(p&c.childLanes)===0)return null;if(o!==null&&c.child!==o.child)throw Error(s(153));if(c.child!==null){for(o=c.child,p=Ka(o,o.pendingProps),c.child=p,p.return=c;o.sibling!==null;)o=o.sibling,p=p.sibling=Ka(o,o.pendingProps),p.return=c;p.sibling=null}return c.child}function FA(o,c,p){switch(c.tag){case 3:Q_(c),hc();break;case 5:p_(c);break;case 1:Wn(c.type)&&wp(c);break;case 4:fx(c,c.stateNode.containerInfo);break;case 10:var x=c.type._context,_=c.memoizedProps.value;Zt(Cp,x._currentValue),x._currentValue=_;break;case 13:if(x=c.memoizedState,x!==null)return x.dehydrated!==null?(Zt(ps,ps.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?Y_(o,c,p):(Zt(ps,ps.current&1),o=Zi(o,c,p),o!==null?o.sibling:null);Zt(ps,ps.current&1);break;case 19:if(x=(p&c.childLanes)!==0,(o.flags&128)!==0){if(x)return Z_(o,c,p);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Zt(ps,ps.current),x)break;return null;case 22:case 23:return c.lanes=0,W_(o,c,p)}return Zi(o,c,p)}var ew,Fx,tw,sw;ew=function(o,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Fx=function(){},tw=function(o,c,p,x){var _=o.memoizedProps;if(_!==x){o=c.stateNode,Ho(bi.current);var T=null;switch(p){case"input":_=pt(o,_),x=pt(o,x),T=[];break;case"select":_=ne({},_,{value:void 0}),x=ne({},x,{value:void 0}),T=[];break;case"textarea":_=Ae(o,_),x=Ae(o,x),T=[];break;default:typeof _.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=yp)}Ur(p,x);var V;p=null;for(de in _)if(!x.hasOwnProperty(de)&&_.hasOwnProperty(de)&&_[de]!=null)if(de==="style"){var Q=_[de];for(V in Q)Q.hasOwnProperty(V)&&(p||(p={}),p[V]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(i.hasOwnProperty(de)?T||(T=[]):(T=T||[]).push(de,null));for(de in x){var X=x[de];if(Q=_!=null?_[de]:void 0,x.hasOwnProperty(de)&&X!==Q&&(X!=null||Q!=null))if(de==="style")if(Q){for(V in Q)!Q.hasOwnProperty(V)||X&&X.hasOwnProperty(V)||(p||(p={}),p[V]="");for(V in X)X.hasOwnProperty(V)&&Q[V]!==X[V]&&(p||(p={}),p[V]=X[V])}else p||(T||(T=[]),T.push(de,p)),p=X;else de==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,Q=Q?Q.__html:void 0,X!=null&&Q!==X&&(T=T||[]).push(de,X)):de==="children"?typeof X!="string"&&typeof X!="number"||(T=T||[]).push(de,""+X):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(i.hasOwnProperty(de)?(X!=null&&de==="onScroll"&&rs("scroll",o),T||Q===X||(T=[])):(T=T||[]).push(de,X))}p&&(T=T||[]).push("style",p);var de=T;(c.updateQueue=de)&&(c.flags|=4)}},sw=function(o,c,p,x){p!==x&&(c.flags|=4)};function nu(o,c){if(!ls)switch(o.tailMode){case"hidden":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function _n(o){var c=o.alternate!==null&&o.alternate.child===o.child,p=0,x=0;if(c)for(var _=o.child;_!==null;)p|=_.lanes|_.childLanes,x|=_.subtreeFlags&14680064,x|=_.flags&14680064,_.return=o,_=_.sibling;else for(_=o.child;_!==null;)p|=_.lanes|_.childLanes,x|=_.subtreeFlags,x|=_.flags,_.return=o,_=_.sibling;return o.subtreeFlags|=x,o.childLanes=p,c}function BA(o,c,p){var x=c.pendingProps;switch(ix(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(c),null;case 1:return Wn(c.type)&&_p(),_n(c),null;case 3:return x=c.stateNode,gc(),is(Gn),is(yn),vx(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(kp(c)?c.flags|=4:o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Zr!==null&&(Kx(Zr),Zr=null))),Fx(o,c),_n(c),null;case 5:gx(c);var _=Ho(Jd.current);if(p=c.type,o!==null&&c.stateNode!=null)tw(o,c,p,x,_),o.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!x){if(c.stateNode===null)throw Error(s(166));return _n(c),null}if(o=Ho(bi.current),kp(c)){x=c.stateNode,p=c.type;var T=c.memoizedProps;switch(x[yi]=c,x[qd]=T,o=(c.mode&1)!==0,p){case"dialog":rs("cancel",x),rs("close",x);break;case"iframe":case"object":case"embed":rs("load",x);break;case"video":case"audio":for(_=0;_<Hd.length;_++)rs(Hd[_],x);break;case"source":rs("error",x);break;case"img":case"image":case"link":rs("error",x),rs("load",x);break;case"details":rs("toggle",x);break;case"input":Ht(x,T),rs("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!T.multiple},rs("invalid",x);break;case"textarea":Ue(x,T),rs("invalid",x)}Ur(p,T),_=null;for(var V in T)if(T.hasOwnProperty(V)){var Q=T[V];V==="children"?typeof Q=="string"?x.textContent!==Q&&(T.suppressHydrationWarning!==!0&&vp(x.textContent,Q,o),_=["children",Q]):typeof Q=="number"&&x.textContent!==""+Q&&(T.suppressHydrationWarning!==!0&&vp(x.textContent,Q,o),_=["children",""+Q]):i.hasOwnProperty(V)&&Q!=null&&V==="onScroll"&&rs("scroll",x)}switch(p){case"input":De(x),$s(x,T,!0);break;case"textarea":De(x),ut(x);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(x.onclick=yp)}x=_,c.updateQueue=x,x!==null&&(c.flags|=4)}else{V=_.nodeType===9?_:_.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=xt(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=V.createElement(p,{is:x.is}):(o=V.createElement(p),p==="select"&&(V=o,x.multiple?V.multiple=!0:x.size&&(V.size=x.size))):o=V.createElementNS(o,p),o[yi]=c,o[qd]=x,ew(o,c,!1,!1),c.stateNode=o;e:{switch(V=ns(p,x),p){case"dialog":rs("cancel",o),rs("close",o),_=x;break;case"iframe":case"object":case"embed":rs("load",o),_=x;break;case"video":case"audio":for(_=0;_<Hd.length;_++)rs(Hd[_],o);_=x;break;case"source":rs("error",o),_=x;break;case"img":case"image":case"link":rs("error",o),rs("load",o),_=x;break;case"details":rs("toggle",o),_=x;break;case"input":Ht(o,x),_=pt(o,x),rs("invalid",o);break;case"option":_=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},_=ne({},x,{value:void 0}),rs("invalid",o);break;case"textarea":Ue(o,x),_=Ae(o,x),rs("invalid",o);break;default:_=x}Ur(p,_),Q=_;for(T in Q)if(Q.hasOwnProperty(T)){var X=Q[T];T==="style"?Fi(o,X):T==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&ir(o,X)):T==="children"?typeof X=="string"?(p!=="textarea"||X!=="")&&vn(o,X):typeof X=="number"&&vn(o,""+X):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?X!=null&&T==="onScroll"&&rs("scroll",o):X!=null&&A(o,T,X,V))}switch(p){case"input":De(o),$s(o,x,!1);break;case"textarea":De(o),ut(o);break;case"option":x.value!=null&&o.setAttribute("value",""+ke(x.value));break;case"select":o.multiple=!!x.multiple,T=x.value,T!=null?Re(o,!!x.multiple,T,!1):x.defaultValue!=null&&Re(o,!!x.multiple,x.defaultValue,!0);break;default:typeof _.onClick=="function"&&(o.onclick=yp)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return _n(c),null;case 6:if(o&&c.stateNode!=null)sw(o,c,o.memoizedProps,x);else{if(typeof x!="string"&&c.stateNode===null)throw Error(s(166));if(p=Ho(Jd.current),Ho(bi.current),kp(c)){if(x=c.stateNode,p=c.memoizedProps,x[yi]=c,(T=x.nodeValue!==p)&&(o=hr,o!==null))switch(o.tag){case 3:vp(x.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&vp(x.nodeValue,p,(o.mode&1)!==0)}T&&(c.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[yi]=c,c.stateNode=x}return _n(c),null;case 13:if(is(ps),x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ls&&pr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)i_(),hc(),c.flags|=98560,T=!1;else if(T=kp(c),x!==null&&x.dehydrated!==null){if(o===null){if(!T)throw Error(s(318));if(T=c.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(s(317));T[yi]=c}else hc(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;_n(c),T=!1}else Zr!==null&&(Kx(Zr),Zr=null),T=!0;if(!T)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(c.child.flags|=8192,(c.mode&1)!==0&&(o===null||(ps.current&1)!==0?zs===0&&(zs=3):Yx())),c.updateQueue!==null&&(c.flags|=4),_n(c),null);case 4:return gc(),Fx(o,c),o===null&&Gd(c.stateNode.containerInfo),_n(c),null;case 10:return ux(c.type._context),_n(c),null;case 17:return Wn(c.type)&&_p(),_n(c),null;case 19:if(is(ps),T=c.memoizedState,T===null)return _n(c),null;if(x=(c.flags&128)!==0,V=T.rendering,V===null)if(x)nu(T,!1);else{if(zs!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(V=Rp(o),V!==null){for(c.flags|=128,nu(T,!1),x=V.updateQueue,x!==null&&(c.updateQueue=x,c.flags|=4),c.subtreeFlags=0,x=p,p=c.child;p!==null;)T=p,o=x,T.flags&=14680066,V=T.alternate,V===null?(T.childLanes=0,T.lanes=o,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=V.childLanes,T.lanes=V.lanes,T.child=V.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=V.memoizedProps,T.memoizedState=V.memoizedState,T.updateQueue=V.updateQueue,T.type=V.type,o=V.dependencies,T.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return Zt(ps,ps.current&1|2),c.child}o=o.sibling}T.tail!==null&&Jt()>bc&&(c.flags|=128,x=!0,nu(T,!1),c.lanes=4194304)}else{if(!x)if(o=Rp(V),o!==null){if(c.flags|=128,x=!0,p=o.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),nu(T,!0),T.tail===null&&T.tailMode==="hidden"&&!V.alternate&&!ls)return _n(c),null}else 2*Jt()-T.renderingStartTime>bc&&p!==1073741824&&(c.flags|=128,x=!0,nu(T,!1),c.lanes=4194304);T.isBackwards?(V.sibling=c.child,c.child=V):(p=T.last,p!==null?p.sibling=V:c.child=V,T.last=V)}return T.tail!==null?(c=T.tail,T.rendering=c,T.tail=c.sibling,T.renderingStartTime=Jt(),c.sibling=null,p=ps.current,Zt(ps,x?p&1|2:p&1),c):(_n(c),null);case 22:case 23:return Xx(),x=c.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(c.flags|=8192),x&&(c.mode&1)!==0?(mr&1073741824)!==0&&(_n(c),c.subtreeFlags&6&&(c.flags|=8192)):_n(c),null;case 24:return null;case 25:return null}throw Error(s(156,c.tag))}function $A(o,c){switch(ix(c),c.tag){case 1:return Wn(c.type)&&_p(),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return gc(),is(Gn),is(yn),vx(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 5:return gx(c),null;case 13:if(is(ps),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(s(340));hc()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return is(ps),null;case 4:return gc(),null;case 10:return ux(c.type._context),null;case 22:case 23:return Xx(),null;case 24:return null;default:return null}}var Vp=!1,wn=!1,OA=typeof WeakSet=="function"?WeakSet:Set,He=null;function vc(o,c){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){bs(o,c,x)}else p.current=null}function Bx(o,c,p){try{p()}catch(x){bs(o,c,x)}}var nw=!1;function VA(o,c){if(Xg=La,o=Db(),Ug(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var _=x.anchorOffset,T=x.focusNode;x=x.focusOffset;try{p.nodeType,T.nodeType}catch(Ie){p=null;break e}var V=0,Q=-1,X=-1,de=0,ye=0,je=o,ve=null;t:for(;;){for(var Ve;je!==p||_!==0&&je.nodeType!==3||(Q=V+_),je!==T||x!==0&&je.nodeType!==3||(X=V+x),je.nodeType===3&&(V+=je.nodeValue.length),(Ve=je.firstChild)!==null;)ve=je,je=Ve;for(;;){if(je===o)break t;if(ve===p&&++de===_&&(Q=V),ve===T&&++ye===x&&(X=V),(Ve=je.nextSibling)!==null)break;je=ve,ve=je.parentNode}je=Ve}p=Q===-1||X===-1?null:{start:Q,end:X}}else p=null}p=p||{start:0,end:0}}else p=null;for(Yg={focusedElem:o,selectionRange:p},La=!1,He=c;He!==null;)if(c=He,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,He=o;else for(;He!==null;){c=He;try{var Ge=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var We=Ge.memoizedProps,Ts=Ge.memoizedState,oe=c.stateNode,se=oe.getSnapshotBeforeUpdate(c.elementType===c.type?We:ei(c.type,We),Ts);oe.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var le=c.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ie){bs(c,c.return,Ie)}if(o=c.sibling,o!==null){o.return=c.return,He=o;break}He=c.return}return Ge=nw,nw=!1,Ge}function ru(o,c,p){var x=c.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var _=x=x.next;do{if((_.tag&o)===o){var T=_.destroy;_.destroy=void 0,T!==void 0&&Bx(c,p,T)}_=_.next}while(_!==x)}}function Up(o,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&o)===o){var x=p.create;p.destroy=x()}p=p.next}while(p!==c)}}function $x(o){var c=o.ref;if(c!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof c=="function"?c(o):c.current=o}}function rw(o){var c=o.alternate;c!==null&&(o.alternate=null,rw(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&(delete c[yi],delete c[qd],delete c[tx],delete c[jA],delete c[SA])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function iw(o){return o.tag===5||o.tag===3||o.tag===4}function aw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||iw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ox(o,c,p){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(o,c):p.insertBefore(o,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(o,p)):(c=p,c.appendChild(o)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=yp));else if(x!==4&&(o=o.child,o!==null))for(Ox(o,c,p),o=o.sibling;o!==null;)Ox(o,c,p),o=o.sibling}function Vx(o,c,p){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?p.insertBefore(o,c):p.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Vx(o,c,p),o=o.sibling;o!==null;)Vx(o,c,p),o=o.sibling}var nn=null,ti=!1;function za(o,c,p){for(p=p.child;p!==null;)ow(o,c,p),p=p.sibling}function ow(o,c,p){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Ro,p)}catch(Q){}switch(p.tag){case 5:wn||vc(p,c);case 6:var x=nn,_=ti;nn=null,za(o,c,p),nn=x,ti=_,nn!==null&&(ti?(o=nn,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):nn.removeChild(p.stateNode));break;case 18:nn!==null&&(ti?(o=nn,p=p.stateNode,o.nodeType===8?ex(o.parentNode,p):o.nodeType===1&&ex(o,p),Xr(o)):ex(nn,p.stateNode));break;case 4:x=nn,_=ti,nn=p.stateNode.containerInfo,ti=!0,za(o,c,p),nn=x,ti=_;break;case 0:case 11:case 14:case 15:if(!wn&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){_=x=x.next;do{var T=_,V=T.destroy;T=T.tag,V!==void 0&&((T&2)!==0||(T&4)!==0)&&Bx(p,c,V),_=_.next}while(_!==x)}za(o,c,p);break;case 1:if(!wn&&(vc(p,c),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(Q){bs(p,c,Q)}za(o,c,p);break;case 21:za(o,c,p);break;case 22:p.mode&1?(wn=(x=wn)||p.memoizedState!==null,za(o,c,p),wn=x):za(o,c,p);break;default:za(o,c,p)}}function lw(o){var c=o.updateQueue;if(c!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new OA),c.forEach(function(x){var _=XA.bind(null,o,x);p.has(x)||(p.add(x),x.then(_,_))})}}function si(o,c){var p=c.deletions;if(p!==null)for(var x=0;x<p.length;x++){var _=p[x];try{var T=o,V=c,Q=V;e:for(;Q!==null;){switch(Q.tag){case 5:nn=Q.stateNode,ti=!1;break e;case 3:nn=Q.stateNode.containerInfo,ti=!0;break e;case 4:nn=Q.stateNode.containerInfo,ti=!0;break e}Q=Q.return}if(nn===null)throw Error(s(160));ow(T,V,_),nn=null,ti=!1;var X=_.alternate;X!==null&&(X.return=null),_.return=null}catch(de){bs(_,c,de)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)cw(c,o),c=c.sibling}function cw(o,c){var p=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(si(c,o),wi(o),x&4){try{ru(3,o,o.return),Up(3,o)}catch(We){bs(o,o.return,We)}try{ru(5,o,o.return)}catch(We){bs(o,o.return,We)}}break;case 1:si(c,o),wi(o),x&512&&p!==null&&vc(p,p.return);break;case 5:if(si(c,o),wi(o),x&512&&p!==null&&vc(p,p.return),o.flags&32){var _=o.stateNode;try{vn(_,"")}catch(We){bs(o,o.return,We)}}if(x&4&&(_=o.stateNode,_!=null)){var T=o.memoizedProps,V=p!==null?p.memoizedProps:T,Q=o.type,X=o.updateQueue;if(o.updateQueue=null,X!==null)try{Q==="input"&&T.type==="radio"&&T.name!=null&&Ss(_,T),ns(Q,V);var de=ns(Q,T);for(V=0;V<X.length;V+=2){var ye=X[V],je=X[V+1];ye==="style"?Fi(_,je):ye==="dangerouslySetInnerHTML"?ir(_,je):ye==="children"?vn(_,je):A(_,ye,je,de)}switch(Q){case"input":Ns(_,T);break;case"textarea":nt(_,T);break;case"select":var ve=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!T.multiple;var Ve=T.value;Ve!=null?Re(_,!!T.multiple,Ve,!1):ve!==!!T.multiple&&(T.defaultValue!=null?Re(_,!!T.multiple,T.defaultValue,!0):Re(_,!!T.multiple,T.multiple?[]:"",!1))}_[qd]=T}catch(We){bs(o,o.return,We)}}break;case 6:if(si(c,o),wi(o),x&4){if(o.stateNode===null)throw Error(s(162));_=o.stateNode,T=o.memoizedProps;try{_.nodeValue=T}catch(We){bs(o,o.return,We)}}break;case 3:if(si(c,o),wi(o),x&4&&p!==null&&p.memoizedState.isDehydrated)try{Xr(c.containerInfo)}catch(We){bs(o,o.return,We)}break;case 4:si(c,o),wi(o);break;case 13:si(c,o),wi(o),_=o.child,_.flags&8192&&(T=_.memoizedState!==null,_.stateNode.isHidden=T,!T||_.alternate!==null&&_.alternate.memoizedState!==null||(Hx=Jt())),x&4&&lw(o);break;case 22:if(ye=p!==null&&p.memoizedState!==null,o.mode&1?(wn=(de=wn)||ye,si(c,o),wn=de):si(c,o),wi(o),x&8192){if(de=o.memoizedState!==null,(o.stateNode.isHidden=de)&&!ye&&(o.mode&1)!==0)for(He=o,ye=o.child;ye!==null;){for(je=He=ye;He!==null;){switch(ve=He,Ve=ve.child,ve.tag){case 0:case 11:case 14:case 15:ru(4,ve,ve.return);break;case 1:vc(ve,ve.return);var Ge=ve.stateNode;if(typeof Ge.componentWillUnmount=="function"){x=ve,p=ve.return;try{c=x,Ge.props=c.memoizedProps,Ge.state=c.memoizedState,Ge.componentWillUnmount()}catch(We){bs(x,p,We)}}break;case 5:vc(ve,ve.return);break;case 22:if(ve.memoizedState!==null){hw(je);continue}}Ve!==null?(Ve.return=ve,He=Ve):hw(je)}ye=ye.sibling}e:for(ye=null,je=o;;){if(je.tag===5){if(ye===null){ye=je;try{_=je.stateNode,de?(T=_.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(Q=je.stateNode,X=je.memoizedProps.style,V=X!=null&&X.hasOwnProperty("display")?X.display:null,Q.style.display=hi("display",V))}catch(We){bs(o,o.return,We)}}}else if(je.tag===6){if(ye===null)try{je.stateNode.nodeValue=de?"":je.memoizedProps}catch(We){bs(o,o.return,We)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===o)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===o)break e;for(;je.sibling===null;){if(je.return===null||je.return===o)break e;ye===je&&(ye=null),je=je.return}ye===je&&(ye=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:si(c,o),wi(o),x&4&&lw(o);break;case 21:break;default:si(c,o),wi(o)}}function wi(o){var c=o.flags;if(c&2){try{e:{for(var p=o.return;p!==null;){if(iw(p)){var x=p;break e}p=p.return}throw Error(s(160))}switch(x.tag){case 5:var _=x.stateNode;x.flags&32&&(vn(_,""),x.flags&=-33);var T=aw(o);Vx(o,T,_);break;case 3:case 4:var V=x.stateNode.containerInfo,Q=aw(o);Ox(o,Q,V);break;default:throw Error(s(161))}}catch(X){bs(o,o.return,X)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function UA(o,c,p){He=o,dw(o)}function dw(o,c,p){for(var x=(o.mode&1)!==0;He!==null;){var _=He,T=_.child;if(_.tag===22&&x){var V=_.memoizedState!==null||Vp;if(!V){var Q=_.alternate,X=Q!==null&&Q.memoizedState!==null||wn;Q=Vp;var de=wn;if(Vp=V,(wn=X)&&!de)for(He=_;He!==null;)V=He,X=V.child,V.tag===22&&V.memoizedState!==null?pw(_):X!==null?(X.return=V,He=X):pw(_);for(;T!==null;)He=T,dw(T),T=T.sibling;He=_,Vp=Q,wn=de}uw(o)}else(_.subtreeFlags&8772)!==0&&T!==null?(T.return=_,He=T):uw(o)}}function uw(o){for(;He!==null;){var c=He;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:wn||Up(5,c);break;case 1:var x=c.stateNode;if(c.flags&4&&!wn)if(p===null)x.componentDidMount();else{var _=c.elementType===c.type?p.memoizedProps:ei(c.type,p.memoizedProps);x.componentDidUpdate(_,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var T=c.updateQueue;T!==null&&h_(c,T,x);break;case 3:var V=c.updateQueue;if(V!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}h_(c,V,p)}break;case 5:var Q=c.stateNode;if(p===null&&c.flags&4){p=Q;var X=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&p.focus();break;case"img":X.src&&(p.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var de=c.alternate;if(de!==null){var ye=de.memoizedState;if(ye!==null){var je=ye.dehydrated;je!==null&&Xr(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}wn||c.flags&512&&$x(c)}catch(ve){bs(c,c.return,ve)}}if(c===o){He=null;break}if(p=c.sibling,p!==null){p.return=c.return,He=p;break}He=c.return}}function hw(o){for(;He!==null;){var c=He;if(c===o){He=null;break}var p=c.sibling;if(p!==null){p.return=c.return,He=p;break}He=c.return}}function pw(o){for(;He!==null;){var c=He;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Up(4,c)}catch(X){bs(c,p,X)}break;case 1:var x=c.stateNode;if(typeof x.componentDidMount=="function"){var _=c.return;try{x.componentDidMount()}catch(X){bs(c,_,X)}}var T=c.return;try{$x(c)}catch(X){bs(c,T,X)}break;case 5:var V=c.return;try{$x(c)}catch(X){bs(c,V,X)}}}catch(X){bs(c,c.return,X)}if(c===o){He=null;break}var Q=c.sibling;if(Q!==null){Q.return=c.return,He=Q;break}He=c.return}}var zA=Math.ceil,zp=y.ReactCurrentDispatcher,Ux=y.ReactCurrentOwner,Ar=y.ReactCurrentBatchConfig,$t=0,Qs=null,Rs=null,rn=0,mr=0,yc=Ba(0),zs=0,iu=null,Wo=0,Hp=0,zx=0,au=null,Kn=null,Hx=0,bc=1/0,ea=null,Gp=!1,Gx=null,Ha=null,Wp=!1,Ga=null,qp=0,ou=0,Wx=null,Kp=-1,Qp=0;function Pn(){return($t&6)!==0?Jt():Kp!==-1?Kp:Kp=Jt()}function Wa(o){return(o.mode&1)===0?1:($t&2)!==0&&rn!==0?rn&-rn:kA.transition!==null?(Qp===0&&(Qp=Lo()),Qp):(o=Rt,o!==0||(o=window.event,o=o===void 0?16:Dd(o.type)),o)}function ni(o,c,p,x){if(50<ou)throw ou=0,Wx=null,Error(s(185));Aa(o,p,x),(($t&2)===0||o!==Qs)&&(o===Qs&&(($t&2)===0&&(Hp|=p),zs===4&&qa(o,rn)),Qn(o,x),p===1&&$t===0&&(c.mode&1)===0&&(bc=Jt()+500,jp&&Oa()))}function Qn(o,c){var p=o.callbackNode;Ui(o,c);var x=Po(o,o===Qs?rn:0);if(x===0)p!==null&&Ad(p),o.callbackNode=null,o.callbackPriority=0;else if(c=x&-x,o.callbackPriority!==c){if(p!=null&&Ad(p),c===1)o.tag===0?NA(fw.bind(null,o)):e_(fw.bind(null,o)),_A(function(){($t&6)===0&&Oa()}),p=null;else{switch(Ra(x)){case 1:p=Io;break;case 4:p=Ta;break;case 16:p=jr;break;case 536870912:p=Qh;break;default:p=jr}p=jw(p,mw.bind(null,o))}o.callbackPriority=c,o.callbackNode=p}}function mw(o,c){if(Kp=-1,Qp=0,($t&6)!==0)throw Error(s(327));var p=o.callbackNode;if(_c()&&o.callbackNode!==p)return null;var x=Po(o,o===Qs?rn:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||c)c=Xp(o,x);else{c=x;var _=$t;$t|=2;var T=xw();(Qs!==o||rn!==c)&&(ea=null,bc=Jt()+500,Ko(o,c));do try{WA();break}catch(Q){gw(o,Q)}while(!0);dx(),zp.current=T,$t=_,Rs!==null?c=0:(Qs=null,rn=0,c=zs)}if(c!==0){if(c===2&&(_=cr(o),_!==0&&(x=_,c=qx(o,_))),c===1)throw p=iu,Ko(o,0),qa(o,x),Qn(o,Jt()),p;if(c===6)qa(o,x);else{if(_=o.current.alternate,(x&30)===0&&!HA(_)&&(c=Xp(o,x),c===2&&(T=cr(o),T!==0&&(x=T,c=qx(o,T))),c===1))throw p=iu,Ko(o,0),qa(o,x),Qn(o,Jt()),p;switch(o.finishedWork=_,o.finishedLanes=x,c){case 0:case 1:throw Error(s(345));case 2:Qo(o,Kn,ea);break;case 3:if(qa(o,x),(x&130023424)===x&&(c=Hx+500-Jt(),10<c)){if(Po(o,0)!==0)break;if(_=o.suspendedLanes,(_&x)!==x){Pn(),o.pingedLanes|=o.suspendedLanes&_;break}o.timeoutHandle=Zg(Qo.bind(null,o,Kn,ea),c);break}Qo(o,Kn,ea);break;case 4:if(qa(o,x),(x&4194240)===x)break;for(c=o.eventTimes,_=-1;0<x;){var V=31-An(x);T=1<<V,V=c[V],V>_&&(_=V),x&=~T}if(x=_,x=Jt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*zA(x/1960))-x,10<x){o.timeoutHandle=Zg(Qo.bind(null,o,Kn,ea),x);break}Qo(o,Kn,ea);break;case 5:Qo(o,Kn,ea);break;default:throw Error(s(329))}}}return Qn(o,Jt()),o.callbackNode===p?mw.bind(null,o):null}function qx(o,c){var p=au;return o.current.memoizedState.isDehydrated&&(Ko(o,c).flags|=256),o=Xp(o,c),o!==2&&(c=Kn,Kn=p,c!==null&&Kx(c)),o}function Kx(o){Kn===null?Kn=o:Kn.push.apply(Kn,o)}function HA(o){for(var c=o;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var _=p[x],T=_.getSnapshot;_=_.value;try{if(!Jr(T(),_))return!1}catch(V){return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function qa(o,c){for(c&=~zx,c&=~Hp,o.suspendedLanes|=c,o.pingedLanes&=~c,o=o.expirationTimes;0<c;){var p=31-An(c),x=1<<p;o[p]=-1,c&=~x}}function fw(o){if(($t&6)!==0)throw Error(s(327));_c();var c=Po(o,0);if((c&1)===0)return Qn(o,Jt()),null;var p=Xp(o,c);if(o.tag!==0&&p===2){var x=cr(o);x!==0&&(c=x,p=qx(o,x))}if(p===1)throw p=iu,Ko(o,0),qa(o,c),Qn(o,Jt()),p;if(p===6)throw Error(s(345));return o.finishedWork=o.current.alternate,o.finishedLanes=c,Qo(o,Kn,ea),Qn(o,Jt()),null}function Qx(o,c){var p=$t;$t|=1;try{return o(c)}finally{$t=p,$t===0&&(bc=Jt()+500,jp&&Oa())}}function qo(o){Ga!==null&&Ga.tag===0&&($t&6)===0&&_c();var c=$t;$t|=1;var p=Ar.transition,x=Rt;try{if(Ar.transition=null,Rt=1,o)return o()}finally{Rt=x,Ar.transition=p,$t=c,($t&6)===0&&Oa()}}function Xx(){mr=yc.current,is(yc)}function Ko(o,c){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,bA(p)),Rs!==null)for(p=Rs.return;p!==null;){var x=p;switch(ix(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&_p();break;case 3:gc(),is(Gn),is(yn),vx();break;case 5:gx(x);break;case 4:gc();break;case 13:is(ps);break;case 19:is(ps);break;case 10:ux(x.type._context);break;case 22:case 23:Xx()}p=p.return}if(Qs=o,Rs=o=Ka(o.current,null),rn=mr=c,zs=0,iu=null,zx=Hp=Wo=0,Kn=au=null,zo!==null){for(c=0;c<zo.length;c++)if(p=zo[c],x=p.interleaved,x!==null){p.interleaved=null;var _=x.next,T=p.pending;if(T!==null){var V=T.next;T.next=_,x.next=V}p.pending=x}zo=null}return o}function gw(o,c){do{var p=Rs;try{if(dx(),Pp.current=Fp,Lp){for(var x=ms.memoizedState;x!==null;){var _=x.queue;_!==null&&(_.pending=null),x=x.next}Lp=!1}if(Go=0,Ks=Us=ms=null,Zd=!1,eu=0,Ux.current=null,p===null||p.return===null){zs=1,iu=c,Rs=null;break}e:{var T=o,V=p.return,Q=p,X=c;if(c=rn,Q.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var de=X,ye=Q,je=ye.tag;if((ye.mode&1)===0&&(je===0||je===11||je===15)){var ve=ye.alternate;ve?(ye.updateQueue=ve.updateQueue,ye.memoizedState=ve.memoizedState,ye.lanes=ve.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Ve=V_(V);if(Ve!==null){Ve.flags&=-257,U_(Ve,V,Q,T,c),Ve.mode&1&&O_(T,de,c),c=Ve,X=de;var Ge=c.updateQueue;if(Ge===null){var We=new Set;We.add(X),c.updateQueue=We}else Ge.add(X);break e}else{if((c&1)===0){O_(T,de,c),Yx();break e}X=Error(s(426))}}else if(ls&&Q.mode&1){var Ts=V_(V);if(Ts!==null){(Ts.flags&65536)===0&&(Ts.flags|=256),U_(Ts,V,Q,T,c),lx(xc(X,Q));break e}}T=X=xc(X,Q),zs!==4&&(zs=2),au===null?au=[T]:au.push(T),T=V;do{switch(T.tag){case 3:T.flags|=65536,c&=-c,T.lanes|=c;var oe=B_(T,X,c);u_(T,oe);break e;case 1:Q=X;var se=T.type,le=T.stateNode;if((T.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Ha===null||!Ha.has(le)))){T.flags|=65536,c&=-c,T.lanes|=c;var Ie=$_(T,Q,c);u_(T,Ie);break e}}T=T.return}while(T!==null)}yw(p)}catch(Qe){c=Qe,Rs===p&&p!==null&&(Rs=p=p.return);continue}break}while(!0)}function xw(){var o=zp.current;return zp.current=Fp,o===null?Fp:o}function Yx(){(zs===0||zs===3||zs===2)&&(zs=4),Qs===null||(Wo&268435455)===0&&(Hp&268435455)===0||qa(Qs,rn)}function Xp(o,c){var p=$t;$t|=2;var x=xw();(Qs!==o||rn!==c)&&(ea=null,Ko(o,c));do try{GA();break}catch(_){gw(o,_)}while(!0);if(dx(),$t=p,zp.current=x,Rs!==null)throw Error(s(261));return Qs=null,rn=0,zs}function GA(){for(;Rs!==null;)vw(Rs)}function WA(){for(;Rs!==null&&!qh();)vw(Rs)}function vw(o){var c=ww(o.alternate,o,mr);o.memoizedProps=o.pendingProps,c===null?yw(o):Rs=c,Ux.current=null}function yw(o){var c=o;do{var p=c.alternate;if(o=c.return,(c.flags&32768)===0){if(p=BA(p,c,mr),p!==null){Rs=p;return}}else{if(p=$A(p,c),p!==null){p.flags&=32767,Rs=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{zs=6,Rs=null;return}}if(c=c.sibling,c!==null){Rs=c;return}Rs=c=o}while(c!==null);zs===0&&(zs=5)}function Qo(o,c,p){var x=Rt,_=Ar.transition;try{Ar.transition=null,Rt=1,qA(o,c,p,x)}finally{Ar.transition=_,Rt=x}return null}function qA(o,c,p,x){do _c();while(Ga!==null);if(($t&6)!==0)throw Error(s(327));p=o.finishedWork;var _=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(s(177));o.callbackNode=null,o.callbackPriority=0;var T=p.lanes|p.childLanes;if(Kt(o,T),o===Qs&&(Rs=Qs=null,rn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Wp||(Wp=!0,jw(jr,function(){return _c(),null})),T=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||T){T=Ar.transition,Ar.transition=null;var V=Rt;Rt=1;var Q=$t;$t|=4,Ux.current=null,VA(o,p),cw(p,o),pA(Yg),La=!!Xg,Yg=Xg=null,o.current=p,UA(p),Lg(),$t=Q,Rt=V,Ar.transition=T}else o.current=p;if(Wp&&(Wp=!1,Ga=o,qp=_),T=o.pendingLanes,T===0&&(Ha=null),Xh(p.stateNode),Qn(o,Jt()),c!==null)for(x=o.onRecoverableError,p=0;p<c.length;p++)_=c[p],x(_.value,{componentStack:_.stack,digest:_.digest});if(Gp)throw Gp=!1,o=Gx,Gx=null,o;return(qp&1)!==0&&o.tag!==0&&_c(),T=o.pendingLanes,(T&1)!==0?o===Wx?ou++:(ou=0,Wx=o):ou=0,Oa(),null}function _c(){if(Ga!==null){var o=Ra(qp),c=Ar.transition,p=Rt;try{if(Ar.transition=null,Rt=16>o?16:o,Ga===null)var x=!1;else{if(o=Ga,Ga=null,qp=0,($t&6)!==0)throw Error(s(331));var _=$t;for($t|=4,He=o.current;He!==null;){var T=He,V=T.child;if((He.flags&16)!==0){var Q=T.deletions;if(Q!==null){for(var X=0;X<Q.length;X++){var de=Q[X];for(He=de;He!==null;){var ye=He;switch(ye.tag){case 0:case 11:case 15:ru(8,ye,T)}var je=ye.child;if(je!==null)je.return=ye,He=je;else for(;He!==null;){ye=He;var ve=ye.sibling,Ve=ye.return;if(rw(ye),ye===de){He=null;break}if(ve!==null){ve.return=Ve,He=ve;break}He=Ve}}}var Ge=T.alternate;if(Ge!==null){var We=Ge.child;if(We!==null){Ge.child=null;do{var Ts=We.sibling;We.sibling=null,We=Ts}while(We!==null)}}He=T}}if((T.subtreeFlags&2064)!==0&&V!==null)V.return=T,He=V;else e:for(;He!==null;){if(T=He,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:ru(9,T,T.return)}var oe=T.sibling;if(oe!==null){oe.return=T.return,He=oe;break e}He=T.return}}var se=o.current;for(He=se;He!==null;){V=He;var le=V.child;if((V.subtreeFlags&2064)!==0&&le!==null)le.return=V,He=le;else e:for(V=se;He!==null;){if(Q=He,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:Up(9,Q)}}catch(Qe){bs(Q,Q.return,Qe)}if(Q===V){He=null;break e}var Ie=Q.sibling;if(Ie!==null){Ie.return=Q.return,He=Ie;break e}He=Q.return}}if($t=_,Oa(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Ro,o)}catch(Qe){}x=!0}return x}finally{Rt=p,Ar.transition=c}}return!1}function bw(o,c,p){c=xc(p,c),c=B_(o,c,1),o=Ua(o,c,1),c=Pn(),o!==null&&(Aa(o,1,c),Qn(o,c))}function bs(o,c,p){if(o.tag===3)bw(o,o,p);else for(;c!==null;){if(c.tag===3){bw(c,o,p);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ha===null||!Ha.has(x))){o=xc(p,o),o=$_(c,o,1),c=Ua(c,o,1),o=Pn(),c!==null&&(Aa(c,1,o),Qn(c,o));break}}c=c.return}}function KA(o,c,p){var x=o.pingCache;x!==null&&x.delete(c),c=Pn(),o.pingedLanes|=o.suspendedLanes&p,Qs===o&&(rn&p)===p&&(zs===4||zs===3&&(rn&130023424)===rn&&500>Jt()-Hx?Ko(o,0):zx|=p),Qn(o,c)}function _w(o,c){c===0&&((o.mode&1)===0?c=1:(c=Hl,Hl<<=1,(Hl&130023424)===0&&(Hl=4194304)));var p=Pn();o=Yi(o,c),o!==null&&(Aa(o,c,p),Qn(o,p))}function QA(o){var c=o.memoizedState,p=0;c!==null&&(p=c.retryLane),_w(o,p)}function XA(o,c){var p=0;switch(o.tag){case 13:var x=o.stateNode,_=o.memoizedState;_!==null&&(p=_.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(s(314))}x!==null&&x.delete(c),_w(o,p)}var ww;ww=function(o,c,p){if(o!==null)if(o.memoizedProps!==c.pendingProps||Gn.current)qn=!0;else{if((o.lanes&p)===0&&(c.flags&128)===0)return qn=!1,FA(o,c,p);qn=(o.flags&131072)!==0}else qn=!1,ls&&(c.flags&1048576)!==0&&t_(c,Np,c.index);switch(c.lanes=0,c.tag){case 2:var x=c.type;Op(o,c),o=c.pendingProps;var _=cc(c,yn.current);fc(c,p),_=_x(null,c,x,o,_,p);var T=wx();return c.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Wn(x)?(T=!0,wp(c)):T=!1,c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,mx(c),_.updater=Bp,c.stateNode=_,_._reactInternals=c,Cx(c,x,o,p),c=Rx(null,c,x,!0,T,p)):(c.tag=0,ls&&T&&rx(c),Rn(null,c,_,p),c=c.child),c;case 16:x=c.elementType;e:{switch(Op(o,c),o=c.pendingProps,_=x._init,x=_(x._payload),c.type=x,_=c.tag=JA(x),o=ei(x,o),_){case 0:c=Ix(null,c,x,o,p);break e;case 1:c=K_(null,c,x,o,p);break e;case 11:c=z_(null,c,x,o,p);break e;case 14:c=H_(null,c,x,ei(x.type,o),p);break e}throw Error(s(306,x,""))}return c;case 0:return x=c.type,_=c.pendingProps,_=c.elementType===x?_:ei(x,_),Ix(o,c,x,_,p);case 1:return x=c.type,_=c.pendingProps,_=c.elementType===x?_:ei(x,_),K_(o,c,x,_,p);case 3:e:{if(Q_(c),o===null)throw Error(s(387));x=c.pendingProps,T=c.memoizedState,_=T.element,d_(o,c),Ip(c,x,null,p);var V=c.memoizedState;if(x=V.element,T.isDehydrated)if(T={element:x,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},c.updateQueue.baseState=T,c.memoizedState=T,c.flags&256){_=xc(Error(s(423)),c),c=X_(o,c,x,p,_);break e}else if(x!==_){_=xc(Error(s(424)),c),c=X_(o,c,x,p,_);break e}else for(pr=Fa(c.stateNode.containerInfo.firstChild),hr=c,ls=!0,Zr=null,p=l_(c,null,x,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(hc(),x===_){c=Zi(o,c,p);break e}Rn(o,c,x,p)}c=c.child}return c;case 5:return p_(c),o===null&&ox(c),x=c.type,_=c.pendingProps,T=o!==null?o.memoizedProps:null,V=_.children,Jg(x,_)?V=null:T!==null&&Jg(x,T)&&(c.flags|=32),q_(o,c),Rn(o,c,V,p),c.child;case 6:return o===null&&ox(c),null;case 13:return Y_(o,c,p);case 4:return fx(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=pc(c,null,x,p):Rn(o,c,x,p),c.child;case 11:return x=c.type,_=c.pendingProps,_=c.elementType===x?_:ei(x,_),z_(o,c,x,_,p);case 7:return Rn(o,c,c.pendingProps,p),c.child;case 8:return Rn(o,c,c.pendingProps.children,p),c.child;case 12:return Rn(o,c,c.pendingProps.children,p),c.child;case 10:e:{if(x=c.type._context,_=c.pendingProps,T=c.memoizedProps,V=_.value,Zt(Cp,x._currentValue),x._currentValue=V,T!==null)if(Jr(T.value,V)){if(T.children===_.children&&!Gn.current){c=Zi(o,c,p);break e}}else for(T=c.child,T!==null&&(T.return=c);T!==null;){var Q=T.dependencies;if(Q!==null){V=T.child;for(var X=Q.firstContext;X!==null;){if(X.context===x){if(T.tag===1){X=Ji(-1,p&-p),X.tag=2;var de=T.updateQueue;if(de!==null){de=de.shared;var ye=de.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),de.pending=X}}T.lanes|=p,X=T.alternate,X!==null&&(X.lanes|=p),hx(T.return,p,c),Q.lanes|=p;break}X=X.next}}else if(T.tag===10)V=T.type===c.type?null:T.child;else if(T.tag===18){if(V=T.return,V===null)throw Error(s(341));V.lanes|=p,Q=V.alternate,Q!==null&&(Q.lanes|=p),hx(V,p,c),V=T.sibling}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===c){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}Rn(o,c,_.children,p),c=c.child}return c;case 9:return _=c.type,x=c.pendingProps.children,fc(c,p),_=Cr(_),x=x(_),c.flags|=1,Rn(o,c,x,p),c.child;case 14:return x=c.type,_=ei(x,c.pendingProps),_=ei(x.type,_),H_(o,c,x,_,p);case 15:return G_(o,c,c.type,c.pendingProps,p);case 17:return x=c.type,_=c.pendingProps,_=c.elementType===x?_:ei(x,_),Op(o,c),c.tag=1,Wn(x)?(o=!0,wp(c)):o=!1,fc(c,p),M_(c,x,_),Cx(c,x,_,p),Rx(null,c,x,!0,o,p);case 19:return Z_(o,c,p);case 22:return W_(o,c,p)}throw Error(s(156,c.tag))};function jw(o,c){return Ul(o,c)}function YA(o,c,p,x){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(o,c,p,x){return new YA(o,c,p,x)}function Jx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function JA(o){if(typeof o=="function")return Jx(o)?1:0;if(o!=null){if(o=o.$$typeof,o===O)return 11;if(o===H)return 14}return 2}function Ka(o,c){var p=o.alternate;return p===null?(p=Ir(o.tag,c,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=c,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,c=o.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function Yp(o,c,p,x,_,T){var V=2;if(x=o,typeof o=="function")Jx(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case N:return Xo(p.children,_,T,c);case j:V=8,_|=8;break;case I:return o=Ir(12,p,c,_|2),o.elementType=I,o.lanes=T,o;case $:return o=Ir(13,p,c,_),o.elementType=$,o.lanes=T,o;case W:return o=Ir(19,p,c,_),o.elementType=W,o.lanes=T,o;case K:return Jp(p,_,T,c);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:V=10;break e;case P:V=9;break e;case O:V=11;break e;case H:V=14;break e;case q:V=16,x=null;break e}throw Error(s(130,o==null?o:typeof o,""))}return c=Ir(V,p,c,_),c.elementType=o,c.type=x,c.lanes=T,c}function Xo(o,c,p,x){return o=Ir(7,o,x,c),o.lanes=p,o}function Jp(o,c,p,x){return o=Ir(22,o,x,c),o.elementType=K,o.lanes=p,o.stateNode={isHidden:!1},o}function Zx(o,c,p){return o=Ir(6,o,null,c),o.lanes=p,o}function ev(o,c,p){return c=Ir(4,o.children!==null?o.children:[],o.key,c),c.lanes=p,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}function ZA(o,c,p,x,_){this.tag=c,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ea(0),this.expirationTimes=Ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.identifierPrefix=x,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function tv(o,c,p,x,_,T,V,Q,X){return o=new ZA(o,c,p,Q,X),c===1?(c=1,T===!0&&(c|=8)):c=0,T=Ir(3,null,null,c),o.current=T,T.stateNode=o,T.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},mx(T),o}function e4(o,c,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:x==null?null:""+x,children:o,containerInfo:c,implementation:p}}function Sw(o){if(!o)return $a;o=o._reactInternals;e:{if(Gr(o)!==o||o.tag!==1)throw Error(s(170));var c=o;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Wn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(s(171))}if(o.tag===1){var p=o.type;if(Wn(p))return Jb(o,p,c)}return c}function Nw(o,c,p,x,_,T,V,Q,X){return o=tv(p,x,!0,o,_,T,V,Q,X),o.context=Sw(null),p=o.current,x=Pn(),_=Wa(p),T=Ji(x,_),T.callback=c!=null?c:null,Ua(p,T,_),o.current.lanes=_,Aa(o,_,x),Qn(o,x),o}function Zp(o,c,p,x){var _=c.current,T=Pn(),V=Wa(_);return p=Sw(p),c.context===null?c.context=p:c.pendingContext=p,c=Ji(T,V),c.payload={element:o},x=x===void 0?null:x,x!==null&&(c.callback=x),o=Ua(_,c,V),o!==null&&(ni(o,_,V,T),Ap(o,_,V)),V}function em(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function kw(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<c?p:c}}function sv(o,c){kw(o,c),(o=o.alternate)&&kw(o,c)}function t4(){return null}var Tw=typeof reportError=="function"?reportError:function(o){console.error(o)};function nv(o){this._internalRoot=o}tm.prototype.render=nv.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(s(409));Zp(o,c,null,null)},tm.prototype.unmount=nv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;qo(function(){Zp(null,o,null,null)}),c[qi]=null}};function tm(o){this._internalRoot=o}tm.prototype.unstable_scheduleHydration=function(o){if(o){var c=tp();o={blockedOn:null,target:o,priority:c};for(var p=0;p<fi.length&&c!==0&&c<fi[p].priority;p++);fi.splice(p,0,o),p===0&&rp(o)}};function rv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function sm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Cw(){}function s4(o,c,p,x,_){if(_){if(typeof x=="function"){var T=x;x=function(){var de=em(V);T.call(de)}}var V=Nw(c,x,o,0,null,!1,!1,"",Cw);return o._reactRootContainer=V,o[qi]=V.current,Gd(o.nodeType===8?o.parentNode:o),qo(),V}for(;_=o.lastChild;)o.removeChild(_);if(typeof x=="function"){var Q=x;x=function(){var de=em(X);Q.call(de)}}var X=tv(o,0,!1,null,null,!1,!1,"",Cw);return o._reactRootContainer=X,o[qi]=X.current,Gd(o.nodeType===8?o.parentNode:o),qo(function(){Zp(c,X,p,x)}),X}function nm(o,c,p,x,_){var T=p._reactRootContainer;if(T){var V=T;if(typeof _=="function"){var Q=_;_=function(){var X=em(V);Q.call(X)}}Zp(c,V,o,_)}else V=s4(p,c,o,_,x);return em(V)}Zh=function(o){switch(o.tag){case 3:var c=o.stateNode;if(c.current.memoizedState.isDehydrated){var p=Ca(c.pendingLanes);p!==0&&(Ia(c,p|1),Qn(c,Jt()),($t&6)===0&&(bc=Jt()+500,Oa()))}break;case 13:qo(function(){var x=Yi(o,1);if(x!==null){var _=Pn();ni(x,o,1,_)}}),sv(o,1)}},Gl=function(o){if(o.tag===13){var c=Yi(o,134217728);if(c!==null){var p=Pn();ni(c,o,134217728,p)}sv(o,134217728)}},ep=function(o){if(o.tag===13){var c=Wa(o),p=Yi(o,c);if(p!==null){var x=Pn();ni(p,o,c,x)}sv(o,c)}},tp=function(){return Rt},sp=function(o,c){var p=Rt;try{return Rt=o,c()}finally{Rt=p}},$i=function(o,c,p){switch(c){case"input":if(Ns(o,p),c=p.name,p.type==="radio"&&c!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var x=p[c];if(x!==o&&x.form===o.form){var _=bp(x);if(!_)throw Error(s(90));Ee(x),Ns(x,_)}}}break;case"textarea":nt(o,p);break;case"select":c=p.value,c!=null&&Re(o,!!p.multiple,c,!1)}},To=Qx,kd=qo;var n4={usingClientEntryPoint:!1,Events:[Kd,oc,bp,or,Nd,Qx]},lu={findFiberByHostInstance:$o,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r4={bundleType:lu.bundleType,version:lu.version,rendererPackageName:lu.rendererPackageName,rendererConfig:lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Ed(o),o===null?null:o.stateNode},findFiberByHostInstance:lu.findFiberByHostInstance||t4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rm.isDisabled&&rm.supportsFiber)try{Ro=rm.inject(r4),lr=rm}catch(o){}}return Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n4,Xn.createPortal=function(o,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rv(c))throw Error(s(200));return e4(o,c,null,p)},Xn.createRoot=function(o,c){if(!rv(o))throw Error(s(299));var p=!1,x="",_=Tw;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),c=tv(o,1,!1,null,null,p,!1,x,_),o[qi]=c.current,Gd(o.nodeType===8?o.parentNode:o),new nv(c)},Xn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(s(188)):(o=Object.keys(o).join(","),Error(s(268,o)));return o=Ed(c),o=o===null?null:o.stateNode,o},Xn.flushSync=function(o){return qo(o)},Xn.hydrate=function(o,c,p){if(!sm(c))throw Error(s(200));return nm(null,o,c,!0,p)},Xn.hydrateRoot=function(o,c,p){if(!rv(o))throw Error(s(405));var x=p!=null&&p.hydratedSources||null,_=!1,T="",V=Tw;if(p!=null&&(p.unstable_strictMode===!0&&(_=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onRecoverableError!==void 0&&(V=p.onRecoverableError)),c=Nw(c,null,o,1,p!=null?p:null,_,!1,T,V),o[qi]=c.current,Gd(o),x)for(o=0;o<x.length;o++)p=x[o],_=p._getVersion,_=_(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,_]:c.mutableSourceEagerHydrationData.push(p,_);return new tm(c)},Xn.render=function(o,c,p){if(!sm(c))throw Error(s(200));return nm(null,o,c,!1,p)},Xn.unmountComponentAtNode=function(o){if(!sm(o))throw Error(s(40));return o._reactRootContainer?(qo(function(){nm(null,null,o,!1,function(){o._reactRootContainer=null,o[qi]=null})}),!0):!1},Xn.unstable_batchedUpdates=Qx,Xn.unstable_renderSubtreeIntoContainer=function(o,c,p,x){if(!sm(p))throw Error(s(200));if(o==null||o._reactInternals===void 0)throw Error(s(38));return nm(o,c,p,!1,x)},Xn.version="18.3.1-next-f1338f8080-20240426",Xn}var Mw;function gk(){if(Mw)return ov.exports;Mw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ov.exports=u4(),ov.exports}var Fw;function h4(){if(Fw)return im;Fw=1;var t=gk();return im.createRoot=t.createRoot,im.hydrateRoot=t.hydrateRoot,im}var p4=h4();const m4=j0(p4),lt=t=>typeof t=="string",du=()=>{let t,e;const s=new Promise((r,i)=>{t=r,e=i});return s.resolve=t,s.reject=e,s},Bw=t=>t==null?"":""+t,f4=(t,e,s)=>{t.forEach(r=>{e[r]&&(s[r]=e[r])})},g4=/###/g,$w=t=>t&&t.indexOf("###")>-1?t.replace(g4,"."):t,Ow=t=>!t||lt(t),Pu=(t,e,s)=>{const r=lt(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Ow(t))return{};const a=$w(r[i]);!t[a]&&s&&(t[a]=new s),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return Ow(t)?{}:{obj:t,k:$w(r[i])}},Vw=(t,e,s)=>{const{obj:r,k:i}=Pu(t,e,Object);if(r!==void 0||e.length===1){r[i]=s;return}let a=e[e.length-1],l=e.slice(0,e.length-1),d=Pu(t,l,Object);for(;d.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),d=Pu(t,l,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${a}`]!="undefined"&&(d.obj=void 0);d.obj[`${d.k}.${a}`]=s},x4=(t,e,s,r)=>{const{obj:i,k:a}=Pu(t,e,Object);i[a]=i[a]||[],i[a].push(s)},of=(t,e)=>{const{obj:s,k:r}=Pu(t,e);if(s&&Object.prototype.hasOwnProperty.call(s,r))return s[r]},v4=(t,e,s)=>{const r=of(t,s);return r!==void 0?r:of(e,s)},xk=(t,e,s)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?lt(t[r])||t[r]instanceof String||lt(e[r])||e[r]instanceof String?s&&(t[r]=e[r]):xk(t[r],e[r],s):t[r]=e[r]);return t},wc=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var y4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const b4=t=>lt(t)?t.replace(/[&<>"'\/]/g,e=>y4[e]):t;class _4{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const w4=[" ",",","?","!",";"],j4=new _4(20),S4=(t,e,s)=>{e=e||"",s=s||"";const r=w4.filter(l=>e.indexOf(l)<0&&s.indexOf(l)<0);if(r.length===0)return!0;const i=j4.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(t);if(!a){const l=t.indexOf(s);l>0&&!i.test(t.substring(0,l))&&(a=!0)}return a},xy=(t,e,s=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(s);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,d="";for(let u=a;u<r.length;++u)if(u!==a&&(d+=s),d+=r[u],l=i[d],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&u<r.length-1)continue;a+=u-a+1;break}i=l}return i},Yu=t=>t==null?void 0:t.replace("_","-"),N4={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var s,r;(r=(s=console==null?void 0:console[t])==null?void 0:s.apply)==null||r.call(s,console,e)}};let k4=class vy{constructor(e,s={}){this.init(e,s)}init(e,s={}){this.prefix=s.prefix||"i18next:",this.logger=e||N4,this.options=s,this.debug=s.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,r,i){return i&&!this.debug?null:(lt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new vy(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new vy(this.logger,e)}};var ki=new k4;class zf{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(s)||0;this.observers[r].set(s,i+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e,...s){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...s])})}}class Uw extends zf{constructor(e,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,r,i={}){var h,m;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,s],r&&(Array.isArray(r)?d.push(...r):lt(r)&&a?d.push(...r.split(a)):d.push(r)));const u=of(this.data,d);return!u&&!s&&!r&&e.indexOf(".")>-1&&(e=d[0],s=d[1],r=d.slice(2).join(".")),u||!l||!lt(r)?u:xy((m=(h=this.data)==null?void 0:h[e])==null?void 0:m[s],r,a)}addResource(e,s,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=[e,s];r&&(d=d.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(d=e.split("."),i=s,s=d[1]),this.addNamespaces(s),Vw(this.data,d,i),a.silent||this.emit("added",e,s,r,i)}addResources(e,s,r,i={silent:!1}){for(const a in r)(lt(r[a])||Array.isArray(r[a]))&&this.addResource(e,s,a,r[a],{silent:!0});i.silent||this.emit("added",e,s,r)}addResourceBundle(e,s,r,i,a,l={silent:!1,skipCopy:!1}){let d=[e,s];e.indexOf(".")>-1&&(d=e.split("."),i=r,r=s,s=d[1]),this.addNamespaces(s);let u=of(this.data,d)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?xk(u,r,a):u={...u,...r},Vw(this.data,d,u),l.silent||this.emit("added",e,s,r)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(i=>s[i]&&Object.keys(s[i]).length>0)}toJSON(){return this.data}}var vk={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,r,i){return t.forEach(a=>{var l,d;e=(d=(l=this.processors[a])==null?void 0:l.process(e,s,r,i))!=null?d:e}),e}};const yk=Symbol("i18next/PATH_KEY");function T4(){const t=[],e=Object.create(null);let s;return e.get=(r,i)=>{var a;return(a=s==null?void 0:s.revoke)==null||a.call(s),i===yk?t:(t.push(i),s=Proxy.revocable(r,e),s.proxy)},Proxy.revocable(Object.create(null),e).proxy}function yy(t,e){var r;const{[yk]:s}=t(T4());return s.join((r=e==null?void 0:e.keySeparator)!=null?r:".")}const zw={},Hw=t=>!lt(t)&&typeof t!="boolean"&&typeof t!="number";class lf extends zf{constructor(e,s={}){super(),f4(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ki.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,s={interpolation:{}}){const r={...s};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,s){let r=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=s.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!S4(e,r,i);if(l&&!d){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:lt(a)?[a]:a};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:lt(a)?[a]:a}}translate(e,s,r){let i=typeof s=="object"?{...s}:s;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=yy(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:d,namespaces:u}=this.extractFromKey(e[e.length-1],i),h=u[u.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const g=i.lng||this.language,v=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode")return v?a?{res:`${h}${m}${d}`,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${m}${d}`:a?{res:d,usedKey:d,exactUsedKey:d,usedLng:g,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:d;const b=this.resolve(e,i);let S=b==null?void 0:b.res;const C=(b==null?void 0:b.usedKey)||d,R=(b==null?void 0:b.exactUsedKey)||d,F=["[object Number]","[object Function]","[object RegExp]"],D=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,y=i.count!==void 0&&!lt(i.count),w=lf.hasDefaultValue(i),L=y?this.pluralResolver.getSuffix(g,i.count,i):"",N=i.ordinal&&y?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",j=y&&!i.ordinal&&i.count===0,I=j&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${L}`]||i[`defaultValue${N}`]||i.defaultValue;let M=S;A&&!S&&w&&(M=I);const P=Hw(M),O=Object.prototype.toString.apply(M);if(A&&M&&P&&F.indexOf(O)<0&&!(lt(D)&&Array.isArray(M))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,M,{...i,ns:u}):`key '${d} (${this.language})' returned an object instead of string.`;return a?(b.res=$,b.usedParams=this.getUsedParamsDetails(i),b):$}if(l){const $=Array.isArray(M),W=$?[]:{},H=$?R:C;for(const q in M)if(Object.prototype.hasOwnProperty.call(M,q)){const K=`${H}${l}${q}`;w&&!S?W[q]=this.translate(K,{...i,defaultValue:Hw(I)?I[q]:void 0,joinArrays:!1,ns:u}):W[q]=this.translate(K,{...i,joinArrays:!1,ns:u}),W[q]===K&&(W[q]=M[q])}S=W}}else if(A&&lt(D)&&Array.isArray(S))S=S.join(D),S&&(S=this.extendTranslation(S,e,i,r));else{let $=!1,W=!1;!this.isValidLookup(S)&&w&&($=!0,S=I),this.isValidLookup(S)||(W=!0,S=d);const q=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:S,K=w&&I!==S&&this.options.updateMissing;if(W||$||K){if(this.logger.log(K?"updateKey":"missingKey",g,h,d,K?I:S),l){const U=this.resolve(d,{...i,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let U=0;U<te.length;U++)G.push(te[U]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(i.lng||this.language):G.push(i.lng||this.language);const ne=(U,J,ce)=>{var fe;const ee=w&&ce!==S?ce:q;this.options.missingKeyHandler?this.options.missingKeyHandler(U,h,J,ee,K,i):(fe=this.backendConnector)!=null&&fe.saveMissing&&this.backendConnector.saveMissing(U,h,J,ee,K,i),this.emit("missingKey",U,h,J,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?G.forEach(U=>{const J=this.pluralResolver.getSuffixes(U,i);j&&i[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(ce=>{ne([U],d+ce,i[`defaultValue${ce}`]||I)})}):ne(G,d,I))}S=this.extendTranslation(S,e,i,b,r),W&&S===d&&this.options.appendNamespaceToMissingKey&&(S=`${h}${m}${d}`),(W||$)&&this.options.parseMissingKeyHandler&&(S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${d}`:d,$?S:void 0,i))}return a?(b.res=S,b.usedParams=this.getUsedParamsDetails(i),b):S}extendTranslation(e,s,r,i,a){var u,h;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=lt(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(m){const b=e.match(this.interpolator.nestingRegexp);g=b&&b.length}let v=r.replace&&!lt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||i.usedLng,r),m){const b=e.match(this.interpolator.nestingRegexp),S=b&&b.length;g<S&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...b)=>(a==null?void 0:a[0])===b[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${s[0]}`),null):this.translate(...b,s),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,d=lt(l)?[l]:l;return e!=null&&(d!=null&&d.length)&&r.applyPostProcessor!==!1&&(e=vk.handle(d,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,s={}){let r,i,a,l,d;return lt(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(u,s),m=h.key;i=m;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const v=s.count!==void 0&&!lt(s.count),b=v&&!s.ordinal&&s.count===0,S=s.context!==void 0&&(lt(s.context)||typeof s.context=="number")&&s.context!=="",C=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);g.forEach(R=>{var F,D;this.isValidLookup(r)||(d=R,!zw[`${C[0]}-${R}`]&&((F=this.utils)!=null&&F.hasLoadedNamespace)&&!((D=this.utils)!=null&&D.hasLoadedNamespace(d))&&(zw[`${C[0]}-${R}`]=!0,this.logger.warn(`key "${i}" for languages "${C.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(A=>{var L;if(this.isValidLookup(r))return;l=A;const y=[m];if((L=this.i18nFormat)!=null&&L.addLookupKeys)this.i18nFormat.addLookupKeys(y,m,A,R,s);else{let N;v&&(N=this.pluralResolver.getSuffix(A,s.count,s));const j=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(s.ordinal&&N.indexOf(I)===0&&y.push(m+N.replace(I,this.options.pluralSeparator)),y.push(m+N),b&&y.push(m+j)),S){const M=`${m}${this.options.contextSeparator||"_"}${s.context}`;y.push(M),v&&(s.ordinal&&N.indexOf(I)===0&&y.push(M+N.replace(I,this.options.pluralSeparator)),y.push(M+N),b&&y.push(M+j))}}let w;for(;w=y.pop();)this.isValidLookup(r)||(a=w,r=this.getResource(A,R,w,s))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,s,r,i):this.resourceStore.getResource(e,s,r,i)}getUsedParamsDetails(e={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!lt(e.replace);let i=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of s)delete i[a]}return i}static hasDefaultValue(e){const s="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&s===r.substring(0,s.length)&&e[r]!==void 0)return!0;return!1}}class Gw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ki.create("languageUtils")}getScriptPartFromCode(e){if(e=Yu(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=Yu(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(lt(e)&&e.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(e)[0]}catch(r){}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(r=>{if(s)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(s=i)}),!s&&this.options.supportedLngs&&e.forEach(r=>{if(s)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return s=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return s=a;s=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),lt(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let r=e[s];return r||(r=e[this.getScriptPartFromCode(s)]),r||(r=e[this.formatLanguageCode(s)]),r||(r=e[this.getLanguagePartFromCode(s)]),r||(r=e.default),r||[]}toResolveHierarchy(e,s){const r=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return lt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):lt(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const Ww={zero:0,one:1,two:2,few:3,many:4,other:5},qw={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class C4{constructor(e,s={}){this.languageUtils=e,this.options=s,this.logger=ki.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e,s={}){const r=Yu(e==="dev"?"en":e),i=s.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch(d){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),qw;if(!e.match(/-|_/))return qw;const u=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(u,s)}return this.pluralRulesCache[a]=l,l}needsPlural(e,s={}){let r=this.getRule(e,s);return r||(r=this.getRule("dev",s)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,s,r={}){return this.getSuffixes(e,r).map(i=>`${s}${i}`)}getSuffixes(e,s={}){let r=this.getRule(e,s);return r||(r=this.getRule("dev",s)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>Ww[i]-Ww[a]).map(i=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,s,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(s)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",s,r))}}const Kw=(t,e,s,r=".",i=!0)=>{let a=v4(t,e,s);return!a&&i&&lt(s)&&(a=xy(t,s,r),a===void 0&&(a=xy(e,s,r))),a},dv=t=>t.replace(/\$/g,"$$$$");class E4{constructor(e={}){var s;this.logger=ki.create("interpolator"),this.options=e,this.format=((s=e==null?void 0:e.interpolation)==null?void 0:s.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:d,suffixEscaped:u,formatSeparator:h,unescapeSuffix:m,unescapePrefix:g,nestingPrefix:v,nestingPrefixEscaped:b,nestingSuffix:S,nestingSuffixEscaped:C,nestingOptionsSeparator:R,maxReplaces:F,alwaysFormat:D}=e.interpolation;this.escape=s!==void 0?s:b4,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?wc(a):l||"{{",this.suffix=d?wc(d):u||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=v?wc(v):b||wc("$t("),this.nestingSuffix=S?wc(S):C||wc(")"),this.nestingOptionsSeparator=R||",",this.maxReplaces=F||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,r)=>(s==null?void 0:s.source)===r?(s.lastIndex=0,s):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,s,r,i){var b;let a,l,d;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=S=>{if(S.indexOf(this.formatSeparator)<0){const D=Kw(s,u,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(D,void 0,r,{...i,...s,interpolationkey:S}):D}const C=S.split(this.formatSeparator),R=C.shift().trim(),F=C.join(this.formatSeparator).trim();return this.format(Kw(s,u,R,this.options.keySeparator,this.options.ignoreJSONStructure),F,r,{...i,...s,interpolationkey:R})};this.resetRegExp();const m=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,g=((b=i==null?void 0:i.interpolation)==null?void 0:b.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>dv(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?dv(this.escape(S)):dv(S)}].forEach(S=>{for(d=0;a=S.regex.exec(e);){const C=a[1].trim();if(l=h(C),l===void 0)if(typeof m=="function"){const F=m(e,a,i);l=lt(F)?F:""}else if(i&&Object.prototype.hasOwnProperty.call(i,C))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),l="";else!lt(l)&&!this.useRawValueToEscape&&(l=Bw(l));const R=S.safeValue(l);if(e=e.replace(a[0],R),g?(S.regex.lastIndex+=l.length,S.regex.lastIndex-=a[0].length):S.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,s,r={}){let i,a,l;const d=(u,h)=>{var C;const m=this.nestingOptionsSeparator;if(u.indexOf(m)<0)return u;const g=u.split(new RegExp(`${m}[ ]*{`));let v=`{${g[1]}`;u=g[0],v=this.interpolate(v,l);const b=v.match(/'/g),S=v.match(/"/g);(((C=b==null?void 0:b.length)!=null?C:0)%2===0&&!S||S.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),h&&(l={...h,...l})}catch(R){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,R),`${u}${m}${v}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];l={...r},l=l.replace&&!lt(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(h!==-1&&(u=i[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),i[1]=i[1].slice(0,h)),a=s(d.call(this,i[1].trim(),l),l),a&&i[0]===e&&!lt(a))return a;lt(a)||(a=Bw(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),u.length&&(a=u.reduce((m,g)=>this.format(m,g,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const A4=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?s.currency||(s.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?s.range||(s.range=i.trim()):i.split(";").forEach(l=>{if(l){const[d,...u]=l.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,""),m=d.trim();s[m]||(s[m]=h),h==="false"&&(s[m]=!1),h==="true"&&(s[m]=!0),isNaN(h)||(s[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:s}},Qw=t=>{const e={};return(s,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let d=e[l];return d||(d=t(Yu(r),i),e[l]=d),d(s)}},I4=t=>(e,s,r)=>t(Yu(s),r)(e);class R4{constructor(e={}){this.logger=ki.create("formatter"),this.options=e,this.init(e)}init(e,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const r=s.cacheInBuiltFormats?Qw:I4;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return d=>l.format(d)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return d=>l.format(d)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return d=>l.format(d)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return d=>l.format(d,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return d=>l.format(d)})}}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=Qw(s)}format(e,s,r,i={}){const a=s.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(d=>d.indexOf(")")>-1)){const d=a.findIndex(u=>u.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,d)].join(this.formatSeparator)}return a.reduce((d,u)=>{var g;const{formatName:h,formatOptions:m}=A4(u);if(this.formats[h]){let v=d;try{const b=((g=i==null?void 0:i.formatParams)==null?void 0:g[i.interpolationkey])||{},S=b.locale||b.lng||i.locale||i.lng||r;v=this.formats[h](d,S,{...m,...i,...b})}catch(b){this.logger.warn(b)}return v}else this.logger.warn(`there was no format function for ${h}`);return d},e)}}const P4=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class L4 extends zf{constructor(e,s,r,i={}){var a,l;super(),this.backend=e,this.store=s,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ki.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,i.backend,i)}queueLoad(e,s,r,i){const a={},l={},d={},u={};return e.forEach(h=>{let m=!0;s.forEach(g=>{const v=`${h}|${g}`;!r.reload&&this.store.hasResourceBundle(h,g)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?l[v]===void 0&&(l[v]=!0):(this.state[v]=1,m=!1,l[v]===void 0&&(l[v]=!0),a[v]===void 0&&(a[v]=!0),u[g]===void 0&&(u[g]=!0)))}),m||(d[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(u)}}loaded(e,s,r){const i=e.split("|"),a=i[0],l=i[1];s&&this.emit("failedLoading",a,l,s),!s&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&r&&(this.state[e]=0);const d={};this.queue.forEach(u=>{x4(u.loaded,[a],l),P4(u,e),s&&u.errors.push(s),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{d[h]||(d[h]={});const m=u.loaded[h];m.length&&m.forEach(g=>{d[h][g]===void 0&&(d[h][g]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(u=>!u.done)}read(e,s,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const d=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,r,i+1,a*2,l)},a);return}l(h,m)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const h=u(e,s);h&&typeof h.then=="function"?h.then(m=>d(null,m)).catch(d):d(null,h)}catch(h){d(h)}return}return u(e,s,d)}prepareLoading(e,s,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();lt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),lt(s)&&(s=[s]);const a=this.queueLoad(e,s,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,s,r){this.prepareLoading(e,s,{},r)}reload(e,s,r){this.prepareLoading(e,s,{reload:!0},r)}loadOne(e,s=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,d)=>{l&&this.logger.warn(`${s}loading namespace ${a} for language ${i} failed`,l),!l&&d&&this.logger.log(`${s}loaded namespace ${a} for language ${i}`,d),this.loaded(e,l,d)})}saveMissing(e,s,r,i,a,l={},d=()=>{}){var u,h,m,g,v;if((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace&&!((g=(m=this.services)==null?void 0:m.utils)!=null&&g.hasLoadedNamespace(s))){this.logger.warn(`did not save key "${r}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((v=this.backend)!=null&&v.create){const b={...l,isUpdate:a},S=this.backend.create.bind(this.backend);if(S.length<6)try{let C;S.length===5?C=S(e,s,r,i,b):C=S(e,s,r,i),C&&typeof C.then=="function"?C.then(R=>d(null,R)).catch(d):d(null,C)}catch(C){d(C)}else S(e,s,r,i,d,b)}!e||!e[0]||this.store.addResource(e[0],s,r,i)}}}const Xw=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),lt(t[1])&&(e.defaultValue=t[1]),lt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(r=>{e[r]=s[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Yw=t=>{var e,s;return lt(t.ns)&&(t.ns=[t.ns]),lt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),lt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((s=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:s.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},am=()=>{},D4=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class Ju extends zf{constructor(e={},s){if(super(),this.options=Yw(e),this.services={},this.logger=ki,this.modules={external:[]},D4(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(e={},s){this.isInitializing=!0,typeof e=="function"&&(s=e,e={}),e.defaultNS==null&&e.ns&&(lt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Xw();this.options={...r,...this.options,...Yw(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?ki.init(i(this.modules.logger),this.options):ki.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=R4;const m=new Gw(this.options);this.store=new Uw(this.options.resources,this.options);const g=this.services;g.logger=ki,g.resourceStore=this.store,g.languageUtils=m,g.pluralResolver=new C4(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(g.formatter=i(h),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new E4(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new L4(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(b,...S)=>{this.emit(b,...S)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new lf(this.services,this.options),this.translator.on("*",(b,...S)=>{this.emit(b,...S)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,s||(s=am),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const d=du(),u=()=>{const h=(m,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(g),s(m,g)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),d}loadResources(e,s=am){var a,l;let r=s;const i=lt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(g=>{g!=="cimode"&&d.indexOf(g)<0&&d.push(g)})};i?u(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>u(m)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,h=>u(h)),this.services.backendConnector.load(d,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,s,r){const i=du();return typeof e=="function"&&(r=e,e=void 0),typeof s=="function"&&(r=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),r||(r=am),this.services.backendConnector.reload(e,s,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&vk.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let s=0;s<this.languages.length;s++){const r=this.languages[s];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,s){this.isLanguageChangingTo=e;const r=du();this.emit("languageChanging",e);const i=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},a=(d,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),s&&s(d,(...h)=>this.t(...h))},l=d=>{var m,g;!e&&!d&&this.services.languageDetector&&(d=[]);const u=lt(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(lt(d)?[d]:d);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(g=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||g.call(m,h)),this.loadResources(h,v=>{a(v,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,s,r){const i=(a,l,...d)=>{let u;typeof l!="object"?u=this.options.overloadTranslationOptionHandler([a,l].concat(d)):u={...l},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);const h=this.options.keySeparator||".";let m;return u.keyPrefix&&Array.isArray(a)?m=a.map(g=>(typeof g=="function"&&(g=yy(g,{...this.options,...l})),`${u.keyPrefix}${h}${g}`)):(typeof a=="function"&&(a=yy(a,{...this.options,...l})),m=u.keyPrefix?`${u.keyPrefix}${h}${a}`:a),this.t(m,u)};return lt(e)?i.lng=e:i.lngs=e,i.ns=s,i.keyPrefix=r,i}t(...e){var s;return(s=this.translator)==null?void 0:s.translate(...e)}exists(...e){var s;return(s=this.translator)==null?void 0:s.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=s.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(d,u)=>{const h=this.services.backendConnector.state[`${d}|${u}`];return h===-1||h===0||h===2};if(s.precheck){const d=s.precheck(this,l);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,s){const r=du();return this.options.ns?(lt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),s&&s(i)}),r):(s&&s(),Promise.resolve())}loadLanguages(e,s){const r=du();lt(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),s&&s(l)}),r):(s&&s(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const l=new Intl.Locale(e);if(l&&l.getTextInfo){const d=l.getTextInfo();if(d&&d.direction)return d.direction}}catch(l){}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new Gw(Xw());return e.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},s){return new Ju(e,s)}cloneInstance(e={},s=am){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Ju(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(d=>{a[d]=this[d]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const d=Object.keys(this.store.data).reduce((u,h)=>(u[h]={...this.store.data[h]},u[h]=Object.keys(u[h]).reduce((m,g)=>(m[g]={...u[h][g]},m),u[h]),u),{});a.store=new Uw(d,i),a.services.resourceStore=a.store}return a.translator=new lf(a.services,i),a.translator.on("*",(d,...u)=>{a.emit(d,...u)}),a.init(i,s),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xn=Ju.createInstance();xn.createInstance=Ju.createInstance;xn.createInstance;xn.dir;xn.init;xn.loadResources;xn.reloadResources;xn.use;xn.changeLanguage;xn.getFixedT;xn.t;xn.exists;xn.setDefaultNamespace;xn.hasLoadedNamespace;xn.loadNamespaces;xn.loadLanguages;const M4=(t,e,s,r)=>{var a,l,d,u;const i=[s,{code:e,...r||{}}];if((l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);fl(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(u=(d=t==null?void 0:t.services)==null?void 0:d.logger)!=null&&u.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},Jw={},by=(t,e,s,r)=>{fl(s)&&Jw[s]||(fl(s)&&(Jw[s]=new Date),M4(t,e,s,r))},bk=(t,e)=>()=>{if(t.isInitialized)e();else{const s=()=>{setTimeout(()=>{t.off("initialized",s)},0),e()};t.on("initialized",s)}},_y=(t,e,s)=>{t.loadNamespaces(e,bk(t,s))},Zw=(t,e,s,r)=>{if(fl(s)&&(s=[s]),t.options.preload&&t.options.preload.indexOf(e)>-1)return _y(t,s,r);s.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,bk(t,r))},F4=(t,e,s={})=>!e.languages||!e.languages.length?(by(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:s.lng,precheck:(r,i)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),fl=t=>typeof t=="string",B4=t=>typeof t=="object"&&t!==null,$4=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,O4={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},V4=t=>O4[t],U4=t=>t.replace($4,V4);let wy={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:U4};const z4=(t={})=>{wy={...wy,...t}},H4=()=>wy;let _k;const G4=t=>{_k=t},W4=()=>_k,q4={type:"3rdParty",init(t){z4(t.options.react),G4(t)}},K4=E.createContext();class Q4{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const X4=(t,e)=>{const s=E.useRef();return E.useEffect(()=>{s.current=t},[t,e]),s.current},wk=(t,e,s,r)=>t.getFixedT(e,s,r),Y4=(t,e,s,r)=>E.useCallback(wk(t,e,s,r),[t,e,s,r]),ud=(t,e={})=>{var y,w,L,N;const{i18n:s}=e,{i18n:r,defaultNS:i}=E.useContext(K4)||{},a=s||r||W4();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Q4),!a){by(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const j=(M,P)=>fl(P)?P:B4(P)&&fl(P.defaultValue)?P.defaultValue:Array.isArray(M)?M[M.length-1]:M,I=[j,{},!1];return I.t=j,I.i18n={},I.ready=!1,I}(y=a.options.react)!=null&&y.wait&&by(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...H4(),...a.options.react,...e},{useSuspense:d,keyPrefix:u}=l;let h=i||((w=a.options)==null?void 0:w.defaultNS);h=fl(h)?[h]:h||["translation"],(N=(L=a.reportNamespaces).addUsedNamespaces)==null||N.call(L,h);const m=(a.isInitialized||a.initializedStoreOnce)&&h.every(j=>F4(j,a,l)),g=Y4(a,e.lng||null,l.nsMode==="fallback"?h:h[0],u),v=()=>g,b=()=>wk(a,e.lng||null,l.nsMode==="fallback"?h:h[0],u),[S,C]=E.useState(v);let R=h.join();e.lng&&(R=`${e.lng}${R}`);const F=X4(R),D=E.useRef(!0);E.useEffect(()=>{const{bindI18n:j,bindI18nStore:I}=l;D.current=!0,!m&&!d&&(e.lng?Zw(a,e.lng,h,()=>{D.current&&C(b)}):_y(a,h,()=>{D.current&&C(b)})),m&&F&&F!==R&&D.current&&C(b);const M=()=>{D.current&&C(b)};return j&&(a==null||a.on(j,M)),I&&(a==null||a.store.on(I,M)),()=>{D.current=!1,a&&j&&(j==null||j.split(" ").forEach(P=>a.off(P,M))),I&&a&&I.split(" ").forEach(P=>a.store.off(P,M))}},[a,R]),E.useEffect(()=>{D.current&&m&&C(v)},[a,u,m]);const A=[S,a,m];if(A.t=S,A.i18n=a,A.ready=m,m||!m&&!d)return A;throw new Promise(j=>{e.lng?Zw(a,e.lng,h,()=>j()):_y(a,h,()=>j())})},J4={home:"Home",dashboard:"Dashboard",players:"Players",guilds:"Guilds",servers:"Servers",toplists:"Top Lists",oldscans:"Old Scans",favorites:"Favorites",notifications:"Notifications",imprint:"Imprint",privacy:"Privacy",license:"License",help:"Help",tools:"Tools",community:"Community"},Z4={settings:{title:"Settings",subtitle:"Configure your personal preferences.",loading:"Loading settings...",error:"Could not load settings.",retry:"Retry",language:{label:"Preferred language"},defaultSection:{label:"Default section"},compactTables:{label:"Use compact table layout"},experimental:{label:"Enable experimental features"},save:"Save settings",saved:"Settings saved.",noChanges:"No changes to save.",saving:"Saving...",saveError:"Could not save settings. Please try again."},tools:{title:"Tools settings",subtitle:"Configure how tools behave for your account.",loading:"Loading tools settings...",loadError:"Could not load tools settings.",defaultSet:{label:"Default set ID",placeholder:"Enter a default set ID"},showIntro:{label:"Show tools intro"},experimental:{label:"Enable experimental tools"},save:{cta:"Save settings",saving:"Saving...",success:"Settings saved.",noChanges:"No changes to save.",error:"Could not save settings. Please try again."}}},eI={banner:{guestTitle:"Unlock extra features with an account",guestDescription:"You can use all tools without an account. Sign in to enable cloud-synced sets, cross-set insights, and integrations with your SFDataHub profile.",guestLoginCta:"Sign in to unlock",accountTitle:"Extended tools features",accountComingSoon:"These features are in development and will roll out gradually.",featureSetComparison:"Compare your sets to find the best setups.",featureIntegration:"Link your sets with player profiles, guilds, and other modules.",featureCloudSync:"Sync your sets across devices with your SFDataHub account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Placeholder for future gem calculations.",dungeonPause:"Dummy view for dungeon pause tools.",xpDungeon:"Slide for XP dungeon planning."},sets:{defaultName:"New Set",exportActive:"Export active set",import:"Import set",importErrorInvalid:"This file does not contain a valid tools set.",importErrorMaxReached:"You already use the maximum of 3 sets. Delete one before importing a new one.",delete:"Delete set",deleteConfirmTitle:"Delete this set?",deleteConfirmText:"This will remove the set from your browser and free up a slot. Export it first if you want a backup.",deleteLastForbidden:"You need at least one set. Create a new one before deleting this.",rename:"Rename set",renameTitle:"Rename set",renameLabel:"Set name",renamePlaceholder:"Enter a name for this set",renameSave:"Save",renameCancel:"Cancel",renameErrorEmpty:"Please enter a name."},sync:{buttonSave:"Save changes to account",saving:"Saving",error:"Could not save your changes. Please try again.",statusUnsynced:"Unsynced changes",statusSynced:"All changes synced",statusNever:"Not synced yet",lastSyncLabel:"Last sync",noChanges:"No changes to save",cooldownLabel:"Next sync in {{time}}"}},tI={search:"Search?  /",settings:"Settings",profile:"Profile",signout:"Sign out",notifications:"Notifications",help:"Help",theme:"Theme",theme_light:"Light",theme_dark:"Dark",language:"Language",lang_en:"English",lang_de:"Deutsch"},sI={public:{title:"Public profile",subtitle:"Read-only showcase of this SFDataHub identity",identity:{profileIdLabel:"Profile ID",unknownValue:"Unknown",lastScanLabel:"Last scan",lastScanToday:"today",daysAgoSuffix:"days ago",dateUnknown:"Not available",mainCharacterLabel:"Main character",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Guild",portraitPlaceholder:"Portrait placeholder"},bio:{title:"About this player",empty:"This player has not added a bio yet.",languagesLabel:"Languages",rolesLabel:"Roles"},showcase:{title:"Character showcase",subtitle:"Curated roster pulled from the last verified scans",empty:"No characters selected for showcase yet.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archive",event:"Event"}},stats:{title:"SFDataHub activity",totalScans:"Total scans",uniquePlayers:"Unique players",uniqueGuilds:"Unique guilds",last30d:"Scans (30d)",topServersLabel:"Top servers",firstScanLabel:"First scan",empty:"No scan data available yet."},records:{title:"Records & milestones",empty:"No records or milestones have been registered yet.",type:{record:"Record",milestone:"Milestone"}},achievements:{title:"Achievements & badges",highlights:"Featured achievements",empty:"No achievements have been unlocked yet.",tiers:{gold:"Gold",silver:"Silver",bronze:"Bronze"}},roles:{guildleader:"Guild Leader",tryhard:"Tryhard"}}},nI={title:"Help & Overview",subtitle:"Quick guide to SFDataHub",hero:{eyebrow:"Start guide",heading:"Welcome to SFDataHub",lead:"Learn what you can do, how data freshness works, and where to find settings or legal info.",freshnessLabel:"Data freshness",freshnessBody:"Data is refreshed regularly. You will see the exact scan time directly inside top lists and profiles."},dataFreshness:{title:"How up to date is the data?",body:`SFDataHub relies on community scans. Some servers (for example many EU servers) are scanned roughly once per month by us and a few helpers  depending on our free time. Other servers (for example fusion servers) are scanned by other community projects and may have longer gaps between scans.

This means there can be several weeks or even months between two scans. You can always see the exact data age from the "Last scan: " hint in top lists and profiles.

If you want your own profile to be more up to date, you can link your SFDataHub account and upload your own scans. That way you keep your profile fresh and help the overall database stay more current for the whole community.`},sections:{intro:{title:"What is SFDataHub?",body1:"SFDataHub is a community project around Shakes & Fidget.",body2:"You can analyse scan data, browse top lists, and open detailed player and guild profiles. The goal: a quick overview of progress, rankings, and development  without any official connection to Playa Games."},actions:{title:"What can I do on SFDataHub?",items:{toplists:"Browse top lists: compare players and guilds by level or other metrics.",profiles:"Open profiles: view detailed player and guild profiles with extra information.",guides:"Read guides: use guides and tips to plan your progress.",tools:"Use tools & calculators: run interactive tools such as a dungeon XP calculator."}},freshness:{title:"How up to date is the data?",body1:"SFDataHub is based on scans uploaded or linked by the community.",body2:"Next to many values youll find the time of the last scan (for example Last scan: 2025-12-01).",body3:"Top lists and profiles are updated regularly. If an entry hasnt been scanned for a while, the displayed values might differ from the current state in the game."},login:{title:"Login & Settings",body1:"You can log in with your Discord account to unlock additional features.",body2:"After logging in youll see your profile menu with avatar and name in the header.",body3:"In the settings you can adjust basic options for your SFDataHub account.",body4:"Settings are only relevant for logged-in users  without an account theres nothing to configure."},legal:{title:"Help, feedback & legal information",body1:"If you notice bugs, strange data, or have ideas for new features, were happy to hear from you.",body2:"You can find contact options and more information on the contact or imprint page.",body3:"For legal details please use the linked pages:",items:{tos:"Terms of Service (ToS)",privacy:"Privacy Policy",imprint:"Imprint / Contact"}}}},rI={about:{title:"About SFDataHub",body:`SFDataHub is a non-commercial fan and community project around Shakes & Fidget. It has no official connection to Playa Games GmbH or the operators of Shakes & Fidget.

All mentioned brands, logos and graphics are the property of their respective owners and are used for identification purposes only.`},shortDisclaimer:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners.",copyright:" 2025 SFDataHub  community project around Shakes & Fidget."},iI={nav:J4,account:Z4,tools:eI,topbar:tI,profile:sI,help:nI,footer:rI},aI={home:"Start",dashboard:"Dashboard",players:"Spieler",guilds:"Gilden",servers:"Server",toplists:"Top-Listen",oldscans:"Alte Scans",favorites:"Favoriten",notifications:"Benachrichtigungen",imprint:"Impressum",privacy:"Datenschutz",license:"Lizenzen",help:"Hilfe",tools:"Tools",community:"Community"},oI={settings:{title:"Einstellungen",subtitle:"Passe deine persoenlichen Praeferenzen an.",loading:"Einstellungen werden geladen...",error:"Einstellungen konnten nicht geladen werden.",retry:"Erneut versuchen",language:{label:"Bevorzugte Sprache"},defaultSection:{label:"Standardbereich"},compactTables:{label:"Kompaktes Tabellen-Layout nutzen"},experimental:{label:"Experimentelle Features aktivieren"},save:"Einstellungen speichern",saved:"Einstellungen gespeichert.",noChanges:"Keine Aenderungen zum Speichern.",saving:"Speichern...",saveError:"Einstellungen konnten nicht gespeichert werden. Bitte erneut versuchen."},tools:{title:"Tool-Einstellungen",subtitle:"Konfiguriere, wie die Tools fr deinen Account arbeiten.",loading:"Tool-Einstellungen werden geladen...",loadError:"Tool-Einstellungen konnten nicht geladen werden.",defaultSet:{label:"Standard-Set-ID",placeholder:"Standard-Set-ID eingeben"},showIntro:{label:"Tools-Intro anzeigen"},experimental:{label:"Experimentelle Tools aktivieren"},save:{cta:"Einstellungen speichern",saving:"Speichern...",success:"Einstellungen gespeichert.",noChanges:"Keine Aenderungen zum Speichern.",error:"Einstellungen konnten nicht gespeichert werden. Bitte erneut versuchen."}}},lI={banner:{guestTitle:"Zusatzfunktionen mit Account freischalten",guestDescription:"Du kannst alle Tools ohne Account nutzen. Mit einem Login schaltest du zusaetzlich cloud-synchronisierte Sets, Set-Analysen und Integrationen mit deinem SFDataHub-Profil frei.",guestLoginCta:"Einloggen und freischalten",accountTitle:"Erweiterte Tool-Funktionen",accountComingSoon:"Diese Funktionen sind in Entwicklung und werden nach und nach freigeschaltet.",featureSetComparison:"Vergleiche deine Sets, um die besten Setups zu finden.",featureIntegration:"Verknuepfe deine Sets mit Spielerprofilen, Gilden und weiteren Modulen.",featureCloudSync:"Nutze deine Sets auf mehreren Geraeten mit deinem SFDataHub-Account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Platzhalter fuer kuenftige Gem-Berechnungen.",dungeonPause:"Dummy-Ansicht fuer Dungeon-Pausen-Tools.",xpDungeon:"Slide fuer XP-Run-Planung."},sets:{defaultName:"Neues Set",exportActive:"Aktives Set exportieren",import:"Set importieren",importErrorInvalid:"Diese Datei enthlt kein gltiges Tools-Set.",importErrorMaxReached:"Du nutzt bereits das Maximum von 3 Sets. Lsche zuerst ein Set, bevor du ein neues importierst.",delete:"Set l?schen",deleteConfirmTitle:"Dieses Set l?schen?",deleteConfirmText:"Damit wird das Set in diesem Browser entfernt und ein Slot freigegeben. Exportiere es zuerst, wenn du ein Backup behalten m?chtest.",deleteLastForbidden:"Du ben?tigst mindestens ein Set. Erstelle zuerst ein neues, bevor du dieses l?schst.",rename:"Set umbenennen",renameTitle:"Set umbenennen",renameLabel:"Set-Name",renamePlaceholder:"Name f?r dieses Set eingeben",renameSave:"Speichern",renameCancel:"Abbrechen",renameErrorEmpty:"Bitte einen Namen eingeben."},sync:{buttonSave:"nderungen im Account speichern",saving:"Speichere ",error:"Deine nderungen konnten nicht gespeichert werden. Bitte versuche es erneut.",statusUnsynced:"Nicht gespeicherte nderungen",statusSynced:"Alle nderungen synchronisiert",statusNever:"Noch nie synchronisiert",lastSyncLabel:"Letzte Synchronisierung",noChanges:"Keine nderungen zum Speichern",cooldownLabel:"Nchster Sync in {{time}}"}},cI={search:"Suchen?  /",settings:"Einstellungen",profile:"Profil",signout:"Abmelden",notifications:"Benachrichtigungen",help:"Hilfe",theme:"Theme",theme_light:"Hell",theme_dark:"Dunkel",language:"Sprache",lang_en:"English",lang_de:"Deutsch"},dI={public:{title:"ffentliches Profil",subtitle:"Read-only-Ansicht dieser SFDataHub-Identitt",identity:{profileIdLabel:"Profil-ID",unknownValue:"Unbekannt",lastScanLabel:"Letzter Scan",lastScanToday:"heute",daysAgoSuffix:"Tage her",dateUnknown:"Keine Angabe",mainCharacterLabel:"Hauptcharakter",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Gilde",portraitPlaceholder:"Portrait-Platzhalter"},bio:{title:"ber diesen Spieler",empty:"Noch kein Bio-Text hinterlegt.",languagesLabel:"Sprachen",rolesLabel:"Rollen"},showcase:{title:"Charakter-Showcase",subtitle:"Kuratiertes Roster aus den letzten Scans",empty:"Noch keine Charaktere fr den Showcase ausgewhlt.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archiv",event:"Event"}},stats:{title:"SFDataHub-Aktivitt",totalScans:"Scans gesamt",uniquePlayers:"Einzigartige Spieler",uniqueGuilds:"Einzigartige Gilden",last30d:"Scans (30T)",topServersLabel:"Top-Server",firstScanLabel:"Erster Scan",empty:"Noch keine Scan-Daten vorhanden."},records:{title:"Records & Meilensteine",empty:"Noch keine Records oder Meilensteine erfasst.",type:{record:"Record",milestone:"Meilenstein"}},achievements:{title:"Erfolge & Badges",highlights:"Highlight-Erfolge",empty:"Noch keine Erfolge freigeschaltet.",tiers:{gold:"Gold",silver:"Silber",bronze:"Bronze"}},roles:{guildleader:"Gildenleiter",tryhard:"Tryhard"}}},uI={title:"Hilfe & bersicht",subtitle:"Kurzer Einstieg in den SFDataHub",hero:{eyebrow:"Start-Guide",heading:"Willkommen im SFDataHub",lead:"Erfahre, was du tun kannst, wie aktuell die Daten sind und wo du Einstellungen oder rechtliche Infos findest.",freshnessLabel:"Datenaktualitt",freshnessBody:"Daten werden regelmig aktualisiert. Den genauen Scan-Zeitpunkt siehst du direkt in Toplisten und Profilen."},dataFreshness:{title:"Wie aktuell sind die Daten?",body:`SFDataHub lebt von Community-Scans. Ein Teil der Server (z. B. die europischen Server) wird von uns und ein paar Helfern ungefhr einmal im Monat gescannt  je nachdem, wie wir Zeit haben. Andere Server (z. B. Fusion-Server) werden von anderen Community-Projekten in greren Abstnden gescannt.

Dadurch knnen zwischen zwei Scans auch mehrere Wochen oder sogar Monate liegen. Den genauen Stand siehst du immer am Hinweis Last scan:  in Toplisten und Profilen.

Wenn du dein Profil besonders aktuell halten mchtest, kannst du dich mit deinem SFDataHub-Account verbinden und eigene Scans hochladen. So hilfst du gleichzeitig mit, dass die Datenbank aktueller bleibt  fr dich selbst und fr die Community.`},sections:{intro:{title:"Was ist SFDataHub?",body1:"SFDataHub ist ein Community-Projekt rund um Shakes & Fidget.",body2:"Du kannst hier Spielerdaten aus Scans auswerten, Toplisten ansehen und detaillierte Spieler- und Gildenprofile ffnen. Ziel ist ein schneller berblick ber Fortschritt, Rankings und Entwicklungen  ohne offizielle Verbindung zu Playa Games."},actions:{title:"Was kann ich auf SFDataHub tun?",items:{toplists:"Toplisten ansehen: Vergleiche Spieler und Gilden nach Level oder anderen Werten.",profiles:"Profile ffnen: Schaue dir detaillierte Spieler- und Gildenprofile mit mehr Informationen an.",guides:"Guides lesen: Nutze Anleitungen und Tipps, um dein Spiel besser zu planen.",tools:"Tools & Rechner verwenden: Berechne z. B. Dungeon-XP oder andere Werte mit interaktiven Tools."}},freshness:{title:"Wie aktuell sind die Daten?",body1:"SFDataHub basiert auf Scans, die von der Community hochgeladen oder verbunden werden.",body2:"Neben vielen Werten findest du einen Hinweis auf den Zeitpunkt des letzten Scans (z. B. Last scan: 2025-12-01).",body3:"Toplisten und Profile werden regelmig aktualisiert. Wenn ein Eintrag lngere Zeit nicht gescannt wurde, knnen die angezeigten Werte vom aktuellen Stand im Spiel abweichen."},login:{title:"Login & Einstellungen",body1:"Du kannst dich mit deinem Discord-Account anmelden, um zustzliche Funktionen nutzen zu knnen.",body2:"Nach dem Login siehst du oben dein Profilmen mit Avatar und Namen.",body3:"In den Einstellungen kannst du grundlegende Optionen fr deinen SFDataHub-Account anpassen.",body4:"Einstellungen sind nur fr eingeloggte Nutzer relevant  ohne Account musst du hier nichts konfigurieren."},legal:{title:"Hilfe, Feedback & rechtliche Infos",body1:"Wenn dir Fehler auffallen, Daten komisch aussehen oder du Ideen fr neue Features hast, freuen wir uns ber Feedback.",body2:"Du findest unsere Kontaktmglichkeiten und weitere Infos auf der Kontakt- oder Impressumsseite.",body3:"Fr rechtliche Details nutze bitte die verlinkten Seiten:",items:{tos:"Terms of Service (ToS)",privacy:"Datenschutz",imprint:"Impressum / Kontakt"}}}},hI={about:{title:"ber SFDataHub",body:`SFDataHub ist ein nicht-kommerzielles Fan- und Community-Projekt rund um Shakes & Fidget. Es besteht keine offizielle Verbindung zu Playa Games GmbH oder den Betreibern von Shakes & Fidget.

Alle genannten Marken, Logos und Grafiken sind Eigentum der jeweiligen Rechteinhaber und werden ausschlielich zu identifizierenden Zwecken verwendet.`},shortDisclaimer:"SFDataHub ist ein inoffizielles, nicht-kommerzielles Fanprojekt. Alle Marken und Bilder gehren ihren jeweiligen Rechteinhabern.",copyright:" 2025 SFDataHub  Community-Projekt rund um Shakes & Fidget."},pI={nav:aI,account:oI,tools:lI,topbar:cI,profile:dI,help:uI,footer:hI},mI={en:{translation:iI},de:{translation:pI}};xn.use(q4).init({resources:mI,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});function ot(t,e="en"){return xn.t(t,{lng:e})}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e2="popstate";function fI(t={}){function e(i,a){let{pathname:l="/",search:d="",hash:u=""}=El(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),jy("",{pathname:l,search:d,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(i,a){let l=i.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let u=i.location.href,h=u.indexOf("#");d=h===-1?u:u.slice(0,h)}return d+"#"+(typeof a=="string"?a:Zu(a))}function r(i,a){yr(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return xI(e,s,r,t)}function us(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function yr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(s){}}}function gI(){return Math.random().toString(36).substring(2,10)}function t2(t,e){return{usr:t.state,key:t.key,idx:e}}function jy(t,e,s=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:s,key:e&&e.key||r||gI()}}function Zu({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function El(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function xI(t,e,s,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,d="POP",u=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){d="POP";let R=m(),F=R==null?null:R-h;h=R,u&&u({action:d,location:C.location,delta:F})}function v(R,F){d="PUSH";let D=jy(C.location,R,F);s&&s(D,R),h=m()+1;let A=t2(D,h),y=C.createHref(D);try{l.pushState(A,"",y)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(y)}a&&u&&u({action:d,location:C.location,delta:1})}function b(R,F){d="REPLACE";let D=jy(C.location,R,F);s&&s(D,R),h=m();let A=t2(D,h),y=C.createHref(D);l.replaceState(A,"",y),a&&u&&u({action:d,location:C.location,delta:0})}function S(R){return vI(R)}let C={get action(){return d},get location(){return t(i,l)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(e2,g),u=R,()=>{i.removeEventListener(e2,g),u=null}},createHref(R){return e(i,R)},createURL:S,encodeLocation(R){let F=S(R);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:v,replace:b,go(R){return l.go(R)}};return C}function vI(t,e=!1){let s="http://localhost";typeof window!="undefined"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),us(s,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Zu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function jk(t,e,s="/"){return yI(t,e,s,!1)}function yI(t,e,s,r){let i=typeof e=="string"?El(e):e,a=ga(i.pathname||"/",s);if(a==null)return null;let l=Sk(t);bI(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let h=II(a);d=EI(l[u],h,r)}return d}function Sk(t,e=[],s=[],r="",i=!1){let a=(l,d,u=i,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;us(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=pa([r,m.relativePath]),v=s.concat(m);l.children&&l.children.length>0&&(us(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Sk(l.children,e,v,g,u)),!(l.path==null&&!l.index)&&e.push({path:g,score:TI(g,l.index),routesMeta:v})};return t.forEach((l,d)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))a(l,d);else for(let h of Nk(l.path))a(l,d,!0,h)}),e}function Nk(t){let e=t.split("/");if(e.length===0)return[];let[s,...r]=e,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Nk(r.join("/")),d=[];return d.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&d.push(...l),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function bI(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:CI(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var _I=/^:[\w-]+$/,wI=3,jI=2,SI=1,NI=10,kI=-2,s2=t=>t==="*";function TI(t,e){let s=t.split("/"),r=s.length;return s.some(s2)&&(r+=kI),e&&(r+=jI),s.filter(i=>!s2(i)).reduce((i,a)=>i+(_I.test(a)?wI:a===""?SI:NI),r)}function CI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function EI(t,e,s=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let d=0;d<r.length;++d){let u=r[d],h=d===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=cf({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),v=u.route;if(!g&&h&&s&&!r[r.length-1].route.index&&(g=cf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:pa([a,g.pathname]),pathnameBase:DI(pa([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=pa([a,g.pathnameBase]))}return l}function cf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,r]=AI(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},v)=>{if(m==="*"){let S=d[v]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=d[v];return g&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function AI(t,e=!1,s=!0){yr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function II(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ga(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=t.charAt(s);return r&&r!=="/"?null:t.slice(s)||"/"}function RI(t,e="/"){let{pathname:s,search:r="",hash:i=""}=typeof t=="string"?El(t):t;return{pathname:s?s.startsWith("/")?s:PI(s,e):e,search:MI(r),hash:FI(i)}}function PI(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function uv(t,e,s,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LI(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function N0(t){let e=LI(t);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function k0(t,e,s,r=!1){let i;typeof t=="string"?i=El(t):(i={...t},us(!i.pathname||!i.pathname.includes("?"),uv("?","pathname","search",i)),us(!i.pathname||!i.pathname.includes("#"),uv("#","pathname","hash",i)),us(!i.search||!i.search.includes("#"),uv("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,d;if(l==null)d=s;else{let g=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}d=g>=0?e[g]:"/"}let u=RI(i,d),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&s.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}var pa=t=>t.join("/").replace(/\/\/+/g,"/"),DI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var kk=["POST","PUT","PATCH","DELETE"];new Set(kk);var $I=["GET",...kk];new Set($I);var hd=E.createContext(null);hd.displayName="DataRouter";var Hf=E.createContext(null);Hf.displayName="DataRouterState";E.createContext(!1);var Tk=E.createContext({isTransitioning:!1});Tk.displayName="ViewTransition";var OI=E.createContext(new Map);OI.displayName="Fetchers";var VI=E.createContext(null);VI.displayName="Await";var di=E.createContext(null);di.displayName="Navigation";var yh=E.createContext(null);yh.displayName="Location";var $r=E.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var T0=E.createContext(null);T0.displayName="RouteError";function UI(t,{relative:e}={}){us(pd(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=E.useContext(di),{hash:i,pathname:a,search:l}=bh(t,{relative:e}),d=a;return s!=="/"&&(d=a==="/"?s:pa([s,a])),r.createHref({pathname:d,search:l,hash:i})}function pd(){return E.useContext(yh)!=null}function rr(){return us(pd(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(yh).location}var Ck="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ek(t){E.useContext(di).static||E.useLayoutEffect(t)}function Or(){let{isDataRoute:t}=E.useContext($r);return t?nR():zI()}function zI(){us(pd(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(hd),{basename:e,navigator:s}=E.useContext(di),{matches:r}=E.useContext($r),{pathname:i}=rr(),a=JSON.stringify(N0(r)),l=E.useRef(!1);return Ek(()=>{l.current=!0}),E.useCallback((u,h={})=>{if(yr(l.current,Ck),!l.current)return;if(typeof u=="number"){s.go(u);return}let m=k0(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:pa([e,m.pathname])),(h.replace?s.replace:s.push)(m,h.state,h)},[e,s,a,i,t])}var HI=E.createContext(null);function GI(t){let e=E.useContext($r).outlet;return e&&E.createElement(HI.Provider,{value:t},e)}function Gf(){let{matches:t}=E.useContext($r),e=t[t.length-1];return e?e.params:{}}function bh(t,{relative:e}={}){let{matches:s}=E.useContext($r),{pathname:r}=rr(),i=JSON.stringify(N0(s));return E.useMemo(()=>k0(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function WI(t,e){return Ak(t,e)}function Ak(t,e,s,r,i){var D;us(pd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(di),{matches:l}=E.useContext($r),d=l[l.length-1],u=d?d.params:{},h=d?d.pathname:"/",m=d?d.pathnameBase:"/",g=d&&d.route;{let A=g&&g.path||"";Ik(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=rr(),b;if(e){let A=typeof e=="string"?El(e):e;us(m==="/"||((D=A.pathname)==null?void 0:D.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=v;let S=b.pathname||"/",C=S;if(m!=="/"){let A=m.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let R=jk(t,{pathname:C});yr(g||R!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),yr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=YI(R&&R.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:pa([m,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:pa([m,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,s,r,i);return e&&F?E.createElement(yh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},F):F}function qI(){let t=sR(),e=BI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),s?E.createElement("pre",{style:i},s):null,l)}var KI=E.createElement(qI,null),QI=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?E.createElement($r.Provider,{value:this.props.routeContext},E.createElement(T0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XI({routeContext:t,match:e,children:s}){let r=E.useContext(hd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement($r.Provider,{value:t},s)}function YI(t,e=[],s=null,r=null,i=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let a=t,l=s==null?void 0:s.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);us(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let d=!1,u=-1;if(s)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:g,errors:v}=s,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){d=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,m,g)=>{let v,b=!1,S=null,C=null;s&&(v=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||KI,d&&(u<0&&g===0?(Ik("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,C=null):u===g&&(b=!0,C=m.route.hydrateFallbackElement||null)));let R=e.concat(a.slice(0,g+1)),F=()=>{let D;return v?D=S:b?D=C:m.route.Component?D=E.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=h,E.createElement(XI,{match:m,routeContext:{outlet:h,matches:R,isDataRoute:s!=null},children:D})};return s&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?E.createElement(QI,{location:s.location,revalidation:s.revalidation,component:S,error:v,children:F(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):F()},null)}function C0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JI(t){let e=E.useContext(hd);return us(e,C0(t)),e}function ZI(t){let e=E.useContext(Hf);return us(e,C0(t)),e}function eR(t){let e=E.useContext($r);return us(e,C0(t)),e}function E0(t){let e=eR(t),s=e.matches[e.matches.length-1];return us(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function tR(){return E0("useRouteId")}function sR(){var r;let t=E.useContext(T0),e=ZI("useRouteError"),s=E0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[s]}function nR(){let{router:t}=JI("useNavigate"),e=E0("useNavigate"),s=E.useRef(!1);return Ek(()=>{s.current=!0}),E.useCallback(async(i,a={})=>{yr(s.current,Ck),s.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var n2={};function Ik(t,e,s){!e&&!n2[t]&&(n2[t]=!0,yr(!1,s))}E.memo(rR);function rR({routes:t,future:e,state:s,unstable_onError:r}){return Ak(t,void 0,s,r,e)}function Ac({to:t,replace:e,state:s,relative:r}){us(pd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(di);yr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext($r),{pathname:l}=rr(),d=Or(),u=k0(t,N0(a),l,r==="path"),h=JSON.stringify(u);return E.useEffect(()=>{d(JSON.parse(h),{replace:e,state:s,relative:r})},[d,h,r,e,s]),null}function Rk(t){return GI(t.context)}function pe(t){us(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iR({basename:t="/",children:e=null,location:s,navigationType:r="POP",navigator:i,static:a=!1}){us(!pd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof s=="string"&&(s=El(s));let{pathname:u="/",search:h="",hash:m="",state:g=null,key:v="default"}=s,b=E.useMemo(()=>{let S=ga(u,l);return S==null?null:{location:{pathname:S,search:h,hash:m,state:g,key:v},navigationType:r}},[l,u,h,m,g,v,r]);return yr(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(di.Provider,{value:d},E.createElement(yh.Provider,{children:e,value:b}))}function aR({children:t,location:e}){return WI(Sy(t),e)}function Sy(t,e=[]){let s=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let a=[...e,i];if(r.type===E.Fragment){s.push.apply(s,Sy(r.props.children,a));return}us(r.type===pe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),us(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Sy(r.props.children,a)),s.push(l)}),s}var Fm="get",Bm="application/x-www-form-urlencoded";function Wf(t){return t!=null&&typeof t.tagName=="string"}function oR(t){return Wf(t)&&t.tagName.toLowerCase()==="button"}function lR(t){return Wf(t)&&t.tagName.toLowerCase()==="form"}function cR(t){return Wf(t)&&t.tagName.toLowerCase()==="input"}function dR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uR(t,e){return t.button===0&&(!e||e==="_self")&&!dR(t)}function Ny(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,s)=>{let r=t[s];return e.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function hR(t,e){let s=Ny(t);return e&&e.forEach((r,i)=>{s.has(i)||e.getAll(i).forEach(a=>{s.append(i,a)})}),s}var om=null;function pR(){if(om===null)try{new FormData(document.createElement("form"),0),om=!1}catch(t){om=!0}return om}var mR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hv(t){return t!=null&&!mR.has(t)?(yr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bm}"`),null):t}function fR(t,e){let s,r,i,a,l;if(lR(t)){let d=t.getAttribute("action");r=d?ga(d,e):null,s=t.getAttribute("method")||Fm,i=hv(t.getAttribute("enctype"))||Bm,a=new FormData(t)}else if(oR(t)||cR(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(r=u?ga(u,e):null,s=t.getAttribute("formmethod")||d.getAttribute("method")||Fm,i=hv(t.getAttribute("formenctype"))||hv(d.getAttribute("enctype"))||Bm,a=new FormData(d,t),!pR()){let{name:h,type:m,value:g}=t;if(m==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,g)}}else{if(Wf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Fm,r=null,i=Bm,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function A0(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function gR(t,e,s){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${s}`:e&&ga(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function xR(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function yR(t,e,s){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await xR(a,s);return l.links?l.links():[]}return[]}));return jR(r.flat(1).filter(vR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function r2(t,e,s,r,i,a){let l=(u,h)=>s[h]?u.route.id!==s[h].route.id:!0,d=(u,h)=>{var m;return s[h].pathname!==u.pathname||((m=s[h].route.path)==null?void 0:m.endsWith("*"))&&s[h].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,h)=>l(u,h)||d(u,h)):a==="data"?e.filter((u,h)=>{var g;let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,h)||d(u,h))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=s[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function bR(t,e,{includeHydrateFallback:s}={}){return _R(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function _R(t){return[...new Set(t)]}function wR(t){let e={},s=Object.keys(t).sort();for(let r of s)e[r]=t[r];return e}function jR(t,e){let s=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(wR(i));return s.has(a)||(s.add(a),r.push({key:a,link:i})),r},[])}function Pk(){let t=E.useContext(hd);return A0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function SR(){let t=E.useContext(Hf);return A0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var I0=E.createContext(void 0);I0.displayName="FrameworkContext";function Lk(){let t=E.useContext(I0);return A0(t,"You must render this element inside a <HydratedRouter> element"),t}function NR(t,e){let s=E.useContext(I0),[r,i]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,v=E.useRef(null);E.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let C=F=>{F.forEach(D=>{l(D.isIntersecting)})},R=new IntersectionObserver(C,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),E.useEffect(()=>{if(r){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[r]);let b=()=>{i(!0)},S=()=>{i(!1),l(!1)};return s?t!=="intent"?[a,v,{}]:[a,v,{onFocus:uu(d,b),onBlur:uu(u,S),onMouseEnter:uu(h,b),onMouseLeave:uu(m,S),onTouchStart:uu(g,b)}]:[!1,v,{}]}function uu(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function kR({page:t,...e}){let{router:s}=Pk(),r=E.useMemo(()=>jk(s.routes,t,s.basename),[s.routes,t,s.basename]);return r?E.createElement(CR,{page:t,matches:r,...e}):null}function TR(t){let{manifest:e,routeModules:s}=Lk(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return yR(t,e,s).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,s]),r}function CR({page:t,matches:e,...s}){let r=rr(),{manifest:i,routeModules:a}=Lk(),{basename:l}=Pk(),{loaderData:d,matches:u}=SR(),h=E.useMemo(()=>r2(t,e,u,i,r,"data"),[t,e,u,i,r]),m=E.useMemo(()=>r2(t,e,u,i,r,"assets"),[t,e,u,i,r]),g=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,C=!1;if(e.forEach(F=>{var A;let D=i.routes[F.route.id];!D||!D.hasLoader||(!h.some(y=>y.route.id===F.route.id)&&F.route.id in d&&((A=a[F.route.id])!=null&&A.shouldRevalidate)||D.hasClientLoader?C=!0:S.add(F.route.id))}),S.size===0)return[];let R=gR(t,l,"data");return C&&S.size>0&&R.searchParams.set("_routes",e.filter(F=>S.has(F.route.id)).map(F=>F.route.id).join(",")),[R.pathname+R.search]},[l,d,r,i,h,e,t,a]),v=E.useMemo(()=>bR(m,i),[m,i]),b=TR(m);return E.createElement(E.Fragment,null,g.map(S=>E.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...s})),v.map(S=>E.createElement("link",{key:S,rel:"modulepreload",href:S,...s})),b.map(({key:S,link:C})=>E.createElement("link",{key:S,nonce:s.nonce,...C})))}function ER(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var Dk=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{Dk&&(window.__reactRouterVersion="7.9.1")}catch(t){}function AR({basename:t,children:e,window:s}){let r=E.useRef();r.current==null&&(r.current=fI({window:s,v5Compat:!0}));let i=r.current,[a,l]=E.useState({action:i.action,location:i.location}),d=E.useCallback(u=>{E.startTransition(()=>l(u))},[l]);return E.useLayoutEffect(()=>i.listen(d),[i,d]),E.createElement(iR,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var Mk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=E.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:d,target:u,to:h,preventScrollReset:m,viewTransition:g,...v},b){let{basename:S}=E.useContext(di),C=typeof h=="string"&&Mk.test(h),R,F=!1;if(typeof h=="string"&&C&&(R=h,Dk))try{let I=new URL(window.location.href),M=h.startsWith("//")?new URL(I.protocol+h):new URL(h),P=ga(M.pathname,S);M.origin===I.origin&&P!=null?h=P+M.search+M.hash:F=!0}catch(I){yr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=UI(h,{relative:i}),[A,y,w]=NR(r,v),L=PR(h,{replace:l,state:d,target:u,preventScrollReset:m,relative:i,viewTransition:g});function N(I){e&&e(I),I.defaultPrevented||L(I)}let j=E.createElement("a",{...v,...w,href:R||D,onClick:F||a?e:N,ref:ER(b,y),target:u,"data-discover":!C&&s==="render"?"true":void 0});return A&&!C?E.createElement(E.Fragment,null,j,E.createElement(kR,{page:D})):j});Wt.displayName="Link";var cs=E.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:d,children:u,...h},m){let g=bh(l,{relative:h.relative}),v=rr(),b=E.useContext(Hf),{navigator:S,basename:C}=E.useContext(di),R=b!=null&&BR(g)&&d===!0,F=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,D=v.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(D=D.toLowerCase(),A=A?A.toLowerCase():null,F=F.toLowerCase()),A&&C&&(A=ga(A,C)||A);const y=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let w=D===F||!i&&D.startsWith(F)&&D.charAt(y)==="/",L=A!=null&&(A===F||!i&&A.startsWith(F)&&A.charAt(F.length)==="/"),N={isActive:w,isPending:L,isTransitioning:R},j=w?e:void 0,I;typeof r=="function"?I=r(N):I=[r,w?"active":null,L?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(N):a;return E.createElement(Wt,{...h,"aria-current":j,className:I,ref:m,style:M,to:l,viewTransition:d},typeof u=="function"?u(N):u)});cs.displayName="NavLink";var IR=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:i,state:a,method:l=Fm,action:d,onSubmit:u,relative:h,preventScrollReset:m,viewTransition:g,...v},b)=>{let S=MR(),C=FR(d,{relative:h}),R=l.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&Mk.test(d),D=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let y=A.nativeEvent.submitter,w=(y==null?void 0:y.getAttribute("formmethod"))||l;S(y||A.currentTarget,{fetcherKey:e,method:w,navigate:s,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:g})};return E.createElement("form",{ref:b,method:R,action:C,onSubmit:r?u:D,...v,"data-discover":!F&&t==="render"?"true":void 0})});IR.displayName="Form";function RR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fk(t){let e=E.useContext(hd);return us(e,RR(t)),e}function PR(t,{target:e,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let d=Or(),u=rr(),h=bh(t,{relative:a});return E.useCallback(m=>{if(uR(m,e)){m.preventDefault();let g=s!==void 0?s:Zu(u)===Zu(h);d(t,{replace:g,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,d,h,s,r,e,t,i,a,l])}function Al(t){yr(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=E.useRef(Ny(t)),s=E.useRef(!1),r=rr(),i=E.useMemo(()=>hR(r.search,s.current?null:e.current),[r.search]),a=Or(),l=E.useCallback((d,u)=>{const h=Ny(typeof d=="function"?d(new URLSearchParams(i)):d);s.current=!0,a("?"+h,u)},[a,i]);return[i,l]}var LR=0,DR=()=>`__${String(++LR)}__`;function MR(){let{router:t}=Fk("useSubmit"),{basename:e}=E.useContext(di),s=tR();return E.useCallback(async(r,i={})=>{let{action:a,method:l,encType:d,formData:u,body:h}=fR(r,e);if(i.navigate===!1){let m=i.fetcherKey||DR();await t.fetch(m,s,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,s])}function FR(t,{relative:e}={}){let{basename:s}=E.useContext(di),r=E.useContext($r);us(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...bh(t||".",{relative:e})},l=rr();if(t==null){a.search=l.search;let d=new URLSearchParams(a.search),u=d.getAll("index");if(u.some(m=>m==="")){d.delete("index"),u.filter(g=>g).forEach(g=>d.append("index",g));let m=d.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(a.pathname=a.pathname==="/"?s:pa([s,a.pathname])),Zu(a)}function BR(t,{relative:e}={}){let s=E.useContext(Tk);us(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Fk("useViewTransitionState"),i=bh(t,{relative:e});if(!s.isTransitioning)return!1;let a=ga(s.currentLocation.pathname,r)||s.currentLocation.pathname,l=ga(s.nextLocation.pathname,r)||s.nextLocation.pathname;return cf(i.pathname,l)!=null||cf(i.pathname,a)!=null}var $R=gk();const OR=j0($R);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,r)=>r?r.toUpperCase():s.toLowerCase()),i2=t=>{const e=UR(t);return e.charAt(0).toUpperCase()+e.slice(1)},Bk=(...t)=>t.filter((e,s,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===s).join(" ").trim(),zR=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...d},u)=>E.createElement("svg",{ref:u,...HR,width:e,height:e,stroke:t,strokeWidth:r?Number(s)*24/Number(e):s,className:Bk("lucide",i),...!a&&!zR(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,m])=>E.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(t,e)=>{const s=E.forwardRef(({className:r,...i},a)=>E.createElement(GR,{ref:a,iconNode:e,className:Bk(`lucide-${VR(i2(t))}`,`lucide-${t}`,r),...i}));return s.displayName=i2(t),s};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],qf=at("aperture",WR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],KR=at("arrow-up-right",qR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XR=at("ban",QR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],JR=at("bell",YR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],eP=at("book-open",ZR);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sP=at("chart-column",tP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rP=at("chevron-right",nP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Lu=at("circle-alert",iP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oP=at("circle-check",aP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],$m=at("circle-dot",lP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dP=at("circle-user-round",cP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hP=at("clock-3",uP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],mP=at("cloud-upload",pP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gP=at("compass",fP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],vP=at("database",xP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],$k=at("diamond",yP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_P=at("file-text",bP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],jP=at("folder-search",wP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],NP=at("globe",SP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Ok=at("hexagon",kP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],CP=at("house",TP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],AP=at("layers",EP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],RP=at("layout-dashboard",IP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ho=at("loader-circle",PP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],DP=at("messages-square",LP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],FP=at("pencil",MP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],$P=at("pin-off",BP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],VP=at("pin",OP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Kf=at("refresh-ccw",UP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],HP=at("scroll-text",zP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ky=at("search",GP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],qP=at("server-cog",WP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QP=at("settings",KP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],Vk=at("shapes",XP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Uk=at("shield-alert",YP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ZP=at("shield-check",JP);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],t6=at("shield-off",e6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Il=at("shield",s6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],r6=at("square-activity",n6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],a6=at("star",i6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],l6=at("sticky-note",o6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],R0=at("triangle-alert",c6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],u6=at("trophy",d6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],p6=at("upload",h6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qf=at("users",m6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],g6=at("wrench",f6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zk=at("zap",x6),v6="_topbar_1lc6k_3",y6="_topbarLeft_1lc6k_39",b6="_searchWrap_1lc6k_55",_6="_topbarRight_1lc6k_109",w6="_ico_1lc6k_125",j6="_btnIco_1lc6k_139",S6="_pill_1lc6k_173",N6="_pillActive_1lc6k_195",k6="_onlyExpanded_1lc6k_203",T6="_topbarNav_1lc6k_205",C6="_topbarLink_1lc6k_215",E6="_upload_1lc6k_225",A6="_label_1lc6k_255",I6="_avatarBtn_1lc6k_261",R6="_avatar_1lc6k_261",P6="_avatarSpinnerShell_1lc6k_289",L6="_avatarSpinner_1lc6k_289",D6="_srOnly_1lc6k_325",M6="_accountRoot_1lc6k_351",F6="_accountDropdown_1lc6k_359",B6="_accountHeader_1lc6k_389",$6="_accountName_1lc6k_401",O6="_accountSub_1lc6k_413",V6="_accountStatusText_1lc6k_423",U6="_accountPrimary_1lc6k_433",z6="_accountHint_1lc6k_455",H6="_accountItem_1lc6k_465",G6="_accountDivider_1lc6k_495",W6="_accountMiniAvatar_1lc6k_507",q6="_accountLogout_1lc6k_519",_t={topbar:v6,topbarLeft:y6,searchWrap:b6,topbarRight:_6,ico:w6,btnIco:j6,pill:S6,pillActive:N6,onlyExpanded:k6,topbarNav:T6,topbarLink:C6,upload:E6,label:A6,avatarBtn:I6,avatar:R6,avatarSpinnerShell:P6,avatarSpinner:L6,srOnly:D6,accountRoot:M6,accountDropdown:F6,accountHeader:B6,accountName:$6,accountSub:O6,accountStatusText:V6,accountPrimary:U6,accountHint:z6,accountItem:H6,accountDivider:G6,accountMiniAvatar:W6,accountLogout:q6},jo="https://auth.sfdatahub.com",K6=`${jo}/auth/firebase-token`;async function Q6(){var r,i;const t=await fetch(K6,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Failed to fetch firebase token: ${t.status}`);const e=await t.json(),s=(i=e==null?void 0:e.firebaseToken)!=null?i:(r=e==null?void 0:e.tokens)==null?void 0:r.firebase;if(!s)throw new Error("Firebase token missing in response");return s}var a2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=function(t){const e=[];let s=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[s++]=i:i<2048?(e[s++]=i>>6|192,e[s++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[s++]=i>>18|240,e[s++]=i>>12&63|128,e[s++]=i>>6&63|128,e[s++]=i&63|128):(e[s++]=i>>12|224,e[s++]=i>>6&63|128,e[s++]=i&63|128)}return e},X6=function(t){const e=[];let s=0,r=0;for(;s<t.length;){const i=t[s++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[s++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[s++],l=t[s++],d=t[s++],u=((i&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[s++],l=t[s++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Gk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,d=l?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,m=a>>2,g=(a&3)<<4|d>>4;let v=(d&15)<<2|h>>6,b=h&63;u||(b=64,l||(v=64)),r.push(s[m],s[g],s[v],s[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):X6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=s[t.charAt(i++)],d=i<t.length?s[t.charAt(i)]:0;++i;const h=i<t.length?s[t.charAt(i)]:64;++i;const g=i<t.length?s[t.charAt(i)]:64;if(++i,a==null||d==null||h==null||g==null)throw new Y6;const v=a<<2|d>>4;if(r.push(v),h!==64){const b=d<<4&240|h>>2;if(r.push(b),g!==64){const S=h<<6&192|g;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Y6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J6=function(t){const e=Hk(t);return Gk.encodeByteArray(e,!0)},df=function(t){return J6(t).replace(/\./g,"")},Wk=function(t){try{return Gk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=()=>Z6().__FIREBASE_DEFAULTS__,tL=()=>{if(typeof process=="undefined"||typeof a2=="undefined")return;const t=a2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sL=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(s){return}const e=t&&Wk(t[1]);return e&&JSON.parse(e)},Xf=()=>{try{return eL()||tL()||sL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qk=t=>{var e,s;return(s=(e=Xf())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[t]},nL=t=>{const e=qk(t);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},Kk=()=>{var t;return(t=Xf())===null||t===void 0?void 0:t.config},Qk=t=>{var e;return(e=Xf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[df(JSON.stringify(s)),df(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aL(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function oL(){var t;const e=(t=Xf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(s){return!1}}function lL(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function cL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uL(){const t=Cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hL(){return!oL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pL(){try{return typeof indexedDB=="object"}catch(t){return!1}}function mL(){return new Promise((t,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="FirebaseError";class Na extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=fL,Object.setPrototypeOf(this,Na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_h.prototype.create)}}class _h{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?gL(a,r):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new Na(i,d,r)}}function gL(t,e){return t.replace(xL,(s,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const xL=/\{\$([^}]+)}/g;function vL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uf(t,e){if(t===e)return!0;const s=Object.keys(t),r=Object.keys(e);for(const i of s){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(o2(a)&&o2(l)){if(!uf(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function o2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){const e=[];for(const[s,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yL(t,e){const s=new bL(t,e);return s.subscribe.bind(s)}class bL{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let i;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");_L(e,["next","error","complete"])?i=e:i={next:e,error:s,complete:r},i.next===void 0&&(i.next=pv),i.error===void 0&&(i.error=pv),i.complete===void 0&&(i.complete=pv);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(l){}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _L(t,e){if(typeof t!="object"||t===null)return!1;for(const s of e)if(s in t&&typeof t[s]=="function")return!0;return!1}function pv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t){return t&&t._delegate?t._delegate:t}class bl{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new rL;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SL(e))try{this.getOrInitializeService({instanceIdentifier:ol})}catch(s){}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch(a){}}}}clearInstance(e=ol){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ol){return this.instances.has(e)}getOptions(e=ol){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(i)}return i}onInit(e,s){var r;const i=this.normalizeInstanceIdentifier(s),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(e,s)}catch(a){}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jL(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=ol){return this.component?this.component.multipleInstances?e:ol:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jL(t){return t===ol?void 0:t}function SL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new wL(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));const kL={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},TL=Lt.INFO,CL={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},EL=(t,e,...s)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CL[e];if(i)console[i](`[${r}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P0{constructor(e){this.name=e,this._logLevel=TL,this._logHandler=EL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const AL=(t,e)=>e.some(s=>t instanceof s);let l2,c2;function IL(){return l2||(l2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RL(){return c2||(c2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xk=new WeakMap,Ty=new WeakMap,Yk=new WeakMap,mv=new WeakMap,L0=new WeakMap;function PL(t){const e=new Promise((s,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{s(po(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(s=>{s instanceof IDBCursor&&Xk.set(s,t)}).catch(()=>{}),L0.set(e,t),e}function LL(t){if(Ty.has(t))return;const e=new Promise((s,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{s(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Ty.set(t,e)}let Cy={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return Ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yk.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return po(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DL(t){Cy=t(Cy)}function ML(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=t.call(fv(this),e,...s);return Yk.set(r,e.sort?e.sort():[e]),po(r)}:RL().includes(t)?function(...e){return t.apply(fv(this),e),po(Xk.get(this))}:function(...e){return po(t.apply(fv(this),e))}}function FL(t){return typeof t=="function"?ML(t):(t instanceof IDBTransaction&&LL(t),AL(t,IL())?new Proxy(t,Cy):t)}function po(t){if(t instanceof IDBRequest)return PL(t);if(mv.has(t))return mv.get(t);const e=FL(t);return e!==t&&(mv.set(t,e),L0.set(e,t)),e}const fv=t=>L0.get(t);function BL(t,e,{blocked:s,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),d=po(l);return r&&l.addEventListener("upgradeneeded",u=>{r(po(l.result),u.oldVersion,u.newVersion,po(l.transaction),u)}),s&&l.addEventListener("blocked",u=>s(u.oldVersion,u.newVersion,u)),d.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const $L=["get","getKey","getAll","getAllKeys","count"],OL=["put","add","delete","clear"],gv=new Map;function d2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gv.get(e))return gv.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,i=OL.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$L.includes(s)))return;const a=async function(l,...d){const u=this.transaction(l,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[s](...d),i&&u.done]))[0]};return gv.set(e,a),a}DL(t=>({...t,get:(e,s,r)=>d2(e,s)||t.get(e,s,r),has:(e,s)=>!!d2(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(UL(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function UL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ey="@firebase/app",u2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new P0("@firebase/app"),zL="@firebase/app-compat",HL="@firebase/analytics-compat",GL="@firebase/analytics",WL="@firebase/app-check-compat",qL="@firebase/app-check",KL="@firebase/auth",QL="@firebase/auth-compat",XL="@firebase/database",YL="@firebase/data-connect",JL="@firebase/database-compat",ZL="@firebase/functions",eD="@firebase/functions-compat",tD="@firebase/installations",sD="@firebase/installations-compat",nD="@firebase/messaging",rD="@firebase/messaging-compat",iD="@firebase/performance",aD="@firebase/performance-compat",oD="@firebase/remote-config",lD="@firebase/remote-config-compat",cD="@firebase/storage",dD="@firebase/storage-compat",uD="@firebase/firestore",hD="@firebase/vertexai-preview",pD="@firebase/firestore-compat",mD="firebase",fD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="[DEFAULT]",gD={[Ey]:"fire-core",[zL]:"fire-core-compat",[GL]:"fire-analytics",[HL]:"fire-analytics-compat",[qL]:"fire-app-check",[WL]:"fire-app-check-compat",[KL]:"fire-auth",[QL]:"fire-auth-compat",[XL]:"fire-rtdb",[YL]:"fire-data-connect",[JL]:"fire-rtdb-compat",[ZL]:"fire-fn",[eD]:"fire-fn-compat",[tD]:"fire-iid",[sD]:"fire-iid-compat",[nD]:"fire-fcm",[rD]:"fire-fcm-compat",[iD]:"fire-perf",[aD]:"fire-perf-compat",[oD]:"fire-rc",[lD]:"fire-rc-compat",[cD]:"fire-gcs",[dD]:"fire-gcs-compat",[uD]:"fire-fst",[pD]:"fire-fst-compat",[hD]:"fire-vertex","fire-js":"fire-js",[mD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map,xD=new Map,Iy=new Map;function h2(t,e){try{t.container.addComponent(e)}catch(s){xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function Qc(t){const e=t.name;if(Iy.has(e))return xa.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(const s of eh.values())h2(s,t);for(const s of xD.values())h2(s,t);return!0}function D0(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}function la(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mo=new _h("app","Firebase",vD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,s,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=fD;function Jk(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ay,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw mo.create("bad-app-name",{appName:String(i)});if(s||(s=Kk()),!s)throw mo.create("no-options");const a=eh.get(i);if(a){if(uf(s,a.options)&&uf(r,a.config))return a;throw mo.create("duplicate-app",{appName:i})}const l=new NL(i);for(const u of Iy.values())l.addComponent(u);const d=new yD(s,r,l);return eh.set(i,d),d}function M0(t=Ay){const e=eh.get(t);if(!e&&t===Ay&&Kk())return Jk();if(!e)throw mo.create("no-app",{appName:t});return e}function bD(){return Array.from(eh.values())}function fo(t,e,s){var r;let i=(r=gD[t])!==null&&r!==void 0?r:t;s&&(i+=`-${s}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${i}" with version "${e}":`];a&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xa.warn(d.join(" "));return}Qc(new bl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="firebase-heartbeat-database",wD=1,th="firebase-heartbeat-store";let xv=null;function Zk(){return xv||(xv=BL(_D,wD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(th)}catch(s){console.warn(s)}}}}).catch(t=>{throw mo.create("idb-open",{originalErrorMessage:t.message})})),xv}async function jD(t){try{const s=(await Zk()).transaction(th),r=await s.objectStore(th).get(eT(t));return await s.done,r}catch(e){if(e instanceof Na)xa.warn(e.message);else{const s=mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xa.warn(s.message)}}}async function p2(t,e){try{const r=(await Zk()).transaction(th,"readwrite");await r.objectStore(th).put(e,eT(t)),await r.done}catch(s){if(s instanceof Na)xa.warn(s.message);else{const r=mo.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});xa.warn(r.message)}}}function eT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1024,ND=720*60*60*1e3;class kD{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new CD(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=m2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const d=new Date(l.date).valueOf();return Date.now()-d<=ND}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=m2(),{heartbeatsToSend:r,unsentEntries:i}=TD(this._heartbeatsCache.heartbeats),a=df(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(s){return xa.warn(s),""}}}function m2(){return new Date().toISOString().substring(0,10)}function TD(t,e=SD){const s=[];let r=t.slice();for(const i of t){const a=s.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),f2(s)>e){a.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),f2(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class CD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pL()?mL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await jD(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return p2(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return p2(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function f2(t){return df(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){Qc(new bl("platform-logger",e=>new VL(e),"PRIVATE")),Qc(new bl("heartbeat",e=>new kD(e),"PRIVATE")),fo(Ey,u2,t),fo(Ey,u2,"esm2017"),fo("fire-js","")}ED("");var AD="firebase",ID="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo(AD,ID,"app");function F0(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s}function tT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RD=tT,sT=new _h("auth","Firebase",tT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new P0("@firebase/auth");function PD(t,...e){hf.logLevel<=Lt.WARN&&hf.warn(`Auth (${md}): ${t}`,...e)}function Om(t,...e){hf.logLevel<=Lt.ERROR&&hf.error(`Auth (${md}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,...e){throw B0(t,...e)}function Ti(t,...e){return B0(t,...e)}function nT(t,e,s){const r=Object.assign(Object.assign({},RD()),{[e]:s});return new _h("auth","Firebase",r).create(e,{appName:t.name})}function go(t){return nT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B0(t,...e){if(typeof t!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(s,...r)}return sT.create(t,...e)}function ct(t,e,...s){if(!t)throw B0(e,...s)}function ca(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Om(e),new Error(e)}function ya(t,e){t||ca(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LD(){return g2()==="http:"||g2()==="https:"}function g2(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LD()||cL()||"connection"in navigator)?navigator.onLine:!0}function MD(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,s){this.shortDelay=e,this.longDelay=s,ya(s>e,"Short delay should be less than long delay!"),this.isMobile=aL()||dL()}get(){return DD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t,e){ya(t.emulator,"Emulator should always be set here");const{url:s}=t.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new jh(3e4,6e4);function Yf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fd(t,e,s,r,i={}){return iT(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=wh(Object.assign({key:t.config.apiKey},l)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},a);return lL()||(h.referrerPolicy="no-referrer"),rT.fetch()(oT(t,t.config.apiHost,s,d),h)})}async function iT(t,e,s){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},FD),e);try{const i=new $D(t),a=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw lm(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[u,h]=d.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lm(t,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw lm(t,"email-already-in-use",l);if(u==="USER_DISABLED")throw lm(t,"user-disabled",l);const m=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw nT(t,m,h);va(t,m)}}catch(i){if(i instanceof Na)throw i;va(t,"network-request-failed",{message:String(i)})}}async function aT(t,e,s,r,i={}){const a=await fd(t,e,s,r,i);return"mfaPendingCredential"in a&&va(t,"multi-factor-auth-required",{_serverResponse:a}),a}function oT(t,e,s,r){const i=`${e}${s}?${r}`;return t.config.emulator?$0(t.config,i):`${t.config.apiScheme}://${i}`}class $D{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(Ti(this.auth,"network-request-failed")),BD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function lm(t,e,s){const r={appName:t.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const i=Ti(t,e,r);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e){return fd(t,"POST","/v1/accounts:delete",e)}async function lT(t,e){return fd(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function VD(t,e=!1){const s=Gs(t),r=await s.getIdToken(e),i=O0(r);ct(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Du(vv(i.auth_time)),issuedAtTime:Du(vv(i.iat)),expirationTime:Du(vv(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vv(t){return Number(t)*1e3}function O0(t){const[e,s,r]=t.split(".");if(e===void 0||s===void 0||r===void 0)return Om("JWT malformed, contained fewer than 3 sections"),null;try{const i=Wk(s);return i?JSON.parse(i):(Om("Failed to decode base64 JWT payload"),null)}catch(i){return Om("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function x2(t){const e=O0(t);return ct(e,"internal-error"),ct(typeof e.exp!="undefined","internal-error"),ct(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof Na&&UD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(t){var e;const s=t.auth,r=await t.getIdToken(),i=await sh(t,lT(s,{idToken:r}));ct(i==null?void 0:i.users.length,s,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?cT(a.providerUserInfo):[],d=GD(t.providerData,l),u=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),m=u?h:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Py(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function HD(t){const e=Gs(t);await pf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cT(t){return t.map(e=>{var{providerId:s}=e,r=F0(e,["providerId"]);return{providerId:s,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e){const s=await iT(t,{},async()=>{const r=wh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=oT(t,i,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",rT.fetch()(l,{method:"POST",headers:d,body:r})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function qD(t,e){return fd(t,"POST","/v2/accounts:revokeToken",Yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ct(e.idToken,"internal-error"),ct(typeof e.idToken!="undefined","internal-error"),ct(typeof e.refreshToken!="undefined","internal-error");const s="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):x2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){ct(e.length!==0,"internal-error");const s=x2(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:i,expiresIn:a}=await WD(e,s);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:i,expirationTime:a}=s,l=new Uc;return r&&(ct(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(ct(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(ct(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uc,this.toJSON())}_performRefresh(){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t,e){ct(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class da{constructor(e){var{uid:s,auth:r,stsTokenManager:i}=e,a=F0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Py(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const s=await sh(this,this.stsTokenManager.getToken(this.auth,e));return ct(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return VD(this,e)}reload(){return HD(this)}_assign(e){this!==e&&(ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new da(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await pf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(la(this.auth.app))return Promise.reject(go(this.auth));const e=await this.getIdToken();return await sh(this,OD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var r,i,a,l,d,u,h,m;const g=(r=s.displayName)!==null&&r!==void 0?r:void 0,v=(i=s.email)!==null&&i!==void 0?i:void 0,b=(a=s.phoneNumber)!==null&&a!==void 0?a:void 0,S=(l=s.photoURL)!==null&&l!==void 0?l:void 0,C=(d=s.tenantId)!==null&&d!==void 0?d:void 0,R=(u=s._redirectEventId)!==null&&u!==void 0?u:void 0,F=(h=s.createdAt)!==null&&h!==void 0?h:void 0,D=(m=s.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:A,emailVerified:y,isAnonymous:w,providerData:L,stsTokenManager:N}=s;ct(A&&N,e,"internal-error");const j=Uc.fromJSON(this.name,N);ct(typeof A=="string",e,"internal-error"),Xa(g,e.name),Xa(v,e.name),ct(typeof y=="boolean",e,"internal-error"),ct(typeof w=="boolean",e,"internal-error"),Xa(b,e.name),Xa(S,e.name),Xa(C,e.name),Xa(R,e.name),Xa(F,e.name),Xa(D,e.name);const I=new da({uid:A,auth:e,email:v,emailVerified:y,displayName:g,isAnonymous:w,photoURL:S,phoneNumber:b,tenantId:C,stsTokenManager:j,createdAt:F,lastLoginAt:D});return L&&Array.isArray(L)&&(I.providerData=L.map(M=>Object.assign({},M))),R&&(I._redirectEventId=R),I}static async _fromIdTokenResponse(e,s,r=!1){const i=new Uc;i.updateFromServerResponse(s);const a=new da({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pf(a),a}static async _fromGetAccountInfoResponse(e,s,r){const i=s.users[0];ct(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?cT(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),d=new Uc;d.updateFromIdToken(r);const u=new da({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Py(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=new Map;function ua(t){ya(t instanceof Function,"Expected a class definition");let e=v2.get(t);return e?(ya(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}dT.type="NONE";const y2=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t,e,s){return`firebase:${t}:${e}:${s}`}class zc{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Vm(this.userKey,i.apiKey,a),this.fullPersistenceKey=Vm("persistence",i.apiKey,a),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?da._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new zc(ua(y2),e,r);const i=(await Promise.all(s.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||ua(y2);const l=Vm(r,e.config.apiKey,e.name);let d=null;for(const h of s)try{const m=await h._get(l);if(m){const g=da._fromJSON(e,m);h!==a&&(d=g),a=h;break}}catch(m){}const u=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new zc(a,e,r):(a=u[0],d&&await a._set(l,d.toJSON()),await Promise.all(s.map(async h=>{if(h!==a)try{await h._remove(l)}catch(m){}})),new zc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(xT(e))return"Webos";if(hT(e))return"Safari";if((e.includes("chrome/")||pT(e))&&!e.includes("edge/"))return"Chrome";if(fT(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uT(t=Cn()){return/firefox\//i.test(t)}function hT(t=Cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pT(t=Cn()){return/crios\//i.test(t)}function mT(t=Cn()){return/iemobile/i.test(t)}function fT(t=Cn()){return/android/i.test(t)}function gT(t=Cn()){return/blackberry/i.test(t)}function xT(t=Cn()){return/webos/i.test(t)}function V0(t=Cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KD(t=Cn()){var e;return V0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QD(){return uL()&&document.documentMode===10}function vT(t=Cn()){return V0(t)||fT(t)||xT(t)||gT(t)||/windows phone/i.test(t)||mT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t,e=[]){let s;switch(t){case"Browser":s=b2(Cn());break;case"Worker":s=`${b2(Cn())}-${t}`;break;default:s=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${md}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=a=>new Promise((l,d)=>{try{const u=e(a);l(u)}catch(u){d(u)}});r.onAbort=s,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch(a){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e={}){return fd(t,"GET","/v2/passwordPolicy",Yf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=6;class ZD{constructor(e){var s,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=l.minPasswordLength)!==null&&s!==void 0?s:JD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,r,i,a,l,d;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(s=u.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNumericCharacter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(d=u.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),u}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),i&&(s.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,s,r,i){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _2(this),this.idTokenSubscription=new _2(this),this.beforeStateQueue=new XD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=ua(s)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await zc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(s),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await lT(this,{idToken:e}),r=await da._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(la(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,d=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===d)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await pf(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(la(this.app))return Promise.reject(go(this));const s=e?Gs(e):null;return s&&ct(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return la(this.app)?Promise.reject(go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return la(this.app)?Promise.reject(go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ua(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YD(this),s=new ZD(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _h("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await qD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&ua(e)||this._popupRedirectResolver;ct(s,this,"argument-error"),this.redirectPersistenceManager=await zc.create(this,[ua(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,i){if(this._deleted)return()=>{};const a=typeof s=="function"?s:s.next.bind(s);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof s=="function"){const u=e.addObserver(s,r,i);return()=>{l=!0,u()}}else{const u=e.addObserver(s);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(s["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(s["X-Firebase-AppCheck"]=i),s}async _getAppCheckToken(){var e;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&PD(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function Jf(t){return Gs(t)}class _2{constructor(e){this.auth=e,this.observer=null,this.addObserver=yL(s=>this.observer=s)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t8(t){U0=t}function s8(t){return U0.loadJS(t)}function n8(){return U0.gapiScript}function r8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i8(t,e){const s=D0(t,"auth");if(s.isInitialized()){const i=s.getImmediate(),a=s.getOptions();if(uf(a,e!=null?e:{}))return i;va(i,"already-initialized")}return s.initialize({options:e})}function a8(t,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(ua);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function o8(t,e,s){const r=Jf(t);ct(r._canInitEmulator,r,"emulator-config-failed"),ct(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=bT(e),{host:l,port:d}=l8(e),u=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${l}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),c8()}function bT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function l8(t){const e=bT(t),s=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:w2(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:w2(l)}}}function w2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c8(){function t(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return ca("not implemented")}_getIdTokenResponse(e){return ca("not implemented")}_linkToIdToken(e,s){return ca("not implemented")}_getReauthenticationResolver(e){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t,e){return aT(t,"POST","/v1/accounts:signInWithIdp",Yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8="http://localhost";class _l extends _T{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new _l(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):va("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=s,a=F0(s,["providerId","signInMethod"]);if(!r||!i)return null;const l=new _l(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const s=this.buildRequest();return Hc(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,Hc(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,Hc(e,s)}buildRequest(){const e={requestUri:d8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=wh(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends wT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Sh{constructor(){super("facebook.com")}static credential(e){return _l._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch(s){return null}}}ro.FACEBOOK_SIGN_IN_METHOD="facebook.com";ro.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends Sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return _l._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return io.credential(s,r)}catch(i){return null}}}io.GOOGLE_SIGN_IN_METHOD="google.com";io.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Sh{constructor(){super("github.com")}static credential(e){return _l._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch(s){return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Sh{constructor(){super("twitter.com")}static credential(e,s){return _l._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return oo.credential(s,r)}catch(i){return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,i=!1){const a=await da._fromIdTokenResponse(e,r,i),l=j2(r);return new wl({user:a,providerId:l,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const i=j2(r);return new wl({user:e,providerId:i,_tokenResponse:r,operationType:s})}}function j2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends Na{constructor(e,s,r,i){var a;super(s.code,s.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,i){return new mf(e,s,r,i)}}function jT(t,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(t):s._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?mf._fromErrorAndOperation(t,a,e,r):a})}async function u8(t,e,s=!1){const r=await sh(t,e._linkToIdToken(t.auth,await t.getIdToken()),s);return wl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8(t,e,s=!1){const{auth:r}=t;if(la(r.app))return Promise.reject(go(r));const i="reauthenticate";try{const a=await sh(t,jT(r,i,e,t),s);ct(a.idToken,r,"internal-error");const l=O0(a.idToken);ct(l,r,"internal-error");const{sub:d}=l;return ct(t.uid===d,r,"user-mismatch"),wl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&va(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p8(t,e,s=!1){if(la(t.app))return Promise.reject(go(t));const r="signIn",i=await jT(t,r,e),a=await wl._fromIdTokenResponse(t,r,i);return s||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m8(t,e){return aT(t,"POST","/v1/accounts:signInWithCustomToken",Yf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(t,e){if(la(t.app))return Promise.reject(go(t));const s=Jf(t),r=await m8(s,{token:e,returnSecureToken:!0}),i=await wl._fromIdTokenResponse(s,"signIn",r);return await s._updateCurrentUser(i.user),i}function g8(t,e,s,r){return Gs(t).onIdTokenChanged(e,s,r)}function x8(t,e,s){return Gs(t).beforeAuthStateChanged(e,s)}function v8(t,e,s,r){return Gs(t).onAuthStateChanged(e,s,r)}function y8(t){return Gs(t).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=1e3,_8=10;class NT extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),i=this.localCache[s];r!==i&&e(s,i,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((l,d,u)=>{this.notifyListeners(l,u)});return}const r=e.key;s?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!s&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);QD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_8):i()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},b8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}NT.type="LOCAL";const w8=NT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}kT.type="SESSION";const TT=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(i=>i.isListeningto(e));if(s)return s;const r=new Zf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:i,data:a}=s.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(l).map(async h=>h(s.origin,a)),u=await j8(d);s.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return t+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((d,u)=>{const h=z0("",20);i.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(v.data.response);break;default:clearTimeout(m),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:s},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function N8(t){Ci().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){return typeof Ci().WorkerGlobalScope!="undefined"&&typeof Ci().importScripts=="function"}async function k8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function T8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function C8(){return CT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="firebaseLocalStorageDb",E8=1,gf="firebaseLocalStorage",AT="fbase_key";class Nh{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function eg(t,e){return t.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function A8(){const t=indexedDB.deleteDatabase(ET);return new Nh(t).toPromise()}function Ly(){const t=indexedDB.open(ET,E8);return new Promise((e,s)=>{t.addEventListener("error",()=>{s(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gf,{keyPath:AT})}catch(i){s(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gf)?e(r):(r.close(),await A8(),e(await Ly()))})})}async function S2(t,e,s){const r=eg(t,!0).put({[AT]:e,value:s});return new Nh(r).toPromise()}async function I8(t,e){const s=eg(t,!1).get(e),r=await new Nh(s).toPromise();return r===void 0?null:r.value}function N2(t,e){const s=eg(t,!0).delete(e);return new Nh(s).toPromise()}const R8=800,P8=3;class IT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ly(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>P8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zf._getInstance(C8()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await k8(),!this.activeServiceWorker)return;this.sender=new S8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((s=r[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(s){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ly();return await S2(e,ff,"1"),await N2(e,ff),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>S2(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>I8(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>N2(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=eg(i,!1).getAll();return new Nh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IT.type="LOCAL";const L8=IT;new jh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t,e){return e?ua(e):(ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends _T{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hc(e,this._buildIdpRequest())}_linkToIdToken(e,s){return Hc(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return Hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function M8(t){return p8(t.auth,new H0(t),t.bypassAuthState)}function F8(t){const{auth:e,user:s}=t;return ct(s,e,"internal-error"),h8(s,new H0(t),t.bypassAuthState)}async function B8(t){const{auth:e,user:s}=t;return ct(s,e,"internal-error"),u8(s,new H0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,s,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:i,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:s,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M8;case"linkViaPopup":case"linkViaRedirect":return B8;case"reauthViaPopup":case"reauthViaRedirect":return F8;default:va(this.auth,"internal-error")}}resolve(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ya(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=new jh(2e3,1e4);class Lc extends RT{constructor(e,s,r,i,a){super(e,s,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Lc.currentPopupAction&&Lc.currentPopupAction.cancel(),Lc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ct(e,this.auth,"internal-error"),e}async onExecution(){ya(this.filter.length===1,"Popup operations only handle one event");const e=z0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if(!((r=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$8.get())};e()}}Lc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8="pendingRedirect",Um=new Map;class V8 extends RT{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Um.get(this.auth._key());if(!e){try{const r=await U8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Um.set(this.auth._key(),e)}return this.bypassAuthState||Um.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U8(t,e){const s=G8(e),r=H8(t);if(!await r._isAvailable())return!1;const i=await r._get(s)==="true";return await r._remove(s),i}function z8(t,e){Um.set(t._key(),e)}function H8(t){return ua(t._redirectPersistence)}function G8(t){return Vm(O8,t.config.apiKey,t.name)}async function W8(t,e,s=!1){if(la(t.app))return Promise.reject(go(t));const r=Jf(t),i=D8(r,e),l=await new V8(r,i,s).execute();return l&&!s&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=600*1e3;class K8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q8(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!PT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";s.onError(Ti(this.auth,i))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q8&&this.cachedEventUids.clear(),this.cachedEventUids.has(k2(e))}saveEventToCache(e){this.cachedEventUids.add(k2(e)),this.lastProcessedEventTime=Date.now()}}function k2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X8(t,e={}){return fd(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J8=/^https?/;async function Z8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X8(t);for(const s of e)try{if(e9(s))return}catch(r){}va(t,"unauthorized-domain")}function e9(t){const e=Ry(),{protocol:s,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?s==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&l.hostname===r}if(!J8.test(s))return!1;if(Y8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=new jh(3e4,6e4);function T2(){const t=Ci().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let s=0;s<t.CP.length;s++)t.CP[s]=null}}function s9(t){return new Promise((e,s)=>{var r,i,a;function l(){T2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T2(),s(Ti(t,"network-request-failed"))},timeout:t9.get()})}if(!((i=(r=Ci().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ci().gapi)===null||a===void 0)&&a.load)l();else{const d=r8("iframefcb");return Ci()[d]=()=>{gapi.load?l():s(Ti(t,"network-request-failed"))},s8(`${n8()}?onload=${d}`).catch(u=>s(u))}}).catch(e=>{throw zm=null,e})}let zm=null;function n9(t){return zm=zm||s9(t),zm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new jh(5e3,15e3),i9="__/auth/iframe",a9="emulator/auth/iframe",o9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c9(t){const e=t.config;ct(e.authDomain,t,"auth-domain-config-required");const s=e.emulator?$0(e,a9):`https://${t.config.authDomain}/${i9}`,r={apiKey:e.apiKey,appName:t.name,v:md},i=l9.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${s}?${wh(r).slice(1)}`}async function d9(t){const e=await n9(t),s=Ci().gapi;return ct(s,t,"internal-error"),e.open({where:document.body,url:c9(t),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o9,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Ti(t,"network-request-failed"),d=Ci().setTimeout(()=>{a(l)},r9.get());function u(){Ci().clearTimeout(d),i(r)}r.ping(u).then(u,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h9=500,p9=600,m9="_blank",f9="http://localhost";class C2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function g9(t,e,s,r=h9,i=p9){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const u=Object.assign(Object.assign({},u9),{width:r.toString(),height:i.toString(),top:a,left:l}),h=Cn().toLowerCase();s&&(d=pT(h)?m9:s),uT(h)&&(e=e||f9,u.scrollbars="yes");const m=Object.entries(u).reduce((v,[b,S])=>`${v}${b}=${S},`,"");if(KD(h)&&d!=="_self")return x9(e||"",d),new C2(null);const g=window.open(e||"",d,m);ct(g,t,"popup-blocked");try{g.focus()}catch(v){}return new C2(g)}function x9(t,e){const s=document.createElement("a");s.href=t,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="__/auth/handler",y9="emulator/auth/handler",b9=encodeURIComponent("fac");async function E2(t,e,s,r,i,a){ct(t.config.authDomain,t,"auth-domain-config-required"),ct(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:s,redirectUrl:r,v:md,eventId:i};if(e instanceof wT){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",vL(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Sh){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const m of Object.keys(d))d[m]===void 0&&delete d[m];const u=await t._getAppCheckToken(),h=u?`#${b9}=${encodeURIComponent(u)}`:"";return`${_9(t)}?${wh(d).slice(1)}${h}`}function _9({config:t}){return t.emulator?$0(t,y9):`https://${t.authDomain}/${v9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="webStorageSupport";class w9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=W8,this._overrideRedirectResult=z8}async _openPopup(e,s,r,i){var a;ya((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await E2(e,s,r,Ry(),i);return g9(e,l,z0())}async _openRedirect(e,s,r,i){await this._originValidation(e);const a=await E2(e,s,r,Ry(),i);return N8(a),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:i,promise:a}=this.eventManagers[s];return i?Promise.resolve(i):(ya(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await d9(e),r=new K8(e);return s.register("authEvent",i=>(ct(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(yv,{type:yv},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[yv];l!==void 0&&s(!!l),va(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=Z8(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return vT()||hT()||V0()}}const j9=w9;var A2="@firebase/auth",I2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k9(t){Qc(new bl("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;ct(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yT(t)},h=new e8(r,i,a,u);return a8(h,s),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),Qc(new bl("auth-internal",e=>{const s=Jf(e.getProvider("auth").getImmediate());return(r=>new S9(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),fo(A2,I2,N9(t)),fo(A2,I2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=300,C9=Qk("authIdTokenMaxAge")||T9;let R2=null;const E9=t=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>C9)return;const i=s==null?void 0:s.token;R2!==i&&(R2=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function A9(t=M0()){const e=D0(t,"auth");if(e.isInitialized())return e.getImmediate();const s=i8(t,{popupRedirectResolver:j9,persistence:[L8,w8,TT]}),r=Qk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=E9(a.toString());x8(s,l,()=>l(s.currentUser)),g8(s,d=>l(d))}}const i=qk("auth");return i&&o8(s,`http://${i}`),s}function I9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}t8({loadJS(t){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Ti("internal-error");a.customData=i,s(a)},r.type="text/javascript",r.charset="UTF-8",I9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k9("Browser");var P2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gl,LT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,j){function I(){}I.prototype=j.prototype,N.D=j.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(M,P,O){for(var $=Array(arguments.length-2),W=2;W<arguments.length;W++)$[W-2]=arguments[W];return j.prototype[P].apply(M,$)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,s),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,j,I){I||(I=0);var M=Array(16);if(typeof j=="string")for(var P=0;16>P;++P)M[P]=j.charCodeAt(I++)|j.charCodeAt(I++)<<8|j.charCodeAt(I++)<<16|j.charCodeAt(I++)<<24;else for(P=0;16>P;++P)M[P]=j[I++]|j[I++]<<8|j[I++]<<16|j[I++]<<24;j=N.g[0],I=N.g[1],P=N.g[2];var O=N.g[3],$=j+(O^I&(P^O))+M[0]+3614090360&4294967295;j=I+($<<7&4294967295|$>>>25),$=O+(P^j&(I^P))+M[1]+3905402710&4294967295,O=j+($<<12&4294967295|$>>>20),$=P+(I^O&(j^I))+M[2]+606105819&4294967295,P=O+($<<17&4294967295|$>>>15),$=I+(j^P&(O^j))+M[3]+3250441966&4294967295,I=P+($<<22&4294967295|$>>>10),$=j+(O^I&(P^O))+M[4]+4118548399&4294967295,j=I+($<<7&4294967295|$>>>25),$=O+(P^j&(I^P))+M[5]+1200080426&4294967295,O=j+($<<12&4294967295|$>>>20),$=P+(I^O&(j^I))+M[6]+2821735955&4294967295,P=O+($<<17&4294967295|$>>>15),$=I+(j^P&(O^j))+M[7]+4249261313&4294967295,I=P+($<<22&4294967295|$>>>10),$=j+(O^I&(P^O))+M[8]+1770035416&4294967295,j=I+($<<7&4294967295|$>>>25),$=O+(P^j&(I^P))+M[9]+2336552879&4294967295,O=j+($<<12&4294967295|$>>>20),$=P+(I^O&(j^I))+M[10]+4294925233&4294967295,P=O+($<<17&4294967295|$>>>15),$=I+(j^P&(O^j))+M[11]+2304563134&4294967295,I=P+($<<22&4294967295|$>>>10),$=j+(O^I&(P^O))+M[12]+1804603682&4294967295,j=I+($<<7&4294967295|$>>>25),$=O+(P^j&(I^P))+M[13]+4254626195&4294967295,O=j+($<<12&4294967295|$>>>20),$=P+(I^O&(j^I))+M[14]+2792965006&4294967295,P=O+($<<17&4294967295|$>>>15),$=I+(j^P&(O^j))+M[15]+1236535329&4294967295,I=P+($<<22&4294967295|$>>>10),$=j+(P^O&(I^P))+M[1]+4129170786&4294967295,j=I+($<<5&4294967295|$>>>27),$=O+(I^P&(j^I))+M[6]+3225465664&4294967295,O=j+($<<9&4294967295|$>>>23),$=P+(j^I&(O^j))+M[11]+643717713&4294967295,P=O+($<<14&4294967295|$>>>18),$=I+(O^j&(P^O))+M[0]+3921069994&4294967295,I=P+($<<20&4294967295|$>>>12),$=j+(P^O&(I^P))+M[5]+3593408605&4294967295,j=I+($<<5&4294967295|$>>>27),$=O+(I^P&(j^I))+M[10]+38016083&4294967295,O=j+($<<9&4294967295|$>>>23),$=P+(j^I&(O^j))+M[15]+3634488961&4294967295,P=O+($<<14&4294967295|$>>>18),$=I+(O^j&(P^O))+M[4]+3889429448&4294967295,I=P+($<<20&4294967295|$>>>12),$=j+(P^O&(I^P))+M[9]+568446438&4294967295,j=I+($<<5&4294967295|$>>>27),$=O+(I^P&(j^I))+M[14]+3275163606&4294967295,O=j+($<<9&4294967295|$>>>23),$=P+(j^I&(O^j))+M[3]+4107603335&4294967295,P=O+($<<14&4294967295|$>>>18),$=I+(O^j&(P^O))+M[8]+1163531501&4294967295,I=P+($<<20&4294967295|$>>>12),$=j+(P^O&(I^P))+M[13]+2850285829&4294967295,j=I+($<<5&4294967295|$>>>27),$=O+(I^P&(j^I))+M[2]+4243563512&4294967295,O=j+($<<9&4294967295|$>>>23),$=P+(j^I&(O^j))+M[7]+1735328473&4294967295,P=O+($<<14&4294967295|$>>>18),$=I+(O^j&(P^O))+M[12]+2368359562&4294967295,I=P+($<<20&4294967295|$>>>12),$=j+(I^P^O)+M[5]+4294588738&4294967295,j=I+($<<4&4294967295|$>>>28),$=O+(j^I^P)+M[8]+2272392833&4294967295,O=j+($<<11&4294967295|$>>>21),$=P+(O^j^I)+M[11]+1839030562&4294967295,P=O+($<<16&4294967295|$>>>16),$=I+(P^O^j)+M[14]+4259657740&4294967295,I=P+($<<23&4294967295|$>>>9),$=j+(I^P^O)+M[1]+2763975236&4294967295,j=I+($<<4&4294967295|$>>>28),$=O+(j^I^P)+M[4]+1272893353&4294967295,O=j+($<<11&4294967295|$>>>21),$=P+(O^j^I)+M[7]+4139469664&4294967295,P=O+($<<16&4294967295|$>>>16),$=I+(P^O^j)+M[10]+3200236656&4294967295,I=P+($<<23&4294967295|$>>>9),$=j+(I^P^O)+M[13]+681279174&4294967295,j=I+($<<4&4294967295|$>>>28),$=O+(j^I^P)+M[0]+3936430074&4294967295,O=j+($<<11&4294967295|$>>>21),$=P+(O^j^I)+M[3]+3572445317&4294967295,P=O+($<<16&4294967295|$>>>16),$=I+(P^O^j)+M[6]+76029189&4294967295,I=P+($<<23&4294967295|$>>>9),$=j+(I^P^O)+M[9]+3654602809&4294967295,j=I+($<<4&4294967295|$>>>28),$=O+(j^I^P)+M[12]+3873151461&4294967295,O=j+($<<11&4294967295|$>>>21),$=P+(O^j^I)+M[15]+530742520&4294967295,P=O+($<<16&4294967295|$>>>16),$=I+(P^O^j)+M[2]+3299628645&4294967295,I=P+($<<23&4294967295|$>>>9),$=j+(P^(I|~O))+M[0]+4096336452&4294967295,j=I+($<<6&4294967295|$>>>26),$=O+(I^(j|~P))+M[7]+1126891415&4294967295,O=j+($<<10&4294967295|$>>>22),$=P+(j^(O|~I))+M[14]+2878612391&4294967295,P=O+($<<15&4294967295|$>>>17),$=I+(O^(P|~j))+M[5]+4237533241&4294967295,I=P+($<<21&4294967295|$>>>11),$=j+(P^(I|~O))+M[12]+1700485571&4294967295,j=I+($<<6&4294967295|$>>>26),$=O+(I^(j|~P))+M[3]+2399980690&4294967295,O=j+($<<10&4294967295|$>>>22),$=P+(j^(O|~I))+M[10]+4293915773&4294967295,P=O+($<<15&4294967295|$>>>17),$=I+(O^(P|~j))+M[1]+2240044497&4294967295,I=P+($<<21&4294967295|$>>>11),$=j+(P^(I|~O))+M[8]+1873313359&4294967295,j=I+($<<6&4294967295|$>>>26),$=O+(I^(j|~P))+M[15]+4264355552&4294967295,O=j+($<<10&4294967295|$>>>22),$=P+(j^(O|~I))+M[6]+2734768916&4294967295,P=O+($<<15&4294967295|$>>>17),$=I+(O^(P|~j))+M[13]+1309151649&4294967295,I=P+($<<21&4294967295|$>>>11),$=j+(P^(I|~O))+M[4]+4149444226&4294967295,j=I+($<<6&4294967295|$>>>26),$=O+(I^(j|~P))+M[11]+3174756917&4294967295,O=j+($<<10&4294967295|$>>>22),$=P+(j^(O|~I))+M[2]+718787259&4294967295,P=O+($<<15&4294967295|$>>>17),$=I+(O^(P|~j))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+j&4294967295,N.g[1]=N.g[1]+(P+($<<21&4294967295|$>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+O&4294967295}r.prototype.u=function(N,j){j===void 0&&(j=N.length);for(var I=j-this.blockSize,M=this.B,P=this.h,O=0;O<j;){if(P==0)for(;O<=I;)i(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<j;)if(M[P++]=N.charCodeAt(O++),P==this.blockSize){i(this,M),P=0;break}}else for(;O<j;)if(M[P++]=N[O++],P==this.blockSize){i(this,M),P=0;break}}this.h=P,this.o+=j},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var j=1;j<N.length-8;++j)N[j]=0;var I=8*this.o;for(j=N.length-8;j<N.length;++j)N[j]=I&255,I/=256;for(this.u(N),N=Array(16),j=I=0;4>j;++j)for(var M=0;32>M;M+=8)N[I++]=this.g[j]>>>M&255;return N};function a(N,j){var I=d;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=j(N)}function l(N,j){this.h=j;for(var I=[],M=!0,P=N.length-1;0<=P;P--){var O=N[P]|0;M&&O==j||(I[P]=O,M=!1)}this.g=I}var d={};function u(N){return-128<=N&&128>N?a(N,function(j){return new l([j|0],0>j?-1:0)}):new l([N|0],0>N?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return g;if(0>N)return R(h(-N));for(var j=[],I=1,M=0;N>=I;M++)j[M]=N/I|0,I*=4294967296;return new l(j,0)}function m(N,j){if(N.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(N.charAt(0)=="-")return R(m(N.substring(1),j));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=h(Math.pow(j,8)),M=g,P=0;P<N.length;P+=8){var O=Math.min(8,N.length-P),$=parseInt(N.substring(P,P+O),j);8>O?(O=h(Math.pow(j,O)),M=M.j(O).add(h($))):(M=M.j(I),M=M.add(h($)))}return M}var g=u(0),v=u(1),b=u(16777216);t=l.prototype,t.m=function(){if(C(this))return-R(this).m();for(var N=0,j=1,I=0;I<this.g.length;I++){var M=this.i(I);N+=(0<=M?M:4294967296+M)*j,j*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(C(this))return"-"+R(this).toString(N);for(var j=h(Math.pow(N,6)),I=this,M="";;){var P=y(I,j).g;I=F(I,P.j(j));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=P,S(I))return O+M;for(;6>O.length;)O="0"+O;M=O+M}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(var j=0;j<N.g.length;j++)if(N.g[j]!=0)return!1;return!0}function C(N){return N.h==-1}t.l=function(N){return N=F(this,N),C(N)?-1:S(N)?0:1};function R(N){for(var j=N.g.length,I=[],M=0;M<j;M++)I[M]=~N.g[M];return new l(I,~N.h).add(v)}t.abs=function(){return C(this)?R(this):this},t.add=function(N){for(var j=Math.max(this.g.length,N.g.length),I=[],M=0,P=0;P<=j;P++){var O=M+(this.i(P)&65535)+(N.i(P)&65535),$=(O>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);M=$>>>16,O&=65535,$&=65535,I[P]=$<<16|O}return new l(I,I[I.length-1]&-2147483648?-1:0)};function F(N,j){return N.add(R(j))}t.j=function(N){if(S(this)||S(N))return g;if(C(this))return C(N)?R(this).j(R(N)):R(R(this).j(N));if(C(N))return R(this.j(R(N)));if(0>this.l(b)&&0>N.l(b))return h(this.m()*N.m());for(var j=this.g.length+N.g.length,I=[],M=0;M<2*j;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<N.g.length;P++){var O=this.i(M)>>>16,$=this.i(M)&65535,W=N.i(P)>>>16,H=N.i(P)&65535;I[2*M+2*P]+=$*H,D(I,2*M+2*P),I[2*M+2*P+1]+=O*H,D(I,2*M+2*P+1),I[2*M+2*P+1]+=$*W,D(I,2*M+2*P+1),I[2*M+2*P+2]+=O*W,D(I,2*M+2*P+2)}for(M=0;M<j;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=j;M<2*j;M++)I[M]=0;return new l(I,0)};function D(N,j){for(;(N[j]&65535)!=N[j];)N[j+1]+=N[j]>>>16,N[j]&=65535,j++}function A(N,j){this.g=N,this.h=j}function y(N,j){if(S(j))throw Error("division by zero");if(S(N))return new A(g,g);if(C(N))return j=y(R(N),j),new A(R(j.g),R(j.h));if(C(j))return j=y(N,R(j)),new A(R(j.g),j.h);if(30<N.g.length){if(C(N)||C(j))throw Error("slowDivide_ only works with positive integers.");for(var I=v,M=j;0>=M.l(N);)I=w(I),M=w(M);var P=L(I,1),O=L(M,1);for(M=L(M,2),I=L(I,2);!S(M);){var $=O.add(M);0>=$.l(N)&&(P=P.add(I),O=$),M=L(M,1),I=L(I,1)}return j=F(N,P.j(j)),new A(P,j)}for(P=g;0<=N.l(j);){for(I=Math.max(1,Math.floor(N.m()/j.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),O=h(I),$=O.j(j);C($)||0<$.l(N);)I-=M,O=h(I),$=O.j(j);S(O)&&(O=v),P=P.add(O),N=F(N,$)}return new A(P,N)}t.A=function(N){return y(this,N).h},t.and=function(N){for(var j=Math.max(this.g.length,N.g.length),I=[],M=0;M<j;M++)I[M]=this.i(M)&N.i(M);return new l(I,this.h&N.h)},t.or=function(N){for(var j=Math.max(this.g.length,N.g.length),I=[],M=0;M<j;M++)I[M]=this.i(M)|N.i(M);return new l(I,this.h|N.h)},t.xor=function(N){for(var j=Math.max(this.g.length,N.g.length),I=[],M=0;M<j;M++)I[M]=this.i(M)^N.i(M);return new l(I,this.h^N.h)};function w(N){for(var j=N.g.length+1,I=[],M=0;M<j;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new l(I,N.h)}function L(N,j){var I=j>>5;j%=32;for(var M=N.g.length-I,P=[],O=0;O<M;O++)P[O]=0<j?N.i(O+I)>>>j|N.i(O+I+1)<<32-j:N.i(O+I);return new l(P,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,LT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,gl=l}).apply(typeof P2!="undefined"?P2:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var cm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DT,ju,MT,Hm,Dy,FT,BT,$T;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,k,B){return f==Array.prototype||f==Object.prototype||(f[k]=B.value),f};function s(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof cm=="object"&&cm];for(var k=0;k<f.length;++k){var B=f[k];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var r=s(this);function i(f,k){if(k)e:{var B=r;f=f.split(".");for(var z=0;z<f.length-1;z++){var ae=f[z];if(!(ae in B))break e;B=B[ae]}f=f[f.length-1],z=B[f],k=k(z),k!=z&&k!=null&&e(B,f,{configurable:!0,writable:!0,value:k})}}function a(f,k){f instanceof String&&(f+="");var B=0,z=!1,ae={next:function(){if(!z&&B<f.length){var he=B++;return{value:k(he,f[he]),done:!1}}return z=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(f){return f||function(){return a(this,function(k,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function u(f){var k=typeof f;return k=k!="object"?k:f?Array.isArray(f)?"array":k:"null",k=="array"||k=="object"&&typeof f.length=="number"}function h(f){var k=typeof f;return k=="object"&&f!=null||k=="function"}function m(f,k,B){return f.call.apply(f.bind,arguments)}function g(f,k,B){if(!f)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,z),f.apply(k,ae)}}return function(){return f.apply(k,arguments)}}function v(f,k,B){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,v.apply(null,arguments)}function b(f,k){var B=Array.prototype.slice.call(arguments,1);return function(){var z=B.slice();return z.push.apply(z,arguments),f.apply(this,z)}}function S(f,k){function B(){}B.prototype=k.prototype,f.aa=k.prototype,f.prototype=new B,f.prototype.constructor=f,f.Qb=function(z,ae,he){for(var Me=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)Me[Gt-2]=arguments[Gt];return k.prototype[ae].apply(z,Me)}}function C(f){const k=f.length;if(0<k){const B=Array(k);for(let z=0;z<k;z++)B[z]=f[z];return B}return[]}function R(f,k){for(let B=1;B<arguments.length;B++){const z=arguments[B];if(u(z)){const ae=f.length||0,he=z.length||0;f.length=ae+he;for(let Me=0;Me<he;Me++)f[ae+Me]=z[Me]}else f.push(z)}}class F{constructor(k,B){this.i=k,this.j=B,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function D(f){return/^[\s\xa0]*$/.test(f)}function A(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function y(f){return y[" "](f),f}y[" "]=function(){};var w=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function L(f,k,B){for(const z in f)k.call(B,f[z],z,f)}function N(f,k){for(const B in f)k.call(void 0,f[B],B,f)}function j(f){const k={};for(const B in f)k[B]=f[B];return k}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,k){let B,z;for(let ae=1;ae<arguments.length;ae++){z=arguments[ae];for(B in z)f[B]=z[B];for(let he=0;he<I.length;he++)B=I[he],Object.prototype.hasOwnProperty.call(z,B)&&(f[B]=z[B])}}function P(f){var k=1;f=f.split(":");const B=[];for(;0<k&&f.length;)B.push(f.shift()),k--;return f.length&&B.push(f.join(":")),B}function O(f){d.setTimeout(()=>{throw f},0)}function $(){var f=te;let k=null;return f.g&&(k=f.g,f.g=f.g.next,f.g||(f.h=null),k.next=null),k}class W{constructor(){this.h=this.g=null}add(k,B){const z=H.get();z.set(k,B),this.h?this.h.next=z:this.g=z,this.h=z}}var H=new F(()=>new q,f=>f.reset());class q{constructor(){this.next=this.g=this.h=null}set(k,B){this.h=k,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let K,G=!1,te=new W,ne=()=>{const f=d.Promise.resolve(void 0);K=()=>{f.then(U)}};var U=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(B){O(B)}var k=H;k.j(f),100>k.h&&(k.h++,f.next=k.g,k.g=f)}G=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(f,k){this.type=f,this.g=this.target=k,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var ee=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,k=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const B=()=>{};d.addEventListener("test",B,k),d.removeEventListener("test",B,k)}catch(B){}return f})();function fe(f,k){if(ce.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var B=this.type=f.type,z=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=k,k=f.relatedTarget){if(w){e:{try{y(k.nodeName);var ae=!0;break e}catch(he){}ae=!1}ae||(k=null)}}else B=="mouseover"?k=f.fromElement:B=="mouseout"&&(k=f.toElement);this.relatedTarget=k,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ce[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&fe.aa.h.call(this)}}S(fe,ce);var Ce={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),ke=0;function Se(f,k,B,z,ae){this.listener=f,this.proxy=null,this.src=k,this.type=B,this.capture=!!z,this.ha=ae,this.key=++ke,this.da=this.fa=!1}function ue(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f){this.src=f,this.g={},this.h=0}De.prototype.add=function(f,k,B,z,ae){var he=f.toString();f=this.g[he],f||(f=this.g[he]=[],this.h++);var Me=tt(f,k,z,ae);return-1<Me?(k=f[Me],B||(k.fa=!1)):(k=new Se(k,this.src,he,!!z,ae),k.fa=B,f.push(k)),k};function Ee(f,k){var B=k.type;if(B in f.g){var z=f.g[B],ae=Array.prototype.indexOf.call(z,k,void 0),he;(he=0<=ae)&&Array.prototype.splice.call(z,ae,1),he&&(ue(k),f.g[B].length==0&&(delete f.g[B],f.h--))}}function tt(f,k,B,z){for(var ae=0;ae<f.length;++ae){var he=f[ae];if(!he.da&&he.listener==k&&he.capture==!!B&&he.ha==z)return ae}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),Ht={};function Ss(f,k,B,z,ae){if(Array.isArray(k)){for(var he=0;he<k.length;he++)Ss(f,k[he],B,z,ae);return null}return B=ut(B),f&&f[ge]?f.K(k,B,h(z)?!!z.capture:!1,ae):Ns(f,k,B,!1,z,ae)}function Ns(f,k,B,z,ae,he){if(!k)throw Error("Invalid event type");var Me=h(ae)?!!ae.capture:!!ae,Gt=Ue(f);if(Gt||(f[pt]=Gt=new De(f)),B=Gt.add(k,B,z,Me,he),B.proxy)return B;if(z=$s(),B.proxy=z,z.src=f,z.listener=B,f.addEventListener)ee||(ae=Me),ae===void 0&&(ae=!1),f.addEventListener(k.toString(),z,ae);else if(f.attachEvent)f.attachEvent(Re(k.toString()),z);else if(f.addListener&&f.removeListener)f.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return B}function $s(){function f(B){return k.call(f.src,f.listener,B)}const k=Ae;return f}function ys(f,k,B,z,ae){if(Array.isArray(k))for(var he=0;he<k.length;he++)ys(f,k[he],B,z,ae);else z=h(z)?!!z.capture:!!z,B=ut(B),f&&f[ge]?(f=f.i,k=String(k).toString(),k in f.g&&(he=f.g[k],B=tt(he,B,z,ae),-1<B&&(ue(he[B]),Array.prototype.splice.call(he,B,1),he.length==0&&(delete f.g[k],f.h--)))):f&&(f=Ue(f))&&(k=f.g[k.toString()],f=-1,k&&(f=tt(k,B,z,ae)),(B=-1<f?k[f]:null)&&Ne(B))}function Ne(f){if(typeof f!="number"&&f&&!f.da){var k=f.src;if(k&&k[ge])Ee(k.i,f);else{var B=f.type,z=f.proxy;k.removeEventListener?k.removeEventListener(B,z,f.capture):k.detachEvent?k.detachEvent(Re(B),z):k.addListener&&k.removeListener&&k.removeListener(z),(B=Ue(k))?(Ee(B,f),B.h==0&&(B.src=null,k[pt]=null)):ue(f)}}}function Re(f){return f in Ht?Ht[f]:Ht[f]="on"+f}function Ae(f,k){if(f.da)f=!0;else{k=new fe(k,this);var B=f.listener,z=f.ha||f.src;f.fa&&Ne(f),f=B.call(z,k)}return f}function Ue(f){return f=f[pt],f instanceof De?f:null}var nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(f){return typeof f=="function"?f:(f[nt]||(f[nt]=function(k){return f.handleEvent(k)}),f[nt])}function xt(){J.call(this),this.i=new De(this),this.M=this,this.F=null}S(xt,J),xt.prototype[ge]=!0,xt.prototype.removeEventListener=function(f,k,B,z){ys(this,f,k,B,z)};function Vt(f,k){var B,z=f.F;if(z)for(B=[];z;z=z.F)B.push(z);if(f=f.M,z=k.type||k,typeof k=="string")k=new ce(k,f);else if(k instanceof ce)k.target=k.target||f;else{var ae=k;k=new ce(z,f),M(k,ae)}if(ae=!0,B)for(var he=B.length-1;0<=he;he--){var Me=k.g=B[he];ae=Bt(Me,z,!0,k)&&ae}if(Me=k.g=f,ae=Bt(Me,z,!0,k)&&ae,ae=Bt(Me,z,!1,k)&&ae,B)for(he=0;he<B.length;he++)Me=k.g=B[he],ae=Bt(Me,z,!1,k)&&ae}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var f=this.i,k;for(k in f.g){for(var B=f.g[k],z=0;z<B.length;z++)ue(B[z]);delete f.g[k],f.h--}}this.F=null},xt.prototype.K=function(f,k,B,z){return this.i.add(String(f),k,!1,B,z)},xt.prototype.L=function(f,k,B,z){return this.i.add(String(f),k,!0,B,z)};function Bt(f,k,B,z){if(k=f.i.g[String(k)],!k)return!0;k=k.concat();for(var ae=!0,he=0;he<k.length;++he){var Me=k[he];if(Me&&!Me.da&&Me.capture==B){var Gt=Me.listener,Vs=Me.ha||Me.src;Me.fa&&Ee(f.i,Me),ae=Gt.call(Vs,z)!==!1&&ae}}return ae&&!z.defaultPrevented}function ir(f,k,B){if(typeof f=="function")B&&(f=v(f,B));else if(f&&typeof f.handleEvent=="function")f=v(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:d.setTimeout(f,k||0)}function vn(f){f.g=ir(()=>{f.g=null,f.i&&(f.i=!1,vn(f))},f.l);const k=f.h;f.h=null,f.m.apply(null,k)}class Os extends J{constructor(k,B){super(),this.m=k,this.l=B,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:vn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(f){J.call(this),this.h=f,this.g={}}S(_r,J);var hi=[];function Fi(f){L(f.g,function(k,B){this.g.hasOwnProperty(B)&&Ne(k)},f),f.g={}}_r.prototype.N=function(){_r.aa.N.call(this),Fi(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=d.JSON.stringify,Ur=d.JSON.parse,ns=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function wr(){}wr.prototype.h=null;function Bi(f){return f.h||(f.h=f.i())}function $i(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){ce.call(this,"d")}S(ar,ce);function Oi(){ce.call(this,"c")}S(Oi,ce);var or={},Nd=null;function To(){return Nd=Nd||new xt}or.La="serverreachability";function kd(f){ce.call(this,or.La,f)}S(kd,ce);function Vi(f){const k=To();Vt(k,new kd(k))}or.STAT_EVENT="statevent";function Td(f,k){ce.call(this,or.STAT_EVENT,f),this.stat=k}S(Td,ce);function ks(f){const k=To();Vt(k,new Td(k,f))}or.Ma="timingevent";function Bl(f,k){ce.call(this,or.Ma,f),this.size=k}S(Bl,ce);function zr(f,k){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},k)}function Co(){this.g=!0}Co.prototype.xa=function(){this.g=!1};function Eo(f,k,B,z,ae,he){f.info(function(){if(f.g)if(he)for(var Me="",Gt=he.split("&"),Vs=0;Vs<Gt.length;Vs++){var Dt=Gt[Vs].split("=");if(1<Dt.length){var qs=Dt[0];Dt=Dt[1];var Is=qs.split("_");Me=2<=Is.length&&Is[1]=="type"?Me+(qs+"="+Dt+"&"):Me+(qs+"=redacted&")}}else Me=null;else Me=he;return"XMLHTTP REQ ("+z+") [attempt "+ae+"]: "+k+`
`+B+`
`+Me})}function $l(f,k,B,z,ae,he,Me){f.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ae+"]: "+k+`
`+B+`
`+he+" "+Me})}function Hr(f,k,B,z){f.info(function(){return"XMLHTTP TEXT ("+k+"): "+Pg(f,B)+(z?" "+z:"")})}function Cd(f,k){f.info(function(){return"TIMEOUT: "+k})}Co.prototype.info=function(){};function Pg(f,k){if(!f.g)return k;if(!k)return null;try{var B=JSON.parse(k);if(B){for(f=0;f<B.length;f++)if(Array.isArray(B[f])){var z=B[f];if(!(2>z.length)){var ae=z[1];if(Array.isArray(ae)&&!(1>ae.length)){var he=ae[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Me=1;Me<ae.length;Me++)ae[Me]=""}}}}return pi(B)}catch(Gt){return k}}var Ol={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gr;function Ao(){}S(Ao,wr),Ao.prototype.g=function(){return new XMLHttpRequest},Ao.prototype.i=function(){return{}},Gr=new Ao;function Wr(f,k,B,z){this.j=f,this.i=k,this.l=B,this.R=z||1,this.U=new _r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wh}function Wh(){this.i=null,this.g="",this.h=!1}var Ed={},Vl={};function Ul(f,k,B){f.L=1,f.v=Ia(cr(k)),f.m=B,f.P=!0,Ad(f,null)}function Ad(f,k){f.F=Date.now(),Jt(f),f.A=cr(f.v);var B=f.A,z=f.R;Array.isArray(z)||(z=[String(z)]),Pa(B.i,"t",z),f.C=0,B=f.j.J,f.h=new Wh,f.g=dp(f.j,B?k:null,!f.m),0<f.O&&(f.M=new Os(v(f.Y,f,f.g),f.O)),k=f.U,B=f.g,z=f.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(hi[0]=ae.toString()),ae=hi);for(var he=0;he<ae.length;he++){var Me=Ss(B,ae[he],z||k.handleEvent,!1,k.h||k);if(!Me)break;k.g[Me.key]=Me}k=f.H?j(f.H):{},f.m?(f.u||(f.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,k)):(f.u="GET",f.g.ea(f.A,f.u,null,k)),Vi(),Eo(f.i,f.u,f.A,f.l,f.R,f.m)}Wr.prototype.ca=function(f){f=f.target;const k=this.M;k&&Hn(f)==3?k.j():this.Y(f)},Wr.prototype.Y=function(f){try{if(f==this.g)e:{const Is=Hn(this.g);var k=this.g.Ba();const Nr=this.g.Z();if(!(3>Is)&&(Is!=3||this.g&&(this.h.h||this.g.oa()||Md(this.g)))){this.J||Is!=4||k==7||(k==8||0>=Nr?Vi(3):Vi(2)),Io(this);var B=this.g.Z();this.X=B;t:if(qh(this)){var z=Md(this.g);f="";var ae=z.length,he=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){jr(this),Ta(this);var Me="";break t}this.h.i=new d.TextDecoder}for(k=0;k<ae;k++)this.h.h=!0,f+=this.h.i.decode(z[k],{stream:!(he&&k==ae-1)});z.length=0,this.h.g+=f,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=B==200,$l(this.i,this.u,this.A,this.l,this.R,Is,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Gt,Vs=this.g;if((Gt=Vs.g?Vs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Gt)){var Dt=Gt;break t}}Dt=null}if(B=Dt)Hr(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Id(this,B);else{this.o=!1,this.s=3,ks(12),jr(this),Ta(this);break e}}if(this.P){B=!0;let ur;for(;!this.J&&this.C<Me.length;)if(ur=Lg(this,Me),ur==Vl){Is==4&&(this.s=4,ks(14),B=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(ur==Ed){this.s=4,ks(15),Hr(this.i,this.l,Me,"[Invalid Chunk]"),B=!1;break}else Hr(this.i,this.l,ur,null),Id(this,ur);if(qh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Is!=4||Me.length!=0||this.h.h||(this.s=1,ks(16),B=!1),this.o=this.o&&B,!B)Hr(this.i,this.l,Me,"[Invalid Chunked Response]"),jr(this),Ta(this);else if(0<Me.length&&!this.W){this.W=!0;var qs=this.j;qs.g==this&&qs.ba&&!qs.M&&(qs.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),Bd(qs),qs.M=!0,ks(11))}}else Hr(this.i,this.l,Me,null),Id(this,Me);Is==4&&jr(this),this.o&&!this.J&&(Is==4?Zl(this.j,this):(this.o=!1,Jt(this)))}else Kl(this.g),B==400&&0<Me.indexOf("Unknown SID")?(this.s=3,ks(12)):(this.s=0,ks(13)),jr(this),Ta(this)}}}catch(Is){}finally{}};function qh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Lg(f,k){var B=f.C,z=k.indexOf(`
`,B);return z==-1?Vl:(B=Number(k.substring(B,z)),isNaN(B)?Ed:(z+=1,z+B>k.length?Vl:(k=k.slice(z,z+B),f.C=z+B,k)))}Wr.prototype.cancel=function(){this.J=!0,jr(this)};function Jt(f){f.S=Date.now()+f.I,Kh(f,f.I)}function Kh(f,k){if(f.B!=null)throw Error("WatchDog timer not null");f.B=zr(v(f.ba,f),k)}function Io(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Wr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Cd(this.i,this.A),this.L!=2&&(Vi(),ks(17)),jr(this),this.s=2,Ta(this)):Kh(this,this.S-f)};function Ta(f){f.j.G==0||f.J||Zl(f.j,f)}function jr(f){Io(f);var k=f.M;k&&typeof k.ma=="function"&&k.ma(),f.M=null,Fi(f.U),f.g&&(k=f.g,f.g=null,k.abort(),k.ma())}function Id(f,k){try{var B=f.j;if(B.G!=0&&(B.g==f||An(B.h,f))){if(!f.K&&An(B.h,f)&&B.G==3){try{var z=B.Da.g.parse(k)}catch(Dt){z=null}if(Array.isArray(z)&&z.length==3){var ae=z;if(ae[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<f.F)Jl(B),Yr(B);else break e;Yl(B),ks(18)}}else B.za=ae[1],0<B.za-B.T&&37500>ae[2]&&B.F&&B.v==0&&!B.C&&(B.C=zr(v(B.Za,B),6e3));if(1>=Xh(B.h)&&B.ca){try{B.ca()}catch(Dt){}B.ca=void 0}}else Wi(B,11)}else if((f.K||B.g==f)&&Jl(B),!D(k))for(ae=B.Da.g.parse(k),k=0;k<ae.length;k++){let Dt=ae[k];if(B.T=Dt[0],Dt=Dt[1],B.G==2)if(Dt[0]=="c"){B.K=Dt[1],B.ia=Dt[2];const qs=Dt[3];qs!=null&&(B.la=qs,B.j.info("VER="+B.la));const Is=Dt[4];Is!=null&&(B.Aa=Is,B.j.info("SVER="+B.Aa));const Nr=Dt[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(z=1.5*Nr,B.L=z,B.j.info("backChannelRequestTimeoutMs_="+z)),z=B;const ur=f.g;if(ur){const Bo=ur.g?ur.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var he=z.h;he.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Rd(he,he.h),he.h=null))}if(z.D){const tc=ur.g?ur.g.getResponseHeader("X-HTTP-Session-Id"):null;tc&&(z.ya=tc,Kt(z.I,z.D,tc))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-f.F,B.j.info("Handshake RTT: "+B.R+"ms")),z=B;var Me=f;if(z.qa=cp(z,z.J?z.ia:null,z.W),Me.K){Yh(z.h,Me);var Gt=Me,Vs=z.L;Vs&&(Gt.I=Vs),Gt.B&&(Io(Gt),Jt(Gt)),z.g=Me}else Fo(z);0<B.i.length&&xi(B)}else Dt[0]!="stop"&&Dt[0]!="close"||Wi(B,7);else B.G==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?Wi(B,7):sn(B):Dt[0]!="noop"&&B.l&&B.l.ta(Dt),B.v=0)}}Vi(4)}catch(Dt){}}var Qh=class{constructor(f,k){this.g=f,this.map=k}};function Ro(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Xh(f){return f.h?1:f.g?f.g.size:0}function An(f,k){return f.h?f.h==k:f.g?f.g.has(k):!1}function Rd(f,k){f.g?f.g.add(k):f.h=k}function Yh(f,k){f.h&&f.h==k?f.h=null:f.g&&f.g.has(k)&&f.g.delete(k)}Ro.prototype.cancel=function(){if(this.i=Jh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Jh(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let k=f.i;for(const B of f.g.values())k=k.concat(B.D);return k}return C(f.i)}function zl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(u(f)){for(var k=[],B=f.length,z=0;z<B;z++)k.push(f[z]);return k}k=[],B=0;for(z in f)k[B++]=f[z];return k}function Hl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(u(f)||typeof f=="string"){var k=[];f=f.length;for(var B=0;B<f;B++)k.push(B);return k}k=[],B=0;for(const z in f)k[B++]=z;return k}}}function Ca(f,k){if(f.forEach&&typeof f.forEach=="function")f.forEach(k,void 0);else if(u(f)||typeof f=="string")Array.prototype.forEach.call(f,k,void 0);else for(var B=Hl(f),z=zl(f),ae=z.length,he=0;he<ae;he++)k.call(void 0,z[he],B&&B[he],f)}var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dg(f,k){if(f){f=f.split("&");for(var B=0;B<f.length;B++){var z=f[B].indexOf("="),ae=null;if(0<=z){var he=f[B].substring(0,z);ae=f[B].substring(z+1)}else he=f[B];k(he,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Ui(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ui){this.h=f.h,Lo(this,f.j),this.o=f.o,this.g=f.g,Ea(this,f.s),this.l=f.l;var k=f.i,B=new mi;B.i=k.i,k.g&&(B.g=new Map(k.g),B.h=k.h),Aa(this,B),this.m=f.m}else f&&(k=String(f).match(Po))?(this.h=!1,Lo(this,k[1]||"",!0),this.o=Rt(k[2]||""),this.g=Rt(k[3]||"",!0),Ea(this,k[4]),this.l=Rt(k[5]||"",!0),Aa(this,k[6]||"",!0),this.m=Rt(k[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}Ui.prototype.toString=function(){var f=[],k=this.j;k&&f.push(Ra(k,Gl,!0),":");var B=this.g;return(B||k=="file")&&(f.push("//"),(k=this.o)&&f.push(Ra(k,Gl,!0),"@"),f.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&f.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&f.push("/"),f.push(Ra(B,B.charAt(0)=="/"?tp:ep,!0))),(B=this.i.toString())&&f.push("?",B),(B=this.m)&&f.push("#",Ra(B,Pd)),f.join("")};function cr(f){return new Ui(f)}function Lo(f,k,B){f.j=B?Rt(k,!0):k,f.j&&(f.j=f.j.replace(/:$/,""))}function Ea(f,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);f.s=k}else f.s=null}function Aa(f,k,B){k instanceof mi?(f.i=k,fi(f.i,f.h)):(B||(k=Ra(k,sp)),f.i=new mi(k,f.h))}function Kt(f,k,B){f.i.set(k,B)}function Ia(f){return Kt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Rt(f,k){return f?k?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ra(f,k,B){return typeof f=="string"?(f=encodeURI(f).replace(k,Zh),B&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Zh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Gl=/[#\/\?@]/g,ep=/[#\?:]/g,tp=/[#\?]/g,sp=/[#\?@]/g,Pd=/#/g;function mi(f,k){this.h=this.g=null,this.i=f||null,this.j=!!k}function tn(f){f.g||(f.g=new Map,f.h=0,f.i&&Dg(f.i,function(k,B){f.add(decodeURIComponent(k.replace(/\+/g," ")),B)}))}t=mi.prototype,t.add=function(f,k){tn(this),this.i=null,f=Sr(this,f);var B=this.g.get(f);return B||this.g.set(f,B=[]),B.push(k),this.h+=1,this};function qr(f,k){tn(f),k=Sr(f,k),f.g.has(k)&&(f.i=null,f.h-=f.g.get(k).length,f.g.delete(k))}function Kr(f,k){return tn(f),k=Sr(f,k),f.g.has(k)}t.forEach=function(f,k){tn(this),this.g.forEach(function(B,z){B.forEach(function(ae){f.call(k,ae,z,this)},this)},this)},t.na=function(){tn(this);const f=Array.from(this.g.values()),k=Array.from(this.g.keys()),B=[];for(let z=0;z<k.length;z++){const ae=f[z];for(let he=0;he<ae.length;he++)B.push(k[z])}return B},t.V=function(f){tn(this);let k=[];if(typeof f=="string")Kr(this,f)&&(k=k.concat(this.g.get(Sr(this,f))));else{f=Array.from(this.g.values());for(let B=0;B<f.length;B++)k=k.concat(f[B])}return k},t.set=function(f,k){return tn(this),this.i=null,f=Sr(this,f),Kr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[k]),this.h+=1,this},t.get=function(f,k){return f?(f=this.V(f),0<f.length?String(f[0]):k):k};function Pa(f,k,B){qr(f,k),0<B.length&&(f.i=null,f.g.set(Sr(f,k),C(B)),f.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],k=Array.from(this.g.keys());for(var B=0;B<k.length;B++){var z=k[B];const he=encodeURIComponent(String(z)),Me=this.V(z);for(z=0;z<Me.length;z++){var ae=he;Me[z]!==""&&(ae+="="+encodeURIComponent(String(Me[z]))),f.push(ae)}}return this.i=f.join("&")};function Sr(f,k){return k=String(k),f.j&&(k=k.toLowerCase()),k}function fi(f,k){k&&!f.j&&(tn(f),f.i=null,f.g.forEach(function(B,z){var ae=z.toLowerCase();z!=ae&&(qr(this,z),Pa(this,ae,B))},f)),f.j=k}function Mg(f,k){const B=new Co;if(d.Image){const z=new Image;z.onload=b(zn,B,"TestLoadImage: loaded",!0,k,z),z.onerror=b(zn,B,"TestLoadImage: error",!1,k,z),z.onabort=b(zn,B,"TestLoadImage: abort",!1,k,z),z.ontimeout=b(zn,B,"TestLoadImage: timeout",!1,k,z),d.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=f}else k(!1)}function np(f,k){const B=new Co,z=new AbortController,ae=setTimeout(()=>{z.abort(),zn(B,"TestPingServer: timeout",!1,k)},1e4);fetch(f,{signal:z.signal}).then(he=>{clearTimeout(ae),he.ok?zn(B,"TestPingServer: ok",!0,k):zn(B,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(ae),zn(B,"TestPingServer: error",!1,k)})}function zn(f,k,B,z,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),z(B)}catch(he){}}function Fg(){this.g=new ns}function rp(f,k,B){const z=B||"";try{Ca(f,function(ae,he){let Me=ae;h(ae)&&(Me=pi(ae)),k.push(z+he+"="+encodeURIComponent(Me))})}catch(ae){throw k.push(z+"type="+encodeURIComponent("_badmap")),ae}}function zi(f){this.l=f.Ub||null,this.j=f.eb||!1}S(zi,wr),zi.prototype.g=function(){return new Do(this.l,this.j)},zi.prototype.i=(function(f){return function(){return f}})({});function Do(f,k){xt.call(this),this.D=f,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Do,xt),t=Do.prototype,t.open=function(f,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=k,this.readyState=1,Xr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(k.body=f),(this.D||d).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ip(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ip(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var k=f.value?f.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!f.done}))&&(this.response=this.responseText+=k)}f.done?Qr(this):Xr(this),this.readyState==3&&ip(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Qr(this))},t.Qa=function(f){this.g&&(this.response=f,Qr(this))},t.ga=function(){this.g&&Qr(this)};function Qr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Xr(f)}t.setRequestHeader=function(f,k){this.u.append(f,k)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],k=this.h.entries();for(var B=k.next();!B.done;)B=B.value,f.push(B[0]+": "+B[1]),B=k.next();return f.join(`\r
`)};function Xr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Hi(f){let k="";return L(f,function(B,z){k+=z,k+=":",k+=B,k+=`\r
`}),k}function La(f,k,B){e:{for(z in B){var z=!1;break e}z=!0}z||(B=Hi(B),typeof f=="string"?B!=null&&encodeURIComponent(String(B)):Kt(f,k,B))}function os(f){xt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(os,xt);var Bg=/^https?$/i,Ld=["POST","PUT"];t=os.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,k,B,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);k=k?k.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gr.g(),this.v=this.o?Bi(this.o):Bi(Gr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(k,String(f),!0),this.B=!1}catch(he){Mo(this,he);return}if(f=B||"",B=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ae in z)B.set(ae,z[ae]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const he of z.keys())B.set(he,z.get(he));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(B.keys()).find(he=>he.toLowerCase()=="content-type"),ae=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ld,k,void 0))||z||ae||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Me]of B)this.g.setRequestHeader(he,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ql(this),this.u=!0,this.g.send(f),this.u=!1}catch(he){Mo(this,he)}};function Mo(f,k){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=k,f.m=5,Wl(f),dr(f)}function Wl(f){f.A||(f.A=!0,Vt(f,"complete"),Vt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Vt(this,"complete"),Vt(this,"abort"),dr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),os.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Dd(this):this.bb())},t.bb=function(){Dd(this)};function Dd(f){if(f.h&&typeof l!="undefined"&&(!f.v[1]||Hn(f)!=4||f.Z()!=2)){if(f.u&&Hn(f)==4)ir(f.Ea,0,f);else if(Vt(f,"readystatechange"),Hn(f)==4){f.h=!1;try{const Me=f.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var B;if(!(B=k)){var z;if(z=Me===0){var ae=String(f.D).match(Po)[1]||null;!ae&&d.self&&d.self.location&&(ae=d.self.location.protocol.slice(0,-1)),z=!Bg.test(ae?ae.toLowerCase():"")}B=z}if(B)Vt(f,"complete"),Vt(f,"success");else{f.m=6;try{var he=2<Hn(f)?f.g.statusText:""}catch(Gt){he=""}f.l=he+" ["+f.Z()+"]",Wl(f)}}finally{dr(f)}}}}function dr(f,k){if(f.g){ql(f);const B=f.g,z=f.v[0]?()=>{}:null;f.g=null,f.v=null,k||Vt(f,"ready");try{B.onreadystatechange=z}catch(ae){}}}function ql(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Hn(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var k=this.g.responseText;return f&&k.indexOf(f)==0&&(k=k.substring(f.length)),Ur(k)}};function Md(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(k){return null}}function Kl(f){const k={};f=(f.g&&2<=Hn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<f.length;z++){if(D(f[z]))continue;var B=P(f[z]);const ae=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const he=k[ae]||[];k[ae]=he,he.push(B)}N(k,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(f,k,B){return B&&B.internalChannelParams&&B.internalChannelParams[f]||k}function Fd(f){this.Aa=0,this.i=[],this.j=new Co,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gi("baseRetryDelayMs",5e3,f),this.cb=gi("retryDelaySeedMs",1e4,f),this.Wa=gi("forwardChannelMaxRetries",2,f),this.wa=gi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Ro(f&&f.concurrentRequestLimit),this.Da=new Fg,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fd.prototype,t.la=8,t.G=1,t.connect=function(f,k,B,z){ks(0),this.W=f,this.H=k||{},B&&z!==void 0&&(this.H.OSID=B,this.H.OAID=z),this.F=this.X,this.I=cp(this,null,this.W),xi(this)};function sn(f){if(Ql(f),f.G==3){var k=f.U++,B=cr(f.I);if(Kt(B,"SID",f.K),Kt(B,"RID",k),Kt(B,"TYPE","terminate"),Gi(f,B),k=new Wr(f,f.j,k),k.L=2,k.v=Ia(cr(B)),B=!1,d.navigator&&d.navigator.sendBeacon)try{B=d.navigator.sendBeacon(k.v.toString(),"")}catch(z){}!B&&d.Image&&(new Image().src=k.v,B=!0),B||(k.g=dp(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Jt(k)}lp(f)}function Yr(f){f.g&&(Bd(f),f.g.cancel(),f.g=null)}function Ql(f){Yr(f),f.u&&(d.clearTimeout(f.u),f.u=null),Jl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function xi(f){if(!lr(f.h)&&!f.s){f.s=!0;var k=f.Ga;K||ne(),G||(K(),G=!0),te.add(k,f),f.B=0}}function $g(f,k){return Xh(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=k.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=zr(v(f.Ga,f,k),op(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ae=new Wr(this,this.j,f);let he=this.o;if(this.S&&(he?(he=j(he),M(he,this.S)):he=this.S),this.m!==null||this.O||(ae.H=he,he=null),this.P)e:{for(var k=0,B=0;B<this.i.length;B++){t:{var z=this.i[B];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(k+=z,4096<k){k=B;break e}if(k===4096||B===this.i.length-1){k=B+1;break e}}k=1e3}else k=1e3;k=Da(this,ae,k),B=cr(this.I),Kt(B,"RID",f),Kt(B,"CVER",22),this.D&&Kt(B,"X-HTTP-Session-Id",this.D),Gi(this,B),he&&(this.O?k="headers="+encodeURIComponent(String(Hi(he)))+"&"+k:this.m&&La(B,this.m,he)),Rd(this.h,ae),this.Ua&&Kt(B,"TYPE","init"),this.P?(Kt(B,"$req",k),Kt(B,"SID","null"),ae.T=!0,Ul(ae,B,null)):Ul(ae,B,k),this.G=2}}else this.G==3&&(f?Xl(this,f):this.i.length==0||lr(this.h)||Xl(this))};function Xl(f,k){var B;k?B=k.l:B=f.U++;const z=cr(f.I);Kt(z,"SID",f.K),Kt(z,"RID",B),Kt(z,"AID",f.T),Gi(f,z),f.m&&f.o&&La(z,f.m,f.o),B=new Wr(f,f.j,B,f.B+1),f.m===null&&(B.H=f.o),k&&(f.i=k.D.concat(f.i)),k=Da(f,B,1e3),B.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Rd(f.h,B),Ul(B,z,k)}function Gi(f,k){f.H&&L(f.H,function(B,z){Kt(k,z,B)}),f.l&&Ca({},function(B,z){Kt(k,z,B)})}function Da(f,k,B){B=Math.min(f.i.length,B);var z=f.l?v(f.l.Na,f.l,f):null;e:{var ae=f.i;let he=-1;for(;;){const Me=["count="+B];he==-1?0<B?(he=ae[0].g,Me.push("ofs="+he)):he=0:Me.push("ofs="+he);let Gt=!0;for(let Vs=0;Vs<B;Vs++){let Dt=ae[Vs].g;const qs=ae[Vs].map;if(Dt-=he,0>Dt)he=Math.max(0,ae[Vs].g-100),Gt=!1;else try{rp(qs,Me,"req"+Dt+"_")}catch(Is){z&&z(qs)}}if(Gt){z=Me.join("&");break e}}}return f=f.i.splice(0,B),k.D=f,z}function Fo(f){if(!f.g&&!f.u){f.Y=1;var k=f.Fa;K||ne(),G||(K(),G=!0),te.add(k,f),f.v=0}}function Yl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=zr(v(f.Fa,f),op(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,ap(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=zr(v(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ks(10),Yr(this),ap(this))};function Bd(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function ap(f){f.g=new Wr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var k=cr(f.qa);Kt(k,"RID","rpc"),Kt(k,"SID",f.K),Kt(k,"AID",f.T),Kt(k,"CI",f.F?"0":"1"),!f.F&&f.ja&&Kt(k,"TO",f.ja),Kt(k,"TYPE","xmlhttp"),Gi(f,k),f.m&&f.o&&La(k,f.m,f.o),f.L&&(f.g.I=f.L);var B=f.g;f=f.ia,B.L=1,B.v=Ia(cr(k)),B.m=null,B.P=!0,Ad(B,f)}t.Za=function(){this.C!=null&&(this.C=null,Yr(this),Yl(this),ks(19))};function Jl(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Zl(f,k){var B=null;if(f.g==k){Jl(f),Bd(f),f.g=null;var z=2}else if(An(f.h,k))B=k.D,Yh(f.h,k),z=1;else return;if(f.G!=0){if(k.o)if(z==1){B=k.m?k.m.length:0,k=Date.now()-k.F;var ae=f.B;z=To(),Vt(z,new Bl(z,B)),xi(f)}else Fo(f);else if(ae=k.s,ae==3||ae==0&&0<k.X||!(z==1&&$g(f,k)||z==2&&Yl(f)))switch(B&&0<B.length&&(k=f.h,k.i=k.i.concat(B)),ae){case 1:Wi(f,5);break;case 4:Wi(f,10);break;case 3:Wi(f,6);break;default:Wi(f,2)}}}function op(f,k){let B=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(B*=2),B*k}function Wi(f,k){if(f.j.info("Error code "+k),k==2){var B=v(f.fb,f),z=f.Xa;const ae=!z;z=new Ui(z||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lo(z,"https"),Ia(z),ae?Mg(z.toString(),B):np(z.toString(),B)}else ks(2);f.G=0,f.l&&f.l.sa(k),lp(f),Ql(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ks(2)):(this.j.info("Failed to ping google.com"),ks(1))};function lp(f){if(f.G=0,f.ka=[],f.l){const k=Jh(f.h);(k.length!=0||f.i.length!=0)&&(R(f.ka,k),R(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function cp(f,k,B){var z=B instanceof Ui?cr(B):new Ui(B);if(z.g!="")k&&(z.g=k+"."+z.g),Ea(z,z.s);else{var ae=d.location;z=ae.protocol,k=k?k+"."+ae.hostname:ae.hostname,ae=+ae.port;var he=new Ui(null);z&&Lo(he,z),k&&(he.g=k),ae&&Ea(he,ae),B&&(he.l=B),z=he}return B=f.D,k=f.ya,B&&k&&Kt(z,B,k),Kt(z,"VER",f.la),Gi(f,z),z}function dp(f,k,B){if(k&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=f.Ca&&!f.pa?new os(new zi({eb:B})):new os(f.pa),k.Ha(f.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $d(){}t=$d.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ec(){}ec.prototype.g=function(f,k){return new In(f,k)};function In(f,k){xt.call(this),this.g=new Fd(k),this.l=f,this.h=k&&k.messageUrlParams||null,f=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(f?f["X-WebChannel-Content-Type"]=k.messageContentType:f={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(f?f["X-WebChannel-Client-Profile"]=k.va:f={"X-WebChannel-Client-Profile":k.va}),this.g.S=f,(f=k&&k.Sb)&&!D(f)&&(this.g.m=f),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!D(k)&&(this.g.D=k,f=this.h,f!==null&&k in f&&(f=this.h,k in f&&delete f[k])),this.j=new vi(this)}S(In,xt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){sn(this.g)},In.prototype.o=function(f){var k=this.g;if(typeof f=="string"){var B={};B.__data__=f,f=B}else this.u&&(B={},B.__data__=pi(f),f=B);k.i.push(new Qh(k.Ya++,f)),k.G==3&&xi(k)},In.prototype.N=function(){this.g.l=null,delete this.j,sn(this.g),delete this.g,In.aa.N.call(this)};function up(f){ar.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var k=f.__sm__;if(k){e:{for(const B in k){f=B;break e}f=void 0}(this.i=f)&&(f=this.i,k=k!==null&&f in k?k[f]:void 0),this.data=k}else this.data=f}S(up,ar);function hp(){Oi.call(this),this.status=1}S(hp,Oi);function vi(f){this.g=f}S(vi,$d),vi.prototype.ua=function(){Vt(this.g,"a")},vi.prototype.ta=function(f){Vt(this.g,new up(f))},vi.prototype.sa=function(f){Vt(this.g,new hp)},vi.prototype.ra=function(){Vt(this.g,"b")},ec.prototype.createWebChannel=ec.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,$T=function(){return new ec},BT=function(){return To()},FT=or,Dy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ol.NO_ERROR=0,Ol.TIMEOUT=8,Ol.HTTP_ERROR=6,Hm=Ol,Gh.COMPLETE="complete",MT=Gh,$i.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",xt.prototype.listen=xt.prototype.K,ju=$i,os.prototype.listenOnce=os.prototype.L,os.prototype.getLastError=os.prototype.Ka,os.prototype.getLastErrorCode=os.prototype.Ba,os.prototype.getStatus=os.prototype.Z,os.prototype.getResponseJson=os.prototype.Oa,os.prototype.getResponseText=os.prototype.oa,os.prototype.send=os.prototype.ea,os.prototype.setWithCredentials=os.prototype.Ha,DT=os}).apply(typeof cm!="undefined"?cm:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const L2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new P0("@firebase/firestore");function hu(){return jl.logLevel}function qe(t,...e){if(jl.logLevel<=Lt.DEBUG){const s=e.map(G0);jl.debug(`Firestore (${gd}): ${t}`,...s)}}function ba(t,...e){if(jl.logLevel<=Lt.ERROR){const s=e.map(G0);jl.error(`Firestore (${gd}): ${t}`,...s)}}function Xc(t,...e){if(jl.logLevel<=Lt.WARN){const s=e.map(G0);jl.warn(`Firestore (${gd}): ${t}`,...s)}}function G0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t="Unexpected state"){const e=`FIRESTORE (${gd}) INTERNAL ASSERTION FAILED: `+t;throw ba(e),new Error(e)}function qt(t,e){t||dt()}function gt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends Na{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(Nn.UNAUTHENTICATED)))}shutdown(){}}class P9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class L9{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){qt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,s(u)):Promise.resolve();let a=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ma,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},d=u=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((u=>d(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?d(u):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ma)}}),0),l()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((r=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string"),new OT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Nn(e)}}class D9{constructor(e,s,r){this.l=e,this.h=s,this.P=r,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class M9{constructor(e,s,r){this.l=e,this.h=s,this.P=r}getToken(){return Promise.resolve(new D9(this.l,this.h,this.P))}start(e,s){e.enqueueRetryable((()=>s(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class F9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,s){qt(this.o===void 0);const r=a=>{a.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?s(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(qt(typeof s.token=="string"),this.R=s.token,new F9(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),s=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let r=0;r<t;r++)s[r]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$9(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<s&&(r+=e.charAt(i[a]%e.length))}return r}}function zt(t,e){return t<e?-1:t>e?1:0}function Yc(t,e,s){return t.length===e.length&&t.every(((r,i)=>s(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new Be(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new Be(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new Be(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return js.fromMillis(Date.now())}static fromDate(e){return js.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*s));return new js(s,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ft(e)}static min(){return new ft(new js(0,0))}static max(){return new ft(new js(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,s,r){s===void 0?s=0:s>e.length&&dt(),r===void 0?r=e.length-s:r>e.length-s&&dt(),this.segments=e,this.offset=s,this.len=r}get length(){return this.len}isEqual(e){return nh.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof nh?e.forEach((r=>{s.push(r)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,r=this.limit();s<r;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const r=Math.min(e.length,s.length);for(let i=0;i<r;i++){const a=e.get(i),l=s.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class Yt extends nh{construct(e,s,r){return new Yt(e,s,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);s.push(...r.split("/").filter((i=>i.length>0)))}return new Yt(s)}static emptyPath(){return new Yt([])}}const O9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends nh{construct(e,s,r){return new hn(e,s,r)}static isValidIdentifier(e){return O9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hn(["__name__"])}static fromServerFormat(e){const s=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Be(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Be(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Be(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(r+=d,i++):(a(),i++)}if(a(),l)throw new Be(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(s)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(Yt.fromString(e))}static fromName(e){return new Je(Yt.fromString(e).popFirst(5))}static empty(){return new Je(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return Yt.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new Yt(e.slice()))}}function V9(t,e){const s=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ft.fromTimestamp(r===1e9?new js(s+1,0):new js(s,r));return new vo(i,Je.empty(),e)}function U9(t){return new vo(t.readTime,t.key,-1)}class vo{constructor(e,s,r){this.readTime=e,this.documentKey=s,this.largestBatchId=r}static min(){return new vo(ft.min(),Je.empty(),-1)}static max(){return new vo(ft.max(),Je.empty(),-1)}}function z9(t,e){let s=t.readTime.compareTo(e.readTime);return s!==0?s:(s=Je.comparator(t.documentKey,e.documentKey),s!==0?s:zt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==H9)throw t;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new we(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(s,a).next(r,i)}}))}toPromise(){return new Promise(((e,s)=>{this.next(e,s)}))}wrapUserFunction(e){try{const s=e();return s instanceof we?s:we.resolve(s)}catch(s){return we.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction((()=>e(s))):we.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction((()=>e(s))):we.reject(s)}static resolve(e){return new we(((s,r)=>{s(e)}))}static reject(e){return new we(((s,r)=>{r(e)}))}static waitFor(e){return new we(((s,r)=>{let i=0,a=0,l=!1;e.forEach((d=>{++i,d.next((()=>{++a,l&&a===i&&s()}),(u=>r(u)))})),l=!0,a===i&&s()}))}static or(e){let s=we.resolve(!1);for(const r of e)s=s.next((i=>i?we.resolve(i):r()));return s}static forEach(e,s){const r=[];return e.forEach(((i,a)=>{r.push(s.call(this,i,a))})),this.waitFor(r)}static mapArray(e,s){return new we(((r,i)=>{const a=e.length,l=new Array(a);let d=0;for(let u=0;u<a;u++){const h=u;s(e[h]).next((m=>{l[h]=m,++d,d===a&&r(l)}),(m=>i(m)))}}))}static doWhile(e,s){return new we(((r,i)=>{const a=()=>{e()===!0?s().next((()=>{a()}),i):r()};a()}))}}function W9(t){const e=t.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Th(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=r=>this.ie(r),this.se=r=>s.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}W0.oe=-1;function tg(t){return t==null}function xf(t){return t===0&&1/t==-1/0}function q9(t){return typeof t=="number"&&Number.isInteger(t)&&!xf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){let e=0;for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e++;return e}function Rl(t,e){for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e(s,t[s])}function UT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,s){this.comparator=e,this.root=s||cn.EMPTY}insert(e,s){return new xs(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new xs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return s.value;r<0?s=s.left:r>0&&(s=s.right)}return null}indexOf(e){let s=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return s+r.left.size;i<0?r=r.left:(s+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((s,r)=>(e(s,r),!1)))}toString(){const e=[];return this.inorderTraversal(((s,r)=>(e.push(`${s}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dm(this.root,e,this.comparator,!1)}getReverseIterator(){return new dm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dm(this.root,e,this.comparator,!0)}}class dm{constructor(e,s,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=s?r(e.key,s):1,s&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,s,r,i,a){this.key=e,this.value=s,this.color=r!=null?r:cn.RED,this.left=i!=null?i:cn.EMPTY,this.right=a!=null?a:cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,r,i,a){return new cn(e!=null?e:this.key,s!=null?s:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,s,r),null):a===0?i.copy(null,s,null,null,null):i.copy(null,null,null,null,i.right.insert(e,s,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let r,i=this;if(s(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,s),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),s(e,i.key)===0){if(i.right.isEmpty())return cn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,s))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(e,s,r,i,a){return this}insert(e,s,r){return new cn(e,s)}remove(e,s){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new xs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((s,r)=>(e(s),!1)))}forEachInRange(e,s){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;s(i.key)}}forEachWhile(e,s){let r;for(r=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new M2(this.data.getIterator())}getIteratorFrom(e){return new M2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach((r=>{s=s.add(r)})),s}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const s=this.data.getIterator(),r=e.data.getIterator();for(;s.hasNext();){const i=s.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((s=>{e.push(s)})),e}toString(){const e=[];return this.forEach((s=>e.push(s))),"SortedSet("+e.toString()+")"}copy(e){const s=new fn(this.comparator);return s.data=e,s}}class M2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new xr([])}unionWith(e){let s=new fn(hn.comparator);for(const r of this.fields)s=s.add(r);for(const r of e)s=s.add(r);return new xr(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return Yc(this.fields,e.fields,((s,r)=>s.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(i){try{return atob(i)}catch(a){throw typeof DOMException!="undefined"&&a instanceof DOMException?new zT("Invalid base64 string: "+a):a}})(e);return new gn(s)}static fromUint8Array(e){const s=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new gn(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const r=new Uint8Array(s.length);for(let i=0;i<s.length;i++)r[i]=s.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const K9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(t){if(qt(!!t),typeof t=="string"){let e=0;const s=K9.exec(t);if(qt(!!s),s[1]){let i=s[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:As(t.seconds),nanos:As(t.nanos)}}function As(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sl(t){return typeof t=="string"?gn.fromBase64String(t):gn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){var e,s;return((s=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="server_timestamp"}function q0(t){const e=t.mapValue.fields.__previous_value__;return sg(e)?q0(e):e}function rh(t){const e=yo(t.mapValue.fields.__local_write_time__.timestampValue);return new js(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,s,r,i,a,l,d,u,h){this.databaseId=e,this.appId=s,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=u,this.useFetchStreams=h}}class ih{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um={mapValue:{}};function Nl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sg(t)?4:Y9(t)?9007199254740991:X9(t)?10:11:dt()}function Di(t,e){if(t===e)return!0;const s=Nl(t);if(s!==Nl(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rh(t).isEqual(rh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=yo(i.timestampValue),d=yo(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Sl(i.bytesValue).isEqual(Sl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return As(i.geoPointValue.latitude)===As(a.geoPointValue.latitude)&&As(i.geoPointValue.longitude)===As(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return As(i.integerValue)===As(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=As(i.doubleValue),d=As(a.doubleValue);return l===d?xf(l)===xf(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return Yc(t.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},d=a.mapValue.fields||{};if(D2(l)!==D2(d))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(d[u]===void 0||!Di(l[u],d[u])))return!1;return!0})(t,e);default:return dt()}}function ah(t,e){return(t.values||[]).find((s=>Di(s,e)))!==void 0}function Jc(t,e){if(t===e)return 0;const s=Nl(t),r=Nl(e);if(s!==r)return zt(s,r);switch(s){case 0:case 9007199254740991:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=As(a.integerValue||a.doubleValue),u=As(l.integerValue||l.doubleValue);return d<u?-1:d>u?1:d===u?0:isNaN(d)?isNaN(u)?0:-1:1})(t,e);case 3:return F2(t.timestampValue,e.timestampValue);case 4:return F2(rh(t),rh(e));case 5:return zt(t.stringValue,e.stringValue);case 6:return(function(a,l){const d=Sl(a),u=Sl(l);return d.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),u=l.split("/");for(let h=0;h<d.length&&h<u.length;h++){const m=zt(d[h],u[h]);if(m!==0)return m}return zt(d.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=zt(As(a.latitude),As(l.latitude));return d!==0?d:zt(As(a.longitude),As(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return B2(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var d,u,h,m;const g=a.fields||{},v=l.fields||{},b=(d=g.value)===null||d===void 0?void 0:d.arrayValue,S=(u=v.value)===null||u===void 0?void 0:u.arrayValue,C=zt(((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0,((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:B2(b,S)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===um.mapValue&&l===um.mapValue)return 0;if(a===um.mapValue)return 1;if(l===um.mapValue)return-1;const d=a.fields||{},u=Object.keys(d),h=l.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let g=0;g<u.length&&g<m.length;++g){const v=zt(u[g],m[g]);if(v!==0)return v;const b=Jc(d[u[g]],h[m[g]]);if(b!==0)return b}return zt(u.length,m.length)})(t.mapValue,e.mapValue);default:throw dt()}}function F2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return zt(t,e);const s=yo(t),r=yo(e),i=zt(s.seconds,r.seconds);return i!==0?i:zt(s.nanos,r.nanos)}function B2(t,e){const s=t.values||[],r=e.values||[];for(let i=0;i<s.length&&i<r.length;++i){const a=Jc(s[i],r[i]);if(a)return a}return zt(s.length,r.length)}function Zc(t){return My(t)}function My(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(s){const r=yo(s);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(s){return Sl(s).toBase64()})(t.bytesValue):"referenceValue"in t?(function(s){return Je.fromName(s).toString()})(t.referenceValue):"geoPointValue"in t?(function(s){return`geo(${s.latitude},${s.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(s){let r="[",i=!0;for(const a of s.values||[])i?i=!1:r+=",",r+=My(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(s){const r=Object.keys(s.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${My(s.fields[l])}`;return i+"}"})(t.mapValue):dt()}function vf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fy(t){return!!t&&"integerValue"in t}function K0(t){return!!t&&"arrayValue"in t}function $2(t){return!!t&&"nullValue"in t}function O2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gm(t){return!!t&&"mapValue"in t}function X9(t){var e,s;return((s=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="__vector__"}function Mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Rl(t.mapValue.fields,((s,r)=>e.mapValue.fields[s]=Mu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(t.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=Mu(t.arrayValue.values[s]);return e}return Object.assign({},t)}function Y9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let r=0;r<e.length-1;++r)if(s=(s.mapValue.fields||{})[e.get(r)],!Gm(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(s)}setAll(e){let s=hn.emptyPath(),r={},i=[];e.forEach(((l,d)=>{if(!s.isImmediateParentOf(d)){const u=this.getFieldsMap(s);this.applyChanges(u,r,i),r={},i=[],s=d.popLast()}l?r[d.lastSegment()]=Mu(l):i.push(d.lastSegment())}));const a=this.getFieldsMap(s);this.applyChanges(a,r,i)}delete(e){const s=this.field(e.popLast());Gm(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=s.mapValue.fields[e.get(r)];Gm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},s.mapValue.fields[e.get(r)]=i),s=i}return s.mapValue.fields}applyChanges(e,s,r){Rl(s,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new sr(Mu(this.value))}}function HT(t){const e=[];return Rl(t.fields,((s,r)=>{const i=new hn([s]);if(Gm(r)){const a=HT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,s,r,i,a,l,d){this.key=e,this.documentType=s,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Tn(e,0,ft.min(),ft.min(),ft.min(),sr.empty(),0)}static newFoundDocument(e,s,r,i){return new Tn(e,1,s,ft.min(),r,i,0)}static newNoDocument(e,s){return new Tn(e,2,s,ft.min(),ft.min(),sr.empty(),0)}static newUnknownDocument(e,s){return new Tn(e,3,s,ft.min(),ft.min(),sr.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,s){this.position=e,this.inclusive=s}}function V2(t,e,s){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Je.comparator(Je.fromName(l.referenceValue),s.key):r=Jc(l,s.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function U2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let s=0;s<t.position.length;s++)if(!Di(t.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,s="asc"){this.field=e,this.dir=s}}function J9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{}class Bs extends GT{constructor(e,s,r){super(),this.field=e,this.op=s,this.value=r}static create(e,s,r){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,r):new eM(e,s,r):s==="array-contains"?new nM(e,r):s==="in"?new rM(e,r):s==="not-in"?new iM(e,r):s==="array-contains-any"?new aM(e,r):new Bs(e,s,r)}static createKeyFieldInFilter(e,s,r){return s==="in"?new tM(e,r):new sM(e,r)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(Jc(s,this.value)):s!==null&&Nl(this.value)===Nl(s)&&this.matchesComparison(Jc(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends GT{constructor(e,s){super(),this.filters=e,this.op=s,this.ae=null}static create(e,s){return new ci(e,s)}matches(e){return WT(this)?this.filters.find((s=>!s.matches(e)))===void 0:this.filters.find((s=>s.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,s)=>e.concat(s.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WT(t){return t.op==="and"}function qT(t){return Z9(t)&&WT(t)}function Z9(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function By(t){if(t instanceof Bs)return t.field.canonicalString()+t.op.toString()+Zc(t.value);if(qT(t))return t.filters.map((e=>By(e))).join(",");{const e=t.filters.map((s=>By(s))).join(",");return`${t.op}(${e})`}}function KT(t,e){return t instanceof Bs?(function(r,i){return i instanceof Bs&&r.op===i.op&&r.field.isEqual(i.field)&&Di(r.value,i.value)})(t,e):t instanceof ci?(function(r,i){return i instanceof ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,d)=>a&&KT(l,i.filters[d])),!0):!1})(t,e):void dt()}function QT(t){return t instanceof Bs?(function(s){return`${s.field.canonicalString()} ${s.op} ${Zc(s.value)}`})(t):t instanceof ci?(function(s){return s.op.toString()+" {"+s.getFilters().map(QT).join(" ,")+"}"})(t):"Filter"}class eM extends Bs{constructor(e,s,r){super(e,s,r),this.key=Je.fromName(r.referenceValue)}matches(e){const s=Je.comparator(e.key,this.key);return this.matchesComparison(s)}}class tM extends Bs{constructor(e,s){super(e,"in",s),this.keys=XT("in",s)}matches(e){return this.keys.some((s=>s.isEqual(e.key)))}}class sM extends Bs{constructor(e,s){super(e,"not-in",s),this.keys=XT("not-in",s)}matches(e){return!this.keys.some((s=>s.isEqual(e.key)))}}function XT(t,e){var s;return(((s=e.arrayValue)===null||s===void 0?void 0:s.values)||[]).map((r=>Je.fromName(r.referenceValue)))}class nM extends Bs{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return K0(s)&&ah(s.arrayValue,this.value)}}class rM extends Bs{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&ah(this.value.arrayValue,s)}}class iM extends Bs{constructor(e,s){super(e,"not-in",s)}matches(e){if(ah(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&!ah(this.value.arrayValue,s)}}class aM extends Bs{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!K0(s)||!s.arrayValue.values)&&s.arrayValue.values.some((r=>ah(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,s=null,r=[],i=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=s,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=d,this.ue=null}}function z2(t,e=null,s=[],r=[],i=null,a=null,l=null){return new oM(t,e,s,r,i,a,l)}function Q0(t){const e=gt(t);if(e.ue===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map((r=>By(r))).join(","),s+="|ob:",s+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),tg(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map((r=>Zc(r))).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map((r=>Zc(r))).join(",")),e.ue=s}return e.ue}function X0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!J9(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(!KT(t.filters[s],e.filters[s]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U2(t.startAt,e.startAt)&&U2(t.endAt,e.endAt)}function $y(t){return Je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,s=null,r=[],i=[],a=null,l="F",d=null,u=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lM(t,e,s,r,i,a,l,d){return new ka(t,e,s,r,i,a,l,d)}function Y0(t){return new ka(t)}function H2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J0(t){return t.collectionGroup!==null}function Gc(t){const e=gt(t);if(e.ce===null){e.ce=[];const s=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),s.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new fn(hn.comparator);return l.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(d=d.add(h.field))}))})),d})(e).forEach((a=>{s.has(a.canonicalString())||a.isKeyField()||e.ce.push(new oh(a,r))})),s.has(hn.keyField().canonicalString())||e.ce.push(new oh(hn.keyField(),r))}return e.ce}function Ei(t){const e=gt(t);return e.le||(e.le=cM(e,Gc(t))),e.le}function cM(t,e){if(t.limitType==="F")return z2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new oh(i.field,a)}));const s=t.endAt?new ed(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ed(t.startAt.position,t.startAt.inclusive):null;return z2(t.path,t.collectionGroup,e,t.filters,t.limit,s,r)}}function Oy(t,e){const s=t.filters.concat([e]);return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),s,t.limit,t.limitType,t.startAt,t.endAt)}function yf(t,e,s){return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,s,t.startAt,t.endAt)}function ng(t,e){return X0(Ei(t),Ei(e))&&t.limitType===e.limitType}function YT(t){return`${Q0(Ei(t))}|lt:${t.limitType}`}function Ic(t){return`Query(target=${(function(s){let r=s.path.canonicalString();return s.collectionGroup!==null&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map((i=>QT(i))).join(", ")}]`),tg(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),s.startAt&&(r+=", startAt: ",r+=s.startAt.inclusive?"b:":"a:",r+=s.startAt.position.map((i=>Zc(i))).join(",")),s.endAt&&(r+=", endAt: ",r+=s.endAt.inclusive?"a:":"b:",r+=s.endAt.position.map((i=>Zc(i))).join(",")),`Target(${r})`})(Ei(t))}; limitType=${t.limitType})`}function rg(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Gc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,d,u){const h=V2(l,d,u);return l.inclusive?h<=0:h<0})(r.startAt,Gc(r),i)||r.endAt&&!(function(l,d,u){const h=V2(l,d,u);return l.inclusive?h>=0:h>0})(r.endAt,Gc(r),i))})(t,e)}function dM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JT(t){return(e,s)=>{let r=!1;for(const i of Gc(t)){const a=uM(i,e,s);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function uM(t,e,s){const r=t.field.isKeyField()?Je.comparator(e.key,s.key):(function(a,l,d){const u=l.data.field(a),h=d.data.field(a);return u!==null&&h!==null?Jc(u,h):dt()})(t.field,e,s);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,s){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,s]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,s]);i.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[s]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rl(this.inner,((s,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new xs(Je.comparator);function _a(){return hM}const ZT=new xs(Je.comparator);function Su(...t){let e=ZT;for(const s of t)e=e.insert(s.key,s);return e}function eC(t){let e=ZT;return t.forEach(((s,r)=>e=e.insert(s,r.overlayedDocument))),e}function ul(){return Fu()}function tC(){return Fu()}function Fu(){return new xd((t=>t.toString()),((t,e)=>t.isEqual(e)))}const pM=new xs(Je.comparator),mM=new fn(Je.comparator);function It(...t){let e=mM;for(const s of t)e=e.add(s);return e}const fM=new fn(zt);function gM(){return fM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(e)?"-0":e}}function sC(t){return{integerValue:""+t}}function xM(t,e){return q9(e)?sC(e):Z0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this._=void 0}}function vM(t,e,s){return t instanceof lh?(function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&sg(a)&&(a=q0(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}})(s,e):t instanceof ch?rC(t,e):t instanceof dh?iC(t,e):(function(i,a){const l=nC(i,a),d=G2(l)+G2(i.Pe);return Fy(l)&&Fy(i.Pe)?sC(d):Z0(i.serializer,d)})(t,e)}function yM(t,e,s){return t instanceof ch?rC(t,e):t instanceof dh?iC(t,e):s}function nC(t,e){return t instanceof bf?(function(r){return Fy(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class lh extends ig{}class ch extends ig{constructor(e){super(),this.elements=e}}function rC(t,e){const s=aC(e);for(const r of t.elements)s.some((i=>Di(i,r)))||s.push(r);return{arrayValue:{values:s}}}class dh extends ig{constructor(e){super(),this.elements=e}}function iC(t,e){let s=aC(e);for(const r of t.elements)s=s.filter((i=>!Di(i,r)));return{arrayValue:{values:s}}}class bf extends ig{constructor(e,s){super(),this.serializer=e,this.Pe=s}}function G2(t){return As(t.integerValue||t.doubleValue)}function aC(t){return K0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,s){this.field=e,this.transform=s}}function _M(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof ch&&i instanceof ch||r instanceof dh&&i instanceof dh?Yc(r.elements,i.elements,Di):r instanceof bf&&i instanceof bf?Di(r.Pe,i.Pe):r instanceof lh&&i instanceof lh})(t.transform,e.transform)}class wM{constructor(e,s){this.version=e,this.transformResults=s}}class Br{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ag{}function oC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new e1(t.key,Br.none()):new Ch(t.key,t.data,Br.none());{const s=t.data,r=sr.empty();let i=new fn(hn.comparator);for(let a of e.fields)if(!i.has(a)){let l=s.field(a);l===null&&a.length>1&&(a=a.popLast(),l=s.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new So(t.key,r,new xr(i.toArray()),Br.none())}}function jM(t,e,s){t instanceof Ch?(function(i,a,l){const d=i.value.clone(),u=q2(i.fieldTransforms,a,l.transformResults);d.setAll(u),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,s):t instanceof So?(function(i,a,l){if(!Wm(i.precondition,a))return void a.convertToUnknownDocument(l.version);const d=q2(i.fieldTransforms,a,l.transformResults),u=a.data;u.setAll(lC(i)),u.setAll(d),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,s):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,s)}function Bu(t,e,s,r){return t instanceof Ch?(function(a,l,d,u){if(!Wm(a.precondition,l))return d;const h=a.value.clone(),m=K2(a.fieldTransforms,u,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,s,r):t instanceof So?(function(a,l,d,u){if(!Wm(a.precondition,l))return d;const h=K2(a.fieldTransforms,u,l),m=l.data;return m.setAll(lC(a)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(t,e,s,r):(function(a,l,d){return Wm(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,s)}function SM(t,e){let s=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=nC(r.transform,i||null);a!=null&&(s===null&&(s=sr.empty()),s.set(r.field,a))}return s||null}function W2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yc(r,i,((a,l)=>_M(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ch extends ag{constructor(e,s,r,i=[]){super(),this.key=e,this.value=s,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class So extends ag{constructor(e,s,r,i,a=[]){super(),this.key=e,this.data=s,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lC(t){const e=new Map;return t.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const r=t.data.field(s);e.set(s,r)}})),e}function q2(t,e,s){const r=new Map;qt(t.length===s.length);for(let i=0;i<s.length;i++){const a=t[i],l=a.transform,d=e.data.field(a.field);r.set(a.field,yM(l,d,s[i]))}return r}function K2(t,e,s){const r=new Map;for(const i of t){const a=i.transform,l=s.data.field(i.field);r.set(i.field,vM(a,l,e))}return r}class e1 extends ag{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NM extends ag{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,s,r,i){this.batchId=e,this.localWriteTime=s,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,s){const r=s.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&jM(a,e,r[i])}}applyToLocalView(e,s){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(s=Bu(r,e,s,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(s=Bu(r,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const r=tC();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=s.has(i.key)?null:d;const u=oC(l,d);u!==null&&r.set(i.key,u),l.isValidDocument()||l.convertToNoDocument(ft.min())})),r}keys(){return this.mutations.reduce(((e,s)=>e.add(s.key)),It())}isEqual(e){return this.batchId===e.batchId&&Yc(this.mutations,e.mutations,((s,r)=>W2(s,r)))&&Yc(this.baseMutations,e.baseMutations,((s,r)=>W2(s,r)))}}class t1{constructor(e,s,r,i){this.batch=e,this.commitVersion=s,this.mutationResults=r,this.docVersions=i}static from(e,s,r){qt(e.mutations.length===r.length);let i=(function(){return pM})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new t1(e,s,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,s){this.count=e,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ls,Mt;function EM(t){switch(t){default:return dt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function cC(t){if(t===void 0)return ba("GRPC error has no .code"),me.UNKNOWN;switch(t){case Ls.OK:return me.OK;case Ls.CANCELLED:return me.CANCELLED;case Ls.UNKNOWN:return me.UNKNOWN;case Ls.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Ls.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Ls.INTERNAL:return me.INTERNAL;case Ls.UNAVAILABLE:return me.UNAVAILABLE;case Ls.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Ls.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Ls.NOT_FOUND:return me.NOT_FOUND;case Ls.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Ls.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Ls.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Ls.ABORTED:return me.ABORTED;case Ls.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Ls.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Ls.DATA_LOSS:return me.DATA_LOSS;default:return dt()}}(Mt=Ls||(Ls={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new gl([4294967295,4294967295],0);function Q2(t){const e=AM().encode(t),s=new LT;return s.update(e),new Uint8Array(s.digest())}function X2(t){const e=new DataView(t.buffer),s=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new gl([s,r],0),new gl([i,a],0)]}class s1{constructor(e,s,r){if(this.bitmap=e,this.padding=s,this.hashCount=r,s<0||s>=8)throw new Nu(`Invalid padding: ${s}`);if(r<0)throw new Nu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${r}`);if(e.length===0&&s!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${s}`);this.Ie=8*e.length-s,this.Te=gl.fromNumber(this.Ie)}Ee(e,s,r){let i=e.add(s.multiply(gl.fromNumber(r)));return i.compare(IM)===1&&(i=new gl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const s=Q2(e),[r,i]=X2(s);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);if(!this.de(l))return!1}return!0}static create(e,s,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new s1(a,i,s);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.Ie===0)return;const s=Q2(e),[r,i]=X2(s);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);this.Ae(l)}}Ae(e){const s=Math.floor(e/8),r=e%8;this.bitmap[s]|=1<<r}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,s,r,i,a){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,s,r){const i=new Map;return i.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,s,r)),new og(ft.min(),i,new xs(zt),_a(),It())}}class Eh{constructor(e,s,r,i,a){this.resumeToken=e,this.current=s,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,s,r){return new Eh(r,s,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,s,r,i){this.Re=e,this.removedTargetIds=s,this.key=r,this.Ve=i}}class dC{constructor(e,s){this.targetId=e,this.me=s}}class uC{constructor(e,s,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=s,this.resumeToken=r,this.cause=i}}class Y2{constructor(){this.fe=0,this.ge=Z2(),this.pe=gn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=It(),s=It(),r=It();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:s=s.add(i);break;case 1:r=r.add(i);break;default:dt()}})),new Eh(this.pe,this.ye,e,s,r)}Ce(){this.we=!1,this.ge=Z2()}Fe(e,s){this.we=!0,this.ge=this.ge.insert(e,s)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class RM{constructor(e){this.Le=e,this.Be=new Map,this.ke=_a(),this.qe=J2(),this.Qe=new xs(zt)}Ke(e){for(const s of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(s,e.Ve):this.Ue(s,e.key,e.Ve);for(const s of e.removedTargetIds)this.Ue(s,e.key,e.Ve)}We(e){this.forEachTarget(e,(s=>{const r=this.Ge(s);switch(e.state){case 0:this.ze(s)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(s);break;case 3:this.ze(s)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(s)&&(this.je(s),r.De(e.resumeToken));break;default:dt()}}))}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.Be.forEach(((r,i)=>{this.ze(i)&&s(i)}))}He(e){const s=e.targetId,r=e.me.count,i=this.Je(s);if(i){const a=i.target;if($y(a))if(r===0){const l=new Je(a.path);this.Ue(s,l,Tn.newNoDocument(l,ft.min()))}else qt(r===1);else{const l=this.Ye(s);if(l!==r){const d=this.Ze(e),u=d?this.Xe(d,e,l):1;if(u!==0){this.je(s);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(s,h)}}}}}Ze(e){const s=e.me.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=s;let l,d;try{l=Sl(r).toUint8Array()}catch(u){if(u instanceof zT)return Xc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{d=new s1(l,i,a)}catch(u){return Xc(u instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return d.Ie===0?null:d}Xe(e,s,r){return s.me.count===r-this.nt(e,s.targetId)?0:2}nt(e,s){const r=this.Le.getRemoteKeysForTarget(s);let i=0;return r.forEach((a=>{const l=this.Le.tt(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Ue(s,a,null),i++)})),i}rt(e){const s=new Map;this.Be.forEach(((a,l)=>{const d=this.Je(l);if(d){if(a.current&&$y(d.target)){const u=new Je(d.target.path);this.ke.get(u)!==null||this.it(l,u)||this.Ue(l,u,Tn.newNoDocument(u,e))}a.be&&(s.set(l,a.ve()),a.Ce())}}));let r=It();this.qe.forEach(((a,l)=>{let d=!0;l.forEachWhile((u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ke.forEach(((a,l)=>l.setReadTime(e)));const i=new og(e,s,this.Qe,this.ke,r);return this.ke=_a(),this.qe=J2(),this.Qe=new xs(zt),i}$e(e,s){if(!this.ze(e))return;const r=this.it(e,s.key)?2:0;this.Ge(e).Fe(s.key,r),this.ke=this.ke.insert(s.key,s),this.qe=this.qe.insert(s.key,this.st(s.key).add(e))}Ue(e,s,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,s)?i.Fe(s,1):i.Me(s),this.qe=this.qe.insert(s,this.st(s).delete(e)),r&&(this.ke=this.ke.insert(s,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const s=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let s=this.Be.get(e);return s||(s=new Y2,this.Be.set(e,s)),s}st(e){let s=this.qe.get(e);return s||(s=new fn(zt),this.qe=this.qe.insert(e,s)),s}ze(e){const s=this.Je(e)!==null;return s||qe("WatchChangeAggregator","Detected inactive target",e),s}Je(e){const s=this.Be.get(e);return s&&s.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Y2),this.Le.getRemoteKeysForTarget(e).forEach((s=>{this.Ue(e,s,null)}))}it(e,s){return this.Le.getRemoteKeysForTarget(e).has(s)}}function J2(){return new xs(Je.comparator)}function Z2(){return new xs(Je.comparator)}const PM={asc:"ASCENDING",desc:"DESCENDING"},LM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DM={and:"AND",or:"OR"};class MM{constructor(e,s){this.databaseId=e,this.useProto3Json=s}}function Vy(t,e){return t.useProto3Json||tg(e)?e:{value:e}}function _f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FM(t,e){return _f(t,e.toTimestamp())}function Ai(t){return qt(!!t),ft.fromTimestamp((function(s){const r=yo(s);return new js(r.seconds,r.nanos)})(t))}function n1(t,e){return Uy(t,e).canonicalString()}function Uy(t,e){const s=(function(i){return new Yt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?s:s.child(e)}function pC(t){const e=Yt.fromString(t);return qt(vC(e)),e}function zy(t,e){return n1(t.databaseId,e.path)}function bv(t,e){const s=pC(e);if(s.get(1)!==t.databaseId.projectId)throw new Be(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+t.databaseId.projectId);if(s.get(3)!==t.databaseId.database)throw new Be(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+t.databaseId.database);return new Je(fC(s))}function mC(t,e){return n1(t.databaseId,e)}function BM(t){const e=pC(t);return e.length===4?Yt.emptyPath():fC(e)}function Hy(t){return new Yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fC(t){return qt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ej(t,e,s){return{name:zy(t,e),fields:s.value.mapValue.fields}}function $M(t,e){let s;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:dt()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,m){return h.useProto3Json?(qt(m===void 0||typeof m=="string"),gn.fromBase64String(m||"")):(qt(m===void 0||m instanceof Buffer||m instanceof Uint8Array),gn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(h){const m=h.code===void 0?me.UNKNOWN:cC(h.code);return new Be(m,h.message||"")})(l);s=new uC(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bv(t,r.document.name),a=Ai(r.document.updateTime),l=r.document.createTime?Ai(r.document.createTime):ft.min(),d=new sr({mapValue:{fields:r.document.fields}}),u=Tn.newFoundDocument(i,a,l,d),h=r.targetIds||[],m=r.removedTargetIds||[];s=new qm(h,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bv(t,r.document),a=r.readTime?Ai(r.readTime):ft.min(),l=Tn.newNoDocument(i,a),d=r.removedTargetIds||[];s=new qm([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bv(t,r.document),a=r.removedTargetIds||[];s=new qm([],a,i,null)}else{if(!("filter"in e))return dt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new CM(i,a),d=r.targetId;s=new dC(d,l)}}return s}function OM(t,e){let s;if(e instanceof Ch)s={update:ej(t,e.key,e.value)};else if(e instanceof e1)s={delete:zy(t,e.key)};else if(e instanceof So)s={update:ej(t,e.key,e.data),updateMask:QM(e.fieldMask)};else{if(!(e instanceof NM))return dt();s={verify:zy(t,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof lh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ch)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof dh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof bf)return{fieldPath:l.field.canonicalString(),increment:d.Pe};throw dt()})(0,r)))),e.precondition.isNone||(s.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:FM(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:dt()})(t,e.precondition)),s}function VM(t,e){return t&&t.length>0?(qt(e!==void 0),t.map((s=>(function(i,a){let l=i.updateTime?Ai(i.updateTime):Ai(a);return l.isEqual(ft.min())&&(l=Ai(a)),new wM(l,i.transformResults||[])})(s,e)))):[]}function UM(t,e){return{documents:[mC(t,e.path)]}}function zM(t,e){const s={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),s.structuredQuery.from=[{collectionId:r.lastSegment()}]),s.parent=mC(t,i);const a=(function(h){if(h.length!==0)return xC(ci.create(h,"and"))})(e.filters);a&&(s.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((m=>(function(v){return{field:Rc(v.field),direction:WM(v.dir)}})(m)))})(e.orderBy);l&&(s.structuredQuery.orderBy=l);const d=Vy(t,e.limit);return d!==null&&(s.structuredQuery.limit=d),e.startAt&&(s.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(s.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{_t:s,parent:i}}function HM(t){let e=BM(t.parent);const s=t.structuredQuery,r=s.from?s.from.length:0;let i=null;if(r>0){qt(r===1);const m=s.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];s.where&&(a=(function(g){const v=gC(g);return v instanceof ci&&qT(v)?v.getFilters():[v]})(s.where));let l=[];s.orderBy&&(l=(function(g){return g.map((v=>(function(S){return new oh(Pc(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(s.orderBy));let d=null;s.limit&&(d=(function(g){let v;return v=typeof g=="object"?g.value:g,tg(v)?null:v})(s.limit));let u=null;s.startAt&&(u=(function(g){const v=!!g.before,b=g.values||[];return new ed(b,v)})(s.startAt));let h=null;return s.endAt&&(h=(function(g){const v=!g.before,b=g.values||[];return new ed(b,v)})(s.endAt)),lM(e,i,l,a,d,"F",u,h)}function GM(t,e){const s=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}})(e.purpose);return s==null?null:{"goog-listen-tags":s}}function gC(t){return t.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const r=Pc(s.unaryFilter.field);return Bs.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Pc(s.unaryFilter.field);return Bs.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pc(s.unaryFilter.field);return Bs.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Pc(s.unaryFilter.field);return Bs.create(l,"!=",{nullValue:"NULL_VALUE"});default:return dt()}})(t):t.fieldFilter!==void 0?(function(s){return Bs.create(Pc(s.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}})(s.fieldFilter.op),s.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(s){return ci.create(s.compositeFilter.filters.map((r=>gC(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return dt()}})(s.compositeFilter.op))})(t):dt()}function WM(t){return PM[t]}function qM(t){return LM[t]}function KM(t){return DM[t]}function Rc(t){return{fieldPath:t.canonicalString()}}function Pc(t){return hn.fromServerFormat(t.fieldPath)}function xC(t){return t instanceof Bs?(function(s){if(s.op==="=="){if(O2(s.value))return{unaryFilter:{field:Rc(s.field),op:"IS_NAN"}};if($2(s.value))return{unaryFilter:{field:Rc(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(O2(s.value))return{unaryFilter:{field:Rc(s.field),op:"IS_NOT_NAN"}};if($2(s.value))return{unaryFilter:{field:Rc(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rc(s.field),op:qM(s.op),value:s.value}}})(t):t instanceof ci?(function(s){const r=s.getFilters().map((i=>xC(i)));return r.length===1?r[0]:{compositeFilter:{op:KM(s.op),filters:r}}})(t):dt()}function QM(t){const e=[];return t.fields.forEach((s=>e.push(s.canonicalString()))),{fieldPaths:e}}function vC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,s,r,i,a=ft.min(),l=ft.min(),d=gn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=s,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=u}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,s){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.ct=e}}function YM(t){const e=HM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.un=new ZM}addToCollectionParentIndex(e,s){return this.un.add(s),we.resolve()}getCollectionParents(e,s){return we.resolve(this.un.getEntries(s))}addFieldIndex(e,s){return we.resolve()}deleteFieldIndex(e,s){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,s){return we.resolve()}getDocumentsMatchingTarget(e,s){return we.resolve(null)}getIndexType(e,s){return we.resolve(0)}getFieldIndexes(e,s){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,s){return we.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,s){return we.resolve(vo.min())}updateCollectionGroup(e,s,r){return we.resolve()}updateIndexEntries(e,s){return we.resolve()}}class ZM{constructor(){this.index={}}add(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s]||new fn(Yt.comparator),a=!i.has(r);return this.index[s]=i.add(r),a}has(e){const s=e.lastSegment(),r=e.popLast(),i=this.index[s];return i&&i.has(r)}getEntries(e){return(this.index[e]||new fn(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new td(0)}static kn(){return new td(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(){this.changes=new xd((e=>e.toString()),((e,s)=>e.isEqual(s))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const r=this.changes.get(s);return r!==void 0?we.resolve(r):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,s,r,i){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,s){let r=null;return this.documentOverlayCache.getOverlay(e,s).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,s)))).next((i=>(r!==null&&Bu(r.mutation,i,xr.empty(),js.now()),i)))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,s,r=It()){const i=ul();return this.populateOverlays(e,i,s).next((()=>this.computeViews(e,s,i,r).next((a=>{let l=Su();return a.forEach(((d,u)=>{l=l.insert(d,u.overlayedDocument)})),l}))))}getOverlayedDocuments(e,s){const r=ul();return this.populateOverlays(e,r,s).next((()=>this.computeViews(e,s,r,It())))}populateOverlays(e,s,r){const i=[];return r.forEach((a=>{s.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,d)=>{s.set(l,d)}))}))}computeViews(e,s,r,i){let a=_a();const l=Fu(),d=(function(){return Fu()})();return s.forEach(((u,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof So)?a=a.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Bu(m.mutation,h,m.mutation.getFieldMask(),js.now())):l.set(h.key,xr.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((h,m)=>l.set(h,m))),s.forEach(((h,m)=>{var g;return d.set(h,new t7(m,(g=l.get(h))!==null&&g!==void 0?g:null))})),d)))}recalculateAndSaveOverlays(e,s){const r=Fu();let i=new xs(((l,d)=>l-d)),a=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next((l=>{for(const d of l)d.keys().forEach((u=>{const h=s.get(u);if(h===null)return;let m=r.get(u)||xr.empty();m=d.applyToLocalView(h,m),r.set(u,m);const g=(i.get(d.batchId)||It()).add(u);i=i.insert(d.batchId,g)}))})).next((()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const u=d.getNext(),h=u.key,m=u.value,g=tC();m.forEach((v=>{if(!a.has(v)){const b=oC(s.get(v),r.get(v));b!==null&&g.set(v,b),a=a.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return we.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,s,r,i){return(function(l){return Je.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):J0(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,r,i):this.getDocumentsMatchingCollectionQuery(e,s,r,i)}getNextDocuments(e,s,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,r.largestBatchId,i-a.size):we.resolve(ul());let d=-1,u=a;return l.next((h=>we.forEach(h,((m,g)=>(d<g.largestBatchId&&(d=g.largestBatchId),a.get(m)?we.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{u=u.insert(m,v)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,u,h,It()))).next((m=>({batchId:d,changes:eC(m)})))))}))}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new Je(s)).next((r=>{let i=Su();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,s,r,i){const a=s.collectionGroup;let l=Su();return this.indexManager.getCollectionParents(e,a).next((d=>we.forEach(d,(u=>{const h=(function(g,v){return new ka(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(s,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((g,v)=>{l=l.insert(g,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,s,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,r,a,i)))).next((l=>{a.forEach(((u,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,Tn.newInvalidDocument(m)))}));let d=Su();return l.forEach(((u,h)=>{const m=a.get(u);m!==void 0&&Bu(m.mutation,h,xr.empty(),js.now()),rg(s,h)&&(d=d.insert(u,h))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,s){return we.resolve(this.hr.get(s))}saveBundleMetadata(e,s){return this.hr.set(s.id,(function(i){return{id:i.id,version:i.version,createTime:Ai(i.createTime)}})(s)),we.resolve()}getNamedQuery(e,s){return we.resolve(this.Pr.get(s))}saveNamedQuery(e,s){return this.Pr.set(s.name,(function(i){return{name:i.name,query:YM(i.bundledQuery),readTime:Ai(i.readTime)}})(s)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.overlays=new xs(Je.comparator),this.Ir=new Map}getOverlay(e,s){return we.resolve(this.overlays.get(s))}getOverlays(e,s){const r=ul();return we.forEach(s,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,s,r){return r.forEach(((i,a)=>{this.ht(e,s,a)})),we.resolve()}removeOverlaysForBatchId(e,s,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),we.resolve()}getOverlaysForCollection(e,s,r){const i=ul(),a=s.length+1,l=new Je(s.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const u=d.getNext().value,h=u.getKey();if(!s.isPrefixOf(h.path))break;h.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return we.resolve(i)}getOverlaysForCollectionGroup(e,s,r,i){let a=new xs(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===s&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=ul(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const d=ul(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,m)=>d.set(h,m))),!(d.size()>=i)););return we.resolve(d)}ht(e,s,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new TM(s,r));let a=this.Ir.get(s);a===void 0&&(a=It(),this.Ir.set(s,a)),this.Ir.set(s,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,s){return this.sessionToken=s,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.Tr=new fn(Js.Er),this.dr=new fn(Js.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,s){const r=new Js(e,s);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,s){e.forEach((r=>this.addReference(r,s)))}removeReference(e,s){this.Vr(new Js(e,s))}mr(e,s){e.forEach((r=>this.removeReference(r,s)))}gr(e){const s=new Je(new Yt([])),r=new Js(s,e),i=new Js(s,e+1),a=[];return this.dr.forEachInRange([r,i],(l=>{this.Vr(l),a.push(l.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const s=new Je(new Yt([])),r=new Js(s,e),i=new Js(s,e+1);let a=It();return this.dr.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const s=new Js(e,0),r=this.Tr.firstAfterOrEqual(s);return r!==null&&e.isEqual(r.key)}}class Js{constructor(e,s){this.key=e,this.wr=s}static Er(e,s){return Je.comparator(e.key,s.key)||zt(e.wr,s.wr)}static Ar(e,s){return zt(e.wr,s.wr)||Je.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.Sr=1,this.br=new fn(Js.Er)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new kM(a,s,r,i);this.mutationQueue.push(l);for(const d of i)this.br=this.br.add(new Js(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return we.resolve(l)}lookupMutationBatch(e,s){return we.resolve(this.Dr(s))}getNextMutationBatchAfterBatchId(e,s){const r=s+1,i=this.vr(r),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const r=new Js(s,0),i=new Js(s,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],(l=>{const d=this.Dr(l.wr);a.push(d)})),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,s){let r=new fn(zt);return s.forEach((i=>{const a=new Js(i,0),l=new Js(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],(d=>{r=r.add(d.wr)}))})),we.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,s){const r=s.path,i=r.length+1;let a=r;Je.isDocumentKey(a)||(a=a.child(""));const l=new Js(new Je(a),0);let d=new fn(zt);return this.br.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(d=d.add(u.wr)),!0)}),l),we.resolve(this.Cr(d))}Cr(e){const s=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&s.push(i)})),s}removeMutationBatch(e,s){qt(this.Fr(s.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return we.forEach(s.mutations,(i=>{const a=new Js(i.key,s.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,s){const r=new Js(s,0),i=this.br.firstAfterOrEqual(r);return we.resolve(s.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Fr(e,s){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const s=this.vr(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.Mr=e,this.docs=(function(){return new xs(Je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const r=s.key,i=this.docs.get(r),a=i?i.size:0,l=this.Mr(s);return this.docs=this.docs.insert(r,{document:s.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const r=this.docs.get(s);return we.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(s))}getEntries(e,s){let r=_a();return s.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Tn.newInvalidDocument(i))})),we.resolve(r)}getDocumentsMatchingQuery(e,s,r,i){let a=_a();const l=s.path,d=new Je(l.child("")),u=this.docs.getIteratorFrom(d);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||z9(U9(m),r)<=0||(i.has(m.key)||rg(s,m))&&(a=a.insert(m.key,m.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,s,r,i){dt()}Or(e,s){return we.forEach(this.docs,(r=>s(r)))}newChangeBuffer(e){return new l7(this)}getSize(e){return we.resolve(this.size)}}class l7 extends e7{constructor(e){super(),this.cr=e}applyChanges(e){const s=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?s.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),we.waitFor(s)}getFromCache(e,s){return this.cr.getEntry(e,s)}getAllFromCache(e,s){return this.cr.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.persistence=e,this.Nr=new xd((s=>Q0(s)),X0),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.Lr=0,this.Br=new r1,this.targetCount=0,this.kr=td.Bn()}forEachTarget(e,s){return this.Nr.forEach(((r,i)=>s(i))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,s,r){return r&&(this.lastRemoteSnapshotVersion=r),s>this.Lr&&(this.Lr=s),we.resolve()}Kn(e){this.Nr.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.kr=new td(s),this.highestTargetId=s),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,s){return this.Kn(s),this.targetCount+=1,we.resolve()}updateTargetData(e,s){return this.Kn(s),we.resolve()}removeTargetData(e,s){return this.Nr.delete(s.target),this.Br.gr(s.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,s,r){let i=0;const a=[];return this.Nr.forEach(((l,d)=>{d.sequenceNumber<=s&&r.get(d.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),we.waitFor(a).next((()=>i))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,s){const r=this.Nr.get(s)||null;return we.resolve(r)}addMatchingKeys(e,s,r){return this.Br.Rr(s,r),we.resolve()}removeMatchingKeys(e,s,r){this.Br.mr(s,r);const i=this.persistence.referenceDelegate,a=[];return i&&s.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),we.waitFor(a)}removeMatchingKeysForTargetId(e,s){return this.Br.gr(s),we.resolve()}getMatchingKeysForTargetId(e,s){const r=this.Br.yr(s);return we.resolve(r)}containsKey(e,s){return we.resolve(this.Br.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,s){this.qr={},this.overlays={},this.Qr=new W0(0),this.Kr=!1,this.Kr=!0,this.$r=new i7,this.referenceDelegate=e(this),this.Ur=new c7(this),this.indexManager=new JM,this.remoteDocumentCache=(function(i){return new o7(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new XM(s),this.Gr=new n7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new r7,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let r=this.qr[e.toKey()];return r||(r=new a7(s,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,s,r){qe("MemoryPersistence","Starting transaction:",e);const i=new u7(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,s){return we.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,s))))}}class u7 extends G9{constructor(e){super(),this.currentSequenceNumber=e}}class i1{constructor(e){this.persistence=e,this.Jr=new r1,this.Yr=null}static Zr(e){return new i1(e)}get Xr(){if(this.Yr)return this.Yr;throw dt()}addReference(e,s,r){return this.Jr.addReference(r,s),this.Xr.delete(r.toString()),we.resolve()}removeReference(e,s,r){return this.Jr.removeReference(r,s),this.Xr.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,s){return this.Xr.add(s.toString()),we.resolve()}removeTarget(e,s){this.Jr.gr(s.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,s.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,s)))}zr(){this.Yr=new Set}jr(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Xr,(r=>{const i=Je.fromPath(r);return this.ei(e,i).next((a=>{a||s.removeEntry(i,ft.min())}))})).next((()=>(this.Yr=null,s.apply(e))))}updateLimboDocument(e,s){return this.ei(e,s).next((r=>{r?this.Xr.delete(s.toString()):this.Xr.add(s.toString())}))}Wr(e){return 0}ei(e,s){return we.or([()=>we.resolve(this.Jr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.Hr(e,s)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,s,r,i){this.targetId=e,this.fromCache=s,this.$i=r,this.Ui=i}static Wi(e,s){let r=It(),i=It();for(const a of s.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new a1(e,s.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return hL()?8:W9(Cn())>0?6:4})()}initialize(e,s){this.Ji=e,this.indexManager=s,this.Gi=!0}getDocumentsMatchingQuery(e,s,r,i){const a={result:null};return this.Yi(e,s).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.Zi(e,s,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new h7;return this.Xi(e,s,l).next((d=>{if(a.result=d,this.zi)return this.es(e,s,l,d.size)}))})).next((()=>a.result))}es(e,s,r,i){return r.documentReadCount<this.ji?(hu()<=Lt.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",Ic(s),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),we.resolve()):(hu()<=Lt.DEBUG&&qe("QueryEngine","Query:",Ic(s),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hu()<=Lt.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",Ic(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(s))):we.resolve())}Yi(e,s){if(H2(s))return we.resolve(null);let r=Ei(s);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(s.limit!==null&&i===1&&(s=yf(s,null,"F"),r=Ei(s)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=It(...a);return this.Ji.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.ts(s,d);return this.ns(s,h,l,u.readTime)?this.Yi(e,yf(s,null,"F")):this.rs(e,h,s,u)}))))})))))}Zi(e,s,r,i){return H2(s)||i.isEqual(ft.min())?we.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const l=this.ts(s,a);return this.ns(s,l,r,i)?we.resolve(null):(hu()<=Lt.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ic(s)),this.rs(e,l,s,V9(i,-1)).next((d=>d)))}))}ts(e,s){let r=new fn(JT(e));return s.forEach(((i,a)=>{rg(e,a)&&(r=r.add(a))})),r}ns(e,s,r,i){if(e.limit===null)return!1;if(r.size!==s.size)return!0;const a=e.limitType==="F"?s.last():s.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,s,r){return hu()<=Lt.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",Ic(s)),this.Ji.getDocumentsMatchingQuery(e,s,vo.min(),r)}rs(e,s,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((a=>(s.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,s,r,i){this.persistence=e,this.ss=s,this.serializer=i,this.os=new xs(zt),this._s=new xd((a=>Q0(a)),X0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s7(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>e.collect(s,this.os)))}}function f7(t,e,s,r){return new m7(t,e,s,r)}async function yC(t,e){const s=gt(t);return await s.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return s.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,s.ls(e),s.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let u=It();for(const h of i){l.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}for(const h of a){d.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}return s.localDocuments.getDocuments(r,u).next((h=>({hs:h,removedBatchIds:l,addedBatchIds:d})))}))}))}function g7(t,e){const s=gt(t);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=s.cs.newChangeBuffer({trackRemovals:!0});return(function(d,u,h,m){const g=h.batch,v=g.keys();let b=we.resolve();return v.forEach((S=>{b=b.next((()=>m.getEntry(u,S))).next((C=>{const R=h.docVersions.get(S);qt(R!==null),C.version.compareTo(R)<0&&(g.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),m.addEntry(C)))}))})),b.next((()=>d.mutationQueue.removeMutationBatch(u,g)))})(s,r,e,a).next((()=>a.apply(r))).next((()=>s.mutationQueue.performConsistencyCheck(r))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let u=It();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(u=u.add(d.batch.mutations[h].key));return u})(e)))).next((()=>s.localDocuments.getDocuments(r,i)))}))}function bC(t){const e=gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>e.Ur.getLastRemoteSnapshotVersion(s)))}function x7(t,e){const s=gt(t),r=e.snapshotVersion;let i=s.os;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=s.cs.newChangeBuffer({trackRemovals:!0});i=s.os;const d=[];e.targetChanges.forEach(((m,g)=>{const v=i.get(g);if(!v)return;d.push(s.Ur.removeMatchingKeys(a,m.removedDocuments,g).next((()=>s.Ur.addMatchingKeys(a,m.addedDocuments,g))));let b=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(gn.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(g,b),(function(C,R,F){return C.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(v,b,m)&&d.push(s.Ur.updateTargetData(a,b))}));let u=_a(),h=It();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&d.push(s.persistence.referenceDelegate.updateLimboDocument(a,m))})),d.push(v7(a,l,e.documentUpdates).next((m=>{u=m.Ps,h=m.Is}))),!r.isEqual(ft.min())){const m=s.Ur.getLastRemoteSnapshotVersion(a).next((g=>s.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(m)}return we.waitFor(d).next((()=>l.apply(a))).next((()=>s.localDocuments.getLocalViewOfDocuments(a,u,h))).next((()=>u))})).then((a=>(s.os=i,a)))}function v7(t,e,s){let r=It(),i=It();return s.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=_a();return s.forEach(((d,u)=>{const h=a.get(d);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(d)),u.isNoDocument()&&u.version.isEqual(ft.min())?(e.removeEntry(d,u.readTime),l=l.insert(d,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),l=l.insert(d,u)):qe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",u.version)})),{Ps:l,Is:i}}))}function y7(t,e){const s=gt(t);return s.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function b7(t,e){const s=gt(t);return s.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return s.Ur.getTargetData(r,e).next((a=>a?(i=a,we.resolve(i)):s.Ur.allocateTargetId(r).next((l=>(i=new lo(e,l,"TargetPurposeListen",r.currentSequenceNumber),s.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=s.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(s.os=s.os.insert(r.targetId,r),s._s.set(e,r.targetId)),r}))}async function Gy(t,e,s){const r=gt(t),i=r.os.get(e),a=s?"readwrite":"readwrite-primary";try{s||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Th(l))throw l;qe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function tj(t,e,s){const r=gt(t);let i=ft.min(),a=It();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(u,h,m){const g=gt(u),v=g._s.get(m);return v!==void 0?we.resolve(g.os.get(v)):g.Ur.getTargetData(h,m)})(r,l,Ei(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,d.targetId).next((u=>{a=u}))})).next((()=>r.ss.getDocumentsMatchingQuery(l,e,s?i:ft.min(),s?a:It()))).next((d=>(_7(r,dM(e),d),{documents:d,Ts:a})))))}function _7(t,e,s){let r=t.us.get(e)||ft.min();s.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.us.set(e,r)}class sj{constructor(){this.activeTargetIds=gM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w7{constructor(){this.so=new sj,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,r){}addLocalQueryTarget(e,s=!0){return s&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,s,r){this.oo[e]=s}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sj,Promise.resolve()}handleUserChange(e,s,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm=null;function _v(){return hm===null?hm=(function(){return 268435456+Math.round(2147483648*Math.random())})():hm++,"0x"+hm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class k7 extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const r=s.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+s.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(s,r,i,a,l){const d=_v(),u=this.xo(s,r.toUriEncodedString());qe("RestConnection",`Sending RPC '${s}' ${d}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,l),this.No(s,u,h,i).then((m=>(qe("RestConnection",`Received RPC '${s}' ${d}: `,m),m)),(m=>{throw Xc("RestConnection",`RPC '${s}' ${d} failed with error: `,m,"url: ",u,"request:",i),m}))}Lo(s,r,i,a,l,d){return this.Mo(s,r,i,a,l)}Oo(s,r,i){s["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gd})(),s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,l)=>s[l]=a)),i&&i.headers.forEach(((a,l)=>s[l]=a))}xo(s,r){const i=S7[s];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,s,r,i){const a=_v();return new Promise(((l,d)=>{const u=new DT;u.setWithCredentials(!0),u.listenOnce(MT.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Hm.NO_ERROR:const m=u.getResponseJson();qe(jn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Hm.TIMEOUT:qe(jn,`RPC '${e}' ${a} timed out`),d(new Be(me.DEADLINE_EXCEEDED,"Request time out"));break;case Hm.HTTP_ERROR:const g=u.getStatus();if(qe(jn,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const S=(function(R){const F=R.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(F)>=0?F:me.UNKNOWN})(b.status);d(new Be(S,b.message))}else d(new Be(me.UNKNOWN,"Server responded with status "+u.getStatus()))}else d(new Be(me.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{qe(jn,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);qe(jn,`RPC '${e}' ${a} sending request:`,i),u.send(s,"POST",h,r,15)}))}Bo(e,s,r){const i=_v(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=$T(),d=BT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,s,r),u.encodeInitMessageHeaders=!0;const m=a.join("");qe(jn,`Creating RPC '${e}' stream ${i}: ${m}`,u);const g=l.createWebChannel(m,u);let v=!1,b=!1;const S=new N7({Io:R=>{b?qe(jn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(v||(qe(jn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),qe(jn,`RPC '${e}' stream ${i} sending:`,R),g.send(R))},To:()=>g.close()}),C=(R,F,D)=>{R.listen(F,(A=>{try{D(A)}catch(y){setTimeout((()=>{throw y}),0)}}))};return C(g,ju.EventType.OPEN,(()=>{b||(qe(jn,`RPC '${e}' stream ${i} transport opened.`),S.yo())})),C(g,ju.EventType.CLOSE,(()=>{b||(b=!0,qe(jn,`RPC '${e}' stream ${i} transport closed`),S.So())})),C(g,ju.EventType.ERROR,(R=>{b||(b=!0,Xc(jn,`RPC '${e}' stream ${i} transport errored:`,R),S.So(new Be(me.UNAVAILABLE,"The operation could not be completed")))})),C(g,ju.EventType.MESSAGE,(R=>{var F;if(!b){const D=R.data[0];qt(!!D);const A=D,y=A.error||((F=A[0])===null||F===void 0?void 0:F.error);if(y){qe(jn,`RPC '${e}' stream ${i} received error:`,y);const w=y.status;let L=(function(I){const M=Ls[I];if(M!==void 0)return cC(M)})(w),N=y.message;L===void 0&&(L=me.INTERNAL,N="Unknown error status: "+w+" with message "+y.message),b=!0,S.So(new Be(L,N)),g.close()}else qe(jn,`RPC '${e}' stream ${i} received:`,D),S.bo(D)}})),C(d,FT.STAT_EVENT,(R=>{R.stat===Dy.PROXY?qe(jn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Dy.NOPROXY&&qe(jn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.wo()}),0),S}}function wv(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){return new MM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,s,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=s,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const s=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,s-r);i>0&&qe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,s,r,i,a,l,d,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _C(e,s)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,s){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():s&&s.code===me.RESOURCE_EXHAUSTED?(ba(s.toString()),ba("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):s&&s.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(s)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),s=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===s&&this.P_(r,i)}),(r=>{e((()=>{const i=new Be(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,s){const r=this.h_(this.Yo);this.stream=this.T_(e,s),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return qe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return s=>{this.ui.enqueueAndForget((()=>this.Yo===e?s():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class T7 extends wC{constructor(e,s,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,r,i,l),this.serializer=a}T_(e,s){return this.connection.Bo("Listen",e,s)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const s=$M(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ft.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ft.min():l.readTime?Ai(l.readTime):ft.min()})(e);return this.listener.d_(s,r)}A_(e){const s={};s.database=Hy(this.serializer),s.addTarget=(function(a,l){let d;const u=l.target;if(d=$y(u)?{documents:UM(a,u)}:{query:zM(a,u)._t},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=hC(a,l.resumeToken);const h=Vy(a,l.expectedCount);h!==null&&(d.expectedCount=h)}else if(l.snapshotVersion.compareTo(ft.min())>0){d.readTime=_f(a,l.snapshotVersion.toTimestamp());const h=Vy(a,l.expectedCount);h!==null&&(d.expectedCount=h)}return d})(this.serializer,e);const r=GM(this.serializer,e);r&&(s.labels=r),this.a_(s)}R_(e){const s={};s.database=Hy(this.serializer),s.removeTarget=e,this.a_(s)}}class C7 extends wC{constructor(e,s,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,r,i,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,s){return this.connection.Bo("Write",e,s)}E_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const s=VM(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.g_(r,s)}p_(){const e={};e.database=Hy(this.serializer),this.a_(e)}m_(e){const s={streamToken:this.lastStreamToken,writes:e.map((r=>OM(this.serializer,r)))};this.a_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7 extends class{}{constructor(e,s,r,i){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Be(me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,s,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Mo(e,Uy(s,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Be(me.UNKNOWN,a.toString())}))}Lo(e,s,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Lo(e,Uy(s,r),i,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Be(me.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class A7{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ba(s),this.D_=!1):qe("OnlineStateTracker",s)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(e,s,r,i,a){this.localStore=e,this.datastore=s,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((l=>{r.enqueueAndForget((async()=>{Pl(this)&&(qe("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const h=gt(u);h.L_.add(4),await Ah(h),h.q_.set("Unknown"),h.L_.delete(4),await cg(h)})(this))}))})),this.q_=new A7(r,i)}}async function cg(t){if(Pl(t))for(const e of t.B_)await e(!0)}async function Ah(t){for(const e of t.B_)await e(!1)}function jC(t,e){const s=gt(t);s.N_.has(e.targetId)||(s.N_.set(e.targetId,e),d1(s)?c1(s):vd(s).r_()&&l1(s,e))}function o1(t,e){const s=gt(t),r=vd(s);s.N_.delete(e),r.r_()&&SC(s,e),s.N_.size===0&&(r.r_()?r.o_():Pl(s)&&s.q_.set("Unknown"))}function l1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ft.min())>0){const s=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(s)}vd(t).A_(e)}function SC(t,e){t.Q_.xe(e),vd(t).R_(e)}function c1(t){t.Q_=new RM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),vd(t).start(),t.q_.v_()}function d1(t){return Pl(t)&&!vd(t).n_()&&t.N_.size>0}function Pl(t){return gt(t).L_.size===0}function NC(t){t.Q_=void 0}async function R7(t){t.q_.set("Online")}async function P7(t){t.N_.forEach(((e,s)=>{l1(t,e)}))}async function L7(t,e){NC(t),d1(t)?(t.q_.M_(e),c1(t)):t.q_.set("Unknown")}async function D7(t,e,s){if(t.q_.set("Online"),e instanceof uC&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const d of a.targetIds)i.N_.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.N_.delete(d),i.Q_.removeTarget(d))})(t,e)}catch(r){qe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wf(t,r)}else if(e instanceof qm?t.Q_.Ke(e):e instanceof dC?t.Q_.He(e):t.Q_.We(e),!s.isEqual(ft.min()))try{const r=await bC(t.localStore);s.compareTo(r)>=0&&await(function(a,l){const d=a.Q_.rt(l);return d.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const m=a.N_.get(h);m&&a.N_.set(h,m.withResumeToken(u.resumeToken,l))}})),d.targetMismatches.forEach(((u,h)=>{const m=a.N_.get(u);if(!m)return;a.N_.set(u,m.withResumeToken(gn.EMPTY_BYTE_STRING,m.snapshotVersion)),SC(a,u);const g=new lo(m.target,u,h,m.sequenceNumber);l1(a,g)})),a.remoteSyncer.applyRemoteEvent(d)})(t,s)}catch(r){qe("RemoteStore","Failed to raise snapshot:",r),await wf(t,r)}}async function wf(t,e,s){if(!Th(e))throw e;t.L_.add(1),await Ah(t),t.q_.set("Offline"),s||(s=()=>bC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{qe("RemoteStore","Retrying IndexedDB access"),await s(),t.L_.delete(1),await cg(t)}))}function kC(t,e){return e().catch((s=>wf(t,s,e)))}async function dg(t){const e=gt(t),s=bo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;M7(e);)try{const i=await y7(e.localStore,r);if(i===null){e.O_.length===0&&s.o_();break}r=i.batchId,F7(e,i)}catch(i){await wf(e,i)}TC(e)&&CC(e)}function M7(t){return Pl(t)&&t.O_.length<10}function F7(t,e){t.O_.push(e);const s=bo(t);s.r_()&&s.V_&&s.m_(e.mutations)}function TC(t){return Pl(t)&&!bo(t).n_()&&t.O_.length>0}function CC(t){bo(t).start()}async function B7(t){bo(t).p_()}async function $7(t){const e=bo(t);for(const s of t.O_)e.m_(s.mutations)}async function O7(t,e,s){const r=t.O_.shift(),i=t1.from(r,e,s);await kC(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await dg(t)}async function V7(t,e){e&&bo(t).V_&&await(async function(r,i){if((function(l){return EM(l)&&l!==me.ABORTED})(i.code)){const a=r.O_.shift();bo(r).s_(),await kC(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await dg(r)}})(t,e),TC(t)&&CC(t)}async function rj(t,e){const s=gt(t);s.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const r=Pl(s);s.L_.add(3),await Ah(s),r&&s.q_.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.L_.delete(3),await cg(s)}async function U7(t,e){const s=gt(t);e?(s.L_.delete(2),await cg(s)):e||(s.L_.add(2),await Ah(s),s.q_.set("Unknown"))}function vd(t){return t.K_||(t.K_=(function(s,r,i){const a=gt(s);return a.w_(),new T7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:R7.bind(null,t),Ro:P7.bind(null,t),mo:L7.bind(null,t),d_:D7.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),d1(t)?c1(t):t.q_.set("Unknown")):(await t.K_.stop(),NC(t))}))),t.K_}function bo(t){return t.U_||(t.U_=(function(s,r,i){const a=gt(s);return a.w_(),new C7(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:B7.bind(null,t),mo:V7.bind(null,t),f_:$7.bind(null,t),g_:O7.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await dg(t)):(await t.U_.stop(),t.O_.length>0&&(qe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,s,r,i,a){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,r,i,a){const l=Date.now()+r,d=new u1(e,s,l,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h1(t,e){if(ba("AsyncQueue",`${e}: ${t}`),Th(t))return new Be(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.comparator=e?(s,r)=>e(s,r)||Je.comparator(s.key,r.key):(s,r)=>Je.comparator(s.key,r.key),this.keyedMap=Su(),this.sortedSet=new xs(this.comparator)}static emptySet(e){return new Wc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((s,r)=>(e(s),!1)))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof Wc)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;s.hasNext();){const i=s.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((s=>{e.push(s.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const r=new Wc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=s,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.W_=new xs(Je.comparator)}track(e){const s=e.doc.key,r=this.W_.get(s);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(s,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(s,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(s,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(s):e.type===1&&r.type===2?this.W_=this.W_.insert(s,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(s,{type:2,doc:e.doc}):dt():this.W_=this.W_.insert(s,e)}G_(){const e=[];return this.W_.inorderTraversal(((s,r)=>{e.push(r)})),e}}class sd{constructor(e,s,r,i,a,l,d,u,h){this.query=e,this.docs=s,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,s,r,i,a){const l=[];return s.forEach((d=>{l.push({type:0,doc:d})})),new sd(e,s,Wc.emptySet(s),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,r=e.docChanges;if(s.length!==r.length)return!1;for(let i=0;i<s.length;i++)if(s[i].type!==r[i].type||!s[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class H7{constructor(){this.queries=aj(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(s,r){const i=gt(s),a=i.queries;i.queries=aj(),a.forEach(((l,d)=>{for(const u of d.j_)u.onError(r)}))})(this,new Be(me.ABORTED,"Firestore shutting down"))}}function aj(){return new xd((t=>YT(t)),ng)}async function EC(t,e){const s=gt(t);let r=3;const i=e.query;let a=s.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new z7,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await s.onListen(i,!0);break;case 1:a.z_=await s.onListen(i,!1);break;case 2:await s.onFirstRemoteStoreListen(i)}}catch(l){const d=h1(l,`Initialization of query '${Ic(e.query)}' failed`);return void e.onError(d)}s.queries.set(i,a),a.j_.push(e),e.Z_(s.onlineState),a.z_&&e.X_(a.z_)&&p1(s)}async function AC(t,e){const s=gt(t),r=e.query;let i=3;const a=s.queries.get(r);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return s.queries.delete(r),s.onUnlisten(r,!0);case 1:return s.queries.delete(r),s.onUnlisten(r,!1);case 2:return s.onLastRemoteStoreUnlisten(r);default:return}}function G7(t,e){const s=gt(t);let r=!1;for(const i of e){const a=i.query,l=s.queries.get(a);if(l){for(const d of l.j_)d.X_(i)&&(r=!0);l.z_=i}}r&&p1(s)}function W7(t,e,s){const r=gt(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(s);r.queries.delete(e)}function p1(t){t.Y_.forEach((e=>{e.next()}))}var Wy,oj;(oj=Wy||(Wy={})).ea="default",oj.Cache="cache";class IC{constructor(e,s,r){this.query=e,this.ta=s,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.na?this.ia(e)&&(this.ta.next(e),s=!0):this.sa(e,this.onlineState)&&(this.oa(e),s=!0),this.ra=e,s}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let s=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),s=!0),s}sa(e,s){if(!e.fromCache||!this.J_())return!0;const r=s!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const s=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}oa(e){e=sd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.key=e}}class PC{constructor(e){this.key=e}}class q7{constructor(e,s){this.query=e,this.Ta=s,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=It(),this.mutatedKeys=It(),this.Aa=JT(e),this.Ra=new Wc(this.Aa)}get Va(){return this.Ta}ma(e,s){const r=s?s.fa:new ij,i=s?s.Ra:this.Ra;let a=s?s.mutatedKeys:this.mutatedKeys,l=i,d=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,g)=>{const v=i.get(m),b=rg(this.query,g)?g:null,S=!!v&&this.mutatedKeys.has(v.key),C=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let R=!1;v&&b?v.data.isEqual(b.data)?S!==C&&(r.track({type:3,doc:b}),R=!0):this.ga(v,b)||(r.track({type:2,doc:b}),R=!0,(u&&this.Aa(b,u)>0||h&&this.Aa(b,h)<0)&&(d=!0)):!v&&b?(r.track({type:0,doc:b}),R=!0):v&&!b&&(r.track({type:1,doc:v}),R=!0,(u||h)&&(d=!0)),R&&(b?(l=l.add(b),a=C?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Ra:l,fa:r,ns:d,mutatedKeys:a}}ga(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((m,g)=>(function(b,S){const C=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return C(b)-C(S)})(m.type,g.type)||this.Aa(m.doc,g.doc))),this.pa(r),i=i!=null&&i;const d=s&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,l.length!==0||h?{snapshot:new sd(this.query,e.Ra,a,l,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ij,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((s=>this.Ta=this.Ta.add(s))),e.modifiedDocuments.forEach((s=>{})),e.removedDocuments.forEach((s=>this.Ta=this.Ta.delete(s))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=It(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const s=[];return e.forEach((r=>{this.da.has(r)||s.push(new PC(r))})),this.da.forEach((r=>{e.has(r)||s.push(new RC(r))})),s}ba(e){this.Ta=e.Ts,this.da=It();const s=this.ma(e.documents);return this.applyChanges(s,!0)}Da(){return sd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class K7{constructor(e,s,r){this.query=e,this.targetId=s,this.view=r}}class Q7{constructor(e){this.key=e,this.va=!1}}class X7{constructor(e,s,r,i,a,l){this.localStore=e,this.remoteStore=s,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new xd((d=>YT(d)),ng),this.Ma=new Map,this.xa=new Set,this.Oa=new xs(Je.comparator),this.Na=new Map,this.La=new r1,this.Ba={},this.ka=new Map,this.qa=td.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Y7(t,e,s=!0){const r=$C(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await LC(r,e,s,!0),i}async function J7(t,e){const s=$C(t);await LC(s,e,!0,!1)}async function LC(t,e,s,r){const i=await b7(t.localStore,Ei(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,s);let d;return r&&(d=await Z7(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&s&&jC(t.remoteStore,i),d}async function Z7(t,e,s,r,i){t.Ka=(g,v,b)=>(async function(C,R,F,D){let A=R.view.ma(F);A.ns&&(A=await tj(C.localStore,R.query,!1).then((({documents:N})=>R.view.ma(N,A))));const y=D&&D.targetChanges.get(R.targetId),w=D&&D.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(A,C.isPrimaryClient,y,w);return cj(C,R.targetId,L.wa),L.snapshot})(t,g,v,b);const a=await tj(t.localStore,e,!0),l=new q7(e,a.Ts),d=l.ma(a.documents),u=Eh.createSynthesizedTargetChangeForCurrentChange(s,r&&t.onlineState!=="Offline",i),h=l.applyChanges(d,t.isPrimaryClient,u);cj(t,s,h.wa);const m=new K7(e,s,l);return t.Fa.set(e,m),t.Ma.has(s)?t.Ma.get(s).push(e):t.Ma.set(s,[e]),h.snapshot}async function eF(t,e,s){const r=gt(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter((l=>!ng(l,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gy(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),s&&o1(r.remoteStore,i.targetId),qy(r,i.targetId)})).catch(kh)):(qy(r,i.targetId),await Gy(r.localStore,i.targetId,!0))}async function tF(t,e){const s=gt(t),r=s.Fa.get(e),i=s.Ma.get(r.targetId);s.isPrimaryClient&&i.length===1&&(s.sharedClientState.removeLocalQueryTarget(r.targetId),o1(s.remoteStore,r.targetId))}async function sF(t,e,s){const r=cF(t);try{const i=await(function(l,d){const u=gt(l),h=js.now(),m=d.reduce(((b,S)=>b.add(S.key)),It());let g,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let S=_a(),C=It();return u.cs.getEntries(b,m).next((R=>{S=R,S.forEach(((F,D)=>{D.isValidDocument()||(C=C.add(F))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,S))).next((R=>{g=R;const F=[];for(const D of d){const A=SM(D,g.get(D.key).overlayedDocument);A!=null&&F.push(new So(D.key,A,HT(A.value.mapValue),Br.exists(!0)))}return u.mutationQueue.addMutationBatch(b,h,F,d)})).next((R=>{v=R;const F=R.applyToLocalDocumentSet(g,C);return u.documentOverlayCache.saveOverlays(b,R.batchId,F)}))})).then((()=>({batchId:v.batchId,changes:eC(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,d,u){let h=l.Ba[l.currentUser.toKey()];h||(h=new xs(zt)),h=h.insert(d,u),l.Ba[l.currentUser.toKey()]=h})(r,i.batchId,s),await Ih(r,i.changes),await dg(r.remoteStore)}catch(i){const a=h1(i,"Failed to persist write");s.reject(a)}}async function DC(t,e){const s=gt(t);try{const r=await x7(s.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=s.Na.get(a);l&&(qt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?qt(l.va):i.removedDocuments.size>0&&(qt(l.va),l.va=!1))})),await Ih(s,r,e)}catch(r){await kh(r)}}function lj(t,e,s){const r=gt(t);if(r.isPrimaryClient&&s===0||!r.isPrimaryClient&&s===1){const i=[];r.Fa.forEach(((a,l)=>{const d=l.view.Z_(e);d.snapshot&&i.push(d.snapshot)})),(function(l,d){const u=gt(l);u.onlineState=d;let h=!1;u.queries.forEach(((m,g)=>{for(const v of g.j_)v.Z_(d)&&(h=!0)})),h&&p1(u)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nF(t,e,s){const r=gt(t);r.sharedClientState.updateQueryState(e,"rejected",s);const i=r.Na.get(e),a=i&&i.key;if(a){let l=new xs(Je.comparator);l=l.insert(a,Tn.newNoDocument(a,ft.min()));const d=It().add(a),u=new og(ft.min(),new Map,new xs(zt),l,d);await DC(r,u),r.Oa=r.Oa.remove(a),r.Na.delete(e),m1(r)}else await Gy(r.localStore,e,!1).then((()=>qy(r,e,s))).catch(kh)}async function rF(t,e){const s=gt(t),r=e.batch.batchId;try{const i=await g7(s.localStore,e);FC(s,r,null),MC(s,r),s.sharedClientState.updateMutationState(r,"acknowledged"),await Ih(s,i)}catch(i){await kh(i)}}async function iF(t,e,s){const r=gt(t);try{const i=await(function(l,d){const u=gt(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return u.mutationQueue.lookupMutationBatch(h,d).next((g=>(qt(g!==null),m=g.keys(),u.mutationQueue.removeMutationBatch(h,g)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,d))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>u.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);FC(r,e,s),MC(r,e),r.sharedClientState.updateMutationState(e,"rejected",s),await Ih(r,i)}catch(i){await kh(i)}}function MC(t,e){(t.ka.get(e)||[]).forEach((s=>{s.resolve()})),t.ka.delete(e)}function FC(t,e,s){const r=gt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(s?a.reject(s):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function qy(t,e,s=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),s&&t.Ca.$a(r,s);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||BC(t,r)}))}function BC(t,e){t.xa.delete(e.path.canonicalString());const s=t.Oa.get(e);s!==null&&(o1(t.remoteStore,s),t.Oa=t.Oa.remove(e),t.Na.delete(s),m1(t))}function cj(t,e,s){for(const r of s)r instanceof RC?(t.La.addReference(r.key,e),aF(t,r)):r instanceof PC?(qe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||BC(t,r.key)):dt()}function aF(t,e){const s=e.key,r=s.path.canonicalString();t.Oa.get(s)||t.xa.has(r)||(qe("SyncEngine","New document in limbo: "+s),t.xa.add(r),m1(t))}function m1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const s=new Je(Yt.fromString(e)),r=t.qa.next();t.Na.set(r,new Q7(s)),t.Oa=t.Oa.insert(s,r),jC(t.remoteStore,new lo(Ei(Y0(s.path)),r,"TargetPurposeLimboResolution",W0.oe))}}async function Ih(t,e,s){const r=gt(t),i=[],a=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,u)=>{l.push(r.Ka(u,e,s).then((h=>{var m;if((h||s)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=s==null?void 0:s.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=a1.Wi(u.targetId,h);a.push(g)}})))})),await Promise.all(l),r.Ca.d_(i),await(async function(u,h){const m=gt(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>we.forEach(h,(v=>we.forEach(v.$i,(b=>m.persistence.referenceDelegate.addReference(g,v.targetId,b))).next((()=>we.forEach(v.Ui,(b=>m.persistence.referenceDelegate.removeReference(g,v.targetId,b)))))))))}catch(g){if(!Th(g))throw g;qe("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const b=m.os.get(v),S=b.snapshotVersion,C=b.withLastLimboFreeSnapshotVersion(S);m.os=m.os.insert(v,C)}}})(r.localStore,a))}async function oF(t,e){const s=gt(t);if(!s.currentUser.isEqual(e)){qe("SyncEngine","User change. New user:",e.toKey());const r=await yC(s.localStore,e);s.currentUser=e,(function(a,l){a.ka.forEach((d=>{d.forEach((u=>{u.reject(new Be(me.CANCELLED,l))}))})),a.ka.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ih(s,r.hs)}}function lF(t,e){const s=gt(t),r=s.Na.get(e);if(r&&r.va)return It().add(r.key);{let i=It();const a=s.Ma.get(e);if(!a)return i;for(const l of a){const d=s.Fa.get(l);i=i.unionWith(d.view.Va)}return i}}function $C(t){const e=gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nF.bind(null,e),e.Ca.d_=G7.bind(null,e.eventManager),e.Ca.$a=W7.bind(null,e.eventManager),e}function cF(t){const e=gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iF.bind(null,e),e}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,s){return null}Ha(e,s){return null}za(e){return f7(this.persistence,new p7,e.initialUser,this.serializer)}Ga(e){return new d7(i1.Zr,this.serializer)}Wa(e){return new w7}async terminate(){var e,s;(e=this.gcScheduler)===null||e===void 0||e.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class Ky{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oF.bind(null,this.syncEngine),await U7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new H7})()}createDatastore(e){const s=lg(e.databaseInfo.databaseId),r=(function(a){return new k7(a)})(e.databaseInfo);return(function(a,l,d,u){return new E7(a,l,d,u)})(e.authCredentials,e.appCheckCredentials,r,s)}createRemoteStore(e){return(function(r,i,a,l,d){return new I7(r,i,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(s=>lj(this.syncEngine,s,0)),(function(){return nj.D()?new nj:new j7})())}createSyncEngine(e,s){return(function(i,a,l,d,u,h,m){const g=new X7(i,a,l,d,u,h);return m&&(g.Qa=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}async terminate(){var e,s;await(async function(i){const a=gt(i);qe("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Ah(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(s=this.eventManager)===null||s===void 0||s.terminate()}}Ky.provider={build:()=>new Ky};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ba("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,s){setTimeout((()=>{this.muted||e(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,s,r,i,a){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=r,this.databaseInfo=i,this.user=Nn.UNAUTHENTICATED,this.clientId=VT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{qe("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(qe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const r=h1(s,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jv(t,e){t.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const s=t.configuration;await e.initialize(s);let r=s.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await yC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dj(t,e){t.asyncQueue.verifyOperationInProgress();const s=await uF(t);qe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(s,t.configuration),t.setCredentialChangeListener((r=>rj(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>rj(e.remoteStore,i))),t._onlineComponents=e}async function uF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe("FirestoreClient","Using user provided OfflineComponentProvider");try{await jv(t,t._uninitializedComponentsProvider._offline)}catch(e){const s=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(s))throw s;Xc("Error using user provided cache. Falling back to memory cache: "+s),await jv(t,new jf)}}else qe("FirestoreClient","Using default OfflineComponentProvider"),await jv(t,new jf);return t._offlineComponents}async function VC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe("FirestoreClient","Using user provided OnlineComponentProvider"),await dj(t,t._uninitializedComponentsProvider._online)):(qe("FirestoreClient","Using default OnlineComponentProvider"),await dj(t,new Ky))),t._onlineComponents}function hF(t){return VC(t).then((e=>e.syncEngine))}async function UC(t){const e=await VC(t),s=e.eventManager;return s.onListen=Y7.bind(null,e.syncEngine),s.onUnlisten=eF.bind(null,e.syncEngine),s.onFirstRemoteStoreListen=J7.bind(null,e.syncEngine),s.onLastRemoteStoreUnlisten=tF.bind(null,e.syncEngine),s}function pF(t,e,s={}){const r=new ma;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,u,h){const m=new OC({next:v=>{m.Za(),l.enqueueAndForget((()=>AC(a,g)));const b=v.docs.has(d);!b&&v.fromCache?h.reject(new Be(me.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&u&&u.source==="server"?h.reject(new Be(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new IC(Y0(d.path),m,{includeMetadataChanges:!0,_a:!0});return EC(a,g)})(await UC(t),t.asyncQueue,e,s,r))),r.promise}function mF(t,e,s={}){const r=new ma;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,u,h){const m=new OC({next:v=>{m.Za(),l.enqueueAndForget((()=>AC(a,g))),v.fromCache&&u.source==="server"?h.reject(new Be(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new IC(d,m,{includeMetadataChanges:!0,_a:!0});return EC(a,g)})(await UC(t),t.asyncQueue,e,s,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e,s){if(!s)throw new Be(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fF(t,e,s,r){if(e===!0&&r===!0)throw new Be(me.INVALID_ARGUMENT,`${t} and ${s} cannot be used together.`)}function hj(t){if(!Je.isDocumentKey(t))throw new Be(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pj(t){if(Je.isDocumentKey(t))throw new Be(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ug(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":dt()}function wa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Be(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=ug(t);throw new Be(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return t}function gF(t,e){if(e<=0)throw new Be(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){var s,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(s=e.ssl)===null||s===void 0||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Be(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Be(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Be(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Be(me.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,s,r,i){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mj(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new R9;switch(r.type){case"firstParty":return new M9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Be(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const r=uj.get(s);r&&(qe("ComponentProvider","Removing Datastore"),uj.delete(s),r.terminate())})(this),Promise.resolve()}}function xF(t,e,s,r={}){var i;const a=(t=wa(t,Rh))._getSettings(),l=`${e}:${s}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&Xc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let d,u;if(typeof r.mockUserToken=="string")d=r.mockUserToken,u=Nn.MOCK_USER;else{d=iL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Be(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Nn(h)}t._authCredentials=new P9(new OT(d,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,s,r){this.converter=s,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ui(this.firestore,e,this._query)}}class nr{constructor(e,s,r){this.converter=s,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class xo extends ui{constructor(e,s,r){super(e,s,Y0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new Je(e))}withConverter(e){return new xo(this.firestore,e,this._path)}}function yd(t,e,...s){if(t=Gs(t),f1("collection","path",e),t instanceof Rh){const r=Yt.fromString(e,...s);return pj(r),new xo(t,null,r)}{if(!(t instanceof nr||t instanceof xo))throw new Be(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yt.fromString(e,...s));return pj(r),new xo(t.firestore,null,r)}}function hg(t,e){if(t=wa(t,Rh),f1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ui(t,null,(function(r){return new ka(Yt.emptyPath(),r)})(e))}function Xt(t,e,...s){if(t=Gs(t),arguments.length===1&&(e=VT.newId()),f1("doc","path",e),t instanceof Rh){const r=Yt.fromString(e,...s);return hj(r),new nr(t,null,new Je(r))}{if(!(t instanceof nr||t instanceof xo))throw new Be(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Yt.fromString(e,...s));return hj(r),new nr(t.firestore,t instanceof xo?t.converter:null,new Je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _C(this,"async_queue_retry"),this.Vu=()=>{const r=wv();r&&qe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const s=wv();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const s=wv();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const s=new ma;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Th(e))throw e;qe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const s=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),d})(r);throw ba("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=s,s}enqueueAfterDelay(e,s,r){this.fu(),this.Ru.indexOf(e)>-1&&(s=0);const i=u1.createAndSchedule(this,e,s,r,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&dt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const s of this.Tu)if(s.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((s,r)=>s.targetTimeMs-r.targetTimeMs));for(const s of this.Tu)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const s=this.Tu.indexOf(e);this.Tu.splice(s,1)}}class Ph extends Rh{constructor(e,s,r,i){super(e,s,r,i),this.type="firestore",this._queue=new fj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fj(e),this._firestoreClient=void 0,await e}}}function vF(t,e){const s=typeof t=="object"?t:M0(),r=typeof t=="string"?t:"(default)",i=D0(s,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=nL("firestore");a&&xF(i,...a)}return i}function pg(t){if(t._terminated)throw new Be(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yF(t),t._firestoreClient}function yF(t){var e,s,r;const i=t._freezeSettings(),a=(function(d,u,h,m){return new Q9(d,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,zC(m.experimentalLongPollingOptions),m.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((s=i.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dF(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(d){const u=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nd(gn.fromBase64String(e))}catch(s){throw new Be(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new nd(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new Be(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new Be(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new Be(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=/^__.*__$/;class _F{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return this.fieldMask!==null?new So(e,this.data,this.fieldMask,s,this.fieldTransforms):new Ch(e,this.data,s,this.fieldTransforms)}}class HC{constructor(e,s,r){this.data=e,this.fieldMask=s,this.fieldTransforms=r}toMutation(e,s){return new So(e,this.data,this.fieldMask,s,this.fieldTransforms)}}function GC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class v1{constructor(e,s,r,i,a,l){this.settings=e,this.databaseId=s,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new v1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var s;const r=(s=this.path)===null||s===void 0?void 0:s.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var s;const r=(s=this.path)===null||s===void 0?void 0:s.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((s=>e.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>e.isPrefixOf(s.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(GC(this.Cu)&&bF.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class wF{constructor(e,s,r){this.databaseId=e,this.ignoreUndefinedProperties=s,this.serializer=r||lg(e)}Qu(e,s,r,i=!1){return new v1({Cu:e,methodName:s,qu:r,path:hn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gg(t){const e=t._freezeSettings(),s=lg(t._databaseId);return new wF(t._databaseId,!!e.ignoreUndefinedProperties,s)}function WC(t,e,s,r,i,a={}){const l=t.Qu(a.merge||a.mergeFields?2:0,e,s,i);b1("Data must be an object, but it was:",l,r);const d=KC(r,l);let u,h;if(a.merge)u=new xr(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const g of a.mergeFields){const v=Qy(e,g,s);if(!l.contains(v))throw new Be(me.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);XC(m,v)||m.push(v)}u=new xr(m),h=l.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,h=l.fieldTransforms;return new _F(new sr(d),u,h)}class xg extends fg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xg}}class y1 extends fg{_toFieldTransform(e){return new bM(e.path,new lh)}isEqual(e){return e instanceof y1}}function jF(t,e,s,r){const i=t.Qu(1,e,s);b1("Data must be an object, but it was:",i,r);const a=[],l=sr.empty();Rl(r,((u,h)=>{const m=_1(e,u,s);h=Gs(h);const g=i.Nu(m);if(h instanceof xg)a.push(m);else{const v=Lh(h,g);v!=null&&(a.push(m),l.set(m,v))}}));const d=new xr(a);return new HC(l,d,i.fieldTransforms)}function SF(t,e,s,r,i,a){const l=t.Qu(1,e,s),d=[Qy(e,r,s)],u=[i];if(a.length%2!=0)throw new Be(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)d.push(Qy(e,a[v])),u.push(a[v+1]);const h=[],m=sr.empty();for(let v=d.length-1;v>=0;--v)if(!XC(h,d[v])){const b=d[v];let S=u[v];S=Gs(S);const C=l.Nu(b);if(S instanceof xg)h.push(b);else{const R=Lh(S,C);R!=null&&(h.push(b),m.set(b,R))}}const g=new xr(h);return new HC(m,g,l.fieldTransforms)}function qC(t,e,s,r=!1){return Lh(s,t.Qu(r?4:3,e))}function Lh(t,e){if(QC(t=Gs(t)))return b1("Unsupported field value:",e,t),KC(t,e);if(t instanceof fg)return(function(r,i){if(!GC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const d of r){let u=Lh(d,i.Lu(l));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Gs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=js.fromDate(r);return{timestampValue:_f(i.serializer,a)}}if(r instanceof js){const a=new js(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_f(i.serializer,a)}}if(r instanceof g1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof nd)return{bytesValue:hC(i.serializer,r._byteString)};if(r instanceof nr){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:n1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof x1)return(function(l,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((u=>{if(typeof u!="number")throw d.Bu("VectorValues must only contain numeric values.");return Z0(d.serializer,u)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${ug(r)}`)})(t,e)}function KC(t,e){const s={};return UT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rl(t,((r,i)=>{const a=Lh(i,e.Mu(r));a!=null&&(s[r]=a)})),{mapValue:{fields:s}}}function QC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof js||t instanceof g1||t instanceof nd||t instanceof nr||t instanceof fg||t instanceof x1)}function b1(t,e,s){if(!QC(s)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(s)){const r=ug(s);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Qy(t,e,s){if((e=Gs(e))instanceof mg)return e._internalPath;if(typeof e=="string")return _1(t,e);throw Sf("Field path arguments must be of type string or ",t,!1,void 0,s)}const NF=new RegExp("[~\\*/\\[\\]]");function _1(t,e,s){if(e.search(NF)>=0)throw Sf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,s);try{return new mg(...e.split("."))._internalPath}catch(r){throw Sf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,s)}}function Sf(t,e,s,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let d=`Function ${e}() called with invalid data`;s&&(d+=" (via `toFirestore()`)"),d+=". ";let u="";return(a||l)&&(u+=" (found",a&&(u+=` in field ${r}`),l&&(u+=` in document ${i}`),u+=")"),new Be(me.INVALID_ARGUMENT,d+t+u)}function XC(t,e){return t.some((s=>s.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,s,r,i,a){this._firestore=e,this._userDataWriter=s,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(vg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class kF extends w1{data(){return super.data()}}function vg(t,e){return typeof e=="string"?_1(t,e):e instanceof mg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Be(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class j1{}class Dh extends j1{}function $n(t,e,...s){let r=[];e instanceof j1&&r.push(e),r=r.concat(s),(function(a){const l=a.filter((u=>u instanceof S1)).length,d=a.filter((u=>u instanceof yg)).length;if(l>1||l>0&&d>0)throw new Be(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class yg extends Dh{constructor(e,s,r){super(),this._field=e,this._op=s,this._value=r,this.type="where"}static _create(e,s,r){return new yg(e,s,r)}_apply(e){const s=this._parse(e);return JC(e._query,s),new ui(e.firestore,e.converter,Oy(e._query,s))}_parse(e){const s=gg(e.firestore);return(function(a,l,d,u,h,m,g){let v;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Be(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){xj(g,m);const b=[];for(const S of g)b.push(gj(u,a,S));v={arrayValue:{values:b}}}else v=gj(u,a,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||xj(g,m),v=qC(d,l,g,m==="in"||m==="not-in");return Bs.create(h,m,v)})(e._query,"where",s,e.firestore._databaseId,this._field,this._op,this._value)}}function xl(t,e,s){const r=e,i=vg("where",t);return yg._create(i,r,s)}class S1 extends j1{constructor(e,s){super(),this.type=e,this._queryConstraints=s}static _create(e,s){return new S1(e,s)}_parse(e){const s=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return s.length===1?s[0]:ci.create(s,this._getOperator())}_apply(e){const s=this._parse(e);return s.getFilters().length===0?e:((function(i,a){let l=i;const d=a.getFlattenedFilters();for(const u of d)JC(l,u),l=Oy(l,u)})(e._query,s),new ui(e.firestore,e.converter,Oy(e._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class N1 extends Dh{constructor(e,s){super(),this._field=e,this._direction=s,this.type="orderBy"}static _create(e,s){return new N1(e,s)}_apply(e){const s=(function(i,a,l){if(i.startAt!==null)throw new Be(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Be(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oh(a,l)})(e._query,this._field,this._direction);return new ui(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new ka(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,s))}}function co(t,e="asc"){const s=e,r=vg("orderBy",t);return N1._create(r,s)}class k1 extends Dh{constructor(e,s,r){super(),this.type=e,this._limit=s,this._limitType=r}static _create(e,s,r){return new k1(e,s,r)}_apply(e){return new ui(e.firestore,e.converter,yf(e._query,this._limit,this._limitType))}}function On(t){return gF("limit",t),k1._create("limit",t,"F")}class T1 extends Dh{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new T1(e,s,r)}_apply(e){const s=YC(e,this.type,this._docOrFields,this._inclusive);return new ui(e.firestore,e.converter,(function(i,a){return new ka(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,s))}}function hl(...t){return T1._create("startAt",t,!0)}class C1 extends Dh{constructor(e,s,r){super(),this.type=e,this._docOrFields=s,this._inclusive=r}static _create(e,s,r){return new C1(e,s,r)}_apply(e){const s=YC(e,this.type,this._docOrFields,this._inclusive);return new ui(e.firestore,e.converter,(function(i,a){return new ka(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,s))}}function pl(...t){return C1._create("endAt",t,!0)}function YC(t,e,s,r){if(s[0]=Gs(s[0]),s[0]instanceof w1)return(function(a,l,d,u,h){if(!u)throw new Be(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const m=[];for(const g of Gc(a))if(g.field.isKeyField())m.push(vf(l,u.key));else{const v=u.data.field(g.field);if(sg(v))throw new Be(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=g.field.canonicalString();throw new Be(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}m.push(v)}return new ed(m,h)})(t._query,t.firestore._databaseId,e,s[0]._document,r);{const i=gg(t.firestore);return(function(l,d,u,h,m,g){const v=l.explicitOrderBy;if(m.length>v.length)throw new Be(me.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let S=0;S<m.length;S++){const C=m[S];if(v[S].field.isKeyField()){if(typeof C!="string")throw new Be(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof C}`);if(!J0(l)&&C.indexOf("/")!==-1)throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${C}' contains a slash.`);const R=l.path.child(Yt.fromString(C));if(!Je.isDocumentKey(R))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const F=new Je(R);b.push(vf(d,F))}else{const R=qC(u,h,C);b.push(R)}}return new ed(b,g)})(t._query,t.firestore._databaseId,i,e,s,r)}}function gj(t,e,s){if(typeof(s=Gs(s))=="string"){if(s==="")throw new Be(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J0(e)&&s.indexOf("/")!==-1)throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const r=e.path.child(Yt.fromString(s));if(!Je.isDocumentKey(r))throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vf(t,new Je(r))}if(s instanceof nr)return vf(t,s._key);throw new Be(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ug(s)}.`)}function xj(t,e){if(!Array.isArray(t)||t.length===0)throw new Be(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JC(t,e){const s=(function(i,a){for(const l of i)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(s!==null)throw s===e.op?new Be(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Be(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${s.toString()}' filters.`)}class CF{convertValue(e,s="none"){switch(Nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return As(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(Sl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 11:return this.convertObject(e.mapValue,s);case 10:return this.convertVectorValue(e.mapValue);default:throw dt()}}convertObject(e,s){return this.convertObjectMap(e.fields,s)}convertObjectMap(e,s="none"){const r={};return Rl(e,((i,a)=>{r[i]=this.convertValue(a,s)})),r}convertVectorValue(e){var s,r,i;const a=(i=(r=(s=e.fields)===null||s===void 0?void 0:s.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((l=>As(l.doubleValue)));return new x1(a)}convertGeoPoint(e){return new g1(As(e.latitude),As(e.longitude))}convertArray(e,s){return(e.values||[]).map((r=>this.convertValue(r,s)))}convertServerTimestamp(e,s){switch(s){case"previous":const r=q0(e);return r==null?null:this.convertValue(r,s);case"estimate":return this.convertTimestamp(rh(e));default:return null}}convertTimestamp(e){const s=yo(e);return new js(s.seconds,s.nanos)}convertDocumentKey(e,s){const r=Yt.fromString(e);qt(vC(r));const i=new ih(r.get(1),r.get(3)),a=new Je(r.popFirst(5));return i.isEqual(s)||ba(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t,e,s){let r;return r=t?s&&(s.merge||s.mergeFields)?t.toFirestore(e,s):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e5 extends w1{constructor(e,s,r,i,a,l){super(e,s,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const r=this._document.data.field(vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,s.serverTimestamps)}}}class Km extends e5{data(e={}){return super.data(e)}}class EF{constructor(e,s,r,i){this._firestore=e,this._userDataWriter=s,this._snapshot=i,this.metadata=new ku(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((r=>{e.call(s,new Km(this._firestore,this._userDataWriter,r.key,r,new ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new Be(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((d=>{const u=new Km(i._firestore,i._userDataWriter,d.doc.key,d.doc,new ku(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const u=new Km(i._firestore,i._userDataWriter,d.doc.key,d.doc,new ku(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return d.type!==0&&(h=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),m=l.indexOf(d.doc.key)),{type:AF(d.type),doc:u,oldIndex:h,newIndex:m}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function AF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t){t=wa(t,nr);const e=wa(t.firestore,Ph);return pF(pg(e),t._key).then((s=>IF(e,t,s)))}class t5 extends CF{constructor(e){super(),this.firestore=e}convertBytes(e){return new nd(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,s)}}function pn(t){t=wa(t,ui);const e=wa(t.firestore,Ph),s=pg(e),r=new t5(e);return TF(t._query),mF(s,t._query).then((i=>new EF(e,r,t,i)))}function kl(t,e,s){t=wa(t,nr);const r=wa(t.firestore,Ph),i=ZC(t.converter,e,s);return s5(r,[WC(gg(r),"setDoc",t._key,i,t.converter!==null,s).toMutation(t._key,Br.none())])}function s5(t,e){return(function(r,i){const a=new ma;return r.asyncQueue.enqueueAndForget((async()=>sF(await hF(r),i,a))),a.promise})(pg(t),e)}function IF(t,e,s){const r=s.docs.get(e._key),i=new t5(t);return new e5(t,i,e._key,r,new ku(s.hasPendingWrites,s.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,s){this._firestore=e,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=gg(e)}set(e,s,r){this._verifyNotCommitted();const i=Sv(e,this._firestore),a=ZC(i.converter,s,r),l=WC(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Br.none())),this}update(e,s,r,...i){this._verifyNotCommitted();const a=Sv(e,this._firestore);let l;return l=typeof(s=Gs(s))=="string"||s instanceof mg?SF(this._dataReader,"WriteBatch.update",a._key,s,r,i):jF(this._dataReader,"WriteBatch.update",a._key,s),this._mutations.push(l.toMutation(a._key,Br.exists(!0))),this}delete(e){this._verifyNotCommitted();const s=Sv(e,this._firestore);return this._mutations=this._mutations.concat(new e1(s._key,Br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sv(t,e){if((t=Gs(t)).firestore!==e)throw new Be(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ni(){return new y1("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t){return pg(t=wa(t,Ph)),new RF(t,(e=>s5(t,e)))}(function(e,s=!0){(function(i){gd=i})(md),Qc(new bl("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new Ph(new L9(r.getProvider("auth-internal")),new B9(r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Be(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(h.options.projectId,m)})(l,i),l);return a=Object.assign({useFetchStreams:s},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),fo(L2,"4.7.3",e),fo(L2,"4.7.3","esm2017")})();const n5={apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};n5.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const r5=bD().length?M0():Jk(n5),Ct=vF(r5),pm=A9(r5),i5=E.createContext(void 0),vj=`${jo}/auth/session`,yj=`${jo}/auth/logout`,LF=({children:t})=>{const[e,s]=E.useState(null),[r,i]=E.useState("idle"),a=E.useRef({tried:!1}),l=E.useCallback(C=>{C!=null&&C.authenticated&&C.user?(s(C.user),i("authenticated")):(s(null),i("unauthenticated"))},[]),d=E.useCallback(async()=>{if(i("loading"),!vj){console.warn("[Auth] AUTH_BASE_URL is not configured. Skipping session fetch."),s(null),i("unauthenticated");return}try{const C=await fetch(vj,{credentials:"include"});if(!C.ok)throw new Error(`Failed to fetch session (${C.status})`);const R=await C.json();l(R)}catch(C){console.error("[Auth] Failed to refresh session.",C),s(null),i("unauthenticated")}},[l]);E.useEffect(()=>{d()},[d]),E.useEffect(()=>{console.log("[AuthDebug] session user:",e);const C=pm.currentUser;console.log("[AuthDebug] firebase currentUser uid:",C==null?void 0:C.uid),C==null||C.getIdTokenResult().then(R=>{console.log("[AuthDebug] firebase claims:",R.claims)}).catch(R=>{console.warn("[AuthDebug] failed to fetch token claims",R)})},[e]),E.useEffect(()=>{const C=v8(pm,R=>{console.log("[AuthDebug] firebase currentUser uid:",R==null?void 0:R.uid)});return()=>C()},[]),E.useEffect(()=>{if(!e){a.current.tried=!1;return}a.current.tried||(a.current.tried=!0,(async()=>{try{const C=await Q6();await f8(pm,C),console.log("[AuthDebug] signed in to Firebase with custom token")}catch(C){console.error("[AuthDebug] failed to sign in to Firebase",C)}})())},[e]);const u=E.useCallback(C=>{window.location.href=`${jo}/auth/${C}/login`},[]),h=E.useCallback(()=>u("discord"),[u]),m=E.useCallback(()=>u("google"),[u]),g=E.useCallback(async()=>{if(await y8(pm).catch(()=>{}),!yj){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),s(null),i("unauthenticated");return}try{const C=await fetch(yj,{method:"POST",credentials:"include"});if(!C.ok)throw new Error(`Logout failed (${C.status})`)}catch(C){console.error("[Auth] Failed to logout. Clearing local session anyway.",C)}finally{s(null),i("unauthenticated")}},[]),v=E.useCallback(async()=>{await d()},[d]),b=r==="idle"||r==="loading",S=E.useMemo(()=>({user:e,status:r,isLoading:b,loginWithDiscord:h,loginWithGoogle:m,logout:g,refreshSession:v}),[e,r,b,h,m,g,v]);return n.jsx(i5.Provider,{value:S,children:t})},Ll=()=>{const t=E.useContext(i5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},DF="https://i.pravatar.cc/72",MF=({fallbackName:t})=>{var D,A;const{user:e,status:s,logout:r,isLoading:i}=Ll(),a=Or(),[l,d]=E.useState(!1),u=E.useRef(null),h=s==="authenticated",m=h?(A=(D=e==null?void 0:e.displayName)!=null?D:t)!=null?A:"Player":t!=null?t:"Guest",g=h&&(e!=null&&e.avatarUrl)?e.avatarUrl:DF;E.useEffect(()=>{const y=w=>{u.current&&!u.current.contains(w.target)&&d(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]),E.useEffect(()=>{i&&d(!1)},[i]);const v=E.useCallback(()=>d(!1),[]),b=()=>{d(y=>!y)},S=()=>{a("/login"),v()},C=()=>{a("/settings/account"),v()},R=E.useCallback(async()=>{try{await r()}finally{v(),a("/")}},[v,r,a]),F=()=>{var y;if(i)return n.jsx("p",{className:_t.accountStatusText,children:"Checking session..."});if(s==="unauthenticated")return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:_t.accountHeader,children:[n.jsx("p",{className:_t.accountName,children:"Not signed in"}),n.jsx("p",{className:_t.accountSub,children:"Your scans stay synced when you log in."})]}),n.jsx("button",{type:"button",className:_t.accountPrimary,onClick:S,children:"Sign in"}),n.jsx("p",{className:_t.accountHint,children:"Use Discord or Google on the sign-in page."})]});if(s==="authenticated"){const w=!!((y=e==null?void 0:e.roles)!=null&&y.includes("admin"));return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:_t.accountHeader,children:[n.jsx("img",{className:_t.accountMiniAvatar,src:g,alt:m}),n.jsxs("div",{children:[n.jsx("p",{className:_t.accountName,children:m}),n.jsxs("p",{className:_t.accountSub,children:["Signed in via ",(e==null?void 0:e.provider)==="google"?"Google":"Discord"]})]})]}),n.jsx("button",{type:"button",className:_t.accountItem,onClick:C,children:"Account & Profile"}),w?n.jsx("a",{className:_t.accountItem,href:"https://control-panel.sfdatahub.com/",target:"_blank",rel:"noreferrer",children:"Console Panel"}):null,n.jsx("hr",{className:_t.accountDivider}),n.jsx("button",{type:"button",className:`${_t.accountItem} ${_t.accountLogout}`,onClick:R,children:"Logout"})]})}return null};return n.jsxs("div",{className:_t.accountRoot,ref:u,children:[i?n.jsxs("div",{className:_t.avatarSpinnerShell,role:"status","aria-live":"polite","aria-label":"Checking login status",children:[n.jsx("span",{className:_t.avatarSpinner,"aria-hidden":"true"}),n.jsx("span",{className:_t.srOnly,children:"Checking login status"})]}):n.jsx("button",{type:"button",className:_t.avatarBtn,"aria-haspopup":"menu","aria-expanded":l,"aria-label":m,onClick:b,children:n.jsx("img",{className:_t.avatar,src:g,alt:m})}),!i&&l&&n.jsx("div",{className:_t.accountDropdown,role:"menu",children:F()})]})},FF=[{id:"main.home",route:"/",area:"main",titleKey:"nav.home",status:"public",minRole:"guest",showInSidebar:!0,showInTopbar:!1,navOrder:5},{id:"main.dashboard",route:"/dashboard",area:"main",titleKey:"nav.dashboard",status:"hidden",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:10},{id:"main.guildHub",route:"/guild-hub",area:"main",titleKey:"nav.guildHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:20},{id:"main.discover",route:"/discover",area:"main",titleKey:"nav.discover",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:30},{id:"main.toplists",route:"/toplists",area:"main",titleKey:"nav.toplists",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:40},{id:"main.guidehub",route:"/guidehub",area:"main",titleKey:"nav.guideHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:50},{id:"main.tools",route:"/tools",area:"main",titleKey:"nav.tools",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:55},{id:"main.community",route:"/community",area:"main",titleKey:"nav.community",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:60},{id:"main.scans",route:"/scans",area:"main",titleKey:"nav.scans",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:70},{id:"main.settings",route:"/settings",area:"main",titleKey:"nav.settings",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:80},{id:"main.admin",route:"/admin",area:"main",titleKey:"nav.admin",status:"active",minRole:"moderator",allowedRoles:["moderator","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:90},{id:"admin.cliCommands",route:"/cli-commands",area:"admin",titleKey:"nav.cliCommands",status:"active",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:95},{id:"main.playground",route:"/playground",area:"main",titleKey:"nav.playground",status:"beta",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:100,isExperimental:!0},{id:"main.uploadCenter",route:"/upload-center",area:"main",titleKey:"feature.uploadCenter",status:"logged_in",minRole:"user",showInSidebar:!1,showInTopbar:!1,navOrder:200}],bj=["guest","user","moderator","developer","admin"];function a5(t){const e=t.trim();if(!e)return"/";const s=e.startsWith("/")?e:`/${e}`;return s==="/"?s:s.replace(/\/+$/,"").toLowerCase()}function o5(t){if(typeof t!="string")return;const e=t.toLowerCase();if(e==="admin")return"admin";if(e==="developer"||e==="dev")return"developer";if(e==="moderator"||e==="mod")return"moderator";if(e==="user")return"user";if(e==="guest")return"guest"}function l5(t){if(!Array.isArray(t))return;const e=t.map(s=>o5(s)).filter(Boolean);return e.length?e:void 0}function c5(t){if(!Array.isArray(t))return;const e=t.map(s=>typeof s=="string"?s.trim():"").filter(s=>s.length>0);return e.length?e:void 0}function d5(t){if(!Array.isArray(t))return;const e=t.map(s=>typeof s=="string"?s.trim():"").filter(s=>s.length>0);return e.length?e:void 0}function E1(t){var e,s,r;return{...t,id:t.id.trim(),route:a5(t.route),area:t.area.trim(),allowedRoles:(e=l5(t.allowedRoles))!=null?e:t.allowedRoles,allowedGroups:(s=c5(t.allowedGroups))!=null?s:t.allowedGroups,allowedUserIds:(r=d5(t.allowedUserIds))!=null?r:t.allowedUserIds}}function BF(t,e){if(!e||typeof e!="object")return null;const s=e,r=typeof s.route=="string"?s.route:"",i=typeof s.area=="string"?s.area:"",a=typeof s.id=="string"&&s.id.trim()||t||(r?`feature:${r}`:"");if(!r||!a||!i)return null;const l={id:a,route:r,area:i,titleKey:typeof s.titleKey=="string"?s.titleKey:void 0,status:typeof s.status=="string"?s.status:void 0,minRole:o5(s.minRole),allowedRoles:l5(s.allowedRoles),allowedGroups:c5(s.allowedGroups),allowedUserIds:d5(s.allowedUserIds),showInTopbar:typeof s.showInTopbar=="boolean"?s.showInTopbar:void 0,showInSidebar:typeof s.showInSidebar=="boolean"?s.showInSidebar:void 0,navOrder:typeof s.navOrder=="number"?s.navOrder:void 0,isExperimental:typeof s.isExperimental=="boolean"?s.isExperimental:void 0,description:typeof s.description=="string"?s.description:void 0};return E1(l)}function $F(t){const e={},s={};return t.forEach(r=>{const i=E1(r);e[i.id]=i,s[i.route]=i}),{byId:e,byRoute:s}}const fa=$F(FF),OF={...fa,loading:!1,error:null};function VF(t,e){const s={...t!=null?t:{}};return Object.entries(e).forEach(([i,a])=>{if(a!==void 0){const l=i;s[l]=a}}),s}function UF(t){const e={...fa.byId},s={...fa.byRoute};return t.forEach(r=>{const i=E1(r),a=e[i.id],l=VF(a,i);e[l.id]=l,s[l.route]=l}),{byId:e,byRoute:s}}const u5=Z.createContext(OF),zF=({children:t})=>{const[e,s]=Z.useState({...fa,loading:!0,error:null});Z.useEffect(()=>{let i=!0;return(async()=>{try{const l=await pn(yd(Ct,"feature_access")),d=[];l.forEach(h=>{const m=BF(h.id,h.data());m&&d.push(m)});const u=UF(d);i&&s({...u,loading:!1,error:null})}catch(l){const d=l,u=d==null?void 0:d.code,h=u==="permission-denied"||u==="failed-precondition";typeof window!="undefined"&&window.location.hostname==="localhost"&&console.warn(`[FeatureAccess] Firestore feature_access ${h?"not readable":"load failed"}. Falling back to defaults.`,l),i&&s(g=>({...g,loading:!1,error:l instanceof Error?l.message:"Failed to load feature access rules"}))}})(),()=>{i=!1}},[]);const r=Z.useMemo(()=>e,[e]);return n.jsx(u5.Provider,{value:r,children:t})};function HF(){return Z.useContext(u5)}function GF(t,e){var i,a,l;if(!t)return;const s=e!=null?e:fa,r=a5(t);return(l=(a=(i=s.byId[t])!=null?i:s.byRoute[r])!=null?a:fa.byId[t])!=null?l:fa.byRoute[r]}function WF(t){return!t||t.length===0?"guest":t.includes("admin")?"admin":t.includes("dev")||t.includes("developer")?"developer":t.includes("mod")||t.includes("moderator")?"moderator":"user"}function qF(t,e,s,r,i){if(s)return!0;const a=!!r;if(t.status==="logged_in"&&!a)return!1;const l=e!=null?e:"user";if(t.status==="hidden"||t.status==="dev_only"&&l!=="developer"&&l!=="admin"||t.allowedUserIds&&t.allowedUserIds.length>0&&(!r||!t.allowedUserIds.includes(r))||t.allowedGroups&&t.allowedGroups.length>0&&!(i!=null?i:[]).some(u=>t.allowedGroups.includes(u)))return!1;if(t.allowedRoles&&t.allowedRoles.length>0)return!!l&&t.allowedRoles.includes(l);if(t.minRole){const d=bj.indexOf(l),u=bj.indexOf(t.minRole);return d>=u&&d!==-1}return!0}function bg(){var C;let t=null;try{t=Ll().user}catch(R){console.warn("[FeatureAccess] useFeatureAccess used outside AuthProvider; continuing with user-level access.")}const{byId:e,byRoute:s,loading:r,error:i}=HF(),a=Z.useMemo(()=>({byId:e!=null?e:fa.byId,byRoute:s!=null?s:fa.byRoute}),[e,s]),l=Z.useMemo(()=>WF(t==null?void 0:t.roles),[t==null?void 0:t.roles]),d=Z.useMemo(()=>{var R;return!!((R=t==null?void 0:t.roles)!=null&&R.includes("admin"))},[t==null?void 0:t.roles]),u=Z.useMemo(()=>{var R;return(R=t==null?void 0:t.accessGroups)!=null?R:[]},[t==null?void 0:t.accessGroups]),h=(C=t==null?void 0:t.id)!=null?C:null,m=Z.useCallback(R=>GF(R,a),[a]),g=Z.useCallback(R=>R?qF(R,l,d,h,u):!0,[d,u,h,l]),v=Z.useCallback(R=>{if(!R)return!0;const F=m(R);return g(F)},[g,m]),b=Z.useCallback(R=>{if(!R)return!0;const F=m(R);return F?F.status==="hidden"||F.showInSidebar===!1?!1:g(F):!0},[g,m]),S=Z.useCallback(R=>{if(!R)return!0;const F=m(R);return F?F.status==="hidden"||F.showInTopbar===!1?!1:g(F):!0},[g,m]);return{loading:r,error:i,rulesById:e,rulesByRoute:s,storeRules:a,resolveRule:m,canAccessRule:g,canAccessFeature:v,isVisibleInSidebar:b,isVisibleInTopbar:S}}const h5=E.createContext(null);function KF({children:t}){const{canAccessFeature:e}=bg(),[s,r]=E.useState(!1),[i,a]=E.useState("csv"),l=e("main.uploadCenter"),d=E.useCallback(m=>{l&&(m!=null&&m.tab?a(m.tab):a("csv"),r(!0))},[l]),u=E.useCallback(()=>r(!1),[]),h=E.useMemo(()=>({isOpen:s,open:d,close:u,activeTab:i,setTab:a,canUse:l}),[s,d,u,i,l]);return n.jsx(h5.Provider,{value:h,children:t})}function A1(){const t=E.useContext(h5);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}const ri={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},ii=t=>`https://drive.google.com/uc?export=view&id=${t}`,p5=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Ws=[{key:"warrior",label:"Warrior",iconUrl:ii(ri.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:ii(ri.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:ii(ri.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:ii(ri.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:ii(ri["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:ii(ri.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:ii(ri["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:ii(ri.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:ii(ri.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:ii(ri.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:ii(ri.paladin),fallback:""}],Xy=Object.fromEntries(Ws.map(t=>[t.key,t])),Yy=new Map;function vs(t,e){Yy.set(p5(t),e)}for(const t of Ws)vs(t.key,t.key),vs(t.label,t.key);vs("war","warrior");vs("krieger","warrior");vs("magier","mage");vs("jaeger","scout");vs("jger","scout");vs("assa","assassin");vs("meuchelmoerder","assassin");vs("meuchelmrder","assassin");vs("demonhunter","demon-hunter");vs("dh","demon-hunter");vs("daemonenjaeger","demon-hunter");vs("dmonenjger","demon-hunter");vs("zerker","berserker");vs("battlemage","battle-mage");vs("kampfmagier","battle-mage");vs("bm","battle-mage");vs("druide","druid");vs("barde","bard");vs("necro","necromancer");vs("nekromant","necromancer");vs("pala","paladin");function QF(t){const e=p5(t);if(!e)return{};const s=Yy.get(e);if(s){const r=Xy[s];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of Yy.entries())if(r.startsWith(e)||e.startsWith(r)){const a=Xy[i];return{url:a.iconUrl,fallback:a.fallback}}return{}}const XF=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:Ws,CLASS_BY_KEY:Xy,iconForClassName:QF},Symbol.toStringTag,{value:"Module"}));function _g(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const s=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(s!=null&&s[1])return s[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function Qm(t){if(t==null)return;const e=_g(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function m5(t,e=64){if(t==null)return;const s=_g(t);if(!s)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${s}&sz=w${r}`}function f5(t,e){const s="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${s}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function g5(t,e,s,r){const i=Qm(t);return i?f5(i,{w:e,h:s,fit:r}):void 0}function Vr(t,e=64){const s=m5(t,e);return s?f5(s,{w:e,h:e,fit:"contain"}):void 0}function Nv(t){if(t==null)return;const e=_g(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function YF(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const Tl=Object.assign(t=>Qm(t),{id:_g,direct:Qm,thumb:m5,proxy:g5,thumbProxy:Vr,raw:Nv,gif:Nv,gifProxy:t=>{const e=Nv(t);return e&&/^https?:\/\//i.test(e)?YF(e):Qm(t)}}),kv=t=>Number.isFinite(t),jc=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},JF=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function ZF(t,e=64){if(!t)return;const s=a=>a.toLowerCase().replace(/[^a-z0-9]+/g,""),r=s(t);let i=Ws.find(a=>s(a.label)===r);if(i||(i=Ws.find(a=>s(a.label).startsWith(r)||r.startsWith(s(a.label)))),!!i)return Vr(i.iconUrl,e)}function eB(t){const e=t.ref.parent,s=e==null?void 0:e.parent,r=s==null?void 0:s.parent;return{root:r==null?void 0:r.id,id:s==null?void 0:s.id}}function tB({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:s}){const r=Or(),[i,a]=Z.useState(""),[l,d]=Z.useState(""),[u,h]=Z.useState(!1),[m,g]=Z.useState(null),[v,b]=Z.useState([]),[S,C]=Z.useState([]),[R,F]=Z.useState([]),[D,A]=Z.useState(-1),y=Z.useRef(null);Z.useEffect(()=>{const j=setTimeout(()=>d(i.trim()),200);return()=>clearTimeout(j)},[i]),Z.useEffect(()=>{async function j(){g(null);const I=l;if(I.length<1){b([]),C([]),F([]),A(-1);return}h(!0);try{let M=function(Ce){var De,Ee,tt,pt,Ht,Ss,Ns,$s,ys,Ne,Re,Ae,Ue,nt,ut,xt,Vt,Bt,ir,vn,Os,_r,hi,Fi,pi,Ur,ns,wr,Bi,$i,En,ar,Oi,or;const ge=Ce.data(),{root:ke,id:Se}=eB(Ce),ue=Se||ge.playerId||ge.guildIdentifier||"";if(ke==="players"||ge.playerId&&!ge.guildIdentifier){if(!ue||H.has(ue))return;H.add(ue),K.push({kind:"player",id:ue,name:(tt=(Ee=ge.name)!=null?Ee:(De=ge.values)==null?void 0:De.Name)!=null?tt:null,nameFold:(pt=ge.nameFold)!=null?pt:null,server:(Ns=(Ss=ge.server)!=null?Ss:(Ht=ge.values)==null?void 0:Ht.Server)!=null?Ns:null,guildName:(Ne=(ys=ge.guildName)!=null?ys:($s=ge.values)==null?void 0:$s.Guild)!=null?Ne:null,className:(Ue=(Ae=ge.className)!=null?Ae:(Re=ge.values)==null?void 0:Re.Class)!=null?Ue:null,level:jc((ut=ge.level)!=null?ut:(nt=ge.values)==null?void 0:nt.Level),ts:jc(ge.timestamp)});return}if(ke==="guilds"||ge.guildIdentifier&&!ge.playerId){if(!ue||q.has(ue))return;q.add(ue),G.push({kind:"guild",id:ue,name:(Bt=(Vt=ge.name)!=null?Vt:(xt=ge.values)==null?void 0:xt.Name)!=null?Bt:null,nameFold:(ir=ge.nameFold)!=null?ir:null,server:(_r=(Os=ge.server)!=null?Os:(vn=ge.values)==null?void 0:vn.Server)!=null?_r:null,memberCount:jc((Ur=(Fi=ge.memberCount)!=null?Fi:(hi=ge.values)==null?void 0:hi["Guild Member Count"])!=null?Ur:(pi=ge.values)==null?void 0:pi.GuildMemberCount),hofRank:jc((or=(ar=($i=(wr=ge.hofRank)!=null?wr:(ns=ge.values)==null?void 0:ns["Hall of Fame Rank"])!=null?$i:(Bi=ge.values)==null?void 0:Bi.HoF)!=null?ar:(En=ge.values)==null?void 0:En.Rank)!=null?or:(Oi=ge.values)==null?void 0:Oi["Guild Rank"]),ts:jc(ge.timestamp)});return}};const P=JF(I),O=hg(Ct,"latest"),$=await pn($n(O,co("nameFold"),hl(P),pl(P+""),On(e*6))),W=await pn($n(O,xl("nameNgrams","array-contains",P),On(e*6))),H=new Set,q=new Set,K=[],G=[];$.forEach(M),W.forEach(M);const te=yd(Ct,"servers"),ne=I.toLowerCase(),U=I.toUpperCase(),J=[pn($n(te,co("displayName"),hl(I),pl(I+""),On(e*4))),pn($n(te,co("code"),hl(U),pl(U+""),On(e*4))),pn($n(te,co("host"),hl(ne),pl(ne+""),On(e*4)))],ce=await Promise.allSettled(J),ee=new Set,fe=[];for(const Ce of ce)Ce.status==="fulfilled"&&Ce.value.forEach(ge=>{var ue,De,Ee,tt,pt;const ke=ge.data(),Se=ge.id;!Se||ee.has(Se)||(ee.add(Se),fe.push({kind:"server",id:Se,displayName:(ue=ke.displayName)!=null?ue:null,code:(De=ke.code)!=null?De:null,host:(Ee=ke.host)!=null?Ee:null,region:(tt=ke.region)!=null?tt:null,type:(pt=ke.type)!=null?pt:null,numericId:jc(ke.numericId),active:typeof ke.active=="boolean"?ke.active:null}))});b(K.slice(0,e)),C(G.slice(0,e)),F(fe.slice(0,e)),A(K.length+G.length+fe.length?0:-1)}catch(M){g((M==null?void 0:M.message)||"Unbekannter Fehler bei der Suche."),b([]),C([]),F([]),A(-1)}finally{h(!1)}}return j(),()=>{}},[l,e]),Z.useEffect(()=>{const j=I=>{y.current&&(y.current.contains(I.target)||(b([]),C([]),F([]),A(-1)))};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const w=[...v,...S,...R],L=j=>{j.kind==="player"?r(`/player/${encodeURIComponent(j.id)}`):j.kind==="guild"?r(`/guild/${encodeURIComponent(j.id)}`):r(`/server/${encodeURIComponent(j.id)}`),b([]),C([]),F([]),A(-1),a("")},N=j=>{if(w.length)if(j.key==="ArrowDown")j.preventDefault(),A(I=>(I+1)%w.length);else if(j.key==="ArrowUp")j.preventDefault(),A(I=>(I-1+w.length)%w.length);else if(j.key==="Enter"){j.preventDefault();const I=w[D>=0?D:0];I&&L(I)}else j.key==="Escape"&&(b([]),C([]),F([]),A(-1))};return n.jsxs("div",{ref:y,style:vt.wrap,children:[n.jsx("input",{style:vt.input,placeholder:t,value:i,onChange:j=>a(j.target.value),onKeyDown:N,"aria-label":"Spieler, Gilden und Server suchen"}),(u||m||v.length||S.length||R.length)&&n.jsxs("div",{style:vt.dropdown,children:[u&&n.jsx("div",{style:vt.hint,children:"Suche"}),m&&!u&&n.jsxs("div",{style:vt.err,children:[" ",m]}),!u&&!m&&(v.length>0||S.length>0||R.length>0)&&n.jsxs(n.Fragment,{children:[v.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:vt.sectionHdr,children:"Spieler"}),v.map((j,I)=>{var O,$,W,H;const M=I===D,P=(O=s==null?void 0:s(j.className,64))!=null?O:ZF(j.className,64);return n.jsxs("button",{onClick:()=>L(j),style:M?vt.itemActive:vt.item,title:j.name||"",onMouseEnter:()=>A(I),children:[n.jsx("div",{style:vt.iconBoxPlain,children:P?n.jsx("img",{src:P,alt:"",style:vt.iconImgShadow,onError:q=>{const K=q.currentTarget.parentElement;K&&(K.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):n.jsx("div",{style:vt.iconFallback,children:(j.className||" ? ").toString().slice(0,2)})}),n.jsxs("div",{style:vt.meta,children:[n.jsxs("div",{style:vt.line1,children:[n.jsx("span",{style:vt.name,children:($=j.name)!=null?$:"Unbekannt"}),kv(j.level)&&n.jsxs("span",{style:vt.badge,children:["Lvl ",j.level]})]}),n.jsxs("div",{style:vt.line2,children:[j.guildName?n.jsxs("span",{children:["",j.guildName,""]}):n.jsx("span",{style:vt.muted,children:""}),n.jsx("span",{style:vt.sep,children:""}),n.jsx("span",{children:(W=j.className)!=null?W:"Klasse ?"}),n.jsx("span",{style:vt.sep,children:""}),n.jsx("span",{children:(H=j.server)!=null?H:"Server ?"})]})]})]},`p-${j.id}-${I}`)})]}),S.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:vt.sectionHdr,children:"Gilden"}),S.map((j,I)=>{var O,$;const M=v.length+I,P=M===D;return n.jsxs("button",{onClick:()=>L(j),style:P?vt.itemActive:vt.item,title:j.name||"",onMouseEnter:()=>A(M),children:[n.jsx("div",{style:vt.iconBox,children:""}),n.jsxs("div",{style:vt.meta,children:[n.jsxs("div",{style:vt.line1,children:[n.jsx("span",{style:vt.name,children:(O=j.name)!=null?O:"Unbekannt"}),kv(j.hofRank)&&n.jsxs("span",{style:vt.badge,children:["HoF #",j.hofRank]})]}),n.jsxs("div",{style:vt.line2,children:[n.jsx("span",{children:($=j.server)!=null?$:"Server ?"}),n.jsx("span",{style:vt.sep,children:""}),n.jsx("span",{children:kv(j.memberCount)?`${j.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${j.id}-${I}`)})]}),R.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{style:vt.sectionHdr,children:"Server"}),R.map((j,I)=>{var O,$,W,H,q,K;const M=v.length+S.length+I,P=M===D;return n.jsxs("button",{onClick:()=>L(j),style:P?vt.itemActive:vt.item,title:j.displayName||j.code||j.host||"",onMouseEnter:()=>A(M),children:[n.jsx("div",{style:vt.iconBoxPlain,children:n.jsx("div",{style:vt.serverGlyph,children:""})}),n.jsxs("div",{style:vt.meta,children:[n.jsxs("div",{style:vt.line1,children:[n.jsx("span",{style:vt.name,children:(W=($=(O=j.displayName)!=null?O:j.code)!=null?$:j.host)!=null?W:j.id}),j.active!=null&&n.jsx("span",{style:vt.badge,children:j.active?"Aktiv":"Inaktiv"})]}),n.jsxs("div",{style:vt.line2,children:[n.jsx("span",{children:(H=j.code)!=null?H:""}),n.jsx("span",{style:vt.sep,children:""}),n.jsx("span",{children:(q=j.host)!=null?q:""}),n.jsx("span",{style:vt.sep,children:""}),n.jsx("span",{children:(K=j.region)!=null?K:""}),j.type?n.jsxs(n.Fragment,{children:[n.jsx("span",{style:vt.sep,children:""}),n.jsx("span",{children:j.type.toUpperCase()})]}):null]})]})]},`s-${j.id}-${I}`)})]})]}),!u&&!m&&v.length===0&&S.length===0&&R.length===0&&l.length>=1&&n.jsx("div",{style:vt.hint,children:"Keine Treffer"})]})]})}const vt={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}},sB=[{to:"/",label:"Home",featureId:"main.home"},{to:"/dashboard",label:"Dashboard",featureId:"main.dashboard"},{to:"/guild-hub",label:"Guild Hub",featureId:"main.guildHub"},{to:"/community",label:"Community",featureId:"main.community"},{to:"/tools",label:"Tools",featureId:"main.tools"}];function nB(t){var d,u,h;if(!t)return;const e=String(t),s=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),a=r.replace(/\s+/g,""),l=[void 0,void 0,void 0,void 0,XF];for(const m of l){if(!m)continue;const g=(h=(u=(d=m[s])!=null?d:m[r])!=null?u:m[i])!=null?h:m[a];if(typeof g=="string")return g}}function rB({user:t}){const{open:e,canUse:s}=A1(),{isVisibleInTopbar:r}=bg(),i=Z.useMemo(()=>sB.filter(l=>!l.featureId||r(l.featureId)),[r]),a=()=>{e({tab:"json"})};return n.jsxs("header",{className:_t.topbar,children:[n.jsxs("div",{className:_t.topbarLeft,children:[n.jsx("button",{className:_t.btnIco,"aria-label":"Benachrichtigungen",children:n.jsx(JR,{className:_t.ico})}),n.jsx("button",{className:_t.btnIco,"aria-label":"Favoriten",children:n.jsx(a6,{className:_t.ico})}),i.length>0?n.jsx("nav",{className:_t.topbarNav,"aria-label":"Schnellzugriff",children:i.map(l=>n.jsx(cs,{to:l.to,className:({isActive:d})=>`${_t.pill} ${_t.topbarLink} ${d?_t.pillActive:""}`,children:l.label},l.to))}):null]}),n.jsx("div",{className:_t.searchWrap,children:n.jsx(tB,{placeholder:"Suchen (Spieler)",getClassIcon:nB,maxPerSection:10})}),n.jsxs("div",{className:_t.topbarRight,children:[n.jsxs("a",{className:`${_t.pill} ${_t.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[n.jsx(NP,{className:_t.ico}),"www.sfgame.net"]}),s?n.jsxs("button",{className:_t.upload,"aria-label":"Scan hochladen",onClick:a,title:"Scan hochladen",children:[n.jsx(p6,{className:_t.ico}),n.jsx("span",{className:_t.label,children:"Scan hochladen"})]}):null,n.jsx(MF,{fallbackName:t==null?void 0:t.name})]})]})}const iB="_root_1scwm_3",aB="_expanded_1scwm_45",oB="_headRow_1scwm_55",lB="_headTitle_1scwm_63",cB="_headDot_1scwm_65",dB="_headLabel_1scwm_67",uB="_pinBtn_1scwm_69",hB="_navScroll_1scwm_81",pB="_pad_1scwm_83",mB="_segCard_1scwm_89",fB="_segTitle_1scwm_121",gB="_navCol_1scwm_139",xB="_navItemWrap_1scwm_141",vB="_navBtn_1scwm_147",yB="_navBtnActive_1scwm_171",bB="_label_1scwm_175",_B="_trailing_1scwm_205",wB="_isOpen_1scwm_253",jB="_footer_1scwm_279",SB="_login_1scwm_281",NB="_userMeta_1scwm_303",kB="_footerLink_1scwm_317",TB="_legal_1scwm_345",CB="_labelText_1scwm_369",EB="_char_1scwm_379",AB="_mainNavCard_1scwm_447",Ft={root:iB,expanded:aB,headRow:oB,headTitle:lB,headDot:cB,headLabel:dB,pinBtn:uB,navScroll:hB,pad:pB,segCard:mB,segTitle:fB,navCol:gB,navItemWrap:xB,navBtn:vB,navBtnActive:yB,label:bB,trailing:_B,isOpen:wB,footer:jB,login:SB,userMeta:NB,footerLink:kB,legal:TB,labelText:CB,char:EB,mainNavCard:AB},IB="_panel_90cjk_1",RB="_open_90cjk_31",PB="_col_90cjk_43",LB="_link_90cjk_55",DB="_linkActive_90cjk_73",$u={panel:IB,open:RB,col:PB,link:LB,linkActive:DB};function MB(t,e=8){const s=t.getBoundingClientRect();return{left:Math.round(s.right+e),top:Math.round(s.top)}}function FB({anchorEl:t,open:e,items:s,renderLink:r,onMouseEnter:i,onMouseLeave:a}){const[l,d]=Z.useState({left:0,top:0});return Z.useEffect(()=>{if(!e||!t)return;const u=()=>d(MB(t));u();const h=new ResizeObserver(u);return h.observe(document.documentElement),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u),()=>{h.disconnect(),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,t]),typeof document=="undefined"?null:(e&&(s!=null&&s.length)&&console.log("submenu items:",s.map(u=>u.label)),OR.createPortal(n.jsx("div",{className:`${$u.panel} ${e?$u.open:""}`,style:{left:l.left,top:l.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:a,role:"menu",children:n.jsx("div",{className:$u.col,children:s.map(u=>r(u))})}),document.body))}const BB=[{to:"/",label:"Home",icon:n.jsx(CP,{className:"ico"}),end:!0,featureId:"main.home"},{to:"/discover",label:"Discover",icon:n.jsx(gP,{className:"ico"}),featureId:"main.discover"},{to:"/dashboard",label:"Dashboard",icon:n.jsx(RP,{className:"ico"}),featureId:"main.dashboard"},{to:"/settings",label:"Settings",icon:n.jsx(QP,{className:"ico"}),featureId:"main.settings"},{to:"/guild-hub",label:"Guild Hub",icon:n.jsx(Il,{className:"ico"}),featureId:"main.guildHub"},{to:"/admin",label:"Admin",icon:n.jsx(ZP,{className:"ico"}),featureId:"main.admin"},{to:"/playground",label:"Playground",icon:n.jsx(qf,{className:"ico"}),featureId:"main.playground"}],$B=[{to:"/toplists",label:"Toplists",icon:n.jsx(u6,{className:"ico"}),featureId:"main.toplists"},{to:"/guidehub",label:"Guide Hub",icon:n.jsx(eP,{className:"ico"}),featureId:"main.guidehub"},{to:"/tools",label:"Tools",icon:n.jsx(g6,{className:"ico"}),i18nKey:"nav.tools",featureId:"main.tools"},{to:"/community",label:"Community",icon:n.jsx(DP,{className:"ico"}),featureId:"main.community"},{to:"/scans",label:"Scans",icon:n.jsx(jP,{className:"ico"}),featureId:"main.scans"}],OB={"/guild-hub":[{to:"/guild-hub",label:"Overview"},{to:"/guild-hub/planner",label:"Guild Planner"},{to:"/guild-hub/fusion-planner",label:"Fusion Planner"},{to:"/guild-hub/compare-guilds",label:"Gildenvergleich"},{to:"/guild-hub/waitlist",label:"Waitlist"},{to:"/guild-hub/settings",label:"Settings"}],"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"},{to:"/admin/users",label:"Users",minRole:"mod"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]};function VB(t,e){return e?e==="admin"?t.includes("admin"):t.includes("admin")||t.includes("mod"):!0}function UB(t,e){return t?t.filter(s=>VB(e,s.minRole)):[]}const zB=220;function HB(t=zB){const[e,s]=Z.useState(!1),r=Z.useRef(null),i=Z.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),a=Z.useCallback(()=>{i(),s(!0)},[i]),l=Z.useCallback(()=>{i(),r.current=window.setTimeout(()=>s(!1),t)},[i,t]);return Z.useEffect(()=>()=>i(),[i]),{open:e,onEnter:a,onLeave:l,setOpen:s}}function I1({text:t,isOpen:e,duration:s=1,step:r=45}){const i=Z.useMemo(()=>Array.from(t),[t]);return n.jsx("span",{className:Ft.label,children:n.jsx("span",{className:Ft.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${s}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((a,l)=>n.jsx("span",{className:Ft.char,style:{"--i":l},"aria-hidden":"true",children:a===" "?"":a},`${t}-${l}`))})})}function GB({it:t,label:e,collapsed:s,allowSubmenus:r,subItems:i}){const a=i.length>0,{open:l,onEnter:d,onLeave:u,setOpen:h}=HB(),m=Z.useRef(null),g=Z.useCallback(()=>{if(!r||!a){h(!1);return}d()},[r,a,d,h]);return n.jsxs("div",{ref:m,className:`${Ft.navItemWrap} ${l?Ft.isOpen:""}`,onMouseEnter:g,onMouseLeave:u,children:[n.jsxs(cs,{to:t.to,end:!!t.end,className:({isActive:v})=>`${Ft.navBtn} ${v?Ft.navBtnActive:""}`,children:[t.icon,n.jsx(I1,{text:e,isOpen:!s}),a&&!s&&n.jsx("span",{className:Ft.trailing,"aria-hidden":"true",children:n.jsx(rP,{className:"ico"})})]}),a&&n.jsx(FB,{anchorEl:m.current,open:l,items:i.map(({to:v,label:b})=>({to:v,label:b})),renderLink:v=>n.jsx(cs,{to:v.to,end:!0,className:({isActive:b})=>`${$u.link} ${b?$u.linkActive:""}`,children:v.label},v.to),onMouseEnter:d,onMouseLeave:u})]})}function _j({title:t,items:e,collapsed:s,allowSubmenus:r,userRoles:i,translate:a,isItemVisible:l}){return n.jsxs(n.Fragment,{children:[t&&n.jsx("div",{className:`${Ft.navTitle} ${Ft.segTitle}`,children:t}),n.jsx("div",{className:Ft.navCol,children:e.map(d=>{if(!l(d))return null;const u=UB(OB[d.to],i),h=d.i18nKey?a(d.i18nKey):d.label;return u.length?n.jsx(GB,{it:d,label:h,collapsed:s,allowSubmenus:r,subItems:u},d.to):n.jsxs(cs,{to:d.to,end:!!d.end,className:({isActive:m})=>`${Ft.navBtn} ${m?Ft.navBtnActive:""}`,children:[d.icon,n.jsx(I1,{text:h,isOpen:!s})]},d.to)})})]})}const WB=90,qB=180;function KB({expanded:t,setExpanded:e,pinned:s,setPinned:r,hoverToExpand:i=!0}){var j;const a=Z.useRef(null),l=Z.useRef(null),[d,u]=Z.useState(!1),h=Z.useCallback(()=>{a.current&&(window.clearTimeout(a.current),a.current=null),l.current&&(window.clearTimeout(l.current),l.current=null)},[]),m=Z.useCallback(()=>{!i||s||(h(),u(!1),a.current=window.setTimeout(()=>e(!0),WB))},[i,s,h,e]),g=Z.useCallback(()=>{!i||s||(h(),l.current=window.setTimeout(()=>{e(!1),u(!1)},qB))},[i,s,h,e]);Z.useEffect(()=>()=>h(),[h]),Z.useEffect(()=>{s&&u(!0)},[s]);const v=I=>{I.propertyName==="width"&&t&&!s&&u(!0)};Z.useEffect(()=>{if(t&&!s){const I=window.setTimeout(()=>u(!0),250);return()=>window.clearTimeout(I)}},[t,s]);const b=!t,S=s||t&&d,C=Or(),{t:R}=ud(),{status:F,user:D,logout:A}=Ll(),y=F==="authenticated",w=(j=D==null?void 0:D.roles)!=null?j:[],{isVisibleInSidebar:L}=bg(),N=()=>{y?A():C("/login")};return n.jsxs("aside",{id:"sidebar-root",className:`${Ft.root} ${t?Ft.expanded:""}`,"data-collapsed":b?"true":"false",onMouseEnter:m,onMouseLeave:g,onTransitionEnd:v,"aria-label":"Navigation",children:[n.jsxs("div",{className:Ft.headRow,children:[n.jsxs("div",{className:Ft.headTitle,children:[n.jsx("span",{className:Ft.headDot})," ",n.jsx("span",{className:Ft.headLabel,children:"Navigation"})]}),n.jsx("button",{className:Ft.pinBtn,"aria-pressed":s,title:s?"Unpin":"Pin",onClick:()=>r(!s),type:"button",children:s?n.jsx(VP,{className:"ico"}):n.jsx($P,{className:"ico"})})]}),n.jsx("div",{className:Ft.navScroll,children:n.jsxs("div",{className:Ft.pad,children:[n.jsx("div",{className:`${Ft.segCard} ${Ft.mainNavCard}`,children:n.jsx(_j,{items:BB,collapsed:b,allowSubmenus:S,userRoles:w,translate:R,isItemVisible:I=>{var M;return L((M=I.featureId)!=null?M:I.to)}})}),n.jsx("div",{className:Ft.segTitle,children:"Kategorien"}),n.jsx("div",{className:`${Ft.segCard} ${Ft.mainNavCard}`,children:n.jsx(_j,{items:$B,collapsed:b,allowSubmenus:S,userRoles:w,translate:R,isItemVisible:I=>{var M;return L((M=I.featureId)!=null?M:I.to)}})})]})}),n.jsxs("div",{className:`${Ft.footer} ${Ft.segCard} ${Ft.mainNavCard}`,children:[n.jsxs("button",{className:Ft.login,type:"button",onClick:N,children:[n.jsx(Il,{className:"ico"}),n.jsx(I1,{text:y?"Logout":"Login",isOpen:!b})]}),y&&(D!=null&&D.displayName)?n.jsx("div",{className:Ft.userMeta,title:D.displayName,children:D.displayName}):null,n.jsx(cs,{to:"/help",className:Ft.footerLink,children:R("nav.help",{defaultValue:"Help"})}),n.jsxs("div",{className:Ft.legal,children:["(c) 2025 ",R("footer.shortDisclaimer",{defaultValue:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners."})]})]})]})}const Xm="/assets/logo-sfdatahub-CUdhlsEb.png";function QB({src:t,alt:e="",children:s,to:r="/",loading:i="eager",decoding:a="async"}){const l=t!=null?t:Xm;return n.jsxs("div",{className:"logo-dock",children:[n.jsx(cs,{to:r,"aria-label":"Go to home",children:n.jsx("img",{className:"logo-img",src:l,alt:e,loading:i,decoding:a,onError:d=>{const u=d.currentTarget;u.src!==Xm&&(u.src=Xm)}})}),s]})}const XB={borderColor:"#2B4C73",background:"#1A2F4A"};function YB(){const[t,e]=E.useState(!1),[s,r]=E.useState(!1),i=s||t,{t:a}=ud(),l=E.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]),d=a("footer.about.body").split(`

`),u=[{key:"tos",to:"/playground/legal/tos",label:a("help.sections.legal.items.tos",{defaultValue:"Terms of Service (ToS)"})},{key:"privacy",to:"/playground/legal/tos",label:a("help.sections.legal.items.privacy",{defaultValue:"Privacy Policy"})},{key:"imprint",to:"/help",label:a("help.sections.legal.items.imprint",{defaultValue:"Imprint / Contact"})}];return n.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":l},children:[n.jsx(QB,{src:"/logo.png"}),n.jsx(rB,{}),n.jsx("div",{className:"logo-fill"}),n.jsx(KB,{expanded:i,setExpanded:e,pinned:s,setPinned:r,hoverToExpand:!s}),n.jsx("div",{className:"content",children:n.jsx("div",{className:"content-inner",children:n.jsxs("div",{className:"content-body",children:[n.jsx(Rk,{}),n.jsx("div",{className:"mt-4 px-4 md:px-6",children:n.jsxs("div",{className:"rounded-2xl border px-4 py-4",style:XB,children:[n.jsx("div",{className:"text-sm font-semibold",style:{color:"#F5F9FF"},children:a("footer.about.title")}),n.jsx("div",{className:"mt-2 space-y-2 text-[13px]",style:{color:"#B0C4D9"},children:d.map((h,m)=>n.jsx("p",{className:"whitespace-pre-line",children:h},`footer-about-${m}`))}),n.jsxs("div",{className:"mt-4 space-y-2 text-[12px]",style:{color:"#B0C4D9"},children:[n.jsx("div",{children:a("footer.copyright",{defaultValue:" 2025 SFDataHub  community project around Shakes & Fidget."})}),n.jsx("div",{children:a("footer.shortDisclaimer",{defaultValue:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners."})})]}),n.jsx("div",{className:"mt-3 flex flex-wrap gap-3 text-[13px]",style:{color:"#9EC7FF"},children:u.map(h=>n.jsx(Wt,{to:h.to,className:"underline hover:no-underline",children:h.label},h.key))})]})})]})})})]})}const x5=E.createContext({});function R1(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const P1=E.createContext(null),L1=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function JB(t=!0){const e=E.useContext(P1);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=e,a=E.useId();E.useEffect(()=>{t&&i(a)},[t]);const l=E.useCallback(()=>t&&r&&r(a),[a,r,t]);return!s&&r?[!1,l]:[!0]}const D1=typeof window!="undefined",v5=D1?E.useLayoutEffect:E.useEffect,vr=t=>t;let y5=vr;function M1(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cl=(t,e,s)=>{const r=e-t;return r===0?1:(s-t)/r},Ii=t=>t*1e3,Ri=t=>t/1e3,ZB={useManualTiming:!1};function e$(t){let e=new Set,s=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function d(h){a.has(h)&&(u.schedule(h),t()),h(l)}const u={schedule:(h,m=!1,g=!1)=>{const b=g&&r?e:s;return m&&a.add(h),b.has(h)||b.add(h),h},cancel:h=>{s.delete(h),a.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[e,s]=[s,e],e.forEach(d),e.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const mm=["read","resolveKeyframes","update","preRender","render","postRender"],t$=40;function b5(t,e){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,l=mm.reduce((F,D)=>(F[D]=e$(a),F),{}),{read:d,resolveKeyframes:u,update:h,preRender:m,render:g,postRender:v}=l,b=()=>{const F=performance.now();s=!1,i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,t$),1),i.timestamp=F,i.isProcessing=!0,d.process(i),u.process(i),h.process(i),m.process(i),g.process(i),v.process(i),i.isProcessing=!1,s&&e&&(r=!1,t(b))},S=()=>{s=!0,r=!0,i.isProcessing||t(b)};return{schedule:mm.reduce((F,D)=>{const A=l[D];return F[D]=(y,w=!1,L=!1)=>(s||S(),A.schedule(y,w,L)),F},{}),cancel:F=>{for(let D=0;D<mm.length;D++)l[mm[D]].cancel(F)},state:i,steps:l}}const{schedule:ss,cancel:ja,state:ln,steps:Tv}=b5(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:vr,!0),_5=E.createContext({strict:!1}),wj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rd={};for(const t in wj)rd[t]={isEnabled:e=>wj[t].some(s=>!!e[s])};function s$(t){for(const e in t)rd[e]={...rd[e],...t[e]}}const n$=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||n$.has(t)}let w5=t=>!Nf(t);function r$(t){t&&(w5=e=>e.startsWith("on")?!Nf(e):t(e))}try{r$(require("@emotion/is-prop-valid").default)}catch(t){}function i$(t,e,s){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(w5(i)||s===!0&&Nf(i)||!e&&!Nf(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function a$(t){if(typeof Proxy=="undefined")return t;const e=new Map,s=(...r)=>t(...r);return new Proxy(s,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const wg=E.createContext({});function uh(t){return typeof t=="string"||Array.isArray(t)}function jg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const F1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],B1=["initial",...F1];function Sg(t){return jg(t.animate)||B1.some(e=>uh(t[e]))}function j5(t){return!!(Sg(t)||t.variants)}function o$(t,e){if(Sg(t)){const{initial:s,animate:r}=t;return{initial:s===!1||uh(s)?s:void 0,animate:uh(r)?r:void 0}}return t.inherit!==!1?e:{}}function l$(t){const{initial:e,animate:s}=o$(t,E.useContext(wg));return E.useMemo(()=>({initial:e,animate:s}),[jj(e),jj(s)])}function jj(t){return Array.isArray(t)?t.join(" "):t}const c$=Symbol.for("motionComponentSymbol");function Dc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function d$(t,e,s){return E.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),s&&(typeof s=="function"?s(r):Dc(s)&&(s.current=r))},[e])}const $1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),u$="framerAppearId",S5="data-"+$1(u$),{schedule:O1}=b5(queueMicrotask,!1),N5=E.createContext({});function h$(t,e,s,r,i){var a,l;const{visualElement:d}=E.useContext(wg),u=E.useContext(_5),h=E.useContext(P1),m=E.useContext(L1).reducedMotion,g=E.useRef(null);r=r||u.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:d,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const v=g.current,b=E.useContext(N5);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&p$(g.current,s,i,b);const S=E.useRef(!1);E.useInsertionEffect(()=>{v&&S.current&&v.update(s,h)});const C=s[S5],R=E.useRef(!!C&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,C))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,C)));return v5(()=>{v&&(S.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),O1.render(v.render),R.current&&v.animationState&&v.animationState.animateChanges())}),E.useEffect(()=>{v&&(!R.current&&v.animationState&&v.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,C)}),R.current=!1))}),v}function p$(t,e,s,r){const{layoutId:i,layout:a,drag:l,dragConstraints:d,layoutScroll:u,layoutRoot:h}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:k5(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||d&&Dc(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:h})}function k5(t){if(t)return t.options.allowProjection!==!1?t.projection:k5(t.parent)}function m$({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:r,Component:i}){var a,l;t&&s$(t);function d(h,m){let g;const v={...E.useContext(L1),...h,layoutId:f$(h)},{isStatic:b}=v,S=l$(h),C=r(h,b);if(!b&&D1){g$();const R=x$(v);g=R.MeasureLayout,S.visualElement=h$(i,C,v,e,R.ProjectionNode)}return n.jsxs(wg.Provider,{value:S,children:[g&&S.visualElement?n.jsx(g,{visualElement:S.visualElement,...v}):null,s(i,h,d$(C,S.visualElement,m),C,b,S.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const u=E.forwardRef(d);return u[c$]=i,u}function f$({layoutId:t}){const e=E.useContext(x5).id;return e&&t!==void 0?e+"-"+t:t}function g$(t,e){E.useContext(_5).strict}function x$(t){const{drag:e,layout:s}=rd;if(!e&&!s)return{};const r={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const v$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function V1(t){return typeof t!="string"||t.includes("-")?!1:!!(v$.indexOf(t)>-1||/[A-Z]/u.test(t))}function Sj(t){const e=[{},{}];return t==null||t.values.forEach((s,r)=>{e[0][r]=s.get(),e[1][r]=s.getVelocity()}),e}function U1(t,e,s,r){if(typeof e=="function"){const[i,a]=Sj(r);e=e(s!==void 0?s:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Sj(r);e=e(s!==void 0?s:t.custom,i,a)}return e}const Jy=t=>Array.isArray(t),y$=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),b$=t=>Jy(t)?t[t.length-1]||0:t,Zs=t=>!!(t&&t.getVelocity);function Ym(t){const e=Zs(t)?t.get():t;return y$(e)?e.toValue():e}function _$({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:s},r,i,a){const l={latestValues:w$(r,i,a,t),renderState:e()};return s&&(l.onMount=d=>s({props:r,current:d,...l}),l.onUpdate=d=>s(d)),l}const T5=t=>(e,s)=>{const r=E.useContext(wg),i=E.useContext(P1),a=()=>_$(t,e,r,i);return s?a():R1(a)};function w$(t,e,s,r){const i={},a=r(t,{});for(const v in a)i[v]=Ym(a[v]);let{initial:l,animate:d}=t;const u=Sg(t),h=j5(t);e&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let m=s?s.initial===!1:!1;m=m||l===!1;const g=m?d:l;if(g&&typeof g!="boolean"&&!jg(g)){const v=Array.isArray(g)?g:[g];for(let b=0;b<v.length;b++){const S=U1(t,v[b]);if(S){const{transitionEnd:C,transition:R,...F}=S;for(const D in F){let A=F[D];if(Array.isArray(A)){const y=m?A.length-1:0;A=A[y]}A!==null&&(i[D]=A)}for(const D in C)i[D]=C[D]}}}return i}const bd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dl=new Set(bd),C5=t=>e=>typeof e=="string"&&e.startsWith(t),E5=C5("--"),j$=C5("var(--"),z1=t=>j$(t)?S$.test(t.split("/*")[0].trim()):!1,S$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,A5=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Sa=(t,e,s)=>s>e?e:s<t?t:s,_d={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hh={..._d,transform:t=>Sa(0,1,t)},fm={..._d,default:1},Mh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),so=Mh("deg"),Pi=Mh("%"),st=Mh("px"),N$=Mh("vh"),k$=Mh("vw"),Nj={...Pi,parse:t=>Pi.parse(t)/100,transform:t=>Pi.transform(t*100)},T$={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st},C$={rotate:so,rotateX:so,rotateY:so,rotateZ:so,scale:fm,scaleX:fm,scaleY:fm,scaleZ:fm,skew:so,skewX:so,skewY:so,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:hh,originX:Nj,originY:Nj,originZ:st},kj={..._d,transform:Math.round},H1={...T$,...C$,zIndex:kj,size:st,fillOpacity:hh,strokeOpacity:hh,numOctaves:kj},E$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A$=bd.length;function I$(t,e,s){let r="",i=!0;for(let a=0;a<A$;a++){const l=bd[a],d=t[l];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(l.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||s){const h=A5(d,H1[l]);if(!u){i=!1;const m=E$[l]||l;r+=`${m}(${h}) `}s&&(e[l]=h)}}return r=r.trim(),s?r=s(e,i?"":r):i&&(r="none"),r}function G1(t,e,s){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,d=!1;for(const u in e){const h=e[u];if(Dl.has(u)){l=!0;continue}else if(E5(u)){i[u]=h;continue}else{const m=A5(h,H1[u]);u.startsWith("origin")?(d=!0,a[u]=m):r[u]=m}}if(e.transform||(l||s?r.transform=I$(e,t.transform,s):r.transform&&(r.transform="none")),d){const{originX:u="50%",originY:h="50%",originZ:m=0}=a;r.transformOrigin=`${u} ${h} ${m}`}}const R$={offset:"stroke-dashoffset",array:"stroke-dasharray"},P$={offset:"strokeDashoffset",array:"strokeDasharray"};function L$(t,e,s=1,r=0,i=!0){t.pathLength=1;const a=i?R$:P$;t[a.offset]=st.transform(-r);const l=st.transform(e),d=st.transform(s);t[a.array]=`${l} ${d}`}function Tj(t,e,s){return typeof t=="string"?t:st.transform(e+s*t)}function D$(t,e,s){const r=Tj(e,t.x,t.width),i=Tj(s,t.y,t.height);return`${r} ${i}`}function W1(t,{attrX:e,attrY:s,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:d=1,pathOffset:u=0,...h},m,g){if(G1(t,h,g),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:b,dimensions:S}=t;v.transform&&(S&&(b.transform=v.transform),delete v.transform),S&&(i!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=D$(S,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(v.x=e),s!==void 0&&(v.y=s),r!==void 0&&(v.scale=r),l!==void 0&&L$(v,l,d,u,!1)}const q1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),I5=()=>({...q1(),attrs:{}}),K1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function R5(t,{style:e,vars:s},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in s)t.style.setProperty(a,s[a])}const P5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function L5(t,e,s,r){R5(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(P5.has(i)?i:$1(i),e.attrs[i])}const kf={};function M$(t){Object.assign(kf,t)}function D5(t,{layout:e,layoutId:s}){return Dl.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!kf[t]||t==="opacity")}function Q1(t,e,s){var r;const{style:i}=t,a={};for(const l in i)(Zs(i[l])||e.style&&Zs(e.style[l])||D5(l,t)||((r=s==null?void 0:s.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function M5(t,e,s){const r=Q1(t,e,s);for(const i in t)if(Zs(t[i])||Zs(e[i])){const a=bd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function F$(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(s){e.dimensions={x:0,y:0,width:0,height:0}}}const Cj=["x","y","width","height","cx","cy","r"],B$={useVisualState:T5({scrapeMotionValuesFromProps:M5,createRenderState:I5,onUpdate:({props:t,prevProps:e,current:s,renderState:r,latestValues:i})=>{if(!s)return;let a=!!t.drag;if(!a){for(const d in i)if(Dl.has(d)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let d=0;d<Cj.length;d++){const u=Cj[d];t[u]!==e[u]&&(l=!0)}l&&ss.read(()=>{F$(s,r),ss.render(()=>{W1(r,i,K1(s.tagName),t.transformTemplate),L5(s,r)})})}})},$$={useVisualState:T5({scrapeMotionValuesFromProps:Q1,createRenderState:q1})};function F5(t,e,s){for(const r in e)!Zs(e[r])&&!D5(r,s)&&(t[r]=e[r])}function O$({transformTemplate:t},e){return E.useMemo(()=>{const s=q1();return G1(s,e,t),Object.assign({},s.vars,s.style)},[e])}function V$(t,e){const s=t.style||{},r={};return F5(r,s,t),Object.assign(r,O$(t,e)),r}function U$(t,e){const s={},r=V$(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=r,s}function z$(t,e,s,r){const i=E.useMemo(()=>{const a=I5();return W1(a,e,K1(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};F5(a,t.style,t),i.style={...a,...i.style}}return i}function H$(t=!1){return(s,r,i,{latestValues:a},l)=>{const u=(V1(s)?z$:U$)(r,a,l,s),h=i$(r,typeof s=="string",t),m=s!==E.Fragment?{...h,...u,ref:i}:{},{children:g}=r,v=E.useMemo(()=>Zs(g)?g.get():g,[g]);return E.createElement(s,{...m,children:v})}}function G$(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...V1(r)?B$:$$,preloadedFeatures:t,useRender:H$(i),createVisualElement:e,Component:r};return m$(l)}}function B5(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(e[r]!==t[r])return!1;return!0}function Ng(t,e,s){const r=t.getProps();return U1(r,e,s!==void 0?s:r.custom,t)}const W$=M1(()=>window.ScrollTimeline!==void 0);class q${constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,s){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=s}attachTimeline(e,s){const r=this.animations.map(i=>{if(W$()&&i.attachTimeline)return i.attachTimeline(e);if(typeof s=="function")return s(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let s=0;s<this.animations.length;s++)e=Math.max(e,this.animations[s].duration);return e}runAll(e){this.animations.forEach(s=>s[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class $5 extends q${then(e,s){return Promise.all(this.animations).then(e).catch(s)}}function X1(t,e){return t?t[e]||t.default||t:void 0}const Tf=2e4;function Y1(t){let e=0;const s=50;let r=t.next(e);for(;!r.done&&e<Tf;)e+=s,r=t.next(e);return e>=Tf?1/0:e}function K$(t,e=100,s){const r=s({...t,keyframes:[0,e]}),i=Math.min(Y1(r),Tf);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:Ri(i)}}function kg(t){return typeof t=="function"}function Ej(t,e){t.timeline=e,t.onfinish=null}const J1=t=>Array.isArray(t)&&typeof t[0]=="number",Q$={linearEasing:void 0};function X$(t,e){const s=M1(t);return()=>{var r;return(r=Q$[e])!==null&&r!==void 0?r:s()}}const Cf=X$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),O5=(t,e,s=10)=>{let r="";const i=Math.max(Math.round(e/s),2);for(let a=0;a<i;a++)r+=t(Cl(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function V5(t){return!!(typeof t=="function"&&Cf()||!t||typeof t=="string"&&(t in Zy||Cf())||J1(t)||Array.isArray(t)&&t.every(V5))}const Tu=([t,e,s,r])=>`cubic-bezier(${t}, ${e}, ${s}, ${r})`,Zy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tu([0,.65,.55,1]),circOut:Tu([.55,0,1,.45]),backIn:Tu([.31,.01,.66,-.59]),backOut:Tu([.33,1.53,.69,.99])};function U5(t,e){if(t)return typeof t=="function"&&Cf()?O5(t,e):J1(t)?Tu(t):Array.isArray(t)?t.map(s=>U5(s,e)||Zy.easeOut):Zy[t]}const ai={x:!1,y:!1};function z5(){return ai.x||ai.y}function H5(t,e,s){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=s==null?void 0:s[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function G5(t,e){const s=H5(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[s,i,()=>r.abort()]}function Aj(t){return e=>{e.pointerType==="touch"||z5()||t(e)}}function Y$(t,e,s={}){const[r,i,a]=G5(t,s),l=Aj(d=>{const{target:u}=d,h=e(d);if(typeof h!="function"||!u)return;const m=Aj(g=>{h(g),u.removeEventListener("pointerleave",m)});u.addEventListener("pointerleave",m,i)});return r.forEach(d=>{d.addEventListener("pointerenter",l,i)}),a}const W5=(t,e)=>e?t===e?!0:W5(t,e.parentElement):!1,Z1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,J$=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Z$(t){return J$.has(t.tagName)||t.tabIndex!==-1}const Cu=new WeakSet;function Ij(t){return e=>{e.key==="Enter"&&t(e)}}function Cv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eO=(t,e)=>{const s=t.currentTarget;if(!s)return;const r=Ij(()=>{if(Cu.has(s))return;Cv(s,"down");const i=Ij(()=>{Cv(s,"up")}),a=()=>Cv(s,"cancel");s.addEventListener("keyup",i,e),s.addEventListener("blur",a,e)});s.addEventListener("keydown",r,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),e)};function Rj(t){return Z1(t)&&!z5()}function tO(t,e,s={}){const[r,i,a]=G5(t,s),l=d=>{const u=d.currentTarget;if(!Rj(d)||Cu.has(u))return;Cu.add(u);const h=e(d),m=(b,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!Rj(b)||!Cu.has(u))&&(Cu.delete(u),typeof h=="function"&&h(b,{success:S}))},g=b=>{m(b,s.useGlobalTarget||W5(u,b.target))},v=b=>{m(b,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return r.forEach(d=>{!Z$(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(s.useGlobalTarget?window:d).addEventListener("pointerdown",l,i),d.addEventListener("focus",h=>eO(h,i),i)}),a}function sO(t){return t==="x"||t==="y"?ai[t]?null:(ai[t]=!0,()=>{ai[t]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}const q5=new Set(["width","height","top","left","right","bottom",...bd]);let Jm;function nO(){Jm=void 0}const Li={now:()=>(Jm===void 0&&Li.set(ln.isProcessing||ZB.useManualTiming?ln.timestamp:performance.now()),Jm),set:t=>{Jm=t,queueMicrotask(nO)}};function eb(t,e){t.indexOf(e)===-1&&t.push(e)}function Tg(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}class tb{constructor(){this.subscriptions=[]}add(e){return eb(this.subscriptions,e),()=>Tg(this.subscriptions,e)}notify(e,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,s,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function K5(t,e){return e?t*(1e3/e):0}const Pj=30,rO=t=>!isNaN(parseFloat(t)),Ou={current:void 0};class iO{constructor(e,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Li.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Li.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=rO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new tb);const r=this.events[e].add(s);return e==="change"?()=>{r(),ss.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Ou.current&&Ou.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Pj)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Pj);return K5(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function id(t,e){return new iO(t,e)}function aO(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,id(s))}function oO(t,e){const s=Ng(t,e);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const l in a){const d=b$(a[l]);aO(t,l,d)}}function lO(t){return!!(Zs(t)&&t.add)}function e0(t,e){const s=t.getValue("willChange");if(lO(s))return s.add(e)}function Q5(t){return t.props[S5]}const X5=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,cO=1e-7,dO=12;function uO(t,e,s,r,i){let a,l,d=0;do l=e+(s-e)/2,a=X5(l,r,i)-t,a>0?s=l:e=l;while(Math.abs(a)>cO&&++d<dO);return l}function Fh(t,e,s,r){if(t===e&&s===r)return vr;const i=a=>uO(a,0,1,t,s);return a=>a===0||a===1?a:X5(i(a),e,r)}const Y5=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,J5=t=>e=>1-t(1-e),Z5=Fh(.33,1.53,.69,.99),sb=J5(Z5),e3=Y5(sb),t3=t=>(t*=2)<1?.5*sb(t):.5*(2-Math.pow(2,-10*(t-1))),nb=t=>1-Math.sin(Math.acos(t)),s3=J5(nb),n3=Y5(nb),r3=t=>/^0[^.\s]+$/u.test(t);function hO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||r3(t):!0}const Vu=t=>Math.round(t*1e5)/1e5,rb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pO(t){return t==null}const mO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ib=(t,e)=>s=>!!(typeof s=="string"&&mO.test(s)&&s.startsWith(t)||e&&!pO(s)&&Object.prototype.hasOwnProperty.call(s,e)),i3=(t,e,s)=>r=>{if(typeof r!="string")return r;const[i,a,l,d]=r.match(rb);return{[t]:parseFloat(i),[e]:parseFloat(a),[s]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},fO=t=>Sa(0,255,t),Ev={..._d,transform:t=>Math.round(fO(t))},ml={test:ib("rgb","red"),parse:i3("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:r=1})=>"rgba("+Ev.transform(t)+", "+Ev.transform(e)+", "+Ev.transform(s)+", "+Vu(hh.transform(r))+")"};function gO(t){let e="",s="",r="",i="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,s+=s,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const t0={test:ib("#"),parse:gO,transform:ml.transform},Mc={test:ib("hsl","hue"),parse:i3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pi.transform(Vu(e))+", "+Pi.transform(Vu(s))+", "+Vu(hh.transform(r))+")"},Sn={test:t=>ml.test(t)||t0.test(t)||Mc.test(t),parse:t=>ml.test(t)?ml.parse(t):Mc.test(t)?Mc.parse(t):t0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ml.transform(t):Mc.transform(t)},xO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vO(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(rb))===null||e===void 0?void 0:e.length)||0)+(((s=t.match(xO))===null||s===void 0?void 0:s.length)||0)>0}const a3="number",o3="color",yO="var",bO="var(",Lj="${}",_O=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ph(t){const e=t.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(_O,u=>(Sn.test(u)?(r.color.push(a),i.push(o3),s.push(Sn.parse(u))):u.startsWith(bO)?(r.var.push(a),i.push(yO),s.push(u)):(r.number.push(a),i.push(a3),s.push(parseFloat(u))),++a,Lj)).split(Lj);return{values:s,split:d,indexes:r,types:i}}function l3(t){return ph(t).values}function c3(t){const{split:e,types:s}=ph(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const d=s[l];d===a3?a+=Vu(i[l]):d===o3?a+=Sn.transform(i[l]):a+=i[l]}return a}}const wO=t=>typeof t=="number"?0:t;function jO(t){const e=l3(t);return c3(t)(e.map(wO))}const _o={test:vO,parse:l3,createTransformer:c3,getAnimatableNone:jO},SO=new Set(["brightness","contrast","saturate","opacity"]);function NO(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=s.match(rb)||[];if(!r)return t;const i=s.replace(r,"");let a=SO.has(e)?1:0;return r!==s&&(a*=100),e+"("+a+i+")"}const kO=/\b([a-z-]*)\(.*?\)/gu,s0={..._o,getAnimatableNone:t=>{const e=t.match(kO);return e?e.map(NO).join(" "):t}},TO={...H1,color:Sn,backgroundColor:Sn,outlineColor:Sn,fill:Sn,stroke:Sn,borderColor:Sn,borderTopColor:Sn,borderRightColor:Sn,borderBottomColor:Sn,borderLeftColor:Sn,filter:s0,WebkitFilter:s0},ab=t=>TO[t];function d3(t,e){let s=ab(t);return s!==s0&&(s=_o),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const CO=new Set(["auto","none","0"]);function EO(t,e,s){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!CO.has(a)&&ph(a).values.length&&(i=t[r]),r++}if(i&&s)for(const a of e)t[a]=d3(s,i)}const Dj=t=>t===_d||t===st,Mj=(t,e)=>parseFloat(t.split(", ")[e]),Fj=(t,e)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Mj(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Mj(a[1],t):0}},AO=new Set(["x","y","z"]),IO=bd.filter(t=>!AO.has(t));function RO(t){const e=[];return IO.forEach(s=>{const r=t.getValue(s);r!==void 0&&(e.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),e}const ad={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Fj(4,13),y:Fj(5,14)};ad.translateX=ad.x;ad.translateY=ad.y;const vl=new Set;let n0=!1,r0=!1;function u3(){if(r0){const t=Array.from(vl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),s=new Map;e.forEach(r=>{const i=RO(r);i.length&&(s.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,l])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}r0=!1,n0=!1,vl.forEach(t=>t.complete()),vl.clear()}function h3(){vl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(r0=!0)})}function PO(){h3(),u3()}class ob{constructor(e,s,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(vl.add(this),n0||(n0=!0,ss.read(h3),ss.resolveKeyframes(u3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),d=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&s){const u=r.readValue(s,d);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=d),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),vl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,vl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const p3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),LO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DO(t){const e=LO.exec(t);if(!e)return[,];const[,s,r,i]=e;return[`--${s!=null?s:r}`,i]}function m3(t,e,s=1){const[r,i]=DO(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return p3(l)?parseFloat(l):l}return z1(i)?m3(i,e,s+1):i}const f3=t=>e=>e.test(t),MO={test:t=>t==="auto",parse:t=>t},g3=[_d,st,Pi,so,k$,N$,MO],Bj=t=>g3.find(f3(t));class x3 extends ob{constructor(e,s,r,i,a){super(e,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),z1(h))){const m=m3(h,s.current);m!==void 0&&(e[u]=m),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!q5.has(r)||e.length!==2)return;const[i,a]=e,l=Bj(i),d=Bj(a);if(l!==d)if(Dj(l)&&Dj(d))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,r=[];for(let i=0;i<e.length;i++)hO(e[i])&&r.push(i);r.length&&EO(e,r,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ad[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:s,name:r,unresolvedKeyframes:i}=this;if(!s||!s.current)return;const a=s.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,d=i[l];i[l]=ad[r](s.measureViewportBox(),window.getComputedStyle(s.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,h])=>{s.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const $j=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_o.test(t)||t==="0")&&!t.startsWith("url("));function FO(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function BO(t,e,s,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=$j(i,e),d=$j(a,e);return!l||!d?!1:FO(t)||(s==="spring"||kg(s))&&r}const $O=t=>t!==null;function Cg(t,{repeat:e,repeatType:s="loop"},r){const i=t.filter($O),a=e&&s!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const OO=40;class v3{constructor({autoplay:e=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Li.now(),this.options={autoplay:e,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:l,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>OO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&PO(),this._resolved}onKeyframesResolved(e,s){this.resolvedAt=Li.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:d,onUpdate:u,isGenerator:h}=this.options;if(!h&&!BO(e,r,i,a))if(l)this.options.duration=0;else{u&&u(Cg(e,this.options,s)),d&&d(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,s);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:s,...m},this.onPostResolved())}onPostResolved(){}then(e,s){return this.currentFinishedPromise.then(e,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ds=(t,e,s)=>t+(e-t)*s;function Av(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function VO({hue:t,saturation:e,lightness:s,alpha:r}){t/=360,e/=100,s/=100;let i=0,a=0,l=0;if(!e)i=a=l=s;else{const d=s<.5?s*(1+e):s+e-s*e,u=2*s-d;i=Av(u,d,t+1/3),a=Av(u,d,t),l=Av(u,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Ef(t,e){return s=>s>0?e:t}const Iv=(t,e,s)=>{const r=t*t,i=s*(e*e-r)+r;return i<0?0:Math.sqrt(i)},UO=[t0,ml,Mc],zO=t=>UO.find(e=>e.test(t));function Oj(t){const e=zO(t);if(!e)return!1;let s=e.parse(t);return e===Mc&&(s=VO(s)),s}const Vj=(t,e)=>{const s=Oj(t),r=Oj(e);if(!s||!r)return Ef(t,e);const i={...s};return a=>(i.red=Iv(s.red,r.red,a),i.green=Iv(s.green,r.green,a),i.blue=Iv(s.blue,r.blue,a),i.alpha=ds(s.alpha,r.alpha,a),ml.transform(i))},HO=(t,e)=>s=>e(t(s)),Bh=(...t)=>t.reduce(HO),i0=new Set(["none","hidden"]);function GO(t,e){return i0.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function WO(t,e){return s=>ds(t,e,s)}function lb(t){return typeof t=="number"?WO:typeof t=="string"?z1(t)?Ef:Sn.test(t)?Vj:QO:Array.isArray(t)?y3:typeof t=="object"?Sn.test(t)?Vj:qO:Ef}function y3(t,e){const s=[...t],r=s.length,i=t.map((a,l)=>lb(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)s[l]=i[l](a);return s}}function qO(t,e){const s={...t,...e},r={};for(const i in s)t[i]!==void 0&&e[i]!==void 0&&(r[i]=lb(t[i])(t[i],e[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function KO(t,e){var s;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],d=t.indexes[l][i[l]],u=(s=t.values[d])!==null&&s!==void 0?s:0;r[a]=u,i[l]++}return r}const QO=(t,e)=>{const s=_o.createTransformer(e),r=ph(t),i=ph(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?i0.has(t)&&!i.values.length||i0.has(e)&&!r.values.length?GO(t,e):Bh(y3(KO(r,i),i.values),s):Ef(t,e)};function b3(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?ds(t,e,s):lb(t)(t,e)}const XO=5;function _3(t,e,s){const r=Math.max(e-XO,0);return K5(s-t(r),e-r)}const ws={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rv=.001;function YO({duration:t=ws.duration,bounce:e=ws.bounce,velocity:s=ws.velocity,mass:r=ws.mass}){let i,a,l=1-e;l=Sa(ws.minDamping,ws.maxDamping,l),t=Sa(ws.minDuration,ws.maxDuration,Ri(t)),l<1?(i=h=>{const m=h*l,g=m*t,v=m-s,b=a0(h,l),S=Math.exp(-g);return Rv-v/b*S},a=h=>{const g=h*l*t,v=g*s+s,b=Math.pow(l,2)*Math.pow(h,2)*t,S=Math.exp(-g),C=a0(Math.pow(h,2),l);return(-i(h)+Rv>0?-1:1)*((v-b)*S)/C}):(i=h=>{const m=Math.exp(-h*t),g=(h-s)*t+1;return-Rv+m*g},a=h=>{const m=Math.exp(-h*t),g=(s-h)*(t*t);return m*g});const d=5/t,u=ZO(i,a,d);if(t=Ii(t),isNaN(u))return{stiffness:ws.stiffness,damping:ws.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const JO=12;function ZO(t,e,s){let r=s;for(let i=1;i<JO;i++)r=r-t(r)/e(r);return r}function a0(t,e){return t*Math.sqrt(1-e*e)}const eV=["duration","bounce"],tV=["stiffness","damping","mass"];function Uj(t,e){return e.some(s=>t[s]!==void 0)}function sV(t){let e={velocity:ws.velocity,stiffness:ws.stiffness,damping:ws.damping,mass:ws.mass,isResolvedFromDuration:!1,...t};if(!Uj(t,tV)&&Uj(t,eV))if(t.visualDuration){const s=t.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*Sa(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:ws.mass,stiffness:i,damping:a}}else{const s=YO(t);e={...e,...s,mass:ws.mass},e.isResolvedFromDuration=!0}return e}function cb(t=ws.visualDuration,e=ws.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],d={done:!1,value:a},{stiffness:u,damping:h,mass:m,duration:g,velocity:v,isResolvedFromDuration:b}=sV({...s,velocity:-Ri(s.velocity||0)}),S=v||0,C=h/(2*Math.sqrt(u*m)),R=l-a,F=Ri(Math.sqrt(u/m)),D=Math.abs(R)<5;r||(r=D?ws.restSpeed.granular:ws.restSpeed.default),i||(i=D?ws.restDelta.granular:ws.restDelta.default);let A;if(C<1){const w=a0(F,C);A=L=>{const N=Math.exp(-C*F*L);return l-N*((S+C*F*R)/w*Math.sin(w*L)+R*Math.cos(w*L))}}else if(C===1)A=w=>l-Math.exp(-F*w)*(R+(S+F*R)*w);else{const w=F*Math.sqrt(C*C-1);A=L=>{const N=Math.exp(-C*F*L),j=Math.min(w*L,300);return l-N*((S+C*F*R)*Math.sinh(j)+w*R*Math.cosh(j))/w}}const y={calculatedDuration:b&&g||null,next:w=>{const L=A(w);if(b)d.done=w>=g;else{let N=0;C<1&&(N=w===0?Ii(S):_3(A,w,L));const j=Math.abs(N)<=r,I=Math.abs(l-L)<=i;d.done=j&&I}return d.value=d.done?l:L,d},toString:()=>{const w=Math.min(Y1(y),Tf),L=O5(N=>y.next(w*N).value,w,30);return w+"ms "+L}};return y}function zj({keyframes:t,velocity:e=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:u,restDelta:h=.5,restSpeed:m}){const g=t[0],v={done:!1,value:g},b=j=>d!==void 0&&j<d||u!==void 0&&j>u,S=j=>d===void 0?u:u===void 0||Math.abs(d-j)<Math.abs(u-j)?d:u;let C=s*e;const R=g+C,F=l===void 0?R:l(R);F!==R&&(C=F-g);const D=j=>-C*Math.exp(-j/r),A=j=>F+D(j),y=j=>{const I=D(j),M=A(j);v.done=Math.abs(I)<=h,v.value=v.done?F:M};let w,L;const N=j=>{b(v.value)&&(w=j,L=cb({keyframes:[v.value,S(v.value)],velocity:_3(A,j,v.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return N(0),{calculatedDuration:null,next:j=>{let I=!1;return!L&&w===void 0&&(I=!0,y(j),N(j)),w!==void 0&&j>=w?L.next(j-w):(!I&&y(j),v)}}}const nV=Fh(.42,0,1,1),rV=Fh(0,0,.58,1),w3=Fh(.42,0,.58,1),j3=t=>Array.isArray(t)&&typeof t[0]!="number",iV={linear:vr,easeIn:nV,easeInOut:w3,easeOut:rV,circIn:nb,circInOut:n3,circOut:s3,backIn:sb,backInOut:e3,backOut:Z5,anticipate:t3},Hj=t=>{if(J1(t)){y5(t.length===4);const[e,s,r,i]=t;return Fh(e,s,r,i)}else if(typeof t=="string")return iV[t];return t};function aV(t,e,s){const r=[],i=s||b3,a=t.length-1;for(let l=0;l<a;l++){let d=i(t[l],t[l+1]);if(e){const u=Array.isArray(e)?e[l]||vr:e;d=Bh(u,d)}r.push(d)}return r}function S3(t,e,{clamp:s=!0,ease:r,mixer:i}={}){const a=t.length;if(y5(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=aV(e,r,i),u=d.length,h=m=>{if(l&&m<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=Cl(t[g],t[g+1],m);return d[g](v)};return s?m=>h(Sa(t[0],t[a-1],m)):h}function N3(t,e){const s=t[t.length-1];for(let r=1;r<=e;r++){const i=Cl(0,e,r);t.push(ds(s,1,i))}}function k3(t){const e=[0];return N3(e,t.length-1),e}function oV(t,e){return t.map(s=>s*e)}function lV(t,e){return t.map(()=>e||w3).splice(0,t.length-1)}function Af({duration:t=300,keyframes:e,times:s,ease:r="easeInOut"}){const i=j3(r)?r.map(Hj):Hj(r),a={done:!1,value:e[0]},l=oV(s&&s.length===e.length?s:k3(e),t),d=S3(l,e,{ease:Array.isArray(i)?i:lV(e,i)});return{calculatedDuration:t,next:u=>(a.value=d(u),a.done=u>=t,a)}}const cV=t=>{const e=({timestamp:s})=>t(s);return{start:()=>ss.update(e,!0),stop:()=>ja(e),now:()=>ln.isProcessing?ln.timestamp:Li.now()}},dV={decay:zj,inertia:zj,tween:Af,keyframes:Af,spring:cb},uV=t=>t/100;class db extends v3{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:s,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||ob,d=(u,h)=>this.onKeyframesResolved(u,h);this.resolver=new l(a,d,s,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,d=kg(s)?s:dV[s]||Af;let u,h;d!==Af&&typeof e[0]!="number"&&(u=Bh(uV,b3(e[0],e[1])),e=[0,100]);const m=d({...this.options,keyframes:e});a==="mirror"&&(h=d({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=Y1(m));const{calculatedDuration:g}=m,v=g+i,b=v*(r+1)-i;return{generator:m,mirroredGenerator:h,mapPercentToKeyframes:u,calculatedDuration:g,resolvedDuration:v,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,s=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:d,keyframes:u,calculatedDuration:h,totalDuration:m,resolvedDuration:g}=r;if(this.startTime===null)return a.next(0);const{delay:v,repeat:b,repeatType:S,repeatDelay:C,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),s?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-v*(this.speed>=0?1:-1),D=this.speed>=0?F<0:F>m;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let A=this.currentTime,y=a;if(b){const j=Math.min(this.currentTime,m)/g;let I=Math.floor(j),M=j%1;!M&&j>=1&&(M=1),M===1&&I--,I=Math.min(I,b+1),!!(I%2)&&(S==="reverse"?(M=1-M,C&&(M-=C/g)):S==="mirror"&&(y=l)),A=Sa(0,1,M)*g}const w=D?{done:!1,value:u[0]}:y.next(A);d&&(w.value=d(w.value));let{done:L}=w;!D&&h!==null&&(L=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return N&&i!==void 0&&(w.value=Cg(u,this.options,i)),R&&R(w.value),N&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Ri(e.calculatedDuration):0}get time(){return Ri(this.currentTime)}set time(e){e=Ii(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=Ri(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=cV,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),s&&s();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const hV=new Set(["opacity","clipPath","filter","transform"]);function pV(t,e,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:d="easeInOut",times:u}={}){const h={[e]:s};u&&(h.offset=u);const m=U5(d,i);return Array.isArray(m)&&(h.easing=m),t.animate(h,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const mV=M1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),If=10,fV=2e4;function gV(t){return kg(t.type)||t.type==="spring"||!V5(t.ease)}function xV(t,e){const s=new db({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<fV;)r=s.sample(a),i.push(r.value),a+=If;return{times:void 0,keyframes:i,duration:a-If,ease:"linear"}}const T3={anticipate:t3,backInOut:e3,circInOut:n3};function vV(t){return t in T3}class Gj extends v3{constructor(e){super(e);const{name:s,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new x3(a,(l,d)=>this.onKeyframesResolved(l,d),s,r,i),this.resolver.scheduleResolve()}initPlayback(e,s){let{duration:r=300,times:i,ease:a,type:l,motionValue:d,name:u,startTime:h}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&Cf()&&vV(a)&&(a=T3[a]),gV(this.options)){const{onComplete:g,onUpdate:v,motionValue:b,element:S,...C}=this.options,R=xV(e,C);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,i=R.times,a=R.ease,l="keyframes"}const m=pV(d.owner.current,u,e,{...this.options,duration:r,times:i,ease:a});return m.startTime=h!=null?h:this.calcStartTime(),this.pendingTimeline?(Ej(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:g}=this.options;d.set(Cg(e,this.options,s)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:s}=e;return Ri(s)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:s}=e;return Ri(s.currentTime||0)}set time(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=Ii(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:s}=e;return s.playbackRate}set speed(e){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:s}=e;return s.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:s}=e;return s.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:s}=this;if(!s)return vr;const{animation:r}=s;Ej(r,e)}return vr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:s}=e;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:s,keyframes:r,duration:i,type:a,ease:l,times:d}=e;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:m,onComplete:g,element:v,...b}=this.options,S=new db({...b,keyframes:r,duration:i,type:a,ease:l,times:d,isGenerator:!0}),C=Ii(this.time);h.setWithVelocity(S.sample(C-If).value,S.sample(C).value,If)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:s,name:r,repeatDelay:i,repeatType:a,damping:l,type:d}=e;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=s.owner.getProps();return mV()&&r&&hV.has(r)&&!u&&!h&&!i&&a!=="mirror"&&l!==0&&d!=="inertia"}}const yV={type:"spring",stiffness:500,damping:25,restSpeed:10},bV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_V={type:"keyframes",duration:.8},wV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jV=(t,{keyframes:e})=>e.length>2?_V:Dl.has(t)?t.startsWith("scale")?bV(e[1]):yV:wV;function SV({when:t,delay:e,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:d,from:u,elapsed:h,...m}){return!!Object.keys(m).length}const ub=(t,e,s,r={},i,a)=>l=>{const d=X1(r,t)||{},u=d.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ii(u);let m={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:i};SV(d)||(m={...m,...jV(t,m)}),m.duration&&(m.duration=Ii(m.duration)),m.repeatDelay&&(m.repeatDelay=Ii(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(g=!0)),g&&!a&&e.get()!==void 0){const v=Cg(m.keyframes,d);if(v!==void 0)return ss.update(()=>{m.onUpdate(v),m.onComplete()}),new $5([])}return!a&&Gj.supports(m)?new Gj(m):new db(m)};function NV({protectedKeys:t,needsAnimating:e},s){const r=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,r}function hb(t,e,{delay:s=0,transitionOverride:r,type:i}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:d,...u}=e;r&&(l=r);const h=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const g in u){const v=t.getValue(g,(a=t.latestValues[g])!==null&&a!==void 0?a:null),b=u[g];if(b===void 0||m&&NV(m,g))continue;const S={delay:s,...X1(l||{},g)};let C=!1;if(window.MotionHandoffAnimation){const F=Q5(t);if(F){const D=window.MotionHandoffAnimation(F,g,ss);D!==null&&(S.startTime=D,C=!0)}}e0(t,g),v.start(ub(g,v,b,t.shouldReduceMotion&&q5.has(g)?{type:!1}:S,t,C));const R=v.animation;R&&h.push(R)}return d&&Promise.all(h).then(()=>{ss.update(()=>{d&&oO(t,d)})}),h}function o0(t,e,s={}){var r;const i=Ng(t,e,s.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const l=i?()=>Promise.all(hb(t,i,s)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=a;return kV(t,e,m+h,g,v,s)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,m]=u==="beforeChildren"?[l,d]:[d,l];return h().then(()=>m())}else return Promise.all([l(),d(s.delay)])}function kV(t,e,s=0,r=0,i=1,a){const l=[],d=(t.variantChildren.size-1)*r,u=i===1?(h=0)=>h*r:(h=0)=>d-h*r;return Array.from(t.variantChildren).sort(TV).forEach((h,m)=>{h.notify("AnimationStart",e),l.push(o0(h,e,{...a,delay:s+u(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function TV(t,e){return t.sortNodePosition(e)}function CV(t,e,s={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>o0(t,a,s));r=Promise.all(i)}else if(typeof e=="string")r=o0(t,e,s);else{const i=typeof e=="function"?Ng(t,e,s.custom):e;r=Promise.all(hb(t,i,s))}return r.then(()=>{t.notify("AnimationComplete",e)})}const EV=B1.length;function C3(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?C3(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<EV;s++){const r=B1[s],i=t.props[r];(uh(i)||i===!1)&&(e[r]=i)}return e}const AV=[...F1].reverse(),IV=F1.length;function RV(t){return e=>Promise.all(e.map(({animation:s,options:r})=>CV(t,s,r)))}function PV(t){let e=RV(t),s=Wj(),r=!0;const i=u=>(h,m)=>{var g;const v=Ng(t,m,u==="exit"?(g=t.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(v){const{transition:b,transitionEnd:S,...C}=v;h={...h,...C,...S}}return h};function a(u){e=u(t)}function l(u){const{props:h}=t,m=C3(t.parent)||{},g=[],v=new Set;let b={},S=1/0;for(let R=0;R<IV;R++){const F=AV[R],D=s[F],A=h[F]!==void 0?h[F]:m[F],y=uh(A),w=F===u?D.isActive:null;w===!1&&(S=R);let L=A===m[F]&&A!==h[F]&&y;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),D.protectedKeys={...b},!D.isActive&&w===null||!A&&!D.prevProp||jg(A)||typeof A=="boolean")continue;const N=LV(D.prevProp,A);let j=N||F===u&&D.isActive&&!L&&y||R>S&&y,I=!1;const M=Array.isArray(A)?A:[A];let P=M.reduce(i(F),{});w===!1&&(P={});const{prevResolvedValues:O={}}=D,$={...O,...P},W=K=>{j=!0,v.has(K)&&(I=!0,v.delete(K)),D.needsAnimating[K]=!0;const G=t.getValue(K);G&&(G.liveStyle=!1)};for(const K in $){const G=P[K],te=O[K];if(b.hasOwnProperty(K))continue;let ne=!1;Jy(G)&&Jy(te)?ne=!B5(G,te):ne=G!==te,ne?G!=null?W(K):v.add(K):G!==void 0&&v.has(K)?W(K):D.protectedKeys[K]=!0}D.prevProp=A,D.prevResolvedValues=P,D.isActive&&(b={...b,...P}),r&&t.blockInitialAnimation&&(j=!1),j&&(!(L&&N)||I)&&g.push(...M.map(K=>({animation:K,options:{type:F}})))}if(v.size){const R={};v.forEach(F=>{const D=t.getBaseTarget(F),A=t.getValue(F);A&&(A.liveStyle=!0),R[F]=D!=null?D:null}),g.push({animation:R})}let C=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(g):Promise.resolve()}function d(u,h){var m;if(s[u].isActive===h)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(v=>{var b;return(b=v.animationState)===null||b===void 0?void 0:b.setActive(u,h)}),s[u].isActive=h;const g=l(u);for(const v in s)s[v].protectedKeys={};return g}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>s,reset:()=>{s=Wj(),r=!0}}}function LV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!B5(e,t):!1}function Yo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wj(){return{animate:Yo(!0),whileInView:Yo(),whileHover:Yo(),whileTap:Yo(),whileDrag:Yo(),whileFocus:Yo(),exit:Yo()}}class No{constructor(e){this.isMounted=!1,this.node=e}update(){}}class DV extends No{constructor(e){super(e),e.animationState||(e.animationState=PV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let MV=0;class FV extends No{constructor(){super(...arguments),this.id=MV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);s&&!e&&i.then(()=>s(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const BV={animation:{Feature:DV},exit:{Feature:FV}};function mh(t,e,s,r={passive:!0}){return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s)}function $h(t){return{point:{x:t.pageX,y:t.pageY}}}const $V=t=>e=>Z1(e)&&t(e,$h(e));function Uu(t,e,s,r){return mh(t,e,$V(s),r)}const qj=(t,e)=>Math.abs(t-e);function OV(t,e){const s=qj(t.x,e.x),r=qj(t.y,e.y);return Math.sqrt(s**2+r**2)}class E3{constructor(e,s,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Lv(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,b=OV(g.offset,{x:0,y:0})>=3;if(!v&&!b)return;const{point:S}=g,{timestamp:C}=ln;this.history.push({...S,timestamp:C});const{onStart:R,onMove:F}=this.handlers;v||(R&&R(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Pv(v,this.transformPagePoint),ss.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Lv(g.type==="pointercancel"?this.lastMoveEventInfo:Pv(v,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,R),S&&S(g,R)},!Z1(e))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.contextWindow=i||window;const l=$h(e),d=Pv(l,this.transformPagePoint),{point:u}=d,{timestamp:h}=ln;this.history=[{...u,timestamp:h}];const{onSessionStart:m}=s;m&&m(e,Lv(d,this.history)),this.removeListeners=Bh(Uu(this.contextWindow,"pointermove",this.handlePointerMove),Uu(this.contextWindow,"pointerup",this.handlePointerUp),Uu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ja(this.updatePoint)}}function Pv(t,e){return e?{point:e(t.point)}:t}function Kj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Lv({point:t},e){return{point:t,delta:Kj(t,A3(e)),offset:Kj(t,VV(e)),velocity:UV(e,.1)}}function VV(t){return t[0]}function A3(t){return t[t.length-1]}function UV(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,r=null;const i=A3(t);for(;s>=0&&(r=t[s],!(i.timestamp-r.timestamp>Ii(e)));)s--;if(!r)return{x:0,y:0};const a=Ri(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const I3=1e-4,zV=1-I3,HV=1+I3,R3=.01,GV=0-R3,WV=0+R3;function br(t){return t.max-t.min}function qV(t,e,s){return Math.abs(t-e)<=s}function Qj(t,e,s,r=.5){t.origin=r,t.originPoint=ds(e.min,e.max,t.origin),t.scale=br(s)/br(e),t.translate=ds(s.min,s.max,t.origin)-t.originPoint,(t.scale>=zV&&t.scale<=HV||isNaN(t.scale))&&(t.scale=1),(t.translate>=GV&&t.translate<=WV||isNaN(t.translate))&&(t.translate=0)}function zu(t,e,s,r){Qj(t.x,e.x,s.x,r?r.originX:void 0),Qj(t.y,e.y,s.y,r?r.originY:void 0)}function Xj(t,e,s){t.min=s.min+e.min,t.max=t.min+br(e)}function KV(t,e,s){Xj(t.x,e.x,s.x),Xj(t.y,e.y,s.y)}function Yj(t,e,s){t.min=e.min-s.min,t.max=t.min+br(e)}function Hu(t,e,s){Yj(t.x,e.x,s.x),Yj(t.y,e.y,s.y)}function QV(t,{min:e,max:s},r){return e!==void 0&&t<e?t=r?ds(e,t,r.min):Math.max(t,e):s!==void 0&&t>s&&(t=r?ds(s,t,r.max):Math.min(t,s)),t}function Jj(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function XV(t,{top:e,left:s,bottom:r,right:i}){return{x:Jj(t.x,s,i),y:Jj(t.y,e,r)}}function Zj(t,e){let s=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,r]=[r,s]),{min:s,max:r}}function YV(t,e){return{x:Zj(t.x,e.x),y:Zj(t.y,e.y)}}function JV(t,e){let s=.5;const r=br(t),i=br(e);return i>r?s=Cl(e.min,e.max-r,t.min):r>i&&(s=Cl(t.min,t.max-i,e.min)),Sa(0,1,s)}function ZV(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const l0=.35;function eU(t=l0){return t===!1?t=0:t===!0&&(t=l0),{x:eS(t,"left","right"),y:eS(t,"top","bottom")}}function eS(t,e,s){return{min:tS(t,e),max:tS(t,s)}}function tS(t,e){return typeof t=="number"?t:t[e]||0}const sS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fc=()=>({x:sS(),y:sS()}),nS=()=>({min:0,max:0}),_s=()=>({x:nS(),y:nS()});function Lr(t){return[t("x"),t("y")]}function P3({top:t,left:e,right:s,bottom:r}){return{x:{min:e,max:s},y:{min:t,max:r}}}function tU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sU(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Dv(t){return t===void 0||t===1}function c0({scale:t,scaleX:e,scaleY:s}){return!Dv(t)||!Dv(e)||!Dv(s)}function ll(t){return c0(t)||L3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function L3(t){return rS(t.x)||rS(t.y)}function rS(t){return t&&t!=="0%"}function Rf(t,e,s){const r=t-s,i=e*r;return s+i}function iS(t,e,s,r,i){return i!==void 0&&(t=Rf(t,i,r)),Rf(t,s,r)+e}function d0(t,e=0,s=1,r,i){t.min=iS(t.min,e,s,r,i),t.max=iS(t.max,e,s,r,i)}function D3(t,{x:e,y:s}){d0(t.x,e.translate,e.scale,e.originPoint),d0(t.y,s.translate,s.scale,s.originPoint)}const aS=.999999999999,oS=1.0000000000001;function nU(t,e,s,r=!1){const i=s.length;if(!i)return;e.x=e.y=1;let a,l;for(let d=0;d<i;d++){a=s[d],l=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&$c(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,D3(t,l)),r&&ll(a.latestValues)&&$c(t,a.latestValues))}e.x<oS&&e.x>aS&&(e.x=1),e.y<oS&&e.y>aS&&(e.y=1)}function Bc(t,e){t.min=t.min+e,t.max=t.max+e}function lS(t,e,s,r,i=.5){const a=ds(t.min,t.max,i);d0(t,e,s,a,r)}function $c(t,e){lS(t.x,e.x,e.scaleX,e.scale,e.originX),lS(t.y,e.y,e.scaleY,e.scale,e.originY)}function M3(t,e){return P3(sU(t.getBoundingClientRect(),e))}function rU(t,e,s){const r=M3(t,s),{scroll:i}=e;return i&&(Bc(r.x,i.offset.x),Bc(r.y,i.offset.y)),r}const F3=({current:t})=>t?t.ownerDocument.defaultView:null,iU=new WeakMap;class aU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_s(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor($h(m).point)},a=(m,g)=>{const{drag:v,dragPropagation:b,onDragStart:S}=this.getProps();if(v&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sO(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lr(R=>{let F=this.getAxisMotionValue(R).get()||0;if(Pi.test(F)){const{projection:D}=this.visualElement;if(D&&D.layout){const A=D.layout.layoutBox[R];A&&(F=br(A)*(parseFloat(F)/100))}}this.originPoint[R]=F}),S&&ss.postRender(()=>S(m,g)),e0(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},l=(m,g)=>{const{dragPropagation:v,dragDirectionLock:b,onDirectionLock:S,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:R}=g;if(b&&this.currentDirection===null){this.currentDirection=oU(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,R),this.updateAxis("y",g.point,R),this.visualElement.render(),C&&C(m,g)},d=(m,g)=>this.stop(m,g),u=()=>Lr(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new E3(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:F3(this.visualElement)})}stop(e,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=s;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&ss.postRender(()=>a(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,r){const{drag:i}=this.getProps();if(!r||!gm(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=QV(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:s,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;s&&Dc(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&i?this.constraints=XV(i.layoutBox,s):this.constraints=!1,this.elastic=eU(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Lr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=ZV(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Dc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=rU(r,i.root,this.visualElement.getTransformPagePoint());let l=YV(i.layout.layoutBox,a);if(s){const d=s(tU(l));this.hasMutatedConstraints=!!d,d&&(l=P3(d))}return l}startAnimation(e){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},h=Lr(m=>{if(!gm(m,s,this.currentDirection))return;let g=u&&u[m]||{};l&&(g={min:0,max:0});const v=i?200:1e6,b=i?40:1e7,S={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(h).then(d)}startAxisValueAnimation(e,s){const r=this.getAxisMotionValue(e);return e0(this.visualElement,e),r.start(ub(e,r,0,s,this.visualElement,!1))}stopAnimation(){Lr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Lr(e=>{var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Lr(s=>{const{drag:r}=this.getProps();if(!gm(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[s];a.set(e[s]-ds(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Dc(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Lr(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const u=d.get();i[l]=JV({min:u,max:u},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Lr(l=>{if(!gm(l,e,null))return;const d=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];d.set(ds(u,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;iU.set(this.visualElement,this);const e=this.visualElement.current,s=Uu(e,"pointerdown",u=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Dc(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ss.read(r);const l=mh(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Lr(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=u[m].translate,g.set(g.get()+u[m].translate))}),this.visualElement.render())}));return()=>{l(),s(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=l0,dragMomentum:d=!0}=e;return{...e,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function gm(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function oU(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class lU extends No{constructor(e){super(e),this.removeGroupControls=vr,this.removeListeners=vr,this.controls=new aU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const cS=t=>(e,s)=>{t&&ss.postRender(()=>t(e,s))};class cU extends No{constructor(){super(...arguments),this.removePointerDownListener=vr}onPointerDown(e){this.session=new E3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:F3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:cS(e),onStart:cS(s),onMove:r,onEnd:(a,l)=>{delete this.session,i&&ss.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Uu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(st.test(t))t=parseFloat(t);else return t;const s=dS(t,e.target.x),r=dS(t,e.target.y);return`${s}% ${r}%`}},dU={correct:(t,{treeScale:e,projectionDelta:s})=>{const r=t,i=_o.parse(t);if(i.length>5)return r;const a=_o.createTransformer(t),l=typeof i[0]!="number"?1:0,d=s.x.scale*e.x,u=s.y.scale*e.y;i[0+l]/=d,i[1+l]/=u;const h=ds(d,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),a(i)}};class uU extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;M$(hU),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Zm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==s||s===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ss.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),O1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function B3(t){const[e,s]=JB(),r=E.useContext(x5);return n.jsx(uU,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(N5),isPresent:e,safeToRemove:s})}const hU={borderRadius:{...pu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pu,borderTopRightRadius:pu,borderBottomLeftRadius:pu,borderBottomRightRadius:pu,boxShadow:dU};function $3(t,e,s){const r=Zs(t)?t:id(t);return r.start(ub("",r,e,s)),r.animation}function O3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const pU=(t,e)=>t.depth-e.depth;class mU{constructor(){this.children=[],this.isDirty=!1}add(e){eb(this.children,e),this.isDirty=!0}remove(e){Tg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pU),this.isDirty=!1,this.children.forEach(e)}}function fU(t,e){const s=Li.now(),r=({timestamp:i})=>{const a=i-s;a>=e&&(ja(r),t(a-e))};return ss.read(r,!0),()=>ja(r)}const V3=["TopLeft","TopRight","BottomLeft","BottomRight"],gU=V3.length,uS=t=>typeof t=="string"?parseFloat(t):t,hS=t=>typeof t=="number"||st.test(t);function xU(t,e,s,r,i,a){i?(t.opacity=ds(0,s.opacity!==void 0?s.opacity:1,vU(r)),t.opacityExit=ds(e.opacity!==void 0?e.opacity:1,0,yU(r))):a&&(t.opacity=ds(e.opacity!==void 0?e.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let l=0;l<gU;l++){const d=`border${V3[l]}Radius`;let u=pS(e,d),h=pS(s,d);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||hS(u)===hS(h)?(t[d]=Math.max(ds(uS(u),uS(h),r),0),(Pi.test(h)||Pi.test(u))&&(t[d]+="%")):t[d]=h}(e.rotate||s.rotate)&&(t.rotate=ds(e.rotate||0,s.rotate||0,r))}function pS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vU=U3(0,.5,s3),yU=U3(.5,.95,vr);function U3(t,e,s){return r=>r<t?0:r>e?1:s(Cl(t,e,r))}function mS(t,e){t.min=e.min,t.max=e.max}function Rr(t,e){mS(t.x,e.x),mS(t.y,e.y)}function fS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function gS(t,e,s,r,i){return t-=e,t=Rf(t,1/s,r),i!==void 0&&(t=Rf(t,1/i,r)),t}function bU(t,e=0,s=1,r=.5,i,a=t,l=t){if(Pi.test(e)&&(e=parseFloat(e),e=ds(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=ds(a.min,a.max,r);t===a&&(d-=e),t.min=gS(t.min,e,s,d,i),t.max=gS(t.max,e,s,d,i)}function xS(t,e,[s,r,i],a,l){bU(t,e[s],e[r],e[i],e.scale,a,l)}const _U=["x","scaleX","originX"],wU=["y","scaleY","originY"];function vS(t,e,s,r){xS(t.x,e,_U,s?s.x:void 0,r?r.x:void 0),xS(t.y,e,wU,s?s.y:void 0,r?r.y:void 0)}function yS(t){return t.translate===0&&t.scale===1}function z3(t){return yS(t.x)&&yS(t.y)}function bS(t,e){return t.min===e.min&&t.max===e.max}function jU(t,e){return bS(t.x,e.x)&&bS(t.y,e.y)}function _S(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function H3(t,e){return _S(t.x,e.x)&&_S(t.y,e.y)}function wS(t){return br(t.x)/br(t.y)}function jS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class SU{constructor(){this.members=[]}add(e){eb(this.members,e),e.scheduleRender()}remove(e){if(Tg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(i=>e===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,s){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,s&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:r}=e;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NU(t,e,s){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(s==null?void 0:s.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:v,skewX:b,skewY:S}=s;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),S&&(r+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,u=t.y.scale*e.y;return(d!==1||u!==1)&&(r+=`scale(${d}, ${u})`),r||"none"}const cl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Eu=typeof window!="undefined"&&window.MotionDebug!==void 0,Mv=["","X","Y","Z"],kU={visibility:"hidden"},SS=1e3;let TU=0;function Fv(t,e,s,r){const{latestValues:i}=e;i[t]&&(s[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function G3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=Q5(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",ss,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&G3(r)}function W3({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},d=e==null?void 0:e()){this.id=TU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Eu&&(cl.totalNodes=cl.resolvedTargetDeltas=cl.recalculatedProjection=0),this.nodes.forEach(AU),this.nodes.forEach(DU),this.nodes.forEach(MU),this.nodes.forEach(IU),Eu&&window.MotionDebug.record(cl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new mU)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new tb),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const u=this.eventHandlers.get(l);u&&u.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=O3(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(h||u)&&(this.isLayoutDirty=!0),t){let g;const v=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=fU(v,250),Zm.hasAnimatedSinceResize&&(Zm.hasAnimatedSinceResize=!1,this.nodes.forEach(kS))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||VU,{onLayoutAnimationStart:R,onLayoutAnimationComplete:F}=m.getProps(),D=!this.targetLayout||!H3(this.targetLayout,S)||b,A=!v&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||v&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,A);const y={...X1(C,"layout"),onPlay:R,onComplete:F};(m.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y)}else v||kS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ja(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FU),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&G3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(NS);return}this.isUpdating||this.nodes.forEach(PU),this.isUpdating=!1,this.nodes.forEach(LU),this.nodes.forEach(CU),this.nodes.forEach(EU),this.clearAllSnapshots();const d=Li.now();ln.delta=Sa(0,1e3/60,d-ln.timestamp),ln.timestamp=d,ln.isProcessing=!0,Tv.update.process(ln),Tv.preRender.process(ln),Tv.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,O1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RU),this.sharedNodes.forEach(BU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ss.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ss.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_s(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!z3(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&(d||ll(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return l&&(u=this.removeTransform(u)),UU(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:d}=this.options;if(!d)return _s();const u=d.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(zU))){const{scroll:m}=this.root;m&&(Bc(u.x,m.offset.x),Bc(u.y,m.offset.y))}return u}removeElementScroll(l){var d;const u=_s();if(Rr(u,l),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&Rr(u,l),Bc(u.x,g.offset.x),Bc(u.y,g.offset.y))}return u}applyTransform(l,d=!1){const u=_s();Rr(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&$c(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ll(m.latestValues)&&$c(u,m.latestValues)}return ll(this.latestValues)&&$c(u,this.latestValues),u}removeTransform(l){const d=_s();Rr(d,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!ll(h.latestValues))continue;c0(h.latestValues)&&h.updateSnapshot();const m=_s(),g=h.measurePageBox();Rr(m,g),vS(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return ll(this.latestValues)&&vS(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var d;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=ln.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_s(),this.relativeTargetOrigin=_s(),Hu(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_s(),this.targetWithTransforms=_s()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),D3(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_s(),this.relativeTargetOrigin=_s(),Hu(this.relativeTargetOrigin,this.target,b.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Eu&&cl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||c0(this.parent.latestValues)||L3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const d=this.getLead(),u=!!this.resumingFrom||this!==d;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Rr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;nU(this.layoutCorrected,this.treeScale,this.path,u),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=_s());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fS(this.prevProjectionDelta.x,this.projectionDelta.x),fS(this.prevProjectionDelta.y,this.projectionDelta.y)),zu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!jS(this.projectionDelta.x,this.prevProjectionDelta.x)||!jS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Eu&&cl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fc(),this.projectionDelta=Fc(),this.projectionDeltaWithTransform=Fc()}setAnimationOrigin(l,d=!1){const u=this.snapshot,h=u?u.latestValues:{},m={...this.latestValues},g=Fc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=_s(),b=u?u.source:void 0,S=this.layout?this.layout.source:void 0,C=b!==S,R=this.getStack(),F=!R||R.members.length<=1,D=!!(C&&!F&&this.options.crossfade===!0&&!this.path.some(OU));this.animationProgress=0;let A;this.mixTargetDelta=y=>{const w=y/1e3;TS(g.x,l.x,w),TS(g.y,l.y,w),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$U(this.relativeTarget,this.relativeTargetOrigin,v,w),A&&jU(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=_s()),Rr(A,this.relativeTarget)),C&&(this.animationValues=m,xU(m,h,this.latestValues,w,D,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ja(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ss.update(()=>{Zm.hasAnimatedSinceResize=!0,this.currentAnimation=$3(0,SS,{...l,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:u,layout:h,latestValues:m}=l;if(!(!d||!u||!h)){if(this!==l&&this.layout&&h&&q3(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||_s();const g=br(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+g;const v=br(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+v}Rr(d,u),$c(d,m),zu(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new SU),this.sharedNodes.get(l).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:d}=this.options;return d?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:d}=this.options;return d?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const h={};u.z&&Fv("z",l,h,this.animationValues);for(let m=0;m<Mv.length;m++)Fv(`rotate${Mv[m]}`,l,h,this.animationValues),Fv(`skew${Mv[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}getProjectionStyles(l){var d,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kU;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ym(l==null?void 0:l.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const C={};return this.options.layoutId&&(C.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,C.pointerEvents=Ym(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ll(this.latestValues)&&(C.transform=m?m({},""):"none",this.hasProjected=!1),C}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),h.transform=NU(this.projectionDeltaWithTransform,this.treeScale,v),m&&(h.transform=m(v,h.transform));const{x:b,y:S}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,g.animationValues?h.opacity=g===this?(u=(d=v.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:h.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const C in kf){if(v[C]===void 0)continue;const{correct:R,applyTo:F}=kf[C],D=h.transform==="none"?v[C]:R(v[C],g);if(F){const A=F.length;for(let y=0;y<A;y++)h[F[y]]=D}else h[C]=D}return this.options.layoutId&&(h.pointerEvents=g===this?Ym(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(NS),this.root.sharedNodes.clear()}}}function CU(t){t.updateLayout()}function EU(t){var e;const s=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=s.source!==t.layout.source;a==="size"?Lr(g=>{const v=l?s.measuredBox[g]:s.layoutBox[g],b=br(v);v.min=r[g].min,v.max=v.min+b}):q3(a,s.layoutBox,r)&&Lr(g=>{const v=l?s.measuredBox[g]:s.layoutBox[g],b=br(r[g]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+b)});const d=Fc();zu(d,r,s.layoutBox);const u=Fc();l?zu(u,t.applyTransform(i,!0),s.measuredBox):zu(u,r,s.layoutBox);const h=!z3(d);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:b}=g;if(v&&b){const S=_s();Hu(S,s.layoutBox,v.layoutBox);const C=_s();Hu(C,r,b.layoutBox),H3(S,C)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=S,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:u,layoutDelta:d,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function AU(t){Eu&&cl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function RU(t){t.clearSnapshot()}function NS(t){t.clearMeasurements()}function PU(t){t.isLayoutDirty=!1}function LU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DU(t){t.resolveTargetDelta()}function MU(t){t.calcProjection()}function FU(t){t.resetSkewAndRotation()}function BU(t){t.removeLeadSnapshot()}function TS(t,e,s){t.translate=ds(e.translate,0,s),t.scale=ds(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function CS(t,e,s,r){t.min=ds(e.min,s.min,r),t.max=ds(e.max,s.max,r)}function $U(t,e,s,r){CS(t.x,e.x,s.x,r),CS(t.y,e.y,s.y,r)}function OU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VU={duration:.45,ease:[.4,0,.1,1]},ES=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AS=ES("applewebkit/")&&!ES("chrome/")?Math.round:vr;function IS(t){t.min=AS(t.min),t.max=AS(t.max)}function UU(t){IS(t.x),IS(t.y)}function q3(t,e,s){return t==="position"||t==="preserve-aspect"&&!qV(wS(e),wS(s),.2)}function zU(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const HU=W3({attachResizeListener:(t,e)=>mh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bv={current:void 0},K3=W3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Bv.current){const t=new HU({});t.mount(window),t.setOptions({layoutScroll:!0}),Bv.current=t}return Bv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),GU={pan:{Feature:cU},drag:{Feature:lU,ProjectionNode:K3,MeasureLayout:B3}};function RS(t,e,s){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&ss.postRender(()=>a(e,$h(e)))}class WU extends No{mount(){const{current:e}=this.node;e&&(this.unmount=Y$(e,s=>(RS(this.node,s,"Start"),r=>RS(this.node,r,"End"))))}unmount(){}}class qU extends No{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(s){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bh(mh(this.node.current,"focus",()=>this.onFocus()),mh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PS(t,e,s){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&ss.postRender(()=>a(e,$h(e)))}class KU extends No{mount(){const{current:e}=this.node;e&&(this.unmount=tO(e,s=>(PS(this.node,s,"Start"),(r,{success:i})=>PS(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u0=new WeakMap,$v=new WeakMap,QU=t=>{const e=u0.get(t.target);e&&e(t)},XU=t=>{t.forEach(QU)};function YU({root:t,...e}){const s=t||document;$v.has(s)||$v.set(s,{});const r=$v.get(s),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(XU,{root:t,...e})),r[i]}function JU(t,e,s){const r=YU(e);return u0.set(t,s),r.observe(t),()=>{u0.delete(t),r.unobserve(t)}}const ZU={some:0,all:1};class ez extends No{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=e,l={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:ZU[i]},d=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=h?m:g;v&&v(u)};return JU(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(tz(e,s))&&this.startObserver()}unmount(){}}function tz({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const sz={inView:{Feature:ez},tap:{Feature:KU},focus:{Feature:qU},hover:{Feature:WU}},nz={layout:{ProjectionNode:K3,MeasureLayout:B3}},Pf={current:null},pb={current:!1};function Q3(){if(pb.current=!0,!!D1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pf.current=t.matches;t.addListener(e),e()}else Pf.current=!1}const rz=[...g3,Sn,_o],iz=t=>rz.find(f3(t)),od=new WeakMap;function az(t,e,s){for(const r in e){const i=e[r],a=s[r];if(Zs(i))t.addValue(r,i);else if(Zs(a))t.addValue(r,id(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,id(l!==void 0?l:i,{owner:t}))}}for(const r in s)e[r]===void 0&&t.removeValue(r);return e}const LS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class X3{scrapeMotionValuesFromProps(e,s,r){return{}}constructor({parent:e,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ob,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Li.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,ss.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:m}=l;this.onUpdate=m,this.latestValues=u,this.baseTarget={...u},this.initialValues=s.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=s,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Sg(s),this.isVariantNode=j5(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in v){const S=v[b];u[b]!==void 0&&Zs(S)&&S.set(u[b],!1)}}mount(e){this.current=e,od.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),pb.current||Q3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){od.delete(this.current),this.projection&&this.projection.unmount(),ja(this.notifyUpdate),ja(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Dl.has(e),i=s.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&ss.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rd){const s=rd[e];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_s()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<LS.length;r++){const i=LS[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=az(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const r=this.values.get(e);s!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&s!==void 0&&(r=id(s===null?void 0:s,{owner:this}),this.addValue(e,r)),r}readValue(e,s){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(p3(i)||r3(i))?i=parseFloat(i):!iz(i)&&_o.test(s)&&(i=d3(e,s)),this.setBaseTarget(e,Zs(i)?i.get():i)),Zs(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var s;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=U1(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Zs(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new tb),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class Y3 extends X3{constructor(){super(...arguments),this.KeyframeResolver=x3}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:r}){delete s[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zs(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function oz(t){return window.getComputedStyle(t)}class J3 extends Y3{constructor(){super(...arguments),this.type="html",this.renderInstance=R5}readValueFromInstance(e,s){if(Dl.has(s)){const r=ab(s);return r&&r.default||0}else{const r=oz(e),i=(E5(s)?r.getPropertyValue(s):r[s])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:s}){return M3(e,s)}build(e,s,r){G1(e,s,r.transformTemplate)}scrapeMotionValuesFromProps(e,s,r){return Q1(e,s,r)}}class Z3 extends Y3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_s}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Dl.has(s)){const r=ab(s);return r&&r.default||0}return s=P5.has(s)?s:$1(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,r){return M5(e,s,r)}build(e,s,r){W1(e,s,this.isSVGTag,r.transformTemplate)}renderInstance(e,s,r,i){L5(e,s,r,i)}mount(e){this.isSVGTag=K1(e.tagName),super.mount(e)}}const lz=(t,e)=>V1(t)?new Z3(e):new J3(e,{allowProjection:t!==E.Fragment}),cz=G$({...BV,...sz,...GU,...nz},lz),eE=a$(cz);function Au(t){const e=R1(()=>id(t)),{isStatic:s}=E.useContext(L1);if(s){const[,r]=E.useState(t);E.useEffect(()=>e.on("change",r),[])}return e}function tE(t,e){const s=Au(e()),r=()=>s.set(e());return r(),v5(()=>{const i=()=>ss.preRender(r,!1,!0),a=t.map(l=>l.on("change",i));return()=>{a.forEach(l=>l()),ja(r)}}),s}const dz=t=>t&&typeof t=="object"&&t.mix,uz=t=>dz(t)?t.mix:void 0;function hz(...t){const e=!Array.isArray(t[0]),s=e?0:-1,r=t[0+s],i=t[1+s],a=t[2+s],l=t[3+s],d=S3(i,a,{mixer:uz(a[0]),...l});return e?d(r):d}function pz(t){Ou.current=[],t();const e=tE(Ou.current,t);return Ou.current=void 0,e}function xm(t,e,s,r){if(typeof t=="function")return pz(t);const i=typeof e=="function"?e:hz(e,s,r);return Array.isArray(t)?DS(t,i):DS([t],([a])=>i(a))}function DS(t,e){const s=R1(()=>[]);return tE(t,()=>{s.length=0;const r=t.length;for(let i=0;i<r;i++)s[i]=t[i].get();return e(s)})}function sE(){!pb.current&&Q3();const[t]=E.useState(Pf.current);return t}const mz=(t,e,s)=>{const r=e-t;return((s-t)%r+r)%r+t};function nE(t,e){return j3(t)?t[mz(0,t.length,e)]:t}function mb(t){return typeof t=="object"&&!Array.isArray(t)}function rE(t,e,s,r){return typeof t=="string"&&mb(e)?H5(t,s,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function fz(t,e,s){return t*(e+1)}function MS(t,e,s,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?s:(i=r.get(e))!==null&&i!==void 0?i:t}function gz(t,e,s){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<s&&(Tg(t,i),r--)}}function xz(t,e,s,r,i,a){gz(t,i,a);for(let l=0;l<e.length;l++)t.push({value:e[l],at:ds(i,a,r[l]),easing:nE(s,l)})}function vz(t,e){for(let s=0;s<t.length;s++)t[s]=t[s]/(e+1)}function yz(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const bz="easeInOut";function _z(t,{defaultTransition:e={},...s}={},r,i){const a=e.duration||.3,l=new Map,d=new Map,u={},h=new Map;let m=0,g=0,v=0;for(let b=0;b<t.length;b++){const S=t[b];if(typeof S=="string"){h.set(S,g);continue}else if(!Array.isArray(S)){h.set(S.name,MS(g,S.at,m,h));continue}let[C,R,F={}]=S;F.at!==void 0&&(g=MS(g,F.at,m,h));let D=0;const A=(y,w,L,N=0,j=0)=>{const I=wz(y),{delay:M=0,times:P=k3(I),type:O="keyframes",repeat:$,repeatType:W,repeatDelay:H=0,...q}=w;let{ease:K=e.ease||"easeOut",duration:G}=w;const te=typeof M=="function"?M(N,j):M,ne=I.length,U=kg(O)?O:i==null?void 0:i[O];if(ne<=2&&U){let fe=100;if(ne===2&&Nz(I)){const ke=I[1]-I[0];fe=Math.abs(ke)}const Ce={...q};G!==void 0&&(Ce.duration=Ii(G));const ge=K$(Ce,fe,U);K=ge.ease,G=ge.duration}G!=null||(G=a);const J=g+te;P.length===1&&P[0]===0&&(P[1]=1);const ce=P.length-I.length;if(ce>0&&N3(P,ce),I.length===1&&I.unshift(null),$){G=fz(G,$);const fe=[...I],Ce=[...P];K=Array.isArray(K)?[...K]:[K];const ge=[...K];for(let ke=0;ke<$;ke++){I.push(...fe);for(let Se=0;Se<fe.length;Se++)P.push(Ce[Se]+(ke+1)),K.push(Se===0?"linear":nE(ge,Se-1))}vz(P,$)}const ee=J+G;xz(L,I,K,P,J,ee),D=Math.max(te+G,D),v=Math.max(ee,v)};if(Zs(C)){const y=FS(C,d);A(R,F,BS("default",y))}else{const y=rE(C,R,r,u),w=y.length;for(let L=0;L<w;L++){R=R,F=F;const N=y[L],j=FS(N,d);for(const I in R)A(R[I],jz(F,I),BS(I,j),L,w)}}m=g,g+=D}return d.forEach((b,S)=>{for(const C in b){const R=b[C];R.sort(yz);const F=[],D=[],A=[];for(let w=0;w<R.length;w++){const{at:L,value:N,easing:j}=R[w];F.push(N),D.push(Cl(0,v,L)),A.push(j||"easeOut")}D[0]!==0&&(D.unshift(0),F.unshift(F[0]),A.unshift(bz)),D[D.length-1]!==1&&(D.push(1),F.push(null)),l.has(S)||l.set(S,{keyframes:{},transition:{}});const y=l.get(S);y.keyframes[C]=F,y.transition[C]={...e,duration:v,ease:A,times:D,...s}}}),l}function FS(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function BS(t,e){return e[t]||(e[t]=[]),e[t]}function wz(t){return Array.isArray(t)?t:[t]}function jz(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const Sz=t=>typeof t=="number",Nz=t=>t.every(Sz);function kz(t,e){return t in e}class Tz extends X3{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,s){if(kz(s,e)){const r=e[s];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,s){delete s.output[e]}measureInstanceViewportBox(){return _s()}build(e,s){Object.assign(e.output,s)}renderInstance(e,{output:s}){Object.assign(e,s)}sortInstanceNodePosition(){return 0}}function Cz(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},s=O3(t)?new Z3(e):new J3(e);s.mount(t),od.set(t,s)}function Ez(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},s=new Tz(e);s.mount(t),od.set(t,s)}function Az(t,e){return Zs(t)||typeof t=="number"||typeof t=="string"&&!mb(e)}function iE(t,e,s,r){const i=[];if(Az(t,e))i.push($3(t,mb(e)&&e.default||e,s&&(s.default||s)));else{const a=rE(t,e,r),l=a.length;for(let d=0;d<l;d++){const u=a[d],h=u instanceof Element?Cz:Ez;od.has(u)||h(u);const m=od.get(u),g={...s};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(d,l)),i.push(...hb(m,{...e,transition:g},{}))}}return i}function Iz(t,e,s){const r=[];return _z(t,e,s,{spring:cb}).forEach(({keyframes:a,transition:l},d)=>{r.push(...iE(d,a,l))}),r}function Rz(t){return Array.isArray(t)&&t.some(Array.isArray)}function Pz(t){function e(s,r,i){let a=[];return Rz(s)?a=Iz(s,r,t):a=iE(s,r,i,t),new $5(a)}return e}const vm=Pz(),ha={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function Lz(){return n.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+ha.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function Dz(){return n.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[n.jsxs("defs",{children:[n.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[n.jsx("stop",{offset:"0%",stopColor:ha.icon,stopOpacity:"0.42"}),n.jsx("stop",{offset:"70%",stopColor:ha.icon,stopOpacity:"0"})]}),n.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[n.jsx("stop",{offset:"0%",stopColor:ha.icon,stopOpacity:"0.20"}),n.jsx("stop",{offset:"70%",stopColor:ha.icon,stopOpacity:"0"})]})]}),n.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),n.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function $S({rounded:t="rounded-3xl",padded:e=!0,children:s}){const r=sE();return n.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:ha.border,background:"var(--nav, "+ha.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[n.jsx(Lz,{}),n.jsx(eE.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),n.jsx(Dz,{}),n.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:s})]})}const Ov={borderColor:"#2B4C73",background:"#1A2F4A"},ym={borderColor:"#2B4C73",background:"#152A42"};function Nt({hex:t,title:e,subtitle:s,actions:r,subheader:i,left:a,right:l,children:d,rounded:u="rounded-3xl",padded:h=!0,centerFramed:m=!1,leftWidth:g=0,rightWidth:v=0,stickyRails:b=!0,mode:S="card",outerPadding:C="px-4 py-3",leftPlacement:R="inside",stickyTopbar:F=!0,stickySubheader:D=!0,shellViewportOffset:A="var(--app-topbar-h,72px)",topbarHeight:y=56}){const w={"--left":typeof g=="number"?`${g}px`:g,"--right":typeof v=="number"?`${v}px`:v},L=n.jsxs(n.Fragment,{children:[t&&n.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:Ov,children:t}),(e||s||r)&&n.jsxs("div",{className:[F?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:Ov,children:[n.jsxs("div",{className:"min-w-0",children:[e&&n.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),s&&n.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:s})]}),r?n.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&n.jsx("div",{className:[D?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...D?{top:F?`${y}px`:0}:{},...Ov},children:i})]}),N=S==="card"?({children:I})=>n.jsx($S,{rounded:u,padded:h,children:I}):({children:I})=>n.jsx("div",{className:`w-full ${C}`,children:I}),j=n.jsx("div",{className:"relative min-h-0 h-full",style:w,children:n.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[a?n.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...ym,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:a}):g?n.jsx("div",{}):n.jsx("div",{className:"hidden md:block"}),m?n.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:ym,children:d}):n.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),l?n.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...ym,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?n.jsx("div",{}):n.jsx("div",{className:"hidden md:block"})]})});return R==="bleed"&&S==="card"?n.jsx("div",{className:`w-full ${C}`,children:n.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[L,n.jsx("div",{className:"flex-1 min-h-0",style:w,children:n.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[a?n.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...ym,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:a}):g?n.jsx("div",{}):n.jsx("div",{className:"hidden md:block"}),n.jsx($S,{rounded:u,padded:h,children:n.jsx("div",{className:"flex-1 min-h-0 h-full",children:j})})]})})]})}):n.jsx(N,{children:n.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${A})`},children:[L,n.jsx("div",{className:"flex-1 min-h-0",children:j})]})})}const Mz="_row_x5rfq_3",Fz="_colFull_x5rfq_17",Bz="_colCommunity_x5rfq_31",$z="_colGuides_x5rfq_33",Oz="_card_x5rfq_129",Vz="_header_x5rfq_143",Uz="_title_x5rfq_155",zz="_subtitle_x5rfq_157",Hz="_empty_x5rfq_159",Gz="_errorNote_x5rfq_161",Wz="_linkBtn_x5rfq_163",qz="_primaryBtn_x5rfq_163",Kz="_navBtn_x5rfq_163",Qz="_closeBtn_x5rfq_163",Xz="_actionsRight_x5rfq_179",Yz="_tileGrid_x5rfq_185",Jz="_tile_x5rfq_185",Zz="_tileIcon_x5rfq_211",eH="_tileIconFallback_x5rfq_213",tH="_tileLabel_x5rfq_215",sH="_newsList_x5rfq_221",nH="_newsItem_x5rfq_223",rH="_newsMeta_x5rfq_225",iH="_newsAuthor_x5rfq_227",aH="_newsTime_x5rfq_229",oH="_newsText_x5rfq_231",lH="_newsImage_x5rfq_233",cH="_carouselCtrls_x5rfq_241",dH="_carousel_x5rfq_241",uH="_slide_x5rfq_249",hH="_slideActive_x5rfq_251",pH="_slideInactive_x5rfq_253",mH="_slideThumb_x5rfq_255",fH="_slideFallback_x5rfq_257",gH="_slideCaption_x5rfq_259",xH="_liveCard_x5rfq_265",vH="_liveAvatar_x5rfq_267",yH="_liveAvatarFallback_x5rfq_269",bH="_liveInfo_x5rfq_271",_H="_liveName_x5rfq_273",wH="_liveMeta_x5rfq_275",jH="_liveBadge_x5rfq_277",SH="_liveViewers_x5rfq_279",NH="_modalOverlay_x5rfq_285",kH="_modal_x5rfq_285",TH="_modalHeader_x5rfq_289",CH="_modalTitle_x5rfq_291",EH="_modalFilters_x5rfq_295",AH="_formRow_x5rfq_297",IH="_formRowCheckbox_x5rfq_299",RH="_select_x5rfq_301",PH="_input_x5rfq_301",LH="_tableWrap_x5rfq_303",DH="_table_x5rfq_303",$e={row:Mz,colFull:Fz,colCommunity:Bz,colGuides:$z,card:Oz,header:Vz,title:Uz,subtitle:zz,empty:Hz,errorNote:Gz,linkBtn:Wz,primaryBtn:qz,navBtn:Kz,closeBtn:Qz,actionsRight:Xz,tileGrid:Yz,tile:Jz,tileIcon:Zz,tileIconFallback:eH,tileLabel:tH,newsList:sH,newsItem:nH,newsMeta:rH,newsAuthor:iH,newsTime:aH,newsText:oH,newsImage:lH,carouselCtrls:cH,carousel:dH,slide:uH,slideActive:hH,slideInactive:pH,slideThumb:mH,slideFallback:fH,slideCaption:gH,liveCard:xH,liveAvatar:vH,liveAvatarFallback:yH,liveInfo:bH,liveName:_H,liveMeta:wH,liveBadge:jH,liveViewers:SH,modalOverlay:NH,modal:kH,modalHeader:TH,modalTitle:CH,modalFilters:EH,formRow:AH,formRowCheckbox:IH,select:RH,input:PH,tableWrap:LH,table:DH},MH=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function aE(){const t=[];for(const s of MH)try{const i=await(await fetch(s,{cache:"no-store"})).text(),a=FH(i);t.push(...a)}catch(r){}const e=new Map;for(const s of t){const r=String(s["Creator Name"]||s.creator_name||s.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,s)}return Array.from(e.values())}function OS(t){const e=[];let s="",r=!1;for(let i=0;i<t.length;i++){const a=t[i];a==='"'?r&&t[i+1]==='"'?(s+='"',i++):r=!r:a===","&&!r?(e.push(s),s=""):s+=a}return e.push(s),e}function FH(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const s=OS(e[0]);return e.slice(1).map(r=>{const i=OS(r),a={};return s.forEach((l,d)=>{var u;return a[l.trim()]=((u=i[d])!=null?u:"").trim()}),a})}function BH(t){try{const e=Date.now(),s=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-s),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const a=Math.floor(i/60);if(a<60)return`${a}m`;const l=Math.floor(a/60);return l<24?`${l}h`:`${Math.floor(l/24)}d`}catch(e){return""}}function $H(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const s=e.pathname.toLowerCase();if(s.startsWith("/shorts/"))return s.split("/")[2]||null}}catch(e){}return null}const OH=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help",label:"Help"},{to:"/settings/",label:"Settings"}],VS={},VH=()=>n.jsxs("section",{className:$e.card,"data-i18n-scope":"home.tiles",children:[n.jsxs("header",{className:$e.header,children:[n.jsx("span",{className:$e.title,"data-i18n":"home.title",children:"Home"}),n.jsx("span",{className:$e.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),n.jsx("div",{className:$e.tileGrid,role:"list",children:OH.map(t=>n.jsxs(Wt,{to:t.to,role:"listitem",className:$e.tile,"aria-label":t.label,children:[VS[t.to]?n.jsx("img",{src:VS[t.to],alt:"",className:$e.tileIcon}):n.jsx("div",{className:$e.tileIconFallback,"aria-hidden":!0,children:t.label.slice(0,2).toUpperCase()}),n.jsx("div",{className:$e.tileLabel,"data-i18n":`nav.${t.label.toLowerCase()}`,children:t.label})]},t.to))})]}),UH=()=>{const[t,e]=E.useState(null),[s,r]=E.useState(null);E.useEffect(()=>{async function a(){{e([]);return}}return a(),()=>{}},[]);const i=!t||t.length===0;return n.jsxs("section",{className:$e.card,"data-i18n-scope":"home.news","aria-busy":t==null,children:[n.jsx("header",{className:$e.header,children:n.jsx("span",{className:$e.title,"data-i18n":"home.news.title",children:"Community news"})}),n.jsxs("div",{className:$e.newsList,children:[t==null?void 0:t.map(a=>{var l;return n.jsxs("article",{className:$e.newsItem,children:[n.jsxs("div",{className:$e.newsMeta,children:[n.jsx("span",{className:$e.newsAuthor,children:a.author||"Discord"}),n.jsx("span",{className:$e.newsTime,children:BH(a.timestamp)})]}),n.jsx("p",{className:$e.newsText,children:a.text}),a.image&&n.jsx("img",{src:a.image,alt:"",className:$e.newsImage}),a.url&&n.jsx("a",{href:a.url,target:"_blank",rel:"noreferrer",className:$e.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(l=a.id)!=null?l:`${a.author}-${a.timestamp}`)}),i&&n.jsx("div",{className:$e.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),s&&n.jsx("div",{className:$e.errorNote,"aria-live":"polite",children:s})]})},zH=()=>{const[t,e]=E.useState([]),[s,r]=E.useState(0),i=E.useRef(null);E.useEffect(()=>{let u=!0;async function h(){try{const g=(await aE()).map(v=>{const b=String(v["Creator Name"]||v.creator_name||v.name||"").trim(),S=String(v["YouTube Link"]||v.youtube||v.YouTube||"").trim();if(!S)return null;const C=$H(S),R=C?`https://i.ytimg.com/vi/${C}/hqdefault.jpg`:void 0;return{title:b,url:S,thumb:R}}).filter(Boolean).slice(0,12);u&&e(g)}catch(m){u&&e([])}}return h(),()=>{u=!1}},[]),E.useEffect(()=>{if(!(t.length<=1))return i.current=window.setInterval(()=>r(u=>(u+1)%t.length),6e3),()=>{i.current&&window.clearInterval(i.current)}},[t]);const a=()=>r(u=>(u-1+t.length)%Math.max(t.length,1)),l=()=>r(u=>(u+1)%Math.max(t.length,1)),d=u=>{u.key==="ArrowLeft"&&(u.preventDefault(),a()),u.key==="ArrowRight"&&(u.preventDefault(),l())};return n.jsxs("section",{className:$e.card,"data-i18n-scope":"home.youtube",children:[n.jsxs("header",{className:$e.header,children:[n.jsx("span",{className:$e.title,"data-i18n":"home.youtube.title",children:"YouTube"}),n.jsxs("div",{className:$e.carouselCtrls,children:[n.jsx("button",{className:$e.navBtn,onClick:a,"aria-label":"Prev",children:""}),n.jsx("button",{className:$e.navBtn,onClick:l,"aria-label":"Next",children:""})]})]}),n.jsx("div",{className:$e.carousel,tabIndex:0,onKeyDown:d,"aria-roledescription":"carousel",children:t.length===0?n.jsx("div",{className:$e.empty,children:"No videos"}):t.map((u,h)=>n.jsxs("a",{href:u.url,target:"_blank",rel:"noreferrer",className:[$e.slide,h===s?$e.slideActive:$e.slideInactive].join(" "),children:[u.thumb?n.jsx("img",{src:u.thumb,alt:"",className:$e.slideThumb}):n.jsx("div",{className:$e.slideFallback,children:u.title.slice(0,2).toUpperCase()}),n.jsx("div",{className:$e.slideCaption,children:u.title})]},u.url))})]})},HH=({onOpenSchedule:t})=>{var m;const[e,s]=E.useState(null),[r,i]=E.useState(new Map),[a,l]=E.useState(0),d=E.useRef(null);if(E.useEffect(()=>{async function g(){{s([]);return}}return g(),()=>{}},[]),E.useEffect(()=>{let g=!0;async function v(){try{const b=await aE(),S=new Map;for(const C of b){const R=String(C["Creator Name"]||C.creator_name||C.name||"").trim(),F=String(C["Twitch Link"]||C.twitch||C.Twitch||"").trim();if(!R||!F)continue;const D=(()=>{try{return new URL(F).pathname.replace(/^\//,"").toLowerCase()}catch(A){return F.toLowerCase()}})();D&&S.set(D,F),S.set(R.toLowerCase(),F)}g&&i(S)}catch(b){g&&i(new Map)}}return v(),()=>{g=!1}},[]),E.useEffect(()=>{if(!(!e||e.length<=1))return d.current=window.setInterval(()=>l(g=>(g+1)%e.length),8e3),()=>{d.current&&window.clearInterval(d.current)}},[e]),!e||e.length===0)return n.jsxs("section",{className:$e.card,"data-i18n-scope":"home.live",children:[n.jsx("header",{className:$e.header,children:n.jsx("span",{className:$e.title,"data-i18n":"home.live.title",children:"Live now"})}),n.jsx("div",{className:$e.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),n.jsx("div",{className:$e.actionsRight,children:n.jsx("button",{className:$e.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const u=e[a],h=(()=>{const g=((u==null?void 0:u.name)||"").toLowerCase();if(u!=null&&u.url)return u.url;if(g)return r.has(g)?r.get(g):r.has(g.replace(/^@/,""))?r.get(g.replace(/^@/,"")):`https://www.twitch.tv/${g}`})();return n.jsxs("section",{className:$e.card,"data-i18n-scope":"home.live",children:[n.jsx("header",{className:$e.header,children:n.jsx("span",{className:$e.title,"data-i18n":"home.live.title",children:"Live now"})}),n.jsxs("div",{className:$e.liveCard,children:[u!=null&&u.avatar?n.jsx("img",{src:u.avatar,alt:"",className:$e.liveAvatar}):n.jsx("div",{className:$e.liveAvatarFallback,"aria-hidden":!0,children:(m=u==null?void 0:u.name)==null?void 0:m.slice(0,2).toUpperCase()}),n.jsxs("div",{className:$e.liveInfo,children:[n.jsx("div",{className:$e.liveName,children:u==null?void 0:u.name}),n.jsxs("div",{className:$e.liveMeta,children:[n.jsx("span",{className:$e.liveBadge,children:"LIVE"}),typeof(u==null?void 0:u.viewers)=="number"&&n.jsxs("span",{className:$e.liveViewers,children:[u.viewers.toLocaleString()," viewers"]})]})]}),h&&n.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:$e.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),n.jsxs("div",{className:$e.carouselCtrls,children:[n.jsx("button",{className:$e.navBtn,onClick:()=>l(g=>(g-1+e.length)%e.length),"aria-label":"Prev",children:""}),n.jsx("button",{className:$e.navBtn,onClick:()=>l(g=>(g+1)%e.length),"aria-label":"Next",children:""})]})]})},GH=({open:t,onClose:e})=>{var b;const[s,r]=E.useState(null),[i,a]=E.useState("All"),[l,d]=E.useState(""),[u,h]=E.useState(!1);if(E.useEffect(()=>{if(!t)return;async function S(){{r([]);return}}return S(),()=>{}},[t]),E.useEffect(()=>{const S=C=>{C.key==="Escape"&&e()};return t&&window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),!t)return null;const m=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),g=(s||[]).filter(S=>{if(i!=="All"&&S.platform.toLowerCase()!==i.toLowerCase()||u&&S.weekday&&S.weekday.toLowerCase()!==m.toLowerCase())return!1;if(l){const C=l.toLowerCase();if(!`${S.streamer} ${S.title}`.toLowerCase().includes(C))return!1}return!0}),v=((b=s==null?void 0:s.length)!=null?b:0)===0;return n.jsx("div",{className:$e.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:n.jsxs("div",{className:$e.modal,children:[n.jsxs("header",{className:$e.modalHeader,children:[n.jsx("h2",{id:"schedule-title",className:$e.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),n.jsx("button",{className:$e.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),n.jsxs("div",{className:$e.modalFilters,children:[n.jsxs("label",{className:$e.formRow,children:[n.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),n.jsxs("select",{value:i,onChange:S=>a(S.target.value),className:$e.select,children:[n.jsx("option",{value:"All",children:"All"}),n.jsx("option",{value:"Twitch",children:"Twitch"}),n.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),n.jsxs("label",{className:$e.formRow,children:[n.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),n.jsx("input",{value:l,onChange:S=>d(S.target.value),className:$e.input,placeholder:"Streamer / Title"})]}),n.jsxs("label",{className:$e.formRowCheckbox,children:[n.jsx("input",{type:"checkbox",checked:u,onChange:S=>h(S.target.checked)}),n.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),n.jsx("div",{className:$e.tableWrap,children:n.jsxs("table",{className:$e.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"weekday"}),n.jsx("th",{children:"start_utc"}),n.jsx("th",{children:"end_utc"}),n.jsx("th",{children:"timezone"}),n.jsx("th",{children:"platform"}),n.jsx("th",{children:"channel_url"}),n.jsx("th",{children:"streamer"}),n.jsx("th",{children:"title"})]})}),n.jsx("tbody",{children:v?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:$e.empty,children:"No schedule yet"})}):g.map((S,C)=>n.jsxs("tr",{children:[n.jsx("td",{children:S.weekday}),n.jsx("td",{children:S.start_utc}),n.jsx("td",{children:S.end_utc}),n.jsx("td",{children:S.timezone}),n.jsx("td",{children:S.platform}),n.jsx("td",{children:S.channel_url?n.jsx("a",{href:S.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),n.jsx("td",{children:S.streamer}),n.jsx("td",{children:S.title})]},C))})]})})]})})},WH=()=>{const[t,e]=E.useState(!1);return n.jsxs(Nt,{title:"home.title",subtitle:"home.subtitle",children:[n.jsx("div",{className:$e.row,children:n.jsx("div",{className:$e.colFull,children:n.jsx(VH,{})})}),n.jsxs("div",{className:$e.row,children:[n.jsx("div",{className:$e.colCommunity,children:n.jsx(UH,{})}),n.jsx("div",{className:$e.colGuides,children:n.jsx(zH,{})})]}),n.jsx("div",{className:$e.row,children:n.jsx("div",{className:$e.colFull,children:n.jsx(HH,{onOpenSchedule:()=>e(!0)})})}),n.jsx(GH,{open:t,onClose:()=>e(!1)})]})},qH="_wrapper_125p4_1",KH="_card_125p4_19",QH="_logo_125p4_45",XH="_heading_125p4_61",YH="_subcopy_125p4_73",JH="_buttonStack_125p4_83",ZH="_providerButton_125p4_97",eG="_discord_125p4_145",tG="_google_125p4_153",sG="_disclaimer_125p4_161",nG="_status_125p4_173",rG="_sessionBlock_125p4_183",iG="_logoutButton_125p4_197",aG="_linkButton_125p4_227",oG="_loading_125p4_245",lG="_spinner_125p4_261",an={wrapper:qH,card:KH,logo:QH,heading:XH,subcopy:YH,buttonStack:JH,providerButton:ZH,discord:eG,google:tG,disclaimer:sG,status:nG,sessionBlock:rG,logoutButton:iG,linkButton:aG,loading:oG,spinner:lG},cG=()=>{const t=Or(),{status:e,user:s,loginWithDiscord:r,loginWithGoogle:i,logout:a}=Ll(),l=e==="loading"||e==="idle",d=e==="authenticated"&&!!s,u=()=>{l||r()},h=()=>{l||i()},m=async()=>{await a()},g=()=>{t("/")};let v;return l?v=n.jsxs("div",{className:an.loading,children:[n.jsx("div",{className:an.spinner}),n.jsx("div",{children:"Checking session"})]}):d&&s?v=n.jsxs("div",{className:an.sessionBlock,children:[n.jsxs("div",{className:an.status,children:["You are logged in as ",s.displayName,"."]}),n.jsx("button",{className:an.logoutButton,type:"button",onClick:m,children:"Logout"}),n.jsx("button",{className:an.linkButton,type:"button",onClick:g,children:"Back to dashboard"})]}):v=n.jsxs("div",{className:an.buttonStack,children:[n.jsx("button",{className:`${an.providerButton} ${an.discord}`,type:"button",onClick:u,children:"Login with Discord"}),n.jsx("button",{className:`${an.providerButton} ${an.google}`,type:"button",onClick:h,children:"Login with Google"})]}),n.jsx(Nt,{title:"Account Access",subtitle:"Connect with your community identity",mode:"page",padded:!0,children:n.jsx("div",{className:an.wrapper,children:n.jsxs("div",{className:an.card,children:[n.jsx("img",{className:an.logo,src:Xm,alt:"SFDataHub logo"}),n.jsx("h1",{className:an.heading,children:"Sign in"}),n.jsx("p",{className:an.subcopy,children:"Choose a method to access SFDataHub."}),v,n.jsx("p",{className:an.disclaimer,children:"We store only your SFDataHub user ID, display name, avatar, and roles to personalize your experience."})]})})})};function dG(){return n.jsx(Nt,{hex:n.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:n.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:n.jsx(uG,{}),right:n.jsx(hG,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsx(Vv,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),n.jsx(Vv,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),n.jsx(Vv,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function uG(){return n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(Uv,{to:"/dashboard/kpis",children:"KPIs"}),n.jsx(Uv,{to:"/dashboard/activity",children:"Activity"}),n.jsx(Uv,{to:"/dashboard/progression",children:"Progression"})]})]})}function hG(){return n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),n.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function Vv({to:t,title:e,desc:s}){return n.jsxs(Wt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),s?n.jsx("div",{className:"mt-1 text-sm opacity-75",children:s}):null]})}function Uv({to:t,children:e}){return n.jsx(Wt,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function pG(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Dashboard  KPIs"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(zv,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),n.jsx(zv,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),n.jsx(zv,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function zv({label:t,value:e,hint:s}){return n.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[n.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),n.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function mG(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Dashboard  Activity"}),n.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),n.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[n.jsx("li",{children:" Neues Scan-File hochgeladen"}),n.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),n.jsx("li",{children:" Gilden-Event geplant"})]})]})}function fG(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Dashboard  Progression"}),n.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[n.jsx(Hv,{title:"Scrapbook 100%",progress:72}),n.jsx(Hv,{title:"Fortress Ausbaustufe",progress:48}),n.jsx(Hv,{title:"Underworld Boss",progress:35})]})]})}function Hv({title:t,progress:e}){return n.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),n.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:n.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),n.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function gG(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Discover"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(Jo,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),n.jsx(Jo,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),n.jsx(Jo,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),n.jsx(Jo,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),n.jsx(Jo,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),n.jsx(Jo,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"}),n.jsx(Jo,{to:"/players/compare",title:"Compare Players",desc:"Direkter Spieler-Vergleich"})]})]})}function Jo({to:t,title:e,desc:s}){return n.jsxs(Wt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function xG({children:t,framed:e=!0}){return e?n.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:ha.border,backgroundColor:ha.tile},children:t}):n.jsx("main",{className:"min-w-0",children:t})}function vG(t,e){if(!t)return"";const s=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return s;const r=s.includes("?")?"&":"?";return`${s}${r}bg=transparent&background=transparent`}const yG=({srcOrId:t,aspectRatio:e="16/10",height:s,allowFullscreen:r=!0,lazy:i=!0,className:a,showInfo:l=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:u=0,tryTransparentBg:h=!0})=>{const[m,g]=E.useState(!1),v=E.useMemo(()=>vG(t,h),[t,h]),b=i?"lazy":"eager",S={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},C={position:"relative",width:"100%",padding:u?`${u}px`:0,boxSizing:"border-box",background:"transparent"},R=s?{position:"relative",width:"100%",height:s,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},F={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return n.jsx("div",{className:a,style:S,children:n.jsx("div",{style:C,children:n.jsxs("div",{style:R,children:[n.jsx("iframe",{src:v,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:b,scrolling:"no",title:"Heyzine Flipbook"}),l&&n.jsxs(n.Fragment,{children:[n.jsx("button",{type:"button","aria-label":"Info",onClick:()=>g(D=>!D),style:F,title:"Info",children:"i"}),m&&n.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",n.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},bG="#0C1C2E",_G=()=>n.jsx(Nt,{children:n.jsx(xG,{children:n.jsxs("div",{style:{position:"relative",width:"100%"},children:[n.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:bG,borderRadius:16,pointerEvents:"none",zIndex:0}}),n.jsx("div",{style:{position:"relative",zIndex:1},children:n.jsx(yG,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),wG="_pageWrap_72re9_7",jG="_infoLine_72re9_17",SG="_viewerHost_72re9_43",NG="_overlay_72re9_99",kG="_dragZoneLeft_72re9_101",TG="_dragZoneRight_72re9_103",CG="_inbookLink_72re9_105",Ya={pageWrap:wG,infoLine:jG,viewerHost:SG,overlay:NG,dragZoneLeft:kG,dragZoneRight:TG,inbookLink:CG};var Iu={exports:{}},EG=Iu.exports,US;function AG(){return US||(US=1,(function(t,e){(function(s,r){r(e)})(EG,(function(s){class r{constructor(y,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=y}setDensity(y){this.createdDensity=y,this.nowDrawingDensity=y}setDrawingDensity(y){this.nowDrawingDensity=y}setPosition(y){this.state.position=y}setAngle(y){this.state.angle=y}setArea(y){this.state.area=y}setHardDrawingAngle(y){this.state.hardDrawingAngle=y}setHardAngle(y){this.state.hardAngle=y,this.state.hardDrawingAngle=y}setOrientation(y){this.orientation=y}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(y,w,L){super(y,L),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(y){const w=this.render.getContext(),L=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,j=this.render.getRect().height;w.save(),w.translate(L.x,L.y),w.beginPath();for(let I of this.state.area)I!==null&&(I=this.render.convertToGlobal(I),w.lineTo(I.x-L.x,I.y-L.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,N,j):this.drawLoader(w,{x:0,y:0},N,j),w.restore()}simpleDraw(y){const w=this.render.getRect(),L=this.render.getContext(),N=w.pageWidth,j=w.height,I=y===1?w.left+w.pageWidth:w.left,M=w.top;this.isLoad?L.drawImage(this.image,I,M,N,j):this.drawLoader(L,{x:I,y:M},N,j)}drawLoader(y,w,L,N){y.beginPath(),y.strokeStyle="rgb(200, 200, 200)",y.fillStyle="rgb(255, 255, 255)",y.lineWidth=1,y.rect(w.x+1,w.y+1,L-1,N-1),y.stroke(),y.fill();const j={x:w.x+L/2,y:w.y+N/2};y.beginPath(),y.lineWidth=10,y.arc(j.x,j.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),y.stroke(),y.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class a{constructor(y,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=y,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let y=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([y]),y++);for(let w=y;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(y){const w=this.getSpread();for(let L=0;L<w.length;L++)if(y===w[L][0]||y===w[L][1])return L;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(y){if(y>=0&&y<this.pages.length)return this.pages[y];throw new Error("Invalid page number")}nextBy(y){const w=this.pages.indexOf(y);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(y){const w=this.pages.indexOf(y);return w>0?this.pages[w-1]:null}getFlippingPage(y){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const L=y===0?this.getSpread()[w+1]:this.getSpread()[w-1];return L.length===1||y===0?this.pages[L[0]]:this.pages[L[1]]}}getBottomPage(y){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return y===0?this.pages[w+1]:this.pages[w-1];{const L=y===0?this.getSpread()[w+1]:this.getSpread()[w-1];return L.length===1?this.pages[L[0]]:y===0?this.pages[L[1]]:this.pages[L[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(y=null){if(y===null&&(y=this.currentPageIndex),y<0||y>=this.pages.length)return;const w=this.getSpreadIndexByPage(y);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(y){if(!(y>=0&&y<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=y}showSpread(){const y=this.getSpread()[this.currentSpreadIndex];y.length===2?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(this.pages[y[1]])):this.render.getOrientation()==="landscape"&&y[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[y[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[y[0]])),this.currentPageIndex=y[0],this.app.updatePageIndex(this.currentPageIndex)}}class l extends a{constructor(y,w,L){super(y,w),this.imagesHref=L}load(){for(const y of this.imagesHref){const w=new i(this.render,y,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(y,w){return y===null||w===null?1/0:Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2))}static GetSegmentLength(y){return d.GetDistanceBetweenTwoPoint(y[0],y[1])}static GetAngleBetweenTwoLine(y,w){const L=y[0].y-y[1].y,N=w[0].y-w[1].y,j=y[1].x-y[0].x,I=w[1].x-w[0].x;return Math.acos((L*N+j*I)/(Math.sqrt(L*L+j*j)*Math.sqrt(N*N+I*I)))}static PointInRect(y,w){return w===null?null:w.x>=y.left&&w.x<=y.width+y.left&&w.y>=y.top&&w.y<=y.top+y.height?w:null}static GetRotatedPoint(y,w,L){return{x:y.x*Math.cos(L)+y.y*Math.sin(L)+w.x,y:y.y*Math.cos(L)-y.x*Math.sin(L)+w.y}}static LimitPointToCircle(y,w,L){if(d.GetDistanceBetweenTwoPoint(y,L)<=w)return L;const N=y.x,j=y.y,I=L.x,M=L.y;let P=Math.sqrt(Math.pow(w,2)*Math.pow(N-I,2)/(Math.pow(N-I,2)+Math.pow(j-M,2)))+N;L.x<0&&(P*=-1);let O=(P-N)*(j-M)/(N-I)+j;return N-I+j===0&&(O=w),{x:P,y:O}}static GetIntersectBetweenTwoSegment(y,w,L){return d.PointInRect(y,d.GetIntersectBeetwenTwoLine(w,L))}static GetIntersectBeetwenTwoLine(y,w){const L=y[0].y-y[1].y,N=w[0].y-w[1].y,j=y[1].x-y[0].x,I=w[1].x-w[0].x,M=y[0].x*y[1].y-y[1].x*y[0].y,P=w[0].x*w[1].y-w[1].x*w[0].y,O=L*P-N*M,$=j*P-I*M,W=-(M*I-P*j)/(L*I-N*j),H=-(L*P-N*M)/(L*I-N*j);if(isFinite(W)&&isFinite(H))return{x:W,y:H};if(Math.abs(O-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(y,w){const L=Math.abs(y.x-w.x),N=Math.abs(y.y-w.y),j=Math.max(L,N),I=[y];function M(P,O,$,W,H){return O>P?P+H*($/W):O<P?P-H*($/W):P}for(let P=1;P<=j;P+=1)I.push({x:M(y.x,w.x,L,j,P),y:M(y.y,w.y,N,j,P)});return I}}class u extends r{constructor(y,w,L){super(y,L),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+L)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(y){const w=y||this.nowDrawingDensity,L=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,j=this.render.getRect().height;this.element.classList.remove("--simple");const I=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${N}px;
            height: ${j}px;
        `;w==="hard"?this.drawHard(I):this.drawSoft(L,I)}drawHard(y=""){const w=this.render.getRect().left+this.render.getRect().width/2,L=this.state.hardDrawingAngle,N=y+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${L}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${L}deg);`);this.element.style.cssText=N}drawSoft(y,w=""){let L="polygon( ";for(const j of this.state.area)if(j!==null){let I=this.render.getDirection()===1?{x:-j.x+this.state.position.x,y:j.y-this.state.position.y}:{x:j.x-this.state.position.x,y:j.y-this.state.position.y};I=d.GetRotatedPoint(I,{x:0,y:0},this.state.angle),L+=I.x+"px "+I.y+"px, "}L=L.slice(0,-2),L+=")";const N=w+`transform-origin: 0 0; clip-path: ${L}; -webkit-clip-path: ${L};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${y.x}px, ${y.y}px);`:`transform: translate3d(${y.x}px, ${y.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=N}simpleDraw(y){const w=this.render.getRect(),L=w.pageWidth,N=w.height,j=y===1?w.left+w.pageWidth:w.left,I=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${N}px; 
            left: ${j}px; 
            top: ${I}px; 
            width: ${L}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(y){super.setOrientation(y),this.element.classList.remove("--left","--right"),this.element.classList.add(y===1?"--right":"--left")}setDrawingDensity(y){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+y),super.setDrawingDensity(y)}}class h extends a{constructor(y,w,L,N){super(y,w),this.element=L,this.pagesElement=N}load(){for(const y of this.pagesElement){const w=new u(this.render,y,y.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class m{constructor(y,w,L,N){this.direction=y,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(L,10),this.pageHeight=parseInt(N,10)}calc(y){try{return this.position=this.calcAngleAndPosition(y),this.calculateIntersectPoint(this.position),!0}catch(w){return!1}}getFlippingClipArea(){const y=[];let w=!1;return y.push(this.rect.topLeft),y.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(y.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),y.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&y.push(this.rect.bottomLeft),y}getBottomClipArea(){const y=[];return y.push(this.topIntersectPoint),this.corner==="top"?y.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&y.push({x:this.pageWidth,y:0}),y.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&y.push(this.sideIntersectPoint):this.corner==="top"&&y.push({x:this.pageWidth,y:this.pageHeight}),y.push(this.bottomIntersectPoint),y.push(this.topIntersectPoint),y}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const y=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?y:Math.PI-y}calcAngleAndPosition(y){let w=y;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(y){this.angle=this.calculateAngle(y),this.rect=this.getPageRect(y)}calculateAngle(y){const w=this.pageWidth-y.x+1,L=this.corner==="bottom"?this.pageHeight-y.y:y.y;let N=2*Math.acos(w/Math.sqrt(L*L+w*w));L<0&&(N=-N);const j=Math.PI-N;if(!isFinite(N)||j>=0&&j<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(N=-N),N}getPageRect(y){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],y):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],y)}getRectFromBasePoint(y,w){return{topLeft:this.getRotatedPoint(y[0],w),topRight:this.getRotatedPoint(y[1],w),bottomLeft:this.getRotatedPoint(y[2],w),bottomRight:this.getRotatedPoint(y[3],w)}}getRotatedPoint(y,w){return{x:y.x*Math.cos(this.angle)+y.y*Math.sin(this.angle)+w.x,y:y.y*Math.cos(this.angle)-y.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(y){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[y,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[y,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[y,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(y,w,L){let N=y;const j=d.LimitPointToCircle(w,this.pageWidth,N);N!==j&&(N=j,this.updateAngleAndGeometry(N));const I=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let M=this.rect.bottomRight,P=this.rect.topLeft;if(this.corner==="bottom"&&(M=this.rect.topRight,P=this.rect.bottomLeft),M.x<=0){const O=d.LimitPointToCircle(L,I,P);O!==N&&(N=O,this.updateAngleAndGeometry(N))}return N}getSegmentToShadowLine(){const y=this.getShadowStartPoint();return[y,y!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class g{constructor(y,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=y,this.app=w}fold(y){this.setState("user_fold"),this.calc===null&&this.start(y),this.do(this.render.convertToPage(y))}flip(y){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(y)||(this.calc!==null&&this.render.finishAnimation(),!this.start(y)))return;const w=this.getBoundsRect();this.setState("flipping");const L=w.height/10,N=this.calc.getCorner()==="bottom"?w.height-L:L,j=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-L,y:N}),this.animateFlippingTo({x:w.pageWidth-L,y:N},{x:-w.pageWidth,y:j},!0)}start(y){this.reset();const w=this.render.convertToBook(y),L=this.getBoundsRect(),N=this.getDirectionByPoint(w),j=w.y>=L.height/2?"bottom":"top";if(!this.checkDirection(N))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(N),this.bottomPage=this.app.getPageCollection().getBottomPage(N),this.render.getOrientation()==="landscape")if(N===1){const I=this.app.getPageCollection().nextBy(this.flippingPage);I!==null&&this.flippingPage.getDensity()!==I.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),I.setDrawingDensity("hard"))}else{const I=this.app.getPageCollection().prevBy(this.flippingPage);I!==null&&this.flippingPage.getDensity()!==I.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),I.setDrawingDensity("hard"))}return this.render.setDirection(N),this.calc=new m(N,j,L.pageWidth.toString(10),L.height.toString(10)),!0}catch(I){return!1}}do(y){if(this.calc!==null&&this.calc.calc(y)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(y,w){const L=this.app.getPageCollection().getCurrentSpreadIndex(),N=this.app.getPageCollection().getSpreadIndexByPage(y);try{N>L&&(this.app.getPageCollection().setCurrentSpreadIndex(N-1),this.flipNext(w)),N<L&&(this.app.getPageCollection().setCurrentSpreadIndex(N+1),this.flipPrev(w))}catch(j){}}flipNext(y){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:y==="top"?1:this.render.getRect().height-2})}flipPrev(y){this.flip({x:10,y:y==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const y=this.calc.getPosition(),w=this.getBoundsRect(),L=this.calc.getCorner()==="bottom"?w.height:0;y.x<=0?this.animateFlippingTo(y,{x:-w.pageWidth,y:L},!0):this.animateFlippingTo(y,{x:w.pageWidth,y:L},!1)}showCorner(y){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),L=w.pageWidth;if(this.isPointOnCorners(y))if(this.calc===null){if(!this.start(y))return;this.setState("fold_corner"),this.calc.calc({x:L-1,y:1});const N=50,j=this.calc.getCorner()==="bottom"?w.height-1:1,I=this.calc.getCorner()==="bottom"?w.height-N:N;this.animateFlippingTo({x:L-1,y:j},{x:L-N,y:I},!1,!1)}else this.do(this.render.convertToPage(y));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(y,w,L,N=!0){const j=d.GetCordsFromTwoPoint(y,w),I=[];for(const P of j)I.push(()=>this.do(P));const M=this.getAnimationDuration(j.length);this.render.startAnimation(I,M,()=>{this.calc&&(L&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),N&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(y){this.state!==y&&(this.app.updateState(y),this.state=y)}getDirectionByPoint(y){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(y.x-w.pageWidth<=w.width/5)return 1}else if(y.x<w.width/2)return 1;return 0}getAnimationDuration(y){const w=this.app.getSettings().flippingTime;return y>=1e3?w:y/1e3*w}checkDirection(y){return y===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...y){for(const w of y)if(this.state===w)return!0;return!1}isPointOnCorners(y){const w=this.getBoundsRect(),L=w.pageWidth,N=Math.sqrt(Math.pow(L,2)+Math.pow(w.height,2))/5,j=this.render.convertToBook(y);return j.x>0&&j.y>0&&j.x<w.width&&j.y<w.height&&(j.x<N||j.x>w.width-N)&&(j.y<N||j.y>w.height-N)}}class v{constructor(y,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=y;const L=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=L.exec(window.navigator.userAgent)!==null}render(y){if(this.animation!==null){const w=Math.round((y-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=y,this.drawFrame()}start(){this.update();const y=w=>{this.render(w),requestAnimationFrame(y)};requestAnimationFrame(y)}startAnimation(y,w,L){this.finishAnimation(),this.animation={frames:y,duration:w,durationFrame:w/y.length,onAnimateEnd:L,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const y=this.calculateBoundsRect();this.orientation!==y&&(this.orientation=y,this.app.updateOrientation(y))}calculateBoundsRect(){let y="landscape";const w=this.getBlockWidth(),L=w/2,N=this.getBlockHeight()/2,j=this.setting.width/this.setting.height;let I=this.setting.width,M=this.setting.height,P=L-I;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(y="portrait"),I=y==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,I>this.setting.maxWidth&&(I=this.setting.maxWidth),M=I/j,M>this.getBlockHeight()&&(M=this.getBlockHeight(),I=M*j),P=y==="portrait"?L-I/2-I:L-I):w<2*I&&this.app.getSettings().usePortrait&&(y="portrait",P=L-I/2-I),this.boundsRect={left:P,top:N-M/2,width:2*I,height:M,pageWidth:I},y}setShadowData(y,w,L,N){if(!this.app.getSettings().drawShadow)return;const j=100*this.getSettings().maxShadowOpacity;this.shadow={pos:y,angle:w,width:3*this.getRect().pageWidth/4*L/100,opacity:(100-L)*j/100/100,direction:N,progress:2*L}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(y){this.pageRect=y}setDirection(y){this.direction=y}setRightPage(y){y!==null&&y.setOrientation(1),this.rightPage=y}setLeftPage(y){y!==null&&y.setOrientation(0),this.leftPage=y}setBottomPage(y){y!==null&&y.setOrientation(this.direction===1?0:1),this.bottomPage=y}setFlippingPage(y){y!==null&&y.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=y}convertToBook(y){const w=this.getRect();return{x:y.x-w.left,y:y.y-w.top}}isSafari(){return this.safari}convertToPage(y,w){w||(w=this.direction);const L=this.getRect();return{x:w===0?y.x-L.left-L.width/2:L.width/2-y.x+L.left,y:y.y-L.top}}convertToGlobal(y,w){if(w||(w=this.direction),y==null)return null;const L=this.getRect();return{x:w===0?y.x+L.left+L.width/2:L.width/2-y.x+L.left,y:y.y+L.top}}convertRectToGlobal(y,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(y.topLeft,w),topRight:this.convertToGlobal(y.topRight,w),bottomLeft:this.convertToGlobal(y.bottomLeft,w),bottomRight:this.convertToGlobal(y.bottomRight,w)}}}class b extends v{constructor(y,w,L){super(y,w),this.canvas=L,this.ctx=L.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const y=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(y.left+y.pageWidth,y.top,y.width,y.height),this.ctx.clip())}drawBookShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=y.width/20;this.ctx.rect(y.left,y.top,y.width,y.height);const L={x:y.left+y.width/2-w/2,y:0};this.ctx.translate(L.x,L.y);const N=this.ctx.createLinearGradient(0,0,w,0);N.addColorStop(0,"rgba(0, 0, 0, 0)"),N.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),N.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),N.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),N.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),N.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=N,this.ctx.fillRect(0,0,w,2*y.height),this.ctx.restore()}drawOuterShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(y.left,y.top,y.width,y.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const L=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),L.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),L.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),L.addColorStop(0,"rgba(0, 0, 0, 0)"),L.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=L,this.ctx.fillRect(0,0,this.shadow.width,2*y.height),this.ctx.restore()}drawInnerShadow(){const y=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),L=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(L.topLeft.x,L.topLeft.y),this.ctx.lineTo(L.topRight.x,L.topRight.y),this.ctx.lineTo(L.bottomRight.x,L.bottomRight.y),this.ctx.lineTo(L.bottomLeft.x,L.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const N=3*this.shadow.width/4,j=this.ctx.createLinearGradient(0,0,N,0);this.shadow.direction===0?(this.ctx.translate(-N,-100),j.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),j.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),j.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),j.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=j,this.ctx.fillRect(0,0,N,2*y.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class S{constructor(y,w,L){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=j=>{if(this.checkTarget(j.target)){const I=this.getMousePos(j.clientX,j.clientY);this.app.startUserTouch(I),j.preventDefault()}},this.onTouchStart=j=>{if(this.checkTarget(j.target)&&j.changedTouches.length>0){const I=j.changedTouches[0],M=this.getMousePos(I.clientX,I.clientY);this.touchPoint={point:M,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(M)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||j.preventDefault()}},this.onMouseUp=j=>{const I=this.getMousePos(j.clientX,j.clientY);this.app.userStop(I)},this.onMouseMove=j=>{const I=this.getMousePos(j.clientX,j.clientY);this.app.userMove(I,!1)},this.onTouchMove=j=>{if(j.changedTouches.length>0){const I=j.changedTouches[0],M=this.getMousePos(I.clientX,I.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-M.x)>10||this.app.getState()!=="read")&&j.cancelable&&this.app.userMove(M,!0),this.app.getState()!=="read"&&j.preventDefault()):this.app.userMove(M,!0)}},this.onTouchEnd=j=>{if(j.changedTouches.length>0){const I=j.changedTouches[0],M=this.getMousePos(I.clientX,I.clientY);let P=!1;if(this.touchPoint!==null){const O=M.x-this.touchPoint.point.x,$=Math.abs(M.y-this.touchPoint.point.y);Math.abs(O)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(O>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),P=!0),this.touchPoint=null}this.app.userStop(M,P)}},this.parentElement=y,y.classList.add("stf__parent"),y.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=y.querySelector(".stf__wrapper"),this.app=w;const N=this.app.getSettings().usePortrait?1:2;y.style.minWidth=L.minWidth*N+"px",y.style.minHeight=L.minHeight+"px",L.size==="fixed"&&(y.style.minWidth=L.width*N+"px",y.style.minHeight=L.height+"px"),L.autoSize&&(y.style.width="100%",y.style.maxWidth=2*L.maxWidth+"px"),y.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=L.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(y){this.wrapper.classList.remove("--portrait","--landscape"),y==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(y,w){const L=this.distElement.getBoundingClientRect();return{x:y-L.left,y:w-L.top}}checkTarget(y){return!this.app.getSettings().clickEventForward||!["a","button"].includes(y.tagName.toLowerCase())}}class C extends S{constructor(y,w,L,N){super(y,w,L),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=y.querySelector(".stf__block"),this.items=N;for(const j of N)this.distElement.appendChild(j);this.setHandlers()}clear(){for(const y of this.items)this.parentElement.appendChild(y)}updateItems(y){this.removeHandlers(),this.distElement.innerHTML="";for(const w of y)this.distElement.appendChild(w);this.items=y,this.setHandlers()}update(){this.app.getRender().update()}}class R extends S{constructor(y,w,L){super(y,w,L),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=y.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const y=getComputedStyle(this.canvas),w=parseInt(y.getPropertyValue("width"),10),L=parseInt(y.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=L}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class F extends v{constructor(y,w,L){super(y,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=L,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const y=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let L=(100-w)*(2.5*y.pageWidth)/100+20;L>y.pageWidth&&(L=y.pageWidth);let N=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${L}px;
            height: ${y.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;N+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=N}drawHardOuterShadow(){const y=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*y.pageWidth)/100+20;w>y.pageWidth&&(w=y.pageWidth);let L=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${y.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${y.left+y.width/2}px;
            transform-origin: 0 0;
        `;L+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=L}drawInnerShadow(){const y=this.getRect(),w=3*this.shadow.width/4,L=this.getDirection()===0?w:0,N=this.getDirection()===0?"to left":"to right",j=this.convertToGlobal(this.shadow.pos),I=this.shadow.angle+3*Math.PI/2,M=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let P="polygon( ";for(const $ of M){let W=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};W=d.GetRotatedPoint(W,{x:L,y:100},I),P+=W.x+"px "+W.y+"px, "}P=P.slice(0,-2),P+=")";const O=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*y.height}px;
            background: linear-gradient(${N},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${L}px 100px;
            transform: translate3d(${j.x-L}px, ${j.y-100}px, 0) rotate(${I}rad);
            clip-path: ${P};
            -webkit-clip-path: ${P};
        `;this.innerShadow.style.cssText=O}drawOuterShadow(){const y=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),L=this.shadow.angle+3*Math.PI/2,N=this.getDirection()===1?this.shadow.width:0,j=this.getDirection()===0?"to right":"to left",I=[{x:0,y:0},{x:y.pageWidth,y:0},{x:y.pageWidth,y:y.height},{x:0,y:y.height}];let M="polygon( ";for(const O of I)if(O!==null){let $=this.getDirection()===1?{x:-O.x+this.shadow.pos.x,y:O.y-this.shadow.pos.y}:{x:O.x-this.shadow.pos.x,y:O.y-this.shadow.pos.y};$=d.GetRotatedPoint($,{x:N,y:100},L),M+=$.x+"px "+$.y+"px, "}M=M.slice(0,-2),M+=")";const P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*y.height}px;
            background: linear-gradient(${j}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${N}px 100px;
            transform: translate3d(${w.x-N}px, ${w.y-100}px, 0) rotate(${L}rad);
            clip-path: ${M};
            -webkit-clip-path: ${M};
        `;this.outerShadow.style.cssText=P}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const y=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(y))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const y of this.app.getPageCollection().getPages())y!==this.leftPage&&y!==this.rightPage&&y!==this.flippingPage&&y!==this.bottomPage&&(y.getElement().style.cssText="display: none"),y.getTemporaryCopy()!==this.flippingPage&&y.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class D{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(y){const w=this._default;if(Object.assign(w,y),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(A,y){y===void 0&&(y={});var w=y.insertAt;if(typeof document!="undefined"){var L=document.head||document.getElementsByTagName("head")[0],N=document.createElement("style");N.type="text/css",w==="top"&&L.firstChild?L.insertBefore(N,L.firstChild):L.appendChild(N),N.styleSheet?N.styleSheet.cssText=A:N.appendChild(document.createTextNode(A))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),s.PageFlip=class extends class{constructor(){this.events=new Map}on(A,y){return this.events.has(A)?this.events.get(A).push(y):this.events.set(A,[y]),this}off(A){this.events.delete(A)}trigger(A,y,w=null){if(this.events.has(A))for(const L of this.events.get(A))L({data:w,object:y})}}{constructor(A,y){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new D().getSettings(y),this.block=A}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(A){this.ui=new R(this.block,this,this.setting);const y=this.ui.getCanvas();this.render=new b(this,this.setting,y),this.flipController=new g(this.render,this),this.pages=new l(this,this.render,A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(A){this.ui=new C(this.block,this,this.setting,A),this.render=new F(this,this.setting,this.ui.getDistElement()),this.flipController=new g(this.render,this),this.pages=new h(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(A){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new l(this,this.render,A),this.pages.load(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}updateFromHtml(A){const y=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new h(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.ui.updateItems(A),this.render.reload(),this.pages.show(y),this.trigger("update",this,{page:y,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(A){this.pages.show(A)}flipNext(A="top"){this.flipController.flipNext(A)}flipPrev(A="top"){this.flipController.flipPrev(A)}flip(A,y="top"){this.flipController.flipToPage(A,y)}updateState(A){this.trigger("changeState",this,A)}updatePageIndex(A){this.trigger("flip",this,A)}updateOrientation(A){this.ui.setOrientationStyle(A),this.update(),this.trigger("changeOrientation",this,A)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(A){return this.pages.getPage(A)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(A){this.mousePosition=A,this.isUserTouch=!0,this.isUserMove=!1}userMove(A,y){this.isUserTouch||y||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,A)>5&&(this.isUserMove=!0,this.flipController.fold(A)):this.flipController.showCorner(A)}userStop(A,y=!1){this.isUserTouch&&(this.isUserTouch=!1,y||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(A)))}},Object.defineProperty(s,"__esModule",{value:!0})}))})(Iu,Iu.exports)),Iu.exports}var IG=AG();const RG="_viewerRoot_hj39c_5",PG="_stage_hj39c_17",LG="_host_hj39c_43",DG="_hud_hj39c_91",MG="_hBtn_hj39c_125",FG="_hText_hj39c_153",BG="_title_hj39c_167",$G="_sep_hj39c_169",OG="_spacer_hj39c_171",VG="_errorBox_hj39c_175",fr={viewerRoot:RG,stage:PG,host:LG,hud:DG,hBtn:MG,hText:FG,title:BG,sep:$G,spacer:OG,errorBox:VG},UG="/".endsWith("/")?"/":"//",oE=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${UG}${e}`.replace(/\/{2,}/g,"/")},zG=async t=>{const e=oE(`flipbooks/${t}/manifest.json`),s=await fetch(e,{cache:"no-cache"});if(!s.ok)throw new Error(`Manifest not found for slug "${t}"`);return s.json()},HG=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},GG=(t,e,s)=>Math.max(e,Math.min(s,t)),Ps={hostEl:null,pf:null,slug:null},oi={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},WG=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function qG(t){for(const e of t)e&&(oi.cache.has(e)||oi.inFlight.has(e)||oi.queue.includes(e)||oi.queue.push(e));lE()}function lE(){WG(()=>{for(;oi.inFlight.size<oi.maxParallel&&oi.queue.length>0;){const t=oi.queue.shift();oi.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{oi.inFlight.delete(t),oi.cache.add(t),lE()},e.src=t}})}const KG=({slug:t,initialPage:e=1,onReady:s,onPageChange:r,noSound:i=!0})=>{const a=E.useRef(null),l=E.useRef(null),[d,u]=E.useState(null),[h,m]=E.useState(null),g=E.useRef(),v=E.useRef(),b=E.useRef(e);E.useEffect(()=>{g.current=s},[s]),E.useEffect(()=>{v.current=r},[r]),E.useEffect(()=>{b.current=e},[e]);const S=E.useMemo(()=>oE(`flipbooks/${t}`),[t]),C=E.useCallback(A=>{var y,w;if((y=A.srcset)!=null&&y.length){const L=[...A.srcset].sort((j,I)=>j.width-I.width),N=(w=L.find(j=>j.width>=1600))!=null?w:L[L.length-1];return/^https?:\/\//i.test(N.src)||N.src.startsWith("/")?N.src:`${S}/${N.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(A.src)||A.src.startsWith("/")?A.src:`${S}/${A.src}`.replace(/\/{2,}/g,"/")},[S]);E.useEffect(()=>{let A=!0;return m(null),zG(t).then(y=>{A&&u(y)}).catch(y=>{A&&m(y.message||"Failed to load flipbook manifest.")}),()=>{A=!1}},[t]),E.useEffect(()=>{const A=l.current,y=a.current;if(!A||!y||!d||(Ps.hostEl||(Ps.hostEl=document.createElement("div"),Ps.hostEl.className=fr.host),Ps.hostEl.parentElement!==A&&A.appendChild(Ps.hostEl),!Ps.hostEl.isConnected))return;if(!(!Ps.pf||Ps.slug!==t)){try{Ps.pf.update()}catch($){}return}if(Ps.pf){try{Ps.pf.destroy()}catch($){}Ps.pf=null}const L={width:d.pageWidth,height:d.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},N=new IG.PageFlip(Ps.hostEl,L);Ps.pf=N,Ps.slug=t;const j=d.pages.map(C);N.loadFromImages(j);const I=$=>{const W=[],H=$+1,q=$+2;d.pages[H]&&W.push(C(d.pages[H])),d.pages[q]&&W.push(C(d.pages[q])),qG(W)},M=()=>{var W;const $=GG(b.current,1,d.pageCount)-1;N.turnToPage($,"hard"),setTimeout(()=>I($),220),(W=g.current)==null||W.call(g,N)};N.on("init",M),N.on("flip",$=>{var H;const W=$.data;(H=v.current)==null||H.call(v,W),setTimeout(()=>I(W),220)});const P=new ResizeObserver(()=>{var $;try{($=Ps.pf)==null||$.update()}catch(W){}});P.observe(y);const O=$=>{var W,H;$.key==="ArrowLeft"&&($.preventDefault(),(W=Ps.pf)==null||W.flipPrev()),$.key==="ArrowRight"&&($.preventDefault(),(H=Ps.pf)==null||H.flipNext())};return window.addEventListener("keydown",O,{passive:!1}),()=>{window.removeEventListener("keydown",O),P.disconnect()}},[d,C,t]);const R=()=>{var A;return(A=Ps.pf)==null?void 0:A.flipPrev()},F=()=>{var A;return(A=Ps.pf)==null?void 0:A.flipNext()},D=()=>{var w;const A=a.current;if(!A)return;const y=A;(w=y.requestFullscreen||y.webkitRequestFullscreen||y.msRequestFullscreen)==null||w.call(y)};return h?n.jsxs("div",{className:fr.errorBox,children:["Flipbook konnte nicht geladen werden: ",h]}):d?n.jsxs("div",{className:fr.viewerRoot,ref:a,"aria-label":d.title,children:[n.jsx("div",{className:fr.stage,ref:l}),n.jsxs("div",{className:fr.hud,children:[n.jsx("button",{className:fr.hBtn,onClick:R,"aria-label":"Zurck",children:""}),n.jsxs("div",{className:fr.hText,children:[n.jsx("span",{className:fr.title,children:d.title}),n.jsx("span",{className:fr.sep,children:""}),n.jsxs("span",{children:[d.pageCount," Seiten"]})]}),n.jsx("div",{className:fr.spacer}),HG()&&n.jsx("button",{className:fr.hBtn,onClick:D,"aria-label":"Fullscreen",children:""}),n.jsx("button",{className:fr.hBtn,onClick:F,"aria-label":"Weiter",children:""})]})]}):n.jsx("div",{className:fr.errorBox,children:"Lade Flipbook"})},QG=Z.memo(KG),XG={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},YG=()=>{const t="sf-history-book",[e,s]=E.useState(1),r=E.useRef(null),i=E.useMemo(()=>{var m;return(m=XG[e])!=null?m:[]},[e]),a=E.useCallback(m=>{r.current=m},[]),l=E.useCallback(m=>{s(m+1)},[]),d=E.useCallback(m=>{const g=r.current;if(g)try{g.turnToPage(Math.max(0,m-1))}catch(v){}},[]),u=E.useCallback(()=>{var m;return(m=r.current)==null?void 0:m.flipPrev()},[]),h=E.useCallback(()=>{var m;return(m=r.current)==null?void 0:m.flipNext()},[]);return n.jsx(Nt,{title:"SF History Book",children:n.jsxs("div",{className:Ya.pageWrap,children:[n.jsx("div",{className:Ya.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),n.jsxs("div",{className:Ya.viewerHost,children:[n.jsx(QG,{slug:t,initialPage:1,onReady:a,onPageChange:l,noSound:!0}),n.jsxs("div",{className:Ya.overlay,"aria-hidden":!0,children:[n.jsx("div",{className:Ya.dragZoneLeft,onClick:u}),n.jsx("div",{className:Ya.dragZoneRight,onClick:h}),i.map((m,g)=>{const v={"--t":`${m.t}%`,"--l":`${m.l}%`,"--w":`${m.w}%`,"--h":`${m.h}%`};return m.kind==="goto"?n.jsx("button",{className:Ya.inbookLink,style:v,"aria-label":m.label,onClick:()=>d(m.toPage)},g):n.jsx("a",{className:Ya.inbookLink,style:v,"aria-label":m.label,href:m.href,target:"_blank",rel:"noopener noreferrer"},g)})]})]})]})})},JG="_root_zvspc_1",ZG="_hero_zvspc_15",eW="_eyebrow_zvspc_47",tW="_heading_zvspc_63",sW="_lead_zvspc_77",nW="_freshnessHint_zvspc_91",rW="_hintLabel_zvspc_105",iW="_hintText_zvspc_121",aW="_grid_zvspc_135",oW="_card_zvspc_147",lW="_cardTitle_zvspc_163",cW="_paragraph_zvspc_177",dW="_list_zvspc_191",uW="_listItem_zvspc_207",Yn={root:JG,hero:ZG,eyebrow:eW,heading:tW,lead:sW,freshnessHint:nW,hintLabel:rW,hintText:iW,grid:aW,card:oW,cardTitle:lW,paragraph:cW,list:dW,listItem:uW},hW=()=>{const{t}=ud(),e=t("help.dataFreshness.body").split(`

`),s=[{key:"intro",title:t("help.sections.intro.title"),paragraphs:[t("help.sections.intro.body1"),t("help.sections.intro.body2")]},{key:"actions",title:t("help.sections.actions.title"),bullets:[t("help.sections.actions.items.toplists"),t("help.sections.actions.items.profiles"),t("help.sections.actions.items.guides"),t("help.sections.actions.items.tools")]},{key:"freshness",title:t("help.dataFreshness.title"),paragraphs:e},{key:"login",title:t("help.sections.login.title"),paragraphs:[t("help.sections.login.body1"),t("help.sections.login.body2"),t("help.sections.login.body3"),t("help.sections.login.body4")]},{key:"legal",title:t("help.sections.legal.title"),paragraphs:[t("help.sections.legal.body1"),t("help.sections.legal.body2"),t("help.sections.legal.body3")],bullets:[t("help.sections.legal.items.tos"),t("help.sections.legal.items.privacy"),t("help.sections.legal.items.imprint")]}];return n.jsx(Nt,{title:t("help.title"),subtitle:t("help.subtitle"),centerFramed:!0,padded:!0,children:n.jsxs("div",{className:Yn.root,children:[n.jsxs("section",{className:Yn.hero,children:[n.jsxs("div",{children:[n.jsx("p",{className:Yn.eyebrow,children:t("help.hero.eyebrow")}),n.jsx("h1",{className:Yn.heading,children:t("help.hero.heading")}),n.jsx("p",{className:Yn.lead,children:t("help.hero.lead")})]}),n.jsxs("div",{className:Yn.freshnessHint,children:[n.jsx("div",{className:Yn.hintLabel,children:t("help.hero.freshnessLabel")}),n.jsx("p",{className:Yn.hintText,children:t("help.hero.freshnessBody")})]})]}),n.jsx("div",{className:Yn.grid,children:s.map(r=>{var i;return n.jsxs("section",{className:Yn.card,children:[n.jsx("h2",{className:Yn.cardTitle,children:r.title}),(i=r.paragraphs)==null?void 0:i.map((a,l)=>n.jsx("p",{className:Yn.paragraph,children:a},`${r.key}-p-${l}`)),r.bullets&&n.jsx("ul",{className:Yn.list,children:r.bullets.map(a=>n.jsx("li",{className:Yn.listItem,children:a},`${r.key}-${a}`))})]},r.key)})})]})})},cE=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(cE.map(t=>[t.id,t]));const dE="TL_FILTERS_V2",tr={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function pW(){var t;try{const e=localStorage.getItem(dE);if(!e)return tr;const s=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,60,90].includes(s.days)?s.days:tr.days,i=["cards","buttons","table"].includes(s.listView)?s.listView:tr.listView,a=["hud","sheet"].includes(s.filterMode)?s.filterMode:tr.filterMode,l=typeof s.quickFav=="boolean"?s.quickFav:!!s.favoritesOnly,d=typeof s.quickActive=="boolean"?s.quickActive:!!s.activeOnly;return{...tr,...s,servers:Array.isArray(s.servers)?s.servers:[],classes:Array.isArray(s.classes)?s.classes:[],favoritesOnly:typeof s.favoritesOnly=="boolean"?s.favoritesOnly:l,activeOnly:typeof s.activeOnly=="boolean"?s.activeOnly:d,quickFav:l,quickActive:d,days:r,listView:i,filterMode:a,bottomFilterOpen:!!s.bottomFilterOpen,serverSheetOpen:!!s.serverSheetOpen,sortBy:typeof s.sortBy=="string"?s.sortBy:tr.sortBy,searchText:typeof s.searchText=="string"?s.searchText:tr.searchText}}catch(e){return tr}}function mW(t){try{localStorage.setItem(dE,JSON.stringify(t))}catch(e){}}const uE=E.createContext(null),zS=t=>Array.from(new Set(t));function bm(t,e){return typeof t=="function"?t(e):t}function fW({children:t}){const[e,s]=E.useState(()=>pW());E.useEffect(()=>{mW(e)},[e]);const r=j=>s(I=>({...I,servers:zS(bm(j,I.servers))})),i=j=>s(I=>{const M=new Set(I.servers);return M.has(j)?M.delete(j):M.add(j),{...I,servers:Array.from(M)}}),a=()=>s(j=>({...j,servers:[]})),l=j=>s(I=>({...I,classes:zS(bm(j,I.classes))})),d=j=>s(I=>{const M=new Set(I.classes);return M.has(j)?M.delete(j):M.add(j),{...I,classes:Array.from(M)}}),u=()=>s(j=>({...j,classes:[]})),h=j=>s(I=>({...I,days:j})),m=j=>h(j),g=j=>s(I=>({...I,sortBy:j||"level"})),v=j=>s(I=>({...I,favoritesOnly:!!j,quickFav:!!j})),b=j=>s(I=>({...I,activeOnly:!!j,quickActive:!!j})),S=j=>s(I=>({...I,searchText:j})),C=j=>s(I=>{const M=bm(j,I.quickFav);return{...I,quickFav:M,favoritesOnly:M}}),R=j=>s(I=>{const M=bm(j,I.quickActive);return{...I,quickActive:M,activeOnly:M}}),F=j=>s(I=>({...I,filterMode:j})),D=j=>s(I=>({...I,listView:j})),A=j=>s(I=>({...I,bottomFilterOpen:!!j})),y=j=>s(I=>({...I,serverSheetOpen:!!j})),w=()=>s(tr),L=()=>w(),N=E.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:a,setClasses:l,toggleClass:d,clearClasses:u,setDays:h,setRange:m,setSortBy:g,setFavoritesOnly:v,setActiveOnly:b,setSearchText:S,setQuickFav:C,setQuickActive:R,setFilterMode:F,setListView:D,setBottomFilterOpen:A,setServerSheetOpen:y,resetFilters:w,resetAll:L}),[e]);return n.jsx(uE.Provider,{value:N,children:t})}function Oh(){const t=E.useContext(uE);return t||{...tr,range:tr.days,searchText:tr.searchText,quickFav:tr.quickFav,quickActive:tr.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const gW="_hudWrap_107o7_9",xW="_hudBtn_107o7_11",vW="_hudSubBtn_107o7_15",yW="_iconRow_107o7_19",bW="_segmented_107o7_21",_W="_sortLabel_107o7_27",wW="_sortSelect_107o7_29",jW="_chip_107o7_31",SW="_isActive_107o7_33",Jn={hudWrap:gW,hudBtn:xW,hudSubBtn:vW,iconRow:yW,segmented:bW,sortLabel:_W,sortSelect:wW,chip:jW,isActive:SW};function NW({active:t=!1,title:e,iconUrl:s,fallback:r="",size:i=40,onClick:a}){const l=Math.round(i*.7),d=Z.useMemo(()=>{const F=[],D=g5(s,l*2,l*2,"contain");D&&F.push(D);const A=Vr(s,l*2);return A&&A!==D&&F.push(A),!F.length&&s&&F.push(s),F},[s,l]),[u,h]=Z.useState(0),[m,g]=Z.useState(!1),[v,b]=Z.useState(!1);Z.useEffect(()=>h(0),[d]);const S=d[u]||"",C={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:v||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};m&&(C.background="rgba(255,255,255,.04)"),t&&(C.outline="2px solid #5C8BC6");const R={display:"block",width:l,height:l,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return n.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:a,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onFocus:()=>b(!0),onBlur:()=>b(!1),style:C,children:S?n.jsx("img",{src:S,alt:e||"class",width:l,height:l,loading:"lazy",style:R,onError:()=>{h(F=>F+1<d.length?F+1:F)}}):n.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const kW=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function TW(){const{servers:t,classes:e,setClasses:s,range:r,setRange:i,sortBy:a,setSortBy:l,quickFav:d,setQuickFav:u,quickActive:h,setQuickActive:m,filterMode:g,setBottomFilterOpen:v,serverSheetOpen:b,setServerSheetOpen:S,resetAll:C}=Oh();return n.jsxs("div",{className:Jn.hudWrap,children:[n.jsxs("button",{type:"button",className:Jn.hudBtn,onClick:R=>{R.preventDefault(),R.stopPropagation(),S(!0)},"aria-haspopup":"dialog","aria-expanded":b||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),n.jsxs("div",{className:Jn.iconRow,children:[Ws.map(R=>n.jsx(NW,{active:e.includes(R.key),title:R.label,iconUrl:R.iconUrl,fallback:R.fallback,size:40,onClick:()=>s(F=>F.includes(R.key)?F.filter(D=>D!==R.key):[...F,R.key])},R.key)),n.jsx("button",{type:"button",className:Jn.hudSubBtn,onClick:()=>s(Ws.map(R=>R.key)),children:"All"}),n.jsx("button",{type:"button",className:Jn.hudSubBtn,onClick:()=>s([]),children:"None"})]}),n.jsx("div",{className:Jn.segmented,role:"group","aria-label":"Range",children:kW.map(R=>n.jsx("button",{type:"button","aria-pressed":r===R.value,onClick:()=>i(R.value),children:R.label},R.label))}),n.jsx("label",{className:Jn.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),n.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:a,onChange:R=>l(R.target.value),className:Jn.sortSelect,"aria-label":"Sort",children:[n.jsx("option",{value:"level",children:"Level"}),n.jsx("option",{value:"scrapbook",children:"Scrapbook"}),n.jsx("option",{value:"activity",children:"Activity"}),n.jsx("option",{value:"lastScan",children:"Last scan"})]}),n.jsx("button",{type:"button",className:`${Jn.chip} ${d?Jn.isActive:""}`,onClick:()=>u(R=>!R),children:" Favorites"}),n.jsx("button",{type:"button",className:`${Jn.chip} ${h?Jn.isActive:""}`,onClick:()=>m(R=>!R),children:" Active"}),n.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[n.jsx("button",{type:"button",className:Jn.hudSubBtn,onClick:C,children:"Reset"}),g==="sheet"&&n.jsx("button",{type:"button",className:Jn.hudBtn,onClick:R=>{R.preventDefault(),R.stopPropagation(),v(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const en={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function CW({open:t,onClose:e,mode:s="modal",serversByRegion:r,selected:i,onToggle:a,onSelectAllInRegion:l,onClearAll:d}){const[u,h]=E.useState(""),m=E.useRef(null),[g,v]=E.useState(null),[b,S]=E.useState(!1);E.useEffect(()=>{if(!t)return;const A=y=>{y.key==="Escape"&&e()};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[t,e]),E.useEffect(()=>{if(t&&m.current){const A=m.current.querySelector("#sheet-serversearch");A==null||A.focus()}},[t]);const C=E.useMemo(()=>["EU","US","INT","Fusion"].every(y=>{var w;return!((w=r==null?void 0:r[y])!=null&&w.length)}),[r]);E.useEffect(()=>{if(!t||!C)return;let A=!0;return(async()=>{try{S(!0);const y=await Vn(Xt(Ct,"stats_public","toplists_bundle_v1"));if(!A)return;const w=y.data()||{},L=Array.isArray(w.servers)?w.servers:JSON.parse(w.servers||"[]");v(EW(L))}catch(y){v(null)}finally{A&&S(!1)}})(),()=>{A=!1}},[t,C]);const R=E.useMemo(()=>C?g!=null?g:{EU:[],US:[],INT:[],Fusion:[]}:r,[C,r,g]),F=E.useMemo(()=>Object.keys(R),[R]),D=A=>{const y=u.trim().toLowerCase();return y?A.toLowerCase().includes(y):!0};return t?n.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:IW,onClick:A=>{A.target===A.currentTarget&&e()},children:n.jsxs("div",{ref:m,style:s==="modal"?hE:RW,className:"sf-server-sheet",children:[n.jsxs("div",{style:PW,children:[n.jsx("h2",{id:"server-dialog-title",style:LW,children:"Select servers"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{type:"button",onClick:d,style:HS,children:"Clear"}),n.jsx("button",{type:"button",onClick:e,style:VW,children:"Done"})]})]}),n.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[n.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),n.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:u,onChange:A=>h(A.target.value),"aria-label":"Search servers",autoComplete:"off",style:MW})]}),n.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:F.map(A=>{const y=(R[A]||[]).filter(D);return n.jsxs("section",{"aria-labelledby":`region-${A}`,children:[n.jsxs("div",{style:FW,children:[n.jsxs("h3",{id:`region-${A}`,style:DW,children:[A," ",b&&C?n.jsx("span",{style:{marginLeft:6,fontSize:12,color:en.text2},children:"(loading)"}):null]}),n.jsx("div",{style:{display:"flex",gap:8},children:n.jsx("button",{type:"button",style:HS,onClick:()=>{l?l(A):y.filter(L=>!i.includes(L)).forEach(a)},children:"Select all"})})]}),n.jsxs("div",{style:BW,children:[y.map(w=>{const L=i.includes(w);return n.jsx("button",{type:"button",onClick:()=>a(w),"aria-pressed":L,title:w,style:{...$W,...L?OW:null},children:w},w)}),y.length===0&&n.jsx("div",{style:{color:en.text2,fontSize:13,padding:"4px 2px"},children:b&&C?"Loading":"No servers found"})]})]},A)})})]})}):null}function EW(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const s of t){const r=s.toUpperCase();r.startsWith("EU")?e.EU.push(s):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(s):r.startsWith("F")?e.Fusion.push(s):e.INT.push(s)}return Object.keys(e).forEach(s=>e[s].sort(AW)),e}function AW(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const IW={position:"fixed",inset:0,background:en.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},hE={width:"min(900px, 100%)",background:en.tile,border:`1px solid ${en.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:en.text},RW={...hE,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},PW={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},LW={fontSize:18,margin:0},DW={fontSize:14,margin:0,color:en.text2},MW={width:"100%",background:en.input,color:en.text,border:`1px solid ${en.line}`,borderRadius:12,padding:"10px 12px"},FW={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},BW={display:"flex",flexWrap:"wrap",gap:8},$W={background:en.chip,border:`1px solid ${en.line}`,padding:"6px 10px",borderRadius:999,color:en.text},OW={outline:`2px solid ${en.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},VW={background:"#25456B",color:en.text,border:`1px solid ${en.accent}`,borderRadius:10,padding:"8px 12px"},HS={background:"transparent",color:en.text,border:`1px solid ${en.line}`,borderRadius:10,padding:"8px 12px"},UW=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=UW,document.head.appendChild(e)}}const mn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function zW({open:t,onClose:e}){const{searchText:s,setSearchText:r,range:i,setRange:a,sortBy:l,setSortBy:d,quickFav:u,setQuickFav:h,quickActive:m,setQuickActive:g}=Oh(),v=E.useRef(null);if(E.useEffect(()=>{if(!t)return;const S=C=>{C.key==="Escape"&&e()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[t,e]),E.useEffect(()=>{if(t&&v.current){const S=v.current.querySelector("#sheet-search");S==null||S.focus()}},[t]),!t)return null;const b=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return n.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:HW,onClick:S=>{S.target===S.currentTarget&&e()},children:n.jsxs("div",{ref:v,style:GW,children:[n.jsxs("div",{style:WW,children:[n.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:mn.text},children:"Filters"}),n.jsx("button",{type:"button",onClick:e,style:KW,children:"Done"})]}),n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),n.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:s,onChange:S=>r(S.target.value),"aria-label":"Search",autoComplete:"off",style:pE})]}),n.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[n.jsx("span",{style:{color:mn.text2,fontSize:12},children:"Range"}),n.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:b.map(S=>n.jsx("button",{type:"button","aria-pressed":i===S.value,onClick:()=>a(S.value),style:{...Gv,...i===S.value?Wv:null},children:S.label},S.label))})]}),n.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[n.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:mn.text2,fontSize:12},children:"Sort"}),n.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:l,onChange:S=>d(S.target.value),"aria-label":"Sort",autoComplete:"off",style:qW,children:[n.jsx("option",{value:"sum",children:"Base Sum"}),n.jsx("option",{value:"main",children:"Main Base Stat"}),n.jsx("option",{value:"constitution",children:"Constitution"}),n.jsx("option",{value:"level",children:"Level"}),n.jsx("option",{value:"delta",children:" Rank"}),n.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[n.jsx("button",{type:"button",onClick:()=>h(S=>!S),"aria-pressed":u,style:{...Gv,...u?Wv:null},children:" Favorites"}),n.jsx("button",{type:"button",onClick:()=>g(S=>!S),"aria-pressed":m,style:{...Gv,...m?Wv:null},children:" Active"})]})]})})}const HW={position:"fixed",inset:0,background:mn.backdrop,zIndex:60,display:"grid",alignItems:"end"},GW={background:mn.tile,borderTop:`1px solid ${mn.line}`,borderLeft:`1px solid ${mn.line}`,borderRight:`1px solid ${mn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:mn.text,maxHeight:"80vh",overflow:"auto"},WW={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},pE={width:"100%",background:mn.input,color:mn.text,border:`1px solid ${mn.line}`,borderRadius:12,padding:"10px 12px"},qW={...pE,appearance:"none"},Gv={background:"#14273E",border:`1px solid ${mn.line}`,padding:"6px 10px",borderRadius:999,color:mn.text},Wv={outline:`2px solid ${mn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},KW={background:"#25456B",color:mn.text,border:`1px solid ${mn.accent}`,borderRadius:10,padding:"8px 12px"},QW=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=QW,document.head.appendChild(e)}}function XW(){var i;const t=Oh(),e=(i=t==null?void 0:t.listView)!=null?i:"table",s=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:s;return e==="table"?null:n.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[n.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:n.jsxs("div",{children:["Showing ",r.length," / ",s.length]})}),e==="cards"&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(a=>{var l,d,u,h,m,g,v;return n.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[n.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(l=a.name)!=null?l:""}),n.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=a.server)!=null?d:""})]}),n.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",n.jsx("span",{style:{textTransform:"uppercase"},children:(u=a.class)!=null?u:""}),"  Lv ",(h=a.level)!=null?h:"","  Scrap ",(m=a.scrapbook)!=null?m:""]}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[n.jsx(qv,{children:a.active?"Active":"Idle"}),a.favorite&&n.jsx(qv,{children:" Fav"}),n.jsx(qv,{children:`Scan ${(g=a.lastScanDays)!=null?g:"?"}d`})]})]},(v=a.id)!=null?v:`${a.name}-${a.server}`)})}),e==="buttons"&&n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(a=>{var l,d,u,h;return n.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[a.favorite&&" ",(l=a.name)!=null?l:"",n.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=a.server)!=null?d:"","  Lv ",(u=a.level)!=null?u:"",")"]})]},(h=a.id)!=null?h:`${a.name}-${a.server}`)})})]})}function qv({children:t}){return n.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const mE=E.createContext(null),GS=(t,e)=>t.length===e.length&&t.every((s,r)=>s===e[r]);function YW(t,e){return t.timeRange===e.timeRange&&GS(t.servers,e.servers)&&GS(t.classes,e.classes)}function JW(t,e){return t.field===e.field&&t.dir===e.dir}function ZW({children:t}){const[e,s]=E.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=E.useState({field:"Level",dir:"desc"}),[a,l]=E.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=E.useCallback(g=>{s(v=>{const b=typeof g=="function"?g(v):{...v,...g};return YW(v,b)?v:b})},[]),u=E.useCallback(g=>{i(v=>{const b=typeof g=="function"?g(v):g;return JW(v,b)?v:b})},[]),h=E.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);E.useEffect(()=>{let g=!1;return g||l(v=>v.loading||v.error||v.data.length?{...v,loading:!1,error:null}:v),()=>{g=!0}},[h]);const m=E.useMemo(()=>({state:a,filters:e,sort:r,setFilters:d,setSort:u}),[a,e,r,d,u]);return n.jsx(mE.Provider,{value:m,children:t})}function eq(){const t=E.useContext(mE);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}const WS=(()=>{const t={EU:[],US:[],INT:[],Fusion:[]},e=(s,r)=>{t[s].includes(r)||t[s].push(r)};return cE.forEach(s=>{var a;const r=(a=s.id)!=null?a:"",i=r.toUpperCase();i.startsWith("EU")?e("EU",r):i.startsWith("US")||i.startsWith("NA")||i.startsWith("AM")?e("US",r):i.startsWith("F")?e("Fusion",r):e("INT",r)}),Object.keys(t).forEach(s=>{t[s].sort((r,i)=>r.localeCompare(i,void 0,{numeric:!0,sensitivity:"base"}))}),t})();function tq(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function sq(){const t=Oh(),{filterMode:e,setFilterMode:s,listView:r,setListView:i,bottomFilterOpen:a,setBottomFilterOpen:l,serverSheetOpen:d,setServerSheetOpen:u,servers:h,setServers:m,classes:g,range:v,sortBy:b}=t;return n.jsxs(n.Fragment,{children:[n.jsxs(Nt,{mode:"card",title:"Top Lists",actions:n.jsx(rq,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?n.jsx(TW,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[n.jsx(XW,{}),r==="table"&&n.jsx(ZW,{children:n.jsx(nq,{servers:h!=null?h:[],classes:g!=null?g:[],range:v!=null?v:"all",sortKey:b!=null?b:"level"})})]}),n.jsx(CW,{mode:"modal",open:d,onClose:()=>u(!1),serversByRegion:WS,selected:h,onToggle:S=>m(C=>C.includes(S)?C.filter(R=>R!==S):[...C,S]),onSelectAllInRegion:S=>m(WS[S]),onClearAll:()=>m([])}),n.jsx(zW,{open:e==="sheet"&&a,onClose:()=>l(!1)})]})}function nq({servers:t,classes:e,range:s,sortKey:r}){const{state:i,setFilters:a,setSort:l}=eq(),{loading:d,error:u,data:h,lastUpdated:m}=i;E.useEffect(()=>{const v=s==="all"?"all":s===60?"30d":`${s}d`;a({servers:t,classes:e,timeRange:v})},[t,e,s,a]),E.useEffect(()=>{const v=tq(r);l(v)},[r,l]);const g=v=>v==null?"":new Intl.NumberFormat("en").format(v);return n.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[n.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[n.jsxs("div",{children:[d?"Loading":u?"Error":"Ready","  ",h.length," rows"]}),n.jsx("div",{children:m?`Updated: ${new Date(m*1e3).toLocaleString()}`:null})]}),u&&n.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),n.jsx("div",{style:{wordBreak:"break-all"},children:u}),n.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{padding:"8px 6px"},children:"#"}),n.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),n.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),n.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),n.jsxs("tbody",{children:[h.map((v,b)=>{var S,C,R;return n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("td",{style:{padding:"8px 6px"},children:v["#"]}),n.jsx("td",{style:{padding:"8px 6px"},children:v[" Rank"]}),n.jsx("td",{style:{padding:"8px 6px"},children:v.Server}),n.jsx("td",{style:{padding:"8px 6px"},children:v.Name}),n.jsx("td",{style:{padding:"8px 6px"},children:v.Class}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Level)}),n.jsx("td",{style:{padding:"8px 6px"},children:(S=v.Guild)!=null?S:""}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Main)}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Con)}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v["Sum Base Stats"])}),n.jsx("td",{style:{padding:"8px 6px"},children:(C=v.Ratio)!=null?C:""}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Mine)}),n.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:g(v.Treasury)}),n.jsx("td",{style:{padding:"8px 6px"},children:(R=v["Last Scan"])!=null?R:""}),n.jsx("td",{style:{padding:"8px 6px"},children:v["Stats+"]})]},`${v.Name}-${v.Server}-${b}`)}),d&&h.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!u&&h.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function rq(){const{filterMode:t,setFilterMode:e,listView:s,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:a}=Oh();return n.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[n.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[n.jsx(qS,{to:"/toplists/players",label:"Players"}),n.jsx(qS,{to:"/toplists/guilds",label:"Guilds"})]}),n.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),n.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[n.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),n.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),n.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),n.jsx("button",{onClick:()=>a(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),n.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[n.jsx("button",{"aria-pressed":s==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),n.jsx("button",{"aria-pressed":s==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),n.jsx("button",{"aria-pressed":s==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:s==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function qS({to:t,label:e}){return n.jsx(cs,{to:t,className:({isActive:s})=>["rounded-lg px-3 py-1.5 text-sm text-white border",s?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const iq=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function aq(){return n.jsxs("div",{style:{display:"grid",gap:12},children:[n.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),iq.map(t=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[n.jsxs("div",{children:["#",t.rank]}),n.jsxs("div",{children:[t.name,"  ",t.server]}),n.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),n.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function oq(t="players"){const e=Or(),{search:s,pathname:r}=rr();return[new URLSearchParams(s).get("tab")||t,d=>{const u=new URLSearchParams(s);u.set("tab",d),e(`${r}?${u.toString()}`,{replace:!1})}]}function lq(){const[t]=oq("players");return n.jsx(fW,{children:t==="players"?n.jsx(sq,{}):n.jsx(aq,{})})}function cq(){return n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Players  Browse"})})}function dq(){return n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Players  Rankings"})})}function uq(){return n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Players  Stats"})})}const _m={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},hq={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},Zn=(t,e)=>Math.min(Math.max(Math.round(t),0),e),pq=t=>{var s,r,i,a;const e={..._m,...t||{}};return{...e,class:Zn(e.class,15),race:Zn(e.race,8),mouth:Zn(e.mouth,30),hair:Zn(e.hair,40),hairColor:Zn(e.hairColor,12),horn:Zn(e.horn,10),hornColor:Zn(e.hornColor,10),brows:Zn(e.brows,10),eyes:Zn(e.eyes,20),beard:Zn(e.beard,15),nose:Zn(e.nose,10),ears:Zn(e.ears,10),extra:Zn(e.extra,20),special:Zn(e.special,200),showBorder:(s=e.showBorder)!=null?s:!0,background:(r=e.background)!=null?r:_m.background,frame:(i=e.frame)!=null?i:_m.frame,mirrorHorizontal:(a=e.mirrorHorizontal)!=null?a:_m.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function fE({config:t,label:e}){const s=E.useRef(null),r=E.useRef(null),[i,a]=E.useState("idle"),l=E.useMemo(()=>({...pq(t),background:"",frame:"",showBorder:!1}),[JSON.stringify(t||{})]);E.useEffect(()=>{let u=!1;a("loading");try{const h=s.current;if(!h){a("error");return}const m=new fk(h,l);r.current=m,a("ready")}catch(h){console.error("[PortraitMaker] failed to initialize",h),u||a("error")}return()=>{var h,m;u=!0;try{(m=(h=r.current)==null?void 0:h.dispose)==null||m.call(h)}catch(g){}r.current=null}},[l]);const d=i!=="ready"?hq[i]:null;return n.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[n.jsx("div",{className:"avatar-portrait__canvas-shell",children:n.jsx("canvas",{ref:s,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`})}),d&&n.jsx("span",{className:"avatar-portrait__status",children:d})]})}function mq({label:t,size:e=40}){const s=(t||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return n.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:s||"?"})}function fq({className:t,label:e,size:s=40}){const r=d=>d.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||""),a=Ws.find(d=>r(d.label)===i)||Ws.find(d=>r(d.label).startsWith(i)||i.startsWith(r(d.label))),l=a?Vr(a.iconUrl,s*2):null;return l?n.jsx("div",{className:"player-profile__class-avatar",style:{width:s,height:s},children:n.jsx("img",{src:l,alt:"",draggable:!1})}):n.jsx(mq,{label:e,size:s})}function gq({data:t,loading:e,actionFeedback:s,onAction:r}){return n.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[n.jsx(fE,{config:t.portrait,label:t.playerName}),n.jsxs("div",{className:"player-profile__hero-body",children:[n.jsxs("div",{className:"player-profile__identity",children:[n.jsx(fq,{className:t.className,label:t.playerName,size:48}),n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__player-name",children:t.playerName}),n.jsxs("div",{className:"player-profile__player-meta",children:[n.jsx("span",{children:t.className||"Klasse ?"}),t.guild&&n.jsxs("span",{children:[" ",t.guild]}),t.server&&n.jsxs("span",{children:[" ",t.server]})]}),t.lastScanLabel&&n.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",t.lastScanLabel]}),t.status&&n.jsx("div",{className:`player-profile__status player-profile__status--${t.status}`,children:t.status==="online"?"aktiv":"inaktiv"})]})]}),n.jsx("div",{className:"player-profile__hero-metrics",children:t.metrics.map(i=>n.jsxs("div",{className:"player-profile__hero-metric",children:[n.jsx("div",{className:"player-profile__hero-metric-label",children:i.label}),n.jsx("div",{className:"player-profile__hero-metric-value",children:i.value}),i.hint&&n.jsx("div",{className:"player-profile__hero-metric-hint",children:i.hint})]},i.label))}),t.badges.length>0&&n.jsx("div",{className:"player-profile__hero-badges",children:t.badges.map(i=>n.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${i.tone||"neutral"}`,title:i.hint,children:[i.icon&&n.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:i.icon}),n.jsx("span",{children:i.label}),n.jsx("strong",{children:i.value})]},i.label))}),t.actions.length>0&&n.jsxs("div",{className:"player-profile__hero-actions",children:[t.actions.map(i=>n.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||i.disabled,title:i.title,onClick:()=>r==null?void 0:r(i.key),children:i.label},i.key)),s&&n.jsx("p",{className:"player-profile__hero-feedback",children:s})]})]})]})}function xq({data:t}){return n.jsxs("div",{className:"player-profile__tab-panel",children:[n.jsx("div",{className:"player-profile__grid",children:t.summary.map(e=>n.jsxs("article",{className:"player-profile__card",children:[n.jsx("div",{className:"player-profile__card-label",children:e.label}),n.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&n.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),n.jsxs("div",{className:"player-profile__section",children:[n.jsxs("header",{className:"player-profile__section-head",children:[n.jsx("h3",{children:"Attribute"}),n.jsx("span",{children:"Basis vs. Gesamt"})]}),n.jsx("div",{className:"player-profile__attr-grid",children:t.attributes.map(e=>n.jsxs("div",{className:"player-profile__attr-card",children:[n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__attr-label",children:e.label}),n.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&n.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),n.jsxs("div",{className:"player-profile__split",children:[n.jsxs("div",{className:"player-profile__section",children:[n.jsx("header",{className:"player-profile__section-head",children:n.jsx("h3",{children:"Resistenzen"})}),n.jsx("ul",{className:"player-profile__list",children:t.resistances.map(e=>n.jsxs("li",{children:[n.jsx("span",{children:e.label}),n.jsx("strong",{children:e.value})]},e.label))})]}),n.jsxs("div",{className:"player-profile__section",children:[n.jsx("header",{className:"player-profile__section-head",children:n.jsx("h3",{children:"konomie"})}),n.jsx("ul",{className:"player-profile__list",children:t.resources.map(e=>n.jsxs("li",{children:[n.jsx("span",{children:e.label}),n.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function vq({items:t}){return n.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>n.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[n.jsxs("div",{className:"player-profile__progress-head",children:[n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__card-label",children:e.label}),n.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),n.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),n.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:n.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&n.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function yq({series:t}){return n.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>{var s;return n.jsxs("article",{className:"player-profile__trend-card",children:[n.jsxs("div",{className:"player-profile__trend-head",children:[n.jsxs("div",{children:[n.jsx("div",{className:"player-profile__card-label",children:e.label}),e.subLabel&&n.jsx("div",{className:"player-profile__card-hint",children:e.subLabel})]}),n.jsxs("div",{className:"player-profile__card-value",children:[(s=e.points[e.points.length-1])==null?void 0:s.toLocaleString("de-DE"),e.unit||""]})]}),n.jsx(wq,{points:e.points})]},e.label)})})}function bq({rows:t}){return n.jsxs("div",{className:"player-profile__tab-panel",children:[n.jsx("div",{className:"player-profile__section-head",children:n.jsx("h3",{children:"Serververgleich"})}),n.jsx("div",{className:"player-profile__comparison-wrapper",children:n.jsxs("table",{className:"player-profile__comparison",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Kategorie"}),n.jsx("th",{children:"Spieler"}),n.jsx("th",{children:"Cluster"}),n.jsx("th",{children:""})]})}),n.jsx("tbody",{children:t.map(e=>n.jsxs("tr",{children:[n.jsx("td",{children:e.label}),n.jsx("td",{children:e.playerValue}),n.jsx("td",{children:e.benchmark}),n.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function _q({entries:t}){return n.jsx("div",{className:"player-profile__tab-panel",children:n.jsx("ol",{className:"player-profile__timeline",children:t.map(e=>n.jsxs("li",{children:[n.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),n.jsxs("div",{className:"player-profile__timeline-card",children:[n.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),n.jsx("div",{className:"player-profile__timeline-title",children:e.title}),n.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}function wq({points:t}){if(!t.length)return n.jsx("div",{className:"player-profile__trend-chart player-profile__trend-chart--empty"});const e=Math.min(...t),s=Math.max(...t),r=Math.max(1,s-e||1),a=t.map((l,d)=>{const u=t.length>1?d/(t.length-1)*100:0,h=100-(l-e)/r*100;return`${d===0?"M":"L"}${u},${h}`}).join(" ");return n.jsx("div",{className:"player-profile__trend-chart",children:n.jsx("svg",{viewBox:"0 0 100 100",role:"img","aria-label":"Verlauf",children:n.jsx("path",{d:a})})})}const jq=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Kv(){const t=Gf(),e=t.id||t.pid||t.playerId||t.player||"",s=Or(),[r,i]=E.useState(!0),[a,l]=E.useState(null),[d,u]=E.useState(null),[h,m]=E.useState("Statistiken"),[g,v]=E.useState(null),b=E.useRef(null);E.useEffect(()=>{let A=!1;async function y(){var w,L,N,j,I,M,P,O,$,W,H,q,K,G,te;i(!0),l(null);try{const ne=(e||"").trim();if(!ne)throw new Error("Kein Spieler gewhlt.");const U=Xt(Ct,`players/${ne}/latest/latest`),J=await Vn(U);if(!J.exists())throw new Error("Spieler nicht gefunden.");const ce=J.data(),ee=typeof ce.values=="object"&&ce.values?ce.values:{},fe=(L=Ru((w=ce.level)!=null?w:ee==null?void 0:ee.Level))!=null?L:null,Ce=((j=(N=ce.className)!=null?N:ee==null?void 0:ee.Class)!=null?j:null)||null,ge=((M=(I=ce.guildName)!=null?I:ee==null?void 0:ee.Guild)!=null?M:null)||null,ke=(O=(P=ce.name)!=null?P:ee==null?void 0:ee.Name)!=null?O:ne,Se=(W=($=ce.server)!=null?$:ee==null?void 0:ee.Server)!=null?W:null,ue=(q=Ru((H=ce.totalStats)!=null?H:ee==null?void 0:ee["Total Stats"]))!=null?q:null,De=(te=Ru((G=(K=ee==null?void 0:ee.Album)!=null?K:ee==null?void 0:ee["Album %"])!=null?G:ee==null?void 0:ee.AlbumPct))!=null?te:null,Ee=Sq(Ru(ce.timestamp)),tt=typeof ce.portrait=="object"?ce.portrait:typeof ce.portraitOptions=="object"?ce.portraitOptions:typeof(ee==null?void 0:ee.portraitOptions)=="object"?ee.portraitOptions:void 0;A||u({id:ne,name:ke,className:Ce,level:fe,guild:ge,server:Se,scrapbookPct:De,totalStats:ue,lastScanDays:Ee,values:ee,portraitConfig:tt})}catch(ne){A||(u(null),l((ne==null?void 0:ne.message)||"Unbekannter Fehler beim Laden."))}finally{A||i(!1)}}return y(),()=>{A=!0}},[e]),E.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const S=E.useMemo(()=>d?Cq(d):null,[d]),C=A=>{v(A),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>v(null),3500)},R=async A=>{if(d){if(A==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const y=`${window.location.origin}/players/profile/${d.id}`;try{await navigator.clipboard.writeText(y),C("Profil-Link wurde kopiert.")}catch(w){C("Konnte Link nicht kopieren.")}}return}if(A==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:d.name,text:`Shakes & Fidget Charakter ${d.name}`,url:window.location.href}),C("Profil geteilt.")}catch(y){C("Teilen abgebrochen.")}return}if(A==="guild"&&d.guild){s(`/guilds?search=${encodeURIComponent(d.guild)}`);return}if(A==="rescan"){C("Rescan-Queue folgt  aktuell noch Platzhalter.");return}}},F=()=>{if(!S)return null;switch(h){case"Statistiken":return n.jsx(xq,{data:S.stats});case"Charts":return n.jsx(yq,{series:S.charts});case"Fortschritt":return n.jsx(vq,{items:S.progress});case"Vergleich":return n.jsx(bq,{rows:S.comparison});case"Historie":return n.jsx(_q,{entries:S.history});default:return null}},D=()=>n.jsxs("div",{className:"player-profile__loading",children:[n.jsx("p",{children:a!=null?a:"Spieler nicht gefunden."}),n.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>s("/"),style:{marginTop:12},children:"Zur Startseite"})]});return n.jsx(Nt,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:n.jsxs("div",{className:"player-profile",children:[r&&!d&&n.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!d||!S)&&D(),S&&n.jsxs(n.Fragment,{children:[n.jsx(gq,{data:S.hero,loading:r,actionFeedback:g,onAction:R}),n.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:jq.map(A=>{const y=h===A;return n.jsx("button",{type:"button",role:"tab","aria-selected":y,className:`player-profile__tab-button ${y?"player-profile__tab-button--active":""}`,onClick:()=>m(A),children:A},A)})}),F()]})]})})}const Ru=t=>{if(t==null||t==="")return null;const e=String(t).replace(/[^0-9.-]/g,""),s=Number(e);return Number.isFinite(s)?s:null},Sq=t=>{if(!t)return null;const e=Date.now()/1e3,s=Math.max(0,e-t);return Math.floor(s/86400)},Qv=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),Nq=t=>{const e=new Map;return Object.entries(t||{}).forEach(([s,r])=>e.set(Qv(s),r)),{number(s,r=null){for(const i of s){const a=Ru(e.get(Qv(i)));if(a!=null)return a}return r},text(s,r=null){for(const i of s){const a=e.get(Qv(i));if(a!=null&&String(a).trim())return String(a).trim()}return r}}},gE=t=>{let e=2166136261;for(let s=0;s<t.length;s++)e^=t.charCodeAt(s),e=Math.imul(e,16777619);return()=>{e+=1831565813;let s=Math.imul(e^e>>>15,1|e);return s^=s+Math.imul(s^s>>>7,61|s),((s^s>>>14)>>>0)/4294967296}},Hs=(t,e="")=>t==null?e:t.toLocaleString("de-DE"),ef=t=>t==null?"":`${Math.round(t)}%`,KS=t=>t==null?null:t===0?"heute":`${t} Tag${t===1?"":"e"} her`,kq={warrior:1,berserker:1,paladin:1,scout:5,assassin:5,"demon hunter":6,bard:6,mage:8,"battle mage":8,necromancer:9,druid:9},Tq=t=>{var r;if(t.portraitConfig)return t.portraitConfig;const e=gE(t.id||t.name),s=kq[((r=t.className)==null?void 0:r.toLowerCase())||""]||Math.floor(e()*10)+1;return{genderName:e()>.5?"female":"male",class:s,race:Math.floor(e()*8)+1,hair:Math.floor(e()*40)+1,hairColor:Math.floor(e()*10)+1,mouth:Math.floor(e()*20)+1,eyes:Math.floor(e()*20)+1,brows:Math.floor(e()*10)+1,beard:Math.floor(e()*10),nose:Math.floor(e()*10)+1,ears:Math.floor(e()*10)+1,extra:Math.floor(e()*10),background:e()>.5?"gradient":"retroGradient",frame:e()>.8?"goldenFrame":""}},Cq=t=>{var W,H,q,K,G,te,ne,U,J,ce,ee;const e=t.values||{},s=Nq(e),r=gE(t.id),i=(W=t.level)!=null?W:s.number(["level"]),a=(H=t.scrapbookPct)!=null?H:s.number(["album","scrapbook","albumpct"]),l=s.number(["honor","ehre"]),d=(q=t.totalStats)!=null?q:s.number(["totalstats","stats"]),m=[["Base Strength","Strke","basestrength"],["Base Dexterity","Geschick","basedexterity"],["Base Intelligence","Intelligenz","baseintelligence"],["Base Constitution","Konstitution","baseconstitution"],["Base Luck","Glck","baseluck"]].map(fe=>{var Ce;return(Ce=s.number(fe,0))!=null?Ce:0}).reduce((fe,Ce)=>fe+(Ce!=null?Ce:0),0),g=a!=null?a:Math.round(r()*80+10),v=(K=s.number(["fortresslevel","fortress"]))!=null?K:Math.round(r()*20)+30,b=(G=s.number(["underworld","underworldlevel"]))!=null?G:Math.round(r()*10)+20,S=(te=s.number(["tower","towerfloor"]))!=null?te:Math.round(r()*90)+10,C=(ne=s.number(["pets","petprogress"]))!=null?ne:Math.round(r()*50)+25,R=(i!=null?i:0)*1200+m+Math.round((a!=null?a:0)*3200),F=(U=s.text(["mount","reittier"]))!=null?U:"Greifendrachen (280%)",D=(J=s.text(["guildrole","role"]))!=null?J:"Member",A=s.number(["hofrank","halloffamerank","hofposition"]),y=[{label:"Level",value:i?`Lvl ${Hs(i)}`:""},{label:"Power Score",value:Hs(R)},{label:"Scrapbook",value:ef(g)},{label:"Total Stats",value:Hs(d)}],w=[{label:"Mount",value:F,tone:"neutral"},{label:"Honor",value:Hs(l),tone:"success"},{label:"Gildenrolle",value:D,tone:"warning"},{label:"HoF",value:A?`#${Hs(A)}`:"",tone:"neutral"}],L={playerName:t.name,className:t.className,guild:t.guild,server:t.server,levelLabel:i?`Level ${Hs(i)}`:void 0,lastScanLabel:(ce=KS(t.lastScanDays))!=null?ce:void 0,status:t.lastScanDays!=null&&t.lastScanDays<=2?"online":"offline",metrics:y,badges:w,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!t.guild},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:Tq(t)},N=[{label:"Strke",base:["Base Strength"],total:["Strength"]},{label:"Geschick",base:["Base Dexterity"],total:["Dexterity"]},{label:"Intelligenz",base:["Base Intelligence"],total:["Intelligence"]},{label:"Konstitution",base:["Base Constitution"],total:["Constitution"]},{label:"Glck",base:["Base Luck"],total:["Luck"]}],j={summary:[{label:"Power Score",value:Hs(R),hint:"Level * SumBase"},{label:"Honor",value:Hs(l)},{label:"HoF Platz",value:A?`#${Hs(A)}`:""},{label:"Letzter Scan",value:(ee=KS(t.lastScanDays))!=null?ee:""}],attributes:N.map(fe=>({label:fe.label,baseLabel:Hs(s.number(fe.base)),totalLabel:s.number(fe.total)!=null?`Gesamt ${Hs(s.number(fe.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(r()*40+40)}%`},{label:"Schatten",value:`${Math.round(r()*40+35)}%`},{label:"Frost",value:`${Math.round(r()*30+30)}%`},{label:"Licht",value:`${Math.round(r()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Hs(Math.round((i!=null?i:1)*(r()*8+3)))}k`},{label:"XP/h",value:`${Hs(Math.round((i!=null?i:1)*(r()*5+2)))}k`},{label:"Mount Bonus",value:F},{label:"Quest Slots",value:`${Math.round(r()*2)+3}`}]},I=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(g!=null?g:0)/100),targetLabel:`${ef(g)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:g!=null&&g>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,S/100),targetLabel:`Ebene ${Math.round(S)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudeausbau",progress:Math.min(1,v/25),targetLabel:`Lvl ${Math.round(v)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,b/30),targetLabel:`Lvl ${Math.round(b)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,C/100),targetLabel:`${Math.round(C)} / 100`,meta:"Habitate offen"}],M=(fe,Ce=.12)=>{const ge=fe!=null?fe:Math.round(r()*100),ke=[];let Se=ge*.85;for(let ue=0;ue<8;ue++)Se+=Se*(r()*Ce-Ce/2),ke.push(Math.max(0,Math.round(Se)));return ke[ke.length-1]=ge,ke},P=[{label:"Level Verlauf",points:M(i!=null?i:0,.06),unit:"",subLabel:"7 Tage"},{label:"Total Stats",points:M(d!=null?d:0,.18),unit:"",subLabel:"Summe Attribute"},{label:"Honor",points:M(l!=null?l:0,.25),unit:"",subLabel:"Hall of Fame"}],O=[{label:"Level",playerValue:i?`Lvl ${Hs(i)}`:"",benchmark:i?`Lvl ${Hs(Math.round(i*.92))}`:"",diffLabel:i?`+${Math.round(i*.08)}`:"",trend:"up"},{label:"Power Score",playerValue:Hs(R),benchmark:Hs(Math.round(R*.9)),diffLabel:`+${Hs(Math.round(R*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:ef(g),benchmark:`${Math.min(100,Math.round((g!=null?g:60)-8))}%`,diffLabel:g!=null?`+${Math.round(g-60)}%`:"",trend:g!=null&&g>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(v)}`,benchmark:`Lvl ${Math.round(v-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(b)}`,benchmark:`Lvl ${Math.round(b-2)}`,diffLabel:"+2",trend:"neutral"}],$=Eq(t,s,r);return{hero:L,stats:j,progress:I,charts:P,comparison:O,history:$}},Eq=(t,e,s)=>{var l,d;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:t.guild?`Joined ${t.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const a=e.text(["lastdungeon","lastfight"]);return a&&r.push({dateLabel:wm(Math.round(s()*15)+5),title:"Dungeon Clear",description:a,tag:"Dungeon"}),r.push({dateLabel:wm(2),title:"Level-Up",description:`Erreichte Level ${Hs(t.level)}`,tag:"Level"}),r.push({dateLabel:wm(10),title:"Scrapbook Meilenstein",description:`${ef((l=t.scrapbookPct)!=null?l:Math.round(s()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:wm(18),title:"Festung",description:`Fortress Level ${Math.round((d=e.number(["fortress"],Math.round(s()*20+15)))!=null?d:0)}`,tag:"Festung"}),r},wm=t=>new Date(Date.now()-t*864e5).toLocaleDateString("de-DE");function ld(t,e=300){const[s,r]=Z.useState(t);return Z.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),s}function cd(t){const e=Z.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(t).matches,[t]),[s,r]=Z.useState(()=>e());return Z.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(t),a=l=>r(l.matches);return r(i.matches),i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[t]),s}const Aq='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function dd(t,e){Z.useEffect(()=>{var l;if(!e)return;const s=t.current;if(!s)return;const r=()=>s.querySelectorAll(Aq);(l=r()[0])==null||l.focus();const a=d=>{if(d.key!=="Tab")return;const u=r();if(u.length===0)return;const h=u[0],m=u[u.length-1];d.shiftKey?document.activeElement===h&&(d.preventDefault(),m.focus()):document.activeElement===m&&(d.preventDefault(),h.focus())};return s.addEventListener("keydown",a),()=>s.removeEventListener("keydown",a)},[t,e])}const Iq="_page_1jzf5_1",Rq="_header_1jzf5_13",Pq="_headerStack_1jzf5_25",Lq="_kicker_1jzf5_37",Dq="_title_1jzf5_53",Mq="_subtitle_1jzf5_65",Fq="_headerActions_1jzf5_79",Bq="_secondaryAction_1jzf5_89",$q="_infoStrip_1jzf5_131",Oq="_infoCard_1jzf5_143",Vq="_infoLabel_1jzf5_163",Uq="_inlineFilters_1jzf5_177",zq="_filterField_1jzf5_197",Hq="_select_1jzf5_227",Gq="_searchInput_1jzf5_229",Wq="_layout_1jzf5_249",qq="_selectionColumn_1jzf5_261",Kq="_selectionCard_1jzf5_273",Qq="_slotHeader_1jzf5_293",Xq="_slotLabel_1jzf5_307",Yq="_slotStatus_1jzf5_323",Jq="_clearButton_1jzf5_335",Zq="_slotBody_1jzf5_355",eK="_resultList_1jzf5_367",tK="_emptyResult_1jzf5_385",sK="_resultItem_1jzf5_397",nK="_resultName_1jzf5_421",rK="_resultMeta_1jzf5_433",iK="_selectButton_1jzf5_445",aK="_selectedCard_1jzf5_465",oK="_selectedName_1jzf5_479",lK="_selectedMeta_1jzf5_489",cK="_selectedTagline_1jzf5_491",dK="_comparisonColumn_1jzf5_503",uK="_comparisonCard_1jzf5_515",hK="_comparisonHeader_1jzf5_535",pK="_sectionTitle_1jzf5_551",mK="_diffBadge_1jzf5_561",fK="_metricGrid_1jzf5_579",gK="_metricCard_1jzf5_591",xK="_metricLabel_1jzf5_611",vK="_metricValues_1jzf5_627",yK="_metricDivider_1jzf5_643",bK="_metricDelta_1jzf5_653",_K="_freshnessRow_1jzf5_665",wK="_freshnessItem_1jzf5_677",jK="_freshnessBadge_1jzf5_685",SK="_freshnessPopover_1jzf5_733",NK="_popoverTitle_1jzf5_757",kK="_classCard_1jzf5_807",TK="_classGrid_1jzf5_827",CK="_classColumn_1jzf5_837",EK="_classBar_1jzf5_857",AK="_classSlice_1jzf5_873",IK="_classLegend_1jzf5_907",RK="_emptyState_1jzf5_931",PK="_supportPanels_1jzf5_947",LK="_checklistCard_1jzf5_959",DK="_infoCardExtended_1jzf5_961",MK="_checklist_1jzf5_959",FK="_infoNote_1jzf5_1033",BK="_sheetOverlay_1jzf5_1045",$K="_sheetOpen_1jzf5_1073",OK="_sheet_1jzf5_1045",VK="_sheetHeader_1jzf5_1105",UK="_sheetBody_1jzf5_1119",ie={page:Iq,header:Rq,headerStack:Pq,kicker:Lq,title:Dq,subtitle:Mq,headerActions:Fq,secondaryAction:Bq,infoStrip:$q,infoCard:Oq,infoLabel:Vq,inlineFilters:Uq,filterField:zq,select:Hq,searchInput:Gq,layout:Wq,selectionColumn:qq,selectionCard:Kq,slotHeader:Qq,slotLabel:Xq,slotStatus:Yq,clearButton:Jq,slotBody:Zq,resultList:eK,emptyResult:tK,resultItem:sK,resultName:nK,resultMeta:rK,selectButton:iK,selectedCard:aK,selectedName:oK,selectedMeta:lK,selectedTagline:cK,comparisonColumn:dK,comparisonCard:uK,comparisonHeader:hK,sectionTitle:pK,diffBadge:mK,metricGrid:fK,metricCard:gK,metricLabel:xK,metricValues:vK,metricDivider:yK,metricDelta:bK,freshnessRow:_K,freshnessItem:wK,freshnessBadge:jK,freshnessPopover:SK,popoverTitle:NK,classCard:kK,classGrid:TK,classColumn:CK,classBar:EK,classSlice:AK,classLegend:IK,emptyState:RK,supportPanels:PK,checklistCard:LK,infoCardExtended:DK,checklist:MK,infoNote:FK,sheetOverlay:BK,sheetOpen:$K,sheet:OK,sheetHeader:VK,sheetBody:UK},xE=["Ari","Borin","Celeste","Doran","Lena","Nix"],zK={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},fb={raid:"Raid",event:"Event",task:"Task"},gb={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},QS={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},XS={urgent:4,high:3,medium:2,low:1},HK={"7d":7,"30d":30,"90d":90,all:null},Xv={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},GK=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:Zo(5,20),createdAt:Ln(2,14),updatedAt:Ln(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:Sm(3),nextUpdateAt:jm(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:Zo(2,12),createdAt:Ln(4,9),updatedAt:Ln(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:Sm(8),nextUpdateAt:jm(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:Zo(7,17),createdAt:Ln(1,10),updatedAt:Ln(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:Sm(22),nextUpdateAt:jm(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:Ln(1,19),createdAt:Ln(9,10),updatedAt:Ln(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:Ln(1,19),nextUpdateAt:Zo(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:Zo(12,18),createdAt:Ln(6,15),updatedAt:Ln(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:Sm(1),nextUpdateAt:jm(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:Zo(18,13),createdAt:Ln(12,18),updatedAt:Ln(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:Ln(2,16),nextUpdateAt:Zo(4,9)}];function Zo(t,e=12){const s=new Date;return s.setDate(s.getDate()+t),s.setHours(e,0,0,0),s.toISOString()}function jm(t){const e=new Date;return e.setHours(e.getHours()+t,e.getMinutes(),0,0),e.toISOString()}function Ln(t,e=12){const s=new Date;return s.setDate(s.getDate()-t),s.setHours(e,0,0,0),s.toISOString()}function Sm(t){const e=new Date;return e.setHours(e.getHours()-t,e.getMinutes(),0,0),e.toISOString()}function YS(t){return{...t,page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),owner:Array.from(new Set(t.owner))}}function WK(t,e,s){const r=Date.now(),i=HK[e.range];return t.filter(a=>{const l=s===""||a.title.toLowerCase().includes(s.toLowerCase())||a.description.toLowerCase().includes(s.toLowerCase()),d=e.type==="all"||a.type===e.type,u=e.status==="all"||a.status===e.status,h=e.owner.length===0||e.owner.includes(a.owner)||a.assignees.some(g=>e.owner.includes(g));let m=!0;if(i!==null){const g=new Date(a.dueAt).getTime(),v=r+i*24*60*60*1e3;m=g<=v}return l&&d&&u&&h&&m})}function qK(t,e,s){const r=[...t];return r.sort((i,a)=>{let l=0;switch(e){case"dueAt":l=new Date(i.dueAt).getTime()-new Date(a.dueAt).getTime();break;case"updatedAt":l=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break;case"priority":l=XS[i.priority]-XS[a.priority];break;case"title":l=i.title.localeCompare(a.title);break;default:l=0}return s==="asc"?l:-l}),r}function KK(t,e,s){const r=(e-1)*s;return t.slice(r,r+s)}function Mi(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function Vh(t){const e=Date.now()-new Date(t).getTime(),s=Math.round(e/6e4);if(s<60)return`${s} min`;const r=Math.round(s/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function fh(t,e){const s=new Date(t).getTime()-e;if(s<=0)return"faellig";const r=Math.floor(s/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function QK(t){return t.length===0?null:t.reduce((e,s)=>e?QS[s.freshness]>QS[e.freshness]?s:e:s,null)}const h0=["EU-01","EU-02","US-01","US-02","ASIA-01"],Gu=new Intl.NumberFormat("de-DE");function XK(){const t=cd("(min-width: 768px)"),[e,s]=Z.useState("all"),[r,i]=Z.useState(null),[a,l]=Z.useState(null),[d,u]=Z.useState(null),[h,m]=Z.useState(null),g=[r,a].filter(Boolean).length,v=Z.useMemo(()=>{const P=[d,h].filter(Boolean);if(!P.length)return 0;const O=P.reduce(($,W)=>{var H;return $+((H=W.level)!=null?H:0)},0);return Math.round(O/P.length)},[d,h]),[b,S]=Z.useState(null),[C,R]=Z.useState(!1),F=Z.useRef(null);dd(F,C&&!t),Z.useEffect(()=>{t&&R(!1)},[t]),Z.useEffect(()=>{if(!b)return;const P=$=>{const W=$.target;W&&(W.closest(`.${ie.freshnessBadge}`)||W.closest(`.${ie.freshnessPopover}`)||S(null))},O=$=>{$.key==="Escape"&&S(null)};return document.addEventListener("pointerdown",P),document.addEventListener("keydown",O),()=>{document.removeEventListener("pointerdown",P),document.removeEventListener("keydown",O)}},[b]);const D=Z.useMemo(()=>d?fh(d.nextUpdateAt,Date.now()):"",[d]),A=Z.useMemo(()=>h?fh(h.nextUpdateAt,Date.now()):"",[h]),y=()=>R(!0),w=()=>R(!1),L=P=>{s(P)},N=(P,O)=>{P==="playerA"?(i(O.id),u(O)):(l(O.id),m(O))},j=P=>{P==="playerA"?(i(null),u(null)):(l(null),m(null))},I=P=>{S(O=>O===P?null:P)},M=d&&h;return n.jsxs(Nt,{title:"Players",subtitle:"Spielervergleich",centerFramed:!1,children:[n.jsxs("div",{className:ie.page,children:[n.jsxs("header",{className:ie.header,children:[n.jsxs("div",{className:ie.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.kicker,children:"Players"}),n.jsx("h1",{className:ie.title,children:"Spieler vergleichen"}),n.jsx("p",{className:ie.subtitle,children:"Waehle zwei Charaktere aus, gleiche Level, Scrapbook und Freshness ab und finde die staerkere Option fuer dein Team oder deine Analyse."})]}),n.jsx("div",{className:ie.headerActions,children:!t&&n.jsx("button",{type:"button",className:ie.secondaryAction,onClick:y,children:"Filter"})})]}),n.jsxs("div",{className:ie.infoStrip,children:[n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Slots gefuellt"}),n.jsxs("strong",{children:[Gu.format(g)," Spieler"]})]}),n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Durchschnittslevel"}),n.jsx("strong",{children:Gu.format(v)})]}),n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Serverfilter"}),n.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&n.jsx("div",{className:ie.inlineFilters,children:n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:e,onChange:P=>L(P.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),h0.map(P=>n.jsx("option",{value:P,children:P},P))]})]})})]}),n.jsxs("div",{className:ie.layout,children:[n.jsxs("section",{className:ie.selectionColumn,children:[n.jsx(JS,{title:"Spieler A",slot:"playerA",selectedPlayer:d,excludeId:a,onSelect:N,onClear:j,serverFilter:e,onServerChange:L}),n.jsx(JS,{title:"Spieler B",slot:"playerB",selectedPlayer:h,excludeId:r,onSelect:N,onClear:j,serverFilter:e,onServerChange:L})]}),n.jsxs("section",{className:ie.comparisonColumn,children:[n.jsxs("div",{className:ie.comparisonCard,children:[n.jsxs("div",{className:ie.comparisonHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.kicker,children:"Vergleich"}),n.jsx("h2",{className:ie.sectionTitle,children:"Kennzahlen"})]}),M&&n.jsxs("span",{className:ie.diffBadge,children:["Delta Level: ",Gu.format(d.level-h.level)]})]}),M?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:ie.metricGrid,children:[n.jsx(ZS,{label:"Level",aValue:d.level,bValue:h.level}),n.jsx(ZS,{label:"Scrapbook (%)",aValue:d.scrapbookPct,bValue:h.scrapbookPct,isDecimal:!0}),n.jsx(YK,{playerA:d,playerB:h,countdownA:D,countdownB:A,activePopover:b,onToggle:I})]}),n.jsx(JK,{playerA:d,playerB:h})]}):n.jsx("div",{className:ie.emptyState,children:n.jsx("p",{children:"Waehle zwei Spieler aus, um den direkten Vergleich zu starten."})})]}),n.jsxs("div",{className:ie.supportPanels,children:[n.jsx(ZK,{}),n.jsx(eQ,{})]})]})]})]}),!t&&n.jsx("div",{className:`${ie.sheetOverlay} ${C?ie.sheetOpen:""}`,children:n.jsxs("div",{className:ie.sheet,role:"dialog","aria-modal":"true",ref:F,children:[n.jsxs("header",{className:ie.sheetHeader,children:[n.jsx("h3",{children:"Filter"}),n.jsx("button",{type:"button",className:ie.clearButton,onClick:w,children:"Schliessen"})]}),n.jsx("div",{className:ie.sheetBody,children:n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:e,onChange:P=>L(P.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),h0.map(P=>n.jsx("option",{value:P,children:P},P))]})]})})]})})]})}function JS({title:t,slot:e,selectedPlayer:s,excludeId:r,onSelect:i,onClear:a,serverFilter:l,onServerChange:d}){const[u,h]=Z.useState(""),m=ld(u,300);Z.useEffect(()=>{h("")},[s,l]);const{results:g,loading:v}=tQ(m,l,r);return n.jsxs("article",{className:ie.selectionCard,children:[n.jsxs("div",{className:ie.slotHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.slotLabel,children:t}),n.jsx("p",{className:ie.slotStatus,children:s?"Ausgewaehlt":"Noch keine Auswahl"})]}),s&&n.jsx("button",{type:"button",className:ie.clearButton,onClick:()=>a(e),children:"Reset"})]}),n.jsxs("div",{className:ie.slotBody,children:[n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:l,onChange:b=>d(b.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),h0.map(b=>n.jsx("option",{value:b,children:b},b))]})]}),n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Suchen"}),n.jsx("input",{className:ie.searchInput,placeholder:"Spielernamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),n.jsxs("div",{className:ie.resultList,role:"list",children:[v&&n.jsx("div",{className:ie.emptyResult,children:"Lade..."}),!v&&g.length===0&&n.jsx("div",{className:ie.emptyResult,children:"Kein Spieler gefunden."}),!v&&g.map(b=>n.jsxs("div",{className:ie.resultItem,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.resultName,children:b.name}),n.jsxs("p",{className:ie.resultMeta,children:[b.server," - Level ",b.level," - ",b.className]})]}),n.jsx("button",{type:"button",className:ie.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),s&&n.jsxs("div",{className:ie.selectedCard,children:[n.jsx("p",{className:ie.selectedName,children:s.name}),n.jsxs("p",{className:ie.selectedMeta,children:[s.server," - Level ",s.level," - ",s.className," -"," ",s.guildName||"ohne Gilde"]}),n.jsx("p",{className:ie.selectedTagline,children:s.tagline})]})]})]})}function ZS({label:t,aValue:e,bValue:s,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):Gu.format(d),a=e-s;let l="gleich";if(a!==0){const d=r?Math.abs(a).toFixed(1).replace(".",","):Gu.format(Math.abs(a));l=a>0?`+${d}`:`-${d}`}return n.jsxs("div",{className:ie.metricCard,children:[n.jsx("p",{className:ie.metricLabel,children:t}),n.jsxs("div",{className:ie.metricValues,children:[n.jsx("span",{"aria-label":"Spieler A",children:i(e)}),n.jsx("span",{className:ie.metricDivider,children:"vs"}),n.jsx("span",{"aria-label":"Spieler B",children:i(s)})]}),n.jsx("p",{className:ie.metricDelta,children:l})]})}function YK({playerA:t,playerB:e,countdownA:s,countdownB:r,activePopover:i,onToggle:a}){return n.jsxs("div",{className:ie.metricCard,children:[n.jsx("p",{className:ie.metricLabel,children:"Freshness"}),n.jsx("div",{className:ie.freshnessRow,children:[t,e].map(l=>{const d=l.id===t.id?s:r,u=`fresh-${l.id}`,h=i===u;return n.jsxs("div",{className:ie.freshnessItem,children:[n.jsxs("button",{type:"button",className:ie.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[n.jsx("span",{children:l.freshness.toUpperCase()}),n.jsx("small",{children:Vh(l.lastScanAt)})]}),h&&n.jsxs("div",{className:ie.freshnessPopover,role:"dialog",children:[n.jsx("p",{className:ie.popoverTitle,children:l.name}),n.jsxs("dl",{children:[n.jsxs("div",{children:[n.jsx("dt",{children:"Status"}),n.jsx("dd",{children:gb[l.freshness]})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Zuletzt gescannt"}),n.jsx("dd",{children:Mi(l.lastScanAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Naechstes Update"}),n.jsxs("dd",{children:[Mi(l.nextUpdateAt)," (",d,")"]})]})]})]})]},l.id)})})]})}function JK({playerA:t,playerB:e}){const s=Z.useMemo(()=>Array.from(new Set([...t.stats,...e.stats].map(i=>i.label))),[t.stats,e.stats]),r=i=>{const a=i.stats.length?i.stats:[{label:"Keine Daten",percent:100}];return n.jsxs("div",{className:ie.classColumn,children:[n.jsx("h3",{children:i.name}),n.jsx("div",{className:ie.classBar,"aria-label":`Statverteilung ${i.name}`,children:a.map(l=>n.jsxs("span",{style:{width:`${l.percent}%`},className:ie.classSlice,children:[n.jsx("small",{children:l.label}),n.jsxs("strong",{children:[l.percent,"%"]})]},`${i.id}-${l.label}`))})]})};return n.jsxs("div",{className:ie.classCard,children:[n.jsx("p",{className:ie.metricLabel,children:"Stat-Verteilung"}),n.jsx("div",{className:ie.classGrid,children:[t,e].map(r)}),s.length>0&&n.jsx("ul",{className:ie.classLegend,children:s.map(i=>n.jsx("li",{children:i},i))})]})}function ZK(){const t=["Build, Edelsteine und Attribute nebeneinander legen","Buff-Food und Potions fuer beide Spieler abstimmen","Scrapbook- und Sammelstatus pruefen","Letzten Scan aktualisieren und Screens hochladen","Server- oder Account-Konflikte frueh klaeren"];return n.jsxs("section",{className:ie.checklistCard,children:[n.jsx("h3",{children:"Vor dem Vergleich pruefen"}),n.jsx("ul",{className:ie.checklist,children:t.map(e=>n.jsx("li",{children:e},e))})]})}function eQ(){return n.jsxs("section",{className:ie.infoCardExtended,children:[n.jsx("h3",{children:"Matchup-Diff"}),n.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",n.jsx("code",{children:"lib/players/matchups/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),n.jsx("p",{className:ie.infoNote,children:"Sammle jetzt schon Vergleichsmetriken (DPS, PvP, Arena), damit die spaetere Automatik sie direkt uebernehmen kann."}),n.jsx("button",{type:"button",className:ie.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function tQ(t,e,s){const[r,i]=Z.useState([]),[a,l]=Z.useState(!1);return Z.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),l(!1);return}let u=!1;async function h(){l(!0);try{const m=d.toLowerCase(),g=hg(Ct,"latest"),v=await pn($n(g,co("nameFold"),hl(m),pl(m+""),On(15))),b=await pn($n(g,xl("nameNgrams","array-contains",m),On(15))),S=new Set,C=[],R=F=>{var K,G,te,ne,U,J,ce,ee,fe,Ce,ge,ke,Se,ue,De,Ee,tt,pt,Ht,Ss,Ns,$s,ys,Ne,Re,Ae,Ue,nt,ut;const D=F.data(),y=(K=F.ref.parent)==null?void 0:K.parent,w=y==null?void 0:y.parent;if((w==null?void 0:w.id)!=="players")return;const N=(te=(G=y==null?void 0:y.id)!=null?G:D.playerIdentifier)!=null?te:F.id;if(!N||S.has(N)||s&&N===s)return;const j=(J=(U=D.name)!=null?U:(ne=D.values)==null?void 0:ne.Name)!=null?J:"Unbekannter Spieler",I=(fe=(ee=D.server)!=null?ee:(ce=D.values)==null?void 0:ce.Server)!=null?fe:"Unknown";if(e!=="all"&&I!==e)return;const M=(ue=(Se=(ge=D.className)!=null?ge:(Ce=D.values)==null?void 0:Ce.Class)!=null?Se:(ke=D.values)==null?void 0:ke.Class)!=null?ue:"Unbekannte Klasse",P=(tt=(Ee=D.guildName)!=null?Ee:(De=D.values)==null?void 0:De.Guild)!=null?tt:"",O=no(D.level)||no((pt=D.values)==null?void 0:pt.Level)||no((Ht=D.values)==null?void 0:Ht.Level),$=no(D.scrapbookPct)||no((Ss=D.values)==null?void 0:Ss["Album %"])||no((Ns=D.values)==null?void 0:Ns.AlbumPct)||no(($s=D.values)==null?void 0:$s["Scrapbook %"]),W=(Re=(Ne=D.updatedAt)!=null?Ne:(ys=D.values)==null?void 0:ys.UpdatedAt)!=null?Re:D.timestamp?new Date(D.timestamp*1e3).toISOString():new Date().toISOString(),H=(Ae=D.nextUpdateAt)!=null?Ae:nQ(12),q=sQ((Ue=D.values)!=null?Ue:D.stats);S.add(N),C.push({id:N,name:j,tagline:(nt=D.tagline)!=null?nt:P?`Mitglied in ${P}`:M,server:I,className:M,guildName:P,level:O||0,scrapbookPct:$,lastScanAt:W,updatedAt:W,nextUpdateAt:H,freshness:(ut=D.freshness)!=null?ut:"unknown",stats:q})};v.forEach(R),b.forEach(R),u||(C.sort((F,D)=>F.name.localeCompare(D.name)),i(C))}catch(m){console.error("[Players Compare] player search failed",m),u||i([])}finally{u||l(!1)}}return h(),()=>{u=!0}},[t,e,s]),{results:r,loading:a}}const eN={Strength:"Staerke",Dexterity:"Geschick",Intelligence:"Intelligenz",Constitution:"Konstitution"};function sQ(t={}){const e=Object.keys(eN).map(r=>{var a;const i=(a=t==null?void 0:t[r])!=null?a:t==null?void 0:t[r.toLowerCase()];return{label:eN[r],value:no(i)}}).filter(r=>r.value>0),s=e.reduce((r,i)=>r+i.value,0);return s?e.map(r=>({label:r.label,percent:Math.max(1,Math.round(r.value/s*100))})):[]}function no(t){const e=Number(t);return Number.isFinite(e)?e:0}function nQ(t){const e=new Date;return e.setHours(e.getHours()+t),e.toISOString()}function rQ(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Guilds"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(tN,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),n.jsx(tN,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function tN({to:t,title:e,desc:s}){return n.jsxs(Wt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function iQ(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Guilds  Rankings"}),n.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function aQ(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Guilds  Stats"}),n.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function oQ(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const lQ={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function cQ(t){var s;const e=oQ(t);return(s=lQ[e])!=null?s:null}function dQ(t,e=128){var a,l;const s=cQ(t);if(!s)return{id:null,url:null,thumb:null,fallback:""};const r=(a=Tl(s))!=null?a:null,i=r&&(l=Vr(r,e))!=null?l:null;return{id:s,url:r,thumb:i,fallback:""}}function gh(t,e=128){return dQ(t,e).thumb}const Ml={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},Eg=(t,e)=>({...t||{},...e||{}}),sN=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),s=Math.floor((Date.now()-e.getTime())/864e5);return s<=0?"today":s===1?"yesterday":`${s}d ago`},uQ=t=>Object.values(t||{}).reduce((e,s)=>e+(s||0),0),on=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function hQ(t){var v,b,S,C,R,F,D,A;const e=on(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const s=on(t==null?void 0:t.baseMain),r=on(t==null?void 0:t.conBase);if(s!=null&&r!=null)return s+r;const i=(t==null?void 0:t.baseStats)||{},a=on(i==null?void 0:i.sumBaseTotal);if(a!=null)return a;const l=on(i==null?void 0:i.main),d=on(i==null?void 0:i.con);if(l!=null&&d!=null)return l+d;const u=(t==null?void 0:t.values)||{},h=(b=(v=on(u==null?void 0:u.SumBaseTotal))!=null?v:on(u==null?void 0:u.sumBaseTotal))!=null?b:on(u==null?void 0:u["Sum Base Total"]);if(h!=null)return h;const m=(R=(C=(S=on(u==null?void 0:u.Main))!=null?S:on(u==null?void 0:u.main))!=null?C:on(u==null?void 0:u.BaseMain))!=null?R:on(u==null?void 0:u.baseMain),g=(A=(D=(F=on(u==null?void 0:u.Con))!=null?F:on(u==null?void 0:u.con))!=null?D:on(u==null?void 0:u.ConBase))!=null?A:on(u==null?void 0:u.conBase);return m!=null&&g!=null?m+g:null}function el(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function pQ(t,e=56){if(!t)return;const s=el(t),r=Ws.find(i=>el(i.label)===s||el(i.key)===s)||Ws.find(i=>el(i.label).startsWith(s)||s.startsWith(el(i.label))||el(i.key).startsWith(s)||s.startsWith(el(i.key)));return r?Vr(r.iconUrl,e):void 0}function mQ({name:t,memberClass:e,online:s,theme:r=Ml}){const i=t.split("_").map(l=>l[0]).join("").slice(0,2).toUpperCase(),a=pQ(e,56);return n.jsxs("div",{className:"relative",children:[a?n.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:l=>{const d=l.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):n.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),s&&n.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const fQ={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},gQ=({role:t})=>n.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(fQ[t]||""),children:t});function nN(t,e){const s=(t!=null?t:"").trim();if(s)return s;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function xQ(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,s=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:s!=null&&r!=null?s+r:null;return i!=null?i.toLocaleString("de-DE"):""}function Nm({label:t,value:e,theme:s=Ml}){return n.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:s.border,background:s.tile},children:[n.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),n.jsx("div",{className:"text-lg font-semibold",style:{color:s.title},children:e})]})}function vQ({member:t,theme:e,actions:s,extraKPIs:r}){var m,g,v,b,S,C,R,F,D;if(!t)return null;const i=Eg(Ml,e),a=t,l=nN((g=(m=a.guildJoined)!=null?m:a.joinedAt)!=null?g:null,(v=a.guildJoinedMs)!=null?v:null),d=nN((b=a.lastActivity)!=null?b:null,(S=a.lastActivityMs)!=null?S:typeof a.lastOnline=="number"?a.lastOnline:null),u=xQ(a),h=typeof a.totalStats=="number"?a.totalStats.toLocaleString("de-DE"):"";return n.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[n.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),n.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[n.jsx("div",{className:"shrink-0",children:n.jsx(mQ,{name:t.name,memberClass:(F=(R=a.class)!=null?R:(C=a.values)==null?void 0:C.Class)!=null?F:null,online:a.online,theme:i})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),a.role&&n.jsx(gQ,{role:a.role})]}),n.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[a.class||"",a.server?`  ${a.server}`:"","  Joined ",l,"  Last ",d]})]}),n.jsx("div",{className:"ml-auto",children:s})]}),n.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsx(Nm,{label:"Level",value:(D=a.level)!=null?D:"",theme:i}),typeof a.scrapbook=="number"&&n.jsx(Nm,{label:"Scrapbook",value:`${a.scrapbook}%`,theme:i}),n.jsx(Nm,{label:"Sum Base",value:u,theme:i}),n.jsx(Nm,{label:"Total Stats",value:h,theme:i}),r]})]})}function tl(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function yQ(t,e=40){if(!t)return;const s=tl(t);let r=Ws.find(i=>tl(i.label)===s||tl(i.key)===s)||Ws.find(i=>tl(i.label).startsWith(s)||s.startsWith(tl(i.label))||tl(i.key).startsWith(s)||s.startsWith(tl(i.key)));return r?Vr(r.iconUrl,e):void 0}function bQ({name:t,memberClass:e,online:s,theme:r=Ml}){const i=t.split("_").map(l=>l[0]).join("").slice(0,2).toUpperCase(),a=yQ(e,40);return n.jsxs("div",{className:"relative",children:[a?n.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:l=>{const d=l.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):n.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),s&&n.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const _Q=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return n.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function wQ({rows:t,selId:e,onSelect:s,rightCols:r,theme:i}){const a=Eg(Ml,i);return n.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:a.border},children:[n.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),n.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:a.tableBg},children:[n.jsx("div",{className:"h-8 sticky top-0",style:{background:a.header}}),t.map((l,d)=>{var u,h,m;return n.jsxs("button",{onClick:()=>s(l.id),"aria-pressed":l.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(l.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[n.jsx(bQ,{name:l.name,memberClass:(m=(h=l.class)!=null?h:(u=l.values)==null?void 0:u.Class)!=null?m:null,online:l.online,theme:a}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:l.name}),n.jsxs("div",{className:"text-xs truncate",style:{color:a.sub},children:[l.class,l.server?`  ${l.server}`:""]})]}),n.jsx("div",{className:"justify-self-end",children:n.jsx(_Q,{role:l.role})}),r(l)]},l.id)})]})]})}function sl(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function jQ(t,e=40){if(!t)return;const s=sl(t);let r=Ws.find(i=>sl(i.label)===s||sl(i.key)===s)||Ws.find(i=>sl(i.label).startsWith(s)||s.startsWith(sl(i.label))||sl(i.key).startsWith(s)||s.startsWith(sl(i.key)));return r?Vr(r.iconUrl,e):void 0}function SQ({rows:t,selId:e,onSelect:s,footer:r,theme:i}){const a=Eg(Ml,i);return n.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(l=>{var v,b,S,C,R,F,D,A,y;const d=l,u=l.name.slice(0,2).toUpperCase(),h=jQ((S=(b=d.class)!=null?b:(v=d.values)==null?void 0:v.Class)!=null?S:null,40),m=typeof d.level=="number"?d.level:typeof((C=d.values)==null?void 0:C.Level)=="number"?d.values.Level:"",g=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((R=d.values)==null?void 0:R.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return n.jsxs("button",{onClick:()=>s(l.id),"aria-pressed":l.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(l.id===e?" ring-1":""),style:{borderColor:a.border,background:`linear-gradient(180deg, ${a.tile} 0%, ${a.tableBg} 100%)`,boxShadow:l.id===e?`0 12px 30px -12px ${a.glow}`:"none"},children:[n.jsxs("div",{className:"flex items-center gap-3",children:[h?n.jsx("img",{src:h,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:a.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:w=>{const L=w.currentTarget.parentElement;L&&(L.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${a.tile};color:${a.title};border-color:${a.border}">${u}</div>`)}}):n.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:a.tile,color:a.title,borderColor:a.border},children:u}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:l.name}),n.jsxs("div",{className:"text-xs",style:{color:a.sub},children:[(A=(D=d.class)!=null?D:(F=d.values)==null?void 0:F.Class)!=null?A:"",d.server?`  ${d.server}`:""]})]}),n.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:a.border},children:(y=d.role)!=null?y:""})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),n.jsx("div",{className:"font-semibold",style:{color:a.title},children:m})]}),g&&n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),n.jsx("div",{className:"font-semibold",style:{color:a.title},children:g})]})]}),n.jsx("div",{className:"mt-3",children:r(l)})]},l.id)})})}const NQ=t=>{if(!t)return;const e={};return["main","con","sumBaseTotal"].forEach(s=>{const r=t[s];typeof r=="number"&&(e[s]=r)}),Object.keys(e).length?e:void 0};function kQ({members:t,defaultView:e="list",defaultQuery:s="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:a,onSelect:l,renderActions:d,renderKPIs:u,theme:h}){var M;const m=E.useMemo(()=>Eg(Ml,h),[h]),[g,v]=E.useState(e),[b,S]=E.useState(s),[C,R]=E.useState(r.key),[F,D]=E.useState(r.dir),[A,y]=E.useState((M=t[0])==null?void 0:M.id),w=a!=null?a:A,L=P=>{a||y(P);const O=t.find($=>$.id===P);O&&l&&l(O)},N=E.useMemo(()=>{const P=b.trim().toLowerCase();return P?t.filter(O=>O.name.toLowerCase().includes(P)||O.class.toLowerCase().includes(P)||String(O.role).toLowerCase().includes(P)):t},[t,b]),j=E.useMemo(()=>{const P=F==="asc"?1:-1,O=$=>{var W,H;switch(C){case"sumBaseStats":{const q=hQ($);return q==null?-1/0:q}case"totalStats":return(H=(W=$.totalStats)!=null?W:uQ(NQ($.baseStats)))!=null?H:-1/0;default:return $[C]}};return[...N].sort(($,W)=>{const H=O($),q=O(W);return H===q?0:H>q?P:-P})},[N,C,F]),I=E.useMemo(()=>j.find(P=>P.id===w)||j[0],[j,w]);return n.jsxs("div",{children:[i&&n.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:m.tile,borderColor:m.border},children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm w-24",style:{color:m.sub},children:"View"}),n.jsxs("select",{value:g,onChange:P=>v(P.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:m.border},children:[n.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),n.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm w-24",style:{color:m.sub},children:"Search"}),n.jsx("input",{value:b,onChange:P=>S(P.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:m.border}})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm w-24",style:{color:m.sub},children:"Sort by"}),n.jsxs("select",{value:String(C),onChange:P=>R(P.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:m.border},children:[n.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),n.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),n.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),n.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),n.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),n.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),n.jsx("button",{onClick:()=>D(P=>P==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:m.border},children:F==="asc"?"":""})]})]}),n.jsx(vQ,{member:I,actions:I&&(d?d(I):n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:m.border},children:"Profile"}),n.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:m.border},children:"Compare"}),n.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:m.border},children:"Message"})]})),extraKPIs:I&&u?u(I):null,theme:m}),g==="list"?n.jsx(wQ,{rows:j,selId:w,onSelect:L,theme:m,rightCols:P=>{var O;return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-right text-sm",children:(O=P.level)!=null?O:""}),n.jsx("div",{className:"text-right text-xs",style:{color:m.sub},children:sN(P.lastOnline)})]})}}):n.jsx(SQ,{rows:j,selId:w,onSelect:L,theme:m,footer:P=>n.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:m.sub},children:n.jsxs("span",{children:["Last ",sN(P.lastOnline)]})})})]})}function TQ({guildName:t,server:e,emblemUrl:s,lastScanISO:r,members:i,avgLevel:a,totalPower:l,activity7d:d,topClasses:u,tickerItems:h,href:m,onClick:g,className:v}){const b=!!sE(),S=E.useMemo(()=>{if(!r)return null;const O=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(O/6e4));if($<60)return`${$}m`;const W=Math.floor($/60);return W<24?`${W}h`:`${Math.floor(W/24)}d`},[r]),C=Au(0),R=Au(0),F=Au(0),D=Au(0),A=xm(C,O=>Math.round(O).toString()),y=xm(R,O=>Math.round(O).toString()),w=xm(F,O=>Math.round(O).toLocaleString()),L=xm(D,O=>`${Math.round(O)}%`);E.useEffect(()=>{const O=b?0:.6;if(O===0){C.set(i),R.set(a),F.set(l!=null?l:0),D.set(d!=null?d:0);return}const $=[vm(C,i,{duration:O}),vm(R,a,{duration:O}),vm(F,l!=null?l:0,{duration:O}),vm(D,d!=null?d:0,{duration:O})];return()=>$.forEach(W=>W.stop())},[i,a,l,d,b]);const N=E.useRef(null);E.useEffect(()=>{if(b||!N.current)return;const O=N.current;let $=0,W=0;const H=()=>{W+=.016;const q=W*14%140-20;O.style.setProperty("--s-x",`${q}%`),$=requestAnimationFrame(H)};return $=requestAnimationFrame(H),()=>cancelAnimationFrame($)},[b]);const j={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},I=100,M=m?"a":"div",P=m?{href:m}:{onClick:g};return n.jsxs(M,{...P,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",v!=null?v:""].join(" "),style:{background:`linear-gradient(135deg, ${j.bgFrom}, ${j.bgTo})`},children:[n.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),n.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[n.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[s?n.jsx("img",{src:s,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):n.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:n.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),n.jsx("div",{ref:N,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),S&&n.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:j.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${j.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",S]}),n.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${I}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),n.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${I}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${I}deg, transparent 0 46px, ${j.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),n.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[n.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[n.jsx("h3",{className:"truncate font-extrabold",style:{color:j.title,fontSize:22},children:t}),n.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:j.soft,border:`1px solid ${j.border}`},children:e})]}),n.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[n.jsx(km,{label:"Members",value:A}),n.jsx(km,{label:" Level",value:y}),n.jsx(km,{label:"Total Power",value:w}),typeof d=="number"&&n.jsx(km,{label:"Activity (7d)",value:L})]}),u!=null&&u.length?n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:j.soft},children:"Top Classes"}),u.slice(0,3).map(O=>n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${j.border}`,color:j.text},children:[O.iconUrl?n.jsx("img",{src:O.iconUrl,alt:O.key,className:"h-4 w-4 object-contain"}):n.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:j.accent,opacity:.85}}),n.jsxs("span",{className:"text-xs",children:[O.key," ",n.jsxs("span",{className:"opacity-70",children:["(",Math.round(O.percent),"%)"]})]})]},O.key))]}):null]})]})]}),h!=null&&h.length?n.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${j.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:n.jsx(CQ,{items:h,muted:b,color:j.soft})}):null]})}function km({label:t,value:e}){return n.jsxs("div",{className:"relative z-10 min-w-0",children:[n.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),n.jsx(eE.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function CQ({items:t,muted:e,color:s}){const r=E.useRef(null);return E.useEffect(()=>{if(e||!r.current)return;const i=r.current;let a=0,l=0;const d=()=>{a+=.016;const u=a*40%(i.scrollWidth+60);i.style.transform=`translateX(${-u}px)`,l=requestAnimationFrame(d)};return l=requestAnimationFrame(d),()=>cancelAnimationFrame(l)},[e]),n.jsx("div",{className:"overflow-hidden",children:n.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:s},children:t.concat(t).map((i,a)=>n.jsx("span",{className:"mx-6 text-xs align-middle",children:i},a))})})}const EQ="_wrap_q5gkc_53",AQ="_banner_q5gkc_59",IQ="_bannerRowTop_q5gkc_61",RQ="_bannerStripe_q5gkc_71",PQ="_bannerTitle_q5gkc_79",LQ="_bannerRowBottom_q5gkc_93",DQ="_bannerSub_q5gkc_95",MQ="_monthPickerWrap_q5gkc_101",FQ="_monthPickerLabel_q5gkc_113",BQ="_monthPicker_q5gkc_101",$Q="_monthButton_q5gkc_131",OQ="_monthButtonText_q5gkc_159",VQ="_chev_q5gkc_161",UQ="_monthList_q5gkc_165",zQ="_monthOption_q5gkc_195",HQ="_monthBadge_q5gkc_221",GQ="_gridRow_q5gkc_237",WQ="_gridRowBottom_q5gkc_239",qQ="_sideImage_q5gkc_253",KQ="_sideImagePh_q5gkc_271",QQ="_emblemPanel_q5gkc_275",XQ="_emblemFrame_q5gkc_295",YQ="_emblemImg_q5gkc_297",JQ="_emblemPlaceholder_q5gkc_299",ZQ="_emblemShimmer_q5gkc_307",eX="_emblemCaption_q5gkc_315",tX="_card_q5gkc_319",sX="_cardHeader_q5gkc_331",nX="_cardTitle_q5gkc_339",rX="_cardSubtitle_q5gkc_341",iX="_headerRight_q5gkc_343",aX="_cardBody_q5gkc_345",oX="_tableWrap_q5gkc_349",lX="_tableTitle_q5gkc_351",cX="_table_q5gkc_349",dX="_th_q5gkc_355",uX="_td_q5gkc_355",hX="_tdEmpty_q5gkc_365",pX="_sectionDivider_q5gkc_375",mX="_sectionStripe_q5gkc_389",fX="_sectionTitle_q5gkc_397",ht={wrap:EQ,banner:AQ,bannerRowTop:IQ,bannerStripe:RQ,bannerTitle:PQ,bannerRowBottom:LQ,bannerSub:DQ,monthPickerWrap:MQ,monthPickerLabel:FQ,monthPicker:BQ,monthButton:$Q,monthButtonText:OQ,chev:VQ,monthList:UQ,monthOption:zQ,monthBadge:HQ,gridRow:GQ,gridRowBottom:WQ,sideImage:qQ,sideImagePh:KQ,emblemPanel:QQ,emblemFrame:XQ,emblemImg:YQ,emblemPlaceholder:JQ,emblemShimmer:ZQ,emblemCaption:eX,card:tX,cardHeader:sX,cardTitle:nX,cardSubtitle:rX,headerRight:iX,cardBody:aX,tableWrap:oX,tableTitle:lX,table:cX,th:dX,td:uX,tdEmpty:hX,sectionDivider:pX,sectionStripe:mX,sectionTitle:fX};function gX(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function rN(t,e="de-DE"){const s=new Date(t);return Number.isNaN(s.getTime())?"":s.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const iN=({title:t,subtitle:e,children:s,rightBadge:r})=>n.jsxs("section",{className:ht.card,children:[(t||e||r)&&n.jsxs("header",{className:ht.cardHeader,children:[n.jsxs("div",{className:ht.headerTitles,children:[t&&n.jsx("h3",{className:ht.cardTitle,children:t}),e&&n.jsx("div",{className:ht.cardSubtitle,children:e})]}),r&&n.jsx("div",{className:ht.headerRight,children:r})]}),n.jsx("div",{className:ht.cardBody,children:s})]}),aN=({block:t})=>{var r,i;const e=t.columns,s=(r=t.rows)!=null?r:[];return n.jsxs("div",{className:ht.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&n.jsx("div",{className:ht.tableTitle,children:t.title}),n.jsxs("table",{className:ht.table,children:[n.jsx("thead",{children:n.jsx("tr",{children:e.map(a=>n.jsx("th",{className:ht.th,style:{width:a.width},children:a.label},a.key))})}),n.jsx("tbody",{children:s.length===0?n.jsx("tr",{children:n.jsx("td",{className:ht.tdEmpty,colSpan:e.length,children:"No data"})}):s.map((a,l)=>{var d;return n.jsx("tr",{children:e.map(u=>{var v;const h=a[u.key],m=typeof h=="number"||typeof h=="string"?h:"",g=u.format==="num"?gX(m):m;return n.jsx("td",{className:ht.td,"data-align":(v=u.align)!=null?v:"left",children:u.render?u.render(a):g},u.key)})},(d=a.id)!=null?d:l)})})]}),t.footer&&n.jsx("div",{className:ht.tableFooter,children:t.footer})]})},xX=(t,e)=>{E.useEffect(()=>{function s(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[t,e])},vX=({months:t,currentKey:e,onChange:s,fallbackDate:r})=>{var m;if(!(Array.isArray(t)&&t.length>0&&e))return n.jsx("div",{className:ht.bannerSub,children:r!=null?r:""});const a=E.useRef(null),[l,d]=E.useState(!1);xX(a,()=>d(!1));const u=t.find(g=>g.key===e),h=u?`${rN(u.fromISO)}${rN(u.toISO)}  ${u.daysSpan}d${u.available?"":"  n/a"}`:void 0;return n.jsxs("div",{className:ht.monthPickerWrap,children:[n.jsx("div",{className:ht.monthPickerLabel,children:"Monat"}),n.jsxs("div",{className:ht.monthPicker,ref:a,children:[n.jsxs("button",{type:"button",className:ht.monthButton,onClick:()=>d(g=>!g),"aria-haspopup":"listbox","aria-expanded":l,children:[n.jsx("span",{className:ht.monthButtonText,children:(m=u==null?void 0:u.label)!=null?m:""}),n.jsx("svg",{className:ht.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),l&&n.jsx("ul",{className:ht.monthList,role:"listbox",children:t.map(g=>n.jsx("li",{children:n.jsx("button",{type:"button",className:ht.monthOption,onClick:()=>{d(!1),s==null||s(g.key)},role:"option","aria-selected":g.key===e,children:g.label})},g.key))})]}),h&&n.jsx("span",{className:ht.monthBadge,children:h})]})},yX=({title:t,monthRange:e,months:s,currentMonthKey:r,onMonthChange:i})=>n.jsxs("div",{className:ht.banner,children:[n.jsxs("div",{className:ht.bannerRowTop,children:[n.jsx("div",{className:ht.bannerStripe}),n.jsx("div",{className:ht.bannerTitle,children:t}),n.jsx("div",{className:ht.bannerStripe})]}),n.jsx("div",{className:ht.bannerRowBottom,children:n.jsx(vX,{months:s,currentKey:r,onChange:i,fallbackDate:e})})]}),bX=({emblemUrl:t,caption:e})=>n.jsxs("div",{className:ht.emblemPanel,children:[n.jsxs("div",{className:ht.emblemFrame,children:[t?n.jsx("img",{src:t,alt:"Guild Emblem",className:ht.emblemImg}):n.jsx("div",{className:ht.emblemPlaceholder,children:"Emblem"}),n.jsx("div",{className:ht.emblemShimmer})]}),e&&n.jsx("div",{className:ht.emblemCaption,children:e})]}),oN=({imgUrl:t,alt:e})=>n.jsx("div",{className:ht.sideImage,children:t?n.jsx("img",{src:t,alt:e!=null?e:"side"}):n.jsx("div",{className:ht.sideImagePh,children:"Image"})}),Yv=({children:t,className:e})=>n.jsx("div",{className:`${ht.gridRow} ${e!=null?e:""}`,children:t}),_X=({children:t})=>n.jsxs("div",{className:ht.sectionDivider,children:[n.jsx("div",{className:ht.sectionStripe}),n.jsx("div",{className:ht.sectionTitle,children:t}),n.jsx("div",{className:ht.sectionStripe})]}),wX=({data:t,onMonthChange:e})=>{const{header:s,panels:r,tablesTop:i,tablesBottom:a}=t;return n.jsxs("div",{className:ht.wrap,children:[n.jsx(yX,{title:s.title,monthRange:s.monthRange,months:s.months,currentMonthKey:s.currentMonthKey,onMonthChange:e}),n.jsxs(Yv,{children:[n.jsx(oN,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),n.jsx(bX,{emblemUrl:s.emblemUrl,caption:s.centerCaption}),n.jsx(oN,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),n.jsx(Yv,{children:i.map((l,d)=>n.jsx(iN,{title:l.title,subtitle:l.subtitle,children:n.jsx(aN,{block:l})},d))}),n.jsx(_X,{children:"Guild Overview"}),n.jsx(Yv,{className:ht.gridRowBottom,children:a.map((l,d)=>n.jsx(iN,{title:l.title,subtitle:l.subtitle,children:n.jsx(aN,{block:l})},d))})]})},jX=({guildId:t,guildName:e,guildServer:s})=>{const[r,i]=E.useState(!0),[a,l]=E.useState(null),[d,u]=E.useState(void 0),h=E.useRef({}),[m,g]=E.useState(()=>Tm(e,s));E.useEffect(()=>{let b=!1;async function S(){var C,R,F,D,A;i(!0);try{const y=yd(Ct,`guilds/${t}/history_monthly`),w=await pn(y),L=[];for(const I of w.docs){const M=I.id,P=I.data();if(!P)continue;h.current[M]=P;const O=(C=P==null?void 0:P.meta)!=null?C:{},$=O.fromISO||O.baselineISO||O.firstISO||"",W=O.toISO||O.latestISO||O.nowISO||"",H=Number((R=O.daysSpan)!=null?R:Math.floor((+new Date(W)-+new Date($))/864e5))||0,q=!!((D=(F=P==null?void 0:P.status)==null?void 0:F.available)!=null?D:$&&W&&H<=40),K=O.label||new Date(M+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});L.push({key:M,label:K,fromISO:$||new Date(M+"-01").toISOString(),toISO:W||new Date(M+"-28").toISOString(),daysSpan:H,available:q,reason:q||(A=P==null?void 0:P.status)==null?void 0:A.reason})}if(L.sort((I,M)=>I.key<M.key?1:-1),b)return;if(L.length===0){l(null),u(void 0),g(Tm(e,s)),i(!1);return}l(L);const N=L[0].key;u(N);const j=h.current[N];g(lN(j,{guildName:e,guildServer:s,currentMonthKey:N,months:L}))}catch(y){console.error(y),l(null),u(void 0),g(Tm(e,s))}finally{b||i(!1)}}return S(),()=>{b=!0}},[t,e,s]);async function v(b){u(b);let S=h.current[b];if(!S)try{const C=Xt(Ct,`guilds/${t}/history_monthly/${b}`),R=await Vn(C);R.exists()?(S=R.data(),h.current[b]=S):S=null}catch(C){console.error(C),S=null}if(!S){g(Tm(e,s,{currentMonthKey:b,months:a!=null?a:void 0}));return}g(lN(S,{guildName:e,guildServer:s,currentMonthKey:b,months:a!=null?a:void 0}))}return n.jsx(wX,{data:m,onMonthChange:v})};function Tm(t,e,s){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:gh(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:s==null?void 0:s.currentMonthKey,months:s==null?void 0:s.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[nl("Most Base Stats gained",e?`Server ${e}`:void 0),nl("Sum Base Stats"),nl("Highest Base Stats")],tablesBottom:[nl("Main & Con"),nl("Sum Base Stats"),nl("Highest Base Stats"),nl("Highest Total Stats")]}}function nl(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function lN(t,e){var l,d,u,h,m,g,v,b;(l=t==null?void 0:t.meta)!=null;const s={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:gh(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((S,C)=>{var R,F,D,A,y,w,L,N;return{id:(R=S.playerId)!=null?R:C,rank:C+1,name:(F=S.name)!=null?F:"-",level:(A=(D=S.levelLatest)!=null?D:S.level)!=null?A:null,base:(w=(y=S.baseLatest)!=null?y:S.base)!=null?w:null,delta:(N=(L=S.baseDelta)!=null?L:S.delta)!=null?N:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((u=t==null?void 0:t.sumBaseStats)!=null?u:[]).map((S,C)=>{var R,F,D,A,y,w,L;return{id:(R=S.playerId)!=null?R:C,rank:C+1,name:(F=S.name)!=null?F:"-",base:(D=S.base)!=null?D:null,stam:(y=(A=S.stamDelta)!=null?A:S.staminaDelta)!=null?y:null,sho:(L=(w=S.shoDelta)!=null?w:S.shootingDelta)!=null?L:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((h=t==null?void 0:t.highestBaseStats)!=null?h:[]).map((S,C)=>{var R,F,D,A,y;return{id:(R=S.playerId)!=null?R:C,rank:C+1,name:(F=S.name)!=null?F:"-",stats:(A=(D=S.stats)!=null?D:S.base)!=null?A:null,delta:(y=S.delta)!=null?y:null}})}],a=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((m=t==null?void 0:t.mainAndCon)!=null?m:[]).map((S,C)=>{var R,F,D,A,y,w;return{id:(R=S.playerId)!=null?R:C,rank:C+1,name:(F=S.name)!=null?F:"-",class:(A=(D=S.class)!=null?D:S.className)!=null?A:"",stats:(y=S.stats)!=null?y:null,delta:(w=S.delta)!=null?w:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((g=t==null?void 0:t.sumBaseStats)!=null?g:[]).map((S,C)=>{var R,F,D,A,y;return{id:(R=S.playerId)!=null?R:C,rank:C+1,name:(F=S.name)!=null?F:"-",base:(D=S.base)!=null?D:null,stam:(A=S.stamDelta)!=null?A:null,sho:(y=S.shoDelta)!=null?y:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((v=t==null?void 0:t.highestBaseStats)!=null?v:[]).map((S,C)=>{var R,F,D,A;return{id:(R=S.playerId)!=null?R:C,rank:C+1,name:(F=S.name)!=null?F:"-",stats:(D=S.stats)!=null?D:null,delta:(A=S.delta)!=null?A:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((b=t==null?void 0:t.highestTotalStats)!=null?b:[]).map((S,C)=>{var R,F,D,A;return{id:(R=S.playerId)!=null?R:C,rank:C+1,name:(F=S.name)!=null?F:"-",total:(D=S.total)!=null?D:null,delta:(A=S.delta)!=null?A:null}})}];return{header:s,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:a}}const SX="_root_r1uj3_5",NX="_sectionDivider_r1uj3_17",kX="_sectionStripe_r1uj3_31",TX="_sectionTitle_r1uj3_33",mu={root:SX,sectionDivider:NX,sectionStripe:kX,sectionTitle:TX},CX="_root_4jywc_1",EX="_accent_4jywc_31",cN={root:CX,default:"_default_4jywc_29",accent:EX};function wo({text:t,tone:e="default",className:s}){return n.jsx("div",{className:`${cN.root} ${cN[e]} ${s!=null?s:""}`.trim(),children:t})}const Cm=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function vE(t,e=64){if(!t)return;const s=Cm(t);let r=Ws.find(i=>Cm(i.label)===s);return r||(r=Ws.find(i=>Cm(i.label).startsWith(s)||s.startsWith(Cm(i.label)))),r?Vr(r.iconUrl,e):void 0}const AX="_card_vvv3s_3",IX="_wrap_vvv3s_31",RX="_divider_vvv3s_45",PX="_rows_vvv3s_77",LX="_row_vvv3s_77",DX="_left_vvv3s_109",MX="_label_vvv3s_111",FX="_avgHead_vvv3s_113",BX="_avgNum_vvv3s_115",$X="_top3_vvv3s_121",OX="_chip_vvv3s_123",VX="_badge_vvv3s_151",UX="_name_vvv3s_159",zX="_score_vvv3s_161",HX="_headerSpacer_vvv3s_167",Mn={card:AX,wrap:IX,divider:RX,rows:PX,row:LX,left:DX,label:MX,avgHead:FX,avgNum:BX,top3:$X,chip:OX,badge:VX,name:UX,score:zX,headerSpacer:HX};function GX({name:t,value:e,classLabel:s,colors:r}){const i=vE(s,64);return n.jsxs("div",{className:Mn.chip,children:[n.jsx("span",{className:Mn.badge,children:i?n.jsx("img",{src:i,alt:""}):null}),n.jsx("span",{className:Mn.name,children:t!=null?t:""}),n.jsx("span",{className:Mn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function WX({snapshot:t,colors:e,title:s="Base Stats"}){var l;const r=(l=t==null?void 0:t.members)!=null?l:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,h)=>{var m,g;return((m=h[d])!=null?m:0)-((g=u[d])!=null?g:0)}).slice(0,3),a=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return n.jsxs("div",{className:Mn.card,children:[n.jsx(wo,{text:s}),n.jsx("div",{className:Mn.headerSpacer}),n.jsxs("div",{className:Mn.wrap,children:[n.jsx("div",{className:Mn.divider}),n.jsx("div",{className:Mn.rows,children:a.map((d,u)=>n.jsxs("div",{className:Mn.row,children:[n.jsxs("div",{className:Mn.left,children:[n.jsx("div",{className:Mn.label,children:d.label}),n.jsx("div",{className:Mn.avgHead,children:""}),n.jsx("div",{className:Mn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),n.jsx("div",{className:Mn.top3,children:d.list.map((h,m)=>n.jsx(GX,{name:h.name,value:h[d.key],classLabel:h.class,colors:e},m))})]},u))})]})]})}const qX="_card_1enwc_1",KX="_wrap_1enwc_1",QX="_divider_1enwc_1",XX="_rows_1enwc_1",YX="_row_1enwc_1",JX="_left_1enwc_1",ZX="_label_1enwc_1",eY="_avgHead_1enwc_1",tY="_avgNum_1enwc_1",sY="_top3_1enwc_1",nY="_chip_1enwc_1",rY="_badge_1enwc_1",iY="_name_1enwc_1",aY="_score_1enwc_1",oY="_headerSpacer_1enwc_1",Fn={card:qX,wrap:KX,divider:QX,rows:XX,row:YX,left:JX,label:ZX,avgHead:eY,avgNum:tY,top3:sY,chip:nY,badge:rY,name:iY,score:aY,headerSpacer:oY};function lY({name:t,value:e,classLabel:s,colors:r}){const i=vE(s,64);return n.jsxs("div",{className:Fn.chip,children:[n.jsx("span",{className:Fn.badge,children:i?n.jsx("img",{src:i,alt:""}):null}),n.jsx("span",{className:Fn.name,children:t!=null?t:""}),n.jsx("span",{className:Fn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function cY({snapshot:t,colors:e,title:s="Total Stats"}){var l;const r=(l=t==null?void 0:t.members)!=null?l:[],i=d=>[...r].filter(u=>typeof u[d]=="number").sort((u,h)=>{var m,g;return((m=h[d])!=null?m:0)-((g=u[d])!=null?g:0)}).slice(0,3),a=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return n.jsxs("div",{className:Fn.card,children:[n.jsx(wo,{text:s}),n.jsx("div",{className:Fn.headerSpacer}),n.jsxs("div",{className:Fn.wrap,children:[n.jsx("div",{className:Fn.divider}),n.jsx("div",{className:Fn.rows,children:a.map((d,u)=>n.jsxs("div",{className:Fn.row,children:[n.jsxs("div",{className:Fn.left,children:[n.jsx("div",{className:Fn.label,children:d.label}),n.jsx("div",{className:Fn.avgHead,children:""}),n.jsx("div",{className:Fn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),n.jsx("div",{className:Fn.top3,children:d.list.map((h,m)=>n.jsx(lY,{name:h.name,value:h[d.key],classLabel:h.class,colors:e},m))})]},u))})]})]})}function dY({guild:t,snapshot:e,colors:s}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(wo,{text:"General Info"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function uY({colors:t}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(wo,{text:"Fortress"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function hY({colors:t}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(wo,{text:"Rankings"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function pY({colors:t}){return n.jsxs("div",{style:{background:"transparent"},children:[n.jsx(wo,{text:"Serververgleich"}),n.jsx("div",{style:{height:6}}),n.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const mY=E.memo(function({guild:e,snapshot:s,emblemUrl:r,colors:i}){const a=i.icon,l=({text:d})=>n.jsxs("div",{className:mu.sectionDivider,children:[n.jsx("div",{className:mu.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}}),n.jsx("div",{className:mu.sectionTitle,style:{color:i.soft},children:d}),n.jsx("div",{className:mu.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}})]});return n.jsxs("div",{className:mu.root+" space-y-4",children:[n.jsx(l,{text:"GUILD OVERVIEW"}),n.jsx("div",{style:{marginTop:6,marginBottom:10},children:n.jsx(l,{text:"AVERAGE PLAYER STATS"})}),n.jsx(dY,{guild:e,snapshot:s,colors:i}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[n.jsx(WX,{snapshot:s,colors:i}),n.jsx(cY,{snapshot:s,colors:i})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[n.jsx(uY,{colors:i}),n.jsx(hY,{colors:i})]}),n.jsx("div",{className:"mt-4",children:n.jsx(pY,{colors:i})})]})}),fY="_wrapper_zqchq_3",gY="_grid_zqchq_9",xY="_tile_zqchq_13",vY="_disabled_zqchq_37",yY="_crestWrap_zqchq_41",bY="_crest_zqchq_41",_Y="_ring_zqchq_53",wY="_badge_zqchq_55",jY="_meta_zqchq_67",SY="_nameRow_zqchq_69",NY="_name_zqchq_69",kY="_share_zqchq_73",TY="_sub_zqchq_75",CY="_tileButton_zqchq_79",EY="_donutCard_zqchq_85",AY="_donutHeader_zqchq_87",IY="_legend_zqchq_91",RY="_legendItem_zqchq_93",PY="_legendSwatch_zqchq_95",LY="_legendRight_zqchq_97",DY="_centerLabel_zqchq_101",gs={wrapper:fY,grid:gY,tile:xY,disabled:vY,crestWrap:yY,crest:bY,ring:_Y,badge:wY,meta:jY,nameRow:SY,name:NY,share:kY,sub:TY,tileButton:CY,donutCard:EY,donutHeader:AY,legend:IY,legendItem:RY,legendSwatch:PY,legendRight:LY,centerLabel:DY},p0=56;function Lf(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function dN(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const MY=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function FY(t){return t?/drive\.google\.com/.test(t):!1}function uN(t,e=p0){if(t)return FY(t)?Vr(t,e):t}function BY(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const s={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return s[e]?s[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function $Y(t){var m,g,v,b,S,C;if(!t)return null;const e=t,s=t,r=(m=e.key)!=null?m:s.id,i=(g=e.label)!=null?g:s.name,a=(b=(v=s.crestUrl)!=null?v:e.iconUrl)!=null?b:s.iconUrl,l=(S=e.iconUrl)!=null?S:s.iconUrl,d=(C=e.fallback)!=null?C:s.fallback;if(!r||!i)return null;const u=uN(a,p0),h=uN(l,p0);return{id:r,name:String(i),crestUrl:u||h,iconUrl:h||u,fallback:d?String(d):void 0}}function yE(t,e){var m,g,v,b,S,C,R,F,D,A,y,w,L,N,j,I,M,P,O,$,W;const s={},r={},i={},a={},l=e.map(H=>H.id);for(const H of l)s[H]=0,r[H]=0,i[H]=0,a[H]=null;for(const H of Array.isArray(t)?t:[]){const q=(w=(A=(F=(C=(b=(v=(g=(m=H.classId)!=null?m:H.class)!=null?g:H.klass)!=null?v:H.playerClass)!=null?b:H.cls)!=null?C:(S=H.values)==null?void 0:S.Class)!=null?F:(R=H.values)==null?void 0:R.class)!=null?A:(D=H.values)==null?void 0:D.Klasse)!=null?w:(y=H.values)==null?void 0:y.klasse,K=BY(q);if(!K||!l.includes(K))continue;s[K]+=1;const G=MY((I=(N=H.level)!=null?N:(L=H.values)==null?void 0:L.Level)!=null?I:(j=H.values)==null?void 0:j.level);G!=null&&(r[K]+=G,i[K]+=1,(!a[K]||((P=(M=a[K])==null?void 0:M.level)!=null?P:-1/0)<G)&&(a[K]={id:H.id,name:(W=($=H.name)!=null?$:(O=H.values)==null?void 0:O.Name)!=null?W:null,level:G}))}const d=Object.values(s).reduce((H,q)=>H+q,0),u={},h={};return l.forEach(H=>{u[H]=d>0?s[H]/d*100:0,h[H]=i[H]>0?r[H]/i[H]:null}),{counts:s,shares:u,avg:h,top:a}}const OY=({valuePct:t})=>{const s=2*Math.PI*28,r=s*(1-Math.max(0,Math.min(100,t))/100);return n.jsxs("svg",{className:gs.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[n.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),n.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:s,strokeDashoffset:r,strokeLinecap:"round"})]})},VY=({data:t,classMeta:e,onPickClass:s})=>{const[r,i]=E.useState({}),a=Array.isArray(t)?t:[],l=Array.isArray(e)?e:[],{counts:d,shares:u,avg:h,top:m}=E.useMemo(()=>yE(a,l),[a,l]);return n.jsx("section",{className:gs.wrapper,children:n.jsx("div",{className:gs.grid,style:{gridTemplateColumns:"1fr"},children:l.map(g=>{var D,A,y;const v=(D=d[g.id])!=null?D:0,b=(A=u[g.id])!=null?A:0,S=h[g.id],C=m[g.id],R=v<=0,F=r[g.id]?void 0:g.crestUrl||g.iconUrl;return n.jsxs("div",{className:`${gs.tile} ${R?gs.disabled:""}`,title:R?`${g.name}: kein Mitglied`:`${g.name}  ${dN(v)}  ${Lf(b)}${S?`   ${S.toFixed(1)}`:""}`,children:[n.jsxs("div",{className:gs.crestWrap,children:[F?n.jsx("img",{className:gs.crest,src:F,alt:g.name,onError:()=>i(w=>({...w,[g.id]:!0}))}):n.jsx("div",{className:gs.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(y=g.fallback)!=null?y:""}),n.jsx(OY,{valuePct:b}),n.jsx("div",{className:gs.badge,children:dN(v)})]}),n.jsxs("div",{className:gs.meta,children:[n.jsxs("div",{className:gs.nameRow,children:[n.jsx("div",{className:gs.name,children:g.name}),n.jsx("div",{className:gs.share,children:Lf(b)})]}),n.jsxs("div",{className:gs.sub,children:[S?` Lvl ${S.toFixed(1)}`:"",C?`  Top: ${C.name}${C.level?` (Lv ${C.level})`:""}`:""]})]}),!R&&s&&n.jsx("button",{className:gs.tileButton,onClick:()=>s(g.id),"aria-label":`${g.name} filtern`})]},g.id)})})})},UY=({data:t,classMeta:e})=>{const s=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:a}=E.useMemo(()=>yE(s,r),[s,r]),l=E.useMemo(()=>Object.values(a).reduce((d,u)=>d+u,0),[a]);return n.jsxs("div",{className:gs.donutCard,children:[n.jsxs("div",{className:gs.donutHeader,children:[n.jsx("div",{children:"Klassen-Verteilung"}),n.jsxs("div",{className:gs.legendRight,children:["Gesamt: ",l]})]}),n.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[n.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[n.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const g=Math.PI*2,v=r.map((S,C)=>{var R;return{id:S.id,pct:(R=i[S.id])!=null?R:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*C)} 60% 55%)`}});let b=0;return v.map(S=>{const C=(S.pct||0)/100;if(C<=0)return null;const R=b,F=b+g*C;b=F;const D=F-R>Math.PI?1:0,A=130+100*Math.cos(R),y=130+100*Math.sin(R),w=130+100*Math.cos(F),L=130+100*Math.sin(F),N=130+64*Math.cos(F),j=130+64*Math.sin(F),I=130+64*Math.cos(R),M=130+64*Math.sin(R),P=`M ${A} ${y} A 100 100 0 ${D} 1 ${w} ${L} L ${N} ${j} A 64 64 0 ${D} 0 ${I} ${M} Z`;return n.jsx("path",{d:P,fill:S.color,opacity:.95},S.id)})})()]}),n.jsx("div",{className:gs.legend,children:r.map((d,u)=>{var g,v;const h=(g=i[d.id])!=null?g:0,m=(v=a[d.id])!=null?v:0;return n.jsxs("div",{className:gs.legendItem,title:`${d.name}: ${m}  ${Lf(h)}`,children:[n.jsx("span",{className:gs.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*u)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),n.jsx("span",{children:d.name}),n.jsxs("span",{className:gs.legendRight,children:[m,"  ",Lf(h)]})]},d.id)})})]}),n.jsx("div",{className:gs.centerLabel,children:"Anteile je Klasse"})]})},Ms={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},zY=t=>{var e,s,r,i,a,l,d,u,h,m,g,v,b,S,C;return{id:t.id,name:(e=t.name)!=null?e:"Unknown",class:(s=t.class)!=null?s:"Unknown",role:(r=t.role)!=null?r:"Unknown",level:(i=t.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(a=t.lastActivityMs)!=null?a:null,server:null,baseStats:{main:(l=t.baseMain)!=null?l:void 0,con:(d=t.conBase)!=null?d:void 0,sumBaseTotal:(u=t.sumBaseTotal)!=null?u:void 0},totalStats:(h=t.totalStats)!=null?h:void 0,values:{treasury:(m=t.treasury)!=null?m:void 0,mine:(g=t.mine)!=null?g:void 0,attrTotal:(v=t.attrTotal)!=null?v:void 0,conTotal:(b=t.conTotal)!=null?b:void 0,lastScan:(S=t.lastScan)!=null?S:void 0,lastActivity:(C=t.lastActivity)!=null?C:void 0}}},Jv=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},HY=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function bE({title:t,right:e,children:s}){return n.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:Ms.tile,border:`1px solid ${Ms.line}`},children:[(t||e)&&n.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:Ms.line},children:[n.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:Ms.soft},children:t}),e]}),n.jsx("div",{className:"p-4",children:s})]})}function fu({k:t,v:e}){return n.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[n.jsx("span",{className:"opacity-80",children:t}),n.jsx("span",{className:"font-semibold",style:{color:Ms.title},children:e})]})}function GY({guild:t}){var s,r;const e=gh(t.name,800);return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:n.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?n.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):n.jsx("div",{className:"text-6xl",children:""})})}),n.jsx(bE,{title:"GILDEN INFO",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[n.jsx(fu,{k:"Mitglieder",v:(s=t.memberCount)!=null?s:""}),n.jsx(fu,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),n.jsx(fu,{k:"Server",v:(r=t.server)!=null?r:""}),n.jsx(fu,{k:"Inaktiv",v:"0"}),n.jsx(fu,{k:"Aktivitt",v:"100%"})]})})]})}function Zv(){var R,F,D,A,y,w;const t=Gf(),e=t.id||t.gid||t.guildId||t.guild||"",s=Or(),[r,i]=E.useState(!0),[a,l]=E.useState(null),[d,u]=E.useState(null),[h,m]=E.useState(null),[g,v]=E.useState("grid"),b=E.useMemo(()=>(Array.isArray(Ws)?Ws:[]).map($Y).filter(Boolean),[]);E.useEffect(()=>{let L=!1;async function N(){var j,I,M,P,O,$,W,H,q,K,G,te,ne,U,J,ce,ee,fe,Ce,ge,ke,Se,ue,De,Ee,tt,pt,Ht,Ss,Ns,$s,ys,Ne,Re,Ae,Ue,nt;i(!0),l(null);try{const ut=e.trim();if(!ut){l("Keine Gilde gewhlt."),i(!1);return}const xt=Xt(Ct,`guilds/${ut}/latest/latest`),Vt=await Vn(xt);if(!Vt.exists()){l("Gilde nicht gefunden."),i(!1);return}const Bt=Vt.data(),ir=(M=(I=Bt.name)!=null?I:(j=Bt.values)==null?void 0:j.Name)!=null?M:ut,vn=($=(O=Bt.server)!=null?O:(P=Bt.values)==null?void 0:P.Server)!=null?$:null,Os=(G=Jv((K=(H=Bt.memberCount)!=null?H:(W=Bt.values)==null?void 0:W["Guild Member Count"])!=null?K:(q=Bt.values)==null?void 0:q.GuildMemberCount))!=null?G:null,_r=(ge=Jv((Ce=(ee=(J=(ne=Bt.hofRank)!=null?ne:(te=Bt.values)==null?void 0:te["Hall of Fame Rank"])!=null?J:(U=Bt.values)==null?void 0:U.HoF)!=null?ee:(ce=Bt.values)==null?void 0:ce.Rank)!=null?Ce:(fe=Bt.values)==null?void 0:fe["Guild Rank"]))!=null?ge:null,hi=HY(Jv(Bt.timestamp));L||u({id:ut,name:ir,server:vn,memberCount:Os,hofRank:_r,lastScanDays:hi});const pi=Xt(Ct,`guilds/${ut}/snapshots/members_summary`),Ur=await Vn(pi);if(Ur.exists()&&!L){const ns=Ur.data(),wr={guildId:String((ke=ns.guildId)!=null?ke:ut),updatedAt:String((De=(ue=ns.updatedAt)!=null?ue:(Se=Bt.values)==null?void 0:Se.Timestamp)!=null?De:""),updatedAtMs:Number((tt=(Ee=ns.updatedAtMs)!=null?Ee:Bt.timestamp*1e3)!=null?tt:0),count:Number((pt=ns.count)!=null?pt:0),hash:String((Ht=ns.hash)!=null?Ht:""),avgLevel:(Ss=ns.avgLevel)!=null?Ss:null,avgTreasury:(Ns=ns.avgTreasury)!=null?Ns:null,avgMine:($s=ns.avgMine)!=null?$s:null,avgBaseMain:(ys=ns.avgBaseMain)!=null?ys:null,avgConBase:(Ne=ns.avgConBase)!=null?Ne:null,avgSumBaseTotal:(Re=ns.avgSumBaseTotal)!=null?Re:null,avgAttrTotal:(Ae=ns.avgAttrTotal)!=null?Ae:null,avgConTotal:(Ue=ns.avgConTotal)!=null?Ue:null,avgTotalStats:(nt=ns.avgTotalStats)!=null?nt:null,members:Array.isArray(ns.members)?ns.members:[]};m(wr)}}catch(ut){L||l((ut==null?void 0:ut.message)||"Fehler beim Laden.")}finally{L||i(!1)}}return N(),()=>{L=!0}},[e]);const S=E.useMemo(()=>{var L;return((L=h==null?void 0:h.members)!=null?L:[]).map(N=>zY(N))},[h]);if(r)return n.jsx(Nt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:n.jsx("div",{className:"text-sm",style:{color:Ms.soft},children:"Lade Gildenprofil"})});if(!d)return n.jsx(Nt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:n.jsxs("div",{className:"text-sm",style:{color:Ms.soft},children:[a!=null?a:"Unbekannter Fehler.",n.jsx("div",{className:"mt-3",children:n.jsx("button",{onClick:()=>s("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const C=n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"px-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${Ms.line}`,position:"relative",zIndex:2},children:[n.jsx("div",{className:"min-w-[120px]",children:n.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:Ms.tile,border:`1px solid ${Ms.line}`,color:Ms.title},children:(R=d.server)!=null?R:"S?.EU"})}),n.jsx("div",{className:"flex-1 text-center",children:n.jsx("div",{className:"font-extrabold",style:{color:Ms.title,fontSize:26,lineHeight:1.15},children:d.name})}),n.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:Ms.soft},children:["Zuletzt aktualisiert:",h!=null&&h.updatedAt?h.updatedAt:""," ",n.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),n.jsx("div",{style:{height:1,background:Ms.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return n.jsxs(Nt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[C,n.jsx("div",{className:"px-6 pb-8",children:n.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[n.jsx("div",{className:"col-span-12 md:col-span-3",children:n.jsx(GY,{guild:d})}),n.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[n.jsx(mY,{guild:d,snapshot:h,emblemUrl:gh(d.name,512)||void 0,colors:Ms}),n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-full max-w-[980px]",children:n.jsx(TQ,{guildName:d.name,server:(F=d.server)!=null?F:"",emblemUrl:gh(d.name,512)||void 0,lastScanISO:h!=null&&h.updatedAtMs?new Date(h.updatedAtMs).toISOString():void 0,members:(D=d.memberCount)!=null?D:0,avgLevel:(A=h==null?void 0:h.avgLevel)!=null?A:0,totalPower:(y=h==null?void 0:h.avgTotalStats)!=null?y:void 0,tickerItems:h!=null&&h.updatedAt?[`Updated ${h.updatedAt}`,`Members ${(w=d.memberCount)!=null?w:0}`]:void 0})})}),n.jsx(WY,{members:S,guildId:d.id,guildName:d.name,guildServer:d.server})]}),n.jsxs("div",{className:"col-span-12 md:col-span-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("button",{onClick:()=>v("grid"),"aria-label":"Klassenbersicht",children:n.jsx(wo,{text:"Klassenbersicht",tone:g==="grid"?"accent":"default"})}),n.jsx("button",{onClick:()=>v("donut"),"aria-label":"Klassenverteilung",children:n.jsx(wo,{text:"Klassenverteilung",tone:g==="donut"?"accent":"default"})})]}),g==="grid"?n.jsx(VY,{data:S,classMeta:b,onPickClass:L=>{const N=new URL(window.location.href);N.searchParams.set("tab","bersicht"),N.searchParams.set("class",L),window.location.href=N.toString()}}):n.jsx(UY,{data:S,classMeta:b})]})]})})]})}function WY({members:t,guildId:e,guildName:s,guildServer:r}){const[i,a]=E.useState("bersicht");return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:Ms.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(l=>{const d=l===i;return n.jsx("button",{role:"tab","aria-selected":d,onClick:()=>a(l),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?Ms.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:Ms.title},children:l},l)})}),n.jsxs(bE,{children:[i==="bersicht"&&n.jsx(kQ,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&n.jsxs("div",{className:"text-sm",style:{color:Ms.soft},children:["Platzhalter ",n.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&n.jsx(jX,{guildId:e,guildName:s,guildServer:r}),i==="Historie"&&n.jsxs("div",{className:"text-sm",style:{color:Ms.soft},children:["Platzhalter ",n.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function qY(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Servers"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsx(hN,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),n.jsx(hN,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function hN({to:t,title:e,desc:s}){return n.jsxs(Wt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),s?n.jsx("div",{style:{opacity:.75,marginTop:4},children:s}):null]})}function KY(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Servers  Rankings"}),n.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function QY(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Servers  Stats"}),n.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const Ys={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function pN({children:t,style:e}){return n.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function XY({size:t=36}){return n.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:n.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function Sc({label:t,value:e}){return n.jsxs("div",{style:{background:Ys.tileAlt,border:`1px solid ${Ys.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[n.jsx("div",{style:{fontSize:12,color:Ys.textSoft,marginBottom:4},children:t}),n.jsx("div",{style:{fontSize:22,color:Ys.title,fontWeight:700},children:e})]})}function YY(t){const e=t.trim(),s=e.toUpperCase(),r=e.toLowerCase(),i=s.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),a=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let l="";const d=s.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const u=d[1],h=String(parseInt(d[2],10)),m=u==="EU"?"eu":u==="US"?"us":u==="AM"?"net":u.toLowerCase();l=`s${h}.sfgame.${m}`}return Array.from(new Set([e,s,r,i,a,l].filter(Boolean)))}function ey(){var C,R,F,D;const t=Gf(),e=Or(),s=rr(),r=t.id||t.sid||t.serverId||t.server||"",[i,a]=E.useState(!0),[l,d]=E.useState(null),[u,h]=E.useState(null),[m,g]=E.useState(null);E.useEffect(()=>{let A=!1;async function y(){a(!0),d(null),h(null),g(null);try{const w=r.trim();if(!w)throw new Error("Kein Server gewhlt.");const L=Xt(Ct,`servers/${w}`),N=await Vn(L);if(N.exists()){A||(h(N.id),g(N.data()));return}const j=yd(Ct,"servers"),I=YY(w),M=[];for(const W of I)M.push(pn($n(j,xl("code","==",W),On(1)))),M.push(pn($n(j,xl("displayName","==",W),On(1)))),M.push(pn($n(j,xl("host","==",W),On(1))));const P=await Promise.allSettled(M);let O=null,$=null;for(const W of P){if(W.status!=="fulfilled")continue;const H=W.value;if(!H.empty){const q=H.docs[0];O=q.id,$=q.data();break}}if(!O||!$)throw new Error("Server nicht gefunden.");A||(h(O),g($),O!==w&&e(`/server/${encodeURIComponent(O)}`,{replace:!0,state:{from:s.pathname}}))}catch(w){A||d((w==null?void 0:w.message)||"Fehler beim Laden.")}finally{A||a(!1)}}return y(),()=>{A=!0}},[r,e,s.pathname]);const v=E.useMemo(()=>n.jsxs("div",{style:{padding:24,color:Ys.textSoft},children:[l!=null?l:"Unbekannter Fehler.",n.jsx("div",{style:{marginTop:12},children:n.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:Ys.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,e]);if(i)return n.jsx(Nt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:n.jsx("div",{style:{padding:16,color:Ys.textSoft},children:"Lade Serverprofil"})});if(!m)return n.jsx(Nt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:v});const b=m.displayName||m.code||u||r,S=m.active===!0?"Aktiv":m.active===!1?"Inaktiv":"";return n.jsxs(Nt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[n.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${Ys.line}`},children:n.jsxs(pN,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[n.jsx(XY,{size:36}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:18,color:Ys.title,fontWeight:700},children:b}),n.jsxs("div",{style:{fontSize:12,color:Ys.textSoft},children:[m.host||"","  ",m.region||"","  ",((C=m.type)==null?void 0:C.toUpperCase())||""]})]})]})}),n.jsxs(pN,{style:{paddingTop:12,paddingBottom:24},children:[n.jsxs("div",{style:{background:Ys.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${Ys.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:0,color:Ys.title,fontSize:24,fontWeight:800},children:b}),n.jsxs("div",{style:{marginTop:6,color:Ys.textSoft,fontSize:13},children:[m.host||"","  ",m.region||"","  ",((R=m.type)==null?void 0:R.toUpperCase())||""]})]}),n.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[n.jsxs("span",{style:{color:Ys.textSoft},children:["Status: ",S]}),n.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:m.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[n.jsx(Sc,{label:"Code",value:m.code||""}),n.jsx(Sc,{label:"Host",value:m.host||""}),n.jsx(Sc,{label:"Region",value:m.region||""}),n.jsx(Sc,{label:"Typ",value:((F=m.type)==null?void 0:F.toUpperCase())||""}),n.jsx(Sc,{label:"Numeric ID",value:(D=m.numericId)!=null?D:""}),n.jsx(Sc,{label:"Status",value:S})]}),n.jsxs("div",{style:{marginTop:16,background:Ys.tileAlt,padding:15,borderRadius:12,border:`1px solid ${Ys.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:Ys.textSoft},children:["Platzhalter ",n.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const JY="_page_177kv_1",ZY="_sectionCard_177kv_15",eJ="_identityCard_177kv_29",tJ="_identityGrid_177kv_39",sJ="_profileName_177kv_63",nJ="_identityMeta_177kv_77",rJ="_mainCharacter_177kv_95",iJ="_characterHeader_177kv_117",aJ="_characterTitle_177kv_131",oJ="_characterSubtitle_177kv_143",lJ="_classIcon_177kv_153",cJ="_metaGrid_177kv_181",dJ="_metaLabel_177kv_193",uJ="_metaValue_177kv_207",hJ="_portrait_177kv_217",pJ="_sectionHeader_177kv_245",mJ="_sectionHint_177kv_265",fJ="_bioText_177kv_275",gJ="_tagGroups_177kv_295",xJ="_tagGroupLabel_177kv_309",vJ="_tagList_177kv_323",yJ="_tag_177kv_295",bJ="_showcaseGrid_177kv_353",_J="_characterCard_177kv_365",wJ="_characterCardHeader_177kv_385",jJ="_characterName_177kv_399",SJ="_badge_177kv_411",NJ="_characterMeta_177kv_433",kJ="_characterStats_177kv_449",TJ="_statGrid_177kv_465",CJ="_statTile_177kv_477",EJ="_statLabel_177kv_491",AJ="_statValue_177kv_505",IJ="_statSubtext_177kv_519",RJ="_emptyState_177kv_531",PJ="_recordsHighlights_177kv_551",LJ="_highlightCard_177kv_565",DJ="_recordType_177kv_579",MJ="_recordTitle_177kv_593",FJ="_timeline_177kv_607",BJ="_timelineItem_177kv_625",$J="_timelineBullet_177kv_635",OJ="_timelineContent_177kv_653",VJ="_timelineTitle_177kv_661",UJ="_timelineMeta_177kv_673",zJ="_achievementsHighlights_177kv_685",HJ="_achievementCard_177kv_699",GJ="_achievementIcon_177kv_723",WJ="_achievementName_177kv_747",qJ="_achievementDesc_177kv_759",KJ="_achievementTier_177kv_771",QJ="_achievementDate_177kv_785",XJ="_achievementsGrid_177kv_795",YJ="_achievementBadge_177kv_807",JJ="_tierGold_177kv_831",ZJ="_tierSilver_177kv_839",eZ="_tierBronze_177kv_847",Pe={page:JY,sectionCard:ZY,identityCard:eJ,identityGrid:tJ,profileName:sJ,identityMeta:nJ,mainCharacter:rJ,characterHeader:iJ,characterTitle:aJ,characterSubtitle:oJ,classIcon:lJ,metaGrid:cJ,metaLabel:dJ,metaValue:uJ,portrait:hJ,sectionHeader:pJ,sectionHint:mJ,bioText:fJ,tagGroups:gJ,tagGroupLabel:xJ,tagList:vJ,tag:yJ,showcaseGrid:bJ,characterCard:_J,characterCardHeader:wJ,characterName:jJ,badge:SJ,characterMeta:NJ,characterStats:kJ,statGrid:TJ,statTile:CJ,statLabel:EJ,statValue:AJ,statSubtext:IJ,emptyState:RJ,recordsHighlights:PJ,highlightCard:LJ,recordType:DJ,recordTitle:MJ,timeline:FJ,timelineItem:BJ,timelineBullet:$J,timelineContent:OJ,timelineTitle:VJ,timelineMeta:UJ,achievementsHighlights:zJ,achievementCard:HJ,achievementIcon:GJ,achievementName:WJ,achievementDesc:qJ,achievementTier:KJ,achievementDate:QJ,achievementsGrid:XJ,achievementBadge:YJ,tierGold:JJ,tierSilver:ZJ,tierBronze:eZ},tZ={profileUser:{displayName:"Aurora Drake",languages:["en","de"],roles:["guildleader","tryhard"]},mainCharacter:{name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",lastScanAt:"2025-11-18T21:14:00.000Z"},bio:"Veteran guild leader focused on high-end fusion planning and experimental scrapbook routes. Available for collabs, raid clinics, and panel talks about SF scanning culture.",showcaseCharacters:[{id:"c1",name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",tag:"main",scrapbookPercent:92,highlightProgress:"Fortress 17"},{id:"c2",name:"Stardiver",class:"Scout",level:223,server:"S17  Blackwater",guildName:"Vault Seven",tag:"alt",scrapbookPercent:81,highlightProgress:"Dungeon 12"},{id:"c3",name:"Archivist Aria",class:"Warrior",level:210,server:"S09  Emerald Peak",guildName:"Heritage Keepers",tag:"archive",scrapbookPercent:68,highlightProgress:"Event Trophy 24"},{id:"c4",name:"Flux Operative",class:"Assassin",level:198,server:"S77  Quantum Vale",guildName:"Pulse Collective",tag:"event",scrapbookPercent:74,highlightProgress:"Festival Rank A"}],scanStats:{totalScans:1428,uniquePlayersScanned:613,uniqueGuildsScanned:108,scansLast30d:74,topServers:["S51 Neverwinter","S17 Blackwater","S77 Quantum Vale"],firstScanAt:"2022-07-12T10:00:00.000Z"},recordsAndMilestones:[{id:"r1",type:"record",title:"Fastest double fusion hand-in",when:"2024-05-09T00:00:00.000Z",context:"Guild Week  Starfall Syndicate"},{id:"r2",type:"record",title:"Scrapbook mentor program launched",when:"2023-11-14T00:00:00.000Z",context:"Community Scan Clinic"},{id:"r3",type:"milestone",title:"1000 scans uploaded",when:"2023-05-07T00:00:00.000Z",context:"SFDataHub milestone"},{id:"r4",type:"milestone",title:"Guest host at SF Magazine Live",when:"2022-10-19T00:00:00.000Z",context:"SFTV Stage"}],achievements:[{id:"a1",nameKey:"achievements.legendaryScout.name",descriptionKey:"achievements.legendaryScout.description",tier:"gold",unlockedAt:"2024-06-21T00:00:00.000Z"},{id:"a2",nameKey:"achievements.scanCoach.name",descriptionKey:"achievements.scanCoach.description",tier:"silver",unlockedAt:"2023-12-02T00:00:00.000Z"},{id:"a3",nameKey:"achievements.guildPulse.name",descriptionKey:"achievements.guildPulse.description",tier:"silver",unlockedAt:"2023-04-17T00:00:00.000Z"},{id:"a4",nameKey:"achievements.veteranArchivist.name",descriptionKey:"achievements.veteranArchivist.description",tier:"bronze",unlockedAt:"2022-12-28T00:00:00.000Z"},{id:"a5",nameKey:"achievements.eventStrategist.name",descriptionKey:"achievements.eventStrategist.description",tier:"bronze"}]},sZ=1e3*60*60*24,mN={gold:3,silver:2,bronze:1};function nZ(t){const e=new Date(t).getTime();if(Number.isNaN(e))return null;const s=Date.now()-e;return s<0?0:Math.floor(s/sZ)}function Em(t){const e=new Date(t);return Number.isNaN(e.getTime())?ot("profile.public.identity.dateUnknown"):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}function rZ(){const{profileId:t}=Gf(),e=tZ,s=nZ(e.mainCharacter.lastScanAt),r=new Intl.NumberFormat,i=e.recordsAndMilestones.filter(m=>m.type==="record").slice(0,3),a=[...e.achievements].sort((m,g)=>mN[g.tier]-mN[m.tier]).slice(0,3),l=[{label:ot("profile.public.stats.totalScans"),value:r.format(e.scanStats.totalScans)},{label:ot("profile.public.stats.uniquePlayers"),value:r.format(e.scanStats.uniquePlayersScanned)},{label:ot("profile.public.stats.uniqueGuilds"),value:r.format(e.scanStats.uniqueGuildsScanned)},{label:ot("profile.public.stats.last30d"),value:r.format(e.scanStats.scansLast30d)}],d=s==null?ot("profile.public.identity.dateUnknown"):s===0?ot("profile.public.identity.lastScanToday"):`${s} ${ot("profile.public.identity.daysAgoSuffix")}`,u=ot("profile.public.identity.portraitPlaceholder"),h=e.scanStats.topServers.length>0?e.scanStats.topServers.join(", "):ot("profile.public.identity.unknownValue");return n.jsx(Nt,{title:ot("profile.public.title"),subtitle:ot("profile.public.subtitle"),centerFramed:!1,padded:!0,children:n.jsxs("div",{className:Pe.page,children:[n.jsx("section",{className:`${Pe.sectionCard} ${Pe.identityCard}`,children:n.jsxs("div",{className:Pe.identityGrid,children:[n.jsxs("div",{children:[n.jsx("h1",{className:Pe.profileName,children:e.profileUser.displayName}),n.jsxs("div",{className:Pe.identityMeta,children:[n.jsxs("span",{children:[ot("profile.public.identity.profileIdLabel"),": ",t!=null?t:ot("profile.public.identity.unknownValue")]}),n.jsxs("span",{children:[ot("profile.public.identity.lastScanLabel"),": ",d]})]}),n.jsxs("article",{className:Pe.mainCharacter,children:[n.jsxs("div",{className:Pe.characterHeader,children:[n.jsxs("div",{children:[n.jsx("div",{className:Pe.metaLabel,children:ot("profile.public.identity.mainCharacterLabel")}),n.jsx("div",{className:Pe.characterTitle,children:e.mainCharacter.name}),n.jsxs("div",{className:Pe.characterSubtitle,children:[e.mainCharacter.class,"  ",ot("profile.public.identity.levelShort")," ",e.mainCharacter.level]})]}),n.jsx("div",{className:Pe.classIcon,children:e.mainCharacter.class.charAt(0)})]}),n.jsxs("div",{className:Pe.metaGrid,children:[n.jsxs("div",{children:[n.jsx("div",{className:Pe.metaLabel,children:ot("profile.public.identity.serverLabel")}),n.jsx("div",{className:Pe.metaValue,children:e.mainCharacter.server})]}),n.jsxs("div",{children:[n.jsx("div",{className:Pe.metaLabel,children:ot("profile.public.identity.guildLabel")}),n.jsx("div",{className:Pe.metaValue,children:e.mainCharacter.guildName})]})]})]})]}),n.jsx("div",{className:Pe.portrait,children:u})]})}),n.jsxs("section",{className:Pe.sectionCard,children:[n.jsx("div",{className:Pe.sectionHeader,children:n.jsx("span",{children:ot("profile.public.bio.title")})}),n.jsx("p",{className:Pe.bioText,children:e.bio}),n.jsxs("div",{className:Pe.tagGroups,children:[n.jsxs("div",{children:[n.jsx("div",{className:Pe.tagGroupLabel,children:ot("profile.public.bio.languagesLabel")}),n.jsx("div",{className:Pe.tagList,children:e.profileUser.languages.length>0?e.profileUser.languages.map(m=>n.jsx("span",{className:Pe.tag,children:m.toUpperCase()},m)):n.jsx("span",{className:Pe.tag,children:ot("profile.public.identity.unknownValue")})})]}),n.jsxs("div",{children:[n.jsx("div",{className:Pe.tagGroupLabel,children:ot("profile.public.bio.rolesLabel")}),n.jsx("div",{className:Pe.tagList,children:e.profileUser.roles.length>0?e.profileUser.roles.map(m=>n.jsx("span",{className:Pe.tag,children:ot(`profile.public.roles.${m}`)},m)):n.jsx("span",{className:Pe.tag,children:ot("profile.public.identity.unknownValue")})})]})]})]}),n.jsxs("section",{className:Pe.sectionCard,children:[n.jsxs("div",{className:Pe.sectionHeader,children:[n.jsx("span",{children:ot("profile.public.showcase.title")}),n.jsx("span",{className:Pe.sectionHint,children:ot("profile.public.showcase.subtitle")})]}),e.showcaseCharacters.length===0?n.jsx("div",{className:Pe.emptyState,children:ot("profile.public.showcase.empty")}):n.jsx("div",{className:Pe.showcaseGrid,children:e.showcaseCharacters.map(m=>n.jsxs("article",{className:Pe.characterCard,children:[n.jsxs("div",{className:Pe.characterCardHeader,children:[n.jsxs("div",{children:[n.jsx("div",{className:Pe.characterName,children:m.name}),n.jsxs("div",{className:Pe.characterMeta,children:[n.jsx("span",{children:m.class}),n.jsxs("span",{children:[ot("profile.public.identity.levelShort")," ",m.level]})]})]}),n.jsx("span",{className:Pe.badge,children:ot(`profile.public.showcase.tags.${m.tag}`)})]}),n.jsxs("div",{className:Pe.characterMeta,children:[n.jsx("span",{children:m.server}),n.jsx("span",{children:m.guildName})]}),n.jsxs("div",{className:Pe.characterStats,children:[n.jsxs("span",{children:[ot("profile.public.showcase.scrapbookLabel")," ",m.scrapbookPercent,"%"]}),n.jsxs("span",{children:[ot("profile.public.showcase.highlightLabel"),": ",m.highlightProgress]})]})]},m.id))})]}),n.jsxs("section",{className:Pe.sectionCard,children:[n.jsx("div",{className:Pe.sectionHeader,children:n.jsx("span",{children:ot("profile.public.stats.title")})}),n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Pe.statGrid,children:l.map(m=>n.jsxs("article",{className:Pe.statTile,children:[n.jsx("div",{className:Pe.statLabel,children:m.label}),n.jsx("div",{className:Pe.statValue,children:m.value})]},m.label))}),n.jsxs("div",{className:Pe.statSubtext,children:[ot("profile.public.stats.topServersLabel"),": ",h]}),n.jsxs("div",{className:Pe.statSubtext,children:[ot("profile.public.stats.firstScanLabel"),": ",Em(e.scanStats.firstScanAt)]})]})]}),n.jsxs("section",{className:Pe.sectionCard,children:[n.jsx("div",{className:Pe.sectionHeader,children:n.jsx("span",{children:ot("profile.public.records.title")})}),e.recordsAndMilestones.length===0?n.jsx("div",{className:Pe.emptyState,children:ot("profile.public.records.empty")}):n.jsxs(n.Fragment,{children:[i.length>0&&n.jsx("div",{className:Pe.recordsHighlights,children:i.map(m=>n.jsxs("article",{className:Pe.highlightCard,children:[n.jsx("div",{className:Pe.recordType,children:ot(`profile.public.records.type.${m.type}`)}),n.jsx("div",{className:Pe.recordTitle,children:m.title}),n.jsxs("div",{className:Pe.timelineMeta,children:[Em(m.when),"  ",m.context]})]},m.id))}),n.jsx("ul",{className:Pe.timeline,children:e.recordsAndMilestones.map(m=>n.jsxs("li",{className:Pe.timelineItem,children:[n.jsx("div",{className:Pe.timelineBullet}),n.jsxs("div",{className:Pe.timelineContent,children:[n.jsx("div",{className:Pe.timelineTitle,children:m.title}),n.jsxs("div",{className:Pe.timelineMeta,children:[Em(m.when),"  ",m.context]})]})]},m.id))})]})]}),n.jsxs("section",{className:Pe.sectionCard,children:[n.jsxs("div",{className:Pe.sectionHeader,children:[n.jsx("span",{children:ot("profile.public.achievements.title")}),e.achievements.length>0&&n.jsx("span",{className:Pe.sectionHint,children:ot("profile.public.achievements.highlights")})]}),e.achievements.length===0?n.jsx("div",{className:Pe.emptyState,children:ot("profile.public.achievements.empty")}):n.jsxs(n.Fragment,{children:[a.length>0&&n.jsx("div",{className:Pe.achievementsHighlights,children:a.map(m=>n.jsxs("article",{className:Pe.achievementCard,children:[n.jsx("div",{className:[Pe.achievementIcon,m.tier==="gold"?Pe.tierGold:m.tier==="silver"?Pe.tierSilver:Pe.tierBronze].join(" "),children:m.tier.charAt(0).toUpperCase()}),n.jsx("div",{className:Pe.achievementTier,children:ot(`profile.public.achievements.tiers.${m.tier}`)}),n.jsx("div",{className:Pe.achievementName,children:ot(m.nameKey)}),n.jsx("div",{className:Pe.achievementDesc,children:ot(m.descriptionKey)}),m.unlockedAt&&n.jsx("div",{className:Pe.achievementDate,children:Em(m.unlockedAt)})]},m.id))}),n.jsx("div",{className:Pe.achievementsGrid,children:e.achievements.map(m=>n.jsxs("article",{className:Pe.achievementBadge,children:[n.jsx("div",{className:[Pe.achievementIcon,m.tier==="gold"?Pe.tierGold:m.tier==="silver"?Pe.tierSilver:Pe.tierBronze].join(" "),children:m.tier.charAt(0).toUpperCase()}),n.jsx("div",{className:Pe.achievementName,children:ot(m.nameKey)}),n.jsx("div",{className:Pe.achievementDesc,children:ot(m.descriptionKey)})]},m.id))})]})]})]})})}const iZ="_wrap_k6pqt_1",aZ="_centerLogoWrap_k6pqt_21",oZ="_centerLogoLink_k6pqt_37",lZ="_centerLogo_k6pqt_21",cZ="_arc_k6pqt_55",dZ="_left_k6pqt_57",uZ="_right_k6pqt_59",hZ="_sub_k6pqt_61",pZ="_full_k6pqt_63",mZ="_arcItem_k6pqt_65",fZ="_iconBtn_k6pqt_71",gZ="_active_k6pqt_125",xZ="_iconImg_k6pqt_135",vZ="_placeholderIcon_k6pqt_139",yZ="_placeholderText_k6pqt_157",bZ="_iconLabel_k6pqt_161",dn={wrap:iZ,centerLogoWrap:aZ,centerLogoLink:oZ,centerLogo:lZ,arc:cZ,left:dZ,right:uZ,sub:hZ,full:pZ,arcItem:mZ,iconBtn:fZ,active:gZ,iconImg:xZ,placeholderIcon:vZ,placeholderText:yZ,iconLabel:bZ},_Z=({to:t,label:e,icon:s,variant:r="main"})=>{const{search:i}=rr();let a=!1;try{const l=new URLSearchParams(i),d=l.get("tab"),u=l.get("sub"),h=l.get("sub2"),m=new URL(t,window.location.origin).searchParams,g=m.get("tab"),v=m.get("sub"),b=m.get("sub2");r==="main"?a=d===g:r==="sub"?a=d===g&&!!v&&u===v:a=d===g&&!!v&&u===v&&!!b&&h===b}catch(l){a=!1}return n.jsxs(Wt,{to:t,"aria-label":e,className:[dn.iconBtn,a?dn.active:""].join(" "),title:e,replace:!1,children:[s?n.jsx("img",{src:s,alt:"",className:dn.iconImg}):n.jsx("div",{className:dn.placeholderIcon,"aria-hidden":"true",children:n.jsx("span",{className:dn.placeholderText,children:e.slice(0,2).toUpperCase()})}),n.jsx("div",{className:dn.iconLabel,children:e})]})},Am=({items:t,side:e,anchorSide:s,compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:l=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!s)return null;const u=E.useMemo(()=>{const g=t.length;if(g===0)return[];let v=-90,b=90;e==="left"?(v=90,b=270):e==="sub"||e==="sub2"?s==="left"?(v=90,b=270):(v=-90,b=90):e==="full"&&(v=0,b=360);const S=(b-v)/(g+1),C=r?190:250;return t.map((R,F)=>{const A=(v+S*(F+1))*Math.PI/180;return{it:R,x:Math.cos(A)*C,y:Math.sin(A)*C}})},[t,e,s,r]),h=(()=>{const g={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?g.left=`calc(50% - ${a}px)`:e==="right"?g.left=`calc(50% + ${a}px)`:e==="sub"?g.left=s==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`:e==="sub2"&&(g.left=s==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),g})(),m=e==="sub"?"sub":e==="sub2"?"sub2":"main";return n.jsx("div",{className:[dn.arc,e==="left"?dn.left:"",e==="right"?dn.right:"",e==="sub"?dn.sub:"",e==="sub2"?dn.sub2:"",e==="full"?dn.full:""].join(" "),style:h,children:u.map(({it:g,x:v,y:b})=>n.jsx("div",{className:dn.arcItem,style:{transform:`translate(${v}px, ${b}px)`},children:n.jsx(_Z,{to:g.to,label:g.label,icon:g.icon,variant:m})},g.key))})},wZ=({logoSrc:t,categories:e})=>{const[s]=Al(),r=s.get("tab")||null,i=s.get("sub")||null;s.get("sub2");const a=E.useMemo(()=>e.find(A=>A.key===r)||null,[e,r]),l=(a==null?void 0:a.sub)||[],d=E.useMemo(()=>l.find(A=>A.key===i)||null,[l,i]),u=(d==null?void 0:d.sub2)||[],h=(a==null?void 0:a.side)==="left"||(a==null?void 0:a.side)==="right"?a.side:"right",m=E.useRef(null),[g,v]=E.useState(!1),[b,S]=E.useState(220),[C,R]=E.useState(440),[F,D]=E.useState(660);return E.useLayoutEffect(()=>{(()=>{var M,P;const w=((P=(M=m.current)==null?void 0:M.getBoundingClientRect().width)!=null?P:380)/2,N=Math.round(w+60),j=Math.round(N+220),I=Math.round(j+220);S(N),R(j),D(I),v(!0)})()},[]),E.useEffect(()=>{let A=0,y=null,w={main:b,out:C,sup:F};const L=()=>{y!=null&&window.clearTimeout(y),y=window.setTimeout(()=>{A=requestAnimationFrame(()=>{var q,K;const j=((K=(q=m.current)==null?void 0:q.getBoundingClientRect().width)!=null?K:380)/2,M=Math.round(j+60),P=Math.round(M+220),O=Math.round(P+220),$=Math.abs(M-w.main),W=Math.abs(P-w.out),H=Math.abs(O-w.sup);$>1&&S(M),W>1&&R(P),H>1&&D(O),w={main:M,out:P,sup:O}})},120)};return window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L),y!=null&&window.clearTimeout(y),A&&cancelAnimationFrame(A)}},[b,C,F]),n.jsxs("div",{className:dn.wrap,children:[n.jsx("div",{className:dn.centerLogoWrap,children:n.jsx(Wt,{to:"/guidehub",className:dn.centerLogoLink,"aria-label":"Guide Hub Home",children:n.jsx("img",{ref:m,src:t,alt:"Guide Hub",className:dn.centerLogo})})}),g&&n.jsxs(n.Fragment,{children:[n.jsx(Am,{items:e.filter(A=>A.side==="left").map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"left",variant:"main",arcOffset:b}),n.jsx(Am,{items:e.filter(A=>A.side==="right").map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"right",variant:"main",arcOffset:b}),h&&l.length>0&&n.jsx(Am,{items:l.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub",anchorSide:h,variant:"sub",outerOffset:C,compact:!0}),h&&u.length>0&&n.jsx(Am,{items:u.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub2",anchorSide:h,variant:"sub2",superOffset:F,compact:!0})]})]})},fN=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],jZ="_topWrap_1vr4p_1",SZ="_divider_1vr4p_19",NZ="_contentArea_1vr4p_53",kZ="_placeholder_1vr4p_65",TZ="_placeholderTitle_1vr4p_79",CZ="_placeholderText_1vr4p_93",Nc={topWrap:jZ,divider:SZ,contentArea:NZ,placeholder:kZ,placeholderTitle:TZ,placeholderText:CZ},EZ="/assets/logo_guidehub-c4zKGdF-.png";function Fl({title:t}){return n.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[n.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),n.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const AZ=()=>n.jsx(Fl,{title:"Game Features"});function hs({title:t}){return n.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[n.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),n.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const IZ=()=>n.jsx(hs,{title:"Progression"}),RZ=()=>n.jsx(hs,{title:"Hellevator"}),PZ=()=>n.jsx(hs,{title:"Legendary Dungeon"}),LZ=()=>n.jsx(hs,{title:"Events"}),DZ="_card_1rxdx_21",MZ="_hoverLift_1rxdx_51",FZ="_title_1rxdx_63",BZ="_body_1rxdx_89",$Z="_iconStack_1rxdx_99",gu={card:DZ,hoverLift:MZ,title:FZ,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:BZ,iconStack:$Z};function OZ({title:t,padding:e="md",hover:s=!0,className:r="",children:i}){return n.jsxs("div",{className:[gu.card,gu[`pad-${e}`],s?gu.hoverLift:"",r].join(" "),children:[t?n.jsx("div",{className:gu.title,children:t}):null,n.jsx("div",{className:gu.body,children:i})]})}const VZ=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],UZ="_grid_1amcc_3",zZ="_tileBtn_1amcc_45",HZ="_wrap_1amcc_87",GZ="_headerBar_1amcc_99",WZ="_title_1amcc_117",xu={grid:UZ,tileBtn:zZ,wrap:HZ,headerBar:GZ,title:WZ};function qZ(){const[t,e]=Al(),s=r=>{const i=new URLSearchParams(t);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return n.jsxs("div",{className:xu.wrap,children:[n.jsx("div",{className:xu.headerBar,children:n.jsx("h2",{className:xu.title,children:"Calculators"})}),n.jsx("div",{className:xu.grid,children:VZ.map(r=>n.jsx("button",{className:xu.tileBtn,onClick:()=>s(r.slug),"aria-label":r.title,children:n.jsx(OZ,{title:r.title,padding:"md",hover:!0,children:n.jsx(n.Fragment,{children:" "})})},r.slug))})]})}const KZ=()=>n.jsx(hs,{title:"Infographics (Dropdown inside page)"}),QZ=()=>n.jsx(hs,{title:"Class book"}),XZ=()=>n.jsx(hs,{title:"Dungeons"}),YZ=()=>n.jsx(Fl,{title:"Fortress"}),JZ=()=>n.jsx(Fl,{title:"Fortress Calculator"}),ZZ="_wrap_1skhh_7",eee="_headerBar_1skhh_21",tee="_title_1skhh_39",see="_meta_1skhh_55",nee="_description_1skhh_67",ree="_contentWrapper_1skhh_83",iee="_tableSection_1skhh_97",aee="_table_1skhh_97",oee="_infoBox_1skhh_151",lee="_sectionTitle_1skhh_165",cee="_divider_1skhh_181",er={wrap:ZZ,headerBar:eee,title:tee,meta:see,description:nee,contentWrapper:ree,tableSection:iee,table:aee,infoBox:oee,sectionTitle:lee,divider:cee};function dee(){return n.jsxs("div",{className:er.wrap,children:[n.jsxs("div",{className:er.headerBar,children:[n.jsx("h2",{className:er.title,children:"Fortress Package skip order"}),n.jsx("span",{className:er.meta,children:"Last updated: 21.02.2025"})]}),n.jsx("p",{className:er.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),n.jsxs("div",{className:er.contentWrapper,children:[n.jsxs("section",{className:er.tableSection,children:[n.jsx("h3",{className:er.sectionTitle,children:"Fortress Build Order"}),n.jsxs("table",{className:er.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Building"}),n.jsx("th",{children:"Level"}),n.jsx("th",{children:"Gold Cost"}),n.jsx("th",{children:"Shroom Cost"}),n.jsx("th",{children:"Wood Cost"}),n.jsx("th",{children:"Stone Cost"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"35"}),n.jsx("td",{children:"12"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"20"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"150"}),n.jsx("td",{children:"50"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"138"}),n.jsx("td",{children:"46"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"30"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"440"}),n.jsx("td",{children:"140"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"15"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"406"}),n.jsx("td",{children:"129"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"40"}),n.jsx("td",{children:"12"}),n.jsx("td",{children:"1,100"}),n.jsx("td",{children:"333"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"20"}),n.jsx("td",{children:"12"}),n.jsx("td",{children:"1,015"}),n.jsx("td",{children:"308"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"50"}),n.jsx("td",{children:"24"}),n.jsx("td",{children:"2,500"}),n.jsx("td",{children:"800"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"25"}),n.jsx("td",{children:"24"}),n.jsx("td",{children:"2,308"}),n.jsx("td",{children:"738"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"60"}),n.jsx("td",{children:"36"}),n.jsx("td",{children:"6,000"}),n.jsx("td",{children:"2,000"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Laborer's Quarter"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"30"}),n.jsx("td",{children:"36"}),n.jsx("td",{children:"5,538"}),n.jsx("td",{children:"1,849"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"7"}),n.jsx("td",{children:"70"}),n.jsx("td",{children:"48"}),n.jsx("td",{children:"13,417"}),n.jsx("td",{children:"4,433"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress"}),n.jsx("td",{children:"8"}),n.jsx("td",{children:"80"}),n.jsx("td",{children:"78"}),n.jsx("td",{children:"27,200"}),n.jsx("td",{children:"9,280"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Hall of Knight"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"720"}),n.jsx("td",{children:"240"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Hall of Knight"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"1,408"}),n.jsx("td",{children:"448"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Hall of Knight"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"2,640"}),n.jsx("td",{children:"800"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Gem Mine"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"15"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"50"}),n.jsx("td",{children:"17"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Treasury"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"25"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"40"}),n.jsx("td",{children:"13"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"0"}),n.jsx("td",{children:"20"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"30"}),n.jsx("td",{children:"20"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"92"}),n.jsx("td",{children:"74"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"8"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"248"}),n.jsx("td",{children:"200"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Woodcutter"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"21"}),n.jsx("td",{children:"500"}),n.jsx("td",{children:"320"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"22"}),n.jsx("td",{children:"0"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"6"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"90"}),n.jsx("td",{children:"16"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"9"}),n.jsx("td",{children:"5"}),n.jsx("td",{children:"264"}),n.jsx("td",{children:"45"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Quarry"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"12"}),n.jsx("td",{children:"10"}),n.jsx("td",{children:"660"}),n.jsx("td",{children:"107"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Barracks"}),n.jsx("td",{children:"1"}),n.jsx("td",{children:"4"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"20"}),n.jsx("td",{children:"14"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Barracks"}),n.jsx("td",{children:"2"}),n.jsx("td",{children:"8"}),n.jsx("td",{children:"3"}),n.jsx("td",{children:"82"}),n.jsx("td",{children:"55"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Total cost"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"577"}),n.jsx("td",{children:"363"}),n.jsx("td",{children:"99,881"}),n.jsx("td",{children:"33,218"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Fortress Pack ressources"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"300"}),n.jsx("td",{children:"100,000"}),n.jsx("td",{children:"50,000"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Left over"}),n.jsx("td",{children:"-"}),n.jsx("td",{children:"-577"}),n.jsx("td",{children:"-63"}),n.jsx("td",{children:"119"}),n.jsx("td",{children:"16,782"})]})]})]})]}),n.jsxs("section",{className:er.infoBox,children:[n.jsx("h3",{className:er.sectionTitle,children:"Important"}),n.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Archery Guild"}),n.jsx("li",{children:"Mage's Tower"}),n.jsx("li",{children:"Fortifications"})]}),n.jsx("div",{className:er.divider}),n.jsx("h3",{className:er.sectionTitle,children:"Total Costs"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total Gold:"})," 577 ",n.jsx("br",{}),n.jsx("strong",{children:"Total Shrooms:"})," 363 ",n.jsx("br",{}),n.jsx("strong",{children:"Total Wood:"})," 99,881 ",n.jsx("br",{}),n.jsx("strong",{children:"Total Stone:"})," 33,218 ",n.jsx("br",{})]}),n.jsx("h3",{className:er.sectionTitle,children:"Remaining Resources"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Remaining Gold:"})," -577 ",n.jsx("br",{}),n.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",n.jsx("br",{}),n.jsx("strong",{children:"Remaining Wood:"})," 119 ",n.jsx("br",{}),n.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const uee=()=>n.jsx(Fl,{title:"Fortress attack duplication guide"}),hee=()=>n.jsx(Fl,{title:"Underworld"}),pee=()=>n.jsx(Fl,{title:"Underworld Calculator"}),mee=()=>n.jsx(Fl,{title:"Underworld Pro Package skip order"}),fee=()=>n.jsx(hs,{title:"Arena / AM"}),gee="_wrap_mm7x0_5",xee="_headerBar_mm7x0_19",vee="_title_mm7x0_37",yee="_meta_mm7x0_51",bee="_description_mm7x0_63",_ee="_controls_mm7x0_79",wee="_search_mm7x0_83",jee="_tableWrap_mm7x0_119",See="_table_mm7x0_119",Nee="_thead_mm7x0_143",kee="_th_mm7x0_143",Tee="_td_mm7x0_167",Cee="_tierCell_mm7x0_179",Eee="_amountCell_mm7x0_181",Aee="_bonusCell_mm7x0_183",Iee="_tags_mm7x0_185",Ree="_tierBox_mm7x0_191",Pee="_tierIcon_mm7x0_193",Lee="_tierTexts_mm7x0_203",Dee="_tierName_mm7x0_205",Mee="_badge_mm7x0_211",Fee="_badgeMax_mm7x0_231",Bee="_badgeAchiev_mm7x0_233",$ee="_badgeX2_mm7x0_235",Oee="_badgeX12_mm7x0_237",Vee="_badgeX60_mm7x0_239",Uee="_iconHead_mm7x0_245",zee="_achiev_mm7x0_261",Hee="_achievImg_mm7x0_263",Gee="_dataRow_mm7x0_291",Wee="_tierCellHover_mm7x0_311",ze={wrap:gee,headerBar:xee,title:vee,meta:yee,description:bee,controls:_ee,search:wee,tableWrap:jee,table:See,thead:Nee,th:kee,td:Tee,tierCell:Cee,amountCell:Eee,bonusCell:Aee,tags:Iee,tierBox:Ree,tierIcon:Pee,tierTexts:Lee,tierName:Dee,badge:Mee,badgeMax:Fee,badgeAchiev:Bee,badgeX2:$ee,badgeX12:Oee,badgeX60:Vee,iconHead:Uee,achiev:zee,achievImg:Hee,dataRow:Gee,tierCellHover:Wee};function _E(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function qee(t){const e=t.filter(Boolean).join(" ");return _E(e)}const Kee={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function Qee(t){var s;const e=Array.isArray(t)?qee(t):_E(t!=null?t:"");return(s=Kee[e])!=null?s:null}function Ag(t,e=512){var a,l;const s=Qee(t);if(!s)return{id:null,url:null,thumb:null,fallback:""};const r=(a=Tl(s))!=null?a:null,i=r&&(l=Vr(r,e))!=null?l:null;return{id:s,url:r,thumb:i,fallback:""}}function yl(t,e=512){return Ag(t,e).thumb}const Ja={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},gN={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function Za({keyName:t,label:e}){const s=Ag(t,36);return n.jsxs("div",{className:ze.iconHead,children:[s.thumb?n.jsx("img",{src:s.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):n.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(s.fallback||e).slice(0,1).toUpperCase()}),n.jsx("span",{children:e})]})}function Xee({name:t}){const e=Object.keys(gN).find(r=>t.toLowerCase().includes(r.toLowerCase())),s=Ag(e?gN[e]:"achiev_generic",16);return n.jsxs("div",{className:ze.achiev,children:[s.thumb?n.jsx("img",{src:s.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):n.jsx("div",{className:ze.achievImg}),n.jsx("span",{children:t})]})}const Df=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function ty(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const s=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(s)+r}function Yee(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function Jee(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const xN={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},Zee="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function ete(t){const e=t.trim().toLowerCase();return e?Df.filter(s=>{var r;return`${s.tier} ${s.amount} ${(r=s.note)!=null?r:""}`.toLowerCase().includes(e)}):Df}function tte(){const[t,e]=E.useState(""),[s,r]=E.useState(null),i=ete(t),a=E.useMemo(()=>Math.max(...Df.map(d=>ty(d.amount))),[]),l=E.useMemo(()=>{const d=new Map;for(const h of i)d.has(h.tier)||d.set(h.tier,[]),d.get(h.tier).push(h);const u=Array.from(new Set(Df.map(h=>h.tier)));return Array.from(d.entries()).sort((h,m)=>u.indexOf(h[0])-u.indexOf(m[0]))},[i]);return n.jsxs("div",{className:ze.wrap,children:[n.jsxs("div",{className:ze.headerBar,children:[n.jsx("h2",{className:ze.title,children:"Arena Manager  Rune bonuses"}),n.jsx("span",{className:ze.meta,children:"last updated: 15.01.2025"})]}),n.jsx("p",{className:ze.description,children:Zee}),n.jsx("div",{className:ze.controls,children:n.jsx("input",{className:ze.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:d=>e(d.target.value)})}),n.jsx("div",{className:ze.tableWrap,children:n.jsxs("table",{className:ze.table,children:[n.jsx("thead",{className:ze.thead,children:n.jsxs("tr",{className:ze.headRow,children:[n.jsx("th",{className:`${ze.th} ${ze.tierCell}`,children:"Tier"}),n.jsx("th",{className:`${ze.th} ${ze.amountCell}`,children:"Amount"}),n.jsx("th",{className:ze.th,children:n.jsx(Za,{keyName:Ja.gold,label:"Gold Bonus"})}),n.jsx("th",{className:ze.th,children:n.jsx(Za,{keyName:Ja.xp,label:"XP Bonus"})}),n.jsx("th",{className:ze.th,children:n.jsx(Za,{keyName:Ja.hp,label:"HP Bonus"})}),n.jsx("th",{className:ze.th,children:n.jsx(Za,{keyName:Ja.totalRes,label:"Total Resistance"})}),n.jsx("th",{className:ze.th,children:n.jsx(Za,{keyName:Ja.singleRes,label:"Single Resistance"})}),n.jsx("th",{className:ze.th,children:n.jsx(Za,{keyName:Ja.elem,label:"Elemental Damage"})}),n.jsx("th",{className:ze.th,children:n.jsx(Za,{keyName:Ja.item,label:"Improved Item Quality"})}),n.jsx("th",{className:ze.th,children:n.jsx(Za,{keyName:Ja.epics,label:"Chances of Epics"})}),n.jsx("th",{className:ze.th,children:"Tags"})]})}),n.jsx("tbody",{children:l.map(([d,u])=>{const h=Math.max(...u.map(m=>ty(m.amount)));return u.map((m,g)=>{var S,C,R,F,D,A,y,w;const v=Math.abs(ty(m.amount)-a)<1e-6,b=Jee(m.note);return n.jsxs("tr",{className:ze.dataRow,onMouseEnter:()=>r(d),onMouseLeave:()=>r(null),children:[g===0&&n.jsx("td",{className:`${ze.td} ${ze.tierCell} ${Math.abs(h-a)<1e-6?ze.tierMax:""} ${s===d?ze.tierCellHover:""}`,rowSpan:u.length,children:n.jsxs("div",{className:ze.tierBox,children:[n.jsx("div",{className:ze.tierIcon,children:d.slice(0,1).toUpperCase()}),n.jsxs("div",{className:ze.tierTexts,children:[n.jsx("div",{className:ze.tierName,children:d}),xN[d]&&n.jsx(Xee,{name:xN[d]})]})]})}),n.jsx("td",{className:`${ze.td} ${ze.amountCell}`,children:m.amount}),n.jsx("td",{className:`${ze.td} ${ze.bonusCell}`,children:(S=m.gold)!=null?S:""}),n.jsx("td",{className:`${ze.td} ${ze.bonusCell}`,children:(C=m.xp)!=null?C:""}),n.jsx("td",{className:`${ze.td} ${ze.bonusCell}`,children:(R=m.hp)!=null?R:""}),n.jsx("td",{className:`${ze.td} ${ze.bonusCell}`,children:(F=m.totalRes)!=null?F:""}),n.jsx("td",{className:`${ze.td} ${ze.bonusCell}`,children:(D=m.singleRes)!=null?D:""}),n.jsx("td",{className:`${ze.td} ${ze.bonusCell}`,children:(A=m.elemDmg)!=null?A:""}),n.jsx("td",{className:`${ze.td} ${ze.bonusCell}`,children:(y=m.itemQuality)!=null?y:""}),n.jsx("td",{className:`${ze.td} ${ze.bonusCell}`,children:(w=m.epics)!=null?w:""}),n.jsxs("td",{className:`${ze.td} ${ze.tags}`,children:[v&&n.jsx("span",{className:`${ze.badge} ${ze.badgeMax}`,children:"MAX"}),Yee(m.note)&&n.jsx("span",{className:`${ze.badge} ${ze.badgeAchiev}`,children:"Achievement"}),b==="x2"&&n.jsx("span",{className:`${ze.badge} ${ze.badgeX2}`,children:"x2"}),b==="x12"&&n.jsx("span",{className:`${ze.badge} ${ze.badgeX12}`,children:"x12"}),b==="x60"&&n.jsx("span",{className:`${ze.badge} ${ze.badgeX60}`,children:"x60"}),b==="x8"&&n.jsx("span",{className:ze.badge,children:"x8"})]})]},`${d}-${g}`)})})})]})})]})}const ste="_wrap_zrza7_11",nte="_headerBar_zrza7_15",rte="_title_zrza7_31",ite="_meta_zrza7_33",ate="_centerCol_zrza7_37",ote="_text_zrza7_53",lte="_imageBox_zrza7_55",cte="_imageFallback_zrza7_57",dte="_credit_zrza7_59",ta={wrap:ste,headerBar:nte,title:rte,meta:ite,centerCol:ate,text:ote,imageBox:lte,imageFallback:cte,credit:dte};function ute(){const t=Ag("ambuildorder"),e=E.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),s=E.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,i=e||s||r;return n.jsxs("div",{className:ta.wrap,children:[n.jsxs("div",{className:ta.headerBar,children:[n.jsx("h2",{className:ta.title,children:"Arena Manager  Build Order"}),n.jsx("span",{className:ta.meta,children:"Last updated: 30.11.2024"})]}),n.jsxs("div",{className:ta.centerCol,children:[n.jsxs("div",{className:ta.text,children:[n.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),n.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",n.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?n.jsx("div",{className:ta.imageBox,children:n.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):n.jsx("div",{className:ta.imageFallback,children:""}),n.jsxs("p",{className:ta.credit,children:["Credit to ",n.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const hte=()=>n.jsx(hs,{title:"Hellevator Guide"}),pte=()=>n.jsx(hs,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),mte=()=>n.jsx(hs,{title:"Event List"}),fte=()=>n.jsx(hs,{title:"Event Cycle"}),gte="_foCalc_18a5w_3",xte="_panel_18a5w_211",vte="_panelHead_18a5w_227",yte="_panelTitle_18a5w_241",bte="_controls_18a5w_243",_te="_ctrlLabel_18a5w_245",wte="_ctrlSelect_18a5w_249",jte="_tableWrap_18a5w_291",Ste="_table_18a5w_291",Nte="_th_18a5w_305",kte="_td_18a5w_321",Tte="_row_18a5w_333",Cte="_note_18a5w_335",fs={foCalc:gte,panel:xte,panelHead:vte,panelTitle:yte,controls:bte,ctrlLabel:_te,ctrlSelect:wte,tableWrap:jte,table:Ste,th:Nte,td:kte,row:Tte,note:Cte},wE={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},Cs=(t,e=0)=>t*3600+e*60,re=[Cs(0,15),Cs(0,31),Cs(1,6),Cs(2,20),Cs(5,0),Cs(8,0),Cs(11,25),Cs(18,27),Cs(40,0),Cs(87,16),Cs(190,46),Cs(320,0),Cs(480,0),Cs(615,33),Cs(800,0)],Pt=[Cs(1054,17),Cs(1122,51),Cs(1245,42),Cs(1343,20),Cs(1440,0)],Ete={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:re[0]},{level:2,wood:150,stone:50,gold:20,timeSec:re[1]},{level:3,wood:440,stone:140,gold:30,timeSec:re[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:re[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:re[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:re[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:re[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:re[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:re[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:re[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:re[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:re[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:re[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:re[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:re[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:Pt[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:Pt[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:Pt[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:Pt[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:Pt[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:re[0]},{level:2,wood:138,stone:46,gold:10,timeSec:re[1]},{level:3,wood:406,stone:129,gold:15,timeSec:re[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:re[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:re[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:re[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:re[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:re[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:re[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:re[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:re[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:re[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:re[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:re[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:re[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:re[0]},{level:2,wood:28,stone:37,gold:14,timeSec:re[1]},{level:3,wood:81,stone:103,gold:21,timeSec:re[2]},{level:4,wood:203,stone:246,gold:28,timeSec:re[3]},{level:5,wood:462,stone:591,gold:35,timeSec:re[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:re[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:re[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:re[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:re[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:re[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:re[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:re[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:re[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:re[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:re[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:Pt[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:Pt[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:Pt[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:Pt[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:Pt[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:re[0]},{level:2,wood:160,stone:53,gold:50,timeSec:re[1]},{level:3,wood:469,stone:149,gold:75,timeSec:re[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:re[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:re[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:re[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:re[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:re[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:re[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:re[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:re[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:re[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:re[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:re[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:re[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:re[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:re[0]},{level:2,wood:200,stone:67,gold:30,timeSec:re[1]},{level:3,wood:587,stone:187,gold:45,timeSec:re[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:re[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:re[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:re[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:re[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:re[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:re[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:re[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:re[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:re[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:re[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:re[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:re[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:Pt[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:Pt[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:Pt[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:Pt[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:Pt[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:Cs(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:re[0]},{level:2,wood:30,stone:20,gold:4,timeSec:re[1]},{level:3,wood:88,stone:56,gold:6,timeSec:re[2]},{level:4,wood:220,stone:133,gold:8,timeSec:re[3]},{level:5,wood:500,stone:320,gold:10,timeSec:re[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:re[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:re[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:re[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:re[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:re[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:re[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:re[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:re[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:re[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:re[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:Pt[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:Pt[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:Pt[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:Pt[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:Pt[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:re[0]},{level:2,wood:90,stone:16,gold:6,timeSec:re[1]},{level:3,wood:264,stone:45,gold:9,timeSec:re[2]},{level:4,wood:660,stone:107,gold:12,timeSec:re[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:re[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:re[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:re[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:re[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:re[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:re[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:re[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:re[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:re[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:re[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:re[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:Pt[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:Pt[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:Pt[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:Pt[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:Pt[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:re[0]},{level:2,wood:82,stone:55,gold:8,timeSec:re[1]},{level:3,wood:240,stone:153,gold:12,timeSec:re[2]},{level:4,wood:600,stone:364,gold:16,timeSec:re[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:re[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:re[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:re[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:re[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:re[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:re[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:re[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:re[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:re[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:re[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:re[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:re[0]},{level:2,wood:100,stone:33,gold:8,timeSec:re[1]},{level:3,wood:293,stone:93,gold:12,timeSec:re[2]},{level:4,wood:733,stone:222,gold:16,timeSec:re[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:re[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:re[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:re[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:re[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:re[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:re[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:re[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:re[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:re[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:re[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:re[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:Pt[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:Pt[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:Pt[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:Pt[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:Pt[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:re[0]},{level:2,wood:240,stone:61,gold:12,timeSec:re[1]},{level:3,wood:675,stone:205,gold:18,timeSec:re[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:re[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:re[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:re[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:re[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:re[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:re[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:re[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:re[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:re[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:re[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:re[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:re[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:re[0]},{level:2,wood:164,stone:27,gold:10,timeSec:re[1]},{level:3,wood:480,stone:76,gold:15,timeSec:re[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:re[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:re[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:re[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:re[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:re[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:re[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:re[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:re[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:re[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:re[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:re[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:re[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:re[0]},{level:2,wood:120,stone:53,gold:30,timeSec:re[1]},{level:3,wood:352,stone:149,gold:45,timeSec:re[2]},{level:4,wood:880,stone:356,gold:60,timeSec:re[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:re[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:re[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:re[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:re[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:re[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:re[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:re[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:re[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:re[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:re[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:re[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:Pt[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:Pt[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:Pt[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:Pt[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:Pt[4]}]}},Ate=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],Ite="fortress",Rte={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function Pte(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function vN(t){const e=Math.max(0,Math.round(t)),s=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,a=l=>l.toString().padStart(2,"0");return`${a(s)}:${a(r)}:${a(i)}`}const Lte=()=>{const[t,e]=E.useState(Ite),[s,r]=E.useState(1),i=E.useMemo(()=>{var m;const d=Rte[t],u=wE[d],h=(m=u==null?void 0:u.id)!=null?m:u;return Tl.gifProxy(h)||Tl.gif(h)||""},[t]),a=E.useMemo(()=>{var d,u;return(u=(d=Ete[t])==null?void 0:d.costs)!=null?u:[]},[t]),l=E.useMemo(()=>Pte(s),[s]);return n.jsxs("div",{className:`${fs.foCalc}`,children:[n.jsxs("div",{className:"tabs",children:[n.jsx("span",{className:"tabSelectLabel",children:"Select building"}),n.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:Ate.map(d=>n.jsx("option",{value:d.key,children:d.label},d.key))})]}),n.jsxs("div",{className:"mediaRow",children:[n.jsx("div",{className:"media",children:i?n.jsx("img",{src:i,alt:t}):null}),n.jsxs("div",{className:fs.panel,children:[n.jsxs("div",{className:fs.panelHead,children:[n.jsxs("div",{className:fs.panelTitle,children:["Fortress  ",t]}),n.jsxs("div",{className:fs.controls,children:[n.jsx("span",{className:fs.ctrlLabel,children:"L2 (Laborers)"}),n.jsx("select",{className:fs.ctrlSelect,value:s,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:16},(d,u)=>u).map(d=>n.jsx("option",{value:d,children:d},d))})]})]}),n.jsx("div",{className:fs.tableWrap,children:n.jsxs("table",{className:fs.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:fs.th,children:"Level"}),n.jsx("th",{className:fs.th,children:"Wood"}),n.jsx("th",{className:fs.th,children:"Stone"}),n.jsx("th",{className:fs.th,children:"Build Time"}),n.jsx("th",{className:fs.th,children:"Build Time (L2)"}),n.jsx("th",{className:fs.th,children:"Skip (Mushr.)"})]})}),n.jsx("tbody",{children:a.map(d=>{var g,v,b,S,C,R,F;const u=(g=d.timeSec)!=null?g:0,h=Math.round(u*(1-l)),m=Math.ceil(Math.ceil(h/60)/10);return n.jsxs("tr",{className:fs.row,children:[n.jsx("td",{className:fs.td,children:d.level}),n.jsx("td",{className:fs.td,children:(S=(b=(v=d.wood)==null?void 0:v.toLocaleString)==null?void 0:b.call(v))!=null?S:d.wood}),n.jsx("td",{className:fs.td,children:(F=(R=(C=d.stone)==null?void 0:C.toLocaleString)==null?void 0:R.call(C))!=null?F:d.stone}),n.jsx("td",{className:fs.td,children:vN(u)}),n.jsx("td",{className:fs.td,children:vN(h)}),n.jsx("td",{className:fs.td,children:m.toLocaleString()})]},d.level)})})]})}),n.jsx("div",{className:fs.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},Dte="_uwCalc_64lws_3",Mte="_panel_64lws_211",Fte="_panelHead_64lws_227",Bte="_panelTitle_64lws_241",$te="_controls_64lws_243",Ote="_ctrlLabel_64lws_245",Vte="_ctrlSelect_64lws_251",Ute="_tableWrap_64lws_295",zte="_table_64lws_295",Hte="_th_64lws_309",Gte="_td_64lws_325",Wte="_row_64lws_337",qte="_note_64lws_339",as={uwCalc:Dte,panel:Mte,panelHead:Fte,panelTitle:Bte,controls:$te,ctrlLabel:Ote,ctrlSelect:Vte,tableWrap:Ute,table:zte,th:Hte,td:Gte,row:Wte,note:qte},Kte={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},Qte={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function Xte(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function Yte(t){const e=Math.max(0,t),s=Math.round(e),r=Math.floor(s/3600),i=Math.floor(s%3600/60),a=s%60;return{h:r,m:i,s:a}}function yN(t){const{h:e,m:s,s:r}=Yte(t),i=a=>String(a).padStart(2,"0");return`${i(e)}:${i(s)}:${i(r)}`}function Jte(t,e){var i,a;const s=Xte(e);return((a=(i=Qte[t])==null?void 0:i.costs)!=null?a:[]).map(l=>{const d=l.timeSec*(1-s),u=Math.ceil(Math.ceil(d/60)/10);return{...l,timeAdjSec:d,skipMushroomsAdj:u}})}const Zte=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],ese=()=>{const[t,e]=E.useState("hearthofdarkngif"),[s,r]=E.useState(1),i=E.useMemo(()=>{var h;const d=wE[t],u=(h=d==null?void 0:d.id)!=null?h:d;return Tl.gifProxy(u)||Tl.gif(u)||""},[t]),a=E.useMemo(()=>{var d;return(d=Kte[t])!=null?d:"hearthofdarkn"},[t]),l=E.useMemo(()=>Jte(a,s),[a,s]);return n.jsxs("div",{className:as.uwCalc,children:[n.jsxs("div",{className:"tabs",children:[n.jsx("span",{className:"tabSelectLabel",children:"Select building"}),n.jsx("select",{className:"tabSelect",value:t,onChange:d=>e(d.target.value),children:Zte.map(d=>n.jsx("option",{value:d,children:d.replace(/gif$/i,"")},d))})]}),n.jsxs("div",{className:"mediaRow",children:[n.jsx("div",{className:"media",children:i?n.jsx("img",{src:i,alt:t}):null}),n.jsxs("div",{className:as.panel,children:[n.jsxs("div",{className:as.panelHead,children:[n.jsxs("div",{className:as.panelTitle,children:["Underworld  ",a]}),n.jsxs("div",{className:as.controls,children:[n.jsx("label",{htmlFor:"uw-l2",className:as.ctrlLabel,children:"L2 (Laborers)"}),n.jsx("select",{id:"uw-l2",className:as.ctrlSelect,value:s,onChange:d=>r(parseInt(d.target.value,10)),children:Array.from({length:15},(d,u)=>u+1).map(d=>n.jsx("option",{value:d,children:d},d))})]})]}),n.jsx("div",{className:as.tableWrap,children:n.jsxs("table",{className:as.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:as.th,children:"Level"}),n.jsx("th",{className:as.th,children:"Soul"}),n.jsx("th",{className:as.th,children:"Gold"}),n.jsx("th",{className:as.th,children:"Build Time"}),n.jsx("th",{className:as.th,children:"Build Time (L2)"}),n.jsx("th",{className:as.th,children:"Skip (Mushr.)"})]})}),n.jsx("tbody",{children:l.length===0?n.jsx("tr",{className:as.row,children:n.jsx("td",{className:as.td,colSpan:6,children:"No data for this building yet."})}):l.map(d=>n.jsxs("tr",{className:as.row,children:[n.jsx("td",{className:as.td,children:d.level}),n.jsx("td",{className:as.td,children:d.soul}),n.jsx("td",{className:as.td,children:d.gold}),n.jsx("td",{className:as.td,children:yN(d.timeSec)}),n.jsx("td",{className:as.td,children:yN(d.timeAdjSec)}),n.jsx("td",{className:as.td,children:d.skipMushroomsAdj})]},d.level))})]})}),n.jsx("p",{className:as.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},tse=()=>n.jsx(hs,{title:"Max Item Stats Calculator"}),sse="_wrap_mnr0g_1",nse="_card_mnr0g_13",rse="_title_mnr0g_33",ise="_form_mnr0g_45",ase="_field_mnr0g_57",ose="_input_mnr0g_71",lse="_gemsRow_mnr0g_87",cse="_gemBox_mnr0g_101",dse="_disabled_mnr0g_127",use="_gemImg_mnr0g_135",hse="_gemFallback_mnr0g_149",pse="_normalGem_mnr0g_165",mse="_blackGem_mnr0g_173",fse="_legendaryGem_mnr0g_181",gse="_gemLabel_mnr0g_189",xse="_gemValue_mnr0g_199",vse="_hint_mnr0g_211",Ot={wrap:sse,card:nse,title:rse,form:ise,field:ase,input:ose,gemsRow:lse,gemBox:cse,disabled:dse,gemImg:use,gemFallback:hse,normalGem:pse,blackGem:mse,legendaryGem:fse,gemLabel:gse,gemValue:xse,hint:vse},yse={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},bse=.25,Mf=t=>Math.round(Number.isFinite(t)?t:0);function _se(t){const e=Number(t.charLevel),s=Number(t.mineLevel),r=Number(t.guildHoK);if(s<25){const R=e*bse*(1+(s-1)*.25)+r/3;return Mf(R)}const{A:i,B:a,C:l,D:d,E:u,F:h,G:m,H:g,I:v,J:b}=yse,C=i+a*e+l/s+d*e**2+u/s**2+h*e/s+m*e**3+g/s**3+v*e/s**2+b*e**2/s+r/3;return Mf(C)}function wse(t){return Mf(t*(2/3))}function jse(t){return Mf(t)}const sy={char:1e3,mine:100,hok:1e3},jE=({initialState:t,onStateChange:e})=>{var C,R,F;const[s,r]=E.useState((C=t==null?void 0:t.charLevel)!=null?C:""),[i,a]=E.useState((R=t==null?void 0:t.mineLevel)!=null?R:""),[l,d]=E.useState((F=t==null?void 0:t.guildHoKLevel)!=null?F:""),u=(D,A,y)=>{e&&(typeof D!="number"||typeof A!="number"||typeof y!="number"||e({charLevel:D,mineLevel:A,guildHoKLevel:y}))},h=E.useMemo(()=>s===""||i===""||l===""?null:_se({charLevel:Number(s),mineLevel:Number(i),guildHoK:Number(l)}),[s,i,l]),m=E.useMemo(()=>h==null?null:wse(h),[h]),g=E.useMemo(()=>h==null?null:jse(h),[h]),v=yl("luckbig"),b=yl("blackbig"),S=yl("legendarybig");return n.jsx("div",{className:Ot.wrap,children:n.jsxs("div",{className:Ot.card,children:[n.jsx("h2",{className:Ot.title,children:"Gem Calculator"}),n.jsxs("div",{className:Ot.form,children:[n.jsxs("label",{className:Ot.field,children:[n.jsx("span",{children:"Char Level"}),n.jsx("input",{type:"number",inputMode:"numeric",className:Ot.input,placeholder:"e.g., 360",value:s,onChange:D=>{const A=D.currentTarget.value;if(A===""){r("");return}const y=Number(A),w=Number.isFinite(y)?y:"";r(w),u(w,i,l)},max:sy.char})]}),n.jsxs("label",{className:Ot.field,children:[n.jsx("span",{children:"Mine Level"}),n.jsx("input",{type:"number",inputMode:"numeric",className:Ot.input,placeholder:"e.g., 10",value:i,onChange:D=>{const A=D.currentTarget.value;if(A===""){a("");return}const y=Number(A),w=Number.isFinite(y)?y:"";a(w),u(s,w,l)},max:sy.mine})]}),n.jsxs("label",{className:Ot.field,children:[n.jsx("span",{children:"Guild HoK"}),n.jsx("input",{type:"number",inputMode:"numeric",className:Ot.input,placeholder:"e.g., 840",value:l,onChange:D=>{const A=D.currentTarget.value;if(A===""){d("");return}const y=Number(A),w=Number.isFinite(y)?y:"";d(w),u(s,i,w)},max:sy.hok})]})]}),n.jsxs("div",{className:Ot.gemsRow,children:[n.jsxs("div",{className:`${Ot.gemBox} ${h==null?Ot.disabled:""}`,children:[v?n.jsx("img",{className:Ot.gemImg,src:v,alt:"Normal Gem"}):n.jsx("div",{className:`${Ot.gemFallback} ${Ot.normalGem}`}),n.jsx("div",{className:Ot.gemLabel,children:"Normal"}),n.jsx("div",{className:Ot.gemValue,children:h!=null?h:"-"})]}),n.jsxs("div",{className:`${Ot.gemBox} ${m==null?Ot.disabled:""}`,children:[b?n.jsx("img",{className:Ot.gemImg,src:b,alt:"Black Gem"}):n.jsx("div",{className:`${Ot.gemFallback} ${Ot.blackGem}`}),n.jsx("div",{className:Ot.gemLabel,children:"Black"}),n.jsx("div",{className:Ot.gemValue,children:m!=null?m:"-"})]}),n.jsxs("div",{className:`${Ot.gemBox} ${g==null?Ot.disabled:""}`,children:[S?n.jsx("img",{className:Ot.gemImg,src:S,alt:"Legendary Gem"}):n.jsx("div",{className:`${Ot.gemFallback} ${Ot.legendaryGem}`}),n.jsx("div",{className:Ot.gemLabel,children:"Legendary"}),n.jsx("div",{className:Ot.gemValue,children:g!=null?g:"-"})]})]}),n.jsxs("p",{className:Ot.hint,children:["The values are approximations and represent the ",n.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},Sse="_container_19zdf_1",Nse="_headerBar_19zdf_13",kse="_title_19zdf_31",Tse="_meta_19zdf_47",Cse="_description_19zdf_59",vu={container:Sse,headerBar:Nse,title:kse,meta:Tse,description:Cse},SE=({title:t,meta:e,description:s})=>n.jsxs("header",{className:vu.container,children:[n.jsxs("div",{className:vu.headerBar,children:[n.jsx("h2",{className:vu.title,children:t}),e&&n.jsx("span",{className:vu.meta,children:e})]}),s&&n.jsx("p",{className:vu.description,children:s})]}),Ese=()=>n.jsxs(n.Fragment,{children:[n.jsx(SE,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:n.jsxs(n.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",n.jsx("em",{children:"max possible"})," you can find."]})}),n.jsx(jE,{})]}),Ase="_wrapper_67xyv_1",Ise="_panel_67xyv_11",Rse="_header_67xyv_27",Pse="_title_67xyv_41",Lse="_resetBtn_67xyv_53",Dse="_table_67xyv_73",Mse="_row_67xyv_99",Fse="_name_67xyv_115",Bse="_selectCell_67xyv_125",$se="_sumCell_67xyv_143",Ose="_footer_67xyv_155",Vse="_footerLine_67xyv_175",Use="_note_67xyv_187",Es={wrapper:Ase,panel:Ise,header:Rse,title:Pse,resetBtn:Lse,table:Dse,row:Mse,name:Fse,selectCell:Bse,sumCell:$se,footer:Ose,footerLine:Vse,note:Use};function Wu(t,e,s){var l;if(!Array.isArray(t)||e<=0||s<=0)return 0;const r=Math.min(e,s),i=Math.max(e,s);let a=0;for(let d=r;d<=i;d++)a+=(l=t[d])!=null?l:0;return a}function zse(t){const e=[0];for(let s=1;s<=t;s++)e.push(s);return e}function yt(t,e){const s=[0,...t.map(r=>Number(r)||0)];if(e&&s.length<e+1)for(;s.length<e+1;)s.push(0);return s}const Hse=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:yt([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:yt([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:yt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:yt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:yt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:yt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:yt([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:yt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:yt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:yt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:yt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:yt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:yt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:yt([0,0,0,0,0,0,0,0,0,0],10)}],Gse=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:yt([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:yt([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:yt([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:yt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:yt([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:yt([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:yt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:yt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:yt([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:yt([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:yt([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:yt([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:yt([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:yt([0,0,0,0,0,0,0,0,0,0],10)}],bN=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],Wse=(()=>{const t=[0,...bN],e=1e3-bN.length;for(let s=0;s<e;s++)t.push(3e7);return t})(),qse=yt([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),Kse=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),oa={light:Hse.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:Gse.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:Wse,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:qse,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:Kse,specialType:"sandstorm"}]},Ff=t=>t.toLocaleString("en-US");function _N(){const t={},e={},s={};return oa.light.forEach(r=>t[r.key]={from:0,to:0}),oa.shadow.forEach(r=>e[r.key]={from:0,to:0}),oa.special.forEach(r=>{r.specialType==="twister"?s[r.key]={from:486,to:1e3}:r.specialType==="cloi"?s[r.key]={from:2,to:11}:s[r.key]={from:0,to:0}}),{light:t,shadow:e,special:s}}function NE({row:t,range:e,onChange:s}){var d,u;const r=E.useMemo(()=>zse(t.maxLevel),[t.maxLevel]),i=(d=e.from)!=null?d:0,a=(u=e.to)!=null?u:0,l=E.useMemo(()=>i===0||a===0?0:Wu(t.levels,i,a),[t.levels,i,a]);return n.jsxs("tr",{className:Es.row,children:[n.jsx("td",{className:Es.name,children:t.name}),n.jsx("td",{className:Es.selectCell,children:n.jsx("select",{value:i,onChange:h=>s({from:Number(h.target.value),to:a}),children:r.map(h=>n.jsx("option",{value:h,children:h===0?"":h},h))})}),n.jsx("td",{className:Es.selectCell,children:n.jsx("select",{value:a,onChange:h=>s({from:i,to:Number(h.target.value)}),children:r.map(h=>n.jsx("option",{value:h,children:h===0?"":h},h))})}),n.jsxs("td",{className:Es.sumCell,children:[Ff(l)," XP"]})]})}function wN({title:t,rows:e,ranges:s,setRanges:r}){const i=E.useMemo(()=>e.reduce((a,l)=>{const d=s[l.key]||{from:0,to:0};return a+Wu(l.levels,d.from,d.to)},0),[e,s]);return n.jsxs("div",{className:Es.panel,children:[n.jsx("div",{className:Es.header,children:n.jsx("div",{className:Es.title,children:t})}),n.jsxs("table",{className:Es.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Dungeon"}),n.jsx("th",{children:"From"}),n.jsx("th",{children:"To"}),n.jsx("th",{children:"Sum XP"})]})}),n.jsx("tbody",{children:e.map(a=>{var l;return n.jsx(NE,{row:a,range:(l=s[a.key])!=null?l:{from:0,to:0},onChange:d=>r(a.key,d)},a.key)})})]}),n.jsx("div",{className:Es.footer,children:n.jsxs("div",{className:Es.footerLine,children:[n.jsxs("span",{children:["Sum Total ",t]}),n.jsxs("span",{children:[Ff(i)," XP"]})]})})]})}function kE({initialState:t,onStateChange:e}){var D,A,y;const s=E.useMemo(()=>_N(),[]),[r,i]=E.useState((D=t==null?void 0:t.light)!=null?D:s.light),[a,l]=E.useState((A=t==null?void 0:t.shadow)!=null?A:s.shadow),[d,u]=E.useState((y=t==null?void 0:t.special)!=null?y:s.special),h=(w,L,N)=>{e&&e({light:w,shadow:L,special:N})},m=(w,L)=>{i(N=>{const j={...N,[w]:L};return h(j,a,d),j})},g=(w,L)=>{l(N=>{const j={...N,[w]:L};return h(r,j,d),j})},v=(w,L)=>{u(N=>{const j={...N,[w]:L};return h(r,a,j),j})};E.useEffect(()=>{var w,L,N;if(t){i((w=t.light)!=null?w:s.light),l((L=t.shadow)!=null?L:s.shadow),u((N=t.special)!=null?N:s.special);return}i(s.light),l(s.shadow),u(s.special)},[t,s]);const b=E.useMemo(()=>oa.light.reduce((w,L)=>{const N=r[L.key];return w+(N?Wu(L.levels,N.from,N.to):0)},0),[r]),S=E.useMemo(()=>oa.shadow.reduce((w,L)=>{const N=a[L.key];return w+(N?Wu(L.levels,N.from,N.to):0)},0),[a]),C=E.useMemo(()=>oa.special.reduce((w,L)=>{const N=d[L.key];return w+(N?Wu(L.levels,N.from,N.to):0)},0),[d]),R=b+S+C,F=()=>{const w=_N();i(w.light),l(w.shadow),u(w.special),h(w.light,w.shadow,w.special)};return n.jsxs("div",{className:Es.wrapper,children:[n.jsx(wN,{title:"Light World",rows:oa.light,ranges:r,setRanges:m}),n.jsx(wN,{title:"Shadow World",rows:oa.shadow,ranges:a,setRanges:g}),n.jsxs("div",{className:Es.panel,children:[n.jsxs("div",{className:Es.header,children:[n.jsx("div",{className:Es.title,children:"Special Dungeons"}),n.jsx("button",{className:Es.resetBtn,onClick:F,children:"RESET"})]}),n.jsxs("table",{className:Es.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Dungeon"}),n.jsx("th",{children:"From"}),n.jsx("th",{children:"To"}),n.jsx("th",{children:"Sum"})]})}),n.jsx("tbody",{children:oa.special.map(w=>{var L;return n.jsx(NE,{row:w,range:(L=d[w.key])!=null?L:{from:0,to:0},onChange:N=>v(w.key,N)},w.key)})})]}),n.jsxs("div",{className:Es.footer,children:[n.jsxs("div",{className:Es.footerLine,children:[n.jsx("span",{children:"Sum Total Special"}),n.jsxs("span",{children:[Ff(C)," XP"]})]}),n.jsxs("div",{className:Es.footerLine,children:[n.jsx("span",{children:"Total XP"}),n.jsxs("span",{children:[Ff(R)," XP"]})]}),n.jsxs("div",{className:Es.note,children:["Flle die XP-Arrays in ",n.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function Qse(){return n.jsx("div",{style:{padding:12},children:n.jsx(kE,{})})}const Xse=()=>n.jsx(hs,{title:"Progression  Early Game"}),Yse="_wrap_n2poq_31",Jse="_title_n2poq_33",Zse="_infoBox_n2poq_39",ene="_infoTitle_n2poq_63",tne="_infoList_n2poq_73",sne="_section_n2poq_89",nne="_h2_n2poq_101",rne="_h3_n2poq_103",ine="_intro_n2poq_105",ane="_ul_n2poq_107",one="_img_n2poq_113",Qt={wrap:Yse,title:Jse,infoBox:Zse,infoTitle:ene,infoList:tne,section:sne,h2:nne,h3:rne,intro:ine,ul:ane,img:one},lne=()=>{Al();const t=[yl("first-weekend-guide-day1",900),yl("first-weekend-guide-day2",900),yl("first-weekend-guide-day3",900)];return n.jsxs("div",{className:Qt.wrap,children:[n.jsx("h1",{className:Qt.title,children:"First Weekend Guide"}),n.jsxs("aside",{className:Qt.infoBox,role:"note","aria-label":"Important Level Tips",children:[n.jsx("div",{className:Qt.infoTitle,children:"Important Level Tips"}),n.jsxs("ul",{className:Qt.infoList,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),n.jsx("p",{className:Qt.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),n.jsxs("div",{className:Qt.section,children:[n.jsx("h2",{className:Qt.h2,children:"Preparation before launch"}),n.jsxs("ul",{className:Qt.ul,children:[n.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),n.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),n.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),n.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),n.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),n.jsxs("div",{className:Qt.section,children:[n.jsx("h2",{className:Qt.h2,children:"Day 1"}),n.jsx("h3",{className:Qt.h3,children:"Level 13"}),n.jsxs("ul",{className:Qt.ul,children:[n.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),n.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&n.jsx("img",{className:Qt.img,src:t[0],alt:"Day 1 overview"})]}),n.jsxs("div",{className:Qt.section,children:[n.jsx("h3",{className:Qt.h3,children:"Level 410"}),n.jsxs("ul",{className:Qt.ul,children:[n.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),n.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),n.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),n.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),n.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),n.jsxs("div",{className:Qt.section,children:[n.jsx("h2",{className:Qt.h2,children:"Day 2"}),n.jsx("h3",{className:Qt.h3,children:"Level 1015"}),n.jsxs("ul",{className:Qt.ul,children:[n.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),n.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),n.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),n.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&n.jsx("img",{className:Qt.img,src:t[1],alt:"Day 2 overview"})]}),n.jsxs("div",{className:Qt.section,children:[n.jsx("h2",{className:Qt.h2,children:"Day 3"}),n.jsx("h3",{className:Qt.h3,children:"Level 1520"}),n.jsxs("ul",{className:Qt.ul,children:[n.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),n.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&n.jsx("img",{className:Qt.img,src:t[2],alt:"Day 3 overview"})]})]})},cne=()=>n.jsx(hs,{title:"Max Item Stats Calculator"}),dne=()=>n.jsx(hs,{title:"Fortress Package skip order (Early)"}),une=()=>n.jsx(hs,{title:"Underworld Pro Package skip order (Early)"}),hne=()=>n.jsx(hs,{title:"Gem Calculator (Early)"}),pne=()=>n.jsx(hs,{title:"Fortress attack duplication guide (Early)"}),mne=()=>n.jsx(hs,{title:"Progression  Mid Game"}),fne="_wrap_1x7jo_31",gne="_header_1x7jo_35",xne="_titles_1x7jo_55",vne="_h1_1x7jo_57",yne="_lead_1x7jo_59",bne="_ctaRow_1x7jo_63",_ne="_cta_1x7jo_63",wne="_section_1x7jo_85",jne="_sectionGrid_1x7jo_87",Sne="_card_1x7jo_99",Nne="_h2_1x7jo_103",kne="_h3_1x7jo_105",Tne="_p_1x7jo_107",Cne="_ul_1x7jo_111",Ene="_ol_1x7jo_111",Ane="_figure_1x7jo_117",Ine="_figureNarrow_1x7jo_139",Rne="_img_1x7jo_149",Pne="_fallbackImg_1x7jo_151",Lne="_figCaption_1x7jo_159",Dne="_tableWrap_1x7jo_163",Mne="_table_1x7jo_163",Fne="_footer_1x7jo_217",Bne="_tools_1x7jo_219",$ne="_toolBtn_1x7jo_221",Et={wrap:fne,header:gne,titles:xne,h1:vne,lead:yne,ctaRow:bne,cta:_ne,section:wne,sectionGrid:jne,card:Sne,h2:Nne,h3:kne,p:Tne,ul:Cne,ol:Ene,figure:Ane,figureNarrow:Ine,img:Rne,fallbackImg:Pne,figCaption:Lne,tableWrap:Dne,table:Mne,footer:Fne,tools:Bne,toolBtn:$ne},One=1400;function Vne(){const t=E.useMemo(()=>yl("goldxpcurve",One),[]);return n.jsxs("div",{className:Et.wrap,children:[n.jsxs("header",{className:Et.header,children:[n.jsxs("div",{className:Et.titles,children:[n.jsx("h1",{className:Et.h1,children:"Dungeon Pause"}),n.jsx("p",{className:Et.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),n.jsxs("div",{className:Et.ctaRow,children:[n.jsx(Wt,{className:Et.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),n.jsx(Wt,{className:Et.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),n.jsxs("section",{className:Et.section,children:[n.jsx("h2",{className:Et.h2,children:"Worum gehts?"}),n.jsxs("p",{className:Et.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",n.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",n.jsx("strong",{children:"Level 370"})," und endet um ",n.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),n.jsxs("section",{className:Et.section,children:[n.jsx("h3",{className:Et.h3,children:"XP & Gold  Verlauf"}),n.jsxs("div",{className:`${Et.figure} ${Et.figureNarrow}`,children:[t?n.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:Et.img}):n.jsx("div",{className:Et.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),n.jsx("div",{className:Et.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),n.jsxs("section",{className:Et.sectionGrid,children:[n.jsxs("div",{className:Et.card,children:[n.jsx("h3",{className:Et.h3,children:"Start & Ende"}),n.jsxs("ul",{className:Et.ul,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",n.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",n.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),n.jsxs("div",{className:Et.card,children:[n.jsx("h3",{className:Et.h3,children:"Twister & Light/Shadow"}),n.jsxs("ul",{className:Et.ul,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Twister:"})," bei ca. ",n.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),n.jsxs("li",{children:["Whrend der Pause weiterhin ",n.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",n.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",n.jsx("em",{children:"Devilsatt"})," &"," ",n.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),n.jsxs("section",{className:Et.section,children:[n.jsx("h3",{className:Et.h3,children:"Vorgehen"}),n.jsxs("ol",{className:Et.ol,children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",n.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",n.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",n.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),n.jsxs("section",{className:Et.section,children:[n.jsx("h3",{className:Et.h3,children:"Kompaktbersicht"}),n.jsx("div",{className:Et.tableWrap,children:n.jsxs("table",{className:Et.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Aspekt"}),n.jsx("th",{children:"Empfehlung"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{children:[n.jsx("td",{children:"Start (Faustregel)"}),n.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Ende (Faustregel)"}),n.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Open XP vor Eintritt"}),n.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Twister"}),n.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Light/Shadow"}),n.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Whrend der Pause"}),n.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Pets"}),n.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),n.jsxs("tr",{children:[n.jsx("td",{children:"Optimaler Exit"}),n.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),n.jsx("footer",{className:Et.footer,children:n.jsxs("div",{className:Et.tools,children:[n.jsx(Wt,{className:Et.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),n.jsx(Wt,{className:Et.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const Une=()=>n.jsx(hs,{title:"Dungeon Pause open XP Calculator"}),zne="_wrap_1uhww_3",Hne="_headerBar_1uhww_15",Gne="_title_1uhww_33",Wne="_meta_1uhww_45",qne="_description_1uhww_55",Kne="_section_1uhww_69",Qne="_sectionTitle_1uhww_77",Xne="_steps_1uhww_87",ji={wrap:zne,headerBar:Hne,title:Gne,meta:Wne,description:qne,section:Kne,sectionTitle:Qne,steps:Xne};function Yne(){return n.jsxs("div",{className:ji.wrap,children:[n.jsxs("div",{className:ji.headerBar,children:[n.jsx("h2",{className:ji.title,children:"Dungeon Pause Exit"}),n.jsx("span",{className:ji.meta,children:"Last updated: 28.03.2025"})]}),n.jsx("p",{className:ji.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),n.jsxs("section",{className:ji.section,children:[n.jsx("h3",{className:ji.sectionTitle,children:"Sequence for the Exit"}),n.jsxs("ol",{className:ji.steps,children:[n.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),n.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),n.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),n.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),n.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),n.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),n.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),n.jsxs("section",{className:ji.section,children:[n.jsx("h3",{className:ji.sectionTitle,children:"Extra Tip"}),n.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const Jne=()=>n.jsx(hs,{title:"Gem Calculator (Mid)"}),Zne=()=>n.jsx(hs,{title:"Calendar Skip"}),ere=()=>n.jsx(hs,{title:"Progression  Late Game"}),tre="_layout_13sgm_29",sre="_side_13sgm_49",nre="_sideHead_13sgm_61",rre="_search_13sgm_71",ire="_spotBtn_13sgm_89",are="_sideList_13sgm_109",ore="_sideItem_13sgm_111",lre="_active_13sgm_119",cre="_sideTitle_13sgm_121",dre="_ico_13sgm_123",ure="_badge_13sgm_125",hre="_detail_13sgm_139",pre="_detailInner_13sgm_141",mre="_detailHead_13sgm_143",fre="_detailTitle_13sgm_145",gre="_empty_13sgm_147",xre="_grid_13sgm_151",vre="_card_13sgm_157",yre="_cardHead_13sgm_175",bre="_btnGrid_13sgm_177",_re="_itemBtn_13sgm_179",wre="_spotWrap_13sgm_203",jre="_spot_13sgm_89",Sre="_spotHead_13sgm_227",Nre="_spotSearch_13sgm_235",kre="_spotClose_13sgm_243",Tre="_spotList_13sgm_253",Cre="_spotItem_13sgm_255",Ere="_spotItemEmpty_13sgm_259",Are="_spotCat_13sgm_261",Ire="_spotLabel_13sgm_263",Rre="_mark_13sgm_267",St={layout:tre,side:sre,sideHead:nre,search:rre,spotBtn:ire,sideList:are,sideItem:ore,active:lre,sideTitle:cre,ico:dre,badge:ure,detail:hre,detailInner:pre,detailHead:mre,detailTitle:fre,empty:gre,grid:xre,card:vre,cardHead:yre,btnGrid:bre,itemBtn:_re,spotWrap:wre,spot:jre,spotHead:Sre,spotSearch:Nre,spotClose:kre,spotList:Tre,spotItem:Cre,spotItemEmpty:Ere,spotCat:Are,spotLabel:Ire,mark:Rre};function Pre(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yu(t,e){if(!e)return t;const s=new RegExp(`(${Pre(e)})`,"ig");return t.replace(s,`<mark class="${St.mark}">$1</mark>`)}function jN(t){if(!t||!t.length)return 0;let e=0;for(const s of t)if(s.sub2&&s.sub2.length)if(s.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of s.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=s.sub2.length;else e+=1;return e}function Lre(t){const e=[];for(const s of t){const r=s.label;if(!(!s.sub||!s.sub.length))for(const i of s.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(l=>l.sub2&&l.sub2.length))for(const l of i.sub2)if(l.sub2&&l.sub2.length)for(const d of l.sub2)e.push({full:`${r}  ${i.label}  ${l.label}  ${d.label}`,catKey:s.key,subKey:i.key,sub2Key:d.key});else e.push({full:`${r}  ${i.label}  ${l.label}`,catKey:s.key,subKey:i.key,sub2Key:l.key});else for(const l of i.sub2)e.push({full:`${r}  ${i.label}  ${l.label}`,catKey:s.key,subKey:i.key,sub2Key:l.key});else e.push({full:`${r}  ${i.label}`,catKey:s.key,subKey:i.key})}return e}function Dre(t,e){var s;return e&&t.some(r=>r.key===e)?e:((s=t==null?void 0:t[0])==null?void 0:s.key)||""}const Mre=({categories:t,onNavigate:e,autoFocusSearch:s})=>{const[r,i]=E.useState(()=>{var D;return((D=t==null?void 0:t[0])==null?void 0:D.key)||""}),[a,l]=E.useState(""),[d,u]=E.useState(!1),h=E.useRef(null),m=E.useMemo(()=>{const D=a.trim().toLowerCase();if(!D)return t;const A=y=>y.toLowerCase().includes(D);return t.map(y=>{const w=A(y.label),L=[];for(const N of y.sub||[]){const j=A(N.label);if(N.sub2&&N.sub2.length)if(N.sub2.some(M=>M.sub2&&M.sub2.length)){const M=[];for(const P of N.sub2)if(P.sub2&&P.sub2.length){const O=P.sub2.filter($=>A($.label));O.length&&M.push({...P,sub2:O})}else A(P.label)&&M.push(P);(j||M.length)&&L.push({...N,sub2:M})}else{const M=N.sub2.filter(P=>A(P.label));(j||M.length)&&L.push({...N,sub2:M})}else j&&L.push(N)}return w||L.length?{...y,sub:L.length?L:y.sub}:null}).filter(Boolean)},[t,a]),g=E.useMemo(()=>{const D=m.length?m:t,A=Dre(D,r);return D.find(y=>y.key===A)||D[0]||null},[m,t,r]),v=E.useMemo(()=>Lre(t),[t]),[b,S]=E.useState(""),C=E.useMemo(()=>{const D=b.trim().toLowerCase();return D?v.filter(A=>A.full.toLowerCase().includes(D)):v},[v,b]);E.useEffect(()=>{const D=A=>{const y=A.key.toLowerCase()==="k";(A.metaKey||A.ctrlKey)&&y&&(A.preventDefault(),u(!0),setTimeout(()=>{var w;return(w=h.current)==null?void 0:w.focus()},0)),A.key==="Escape"&&u(!1)};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[]);const R=E.useRef(null);E.useEffect(()=>{var D;s&&((D=R.current)==null||D.focus())},[s]);const F=()=>{var L;const D=a.trim().toLowerCase(),A=(D?v.find(N=>N.full.toLowerCase().includes(D)):v[0])||null;if(A){e({tab:A.catKey,sub:A.subKey,sub2:A.sub2Key});return}const y=g,w=(L=y==null?void 0:y.sub)==null?void 0:L[0];if(!(!y||!w))if(w.sub2&&w.sub2.length)if(w.sub2.some(j=>j.sub2&&j.sub2.length)){const j=w.sub2[0];j.sub2&&j.sub2.length?e({tab:y.key,sub:w.key,sub2:j.sub2[0].key}):e({tab:y.key,sub:w.key,sub2:j.key})}else e({tab:y.key,sub:w.key,sub2:w.sub2[0].key});else e({tab:y.key,sub:w.key})};return n.jsxs("div",{className:St.layout,children:[n.jsxs("div",{className:St.side,children:[n.jsxs("div",{className:St.sideHead,children:[n.jsx("input",{ref:R,className:St.search,type:"search",placeholder:"Suche",value:a,onChange:D=>l(D.target.value),onKeyDown:D=>{D.key==="Enter"&&F()}}),n.jsx("button",{className:St.spotBtn,type:"button",onClick:()=>{u(!0),setTimeout(()=>{var D;return(D=h.current)==null?void 0:D.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),n.jsx("div",{className:St.sideList,children:(m.length?m:t).map(D=>n.jsxs("div",{className:`${St.sideItem} ${(g==null?void 0:g.key)===D.key?St.active:""}`,onClick:()=>i(D.key),children:[n.jsxs("span",{className:St.sideTitle,children:[D.icon?n.jsx("span",{className:St.ico,"aria-hidden":!0,children:D.icon}):null,D.label]}),n.jsx("span",{className:St.badge,children:jN(D.sub)})]},D.key))})]}),n.jsx("div",{className:St.detail,children:g?n.jsxs("div",{className:St.detailInner,children:[n.jsxs("div",{className:St.detailHead,children:[n.jsxs("h3",{className:St.detailTitle,children:[g.icon?n.jsx("span",{className:St.ico,"aria-hidden":!0,children:g.icon}):null,g.label]}),n.jsxs("div",{className:St.badge,children:[jN(g.sub)," Eintrge"]})]}),n.jsx("div",{className:St.grid,children:(g.sub||[]).map(D=>{const A=D.sub2&&D.sub2.length>0,y=A&&D.sub2.some(w=>w.sub2&&w.sub2.length);return n.jsxs("div",{className:St.card,children:[n.jsx("div",{className:St.cardHead,dangerouslySetInnerHTML:{__html:yu(D.label,a)}}),A?n.jsx("div",{className:St.btnGrid,children:y?D.sub2.flatMap(w=>w.sub2&&w.sub2.length?w.sub2.map(L=>n.jsx("button",{className:St.itemBtn,onClick:()=>e({tab:g.key,sub:D.key,sub2:L.key}),dangerouslySetInnerHTML:{__html:yu(`${w.label}  ${L.label}`,a)}},`${w.key}__${L.key}`)):[n.jsx("button",{className:St.itemBtn,onClick:()=>e({tab:g.key,sub:D.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:yu(w.label,a)}},w.key)]):D.sub2.map(w=>n.jsx("button",{className:St.itemBtn,onClick:()=>e({tab:g.key,sub:D.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:yu(w.label,a)}},w.key))}):n.jsx("div",{className:St.btnGrid,children:n.jsx("button",{className:St.itemBtn,onClick:()=>e({tab:g.key,sub:D.key}),dangerouslySetInnerHTML:{__html:yu(D.label,a)}})})]},D.key)})}),a&&g.sub&&g.sub.length>0&&g.sub.every(D=>!D.sub2||!D.sub2.length?!D.label.toLowerCase().includes(a.trim().toLowerCase()):D.sub2.some(y=>y.sub2&&y.sub2.length)?D.sub2.every(y=>y.sub2&&y.sub2.length?y.sub2.every(w=>!w.label.toLowerCase().includes(a.trim().toLowerCase())):!y.label.toLowerCase().includes(a.trim().toLowerCase())):D.sub2.every(y=>!y.label.toLowerCase().includes(a.trim().toLowerCase())))?n.jsxs("div",{className:St.empty,children:["Keine Treffer in ",g.label,"."]}):null]}):n.jsx("div",{className:St.empty,children:"Keine Kategorie gefunden."})}),d&&n.jsx("div",{className:St.spotWrap,onClick:()=>u(!1),children:n.jsxs("div",{className:St.spot,onClick:D=>D.stopPropagation(),children:[n.jsxs("div",{className:St.spotHead,children:[n.jsx("input",{ref:h,className:St.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:b,onChange:D=>S(D.target.value)}),n.jsx("button",{className:St.spotClose,onClick:()=>u(!1),children:"Esc"})]}),n.jsx("div",{className:St.spotList,children:C.length===0?n.jsx("div",{className:St.spotItemEmpty,children:"Keine Treffer"}):C.map((D,A)=>n.jsxs("div",{className:St.spotItem,onClick:()=>{u(!1),e({tab:D.catKey,sub:D.subKey,sub2:D.sub2Key})},children:[n.jsx("div",{className:St.spotCat,children:D.catKey}),n.jsx("div",{className:St.spotLabel,children:D.full})]},A))})]})})]})},Fre={gamefeatures:AZ,progression:IZ,hellevator:RZ,"legendary-dungeon":PZ,events:LZ,calculators:qZ,infographics:KZ,"class-book":QZ,dungeons:XZ},SN={gamefeatures:{fortress:YZ,underworld:hee,arenaam:fee},hellevator:{"hellevator-guide":hte},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":pte},events:{"event-list":mte,"event-cycle":fte},calculators:{"fortress-calculator":Lte,"underworld-calculator":ese,"max-item-stats-calculator":tse,"gem-calculator":Ese,"dungeon-pause-open-xp-calculator":Qse},progression:{early:Xse,mid:mne,late:ere}},ny={gamefeatures:{arenaam:{"am-rune-bonuses":tte,"am-build-order":ute},underworld:{"underworld-calculator":pee,"underworld-pro-package-skip-order":mee},fortress:{"fortress-calculator":JZ,"fortress-package-skip-order":dee,"fortress-attack-duplication":uee}},progression:{early:{"first-weekend-guide":lne,"max-item-stats-calculator":cne,"fortress-package-skip-order":dne,"underworld-pro-package-skip-order":une,"gem-calculator":hne,"fortress-attack-duplication":pne},mid:{"dungeon-pause":Vne,"dungeon-pause-open-xp-calculator":Une,"dungeon-pause-exit":Yne,"gem-calculator":Jne,"calendar-skip":Zne}}};function Bre(){const[t,e]=Al(),s=t.get("tab")||"",r=t.get("sub")||"",i=t.get("sub2")||"";let a=null;s?s&&!r?a=Fre[s]||null:s&&r&&!i?a=SN[s]&&SN[s][r]||null:s&&r&&i&&(a=ny[s]&&ny[s][r]&&ny[s][r][i]||null):a=null;const l=d=>{const u=new URLSearchParams(t);u.set("tab",d.tab),d.sub?u.set("sub",d.sub):u.delete("sub"),d.sub2?u.set("sub2",d.sub2):u.delete("sub2"),e(u,{replace:!1})};return n.jsxs(Nt,{children:[n.jsx("div",{className:Nc.topWrap,children:n.jsx(wZ,{logoSrc:EZ,categories:fN,titleI18nKey:"guides.index.title"})}),n.jsx("div",{className:Nc.divider}),n.jsx("div",{className:Nc.contentArea,children:a?n.jsx(a,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:Nc.placeholder,children:[n.jsx("h2",{className:Nc.placeholderTitle,children:"Guides"}),n.jsx("p",{className:Nc.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),n.jsx(Mre,{categories:fN,onNavigate:l,autoFocusSearch:!1})]})})]})}const $re="_wrap_1353r_1",Ore="_centerLogoWrap_1353r_21",Vre="_centerLogoLink_1353r_37",Ure="_centerLogo_1353r_21",zre="_arc_1353r_71",Hre="_left_1353r_73",Gre="_right_1353r_75",Wre="_sub_1353r_77",qre="_full_1353r_79",Kre="_arcItem_1353r_81",Qre="_iconBtn_1353r_87",Xre="_active_1353r_141",Yre="_iconImg_1353r_151",Jre="_placeholderIcon_1353r_155",Zre="_placeholderText_1353r_173",eie="_iconLabel_1353r_177",un={wrap:$re,centerLogoWrap:Ore,centerLogoLink:Vre,centerLogo:Ure,arc:zre,left:Hre,right:Gre,sub:Wre,full:qre,arcItem:Kre,iconBtn:Qre,active:Xre,iconImg:Yre,placeholderIcon:Jre,placeholderText:Zre,iconLabel:eie},tie=({to:t,label:e,icon:s,variant:r="main"})=>{const{search:i}=rr();let a=!1;try{const l=new URLSearchParams(i),d=l.get("tab"),u=l.get("sub"),m=new URL(t,window.location.origin).searchParams,g=m.get("tab"),v=m.get("sub");a=r==="sub"?d===g&&!!v&&u===v:d===g}catch(l){a=!1}return n.jsxs(Wt,{to:t,"aria-label":e,className:[un.iconBtn,r==="sub"?un.muted:"",a?un.active:""].join(" "),title:e,replace:!1,children:[s?n.jsx("img",{src:s,alt:"",className:un.iconImg}):n.jsx("div",{className:un.placeholderIcon,"aria-hidden":"true",children:n.jsx("span",{className:un.placeholderText,children:e.slice(0,2).toUpperCase()})}),n.jsx("div",{className:un.iconLabel,children:e})]})},ry=({items:t,side:e,anchorSide:s="right",compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:l=440})=>{const d=E.useMemo(()=>{const h=t.length;if(h===0)return[];let m=-90,g=90;e==="left"?(m=90,g=270):e==="sub"?s==="left"?(m=90,g=270):(m=-90,g=90):e==="full"&&(m=0,g=360);const v=(g-m)/(h+1),b=r?190:250;return t.map((S,C)=>{const F=(m+v*(C+1))*Math.PI/180;return{it:S,x:Math.cos(F)*b,y:Math.sin(F)*b}})},[t,e,s,r]),u=(()=>{const h={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?h.left=`calc(50% - ${a}px)`:e==="right"?h.left=`calc(50% + ${a}px)`:e==="sub"&&(h.left=s==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`),h})();return n.jsx("div",{className:[un.arc,e==="left"?un.left:"",e==="right"?un.right:"",e==="sub"?un.sub:"",e==="full"?un.full:""].join(" "),style:u,children:d.map(({it:h,x:m,y:g})=>n.jsx("div",{className:un.arcItem,style:{transform:`translate(${m}px, ${g}px)`},children:n.jsx(tie,{to:h.to,label:h.label,icon:h.icon,variant:i})},h.key))})},sie=["creators","scans","predictions","news","records","feedback"],m0=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],nie={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},rie=new Set(sie),iie=m0.reduce((t,e)=>(t[e.key]=e,t),{}),aie=t=>typeof t=="string"&&rie.has(t),oie=({logoSrc:t})=>{const[e]=Al(),s=e.get("tab")||null,r=E.useMemo(()=>m0.filter(b=>b.side==="left"),[]),i=E.useMemo(()=>m0.filter(b=>b.side==="right"),[]),a=aie(s)?s:null,l=a?nie[a]:[],d=a?iie[a].side:"right",u=E.useRef(null),[h,m]=E.useState(220),[g,v]=E.useState(440);return E.useEffect(()=>{const b=()=>{var A,y;const C=((y=(A=u.current)==null?void 0:A.offsetWidth)!=null?y:380)/2,F=Math.round(C+60),D=Math.round(F+220);m(F),v(D)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),n.jsxs("div",{className:un.wrap,children:[n.jsx("div",{className:un.centerLogoWrap,children:n.jsx(Wt,{to:"/community",className:un.centerLogoLink,"aria-label":"Community Hub Home",children:n.jsx("img",{ref:u,src:t,alt:"Community Hub",className:un.centerLogo})})}),n.jsx(ry,{items:r.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"left",variant:"main",arcOffset:h}),n.jsx(ry,{items:i.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"right",variant:"main",arcOffset:h}),l.length>0&&n.jsx(ry,{items:l.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"sub",anchorSide:d,compact:!0,variant:"sub",outerOffset:g})]})},lie="_topWrap_1rivx_1",cie="_divider_1rivx_19",die="_contentArea_1rivx_53",uie="_placeholder_1rivx_63",hie="_placeholderTitle_1rivx_77",pie="_placeholderText_1rivx_91",kc={topWrap:lie,divider:cie,contentArea:die,placeholder:uie,placeholderTitle:hie,placeholderText:pie},mie="/assets/logo_communityhub-LVMLHRD6.png",fie=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function TE(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function gie(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,i,a]=e.map(l=>parseInt(l,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(a))return new Date(a,i-1,r).toISOString()}const s=new Date(t);return Number.isNaN(s.getTime())?new Date().toISOString():s.toISOString()}function iy(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function xie(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function vie(t){return t.avatar?t.avatar:`/avatars/${TE(t.code||t.name||"creator")}.png`}function yie(t){const e=TE(t.code||t.name||"creator"),s=[],r=iy(t.youtube);r&&s.push({type:"YouTube",url:r});const i=iy(t.twitch);i&&s.push({type:"Twitch",url:i});const a=iy(t.discord);return a&&s.push({type:"Discord",url:a}),{id:`sheet-${e}`,name:t.name,avatar:vie(t),description:xie(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:gie(t.latestActivity),platforms:s}}function bie(t){var s,r,i;const e=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];return{generatedAt:(s=t==null?void 0:t.generatedAt)!=null?s:new Date().toISOString(),data:e,warnings:(i=(r=t==null?void 0:t.warnings)!=null?r:t==null?void 0:t.errors)!=null?i:[],stats:t==null?void 0:t.stats}}function CE(t="/data/creators-live.json"){const[e,s]=E.useState(null),[r,i]=E.useState(""),[a,l]=E.useState(!1),[d,u]=E.useState(0);return E.useEffect(()=>{let h=!1;async function m(){l(!0),i("");try{const g=await fetch(t,{cache:"no-store"});if(!g.ok)throw new Error(`HTTP ${g.status}`);const v=await g.json();h||s(bie(v))}catch(g){h||(i((g==null?void 0:g.message)||"Failed to load creator snapshot"),s(null))}finally{h||l(!1)}}return m(),()=>{h=!0}},[t,d]),{snapshot:e,error:r,loading:a,refresh:()=>u(h=>h+1)}}const _ie=fie,wie=_ie.map(yie),jie=[...wie];function EE(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function uo(t,e,s=EE){if(t<=0)return"";const r=s(t);return e?`${r} ${e}`:r}function xh(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function Sie(t,e){const s=e==="asc"?1:-1;return(r,i)=>{switch(t){case"subs":return(r.subscribers-i.subscribers)*s;case"views":return(r.totalViews-i.totalViews)*s;case"activity":return(xh(r.lastActive)-xh(i.lastActive))*s*-1;case"language":return r.language.localeCompare(i.language)*s;default:return 0}}}function Nie(t){const e={width:16,height:16};switch(t){case"YouTube":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[n.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),n.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[n.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),n.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),n.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[n.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),n.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),n.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return n.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[n.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),n.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),n.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function NN({c:t}){return n.jsxs("article",{className:"cc-card",children:[n.jsxs("header",{className:"cc-card-head",children:[n.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const s=e.currentTarget;s.onerror=null,s.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),n.jsxs("div",{className:"cc-card-title",children:[n.jsx("h3",{className:"cc-name",children:t.name}),n.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>n.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[Nie(e.type),n.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),n.jsx("p",{className:"cc-desc",children:t.description}),n.jsxs("div",{className:"cc-stats",children:[n.jsx("span",{title:"Subscribers",children:uo(t.subscribers,"subs")}),n.jsx("span",{title:"Total views",children:uo(t.totalViews,"views")}),n.jsx("span",{title:"Weekly views",children:uo(t.weeklyViews,"/wk")}),n.jsx("span",{title:"Weekly posts",children:uo(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),n.jsxs("footer",{className:"cc-meta",children:[n.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),n.jsxs("span",{className:"cc-meta-right",children:["active ",xh(t.lastActive),"d ago"]})]})]},t.id)}function kie({data:t}){return n.jsx("div",{className:"cc-table-wrap",children:n.jsxs("table",{className:"cc-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Lang"}),n.jsx("th",{children:"Subs"}),n.jsx("th",{children:"Total Views"}),n.jsx("th",{children:"Weekly Views"}),n.jsx("th",{children:"Weekly Posts"}),n.jsx("th",{children:"Active"})]})}),n.jsx("tbody",{children:t.map(e=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:"cc-table-name",children:[n.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),n.jsx("span",{children:e.name})]})}),n.jsx("td",{children:e.language.toUpperCase()}),n.jsx("td",{children:uo(e.subscribers)}),n.jsx("td",{children:uo(e.totalViews)}),n.jsx("td",{children:uo(e.weeklyViews)}),n.jsx("td",{children:uo(e.weeklyPosts,void 0,s=>`${s}`)}),n.jsxs("td",{children:[xh(e.lastActive),"d"]})]},e.id))})]})})}function AE(){var J,ce;const[t,e]=E.useState("static"),[s,r]=E.useState("cards"),[i,a]=E.useState("subs"),[l,d]=E.useState("desc"),[u,h]=E.useState("all"),[m,g]=E.useState("all"),[v,b]=E.useState(0),[S,C]=E.useState(365),[R,F]=E.useState(null),[D,A]=E.useState(""),[y,w]=E.useState(!1),[L,N]=E.useState(""),[j,I]=E.useState(null),{snapshot:M,error:P}=CE(),O=(J=M==null?void 0:M.data)!=null&&J.length?M.data:null,$=O!=null?O:jie,W=t==="static"?$:(ce=j!=null?j:O)!=null?ce:[],H=E.useMemo(()=>{const ee=new Set(W.map(fe=>fe.language));return Array.from(ee).sort()},[W]),q=E.useMemo(()=>W.filter(ee=>u==="all"?!0:ee.language===u).filter(ee=>m==="all"?!0:ee.platforms.some(fe=>fe.type===m)).filter(ee=>ee.subscribers>=v).filter(ee=>xh(ee.lastActive)<=S).slice().sort(Sie(i,l)),[W,u,m,v,S,i,l]);E.useEffect(()=>{if(!R&&q.length){const ee=q[Math.floor(Math.random()*q.length)];F(ee.id)}},[q,R]);const K=E.useMemo(()=>q.find(ee=>ee.id===R)||null,[q,R]),G=E.useMemo(()=>q.slice().sort((ee,fe)=>fe.weeklyViews-ee.weeklyViews).slice(0,5),[q]),te=E.useMemo(()=>q.slice().sort((ee,fe)=>fe.weeklyPosts-ee.weeklyPosts).slice(0,5),[q]);async function ne(){N(""),w(!0);try{const ee=await fetch(D,{headers:{Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const fe=await ee.json(),Ce=Array.isArray(fe)?fe:Array.isArray(fe==null?void 0:fe.data)?fe.data:[];I(Ce)}catch(ee){N((ee==null?void 0:ee.message)||"Fetch failed")}finally{w(!1)}}const U=q.length===0;return n.jsxs("section",{className:"cc-wrap",children:[n.jsxs("div",{className:"cc-heading",children:[n.jsx("h1",{children:"Content Creator Hub"}),n.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),M&&n.jsxs("p",{className:"cc-sync",children:[n.jsxs("span",{children:["Live stats synced ",new Date(M.generatedAt).toLocaleString()]}),n.jsxs("span",{children:[M.data.length," profiles"]})]}),P&&n.jsx("p",{className:"cc-sync-error",children:P})]}),n.jsxs("div",{className:"cc-toolbar",children:[n.jsxs("div",{className:"cc-toolbar-row",children:[n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Data"}),n.jsxs("select",{value:t,onChange:ee=>e(ee.target.value),children:[n.jsx("option",{value:"static",children:"Static"}),n.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"View"}),n.jsxs("select",{value:s,onChange:ee=>r(ee.target.value),children:[n.jsx("option",{value:"cards",children:"Cards"}),n.jsx("option",{value:"table",children:"Table"}),n.jsx("option",{value:"json",children:"JSON"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Sort by"}),n.jsxs("select",{value:i,onChange:ee=>a(ee.target.value),children:[n.jsx("option",{value:"subs",children:"Subs"}),n.jsx("option",{value:"views",children:"Views"}),n.jsx("option",{value:"activity",children:"Activity"}),n.jsx("option",{value:"language",children:"Language"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Dir"}),n.jsxs("select",{value:l,onChange:ee=>d(ee.target.value),children:[n.jsx("option",{value:"desc",children:"Desc"}),n.jsx("option",{value:"asc",children:"Asc"})]})]})]}),n.jsxs("div",{className:"cc-toolbar-row",children:[n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Language"}),n.jsxs("select",{value:u,onChange:ee=>h(ee.target.value),children:[n.jsx("option",{value:"all",children:"All"}),H.map(ee=>n.jsx("option",{value:ee,children:ee.toUpperCase()},ee))]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Platform"}),n.jsxs("select",{value:m,onChange:ee=>g(ee.target.value),children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"YouTube",children:"YouTube"}),n.jsx("option",{value:"Twitch",children:"Twitch"}),n.jsx("option",{value:"TikTok",children:"TikTok"}),n.jsx("option",{value:"Discord",children:"Discord"})]})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Min subs"}),n.jsx("input",{type:"number",min:0,value:v,onChange:ee=>b(Number(ee.target.value||0)),placeholder:"0"})]}),n.jsxs("label",{className:"cc-field",children:[n.jsx("span",{children:"Active within"}),n.jsxs("select",{value:S,onChange:ee=>C(Number(ee.target.value)),children:[n.jsx("option",{value:7,children:"7 days"}),n.jsx("option",{value:30,children:"30 days"}),n.jsx("option",{value:90,children:"90 days"}),n.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&n.jsxs("div",{className:"cc-api",children:[n.jsxs("div",{className:"cc-api-ctrls",children:[n.jsxs("label",{className:"cc-field cc-field-grow",children:[n.jsx("span",{children:"API URL"}),n.jsx("input",{type:"url",value:D,onChange:ee=>A(ee.target.value),placeholder:"https://api.example.com/creators"})]}),n.jsx("button",{className:"cc-btn",onClick:ne,disabled:!D||y,children:y?"Loading":"Fetch"})]}),L&&n.jsx("div",{className:"cc-api-error",children:L}),n.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),K&&n.jsxs("div",{className:"cc-spotlight",children:[n.jsxs("div",{className:"cc-spot-head",children:[n.jsx("h2",{children:"Random CC Spotlight"}),n.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!q.length)return;const ee=q[Math.floor(Math.random()*q.length)];F(ee.id)},children:"Shuffle"})]}),n.jsx(NN,{c:K})]}),n.jsxs("div",{className:"cc-main",children:[n.jsxs("div",{className:"cc-main-left",children:[U&&n.jsxs("div",{className:"cc-empty",children:[n.jsx("h3",{children:"No creators match the filters"}),n.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!U&&s==="cards"&&n.jsx("div",{className:"cc-grid",children:q.map(ee=>n.jsx(NN,{c:ee},ee.id))}),!U&&s==="table"&&n.jsx(kie,{data:q}),s==="json"&&n.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(q,null,2)})]}),n.jsxs("aside",{className:"cc-main-right",children:[n.jsxs("div",{className:"cc-side",children:[n.jsx("h3",{children:"Weekly Toplists"}),n.jsxs("div",{className:"cc-toplist",children:[n.jsxs("div",{children:[n.jsx("h4",{children:"By Weekly Views"}),n.jsx("ol",{children:G.map(ee=>n.jsxs("li",{children:[n.jsx("span",{children:ee.name}),n.jsx("span",{className:"cc-top-val",children:EE(ee.weeklyViews)})]},ee.id))})]}),n.jsxs("div",{children:[n.jsx("h4",{children:"By Weekly Posts"}),n.jsx("ol",{children:te.map(ee=>n.jsxs("li",{children:[n.jsx("span",{children:ee.name}),n.jsx("span",{className:"cc-top-val",children:ee.weeklyPosts})]},ee.id))})]})]})]}),n.jsxs("div",{className:"cc-side cc-legal",children:[n.jsx("h3",{children:"Legal & Disclaimer"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Only public data; no embedding without permission."}),n.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),n.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function IE(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  Scans"}),n.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function RE(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  Predictions"}),n.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function PE(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  News"}),n.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function LE(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Community  Feedback"}),n.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const Tie=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],ay=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],Cie={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},Eie=t=>Cie[t],Aie=(t,e=64)=>{var i;const s=Eie(t),r=Tl(s);return r&&(i=Vr(r,e))!=null?i:null},Iie="_recordsPage_kdw96_1",Rie="_navArea_kdw96_15",Pie="_tabList_kdw96_27",Lie="_tabButton_kdw96_55",Die="_tabButtonActive_kdw96_101",Mie="_sectionContent_kdw96_115",Fie="_placeholderPanel_kdw96_127",Bie="_placeholderTitle_kdw96_143",$ie="_placeholderText_kdw96_157",Oie="_milestoneSection_kdw96_171",Vie="_sectionHeader_kdw96_183",Uie="_filterBar_kdw96_197",zie="_filterButtons_kdw96_231",Hie="_filterButton_kdw96_231",Gie="_filterButtonActive_kdw96_295",Wie="_filterSelectWrapper_kdw96_309",qie="_filterLabel_kdw96_321",Kie="_filterSelect_kdw96_309",Qie="_emptyFilterMessage_kdw96_355",Xie="_currentSection_kdw96_369",Yie="_currentGrid_kdw96_381",Jie="_currentCard_kdw96_393",Zie="_categoryLabel_kdw96_419",eae="_recordTitle_kdw96_433",tae="_currentDetails_kdw96_445",sae="_notes_kdw96_457",nae="_infoPanel_kdw96_469",rae="_infoCard_kdw96_481",iae="_disclaimerCard_kdw96_483",aae="_infoHeader_kdw96_525",oae="_infoAuthor_kdw96_539",lae="_authorName_kdw96_557",cae="_authorBadge_kdw96_565",dae="_infoAuthorIcon_kdw96_591",uae="_infoDate_kdw96_623",hae="_infoBody_kdw96_633",pae="_infoTitle_kdw96_645",mae="_infoLink_kdw96_665",fae="_milestoneGrid_kdw96_719",gae="_milestoneCard_kdw96_731",xae="_milestoneCategory_kdw96_757",vae="_milestoneTitle_kdw96_771",yae="_milestoneDetails_kdw96_785",bae="_detailRow_kdw96_797",_ae="_detailLabel_kdw96_809",wae="_detailValue_kdw96_823",jae="_sourceLink_kdw96_833",Sae="_emptyState_kdw96_855",Oe={recordsPage:Iie,navArea:Rie,tabList:Pie,tabButton:Lie,tabButtonActive:Die,sectionContent:Mie,placeholderPanel:Fie,placeholderTitle:Bie,placeholderText:$ie,milestoneSection:Oie,sectionHeader:Vie,filterBar:Uie,filterButtons:zie,filterButton:Hie,filterButtonActive:Gie,filterSelectWrapper:Wie,filterLabel:qie,filterSelect:Kie,emptyFilterMessage:Qie,currentSection:Xie,currentGrid:Yie,currentCard:Jie,categoryLabel:Zie,recordTitle:eae,currentDetails:tae,notes:sae,infoPanel:nae,infoCard:rae,disclaimerCard:iae,infoHeader:aae,infoAuthor:oae,authorName:lae,authorBadge:cae,infoAuthorIcon:dae,infoDate:uae,infoBody:hae,infoTitle:pae,infoLink:mae,milestoneGrid:fae,milestoneCard:gae,milestoneCategory:xae,milestoneTitle:vae,milestoneDetails:yae,detailRow:bae,detailLabel:_ae,detailValue:wae,sourceLink:jae,emptyState:Sae},Nae=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],kae={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},Tae=({title:t,description:e,hint:s})=>n.jsxs("article",{className:Oe.placeholderPanel,children:[n.jsx("h2",{className:Oe.placeholderTitle,children:t}),n.jsx("p",{className:Oe.placeholderText,children:e}),s&&n.jsx("p",{className:Oe.emptyState,children:s})]}),Cae=()=>{const[t,e]=E.useState("all"),s=E.useMemo(()=>{const a=new Set,l=[];for(const d of ay)a.has(d.category)||(a.add(d.category),l.push(d.category));return["all",...l]},[]),r=t==="all"?ay:ay.filter(a=>a.category===t),i=a=>{e(a)};return n.jsxs("section",{className:Oe.milestoneSection,"aria-label":"Records milestones",children:[n.jsxs("div",{className:Oe.sectionHeader,children:[n.jsx("p",{children:"Milestones"}),n.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),n.jsxs("div",{className:Oe.filterBar,children:[n.jsx("div",{className:Oe.filterButtons,children:s.map(a=>n.jsx("button",{type:"button",className:[Oe.filterButton,t===a&&Oe.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(a),"aria-pressed":t===a,children:a==="all"?"All Categories":a},a))}),n.jsxs("label",{className:Oe.filterSelectWrapper,children:[n.jsx("span",{className:Oe.filterLabel,children:"Category"}),n.jsx("select",{value:t,onChange:a=>i(a.target.value),className:Oe.filterSelect,children:s.map(a=>n.jsx("option",{value:a,children:a==="all"?"All Categories":a},a))})]})]}),r.length===0?n.jsx("p",{className:Oe.emptyFilterMessage,children:"No milestones fall into this category yet."}):n.jsx("div",{className:Oe.milestoneGrid,children:r.map(a=>n.jsxs("article",{className:Oe.milestoneCard,children:[n.jsx("span",{className:Oe.milestoneCategory,children:a.category}),n.jsx("h3",{className:Oe.milestoneTitle,children:a.achievement}),n.jsxs("div",{className:Oe.milestoneDetails,children:[n.jsxs("div",{className:Oe.detailRow,children:[n.jsx("span",{className:Oe.detailLabel,children:"Name"}),n.jsx("span",{className:Oe.detailValue,children:a.name})]}),n.jsxs("div",{className:Oe.detailRow,children:[n.jsx("span",{className:Oe.detailLabel,children:"Server"}),n.jsx("span",{className:Oe.detailValue,children:a.server})]}),n.jsxs("div",{className:Oe.detailRow,children:[n.jsx("span",{className:Oe.detailLabel,children:"Date"}),n.jsx("span",{className:Oe.detailValue,children:a.date})]}),a.notes&&n.jsx("p",{className:Oe.notes,children:a.notes}),a.source&&n.jsx("a",{href:a.source,target:"_blank",rel:"noreferrer",className:Oe.sourceLink,children:"Source"})]})]},`${a.achievement}-${a.name}`))})]})},Eae=()=>n.jsxs("section",{className:Oe.currentSection,"aria-label":"Current community records",children:[n.jsxs("div",{className:Oe.sectionHeader,children:[n.jsx("p",{children:"Current Records"}),n.jsx("h2",{children:"The latest verified achievements"})]}),n.jsx("div",{className:Oe.currentGrid,children:Tie.map((t,e)=>n.jsxs("article",{className:Oe.currentCard,children:[n.jsx("span",{className:Oe.categoryLabel,children:t.category}),n.jsx("h3",{className:Oe.recordTitle,children:t.record}),n.jsxs("div",{className:Oe.currentDetails,children:[n.jsxs("div",{className:Oe.detailRow,children:[n.jsx("span",{className:Oe.detailLabel,children:"Class"}),n.jsx("span",{className:Oe.detailValue,children:t.classType})]}),n.jsxs("div",{className:Oe.detailRow,children:[n.jsx("span",{className:Oe.detailLabel,children:"Player"}),n.jsx("span",{className:Oe.detailValue,children:t.playerName})]}),n.jsxs("div",{className:Oe.detailRow,children:[n.jsx("span",{className:Oe.detailLabel,children:"Server"}),n.jsx("span",{className:Oe.detailValue,children:t.server})]}),n.jsxs("div",{className:Oe.detailRow,children:[n.jsx("span",{className:Oe.detailLabel,children:"Days"}),n.jsx("span",{className:Oe.detailValue,children:t.days})]}),t.release&&n.jsxs("div",{className:Oe.detailRow,children:[n.jsx("span",{className:Oe.detailLabel,children:"Release"}),n.jsx("span",{className:Oe.detailValue,children:t.release})]}),(t.previousDays||t.previousName)&&n.jsxs("p",{className:Oe.notes,children:["Previous: ",t.previousDays?`${t.previousDays} days`:""," ",t.previousName?`(${t.previousName})`:""]}),t.notes&&n.jsx("p",{className:Oe.notes,children:t.notes})]})]},`${t.category}-${t.playerName}-${e}`))})]}),bu={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function DE(){const[t,e]=E.useState("current"),s=Aie("infoCard",32),r=()=>{if(t==="current")return n.jsx(Eae,{});if(t==="milestones")return n.jsx(Cae,{});const i=kae[t];return n.jsx(Tae,{title:i.title,description:i.description,hint:i.hint})};return n.jsxs("section",{className:Oe.recordsPage,children:[n.jsx(SE,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),n.jsxs("div",{className:Oe.infoPanel,children:[n.jsxs("div",{className:Oe.infoCard,children:[n.jsxs("div",{className:Oe.infoHeader,children:[n.jsxs("div",{className:Oe.infoAuthor,children:[s?n.jsx("img",{src:s,alt:"Community Data",className:Oe.infoAuthorIcon}):null,n.jsx("span",{className:Oe.authorName,children:"S&F Tavern Info"}),n.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:Oe.authorBadge,children:"Discord"})]}),n.jsx("span",{className:Oe.infoDate,children:"11.12.2020 14:08"})]}),n.jsxs("div",{className:Oe.infoBody,children:[n.jsx("h3",{className:Oe.infoTitle,children:bu.title}),bu.paragraphs.map(i=>n.jsx("p",{children:i},i))]}),n.jsxs("div",{className:Oe.infoLink,children:[n.jsx("span",{children:bu.linkLabel}),n.jsx("a",{href:bu.linkUrl,target:"_blank",rel:"noreferrer",children:bu.linkUrl})]})]}),n.jsxs("div",{className:Oe.disclaimerCard,children:[n.jsx("h3",{className:Oe.infoTitle,children:"Disclaimer"}),n.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),n.jsx("div",{className:Oe.navArea,children:n.jsx("nav",{className:Oe.tabList,"aria-label":"Records navigation",children:Nae.map(i=>n.jsx("button",{type:"button",className:`${Oe.tabButton} ${t===i.key?Oe.tabButtonActive:""}`,"aria-pressed":t===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),n.jsx("div",{className:Oe.sectionContent,children:r()})]})}const Aae={creators:AE,scans:IE,predictions:RE,news:PE,records:DE,feedback:LE};function Iae(){const[t]=Al(),e=t.get("tab")||"",s=Aae[e];return n.jsxs(Nt,{children:[n.jsx("div",{className:kc.topWrap,children:n.jsx(oie,{logoSrc:mie})}),n.jsx("div",{className:kc.divider}),n.jsx("div",{className:kc.contentArea,children:s?n.jsx(s,{}):n.jsxs("div",{className:kc.placeholder,children:[n.jsx("h2",{className:kc.placeholderTitle,children:"Community"}),n.jsx("p",{className:kc.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function Rae(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Scans"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[n.jsxs(Wt,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),n.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),n.jsxs(Wt,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[n.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),n.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function Pae(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Scans  Letzter Scan"}),n.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function Lae(){return n.jsxs("section",{style:{padding:16},children:[n.jsx("h1",{children:"Scans  Archiv"}),n.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function Dae(){return n.jsx(Nt,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:n.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:n.jsx(Mae,{}),right:n.jsx(Fae,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[n.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),n.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx(Wt,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),n.jsx(Wt,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsx(Im,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),n.jsx(Im,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),n.jsx(Im,{to:"/guild-hub/compare-guilds",title:"Gildenvergleich",desc:"Kennzahlen nebeneinander legen"}),n.jsx(Im,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function Mae(){return n.jsxs("nav",{className:"space-y-2 text-sm",children:[n.jsx(_u,{to:"/guild-hub/planner",children:"Planner"}),n.jsx(_u,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),n.jsx(_u,{to:"/guild-hub/compare-guilds",children:"Gildenvergleich"}),n.jsx(_u,{to:"/guild-hub/waitlist",children:"Waitlist"}),n.jsx(_u,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function Fae(){return n.jsxs("aside",{className:"space-y-3 text-sm",children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),n.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function Im({to:t,title:e,desc:s}){return n.jsxs(Wt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),s?n.jsx("div",{className:"mt-1 text-sm opacity-75",children:s}):null]})}function _u({to:t,children:e}){return n.jsx(cs,{to:t,className:({isActive:s})=>`block rounded-lg border px-3 py-2 no-underline ${s?"font-semibold":""}`,style:({isActive:s})=>({borderColor:s?"#2B6DE0":"#2B4C73",background:s?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:s?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}const Bae="_page_1mlmy_1",$ae="_header_1mlmy_13",Oae="_headerStack_1mlmy_25",Vae="_kicker_1mlmy_37",Uae="_title_1mlmy_53",zae="_headerActions_1mlmy_65",Hae="_primaryAction_1mlmy_77",Gae="_secondaryAction_1mlmy_79",Wae="_infoStrip_1mlmy_127",qae="_infoBlock_1mlmy_147",Kae="_infoLabel_1mlmy_161",Qae="_freshnessWrapper_1mlmy_181",Xae="_freshnessBadge_1mlmy_189",Yae="_badge_f0_1mlmy_213",Jae="_badge_f1_1mlmy_215",Zae="_badge_f2_1mlmy_217",eoe="_badge_f3_1mlmy_219",toe="_badge_f4_1mlmy_221",soe="_badge_f5_1mlmy_223",noe="_badge_f6_1mlmy_225",roe="_badge_f7_1mlmy_227",ioe="_badge_unknown_1mlmy_229",aoe="_popover_1mlmy_233",ooe="_popoverLabel_1mlmy_265",loe="_filterToolbar_1mlmy_275",coe="_filterSheetButton_1mlmy_285",doe="_inlineFilters_1mlmy_303",uoe="_searchInput_1mlmy_315",hoe="_select_1mlmy_317",poe="_ownerGroup_1mlmy_335",moe="_ownerChip_1mlmy_347",foe="_ownerChipActive_1mlmy_365",goe="_sortGroup_1mlmy_375",xoe="_sortLabel_1mlmy_387",voe="_directionButton_1mlmy_397",yoe="_listBody_1mlmy_415",boe="_tableWrapper_1mlmy_427",_oe="_table_1mlmy_427",woe="_stickyColumn_1mlmy_481",joe="_rowTitleButton_1mlmy_495",Soe="_tableStatus_1mlmy_513",Noe="_cardList_1mlmy_533",koe="_card_1mlmy_533",Toe="_cardHeader_1mlmy_565",Coe="_cardTitle_1mlmy_577",Eoe="_cardMeta_1mlmy_595",Aoe="_cardDescription_1mlmy_611",Ioe="_cardFooter_1mlmy_623",Roe="_cardLabel_1mlmy_639",Poe="_scanBadge_1mlmy_649",Loe="_emptyState_1mlmy_665",Doe="_sheetBackdrop_1mlmy_681",Moe="_sheet_1mlmy_681",Foe="_sheetHandle_1mlmy_721",Boe="_sheetBody_1mlmy_739",$oe="_sheetLabel_1mlmy_755",Ooe="_sheetActions_1mlmy_793",Voe="_overlay_1mlmy_807",Uoe="_panel_1mlmy_825",zoe="_modal_1mlmy_851",Hoe="_drawer_1mlmy_861",Goe="_panelHeader_1mlmy_869",Woe="_panelControls_1mlmy_883",qoe="_panelDescription_1mlmy_913",Koe="_detailGrid_1mlmy_925",Qoe="_panelFooter_1mlmy_957",Xoe="_formOverlay_1mlmy_969",Yoe="_formPanel_1mlmy_991",Joe="_formGrid_1mlmy_1017",Zoe="_menuWrapper_1mlmy_1029",ele="_dotsButton_1mlmy_1037",tle="_menu_1mlmy_1029",sle="_pagination_1mlmy_1109",be={page:Bae,header:$ae,headerStack:Oae,kicker:Vae,title:Uae,headerActions:zae,primaryAction:Hae,secondaryAction:Gae,infoStrip:Wae,infoBlock:qae,infoLabel:Kae,freshnessWrapper:Qae,freshnessBadge:Xae,badge_f0:Yae,badge_f1:Jae,badge_f2:Zae,badge_f3:eoe,badge_f4:toe,badge_f5:soe,badge_f6:noe,badge_f7:roe,badge_unknown:ioe,popover:aoe,popoverLabel:ooe,filterToolbar:loe,filterSheetButton:coe,inlineFilters:doe,searchInput:uoe,select:hoe,ownerGroup:poe,ownerChip:moe,ownerChipActive:foe,sortGroup:goe,sortLabel:xoe,directionButton:voe,listBody:yoe,tableWrapper:boe,table:_oe,stickyColumn:woe,rowTitleButton:joe,tableStatus:Soe,cardList:Noe,card:koe,cardHeader:Toe,cardTitle:Coe,cardMeta:Eoe,cardDescription:Aoe,cardFooter:Ioe,cardLabel:Roe,scanBadge:Poe,emptyState:Loe,sheetBackdrop:Doe,sheet:Moe,sheetHandle:Foe,sheetBody:Boe,sheetLabel:$oe,sheetActions:Ooe,overlay:Voe,panel:Uoe,modal:zoe,drawer:Hoe,panelHeader:Goe,panelControls:Woe,panelDescription:qoe,detailGrid:Koe,panelFooter:Qoe,formOverlay:Xoe,formPanel:Yoe,formGrid:Joe,menuWrapper:Zoe,dotsButton:ele,menu:tle,pagination:sle};function nle(){var ne;const[t,e]=Z.useState(GK),[s,r]=Z.useState(Xv),[i,a]=Z.useState(Xv),l=ld(s.q,300),d=Z.useMemo(()=>{const U=WK(t,s,l);return qK(U,s.sort,s.dir)},[t,s,l]),u=Z.useMemo(()=>KK(d,s.page,s.pageSize),[d,s.page,s.pageSize]),h=Math.max(1,Math.ceil(d.length/s.pageSize)),m=Z.useMemo(()=>Array.from(new Set(t.map(U=>U.owner))),[t]),g=cd("(min-width: 768px)"),v=cd("(min-width: 1024px)"),[b,S]=Z.useState(!1),[C,R]=Z.useState(null),F=(ne=t.find(U=>U.id===C))!=null?ne:null,D=Z.useRef(null);dd(D,!!F&&!v);const[A,y]=Z.useState(null),[w,L]=Z.useState(!1),N=Z.useRef(null);dd(N,w);const j=Z.useMemo(()=>QK(t),[t]),I=Z.useMemo(()=>j?fh(j.nextUpdateAt,Date.now()):"",[j]),M=g,P=v,O=n.jsxs("div",{className:be.headerActions,children:[n.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>{y(null),L(!0)},children:"Neuer Eintrag"}),!g&&n.jsx("button",{type:"button",className:be.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>S(!0),children:"Filter"})]}),$=U=>{const J=YS(U);r(J),a(J)},W=(U,J)=>{const ce=YS({...s,[U]:J,page:U==="page"||U==="pageSize"?J:1});$(ce)},H=()=>{$(i),S(!1)},q=()=>{$(Xv),S(!1)},K=(U,J=!1)=>{if(J)a(ce=>{const fe=ce.owner.includes(U)?ce.owner.filter(Ce=>Ce!==U):[...ce.owner,U];return{...ce,owner:fe}});else{const ee=s.owner.includes(U)?s.owner.filter(fe=>fe!==U):[...s.owner,U];W("owner",ee)}},G=(U,J)=>{e(ce=>ce.map(ee=>ee.id===U?{...ee,status:J,updatedAt:new Date().toISOString()}:ee))},te=U=>{e(J=>J.some(ee=>ee.id===U.id)?J.map(ee=>ee.id===U.id?U:ee):[U,...J]),L(!1)};return n.jsxs(Nt,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[n.jsxs("div",{className:be.page,children:[n.jsxs("header",{className:be.header,children:[n.jsxs("div",{className:be.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:be.kicker,children:"Deployment"}),n.jsx("h1",{className:be.title,children:"Planer"})]}),O]}),n.jsxs("div",{className:be.infoStrip,children:[n.jsxs("div",{className:be.infoBlock,children:[n.jsx("span",{className:be.infoLabel,children:"Offen"}),n.jsx("strong",{children:d.filter(U=>U.status==="open").length})]}),n.jsxs("div",{className:be.infoBlock,children:[n.jsx("span",{className:be.infoLabel,children:"In Arbeit"}),n.jsx("strong",{children:d.filter(U=>U.status==="in_progress").length})]}),j&&n.jsx(rle,{code:j.freshness,label:gb[j.freshness],updatedAt:j.lastScanAt,nextUpdateAt:j.nextUpdateAt,countdown:I})]})]}),n.jsx("section",{className:be.filterToolbar,children:g?n.jsx(ile,{filters:s,owners:m,onChange:W,onOwnerToggle:U=>K(U,!1)}):n.jsx("button",{type:"button",className:be.filterSheetButton,onClick:()=>S(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),n.jsx("section",{className:be.listBody,children:M?n.jsx(ale,{items:u,sort:s.sort,dir:s.dir,onSortChange:U=>{const J=s.sort===U&&s.dir==="asc"?"desc":"asc";W("sort",U),W("dir",J)},onSelect:U=>R(U.id),onStatusChange:G,onEdit:U=>{y(U),L(!0)}}):n.jsx(ole,{items:u,onSelect:U=>R(U.id),onStatusChange:G,onEdit:U=>{y(U),L(!0)}})}),n.jsx(cle,{page:s.page,totalPages:h,onChange:U=>W("page",U)})]}),b&&n.jsx(lle,{filters:i,owners:m,onChange:a,onOwnerToggle:U=>K(U,!0),onClose:()=>S(!1),onApply:H,onReset:q}),F&&n.jsx(FE,{ref:D,item:F,mode:P?"drawer":"modal",onClose:()=>R(null),onEdit:()=>{y(F),L(!0),R(null)},onStatusChange:G}),w&&n.jsx(BE,{ref:N,owners:m.length?m:xE,item:A,onClose:()=>L(!1),onSubmit:te})]})}function rle({code:t,label:e,updatedAt:s,nextUpdateAt:r,countdown:i}){var d;const[a,l]=Z.useState(!1);return n.jsxs("div",{className:be.freshnessWrapper,children:[n.jsx("button",{type:"button",className:`${be.freshnessBadge} ${(d=be[`badge_${t}`])!=null?d:""}`,"aria-label":`Freshness ${e}`,onClick:()=>l(u=>!u),children:e}),a&&n.jsxs("div",{className:be.popover,role:"dialog","aria-label":"Freshness Details",children:[n.jsxs("div",{children:[n.jsx("span",{className:be.popoverLabel,children:"Zuletzt gescannt"}),n.jsx("strong",{children:Mi(s)})]}),n.jsxs("div",{children:[n.jsx("span",{className:be.popoverLabel,children:"Naechster Scan"}),n.jsx("strong",{children:Mi(r)})]}),n.jsxs("div",{children:[n.jsx("span",{className:be.popoverLabel,children:"Countdown"}),n.jsx("strong",{children:i})]})]})]})}function ile({filters:t,owners:e,onChange:s,onOwnerToggle:r}){return n.jsxs("div",{className:be.inlineFilters,children:[n.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:be.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>s("q",i.target.value)}),n.jsxs("select",{className:be.select,name:"plannerType","aria-label":"Planner Typ",value:t.type,onChange:i=>s("type",i.target.value),children:[n.jsx("option",{value:"all",children:"Typ (alle)"}),n.jsx("option",{value:"raid",children:"Raid"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"task",children:"Task"})]}),n.jsxs("select",{className:be.select,name:"plannerStatus","aria-label":"Planner Status",value:t.status,onChange:i=>s("status",i.target.value),children:[n.jsx("option",{value:"all",children:"Status (alle)"}),n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),n.jsxs("select",{className:be.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:t.range,onChange:i=>s("range",i.target.value),children:[n.jsx("option",{value:"7d",children:"7 Tage"}),n.jsx("option",{value:"30d",children:"30 Tage"}),n.jsx("option",{value:"90d",children:"90 Tage"}),n.jsx("option",{value:"all",children:"Alle"})]}),n.jsx("div",{className:be.ownerGroup,children:e.map(i=>{const a=t.owner.includes(i);return n.jsx("button",{type:"button",className:`${be.ownerChip} ${a?be.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),n.jsxs("div",{className:be.sortGroup,children:[n.jsx("label",{htmlFor:"planner-sort",className:be.sortLabel,children:"Sortieren"}),n.jsxs("select",{id:"planner-sort",name:"plannerSort",className:be.select,value:t.sort,onChange:i=>s("sort",i.target.value),children:[n.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),n.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),n.jsx("option",{value:"priority",children:"Prioritaet"}),n.jsx("option",{value:"title",children:"Titel"})]}),n.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:be.directionButton,onClick:()=>s("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"":""})]})]})}function ale({items:t,sort:e,dir:s,onSortChange:r,onSelect:i,onStatusChange:a,onEdit:l}){const d=u=>e===u?s==="asc"?" ":" ":"";return t.length===0?n.jsx(ME,{}):n.jsx("div",{className:be.tableWrapper,children:n.jsxs("table",{className:be.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsxs("th",{className:be.stickyColumn,onClick:()=>r("title"),children:["Titel",d("title")]}),n.jsx("th",{children:"Typ"}),n.jsx("th",{children:"Owner"}),n.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",d("dueAt")]}),n.jsx("th",{children:"Status"}),n.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",d("updatedAt")]}),n.jsx("th",{})]})}),n.jsx("tbody",{children:t.map(u=>n.jsxs("tr",{children:[n.jsx("td",{className:be.stickyColumn,children:n.jsx("button",{type:"button",className:be.rowTitleButton,onClick:()=>i(u),children:u.title})}),n.jsx("td",{children:fb[u.type]}),n.jsx("td",{children:u.owner}),n.jsx("td",{children:Mi(u.dueAt)}),n.jsx("td",{children:n.jsxs("select",{name:`plannerStatus-${u.id}`,"aria-label":`Status fuer ${u.title}`,className:be.tableStatus,value:u.status,onChange:h=>a(u.id,h.target.value),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),n.jsx("td",{children:Vh(u.updatedAt)}),n.jsx("td",{children:n.jsx($E,{onEdit:()=>l(u),onComplete:()=>a(u.id,"done")})})]},u.id))})]})})}function ole({items:t,onSelect:e,onStatusChange:s,onEdit:r}){return t.length===0?n.jsx(ME,{}):n.jsx("div",{className:be.cardList,children:t.map(i=>n.jsxs("article",{className:be.card,children:[n.jsxs("div",{className:be.cardHeader,children:[n.jsxs("div",{children:[n.jsx("button",{type:"button",className:be.cardTitle,onClick:()=>e(i),children:i.title}),n.jsxs("div",{className:be.cardMeta,children:[n.jsx("span",{children:fb[i.type]}),n.jsx("span",{children:zK[i.status]}),n.jsxs("span",{children:["Due ",Mi(i.dueAt)]})]})]}),n.jsx($E,{onEdit:()=>r(i),onComplete:()=>s(i.id,"done")})]}),n.jsx("p",{className:be.cardDescription,children:i.description}),n.jsxs("div",{className:be.cardFooter,children:[n.jsxs("div",{children:[n.jsx("span",{className:be.cardLabel,children:"Owner"}),n.jsx("strong",{children:i.owner})]}),n.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:be.tableStatus,value:i.status,onChange:a=>s(i.id,a.target.value),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),n.jsxs("span",{className:be.scanBadge,children:["Letzter Scan ",Vh(i.lastScanAt)]})]})]},i.id))})}function ME(){return n.jsx("div",{className:be.emptyState,children:n.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function lle({filters:t,owners:e,onChange:s,onOwnerToggle:r,onClose:i,onApply:a,onReset:l}){return n.jsx("div",{className:be.sheetBackdrop,role:"presentation",onClick:i,children:n.jsxs("div",{className:be.sheet,role:"dialog","aria-label":"Filter",onClick:d=>d.stopPropagation(),children:[n.jsx("div",{className:be.sheetHandle}),n.jsxs("div",{className:be.sheetBody,children:[n.jsx("h2",{children:"Filter"}),n.jsxs("label",{className:be.sheetLabel,children:["Suche",n.jsx("input",{type:"search",name:"plannerSheetSearch",value:t.q,onChange:d=>s(u=>({...u,q:d.target.value}))})]}),n.jsxs("label",{className:be.sheetLabel,children:["Typ",n.jsxs("select",{name:"plannerSheetType",value:t.type,onChange:d=>s(u=>({...u,type:d.target.value})),children:[n.jsx("option",{value:"all",children:"Alle"}),n.jsx("option",{value:"raid",children:"Raid"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"task",children:"Task"})]})]}),n.jsxs("label",{className:be.sheetLabel,children:["Status",n.jsxs("select",{name:"plannerSheetStatus",value:t.status,onChange:d=>s(u=>({...u,status:d.target.value})),children:[n.jsx("option",{value:"all",children:"Alle"}),n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),n.jsxs("label",{className:be.sheetLabel,children:["Zeitraum",n.jsxs("select",{name:"plannerSheetRange",value:t.range,onChange:d=>s(u=>({...u,range:d.target.value})),children:[n.jsx("option",{value:"7d",children:"7 Tage"}),n.jsx("option",{value:"30d",children:"30 Tage"}),n.jsx("option",{value:"90d",children:"90 Tage"}),n.jsx("option",{value:"all",children:"Alle"})]})]}),n.jsxs("div",{className:be.sheetLabel,children:["Owner",n.jsx("div",{className:be.ownerGroup,children:e.map(d=>{const u=t.owner.includes(d);return n.jsx("button",{type:"button",className:`${be.ownerChip} ${u?be.ownerChipActive:""}`,onClick:()=>r(d),children:d},d)})})]})]}),n.jsxs("div",{className:be.sheetActions,children:[n.jsx("button",{type:"button",onClick:l,children:"Zuruecksetzen"}),n.jsx("button",{type:"button",className:be.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const FE=Z.forwardRef(({item:t,mode:e,onClose:s,onEdit:r,onStatusChange:i},a)=>n.jsx("div",{className:be.overlay,children:n.jsxs("div",{ref:a,className:`${be.panel} ${e==="drawer"?be.drawer:be.modal}`,children:[n.jsxs("header",{className:be.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:be.cardLabel,children:fb[t.type]}),n.jsx("h2",{children:t.title})]}),n.jsx("button",{type:"button",className:be.secondaryAction,onClick:s,children:"Schliessen"})]}),n.jsxs("div",{className:be.panelControls,children:[n.jsxs("label",{children:["Status",n.jsxs("select",{value:t.status,onChange:l=>i(t.id,l.target.value),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),n.jsxs("label",{children:["Prioritaet",n.jsxs("select",{disabled:!0,value:t.priority,children:[n.jsx("option",{value:"urgent",children:"Urgent"}),n.jsx("option",{value:"high",children:"Hoch"}),n.jsx("option",{value:"medium",children:"Mittel"}),n.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),n.jsx("p",{className:be.panelDescription,children:t.description}),n.jsxs("dl",{className:be.detailGrid,children:[n.jsxs("div",{children:[n.jsx("dt",{children:"Owner"}),n.jsx("dd",{children:t.owner})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Assignees"}),n.jsx("dd",{children:t.assignees.join(", ")})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Termin"}),n.jsx("dd",{children:Mi(t.dueAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Zuletzt aktualisiert"}),n.jsx("dd",{children:Vh(t.updatedAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Erstellt"}),n.jsx("dd",{children:Mi(t.createdAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Tags"}),n.jsx("dd",{children:t.tags.join(", ")})]})]}),n.jsxs("div",{className:be.panelFooter,children:[n.jsx("button",{type:"button",className:be.secondaryAction,onClick:r,children:"Bearbeiten"}),n.jsx("button",{type:"button",className:be.primaryAction,onClick:()=>i(t.id,"done"),children:"Als erledigt markieren"})]})]})}));FE.displayName="DetailPanel";const BE=Z.forwardRef(({owners:t,item:e,onClose:s,onSubmit:r},i)=>{const[a,l]=Z.useState(()=>{var h;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(h=t[0])!=null?h:xE[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});Z.useEffect(()=>{e&&l(e)},[JSON.stringify(e)]);const d=h=>{h.preventDefault(),a.title.trim()&&r({...a,updatedAt:new Date().toISOString()})},u=h=>{l(m=>{const v=m.tags.includes(h)?m.tags.filter(b=>b!==h):[...m.tags,h];return{...m,tags:v}})};return n.jsx("div",{className:be.formOverlay,children:n.jsxs("form",{ref:i,className:be.formPanel,onSubmit:d,children:[n.jsxs("header",{className:be.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:be.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),n.jsx("h2",{children:e?e.title:"Planner Task"})]}),n.jsx("button",{type:"button",className:be.secondaryAction,onClick:s,children:"Schliessen"})]}),n.jsxs("label",{className:be.sheetLabel,children:["Titel",n.jsx("input",{name:"plannerFormTitle",value:a.title,onChange:h=>l(m=>({...m,title:h.target.value})),required:!0})]}),n.jsxs("label",{className:be.sheetLabel,children:["Beschreibung",n.jsx("textarea",{name:"plannerFormDescription",value:a.description,onChange:h=>l(m=>({...m,description:h.target.value})),rows:4})]}),n.jsxs("div",{className:be.formGrid,children:[n.jsxs("label",{children:["Typ",n.jsxs("select",{name:"plannerFormType",value:a.type,onChange:h=>l(m=>({...m,type:h.target.value})),children:[n.jsx("option",{value:"raid",children:"Raid"}),n.jsx("option",{value:"event",children:"Event"}),n.jsx("option",{value:"task",children:"Task"})]})]}),n.jsxs("label",{children:["Status",n.jsxs("select",{name:"plannerFormStatus",value:a.status,onChange:h=>l(m=>({...m,status:h.target.value})),children:[n.jsx("option",{value:"open",children:"Offen"}),n.jsx("option",{value:"in_progress",children:"In Arbeit"}),n.jsx("option",{value:"done",children:"Erledigt"}),n.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),n.jsxs("label",{children:["Owner",n.jsx("select",{name:"plannerFormOwner",value:a.owner,onChange:h=>l(m=>({...m,owner:h.target.value})),children:t.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("label",{children:["Prioritaet",n.jsxs("select",{name:"plannerFormPriority",value:a.priority,onChange:h=>l(m=>({...m,priority:h.target.value})),children:[n.jsx("option",{value:"urgent",children:"Urgent"}),n.jsx("option",{value:"high",children:"Hoch"}),n.jsx("option",{value:"medium",children:"Mittel"}),n.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),n.jsxs("label",{className:be.sheetLabel,children:["Termin",n.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:a.dueAt.slice(0,16),onChange:h=>l(m=>({...m,dueAt:new Date(h.target.value).toISOString()}))})]}),n.jsxs("div",{className:be.sheetLabel,children:["Tags",n.jsx("div",{className:be.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(h=>{const m=a.tags.includes(h);return n.jsx("button",{type:"button",className:`${be.ownerChip} ${m?be.ownerChipActive:""}`,onClick:()=>u(h),children:h},h)})})]}),n.jsxs("footer",{className:be.panelFooter,children:[n.jsx("button",{type:"button",className:be.secondaryAction,onClick:s,children:"Abbrechen"}),n.jsx("button",{type:"submit",className:be.primaryAction,children:"Speichern"})]})]})})});BE.displayName="PlannerFormOverlay";function $E({onEdit:t,onComplete:e}){const[s,r]=Z.useState(!1),i=Z.useRef(null);return Z.useEffect(()=>{if(!s)return;const a=l=>{var d;(d=i.current)!=null&&d.contains(l.target)||r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[s]),n.jsxs("div",{className:be.menuWrapper,ref:i,children:[n.jsx("button",{type:"button",className:be.dotsButton,"aria-haspopup":"menu","aria-expanded":s,onClick:()=>r(a=>!a),children:"..."}),s&&n.jsxs("div",{className:be.menu,role:"menu",children:[n.jsx("button",{type:"button",onClick:()=>t(),children:"Bearbeiten"}),n.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),n.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function cle({page:t,totalPages:e,onChange:s}){return n.jsxs("div",{className:be.pagination,children:[n.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>s(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),n.jsxs("span",{children:["Seite ",t," / ",e]}),n.jsx("button",{type:"button",className:be.secondaryAction,onClick:()=>s(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const dle="_page_1cvuk_1",ule="_header_1cvuk_13",hle="_headerLeading_1cvuk_29",ple="_backLink_1cvuk_41",mle="_headerStack_1cvuk_77",fle="_kicker_1cvuk_89",gle="_title_1cvuk_105",xle="_subtitle_1cvuk_117",vle="_headerActions_1cvuk_129",yle="_plannerNotice_1cvuk_141",ble="_noticeItem_1cvuk_163",_le="_noticeWarning_1cvuk_185",wle="_noticeDot_1cvuk_197",jle="_tabSection_1cvuk_213",Sle="_tabBar_1cvuk_225",Nle="_tabItem_1cvuk_239",kle="_tabItemActive_1cvuk_279",Tle="_tabLabel_1cvuk_291",Cle="_tabHelper_1cvuk_301",Ele="_tabPanel_1cvuk_311",Ale="_tabBadge_1cvuk_331",Ile="_primaryAction_1cvuk_1331",Rle="_secondaryAction_1cvuk_1333",Ple="_infoStrip_1cvuk_1383",Lle="_infoBlock_1cvuk_1403",Dle="_infoLabel_1cvuk_1415",Mle="_infoHint_1cvuk_1441",Fle="_stageGrid_1cvuk_1453",Ble="_panel_1cvuk_1465",$le="_panelHeader_1cvuk_1487",Ole="_panelKicker_1cvuk_1501",Vle="_panelTitle_1cvuk_1517",Ule="_panelLead_1cvuk_1529",zle="_badge_1cvuk_1541",Hle="_panelBody_1cvuk_1563",Gle="_placeholderGrid_1cvuk_1575",Wle="_placeholderCard_1cvuk_1587",qle="_placeholderTitle_1cvuk_1609",Kle="_placeholderText_1cvuk_1619",Qle="_helperSection_1cvuk_1631",Xle="_helperCard_1cvuk_1639",Yle="_helperKicker_1cvuk_1661",Jle="_helperTitle_1cvuk_1677",Zle="_helperText_1cvuk_1689",ece="_helperActions_1cvuk_1701",Ye={page:dle,header:ule,headerLeading:hle,backLink:ple,headerStack:mle,kicker:fle,title:gle,subtitle:xle,headerActions:vle,plannerNotice:yle,noticeItem:ble,noticeWarning:_le,noticeDot:wle,tabSection:jle,tabBar:Sle,tabItem:Nle,tabItemActive:kle,tabLabel:Tle,tabHelper:Cle,tabPanel:Ele,tabBadge:Ale,primaryAction:Ile,secondaryAction:Rle,infoStrip:Ple,infoBlock:Lle,infoLabel:Dle,infoHint:Mle,stageGrid:Fle,panel:Ble,panelHeader:$le,panelKicker:Ole,panelTitle:Vle,panelLead:Ule,badge:zle,panelBody:Hle,placeholderGrid:Gle,placeholderCard:Wle,placeholderTitle:qle,placeholderText:Kle,helperSection:Qle,helperCard:Xle,helperKicker:Yle,helperTitle:Jle,helperText:Zle,helperActions:ece},tce="_setupGrid_rdp6l_1",sce="_setupLeft_rdp6l_13",nce="_setupRight_rdp6l_15",rce="_card_rdp6l_27",ice="_cardHeader_rdp6l_49",ace="_cardKicker_rdp6l_61",oce="_cardTitle_rdp6l_77",lce="_cardText_rdp6l_89",cce="_toggleGroup_rdp6l_101",dce="_toggleButton_rdp6l_113",uce="_toggleButtonActive_rdp6l_143",hce="_modeHint_rdp6l_155",pce="_formGrid_rdp6l_167",mce="_formField_rdp6l_179",fce="_formLabel_rdp6l_191",gce="_input_rdp6l_201",xce="_suggestions_rdp6l_231",vce="_suggestionBtn_rdp6l_257",yce="_suggestionName_rdp6l_297",bce="_suggestionMeta_rdp6l_305",_ce="_partnerActions_rdp6l_315",wce="_primaryAction_rdp6l_329",jce="_secondaryAction_rdp6l_331",Sce="_partnerList_rdp6l_381",Nce="_partnerRow_rdp6l_393",kce="_partnerName_rdp6l_413",Tce="_partnerMeta_rdp6l_423",Cce="_removeButton_rdp6l_433",Ece="_emptyState_rdp6l_463",Ace="_previewBlock_rdp6l_473",Ice="_previewLabel_rdp6l_485",Rce="_previewValue_rdp6l_499",Pce="_previewCard_rdp6l_509",Lce="_previewTitle_rdp6l_523",Dce="_previewMeta_rdp6l_533",Mce="_previewList_rdp6l_543",Fce="_previewItem_rdp6l_555",Bce="_setupInfo_rdp6l_569",$ce="_setupWarning_rdp6l_593",Oce="_setupInfoIcon_rdp6l_605",Vce="_setupInfoTitle_rdp6l_629",Uce="_setupInfoText_rdp6l_639",Le={setupGrid:tce,setupLeft:sce,setupRight:nce,card:rce,cardHeader:ice,cardKicker:ace,cardTitle:oce,cardText:lce,toggleGroup:cce,toggleButton:dce,toggleButtonActive:uce,modeHint:hce,formGrid:pce,formField:mce,formLabel:fce,input:gce,suggestions:xce,suggestionBtn:vce,suggestionName:yce,suggestionMeta:bce,partnerActions:_ce,primaryAction:wce,secondaryAction:jce,partnerList:Sce,partnerRow:Nce,partnerName:kce,partnerMeta:Tce,removeButton:Cce,emptyState:Ece,previewBlock:Ace,previewLabel:Ice,previewValue:Rce,previewCard:Pce,previewTitle:Lce,previewMeta:Dce,previewList:Mce,previewItem:Fce,setupInfo:Bce,setupWarning:$ce,setupInfoIcon:Oce,setupInfoTitle:Vce,setupInfoText:Uce};function zce({setupState:t,onChangeMode:e,onChangeBaseGuild:s,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var R,F,D,A,y,w,L,N,j,I;const[a,l]=Z.useState(()=>{var M,P,O,$;return{name:(P=(M=t.baseGuild)==null?void 0:M.name)!=null?P:"",server:($=(O=t.baseGuild)==null?void 0:O.server)!=null?$:""}}),[d,u]=Z.useState({id:void 0,name:"",server:""}),h=ld(a.name,250),m=ld(d.name,250),g=kN(h,a.server||"all"),v=kN(m,d.server||"all"),b=!!((F=(R=t.baseGuild)==null?void 0:R.name)!=null&&F.trim()&&((A=(D=t.baseGuild)==null?void 0:D.server)!=null&&A.trim())),S=t.partnerGuilds.length>0;Z.useEffect(()=>{var P,O,$,W;const M={name:(O=(P=t.baseGuild)==null?void 0:P.name)!=null?O:"",server:(W=($=t.baseGuild)==null?void 0:$.server)!=null?W:""};(M.name!==a.name||M.server!==a.server)&&l(M)},[(y=t.baseGuild)==null?void 0:y.name,(w=t.baseGuild)==null?void 0:w.server]);const C=()=>{!d.name.trim()||!d.server.trim()||(r(d),u({id:void 0,name:"",server:""}))};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:Le.setupGrid,children:[n.jsxs("div",{className:Le.setupLeft,children:[n.jsxs("div",{className:Le.card,children:[n.jsx("div",{className:Le.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Le.cardKicker,children:"Modus"}),n.jsx("h3",{className:Le.cardTitle,children:"Scan-based oder manuell"}),n.jsx("p",{className:Le.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),n.jsxs("div",{className:Le.toggleGroup,role:"group","aria-label":"Setup Modus",children:[n.jsx("button",{type:"button",className:`${Le.toggleButton} ${t.mode==="scan"?Le.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),n.jsx("button",{type:"button",className:`${Le.toggleButton} ${t.mode==="manual"?Le.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),n.jsx("p",{className:Le.modeHint,children:t.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),n.jsxs("div",{className:Le.card,children:[n.jsx("div",{className:Le.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Le.cardKicker,children:"Base Guild"}),n.jsx("h3",{className:Le.cardTitle,children:"Stammdaten"}),n.jsx("p",{className:Le.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),n.jsxs("div",{className:Le.formGrid,children:[n.jsxs("label",{className:Le.formField,children:[n.jsx("span",{className:Le.formLabel,children:"Guild name"}),n.jsx("input",{type:"text",className:Le.input,value:a.name,onChange:M=>{const P=M.target.value;l(O=>({...O,name:P}))},onBlur:()=>s({name:a.name}),placeholder:"z.B. Solaris"}),g.length>0&&n.jsx("div",{className:Le.suggestions,children:g.map(M=>n.jsxs("button",{type:"button",className:Le.suggestionBtn,onClick:()=>{l({name:M.name,server:M.server}),s({id:M.id,name:M.name,server:M.server})},children:[n.jsx("span",{className:Le.suggestionName,children:M.name}),n.jsx("span",{className:Le.suggestionMeta,children:M.server})]},M.id))})]}),n.jsxs("label",{className:Le.formField,children:[n.jsx("span",{className:Le.formLabel,children:"Server"}),n.jsx("input",{type:"text",className:Le.input,value:a.server,onChange:M=>{const P=M.target.value;l(O=>({...O,server:P}))},onBlur:()=>s({server:a.server}),placeholder:"z.B. EU-01"})]})]})]}),n.jsxs("div",{className:Le.card,children:[n.jsx("div",{className:Le.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Le.cardKicker,children:"Partner Guilds"}),n.jsx("h3",{className:Le.cardTitle,children:"Partner hinzufuegen"}),n.jsx("p",{className:Le.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),n.jsxs("div",{className:Le.formGrid,children:[n.jsxs("label",{className:Le.formField,children:[n.jsx("span",{className:Le.formLabel,children:"Name"}),n.jsx("input",{type:"text",className:Le.input,value:d.name,onChange:M=>u(P=>({...P,name:M.target.value})),placeholder:"z.B. Nova Alliance"}),v.length>0&&n.jsx("div",{className:Le.suggestions,children:v.map(M=>n.jsxs("button",{type:"button",className:Le.suggestionBtn,onClick:()=>u({id:M.id,name:M.name,server:M.server}),children:[n.jsx("span",{className:Le.suggestionName,children:M.name}),n.jsx("span",{className:Le.suggestionMeta,children:M.server})]},M.id))})]}),n.jsxs("label",{className:Le.formField,children:[n.jsx("span",{className:Le.formLabel,children:"Server"}),n.jsx("input",{type:"text",className:Le.input,value:d.server,onChange:M=>u(P=>({...P,server:M.target.value})),placeholder:"z.B. EU-02"})]})]}),n.jsxs("div",{className:Le.partnerActions,children:[n.jsx("button",{type:"button",className:Le.primaryAction,onClick:C,children:"Add partner guild"}),n.jsx("button",{type:"button",className:Le.secondaryAction,onClick:()=>u({name:"",server:""}),children:"Reset fields"})]}),n.jsx("div",{className:Le.partnerList,children:t.partnerGuilds.length===0?n.jsx("div",{className:Le.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(M=>n.jsxs("div",{className:Le.partnerRow,children:[n.jsxs("div",{children:[n.jsx("div",{className:Le.partnerName,children:M.name||"Unbenannt"}),n.jsx("div",{className:Le.partnerMeta,children:M.server||"Server n/a"})]}),n.jsx("button",{type:"button",className:Le.removeButton,onClick:()=>i(M.id),children:"Remove"})]},M.id))})]})]}),n.jsx("aside",{className:Le.setupRight,children:n.jsxs("div",{className:Le.card,children:[n.jsx("div",{className:Le.cardHeader,children:n.jsxs("div",{children:[n.jsx("p",{className:Le.cardKicker,children:"Preview"}),n.jsx("h3",{className:Le.cardTitle,children:"Uebersicht"}),n.jsx("p",{className:Le.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),n.jsxs("div",{className:Le.previewBlock,children:[n.jsx("div",{className:Le.previewLabel,children:"Modus"}),n.jsx("div",{className:Le.previewValue,children:t.mode==="scan"?"Scan-based":"Manual"})]}),n.jsxs("div",{className:Le.previewBlock,children:[n.jsx("div",{className:Le.previewLabel,children:"Base Guild"}),n.jsx("div",{className:Le.previewCard,children:(L=t.baseGuild)!=null&&L.name||(N=t.baseGuild)!=null&&N.server?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Le.previewTitle,children:((j=t.baseGuild)==null?void 0:j.name)||"Unbenannt"}),n.jsx("div",{className:Le.previewMeta,children:((I=t.baseGuild)==null?void 0:I.server)||"Server n/a"})]}):n.jsx("div",{className:Le.emptyState,children:"No base guild selected yet."})})]}),n.jsxs("div",{className:Le.previewBlock,children:[n.jsx("div",{className:Le.previewLabel,children:"Partner Guilds"}),n.jsx("div",{className:Le.previewList,children:t.partnerGuilds.length===0?n.jsx("div",{className:Le.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(M=>n.jsxs("div",{className:Le.previewItem,children:[n.jsx("div",{className:Le.previewTitle,children:M.name||"Unbenannt"}),n.jsx("div",{className:Le.previewMeta,children:M.server||"Server n/a"})]},M.id))})]})]})})]}),b?S?null:n.jsxs("div",{className:Le.setupInfo,role:"status","aria-live":"polite",children:[n.jsx("span",{className:Le.setupInfoIcon,"aria-hidden":!0,children:"i"}),n.jsxs("div",{children:[n.jsx("div",{className:Le.setupInfoTitle,children:"Optional: add partner guilds."}),n.jsx("p",{className:Le.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):n.jsxs("div",{className:`${Le.setupInfo} ${Le.setupWarning}`,role:"status","aria-live":"polite",children:[n.jsx("span",{className:Le.setupInfoIcon,"aria-hidden":!0,children:"i"}),n.jsxs("div",{children:[n.jsx("div",{className:Le.setupInfoTitle,children:"No base guild selected yet."}),n.jsx("p",{className:Le.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function kN(t,e){const[s,r]=Z.useState([]);return Z.useEffect(()=>{const i=t.trim().toLowerCase();if(!i){r([]);return}let a=!1;async function l(){try{const d=hg(Ct,"latest"),u=await pn($n(d,co("nameFold"),hl(i),pl(i+""),On(12))),h=await pn($n(d,xl("nameNgrams","array-contains",i),On(12))),m=new Set,g=[],v=b=>{var w,L,N,j,I,M,P,O,$,W;const S=b.data(),R=(w=b.ref.parent)==null?void 0:w.parent;if(((L=R==null?void 0:R.parent)==null?void 0:L.id)!=="guilds")return;const D=(j=(N=R==null?void 0:R.id)!=null?N:S.guildIdentifier)!=null?j:b.id;if(!D||m.has(D))return;const A=(P=(M=S.server)!=null?M:(I=S.values)==null?void 0:I.Server)!=null?P:"Unknown";if(e!=="all"&&A!==e)return;const y=(W=($=S.name)!=null?$:(O=S.values)==null?void 0:O.Name)!=null?W:"Unbekannte Gilde";m.add(D),g.push({id:D,name:y,server:A})};u.forEach(v),h.forEach(v),a||(g.sort((b,S)=>b.name.localeCompare(S.name)),r(g))}catch(d){console.error("[FusionPlanner] guild search failed",d),a||r([])}}return l(),()=>{a=!0}},[t,e]),s}const Hce="_membersContainer_1ctw8_1",Gce="_scenarioSwitcher_1ctw8_13",Wce="_scenarioButton_1ctw8_25",qce="_scenarioButtonActive_1ctw8_63",Kce="_scenarioButtonName_1ctw8_75",Qce="_scenarioButtonDesc_1ctw8_83",Xce="_setupInfo_1ctw8_93",Yce="_setupInfoHeader_1ctw8_113",Jce="_setupInfoTitle_1ctw8_127",Zce="_setupInfoMode_1ctw8_139",ede="_setupInfoRow_1ctw8_163",tde="_setupInfoLabel_1ctw8_175",sde="_setupInfoValue_1ctw8_189",nde="_setupInfoMeta_1ctw8_199",rde="_setupInfoPartners_1ctw8_209",ide="_setupInfoBadge_1ctw8_221",ade="_setupInfoEmpty_1ctw8_245",ode="_membersSummary_1ctw8_255",lde="_membersSummaryItem_1ctw8_275",cde="_membersSummaryLabel_1ctw8_287",dde="_membersSummaryValue_1ctw8_301",ude="_maxSlotsInput_1ctw8_313",hde="_membersTable_1ctw8_331",pde="_membersRow_1ctw8_349",mde="_membersHead_1ctw8_375",fde="_membersCell_1ctw8_385",gde="_memberName_1ctw8_395",xde="_memberBadge_1ctw8_403",vde="_assignmentCell_1ctw8_427",yde="_assignmentBadge_1ctw8_439",bde="_assignmentBadgeMain_1ctw8_463",_de="_assignmentBadgePartner_1ctw8_475",wde="_assignmentBadgeWatch_1ctw8_487",jde="_assignmentBadgeIdle_1ctw8_499",Sde="_assignmentActions_1ctw8_507",Nde="_assignmentButton_1ctw8_519",kde="_assignmentButtonActive_1ctw8_551",Tde="_decisionGroup_1ctw8_563",Cde="_decisionButton_1ctw8_575",Ede="_decisionButtonActive_1ctw8_607",Ade="_emptyWrap_1ctw8_619",Ide="_emptyTitle_1ctw8_633",Rde="_emptyText_1ctw8_641",Pde="_contextMenuBackdrop_1ctw8_651",Lde="_contextMenu_1ctw8_651",Dde="_contextMenuItem_1ctw8_693",Mde="_partnerPickerCell_1ctw8_725",Fde="_partnerLabel_1ctw8_737",Bde="_partnerSelect_1ctw8_751",Te={membersContainer:Hce,scenarioSwitcher:Gce,scenarioButton:Wce,scenarioButtonActive:qce,scenarioButtonName:Kce,scenarioButtonDesc:Qce,setupInfo:Xce,setupInfoHeader:Yce,setupInfoTitle:Jce,setupInfoMode:Zce,setupInfoRow:ede,setupInfoLabel:tde,setupInfoValue:sde,setupInfoMeta:nde,setupInfoPartners:rde,setupInfoBadge:ide,setupInfoEmpty:ade,membersSummary:ode,membersSummaryItem:lde,membersSummaryLabel:cde,membersSummaryValue:dde,maxSlotsInput:ude,membersTable:hde,membersRow:pde,membersHead:mde,membersCell:fde,memberName:gde,memberBadge:xde,assignmentCell:vde,assignmentBadge:yde,assignmentBadgeMain:bde,assignmentBadgePartner:_de,assignmentBadgeWatch:wde,assignmentBadgeIdle:jde,assignmentActions:Sde,assignmentButton:Nde,assignmentButtonActive:kde,decisionGroup:Tde,decisionButton:Cde,decisionButtonActive:Ede,emptyWrap:Ade,emptyTitle:Ide,emptyText:Rde,contextMenuBackdrop:Pde,contextMenu:Lde,contextMenuItem:Dde,partnerPickerCell:Mde,partnerLabel:Fde,partnerSelect:Bde};function $de({members:t,scenario:e,onChangeScenarioDecision:s,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:a}){var N,j,I,M,P,O;const[l,d]=Z.useState(null),u=Z.useRef(null),h=a.partnerGuilds.length>0?a.partnerGuilds.map(($,W)=>({id:$.id,label:$.name||`Partner ${W+1}`})):[{id:"partner-default",label:"Partner guild"}],m=Z.useCallback(($,W)=>{d({memberId:$,...W})},[]),g=Z.useCallback(()=>{d(null)},[]),v=Z.useCallback(()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},[]),b=Z.useCallback(($,W,H)=>{v(),u.current=window.setTimeout(()=>{m($,{x:W,y:H})},550)},[v,m]);Z.useEffect(()=>()=>v(),[v]);const S=Z.useCallback(($,W,H)=>{if(W==="main")s($,"take"),r($,"main");else if(W==="partner"){const q=H?`partner:${H}`:"partner";s($,"take"),r($,q)}else s($,"bench"),r($,"none");g()},[g,s,r]),C=Z.useCallback(($,W)=>{s($,W),W==="take"?r($,"main"):r($,"none")},[s,r]);if(!!!((j=(N=a.baseGuild)==null?void 0:N.name)!=null&&j.trim()&&((M=(I=a.baseGuild)==null?void 0:I.server)!=null&&M.trim())))return n.jsxs("div",{className:Te.emptyWrap,children:[n.jsx("h3",{className:Te.emptyTitle,children:"No base guild configured"}),n.jsx("p",{className:Te.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return n.jsxs("div",{className:Te.emptyWrap,children:[n.jsx("h3",{className:Te.emptyTitle,children:"Members & Slots"}),n.jsx("p",{className:Te.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t||t.length===0)return n.jsxs("div",{className:Te.emptyWrap,children:[n.jsx("h3",{className:Te.emptyTitle,children:"No members found"}),n.jsx("p",{className:Te.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const F=(P=e.decisions)!=null?P:{},D=(O=e.targetGuildAssignments)!=null?O:{},A=t.filter($=>F[$.id]==="take").length,y=t.filter($=>F[$.id]==="bench").length,w=t.filter($=>F[$.id]==="drop").length,L=Math.max(0,e.maxSlots-e.reservedSlots-A);return n.jsxs("div",{className:Te.membersContainer,children:[n.jsx("div",{className:Te.scenarioSwitcher,children:n.jsxs("div",{className:`${Te.scenarioButton} ${Te.scenarioButtonActive}`,children:[n.jsx("span",{className:Te.scenarioButtonName,children:e.name}),e.description?n.jsx("span",{className:Te.scenarioButtonDesc,children:e.description}):null]})}),n.jsxs("div",{className:Te.setupInfo,children:[n.jsxs("div",{className:Te.setupInfoHeader,children:[n.jsx("div",{className:Te.setupInfoTitle,children:"Planning for"}),n.jsx("span",{className:Te.setupInfoMode,children:a.mode==="scan"?"Scan":"Manual"})]}),a.baseGuild?n.jsxs("div",{className:Te.setupInfoRow,children:[n.jsx("span",{className:Te.setupInfoLabel,children:"Base Guild"}),n.jsxs("span",{className:Te.setupInfoValue,children:[a.baseGuild.name||"Unbenannt"," ",n.jsxs("span",{className:Te.setupInfoMeta,children:["(",a.baseGuild.server||"Server n/a",")"]})]})]}):n.jsx("div",{className:Te.setupInfoEmpty,children:"No base guild selected in Setup tab."}),n.jsxs("div",{className:Te.setupInfoRow,children:[n.jsx("span",{className:Te.setupInfoLabel,children:"Partner Guilds"}),a.partnerGuilds.length?n.jsx("div",{className:Te.setupInfoPartners,children:a.partnerGuilds.map($=>n.jsxs("span",{className:Te.setupInfoBadge,children:[$.name||"Unbenannt",n.jsxs("span",{className:Te.setupInfoMeta,children:[" (",$.server||"Server n/a",")"]})]},$.id))}):n.jsx("span",{className:Te.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),n.jsxs("div",{className:Te.membersSummary,children:[n.jsxs("div",{className:Te.membersSummaryItem,children:[n.jsx("div",{className:Te.membersSummaryLabel,children:"Selected"}),n.jsxs("div",{className:Te.membersSummaryValue,children:[A," / ",e.maxSlots]})]}),n.jsxs("div",{className:Te.membersSummaryItem,children:[n.jsx("div",{className:Te.membersSummaryLabel,children:"Free slots"}),n.jsx("div",{className:Te.membersSummaryValue,children:L})]}),n.jsxs("div",{className:Te.membersSummaryItem,children:[n.jsx("div",{className:Te.membersSummaryLabel,children:"Bench"}),n.jsx("div",{className:Te.membersSummaryValue,children:y})]}),n.jsxs("div",{className:Te.membersSummaryItem,children:[n.jsx("div",{className:Te.membersSummaryLabel,children:"Drop"}),n.jsx("div",{className:Te.membersSummaryValue,children:w})]}),n.jsxs("div",{className:Te.membersSummaryItem,children:[n.jsx("div",{className:Te.membersSummaryLabel,children:"Reserved"}),n.jsx("div",{className:Te.membersSummaryValue,children:e.reservedSlots})]}),n.jsxs("div",{className:Te.membersSummaryItem,children:[n.jsx("div",{className:Te.membersSummaryLabel,children:"Max slots"}),n.jsx("input",{type:"number",className:Te.maxSlotsInput,value:e.maxSlots,min:0,onChange:$=>i(Number($.target.value))})]})]}),n.jsxs("div",{className:Te.membersTable,children:[n.jsxs("div",{className:`${Te.membersRow} ${Te.membersHead}`,children:[n.jsx("div",{className:Te.membersCell,children:"Name"}),n.jsx("div",{className:Te.membersCell,children:"Level"}),n.jsx("div",{className:Te.membersCell,children:"Guild"}),n.jsx("div",{className:Te.membersCell,children:"Class"}),n.jsx("div",{className:Te.membersCell,children:"Plan"}),n.jsx("div",{className:Te.membersCell,children:"Decision"}),n.jsx("div",{className:Te.membersCell,children:"Partner"})]}),t.map($=>{var ne,U,J,ce,ee,fe,Ce,ge,ke;const W=(ne=F[$.id])!=null?ne:"undecided",H=(U=D[$.id])!=null?U:"none",q=H&&H.toString().startsWith("partner:")?H.split(":")[1]:null,K=(fe=(J=h.find(Se=>Se.id===q))==null?void 0:J.label)!=null?fe:H==="partner"?(ee=(ce=h[0])==null?void 0:ce.label)!=null?ee:"Partner guild":null,G=W==="take"&&H==="main"?"main":W==="take"&&(H==="partner"||q)?"partner":W==="bench"?"watch":"unassigned",te=G==="main"?"Main guild":G==="partner"?K||"Partner guild":G==="watch"?"Watchlist":"Not planned";return n.jsxs("div",{className:Te.membersRow,onContextMenu:Se=>{Se.preventDefault(),m($.id,{x:Se.clientX,y:Se.clientY})},onTouchStart:Se=>{const ue=Se.touches[0];ue&&b($.id,ue.clientX,ue.clientY)},onTouchEnd:v,onTouchCancel:v,children:[n.jsx("div",{className:Te.membersCell,children:n.jsx("div",{className:Te.memberName,children:$.name})}),n.jsx("div",{className:Te.membersCell,children:n.jsxs("span",{className:Te.memberBadge,children:["Lvl ",$.level]})}),n.jsx("div",{className:Te.membersCell,children:$.guildName}),n.jsx("div",{className:Te.membersCell,children:(ge=(Ce=$.className)!=null?Ce:$.class)!=null?ge:"?"}),n.jsxs("div",{className:`${Te.membersCell} ${Te.assignmentCell}`,children:[n.jsx("span",{className:`${Te.assignmentBadge} ${G==="main"?Te.assignmentBadgeMain:G==="partner"?Te.assignmentBadgePartner:G==="watch"?Te.assignmentBadgeWatch:Te.assignmentBadgeIdle}`,children:te}),n.jsxs("div",{className:Te.assignmentActions,role:"group","aria-label":"Target guild selection",children:[n.jsx("button",{type:"button",className:`${Te.assignmentButton} ${G==="main"?Te.assignmentButtonActive:""}`,onClick:()=>S($.id,"main"),children:"Main"}),n.jsx("button",{type:"button",className:`${Te.assignmentButton} ${G==="watch"?Te.assignmentButtonActive:""}`,onClick:()=>S($.id,"watch"),children:"Watch"}),n.jsx("button",{type:"button",className:`${Te.assignmentButton} ${G==="partner"?Te.assignmentButtonActive:""}`,onClick:()=>S($.id,"partner"),children:"Partner"})]})]}),n.jsx("div",{className:Te.membersCell,children:n.jsx("div",{className:Te.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(Se=>n.jsx("button",{type:"button",className:`${Te.decisionButton} ${W===Se?Te.decisionButtonActive:""}`,onClick:()=>C($.id,Se),children:Se==="take"?"Take":Se==="bench"?"Bench":Se==="drop"?"Drop":"?"},Se))})}),n.jsxs("div",{className:`${Te.membersCell} ${Te.partnerPickerCell}`,children:[n.jsx("label",{className:Te.partnerLabel,htmlFor:`partner-select-${$.id}`,children:"Partner"}),n.jsx("select",{id:`partner-select-${$.id}`,className:Te.partnerSelect,value:q!=null?q:(ke=h[0])==null?void 0:ke.id,onChange:Se=>S($.id,"partner",Se.target.value),children:h.map(Se=>n.jsx("option",{value:Se.id,children:Se.label},Se.id))})]})]},$.id)})]}),l?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Te.contextMenuBackdrop,onClick:g}),n.jsxs("div",{className:Te.contextMenu,style:{top:l.y,left:l.x},children:[n.jsx("button",{type:"button",className:Te.contextMenuItem,onClick:()=>S(l.memberId,"main"),children:"Move to Main guild"}),n.jsx("button",{type:"button",className:Te.contextMenuItem,onClick:()=>S(l.memberId,"watch"),children:"Move to Watchlist"}),h.map($=>n.jsxs("button",{type:"button",className:Te.contextMenuItem,onClick:()=>S(l.memberId,"partner",$.id),children:["Move to ",$.label]},$.id))]})]}):null]})}const Ode="_overview_6ytw3_1",Vde="_contextBox_6ytw3_15",Ude="_contextKicker_6ytw3_35",zde="_contextTitle_6ytw3_51",Hde="_contextText_6ytw3_61",Gde="_contextDetails_6ytw3_71",Wde="_detailItem_6ytw3_85",qde="_detailLabel_6ytw3_99",Kde="_detailValue_6ytw3_113",Qde="_kpiGrid_6ytw3_121",Xde="_kpiCard_6ytw3_133",Yde="_kpiLabel_6ytw3_153",Jde="_kpiValue_6ytw3_167",Zde="_columnsWrapper_6ytw3_177",eue="_column_6ytw3_177",tue="_columnDropTarget_6ytw3_213",sue="_columnHeader_6ytw3_223",nue="_columnKicker_6ytw3_235",rue="_columnTitle_6ytw3_251",iue="_columnCount_6ytw3_259",aue="_columnBody_6ytw3_281",oue="_memberCard_6ytw3_293",lue="_memberTop_6ytw3_337",cue="_memberName_6ytw3_349",due="_memberMeta_6ytw3_357",uue="_memberBadge_6ytw3_369",hue="_memberBottom_6ytw3_395",pue="_memberGuild_6ytw3_409",mue="_memberServer_6ytw3_419",fue="_memberActions_6ytw3_427",gue="_emptyList_6ytw3_469",xue="_emptyWrap_6ytw3_487",vue="_emptyTitle_6ytw3_501",yue="_emptyText_6ytw3_509",bue="_addPartnerCard_6ytw3_519",_ue="_contextMenuBackdrop_6ytw3_559",wue="_contextMenu_6ytw3_559",jue="_contextMenuItem_6ytw3_601",Ke={overview:Ode,contextBox:Vde,contextKicker:Ude,contextTitle:zde,contextText:Hde,contextDetails:Gde,detailItem:Wde,detailLabel:qde,detailValue:Kde,kpiGrid:Qde,kpiCard:Xde,kpiLabel:Yde,kpiValue:Jde,columnsWrapper:Zde,column:eue,columnDropTarget:tue,columnHeader:sue,columnKicker:nue,columnTitle:rue,columnCount:iue,columnBody:aue,memberCard:oue,memberTop:lue,memberName:cue,memberMeta:due,memberBadge:uue,memberBottom:hue,memberGuild:pue,memberServer:mue,memberActions:fue,emptyList:gue,emptyWrap:xue,emptyTitle:vue,emptyText:yue,addPartnerCard:bue,contextMenuBackdrop:_ue,contextMenu:wue,contextMenuItem:jue};function Sue({members:t,scenario:e,setupState:s,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i,onAddPartnerGuild:a}){var H,q,K;const l=(H=e==null?void 0:e.decisions)!=null?H:{},d=(q=e==null?void 0:e.targetGuildAssignments)!=null?q:{},u=s.partnerGuilds.length>0?s.partnerGuilds.map((G,te)=>({id:G.id,label:G.name||`Partner ${te+1}`})):[{id:"partner-default",label:"Partner guild"}],h=t.filter(G=>l[G.id]==="take"&&d[G.id]==="main"),m=t.filter(G=>l[G.id]==="bench"),g=u.reduce((G,te)=>(G[te.id]=t.filter(ne=>{const U=d[ne.id];return l[ne.id]==="take"&&(U===`partner:${te.id}`||U==="partner")}),G),{}),v=t.filter(G=>!h.includes(G)&&!m.includes(G)&&!Object.values(g).some(te=>te.includes(G))),[b,S]=Z.useState(null),[C,R]=Z.useState(null),F=Z.useRef(null),D=t.length,A=h.length,y=m.length,w=Object.values(g).reduce((G,te)=>G+te.length,0),L=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-A-w):0,N=Z.useCallback((G,te,ne)=>{G&&(te==="main"?(r(G,"take"),i(G,"main")):te==="partner"?(r(G,"take"),i(G,ne?`partner:${ne}`:"partner")):te==="unassigned"?(r(G,"undecided"),i(G,"none")):(r(G,"bench"),i(G,"none")),R(null))},[r,i]),j=Z.useCallback((G,te)=>ne=>{ne.preventDefault();const U=ne.dataTransfer.getData("text/plain");U&&N(U,G,te),S(null)},[N]),I=Z.useCallback(G=>te=>{te.preventDefault(),S(G)},[]),M=Z.useCallback(()=>S(null),[]),P=Z.useCallback((G,te)=>{R({memberId:G,...te})},[]),O=Z.useCallback(()=>{F.current!==null&&(window.clearTimeout(F.current),F.current=null)},[]),$=Z.useCallback((G,te,ne)=>{O(),F.current=window.setTimeout(()=>{P(G,{x:te,y:ne})},550)},[O,P]);if(Z.useEffect(()=>()=>O(),[O]),!e)return n.jsxs("div",{className:Ke.emptyWrap,children:[n.jsx("h3",{className:Ke.emptyTitle,children:"Overview"}),n.jsx("p",{className:Ke.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t.length)return n.jsxs("div",{className:Ke.emptyWrap,children:[n.jsx("h3",{className:Ke.emptyTitle,children:"No members loaded"}),n.jsx("p",{className:Ke.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const W=(G,te,ne,U,J)=>n.jsxs("div",{className:`${Ke.column} ${b===G?Ke.columnDropTarget:""}`,onDragOver:I(G),onDragEnter:I(G),onDragLeave:M,onDrop:j(G,J),children:[n.jsxs("div",{className:Ke.columnHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:Ke.columnKicker,children:ne}),n.jsx("h4",{className:Ke.columnTitle,children:te})]}),n.jsx("span",{className:Ke.columnCount,children:U.length})]}),n.jsx("div",{className:Ke.columnBody,children:U.length?U.map(ce=>{var ee,fe,Ce,ge;return n.jsxs("div",{className:Ke.memberCard,draggable:!0,onDragStart:ke=>ke.dataTransfer.setData("text/plain",ce.id),onContextMenu:ke=>{ke.preventDefault(),P(ce.id,{x:ke.clientX,y:ke.clientY})},onTouchStart:ke=>{const Se=ke.touches[0];Se&&$(ce.id,Se.clientX,Se.clientY)},onTouchEnd:O,onTouchCancel:O,children:[n.jsxs("div",{className:Ke.memberTop,children:[n.jsxs("div",{children:[n.jsx("div",{className:Ke.memberName,children:ce.name}),n.jsxs("p",{className:Ke.memberMeta,children:[(fe=(ee=ce.className)!=null?ee:ce.class)!=null?fe:"Unknown","  ",(Ce=ce.role)!=null?Ce:"Unknown"]})]}),n.jsxs("span",{className:Ke.memberBadge,children:["Lvl ",(ge=ce.level)!=null?ge:"?"]})]}),n.jsxs("div",{className:Ke.memberBottom,children:[n.jsxs("span",{className:Ke.memberGuild,children:[ce.guildName," ",n.jsxs("span",{className:Ke.memberServer,children:["(",ce.server||"Server n/a",")"]})]}),n.jsxs("div",{className:Ke.memberActions,children:[n.jsx("button",{type:"button",onClick:()=>N(ce.id,"main"),children:"Main"}),n.jsx("button",{type:"button",onClick:()=>N(ce.id,"watch"),children:"Watch"}),n.jsx("button",{type:"button",onClick:()=>N(ce.id,"partner"),children:"Partner"})]})]})]},ce.id)}):n.jsx("div",{className:Ke.emptyList,children:"No players in this list yet."})})]});return n.jsxs("div",{className:Ke.overview,children:[n.jsxs("div",{className:Ke.contextBox,children:[n.jsxs("div",{children:[n.jsx("p",{className:Ke.contextKicker,children:"Setup"}),n.jsx("h3",{className:Ke.contextTitle,children:"Fusion Overview"}),n.jsx("p",{className:Ke.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),n.jsxs("div",{className:Ke.contextDetails,children:[n.jsxs("div",{className:Ke.detailItem,children:[n.jsx("span",{className:Ke.detailLabel,children:"Base Guild"}),n.jsx("strong",{className:Ke.detailValue,children:((K=s.baseGuild)==null?void 0:K.name)||"Unbenannt"})]}),n.jsxs("div",{className:Ke.detailItem,children:[n.jsx("span",{className:Ke.detailLabel,children:"Partner Guilds"}),n.jsx("strong",{className:Ke.detailValue,children:s.partnerGuilds.length})]}),n.jsxs("div",{className:Ke.detailItem,children:[n.jsx("span",{className:Ke.detailLabel,children:"Max Slots"}),n.jsx("strong",{className:Ke.detailValue,children:e.maxSlots})]})]})]}),n.jsxs("div",{className:Ke.kpiGrid,children:[n.jsxs("div",{className:Ke.kpiCard,children:[n.jsx("span",{className:Ke.kpiLabel,children:"Total players"}),n.jsx("strong",{className:Ke.kpiValue,children:D})]}),n.jsxs("div",{className:Ke.kpiCard,children:[n.jsx("span",{className:Ke.kpiLabel,children:"Main guild"}),n.jsx("strong",{className:Ke.kpiValue,children:A})]}),n.jsxs("div",{className:Ke.kpiCard,children:[n.jsx("span",{className:Ke.kpiLabel,children:"Watchlist"}),n.jsx("strong",{className:Ke.kpiValue,children:y})]}),n.jsxs("div",{className:Ke.kpiCard,children:[n.jsx("span",{className:Ke.kpiLabel,children:"Partner guild"}),n.jsx("strong",{className:Ke.kpiValue,children:w})]}),n.jsxs("div",{className:Ke.kpiCard,children:[n.jsx("span",{className:Ke.kpiLabel,children:"Free slots"}),n.jsx("strong",{className:Ke.kpiValue,children:L})]})]}),n.jsxs("div",{className:Ke.columnsWrapper,children:[W("unassigned","Unassigned","Noch ohne Planung",v),W("main","Main guild","Take & Assign main",h),W("watch","Watchlist","Bench for review",m),u.map(G=>{var te;return W("partner",G.label,"Take & Assign partner",(te=g[G.id])!=null?te:[],G.id)}),n.jsx("button",{type:"button",className:Ke.addPartnerCard,onClick:()=>a(`Partner ${u.length+1}`),children:"+ Partner guild"})]}),C?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Ke.contextMenuBackdrop,onClick:()=>R(null)}),n.jsxs("div",{className:Ke.contextMenu,style:{top:C.y,left:C.x},children:[n.jsx("button",{type:"button",className:Ke.contextMenuItem,onClick:()=>N(C.memberId,"main"),children:"Move to Main guild"}),n.jsx("button",{type:"button",className:Ke.contextMenuItem,onClick:()=>N(C.memberId,"watch"),children:"Move to Watchlist"}),u.map(G=>n.jsxs("button",{type:"button",className:Ke.contextMenuItem,onClick:()=>N(C.memberId,"partner",G.id),children:["Move to ",G.label]},G.id))]})]}):null]})}const Nue="_scenariosTab_3v4iw_1",kue="_scenariosHeader_3v4iw_13",Tue="_scenariosTitle_3v4iw_35",Cue="_scenariosText_3v4iw_45",Eue="_scenarioInfo_3v4iw_57",Aue="_headerActions_3v4iw_71",Iue="_createButton_3v4iw_81",Rue="_scenarioList_3v4iw_115",Pue="_scenarioCard_3v4iw_127",Lue="_scenarioCardActive_3v4iw_147",Due="_scenarioCardTop_3v4iw_157",Mue="_cardKicker_3v4iw_169",Fue="_cardTitle_3v4iw_185",Bue="_cardText_3v4iw_197",$ue="_scenarioActiveBadge_3v4iw_209",Oue="_scenarioMeta_3v4iw_231",Vue="_scenarioMetaLabel_3v4iw_243",Uue="_scenarioMetaValue_3v4iw_259",zue="_scenarioStats_3v4iw_269",Hue="_scenarioStatItem_3v4iw_281",Gue="_scenarioStatLabel_3v4iw_295",Wue="_scenarioStatValue_3v4iw_311",que="_scenarioActions_3v4iw_321",Kue="_scenarioActionButton_3v4iw_337",Que="_scenarioActionActive_3v4iw_367",Xue="_scenarioActionGroup_3v4iw_377",Yue="_secondaryActionButton_3v4iw_389",Jue="_deleteActionButton_3v4iw_391",Zue="_deleteActionDisabled_3v4iw_443",bt={scenariosTab:Nue,scenariosHeader:kue,scenariosTitle:Tue,scenariosText:Cue,scenarioInfo:Eue,headerActions:Aue,createButton:Iue,scenarioList:Rue,scenarioCard:Pue,scenarioCardActive:Lue,scenarioCardTop:Due,cardKicker:Mue,cardTitle:Fue,cardText:Bue,scenarioActiveBadge:$ue,scenarioMeta:Oue,scenarioMetaLabel:Vue,scenarioMetaValue:Uue,scenarioStats:zue,scenarioStatItem:Hue,scenarioStatLabel:Gue,scenarioStatValue:Wue,scenarioActions:que,scenarioActionButton:Kue,scenarioActionActive:Que,scenarioActionGroup:Xue,secondaryActionButton:Yue,deleteActionButton:Jue,deleteActionDisabled:Zue};function ehe({scenarios:t,activeScenarioId:e,onSetActiveScenario:s,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:a,onDeleteScenario:l}){const d=Z.useCallback(m=>{const g=Object.values(m.decisions),v=g.filter(R=>R==="take").length,b=g.filter(R=>R==="bench").length,S=g.filter(R=>R==="drop").length,C=Math.max(0,m.maxSlots-m.reservedSlots-v);return{selected:v,bench:b,drop:S,free:C}},[]),u=m=>{const g=window.prompt("Neuer Szenario-Name",m.name);g!==null&&a(m.id,g)},h=m=>{if(t.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&l(m.id)};return n.jsxs("div",{className:bt.scenariosTab,children:[n.jsxs("div",{className:bt.scenariosHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:bt.cardKicker,children:"Scenarios"}),n.jsx("h3",{className:bt.scenariosTitle,children:"Fusion Plans verwalten"}),n.jsx("p",{className:bt.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),n.jsx("div",{className:bt.headerActions,children:n.jsx("button",{type:"button",className:bt.createButton,onClick:r,children:"Neues Szenario"})})]}),n.jsx("p",{className:bt.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),n.jsx("div",{className:bt.scenarioList,children:t.map(m=>{const g=d(m),v=m.id===e,b=t.length<=1;return n.jsxs("article",{className:`${bt.scenarioCard} ${v?bt.scenarioCardActive:""}`,children:[n.jsxs("div",{className:bt.scenarioCardTop,children:[n.jsxs("div",{children:[n.jsx("p",{className:bt.cardKicker,children:"Scenario"}),n.jsx("h3",{className:bt.cardTitle,children:m.name}),m.description?n.jsx("p",{className:bt.cardText,children:m.description}):null]}),v?n.jsx("span",{className:bt.scenarioActiveBadge,children:"Active"}):null]}),n.jsxs("div",{className:bt.scenarioMeta,children:[n.jsxs("div",{children:[n.jsx("span",{className:bt.scenarioMetaLabel,children:"Max slots"}),n.jsx("span",{className:bt.scenarioMetaValue,children:m.maxSlots})]}),n.jsxs("div",{children:[n.jsx("span",{className:bt.scenarioMetaLabel,children:"Reserved"}),n.jsx("span",{className:bt.scenarioMetaValue,children:m.reservedSlots})]})]}),n.jsxs("div",{className:bt.scenarioStats,children:[n.jsxs("div",{className:bt.scenarioStatItem,children:[n.jsx("span",{className:bt.scenarioStatLabel,children:"Selected"}),n.jsx("strong",{className:bt.scenarioStatValue,children:g.selected})]}),n.jsxs("div",{className:bt.scenarioStatItem,children:[n.jsx("span",{className:bt.scenarioStatLabel,children:"Free"}),n.jsx("strong",{className:bt.scenarioStatValue,children:g.free})]}),n.jsxs("div",{className:bt.scenarioStatItem,children:[n.jsx("span",{className:bt.scenarioStatLabel,children:"Bench"}),n.jsx("strong",{className:bt.scenarioStatValue,children:g.bench})]}),n.jsxs("div",{className:bt.scenarioStatItem,children:[n.jsx("span",{className:bt.scenarioStatLabel,children:"Drop"}),n.jsx("strong",{className:bt.scenarioStatValue,children:g.drop})]})]}),n.jsxs("div",{className:bt.scenarioActions,children:[n.jsx("button",{type:"button",className:`${bt.scenarioActionButton} ${v?bt.scenarioActionActive:""}`,onClick:()=>s(m.id),children:"Set active"}),n.jsxs("div",{className:bt.scenarioActionGroup,children:[n.jsx("button",{type:"button",className:bt.secondaryActionButton,onClick:()=>i(m.id),children:"Duplicate"}),n.jsx("button",{type:"button",className:bt.secondaryActionButton,onClick:()=>u(m),children:"Rename"}),n.jsx("button",{type:"button",className:`${bt.deleteActionButton} ${b?bt.deleteActionDisabled:""}`,onClick:()=>h(m),disabled:b,children:"Delete"})]})]})]},m.id)})})]})}const the="_resultWrap_179wi_1",she="_emptyState_179wi_13",nhe="_emptyTitle_179wi_35",rhe="_emptyText_179wi_43",ihe="_resultHeader_179wi_55",ahe="_resultKicker_179wi_79",ohe="_resultTitle_179wi_95",lhe="_resultText_179wi_107",che="_emptyNote_179wi_119",dhe="_setupSummary_179wi_131",uhe="_setupSummaryTitle_179wi_149",hhe="_setupSummaryRow_179wi_159",phe="_setupSummaryLabel_179wi_171",mhe="_setupSummaryValue_179wi_185",fhe="_setupSummaryMeta_179wi_195",ghe="_setupSummaryTags_179wi_205",xhe="_setupSummaryTag_179wi_205",vhe="_classDistribution_179wi_241",yhe="_resultStats_179wi_253",bhe="_resultStatBadge_179wi_267",_he="_resultStatBadgeMuted_179wi_269",whe="_group_179wi_307",jhe="_groupHeader_179wi_327",She="_groupTitle_179wi_341",Nhe="_groupHint_179wi_351",khe="_groupBadge_179wi_361",The="_badgeSuccess_179wi_387",Che="_badgeMuted_179wi_399",Ehe="_badgeDanger_179wi_409",Ahe="_groupEmpty_179wi_421",Ihe="_groupTable_179wi_437",Rhe="_groupRow_179wi_455",Phe="_groupHead_179wi_327",Lhe="_groupCell_179wi_491",Dhe="_memberName_179wi_501",Mhe="_memberBadge_179wi_509",Xe={resultWrap:the,emptyState:she,emptyTitle:nhe,emptyText:rhe,resultHeader:ihe,resultKicker:ahe,resultTitle:ohe,resultText:lhe,emptyNote:che,setupSummary:dhe,setupSummaryTitle:uhe,setupSummaryRow:hhe,setupSummaryLabel:phe,setupSummaryValue:mhe,setupSummaryMeta:fhe,setupSummaryTags:ghe,setupSummaryTag:xhe,classDistribution:vhe,resultStats:yhe,resultStatBadge:bhe,resultStatBadgeMuted:_he,group:whe,groupHeader:jhe,groupTitle:She,groupHint:Nhe,groupBadge:khe,badgeSuccess:The,badgeMuted:Che,badgeDanger:Ehe,groupEmpty:Ahe,groupTable:Ihe,groupRow:Rhe,groupHead:Phe,groupCell:Lhe,memberName:Dhe,memberBadge:Mhe};function Fhe({members:t,scenario:e,setupState:s}){var S;if(!e)return n.jsxs("div",{className:Xe.emptyState,children:[n.jsx("h3",{className:Xe.emptyTitle,children:"No scenario selected"}),n.jsx("p",{className:Xe.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!t||t.length===0)return n.jsxs("div",{className:Xe.emptyState,children:[n.jsx("h3",{className:Xe.emptyTitle,children:"No members available"}),n.jsx("p",{className:Xe.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:a,undecidedMembers:l}=Z.useMemo(()=>{const C=[],R=[],F=[],D=[];return t.forEach(A=>{var w;const y=(w=e.decisions[A.id])!=null?w:"undecided";y==="take"?C.push(A):y==="bench"?R.push(A):y==="drop"?F.push(A):D.push(A)}),{takeMembers:C,benchMembers:R,dropMembers:F,undecidedMembers:D}},[t,e.decisions]),d=r.length,u=i.length,h=a.length,m=Math.max(0,e.maxSlots-d),g=e.maxSlots?Math.round(d/e.maxSlots*100):0,v=Z.useMemo(()=>{const C=r.reduce((F,D)=>{var y,w;const A=(y=D.className)!=null?y:D.class;return A&&(F[A]=((w=F[A])!=null?w:0)+1),F},{});return Object.entries(C).map(([F,D])=>`${F}: ${D}`).join(" | ")},[r]),b=(C,R,F,D)=>n.jsxs("div",{className:Xe.group,children:[n.jsxs("div",{className:Xe.groupHeader,children:[n.jsxs("div",{children:[n.jsx("h4",{className:Xe.groupTitle,children:C}),n.jsx("span",{className:Xe.groupHint,children:R})]}),n.jsx("span",{className:`${Xe.groupBadge} ${D}`,children:F.length})]}),F.length===0?n.jsx("div",{className:Xe.groupEmpty,children:"No players in this group."}):n.jsxs("div",{className:Xe.groupTable,role:"table",children:[n.jsxs("div",{className:`${Xe.groupRow} ${Xe.groupHead}`,role:"row",children:[n.jsx("div",{className:Xe.groupCell,role:"columnheader",children:"Name"}),n.jsx("div",{className:Xe.groupCell,role:"columnheader",children:"Level"}),n.jsx("div",{className:Xe.groupCell,role:"columnheader",children:"Guild"}),n.jsx("div",{className:Xe.groupCell,role:"columnheader",children:"Class"})]}),F.map(A=>{var y,w;return n.jsxs("div",{className:Xe.groupRow,role:"row",children:[n.jsx("div",{className:Xe.groupCell,role:"cell",children:n.jsx("span",{className:Xe.memberName,children:A.name})}),n.jsx("div",{className:Xe.groupCell,role:"cell",children:n.jsxs("span",{className:Xe.memberBadge,children:["Lvl ",A.level]})}),n.jsx("div",{className:Xe.groupCell,role:"cell",children:A.guildName}),n.jsx("div",{className:Xe.groupCell,role:"cell",children:(w=(y=A.className)!=null?y:A.class)!=null?w:"-"})]},A.id)})]})]});return n.jsxs("div",{className:Xe.resultWrap,children:[n.jsxs("div",{className:Xe.resultHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:Xe.resultKicker,children:"Final Plan"}),n.jsx("h3",{className:Xe.resultTitle,children:e.name}),n.jsx("p",{className:Xe.resultText,children:(S=e.description)!=null?S:"Zusammenfassung des aktuellen Plans."}),r.length===0?n.jsx("p",{className:Xe.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,v?n.jsxs("p",{className:Xe.classDistribution,children:["Class distribution: ",v]}):null,n.jsxs("div",{className:Xe.setupSummary,children:[n.jsx("div",{className:Xe.setupSummaryTitle,children:"Fusion plan between"}),s.baseGuild?n.jsxs("div",{className:Xe.setupSummaryRow,children:[n.jsx("span",{className:Xe.setupSummaryLabel,children:"Base"}),n.jsxs("span",{className:Xe.setupSummaryValue,children:[s.baseGuild.name||"Unbenannt"," ",n.jsxs("span",{className:Xe.setupSummaryMeta,children:["(",s.baseGuild.server||"Server n/a",")"]})]})]}):n.jsxs("div",{className:Xe.setupSummaryRow,children:[n.jsx("span",{className:Xe.setupSummaryLabel,children:"Base"}),n.jsx("span",{className:Xe.setupSummaryMeta,children:"No base guild selected."})]}),n.jsxs("div",{className:Xe.setupSummaryRow,children:[n.jsx("span",{className:Xe.setupSummaryLabel,children:"Partners"}),s.partnerGuilds.length?n.jsx("div",{className:Xe.setupSummaryTags,children:s.partnerGuilds.map(C=>n.jsxs("span",{className:Xe.setupSummaryTag,children:[C.name||"Unbenannt"," ",n.jsxs("span",{className:Xe.setupSummaryMeta,children:["(",C.server||"Server n/a",")"]})]},C.id))}):n.jsx("span",{className:Xe.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),n.jsxs("div",{className:Xe.resultStats,children:[n.jsxs("span",{className:Xe.resultStatBadge,children:["Members selected: ",d," / ",e.maxSlots]}),n.jsxs("span",{className:Xe.resultStatBadge,children:["Bench: ",u]}),n.jsxs("span",{className:Xe.resultStatBadge,children:["Drop: ",h]}),n.jsxs("span",{className:Xe.resultStatBadge,children:["Free slots: ",m]}),n.jsxs("span",{className:Xe.resultStatBadge,children:["Utilization: ",g,"%"]}),l.length>0?n.jsxs("span",{className:Xe.resultStatBadgeMuted,children:["Undecided: ",l.length]}):null]})]}),b("Final roster (selected)","Take",r,Xe.badgeSuccess),b("Bench (waiting list)","Bench",i,Xe.badgeMuted),b("Not included","Drop",a,Xe.badgeDanger)]})}const Rm=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],TN=t=>t.reduce((e,s)=>(e[s.id]="undecided",e),{}),CN=t=>t.reduce((e,s)=>(e[s.id]="none",e),{}),Bhe=(t,e,s)=>{var r,i,a,l,d,u,h,m,g,v,b,S,C,R,F,D;return{id:t.id,name:(r=t.name)!=null?r:"Unknown",class:(i=t.class)!=null?i:"Unknown",className:(a=t.class)!=null?a:void 0,role:(l=t.role)!=null?l:"Unknown",level:(d=t.level)!=null?d:void 0,guildName:e,server:s,scrapbook:void 0,lastOnline:(u=t.lastActivityMs)!=null?u:null,baseStats:{main:(h=t.baseMain)!=null?h:void 0,con:(m=t.conBase)!=null?m:void 0,sumBaseTotal:(g=t.sumBaseTotal)!=null?g:void 0},totalStats:(v=t.totalStats)!=null?v:void 0,values:{treasury:(b=t.treasury)!=null?b:void 0,mine:(S=t.mine)!=null?S:void 0,attrTotal:(C=t.attrTotal)!=null?C:void 0,conTotal:(R=t.conTotal)!=null?R:void 0,lastScan:(F=t.lastScan)!=null?F:void 0,lastActivity:(D=t.lastActivity)!=null?D:void 0}}},$he=t=>{var r,i;if(!t)return null;const e=(r=t.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const s=(i=t.name)==null?void 0:i.trim();return s||null},EN=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,AN=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],Ohe=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function Vhe(){var $;const[t,e]=Z.useState("setup"),[s,r]=Z.useState(Rm),[i,a]=Z.useState(!1),[l,d]=Z.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[u,h]=Z.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:TN(Rm),targetGuildAssignments:CN(Rm),isDefault:!0}]),[m,g]=Z.useState("plan-a"),v=Z.useMemo(()=>{var W,H;return(H=(W=u.find(q=>q.id===m))!=null?W:u[0])!=null?H:null},[m,u]),b=Z.useMemo(()=>{var K,G;const W=l.baseGuild,H=(K=W==null?void 0:W.name)==null?void 0:K.trim(),q=(G=W==null?void 0:W.server)==null?void 0:G.trim();return!!(H&&q)},[l.baseGuild]),S=Z.useMemo(()=>s.length>0,[s.length]),C=Z.useMemo(()=>u.length>0,[u.length]),R=Z.useMemo(()=>{const W=[];return b||W.push("Setup incomplete - no base guild selected."),b&&!S&&W.push("No members loaded yet. Check scans or setup."),C||W.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),W},[b,S,C]),F=(W,H)=>{h(q=>q.map(K=>K.id===m?{...K,decisions:{...K.decisions,[W]:H}}:K))},D=(W,H)=>{h(q=>q.map(K=>{var G;return K.id===m?{...K,targetGuildAssignments:{...(G=K.targetGuildAssignments)!=null?G:{},[W]:H}}:K}))},A=W=>{const H=Number(W)||0;h(q=>q.map(K=>K.id===m?{...K,maxSlots:Math.max(0,H)}:K))},y=()=>{h(W=>{const H={id:EN(),name:`Plan ${W.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:TN(s),targetGuildAssignments:CN(s)};return g(H.id),[...W,H]})},w=W=>{h(H=>{var G;const q=H.find(te=>te.id===W);if(!q)return H;const K={...q,id:EN(),name:`${q.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...q.decisions},targetGuildAssignments:{...(G=q.targetGuildAssignments)!=null?G:{}}};return g(K.id),[...H,K]})},L=(W,H)=>{const q=H.trim();q&&h(K=>K.map(G=>G.id===W?{...G,name:q}:G))},N=W=>{h(H=>{if(H.length<=1)return H;const q=H.filter(K=>K.id!==W);return q.length?(m===W&&g(q[0].id),q):H})};Z.useEffect(()=>{if(l.mode!=="scan"){a(!1),r(Rm);return}const W=[l.baseGuild,...l.partnerGuilds].filter(Boolean);if(W.length===0){a(!1),r([]);return}let H=!1;async function q(){var K,G,te,ne,U,J,ce,ee,fe,Ce;a(!0);try{const ge=[];for(const ke of W){const Se=$he(ke);if(!Se)continue;const ue=Xt(Ct,`guilds/${Se}/latest/latest`),De=await Vn(ue),Ee=De.exists()?De.data():null,tt=(U=(ne=(G=(K=ke.name)==null?void 0:K.trim())!=null?G:Ee==null?void 0:Ee.name)!=null?ne:(te=Ee==null?void 0:Ee.values)==null?void 0:te.Name)!=null?U:Se,pt=(Ce=(fe=(ce=(J=ke.server)==null?void 0:J.trim())!=null?ce:Ee==null?void 0:Ee.server)!=null?fe:(ee=Ee==null?void 0:Ee.values)==null?void 0:ee.Server)!=null?Ce:null,Ht=Xt(Ct,`guilds/${Se}/snapshots/members_summary`),Ss=await Vn(Ht);if(!Ss.exists())continue;const Ns=Ss.data();(Array.isArray(Ns.members)?Ns.members:[]).forEach(ys=>{ge.push(Bhe(ys,tt,pt))})}H||r(ge)}catch(ge){console.error("[FusionPlanner] Failed to load members",ge),H||r([])}finally{H||a(!1)}}return r([]),q(),()=>{H=!0}},[l.baseGuild,l.partnerGuilds,l.mode]),Z.useEffect(()=>{i||h(W=>W.map(H=>{var te;const q=new Set(s.map(ne=>ne.id)),K={...H.decisions},G={...(te=H.targetGuildAssignments)!=null?te:{}};return s.forEach(ne=>{K[ne.id]||(K[ne.id]="undecided"),G[ne.id]||(G[ne.id]="none")}),Object.keys(K).forEach(ne=>{q.has(ne)||delete K[ne]}),Object.keys(G).forEach(ne=>{q.has(ne)||delete G[ne]}),{...H,decisions:K,targetGuildAssignments:G}}))},[s,i]);const j=W=>{d(H=>({...H,mode:W}))},I=W=>{d(H=>{var K,G,te;const q=(K=H.baseGuild)!=null?K:{id:"base-1",kind:"base",name:"",server:""};return{...H,baseGuild:{...q,...W.id?{id:W.id}:{},name:(G=W.name)!=null?G:q.name,server:(te=W.server)!=null?te:q.server}}})},M=W=>{var G;if(!W.name.trim()||!W.server.trim())return;const H=W.name.trim(),q=W.server.trim(),K=(G=W.id)==null?void 0:G.trim();d(te=>({...te,partnerGuilds:[...te.partnerGuilds,{id:K&&!K.startsWith("partner-")?K:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:H,server:q,kind:"partner"}]}))},P=W=>{d(H=>({...H,partnerGuilds:H.partnerGuilds.filter(q=>q.id!==W)}))},O=()=>{switch(t){case"setup":return n.jsx(zce,{setupState:l,onChangeMode:j,onChangeBaseGuild:I,onAddPartnerGuild:M,onRemovePartnerGuild:P});case"members":return n.jsx($de,{members:s,scenario:v,onChangeScenarioDecision:F,onChangeScenarioTargetGuild:D,onChangeScenarioMaxSlots:A,setupState:l});case"overview":return n.jsx(Sue,{members:s,scenario:v,setupState:l,onChangeScenarioDecision:F,onChangeScenarioTargetGuild:D,onAddPartnerGuild:W=>M({name:W,server:"tbd"})});case"scenarios":return n.jsx(ehe,{scenarios:u,activeScenarioId:m,onSetActiveScenario:g,onCreateScenario:y,onDuplicateScenario:w,onRenameScenario:L,onDeleteScenario:N});case"result":return n.jsx(Fhe,{members:s,scenario:v,setupState:l});default:return null}};return n.jsx(Nt,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:n.jsxs("div",{className:Ye.page,children:[n.jsxs("header",{className:Ye.header,children:[n.jsxs("div",{className:Ye.headerLeading,children:[n.jsx(Wt,{to:"/guild-hub",className:Ye.backLink,children:"Back to Guild Hub"}),n.jsxs("div",{className:Ye.headerStack,children:[n.jsx("p",{className:Ye.kicker,children:"Guild Hub"}),n.jsx("h1",{className:Ye.title,children:"Fusion Planner"}),n.jsx("p",{className:Ye.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),n.jsxs("div",{className:Ye.headerActions,children:[n.jsx("button",{type:"button",className:Ye.primaryAction,children:"Neues Setup"}),n.jsx("button",{type:"button",className:Ye.secondaryAction,children:"Checkliste"})]})]}),R.length?n.jsx("div",{className:Ye.plannerNotice,role:"status","aria-live":"polite",children:R.map(W=>n.jsxs("div",{className:`${Ye.noticeItem} ${W.toLowerCase().includes("no base guild")?Ye.noticeWarning:""}`,children:[n.jsx("span",{className:Ye.noticeDot,"aria-hidden":!0}),n.jsx("span",{children:W})]},W))}):null,n.jsxs("section",{className:Ye.tabSection,"aria-label":"Fusion Planner Tabs",children:[n.jsx("div",{className:Ye.tabBar,children:AN.map(W=>{const H=W.key===t;return n.jsxs("button",{type:"button",className:`${Ye.tabItem} ${H?Ye.tabItemActive:""}`,onClick:()=>e(W.key),"aria-pressed":H,children:[n.jsx("span",{className:Ye.tabLabel,children:W.label}),n.jsx("span",{className:Ye.tabHelper,children:W.helper})]},W.key)})}),n.jsxs("div",{className:Ye.tabPanel,children:[n.jsx("span",{className:Ye.tabBadge,children:($=AN.find(W=>W.key===t))==null?void 0:$.label}),O()]})]}),n.jsxs("section",{className:Ye.infoStrip,children:[n.jsxs("div",{className:Ye.infoBlock,children:[n.jsx("span",{className:Ye.infoLabel,children:"Status"}),n.jsx("strong",{children:"Entwurf"}),n.jsx("p",{className:Ye.infoHint,children:"Bereit fuer weitere Eingaben."})]}),n.jsxs("div",{className:Ye.infoBlock,children:[n.jsx("span",{className:Ye.infoLabel,children:"Slots geplant"}),n.jsx("strong",{children:"0 / 40"}),n.jsx("p",{className:Ye.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),n.jsxs("div",{className:Ye.infoBlock,children:[n.jsx("span",{className:Ye.infoLabel,children:"Szenarien"}),n.jsx("strong",{children:"3"}),n.jsx("p",{className:Ye.infoHint,children:"Baseline, Optimistic, Risiko."})]}),n.jsxs("div",{className:Ye.infoBlock,children:[n.jsx("span",{className:Ye.infoLabel,children:"Letztes Update"}),n.jsx("strong",{children:"vor wenigen Minuten"}),n.jsx("p",{className:Ye.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),n.jsx("section",{className:Ye.stageGrid,children:Ohe.map(W=>n.jsxs("article",{className:Ye.panel,children:[n.jsxs("div",{className:Ye.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:Ye.panelKicker,children:W.step}),n.jsx("h2",{className:Ye.panelTitle,children:W.title}),n.jsx("p",{className:Ye.panelLead,children:W.description})]}),W.badge?n.jsx("span",{className:Ye.badge,children:W.badge}):null]}),n.jsx("div",{className:Ye.panelBody,children:n.jsx("div",{className:Ye.placeholderGrid,children:W.placeholders.map(H=>n.jsxs("div",{className:Ye.placeholderCard,children:[n.jsx("div",{className:Ye.placeholderTitle,children:H}),n.jsx("p",{className:Ye.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},H))})})]},W.key))}),n.jsx("section",{className:Ye.helperSection,children:n.jsxs("div",{className:Ye.helperCard,children:[n.jsxs("div",{children:[n.jsx("p",{className:Ye.helperKicker,children:"Result"}),n.jsx("h3",{className:Ye.helperTitle,children:"Finaler Merge-Plan"}),n.jsx("p",{className:Ye.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),n.jsxs("div",{className:Ye.helperActions,children:[n.jsx("button",{type:"button",className:Ye.secondaryAction,children:"Teilen"}),n.jsx("button",{type:"button",className:Ye.primaryAction,children:"Review starten"})]})]})})]})})}const f0=["EU-01","EU-02","US-01","US-02","ASIA-01"],qu=new Intl.NumberFormat("de-DE");function Uhe(){const t=cd("(min-width: 768px)"),[e,s]=Z.useState("all"),[r,i]=Z.useState(null),[a,l]=Z.useState(null),[d,u]=Z.useState(null),[h,m]=Z.useState(null),g=[r,a].filter(Boolean).length,v=Z.useMemo(()=>{const P=[d,h].filter(Boolean);if(!P.length)return 0;const O=P.reduce(($,W)=>{var H;return $+((H=W.members)!=null?H:0)},0);return Math.round(O/P.length)},[d,h]),[b,S]=Z.useState(null),[C,R]=Z.useState(!1),F=Z.useRef(null);dd(F,C&&!t),Z.useEffect(()=>{t&&R(!1)},[t]),Z.useEffect(()=>{if(!b)return;const P=$=>{const W=$.target;W&&(W.closest(`.${ie.freshnessBadge}`)||W.closest(`.${ie.freshnessPopover}`)||S(null))},O=$=>{$.key==="Escape"&&S(null)};return document.addEventListener("pointerdown",P),document.addEventListener("keydown",O),()=>{document.removeEventListener("pointerdown",P),document.removeEventListener("keydown",O)}},[b]);const D=Z.useMemo(()=>d?fh(d.nextUpdateAt,Date.now()):"",[d]),A=Z.useMemo(()=>h?fh(h.nextUpdateAt,Date.now()):"",[h]),y=()=>R(!0),w=()=>R(!1),L=P=>{s(P)},N=(P,O)=>{P==="guildA"?(i(O.id),u(O)):(l(O.id),m(O))},j=P=>{P==="guildA"?(i(null),u(null)):(l(null),m(null))},I=P=>{S(O=>O===P?null:P)},M=d&&h;return n.jsxs(Nt,{title:"Guild Hub",subtitle:"Gildenvergleich",centerFramed:!1,children:[n.jsxs("div",{className:ie.page,children:[n.jsxs("header",{className:ie.header,children:[n.jsxs("div",{className:ie.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.kicker,children:"Guild Hub"}),n.jsx("h1",{className:ie.title,children:"Gilden vergleichen"}),n.jsx("p",{className:ie.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken ab, bevor du dich fuer oder gegen einen Zusammenschluss entscheidest."})]}),n.jsx("div",{className:ie.headerActions,children:!t&&n.jsx("button",{type:"button",className:ie.secondaryAction,onClick:y,children:"Filter"})})]}),n.jsxs("div",{className:ie.infoStrip,children:[n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Pool"}),n.jsxs("strong",{children:[qu.format(g)," Gilden"]})]}),n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Durchschnitt Mitglieder"}),n.jsx("strong",{children:qu.format(v)})]}),n.jsxs("div",{className:ie.infoCard,children:[n.jsx("span",{className:ie.infoLabel,children:"Serverfilter"}),n.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&n.jsx("div",{className:ie.inlineFilters,children:n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:e,onChange:P=>L(P.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),f0.map(P=>n.jsx("option",{value:P,children:P},P))]})]})})]}),n.jsxs("div",{className:ie.layout,children:[n.jsxs("section",{className:ie.selectionColumn,children:[n.jsx(IN,{title:"Gilde A",slot:"guildA",selectedGuild:d,excludeId:a,onSelect:N,onClear:j,serverFilter:e,onServerChange:L}),n.jsx(IN,{title:"Gilde B",slot:"guildB",selectedGuild:h,excludeId:r,onSelect:N,onClear:j,serverFilter:e,onServerChange:L})]}),n.jsxs("section",{className:ie.comparisonColumn,children:[n.jsxs("div",{className:ie.comparisonCard,children:[n.jsxs("div",{className:ie.comparisonHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.kicker,children:"Vergleich"}),n.jsx("h2",{className:ie.sectionTitle,children:"Kennzahlen"})]}),M&&n.jsxs("span",{className:ie.diffBadge,children:["Delta Mitglieder:"," ",qu.format(d.members-h.members)]})]}),M?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:ie.metricGrid,children:[n.jsx(RN,{label:"Mitglieder",aValue:d.members,bValue:h.members}),n.jsx(RN,{label:"Durchschnittslevel",aValue:d.avgLevel,bValue:h.avgLevel,isDecimal:!0}),n.jsx(zhe,{guildA:d,guildB:h,countdownA:D,countdownB:A,activePopover:b,onToggle:I})]}),n.jsx(Hhe,{guildA:d,guildB:h})]}):n.jsx("div",{className:ie.emptyState,children:n.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),n.jsxs("div",{className:ie.supportPanels,children:[n.jsx(Ghe,{}),n.jsx(Whe,{})]})]})]})]}),!t&&n.jsx("div",{className:`${ie.sheetOverlay} ${C?ie.sheetOpen:""}`,children:n.jsxs("div",{className:ie.sheet,role:"dialog","aria-modal":"true",ref:F,children:[n.jsxs("header",{className:ie.sheetHeader,children:[n.jsx("h3",{children:"Filter"}),n.jsx("button",{type:"button",className:ie.clearButton,onClick:w,children:"Schliessen"})]}),n.jsx("div",{className:ie.sheetBody,children:n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:e,onChange:P=>L(P.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),f0.map(P=>n.jsx("option",{value:P,children:P},P))]})]})})]})})]})}function IN({title:t,slot:e,selectedGuild:s,excludeId:r,onSelect:i,onClear:a,serverFilter:l,onServerChange:d}){const[u,h]=Z.useState(""),m=ld(u,300);Z.useEffect(()=>{h("")},[s,l]);const{results:g,loading:v}=qhe(m,l,r);return n.jsxs("article",{className:ie.selectionCard,children:[n.jsxs("div",{className:ie.slotHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.slotLabel,children:t}),n.jsx("p",{className:ie.slotStatus,children:s?"Ausgewaehlt":"Noch keine Auswahl"})]}),s&&n.jsx("button",{type:"button",className:ie.clearButton,onClick:()=>a(e),children:"Reset"})]}),n.jsxs("div",{className:ie.slotBody,children:[n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Server"}),n.jsxs("select",{className:ie.select,value:l,onChange:b=>d(b.target.value),children:[n.jsx("option",{value:"all",children:"Alle Server"}),f0.map(b=>n.jsx("option",{value:b,children:b},b))]})]}),n.jsxs("label",{className:ie.filterField,children:[n.jsx("span",{children:"Suchen"}),n.jsx("input",{className:ie.searchInput,placeholder:"Gildennamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),n.jsxs("div",{className:ie.resultList,role:"list",children:[v&&n.jsx("div",{className:ie.emptyResult,children:"Lade..."}),!v&&g.length===0&&n.jsx("div",{className:ie.emptyResult,children:"Keine Gilde gefunden."}),!v&&g.map(b=>n.jsxs("div",{className:ie.resultItem,children:[n.jsxs("div",{children:[n.jsx("p",{className:ie.resultName,children:b.name}),n.jsxs("p",{className:ie.resultMeta,children:[b.server," - ",b.members," Mitglieder"]})]}),n.jsx("button",{type:"button",className:ie.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),s&&n.jsxs("div",{className:ie.selectedCard,children:[n.jsx("p",{className:ie.selectedName,children:s.name}),n.jsxs("p",{className:ie.selectedMeta,children:[s.server," - ",s.members," Mitglieder - Durchschnittslevel"," ",s.avgLevel.toFixed(1)]}),n.jsx("p",{className:ie.selectedTagline,children:s.tagline})]})]})]})}function RN({label:t,aValue:e,bValue:s,isDecimal:r=!1}){const i=d=>r?d.toFixed(1).replace(".",","):qu.format(d),a=e-s;let l="gleich";if(a!==0){const d=r?Math.abs(a).toFixed(1).replace(".",","):qu.format(Math.abs(a));l=a>0?`+${d}`:`-${d}`}return n.jsxs("div",{className:ie.metricCard,children:[n.jsx("p",{className:ie.metricLabel,children:t}),n.jsxs("div",{className:ie.metricValues,children:[n.jsx("span",{"aria-label":"Gilde A",children:i(e)}),n.jsx("span",{className:ie.metricDivider,children:"vs"}),n.jsx("span",{"aria-label":"Gilde B",children:i(s)})]}),n.jsx("p",{className:ie.metricDelta,children:l})]})}function zhe({guildA:t,guildB:e,countdownA:s,countdownB:r,activePopover:i,onToggle:a}){return n.jsxs("div",{className:ie.metricCard,children:[n.jsx("p",{className:ie.metricLabel,children:"Freshness"}),n.jsx("div",{className:ie.freshnessRow,children:[t,e].map(l=>{const d=l.id===t.id?s:r,u=`fresh-${l.id}`,h=i===u;return n.jsxs("div",{className:ie.freshnessItem,children:[n.jsxs("button",{type:"button",className:ie.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[n.jsx("span",{children:l.freshness.toUpperCase()}),n.jsx("small",{children:Vh(l.lastScanAt)})]}),h&&n.jsxs("div",{className:ie.freshnessPopover,role:"dialog",children:[n.jsx("p",{className:ie.popoverTitle,children:l.name}),n.jsxs("dl",{children:[n.jsxs("div",{children:[n.jsx("dt",{children:"Status"}),n.jsx("dd",{children:gb[l.freshness]})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Zuletzt gescannt"}),n.jsx("dd",{children:Mi(l.lastScanAt)})]}),n.jsxs("div",{children:[n.jsx("dt",{children:"Naechstes Update"}),n.jsxs("dd",{children:[Mi(l.nextUpdateAt)," (",d,")"]})]})]})]})]},l.id)})})]})}function Hhe({guildA:t,guildB:e}){const s=Z.useMemo(()=>Array.from(new Set([...t.classes,...e.classes].map(r=>r.label))),[t.classes,e.classes]);return n.jsxs("div",{className:ie.classCard,children:[n.jsx("p",{className:ie.metricLabel,children:"Klassenverteilung"}),n.jsx("div",{className:ie.classGrid,children:[t,e].map(r=>n.jsxs("div",{className:ie.classColumn,children:[n.jsx("h3",{children:r.name}),n.jsx("div",{className:ie.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>n.jsxs("span",{style:{width:`${i.percent}%`},className:ie.classSlice,children:[n.jsx("small",{children:i.label}),n.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),n.jsx("ul",{className:ie.classLegend,children:s.map(r=>n.jsx("li",{children:r},r))})]})}function Ghe(){const t=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return n.jsxs("section",{className:ie.checklistCard,children:[n.jsx("h3",{children:"Vor dem Vergleich pruefen"}),n.jsx("ul",{className:ie.checklist,children:t.map(e=>n.jsx("li",{children:e},e))})]})}function Whe(){return n.jsxs("section",{className:ie.infoCardExtended,children:[n.jsx("h3",{children:"Transfers-Diff"}),n.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",n.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),n.jsx("p",{className:ie.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),n.jsx("button",{type:"button",className:ie.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function qhe(t,e,s){const[r,i]=Z.useState([]),[a,l]=Z.useState(!1);return Z.useEffect(()=>{const d=t.trim();if(d.length===0){i([]),l(!1);return}let u=!1;async function h(){l(!0);try{const m=d.toLowerCase(),g=hg(Ct,"latest"),v=await pn($n(g,co("nameFold"),hl(m),pl(m+""),On(15))),b=await pn($n(g,xl("nameNgrams","array-contains",m),On(15))),S=new Set,C=[],R=F=>{var O,$,W,H,q,K,G,te,ne,U,J,ce,ee,fe,Ce,ge,ke,Se,ue,De,Ee;const D=F.data(),y=(O=F.ref.parent)==null?void 0:O.parent,w=y==null?void 0:y.parent;if((w==null?void 0:w.id)!=="guilds")return;const N=(W=($=y==null?void 0:y.id)!=null?$:D.guildIdentifier)!=null?W:F.id;if(!N||S.has(N)||s&&N===s)return;const j=(K=(q=D.name)!=null?q:(H=D.values)==null?void 0:H.Name)!=null?K:"Unbekannte Gilde",I=(ne=(te=D.server)!=null?te:(G=D.values)==null?void 0:G.Server)!=null?ne:"Unknown";if(e!=="all"&&I!==e)return;const M=(fe=(ee=(J=D.memberCount)!=null?J:(U=D.values)==null?void 0:U["Guild Member Count"])!=null?ee:(ce=D.values)==null?void 0:ce.GuildMemberCount)!=null?fe:0,P=(ke=(ge=D.updatedAt)!=null?ge:(Ce=D.values)==null?void 0:Ce.UpdatedAt)!=null?ke:D.timestamp?new Date(D.timestamp*1e3).toISOString():new Date().toISOString();S.add(N),C.push({id:N,name:j,tagline:(Se=D.tagline)!=null?Se:"",server:I,members:M,avgLevel:(Ee=(De=D.avgLevel)!=null?De:(ue=D.values)==null?void 0:ue.AvgLevel)!=null?Ee:0,lastScanAt:P,updatedAt:P,nextUpdateAt:P,freshness:"unknown",classes:[]})};v.forEach(R),b.forEach(R),u||(C.sort((F,D)=>F.name.localeCompare(D.name)),i(C))}catch(m){console.error("[GuildHub CompareGuilds] guild search failed",m),u||i([])}finally{u||l(!1)}}return h(),()=>{u=!0}},[t,e,s]),{results:r,loading:a}}const Khe="_page_o27vc_1",Qhe="_header_o27vc_13",Xhe="_headerStack_o27vc_25",Yhe="_kicker_o27vc_37",Jhe="_title_o27vc_53",Zhe="_headerActions_o27vc_65",epe="_primaryAction_o27vc_77",tpe="_secondaryAction_o27vc_79",spe="_infoStrip_o27vc_109",npe="_infoPill_o27vc_129",rpe="_freshnessWrapper_o27vc_163",ipe="_freshnessBadge_o27vc_171",ape="_popover_o27vc_191",ope="_popoverLabel_o27vc_221",lpe="_filterToolbar_o27vc_231",cpe="_filterSheetButton_o27vc_241",dpe="_inlineFilters_o27vc_259",upe="_searchInput_o27vc_271",hpe="_select_o27vc_273",ppe="_chipGroup_o27vc_295",mpe="_chip_o27vc_295",fpe="_chipActive_o27vc_325",gpe="_levelRow_o27vc_335",xpe="_sortControls_o27vc_363",vpe="_sortLabel_o27vc_375",ype="_directionButton_o27vc_385",bpe="_listBody_o27vc_403",_pe="_tableWrapper_o27vc_415",wpe="_table_o27vc_415",jpe="_cardFooter_o27vc_459",Spe="_panel_o27vc_461",Npe="_formPanel_o27vc_463",kpe="_statusSelect_o27vc_481",Tpe="_stickyColumn_o27vc_515",Cpe="_rowButton_o27vc_529",Epe="_scanBadge_o27vc_545",Ape="_cardList_o27vc_561",Ipe="_card_o27vc_459",Rpe="_cardHeader_o27vc_593",Ppe="_cardTitle_o27vc_605",Lpe="_cardMeta_o27vc_623",Dpe="_cardNotes_o27vc_635",Mpe="_emptyState_o27vc_659",Fpe="_sheetBackdrop_o27vc_675",Bpe="_sheet_o27vc_675",$pe="_sheetHandle_o27vc_717",Ope="_sheetBody_o27vc_733",Vpe="_sheetLabel_o27vc_749",Upe="_sheetActions_o27vc_785",zpe="_overlay_o27vc_797",Hpe="_drawer_o27vc_837",Gpe="_modal_o27vc_845",Wpe="_panelHeader_o27vc_853",qpe="_section_o27vc_867",Kpe="_tagRow_o27vc_899",Qpe="_historyList_o27vc_913",Xpe="_panelFooter_o27vc_943",Ype="_formOverlay_o27vc_955",Jpe="_formGrid_o27vc_1003",Zpe="_warning_o27vc_1015",eme="_pagination_o27vc_1033",_e={page:Khe,header:Qhe,headerStack:Xhe,kicker:Yhe,title:Jhe,headerActions:Zhe,primaryAction:epe,secondaryAction:tpe,infoStrip:spe,infoPill:npe,freshnessWrapper:rpe,freshnessBadge:ipe,popover:ape,popoverLabel:ope,filterToolbar:lpe,filterSheetButton:cpe,inlineFilters:dpe,searchInput:upe,select:hpe,chipGroup:ppe,chip:mpe,chipActive:fpe,levelRow:gpe,sortControls:xpe,sortLabel:vpe,directionButton:ype,listBody:bpe,tableWrapper:_pe,table:wpe,cardFooter:jpe,panel:Spe,formPanel:Npe,statusSelect:kpe,stickyColumn:Tpe,rowButton:Cpe,scanBadge:Epe,cardList:Ape,card:Ipe,cardHeader:Rpe,cardTitle:Ppe,cardMeta:Lpe,cardNotes:Dpe,emptyState:Mpe,sheetBackdrop:Fpe,sheet:Bpe,sheetHandle:$pe,sheetBody:Ope,sheetLabel:Vpe,sheetActions:Upe,overlay:zpe,drawer:Hpe,modal:Gpe,panelHeader:Wpe,section:qpe,tagRow:Kpe,historyList:Qpe,panelFooter:Xpe,formOverlay:Ype,formGrid:Jpe,warning:Zpe,pagination:eme},Bf=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],$f=["EU-01","EU-02","US-01","US-02","ASIA-01"],xb={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},PN={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},oy={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},tme=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:eo(2),updatedAt:eo(3),freshness:"f1",history:[{date:gr(1),message:"Interview abgeschlossen"},{date:gr(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:eo(10),updatedAt:eo(11),freshness:"f3",history:[{date:gr(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:eo(20),updatedAt:eo(5),freshness:"f4",history:[{date:gr(4),message:"Probe erfolgreich"},{date:gr(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:gr(2),updatedAt:gr(2),freshness:"f5",history:[{date:gr(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:gr(3),updatedAt:gr(1),freshness:"f6",history:[{date:gr(1),message:"Bewerbung zurueckgezogen"},{date:gr(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:eo(5),updatedAt:eo(5),freshness:"f2",history:[{date:gr(1),message:"Profil verifiziert"}]}];function LN(t){return{...t,lvMin:Math.max(1,t.lvMin),lvMax:Math.max(t.lvMin,Math.min(200,t.lvMax)),page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),classes:Array.from(new Set(t.classes)),servers:Array.from(new Set(t.servers))}}function sme(t,e,s){const r=s.toLowerCase();return t.filter(i=>{const a=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),l=e.status==="all"||i.status===e.status,d=e.classes.length===0||e.classes.includes(i.classRole),u=e.servers.length===0||e.servers.includes(i.server),h=i.level>=e.lvMin&&i.level<=e.lvMax;return a&&l&&d&&u&&h})}function nme(t,e,s){const r=[...t];return r.sort((i,a)=>{let l=0;switch(e){case"name":l=i.name.localeCompare(a.name);break;case"level":l=i.level-a.level;break;case"status":l=i.status.localeCompare(a.status);break;case"lastScan":l=new Date(i.lastScanAt).getTime()-new Date(a.lastScanAt).getTime();break;case"updatedAt":default:l=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break}return s==="asc"?l:-l}),r}function rme(t,e,s){const r=(e-1)*s;return t.slice(r,r+s)}function tf(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function ime(t){const e=Date.now()-new Date(t).getTime(),s=Math.round(e/6e4);if(s<60)return`${s} min`;const r=Math.round(s/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function ame(t){return t.length?t.reduce((e,s)=>e?PN[s.freshness]>PN[e.freshness]?s:e:s,null):null}function gr(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}function eo(t){const e=new Date;return e.setHours(e.getHours()-t),e.toISOString()}function ome(){var H;const[t,e]=Z.useState(tme),[s,r]=Z.useState(oy),[i,a]=Z.useState(oy),l=ld(s.q,300),d=Z.useMemo(()=>{const q=sme(t,s,l);return nme(q,s.sort,s.dir)},[t,s,l]),u=Z.useMemo(()=>rme(d,s.page,s.pageSize),[d,s.page,s.pageSize]),h=Math.max(1,Math.ceil(d.length/s.pageSize)),m=cd("(min-width: 768px)"),g=cd("(min-width: 1024px)"),[v,b]=Z.useState(!1),[S,C]=Z.useState(null),R=(H=t.find(q=>q.id===S))!=null?H:null,F=Z.useRef(null);dd(F,!!R&&!g);const[D,A]=Z.useState(null),[y,w]=Z.useState(!1),L=Z.useRef(null);dd(L,y);const N=Z.useMemo(()=>ame(t),[t]),j=N&&N.lastScanAt?ime(N.lastScanAt):"unbekannt",I=q=>{const K=LN(q);r(K),a(K)},M=(q,K)=>{const G=LN({...s,[q]:K,page:q==="page"?K:1});I(G)},P=()=>{I(i),b(!1)},O=()=>{I(oy),b(!1)},$=(q,K)=>{e(G=>G.map(te=>te.id===q?{...te,status:K,updatedAt:new Date().toISOString()}:te))},W=q=>{e(K=>K.some(te=>te.id===q.id)?K.map(te=>te.id===q.id?q:te):[q,...K]),w(!1)};return n.jsxs(Nt,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[n.jsxs("div",{className:_e.page,children:[n.jsxs("header",{className:_e.header,children:[n.jsxs("div",{className:_e.headerStack,children:[n.jsxs("div",{children:[n.jsx("p",{className:_e.kicker,children:"Recruiting"}),n.jsx("h1",{className:_e.title,children:"Waitlist"})]}),n.jsxs("div",{className:_e.headerActions,children:[n.jsx("button",{type:"button",className:_e.primaryAction,onClick:()=>{A(null),w(!0)},children:"Neuer Eintrag"}),!m&&n.jsx("button",{type:"button",className:_e.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>b(!0),children:"Filter"})]})]}),n.jsxs("div",{className:_e.infoStrip,children:[n.jsx(ly,{label:"Neu",value:d.filter(q=>q.status==="new").length}),n.jsx(ly,{label:"In Review",value:d.filter(q=>q.status==="in_review").length}),n.jsx(ly,{label:"Zugesagt",value:d.filter(q=>q.status==="accepted").length}),N&&n.jsx(lme,{label:xb[N.freshness],updatedAt:N.lastScanAt,countdown:j})]})]}),n.jsx("section",{className:_e.filterToolbar,children:m?n.jsx(cme,{filters:s,onChange:M,onToggleClass:q=>{const K=s.classes.includes(q)?s.classes.filter(G=>G!==q):[...s.classes,q];M("classes",K)},onToggleServer:q=>{const K=s.servers.includes(q)?s.servers.filter(G=>G!==q):[...s.servers,q];M("servers",K)}}):n.jsx("button",{type:"button",className:_e.filterSheetButton,onClick:()=>b(!0),children:"Filter & Sortierung"})}),n.jsx("section",{className:_e.listBody,children:m?n.jsx(dme,{items:u,sort:s.sort,dir:s.dir,onSortChange:q=>{const K=s.sort===q&&s.dir==="asc"?"desc":"asc";M("sort",q),M("dir",K)},onSelect:C,onStatusChange:$}):n.jsx(ume,{items:u,onSelect:C,onStatusChange:$})}),n.jsx(pme,{page:s.page,totalPages:h,onChange:q=>M("page",q)})]}),v&&n.jsx(hme,{filters:i,onChange:a,onToggleClass:q=>a(K=>({...K,classes:K.classes.includes(q)?K.classes.filter(G=>G!==q):[...K.classes,q]})),onToggleServer:q=>a(K=>({...K,servers:K.servers.includes(q)?K.servers.filter(G=>G!==q):[...K.servers,q]})),onClose:()=>b(!1),onApply:P,onReset:O}),R&&n.jsx(VE,{ref:F,item:R,mode:g?"drawer":"modal",onClose:()=>C(null),onEdit:()=>{A(R),w(!0),C(null)}}),y&&n.jsx(UE,{ref:L,item:D,entries:t,onClose:()=>w(!1),onSubmit:W})]})}function ly({label:t,value:e}){return n.jsxs("div",{className:_e.infoPill,children:[n.jsx("span",{children:t}),n.jsx("strong",{children:e})]})}function lme({label:t,updatedAt:e,countdown:s}){const[r,i]=Z.useState(!1);return n.jsxs("div",{className:_e.freshnessWrapper,children:[n.jsx("button",{type:"button",className:_e.freshnessBadge,onClick:()=>i(a=>!a),"aria-expanded":r,children:t}),r&&n.jsxs("div",{className:_e.popover,children:[n.jsxs("div",{children:[n.jsx("span",{className:_e.popoverLabel,children:"Letzter Scan"}),n.jsx("strong",{children:tf(e)})]}),n.jsxs("div",{children:[n.jsx("span",{className:_e.popoverLabel,children:"Aktualisiert"}),n.jsx("strong",{children:s})]})]})]})}function cme({filters:t,onChange:e,onToggleClass:s,onToggleServer:r}){return n.jsxs("div",{className:_e.inlineFilters,children:[n.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:_e.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>e("q",i.target.value)}),n.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:_e.select,value:t.status,onChange:i=>e("status",i.target.value),children:[n.jsx("option",{value:"all",children:"Status (alle)"}),n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),n.jsx("div",{className:_e.chipGroup,children:Bf.map(i=>{const a=t.classes.includes(i);return n.jsx("button",{type:"button",className:`${_e.chip} ${a?_e.chipActive:""}`,onClick:()=>s(i),children:i},i)})}),n.jsx("div",{className:_e.chipGroup,children:$f.map(i=>{const a=t.servers.includes(i);return n.jsx("button",{type:"button",className:`${_e.chip} ${a?_e.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),n.jsxs("div",{className:_e.levelRow,children:[n.jsxs("label",{children:["Lv min",n.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:t.lvMin,min:1,max:t.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),n.jsxs("label",{children:["Lv max",n.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:t.lvMax,min:t.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),n.jsxs("div",{className:_e.sortControls,children:[n.jsx("label",{className:_e.sortLabel,children:"Sortieren"}),n.jsxs("select",{value:t.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[n.jsx("option",{value:"name",children:"Name"}),n.jsx("option",{value:"level",children:"Level"}),n.jsx("option",{value:"status",children:"Status"}),n.jsx("option",{value:"lastScan",children:"Letzter Scan"}),n.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),n.jsx("button",{type:"button",className:_e.directionButton,onClick:()=>e("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"ASC":"DESC"})]})]})}function dme({items:t,sort:e,dir:s,onSortChange:r,onSelect:i,onStatusChange:a}){const l=d=>e===d?s==="asc"?" ":" ":"";return t.length?n.jsx("div",{className:_e.tableWrapper,children:n.jsxs("table",{className:_e.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsxs("th",{className:_e.stickyColumn,onClick:()=>r("name"),children:["Name",l("name")]}),n.jsx("th",{children:"Klasse"}),n.jsxs("th",{onClick:()=>r("level"),children:["Level",l("level")]}),n.jsx("th",{children:"Server"}),n.jsxs("th",{onClick:()=>r("status"),children:["Status",l("status")]}),n.jsx("th",{children:"Notizen"}),n.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",l("lastScan")]})]})}),n.jsx("tbody",{children:t.map(d=>n.jsxs("tr",{children:[n.jsx("td",{className:_e.stickyColumn,children:n.jsx("button",{type:"button",className:_e.rowButton,onClick:()=>i(d.id),children:d.name})}),n.jsx("td",{children:d.classRole}),n.jsx("td",{children:d.level}),n.jsx("td",{children:d.server}),n.jsx("td",{children:n.jsxs("select",{className:_e.statusSelect,name:`waitlistStatus-${d.id}`,"aria-label":`Status fuer ${d.name}`,value:d.status,onChange:u=>a(d.id,u.target.value),children:[n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),n.jsxs("td",{children:[d.notes.slice(0,64),"..."]}),n.jsx("td",{children:n.jsx("span",{className:_e.scanBadge,children:xb[d.freshness]})})]},d.id))})]})}):n.jsx(OE,{})}function ume({items:t,onSelect:e,onStatusChange:s}){return t.length?n.jsx("div",{className:_e.cardList,children:t.map(r=>n.jsxs("article",{className:_e.card,children:[n.jsxs("div",{className:_e.cardHeader,children:[n.jsxs("div",{children:[n.jsx("button",{type:"button",className:_e.cardTitle,onClick:()=>e(r.id),children:r.name}),n.jsxs("p",{className:_e.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),n.jsx("span",{className:_e.scanBadge,children:xb[r.freshness]})]}),n.jsxs("p",{className:_e.cardNotes,children:[r.notes.slice(0,160),"..."]}),n.jsxs("div",{className:_e.cardFooter,children:[n.jsxs("select",{className:_e.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>s(r.id,i.target.value),children:[n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):n.jsx(OE,{})}function OE(){return n.jsx("div",{className:_e.emptyState,children:n.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function hme({filters:t,onChange:e,onToggleClass:s,onToggleServer:r,onClose:i,onApply:a,onReset:l}){return n.jsx("div",{className:_e.sheetBackdrop,onClick:i,children:n.jsxs("div",{className:_e.sheet,onClick:d=>d.stopPropagation(),children:[n.jsx("div",{className:_e.sheetHandle}),n.jsxs("div",{className:_e.sheetBody,children:[n.jsx("h2",{children:"Filter"}),n.jsxs("label",{className:_e.sheetLabel,children:["Suche",n.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:t.q,onChange:d=>e(u=>({...u,q:d.target.value}))})]}),n.jsxs("label",{className:_e.sheetLabel,children:["Status",n.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:t.status,onChange:d=>e(u=>({...u,status:d.target.value})),children:[n.jsx("option",{value:"all",children:"Alle"}),n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),n.jsxs("div",{className:_e.sheetLabel,children:["Klassen",n.jsx("div",{className:_e.chipGroup,children:Bf.map(d=>{const u=t.classes.includes(d);return n.jsx("button",{type:"button",className:`${_e.chip} ${u?_e.chipActive:""}`,"aria-label":`Klasse ${d}`,onClick:()=>s(d),children:d},d)})})]}),n.jsxs("div",{className:_e.sheetLabel,children:["Server",n.jsx("div",{className:_e.chipGroup,children:$f.map(d=>{const u=t.servers.includes(d);return n.jsx("button",{type:"button",className:`${_e.chip} ${u?_e.chipActive:""}`,"aria-label":`Server ${d}`,onClick:()=>r(d),children:d},d)})})]}),n.jsxs("div",{className:_e.levelRow,children:[n.jsxs("label",{children:["Lv min",n.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:t.lvMin,onChange:d=>e(u=>({...u,lvMin:Number(d.target.value)}))})]}),n.jsxs("label",{children:["Lv max",n.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:t.lvMax,onChange:d=>e(u=>({...u,lvMax:Number(d.target.value)}))})]})]})]}),n.jsxs("div",{className:_e.sheetActions,children:[n.jsx("button",{type:"button",onClick:l,children:"Zuruecksetzen"}),n.jsx("button",{type:"button",className:_e.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const VE=Z.forwardRef(({item:t,mode:e,onClose:s,onEdit:r},i)=>n.jsx("div",{className:_e.overlay,children:n.jsxs("div",{ref:i,className:`${_e.panel} ${e==="drawer"?_e.drawer:_e.modal}`,children:[n.jsxs("header",{className:_e.panelHeader,children:[n.jsxs("div",{children:[n.jsxs("p",{className:_e.cardMeta,children:[t.classRole," - Lv ",t.level," - ",t.server]}),n.jsx("h2",{children:t.name})]}),n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:s,children:"Schliessen"})]}),n.jsxs("section",{className:_e.section,children:[n.jsx("h3",{children:"Kontakt"}),n.jsx("p",{children:t.contact}),n.jsxs("p",{children:["Quelle: ",t.source]})]}),n.jsxs("section",{className:_e.section,children:[n.jsx("h3",{children:"Notizen"}),n.jsx("p",{children:t.notes})]}),n.jsxs("section",{className:_e.section,children:[n.jsx("h3",{children:"Tags"}),n.jsx("div",{className:_e.tagRow,children:t.tags.length?t.tags.map(a=>n.jsx("span",{children:a},a)):n.jsx("span",{children:"Keine"})})]}),n.jsxs("section",{className:_e.section,children:[n.jsx("h3",{children:"Historie"}),n.jsx("ul",{className:_e.historyList,children:t.history.map(a=>n.jsxs("li",{children:[n.jsx("span",{children:tf(a.date)}),n.jsx("p",{children:a.message})]},`${a.date}-${a.message}`))})]}),n.jsxs("section",{className:_e.section,children:[n.jsx("h3",{children:"Scan-Infos"}),n.jsxs("p",{children:["Letzter Scan: ",tf(t.lastScanAt)]}),n.jsxs("p",{children:["Aktualisiert: ",tf(t.updatedAt)]})]}),n.jsxs("footer",{className:_e.panelFooter,children:[n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:r,children:"Bearbeiten"}),n.jsx("button",{type:"button",className:_e.primaryAction,onClick:s,children:"Schliessen"})]})]})}));VE.displayName="DetailPanel";const UE=Z.forwardRef(({item:t,entries:e,onClose:s,onSubmit:r},i)=>{const[a,l]=Z.useState(()=>t!=null?t:{id:`wl-${Date.now()}`,name:"",classRole:Bf[0],level:1,server:$f[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});Z.useEffect(()=>{t&&l(t)},[JSON.stringify(t)]);const d=h=>{h.preventDefault(),r({...a,updatedAt:new Date().toISOString()})},u=e.some(h=>h.id!==a.id&&h.name.toLowerCase()===a.name.toLowerCase()&&h.server===a.server);return n.jsx("div",{className:_e.formOverlay,children:n.jsxs("form",{ref:i,className:_e.formPanel,onSubmit:d,children:[n.jsxs("header",{className:_e.panelHeader,children:[n.jsxs("div",{children:[n.jsx("p",{className:_e.cardMeta,children:t?"Bearbeiten":"Neu"}),n.jsx("h2",{children:t?t.name:"Neuer Bewerber"})]}),n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:s,children:"Schliessen"})]}),u&&n.jsx("div",{className:_e.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),n.jsxs("label",{className:_e.sheetLabel,children:["Name",n.jsx("input",{name:"waitlistFormName",value:a.name,onChange:h=>l(m=>({...m,name:h.target.value}))})]}),n.jsxs("div",{className:_e.formGrid,children:[n.jsxs("label",{children:["Klasse",n.jsx("select",{name:"waitlistFormClass",value:a.classRole,onChange:h=>l(m=>({...m,classRole:h.target.value})),children:Bf.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("label",{children:["Level",n.jsx("input",{type:"number",name:"waitlistFormLevel",value:a.level,min:1,max:200,onChange:h=>l(m=>({...m,level:Number(h.target.value)}))})]}),n.jsxs("label",{children:["Server",n.jsx("select",{name:"waitlistFormServer",value:a.server,onChange:h=>l(m=>({...m,server:h.target.value})),children:$f.map(h=>n.jsx("option",{value:h,children:h},h))})]}),n.jsxs("label",{children:["Status",n.jsxs("select",{name:"waitlistFormStatus",value:a.status,onChange:h=>l(m=>({...m,status:h.target.value})),children:[n.jsx("option",{value:"new",children:"Neu"}),n.jsx("option",{value:"in_review",children:"In Review"}),n.jsx("option",{value:"accepted",children:"Zugesagt"}),n.jsx("option",{value:"declined",children:"Abgelehnt"}),n.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),n.jsxs("label",{className:_e.sheetLabel,children:["Kontakt",n.jsx("input",{name:"waitlistFormContact",value:a.contact,onChange:h=>l(m=>({...m,contact:h.target.value}))})]}),n.jsxs("label",{className:_e.sheetLabel,children:["Quelle",n.jsx("input",{name:"waitlistFormSource",value:a.source,onChange:h=>l(m=>({...m,source:h.target.value}))})]}),n.jsxs("label",{className:_e.sheetLabel,children:["Notizen",n.jsx("textarea",{name:"waitlistFormNotes",value:a.notes,onChange:h=>l(m=>({...m,notes:h.target.value})),rows:4})]}),n.jsxs("footer",{className:_e.panelFooter,children:[n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:s,children:"Abbrechen"}),n.jsx("button",{type:"submit",className:_e.primaryAction,children:"Speichern"})]})]})})});UE.displayName="WaitlistForm";function pme({page:t,totalPages:e,onChange:s}){return n.jsxs("div",{className:_e.pagination,children:[n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>s(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),n.jsxs("span",{children:["Seite ",t," / ",e]}),n.jsx("button",{type:"button",className:_e.secondaryAction,onClick:()=>s(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const mme=["tab","sub","sub2","q","sort","dir","page","pageSize"];function wd(t=[]){const[e,s]=Al(),r=Z.useMemo(()=>[...t].sort().join("|"),[t]),i=Z.useMemo(()=>{const m=new Set([...mme]);return t.forEach(g=>m.add(g)),Array.from(m)},[r]),a=Z.useMemo(()=>{const m={};return i.forEach(g=>{const v=e.get(g);v!==null&&(m[g]=v)}),m},[e,i]),l=Z.useCallback((m,g)=>{var b;const v=new URLSearchParams(e);Object.entries(m).forEach(([S,C])=>{C==null||C===""?v.delete(S):v.set(S,String(C))}),s(v,{replace:(b=g==null?void 0:g.replace)!=null?b:!1})},[e,s]),d=Z.useCallback(m=>{const g=new URLSearchParams(e);(m&&m.length>0?m:i).forEach(b=>g.delete(b)),s(g,{replace:!0})},[e,s,i]),u=Z.useCallback((m,g="")=>{var v;return(v=a[m])!=null?v:g},[a]),h=Z.useCallback((m,g=0)=>{const v=a[m],b=v?Number(v):NaN;return Number.isFinite(b)?b:g},[a]);return{params:a,getParam:u,getNumberParam:h,writeParams:l,resetParams:d}}function fme(){return wd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Activity"})})}function gme(){return wd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Imports"})})}function xme(){return wd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Announcements"})})}function vme(){return wd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Events"})})}function yme(){return wd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Roles"})})}function bme(){return wd(),n.jsx("section",{style:{padding:16},children:n.jsx("h1",{children:"Guild Hub - Settings"})})}const _me=[{icon:n.jsx(Qf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:n.jsx(r6,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:n.jsx(qP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],wme=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],jme=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function Sme(){return n.jsx(Nt,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Wt,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),n.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:n.jsx(Nme,{}),right:n.jsx(kme,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:_me.map(t=>n.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),n.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),n.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),n.jsx(Wt,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),n.jsx("ul",{className:"space-y-3",children:wme.map(t=>n.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[n.jsx(R0,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),n.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),n.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function Nme(){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),n.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[n.jsx(Wt,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),n.jsx(Wt,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),n.jsx(Wt,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),n.jsx(Wt,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),n.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[n.jsx("li",{children:" Pager rotation: Ops Team"}),n.jsx("li",{children:" Slack channel: #sf-alerts"}),n.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function kme(){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),n.jsx("ul",{className:"mt-3 space-y-2",children:jme.map(t=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),n.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),n.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),n.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),n.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const Tme=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function Cme(){return n.jsx(Nt,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:n.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[n.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[n.jsx("span",{children:"ID"}),n.jsx("span",{children:"Time"}),n.jsx("span",{children:"Service"}),n.jsx("span",{className:"text-right",children:"Severity"})]}),n.jsx("ul",{children:Tme.map(t=>n.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),n.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),n.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),n.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:Eme(t.severity)},children:t.severity})]},t.id))})]})})}function Eme(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const li={background:"#152A42",borderColor:"#2B4C73"},Oc={background:"#1A2F4A",borderColor:"#2B4C73"},cy=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function Ame(){const{data:t,loading:e,refreshing:s,error:r,refresh:i}=Lme(),a=Z.useMemo(()=>[{label:"Total uploads",value:Dr(t.metrics.totalUploads),hint:`${Dr(t.metrics.last24h)} in the last 24h`,icon:n.jsx(mP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:vh(t.metrics.successRate),hint:`${Dr(t.metrics.failed)} failed`,icon:n.jsx(sP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?dy(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${dy(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:n.jsx(hP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:DN(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:n.jsx(vP,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:Dr(t.metrics.uniqueUploaders),hint:`${Dr(t.metrics.uniqueGuilds)} guilds represented`,icon:n.jsx(Qf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:Dr(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:n.jsx(Uk,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return n.jsx(Nt,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:n.jsx(Ime,{breakdown:t.statusBreakdown,onRefresh:i,loading:e,refreshing:s}),right:n.jsx(Rme,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:a.map(l=>n.jsxs("article",{className:"rounded-2xl border p-4",style:li,children:[n.jsx("div",{className:"flex items-start justify-between gap-4",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[l.icon,l.label]}),n.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:l.value})]})}),n.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:l.hint})]},l.label))}),n.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[n.jsxs("article",{className:"rounded-2xl border p-4",style:li,children:[n.jsx("header",{className:"flex items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),n.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(l=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Oc,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Vc(l.status)},"aria-hidden":"true"}),vb(l.status)]}),n.jsx("span",{className:"font-semibold",children:Dr(l.count)})]}),n.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:n.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(l.share*100,100).toFixed(1)}%`,backgroundColor:Vc(l.status)}})}),n.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[vh(l.share)," of window"]})]},l.status))})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:li,children:[n.jsx("header",{className:"flex items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),n.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(l=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Oc,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsx("span",{className:"font-semibold",children:l.hourLabel}),n.jsxs("span",{children:[Dr(l.total)," uploads"]})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Vc("success")},"aria-hidden":"true"}),"Success ",Dr(l.success)]}),n.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[n.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Vc("failed")},"aria-hidden":"true"}),"Failed ",Dr(l.failed)]})]})]},l.hourLabel))})]})]}),n.jsxs("section",{className:"rounded-2xl border",style:li,children:[n.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),n.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(ho,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?n.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[n.jsx(R0,{className:"h-3.5 w-3.5"}),r]}):n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx(KR,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),n.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[n.jsx("span",{children:"ID"}),n.jsx("span",{children:"Status"}),n.jsx("span",{children:"Uploader"}),n.jsx("span",{children:"Guild"}),n.jsx("span",{className:"text-right",children:"Processing"}),n.jsx("span",{className:"text-right",children:"File size"})]}),n.jsx("ul",{children:t.recentUploads.map(l=>{var d,u,h,m;return n.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[n.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:l.id}),n.jsx("span",{children:n.jsx(Pme,{status:l.status})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(u=(d=l.uploaderName)!=null?d:l.uploaderId)!=null?u:""}),n.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:l.uploadedAt?l.uploadedAt.toLocaleString():"Timestamp missing"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(m=(h=l.guildName)!=null?h:l.guildId)!=null?m:""}),n.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:l.errorCode?`Issue: ${l.errorCode}`:"Healthy"})]}),n.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:l.processingMs?dy(l.processingMs):"Pending"}),n.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:l.fileSizeBytes?DN(l.fileSizeBytes):""})]},l.id)})})]})]})})}function Ime({breakdown:t,onRefresh:e,loading:s,refreshing:r}){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("div",{className:"rounded-2xl border p-4",style:li,children:[n.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[n.jsx("span",{children:"Controls"}),n.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[n.jsx(Kf,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),n.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),n.jsxs("div",{className:"rounded-2xl border p-4",style:li,children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(i=>n.jsxs("li",{className:"flex items-center justify-between gap-2",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Vc(i.status)},"aria-hidden":"true"}),vb(i.status)]}),n.jsx("span",{children:vh(i.share)})]},i.status))}),s&&n.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[n.jsx(ho,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),n.jsxs("div",{className:"rounded-2xl border p-4",style:li,children:[n.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),n.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx($m,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx($m,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx($m,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function Rme({issues:t,failures:e,uploaders:s,guilds:r}){return n.jsxs("div",{className:"space-y-4 text-sm",children:[n.jsxs("article",{className:"rounded-2xl border p-4",style:li,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(Uk,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),n.jsx("span",{children:"Top failure signatures"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?n.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(i=>n.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Oc,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsx("span",{children:i.code}),n.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),n.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:li,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(R0,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),n.jsx("span",{children:"Latest failed uploads"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?n.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var a;return n.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Oc,children:[n.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[n.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),n.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),n.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(a=i.errorCode)!=null?a:"No error code provided"})]},i.id)})})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:li,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(Qf,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Uploader leaderboard"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:s.map(i=>n.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Oc,children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),n.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",vh(i.successRate)]})]}),n.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Dr(i.count)})]},i.id))})]}),n.jsxs("article",{className:"rounded-2xl border p-4",style:li,children:[n.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[n.jsx(_P,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),n.jsx("span",{children:"Guild spotlight"})]}),n.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>n.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Oc,children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),n.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",vh(i.successRate)]})]}),n.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:Dr(i.count)})]},i.id))})]})]})}function Pme({status:t}){const e=Vc(t);return n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[n.jsx($m,{className:"h-3 w-3","aria-hidden":"true"}),vb(t)]})}function Lme(){const[t,e]=Z.useState(cy),[s,r]=Z.useState(!0),[i,a]=Z.useState(!1),[l,d]=Z.useState(null),u=Z.useCallback(async(m=!1)=>{m?a(!0):r(!0);try{const g=yd(Ct,"scanUploads"),v=$n(g,co("uploadedAt","desc"),On(100)),S=(await pn(v)).docs.map(C=>Dme(C.id,C.data()));S.length>0?(e(S),d(null)):(e(cy),d("No uploads in window  showing fallback snapshot"))}catch(g){console.error("[ScansUploaded] Failed to load Firestore data",g),d("Live data unavailable  fallback snapshot active"),e(cy)}finally{m?a(!1):r(!1)}},[]);Z.useEffect(()=>{u(!1)},[u]);const h=Z.useMemo(()=>Fme(t),[t]);return{loading:s,refreshing:i,error:l,data:h,refresh:Z.useCallback(()=>u(!0),[u])}}function Dme(t,e){const s=Mme(e.status);return{id:t,status:s,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof js?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function Mme(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function Fme(t){var I,M;const e=new Map,s=new Map,r=new Map,i=new Map,a=[];let l=0,d=0;const h=Date.now()-1440*60*1e3,m=new Map;t.forEach(P=>{var H,q,K,G,te,ne,U,J,ce,ee,fe,Ce,ge,ke,Se,ue,De;const O=(H=e.get(P.status))!=null?H:0;if(e.set(P.status,O+1),P.uploadedAt&&P.uploadedAt.getTime()>=h&&(d+=1),P.processingMs!=null&&a.push(P.processingMs),P.fileSizeBytes!=null&&(l+=P.fileSizeBytes),P.status==="failed"&&P.errorCode){const Ee=(q=s.get(P.errorCode))!=null?q:{count:0,lastSeen:null};s.set(P.errorCode,{count:Ee.count+1,lastSeen:!Ee.lastSeen||P.uploadedAt&&Ee.lastSeen<P.uploadedAt?P.uploadedAt:Ee.lastSeen})}const $=(G=(K=P.uploaderId)!=null?K:P.uploaderName)!=null?G:`anon-${P.id}`,W=(U=r.get($))!=null?U:{name:(ne=(te=P.uploaderName)!=null?te:P.uploaderId)!=null?ne:"Unknown",success:0,total:0};if(r.set($,{name:(ce=(J=P.uploaderName)!=null?J:P.uploaderId)!=null?ce:"Unknown",success:W.success+(P.status==="success"?1:0),total:W.total+1}),P.guildId||P.guildName){const Ee=(fe=(ee=P.guildId)!=null?ee:P.guildName)!=null?fe:`guild-${P.id}`,tt=(ke=i.get(Ee))!=null?ke:{name:(ge=(Ce=P.guildName)!=null?Ce:P.guildId)!=null?ge:"Unknown",success:0,total:0};i.set(Ee,{name:(ue=(Se=P.guildName)!=null?Se:P.guildId)!=null?ue:"Unknown",success:tt.success+(P.status==="success"?1:0),total:tt.total+1})}if(P.uploadedAt){const Ee=new Date(P.uploadedAt);Ee.setMinutes(0,0,0);const tt=Ee.toISOString(),pt=(De=m.get(tt))!=null?De:{hourLabel:$me(Ee),timestamp:Ee,total:0,success:0,failed:0};m.set(tt,{hourLabel:pt.hourLabel,timestamp:pt.timestamp,total:pt.total+1,success:pt.success+(P.status==="success"?1:0),failed:pt.failed+(P.status==="failed"?1:0)})}});const g=t.length,v=(I=e.get("success"))!=null?I:0,b=(M=e.get("failed"))!=null?M:0,S=a.length?a.reduce((P,O)=>P+O,0)/a.length:null,C=a.length?Bme(a,95):null,R=r.size,F=i.size,D=Array.from(e.entries()).map(([P,O])=>({status:P,count:O,share:g?O/g:0})).sort((P,O)=>O.count-P.count),A=Array.from(m.values()).sort((P,O)=>O.timestamp.getTime()-P.timestamp.getTime()).slice(0,12),y=Array.from(s.entries()).map(([P,O])=>({code:P,...O})).sort((P,O)=>O.count-P.count).slice(0,6),w=[...t].sort((P,O)=>{var $,W,H,q;return((W=($=O.uploadedAt)==null?void 0:$.getTime())!=null?W:0)-((q=(H=P.uploadedAt)==null?void 0:H.getTime())!=null?q:0)}).slice(0,12),L=t.filter(P=>P.status==="failed").sort((P,O)=>{var $,W,H,q;return((W=($=O.uploadedAt)==null?void 0:$.getTime())!=null?W:0)-((q=(H=P.uploadedAt)==null?void 0:H.getTime())!=null?q:0)}),N=Array.from(r.entries()).map(([P,O])=>({id:P,name:O.name,count:O.total,successRate:O.total?O.success/O.total:0})).sort((P,O)=>O.count-P.count).slice(0,5),j=Array.from(i.entries()).map(([P,O])=>({id:P,name:O.name,count:O.total,successRate:O.total?O.success/O.total:0})).sort((P,O)=>O.count-P.count).slice(0,5);return{metrics:{totalUploads:g,last24h:d,successRate:g?v/g:0,failed:b,avgProcessingMs:S,p95ProcessingMs:C,uniqueUploaders:R,uniqueGuilds:F,totalFileSizeBytes:l},statusBreakdown:D,timeline:A,issues:y,recentFailures:L,recentUploads:w,topUploaders:N,topGuilds:j}}function Bme(t,e){const s=[...t].sort((d,u)=>d-u);if(s.length===0)return 0;const r=e/100*(s.length-1),i=Math.floor(r),a=Math.ceil(r);if(i===a)return s[i];const l=r-i;return s[i]*(1-l)+s[a]*l}function Dr(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function vh(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function dy(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function DN(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let s=t,r=0;for(;s>=1024&&r<e.length-1;)s/=1024,r+=1;return`${s.toFixed(s>=10?0:1)} ${e[r]}`}function Vc(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function vb(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function $me(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function uy({label:t,value:e,hint:s}){return n.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t}),n.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),s&&n.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:s})]})}function Ome(){var d,u,h,m,g,v;const{snapshot:t,error:e,loading:s,refresh:r}=CE(),i=(d=t==null?void 0:t.warnings)!=null?d:[],a=(h=(u=t==null?void 0:t.data)==null?void 0:u.length)!=null?h:0,l=(m=t==null?void 0:t.stats)!=null?m:{};return n.jsx(Nt,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:s,children:s?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[n.jsx(uy,{label:"Last successful sync",value:t!=null&&t.generatedAt?new Date(t.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),n.jsx(uy,{label:"Creators tracked",value:a?a.toString():"0"}),n.jsx(uy,{label:"API lookups",value:`${(g=l.youtubeLookups)!=null?g:0}  ${(v=l.twitchLookups)!=null?v:0}`,hint:"YouTube  Twitch"})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsxs("header",{className:"mb-3",children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?n.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):n.jsx("ul",{className:"space-y-2",children:i.map((b,S)=>n.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[n.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[b.creator,"  ",b.scope]}),n.jsx("div",{className:"text-xs text-[#B0C4D9]",children:b.message}),b.source&&n.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:b.source})]},`${b.scope}-${S}`))})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[n.jsxs("header",{className:"mb-3",children:[n.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),n.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),n.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[n.jsxs("li",{children:["Add the following environment variables (e.g. in ",n.jsx("code",{children:".env.local"}),"):",n.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),n.jsxs("li",{children:["Execute the sync script:",n.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),n.jsxs("li",{children:["Commit/deploy the generated ",n.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&n.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}const Ig=`${jo}/admin/users`,Vme=25,yb=()=>{if(!Ig)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},MN=t=>typeof t!="number"?null:js.fromMillis(t),bb=t=>{var e;return{id:t.id,userId:t.userId,displayName:t.displayName,avatarUrl:t.avatarUrl,primaryProvider:(e=t.primaryProvider)!=null?e:"discord",roles:t.roles,providers:t.providers,profile:t.profile,createdAt:MN(t.createdAt),lastLoginAt:MN(t.lastLoginAt),status:t.status,notes:t.notes}},Ume=t=>{var r;const e=new URLSearchParams;e.set("pageSize",String((r=t.pageSize)!=null?r:Vme)),t.cursor&&e.set("cursor",t.cursor),t.role&&e.set("role",t.role),t.status&&e.set("status",t.status),t.provider&&e.set("provider",t.provider),t.search&&e.set("search",t.search);const s=e.toString();return s?`?${s}`:""},_b=async t=>{let e=`Request failed (${t.status})`;try{const s=await t.json();s!=null&&s.error&&(e=s.error)}catch(s){}return new Error(e)};async function FN(t={}){var r;yb();const e=Ume(t),s=`${Ig}${e}`;try{const i=await fetch(s,{credentials:"include"});if(!i.ok)throw await _b(i);const a=await i.json();return{users:a.users.map(bb),nextPageCursor:(r=a.nextPageCursor)!=null?r:null}}catch(i){throw console.error("[AdminUsers] listAdminUsers failed",i),i instanceof Error?i:new Error("Failed to load admin users")}}async function zme(t){yb();const e=await fetch(`${Ig}/${encodeURIComponent(t)}`,{credentials:"include"});if(!e.ok)throw await _b(e);const s=await e.json();return bb(s.user)}async function Hme(t,e){yb();const s=await fetch(`${Ig}/${encodeURIComponent(t)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw await _b(s);const r=await s.json();return bb(r.user)}const zE=`${jo}/admin/audit-events`,Gme=50,Wme=()=>{if(!zE)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},qme=t=>typeof t!="number"?null:js.fromMillis(t),Kme=t=>{var e,s;return{id:t.id,createdAt:qme(t.createdAt),actorUserId:t.actorUserId,actorDisplayName:(e=t.actorDisplayName)!=null?e:null,targetUserId:t.targetUserId,action:t.action,summary:t.summary,changes:(s=t.changes)!=null?s:{},context:t.context}},Qme=t=>{var r;const e=new URLSearchParams;e.set("limit",String((r=t.limit)!=null?r:Gme)),t.cursor&&e.set("cursor",t.cursor),t.actorUserId&&e.set("actorUserId",t.actorUserId),t.targetUserId&&e.set("targetUserId",t.targetUserId),t.action&&e.set("action",t.action);const s=e.toString();return s?`?${s}`:""},Xme=async t=>{let e=`Request failed (${t.status})`;try{const s=await t.json();s!=null&&s.error&&(e=s.error)}catch(s){}return new Error(e)};async function g0(t={}){var i;Wme();const e=`${zE}${Qme(t)}`,s=await fetch(e,{credentials:"include"});if(!s.ok)throw await Xme(s);const r=await s.json();return{events:r.events.map(Kme),nextPageCursor:(i=r.nextPageCursor)!=null?i:null}}async function Yme(t,e=10){return g0({targetUserId:t,limit:e})}const Jme=20,Zme=50,Ku={borderColor:"#2B4C73",background:"#152A42"},HE={background:"#1A2F4A"};function efe(){var d;const{status:t,user:e}=Ll(),s=(d=e==null?void 0:e.roles)!=null?d:[],r=s.includes("admin"),i=r||s.includes("mod"),[a,l]=E.useState("users");return t==="loading"||t==="idle"?n.jsx(Nt,{title:"Admin Users",subtitle:"Checking permissions",centerFramed:!0,mode:"page",children:n.jsxs("div",{className:"flex h-full items-center justify-center text-[#B0C4D9]",children:[n.jsx(ho,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating session..."]})}):i?n.jsx(Nt,{title:"Admin user management",subtitle:"Moderate accounts, roles, and audit events",centerFramed:!0,mode:"page",actions:n.jsxs("div",{className:"flex items-center rounded-full border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:[n.jsx(Il,{className:"mr-2 h-3.5 w-3.5 text-[#5C8BC6]"}),r?"Admin":"Moderator"," access"]}),stickyTopbar:!0,subheader:n.jsx(tfe,{activeTab:a,onChange:l}),children:a==="users"?n.jsx(sfe,{isAdmin:r}):n.jsx(nfe,{isAdmin:r,onSelectUser:u=>{l("users"),typeof window!="undefined"&&window.dispatchEvent(new CustomEvent("sf-admin-open-user",{detail:{userId:u}}))}})}):n.jsx(Nt,{title:"Admin Users",subtitle:"Control panel access",centerFramed:!0,mode:"page",children:n.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#B0C4D9]",children:[n.jsx(t6,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),n.jsx("p",{className:"text-base font-semibold text-white",children:"Access restricted"}),n.jsxs("p",{children:["You need at least the ",n.jsx("strong",{children:"mod"})," role to view this section."]})]})})}function tfe({activeTab:t,onChange:e}){const s=[{key:"users",label:"Users",icon:n.jsx(Qf,{className:"h-4 w-4"})},{key:"audit",label:"Audit Log",icon:n.jsx(HP,{className:"h-4 w-4"})}];return n.jsx("div",{className:"flex gap-2",children:s.map(r=>n.jsxs("button",{type:"button",onClick:()=>e(r.key),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs transition ${t===r.key?"bg-[#1F3A59] text-white":"text-[#B0C4D9]"}`,style:{borderColor:"#2B4C73"},"aria-pressed":t===r.key,children:[r.icon,r.label]},r.key))})}function sfe({isAdmin:t}){const[e,s]=E.useState({role:"all",status:"all",provider:"all",search:""}),[r,i]=E.useState(""),a=v0(r,350);E.useEffect(()=>{s(ue=>ue.search===a?ue:{...ue,search:a})},[a]);const[l,d]=E.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[u,h]=E.useState(0),m=E.useMemo(()=>({pageSize:Jme,role:e.role==="all"?void 0:e.role,status:e.status==="all"?void 0:e.status,provider:e.provider==="all"?void 0:e.provider,search:e.search}),[e]);E.useEffect(()=>{let ue=!1;return d(De=>({...De,loading:!0,error:null})),FN(m).then(De=>{ue||d({items:De.users,cursor:De.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(De=>{ue||d(Ee=>({...Ee,loading:!1,loadingMore:!1,error:De instanceof Error?De.message:"Failed to load users"}))}),()=>{ue=!0}},[m,u]);const g=()=>h(ue=>ue+1),v=async()=>{if(l.cursor){d(ue=>({...ue,loadingMore:!0,error:null}));try{const ue=await FN({...m,cursor:l.cursor});d(De=>({items:[...De.items,...ue.users],cursor:ue.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(ue){d(De=>{var Ee;return{...De,loadingMore:!1,error:(Ee=ue==null?void 0:ue.message)!=null?Ee:"Failed to load additional users"}})}}},[b,S]=E.useState(null),[C,R]=E.useState(null),[F,D]=E.useState(!1),[A,y]=E.useState(null),[w,L]=E.useState(""),[N,j]=E.useState(!1),[I,M]=E.useState(null),[P,O]=E.useState(!1),[$,W]=E.useState(!1),[H,q]=E.useState([]),[K,G]=E.useState(!1),[te,ne]=E.useState(null),U=E.useRef(null);E.useEffect(()=>{U.current=b},[b]);const J=E.useRef(!1);E.useEffect(()=>{J.current=N},[N]);const ce=E.useCallback(async ue=>{var De;G(!0),ne(null);try{const Ee=await Yme(ue,12);U.current===ue&&q(Ee.events)}catch(Ee){U.current===ue&&ne((De=Ee==null?void 0:Ee.message)!=null?De:"Failed to load audit history")}finally{U.current===ue&&G(!1)}},[]);E.useEffect(()=>{var tt;if(!b){R(null),L(""),j(!1),q([]),ne(null),W(!1);return}const ue=b,De=l.items.find(pt=>pt.id===ue);De?(R(De),L((tt=De.notes)!=null?tt:"")):(R(null),L("")),j(!1),D(!0),y(null);let Ee=!1;return zme(ue).then(pt=>{var Ht;Ee||U.current!==ue||(R(pt),L((Ht=pt.notes)!=null?Ht:""),j(!1),D(!1))}).catch(pt=>{var Ht;Ee||U.current!==ue||(D(!1),y((Ht=pt==null?void 0:pt.message)!=null?Ht:"Failed to load user"))}),ce(ue),()=>{Ee=!0}},[b,l.items,ce]),E.useEffect(()=>{var De;if(!b)return;const ue=l.items.find(Ee=>Ee.id===b);ue&&(R(Ee=>Ee&&Ee.id===ue.id?{...Ee,...ue}:ue),J.current||L((De=ue.notes)!=null?De:""))},[l.items,b]);const ee=E.useCallback(ue=>{d(De=>({...De,items:De.items.map(Ee=>Ee.id===ue.id?ue:Ee)}))},[]),fe=E.useCallback(async ue=>{var De,Ee;if(C){O(!0),M(null);try{const tt=await Hme(C.id,ue);R(tt),ee(tt),"notes"in ue&&(j(!1),L((De=tt.notes)!=null?De:"")),await ce(tt.id)}catch(tt){M((Ee=tt==null?void 0:tt.message)!=null?Ee:"Failed to update user")}finally{O(!1)}}},[C,ce,ee]),Ce=ue=>{if(!C||!t||ue==="user")return;const De=new Set(C.roles);De.has(ue)?De.delete(ue):De.add(ue),De.add("user"),fe({roles:Array.from(De)})},ge=ue=>{!C||!t||x0(C.status)===ue||ue==="banned"&&!window.confirm(`Ban ${Qu(C)}? They will lose access to the control panel.`)||fe({status:ue})},ke=ue=>{L(ue),j(!0)},Se=()=>{!C||!t||!N||fe({notes:w.trim().length?w:null})};return E.useEffect(()=>{if(typeof window=="undefined")return;const ue=De=>{const Ee=De.detail;Ee!=null&&Ee.userId&&S(Ee.userId)};return window.addEventListener("sf-admin-open-user",ue),()=>{window.removeEventListener("sf-admin-open-user",ue)}},[]),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:Ku,children:[n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[n.jsx(ky,{className:"h-4 w-4 text-[#5C8BC6]"}),n.jsx("input",{type:"text",placeholder:"Search user id or name",value:r,onChange:ue=>i(ue.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),n.jsx(sf,{label:"Role",value:e.role,onChange:ue=>s(De=>({...De,role:ue})),options:[{value:"all",label:"All"},{value:"admin",label:"Admin"},{value:"mod",label:"Mod"},{value:"creator",label:"Creator"},{value:"user",label:"User"}]}),n.jsx(sf,{label:"Status",value:e.status,onChange:ue=>s(De=>({...De,status:ue})),options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"banned",label:"Banned"}]}),n.jsx(sf,{label:"Provider",value:e.provider,onChange:ue=>s(De=>({...De,provider:ue})),options:[{value:"all",label:"All"},{value:"discord",label:"Discord"},{value:"google",label:"Google"}]}),n.jsx("div",{className:"ml-auto flex items-center gap-2",children:n.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[n.jsx(Kf,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),n.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]",children:[n.jsxs("div",{className:"rounded-2xl border",style:Ku,children:[n.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[n.jsxs("span",{className:"text-[#B0C4D9]",children:[l.items.length," users ",e.search?"filtered":""]}),l.loading&&n.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[n.jsx(ho,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[n.jsx("thead",{style:HE,children:n.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[n.jsx("th",{className:"px-4 py-2",children:"User ID"}),n.jsx("th",{className:"px-4 py-2",children:"Display name"}),n.jsx("th",{className:"px-4 py-2",children:"Role"}),n.jsx("th",{className:"px-4 py-2",children:"Status"}),n.jsx("th",{className:"px-4 py-2",children:"Providers"}),n.jsx("th",{className:"px-4 py-2",children:"Created"}),n.jsx("th",{className:"px-4 py-2",children:"Last login"})]})}),n.jsx("tbody",{children:l.items.map(ue=>{var Ee,tt,pt;const De=ue.id===b;return n.jsxs("tr",{onClick:()=>S(ue.id),className:`cursor-pointer border-t text-xs transition hover:bg-[#1F3652] ${De?"bg-[#1F3652]":""}`,style:{borderColor:"#203650"},children:[n.jsx("td",{className:"px-4 py-2 font-mono text-[#8AA5C4]",children:ue.userId}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(WE,{url:QE(ue),name:Qu(ue)}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",children:Qu(ue)}),(Ee=ue.profile)!=null&&Ee.displayName&&ue.profile.displayName!==ue.displayName?n.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:ue.profile.displayName}):null]})]})}),n.jsx("td",{className:"px-4 py-2",children:n.jsx(qE,{role:KE(ue.roles)})}),n.jsx("td",{className:"px-4 py-2",children:n.jsx(ife,{status:x0(ue.status)})}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(Of,{provider:"discord",active:!!((tt=ue.providers)!=null&&tt.discord)}),n.jsx(Of,{provider:"google",active:!!((pt=ue.providers)!=null&&pt.google)})]})}),n.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:qc(ue.createdAt)}),n.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:qc(ue.lastLoginAt)})]},ue.id)})})]}),!l.loading&&!l.items.length&&n.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No users match these filters."})]}),l.error&&n.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[n.jsx(Lu,{className:"h-3.5 w-3.5"}),l.error]}),n.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[n.jsx("span",{className:"text-[#8AA5C4]",children:l.cursor?"More users available":"End of list"}),n.jsx("button",{type:"button",onClick:v,disabled:!l.cursor||l.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:l.loadingMore?"Loading...":"Load more"})]})]}),n.jsx("aside",{className:"rounded-2xl border p-3",style:Ku,children:C?n.jsx(rfe,{user:C,isAdmin:t,detailLoading:F,detailError:A,notesValue:w,notesDirty:N,onNotesChange:ke,onNotesSave:Se,onRoleToggle:Ce,onStatusChange:ge,actionError:I,actionPending:P,auditEntries:H,auditLoading:K,auditError:te,onRefreshAudit:()=>C&&ce(C.id),showRawJson:$,toggleRawJson:()=>W(ue=>!ue)}):n.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#8AA5C4]",children:[n.jsx(dP,{className:"h-10 w-10 text-[#5C8BC6]"}),"Select a user to see details."]})})]})]})}function nfe({isAdmin:t,onSelectUser:e}){const[s,r]=E.useState({actor:"",target:"",action:"all"}),[i,a]=E.useState(""),[l,d]=E.useState(""),u=v0(i,350),h=v0(l,350);E.useEffect(()=>{r(F=>F.actor===u&&F.target===h?F:{...F,actor:u,target:h})},[u,h]);const[m,g]=E.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[v,b]=E.useState(0),S=E.useMemo(()=>{const F=s.action==="all"?void 0:s.action,D=s.actor.includes(":")?s.actor:void 0,A=s.target.includes(":")?s.target:void 0;return{limit:Zme,action:F,actorUserId:D,targetUserId:A}},[s]);E.useEffect(()=>{let F=!1;return g(D=>({...D,loading:!0,error:null})),g0(S).then(D=>{F||g({items:D.events,cursor:D.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(D=>{F||g(A=>{var y;return{...A,loading:!1,loadingMore:!1,error:(y=D==null?void 0:D.message)!=null?y:"Failed to load audit log"}})}),()=>{F=!0}},[S,v]);const C=async()=>{if(m.cursor){g(F=>({...F,loadingMore:!0,error:null}));try{const F=await g0({...S,cursor:m.cursor});g(D=>({items:[...D.items,...F.events],cursor:F.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(F){g(D=>{var A;return{...D,loadingMore:!1,error:(A=F==null?void 0:F.message)!=null?A:"Failed to load more events"}})}}},R=E.useMemo(()=>{const F=s.actor.trim().toLowerCase(),D=s.target.trim().toLowerCase();return m.items.filter(A=>{var L;const y=!F||A.actorUserId.toLowerCase().includes(F)||((L=A.actorDisplayName)!=null?L:"").toLowerCase().includes(F),w=!D||A.targetUserId.toLowerCase().includes(D);return y&&w})},[m.items,s.actor,s.target]);return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:Ku,children:[n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[n.jsx(ky,{className:"h-4 w-4 text-[#5C8BC6]"}),n.jsx("input",{type:"text",placeholder:"Actor (id or name)",value:i,onChange:F=>a(F.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[n.jsx(ky,{className:"h-4 w-4 text-[#5C8BC6]"}),n.jsx("input",{type:"text",placeholder:"Target user id",value:l,onChange:F=>d(F.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),n.jsx(sf,{label:"Action",value:s.action,onChange:F=>r(D=>({...D,action:F})),options:[{value:"all",label:"All"},{value:"user.role.update",label:"Role update"},{value:"user.status.update",label:"Status update"},{value:"user.notes.update",label:"Notes update"}]}),n.jsx("div",{className:"ml-auto flex items-center gap-2",children:n.jsxs("button",{type:"button",onClick:()=>b(F=>F+1),className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[n.jsx(Kf,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),n.jsxs("div",{className:"rounded-2xl border",style:Ku,children:[n.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[n.jsxs("span",{className:"text-[#8AA5C4]",children:[R.length," events"]}),m.loading&&n.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[n.jsx(ho,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[n.jsx("thead",{style:HE,children:n.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[n.jsx("th",{className:"px-4 py-2",children:"Time"}),n.jsx("th",{className:"px-4 py-2",children:"Actor"}),n.jsx("th",{className:"px-4 py-2",children:"Target User"}),n.jsx("th",{className:"px-4 py-2",children:"Action"}),n.jsx("th",{className:"px-4 py-2",children:"Summary"})]})}),n.jsx("tbody",{children:R.map(F=>{var D;return n.jsxs("tr",{className:"border-t text-xs text-[#E4ECF5]",style:{borderColor:"#203650"},children:[n.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:qc(F.createdAt)}),n.jsxs("td",{className:"px-4 py-2",children:[n.jsx("div",{className:"text-white",children:(D=F.actorDisplayName)!=null?D:"N/A"}),n.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:F.actorUserId})]}),n.jsx("td",{className:"px-4 py-2",children:n.jsx("button",{type:"button",className:"text-left font-mono text-[#5C8BC6] underline-offset-2 hover:underline",onClick:()=>e(F.targetUserId),children:F.targetUserId})}),n.jsx("td",{className:"px-4 py-2",children:n.jsx(GE,{action:F.action})}),n.jsx("td",{className:"px-4 py-2 text-[#C8D6EC]",children:F.summary})]},F.id)})})]}),!R.length&&!m.loading&&n.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No audit events match these filters."})]}),m.error&&n.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[n.jsx(Lu,{className:"h-3.5 w-3.5"}),m.error]}),n.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[n.jsx("span",{className:"text-[#8AA5C4]",children:m.cursor?"More events available":"End of audit log"}),n.jsx("button",{type:"button",onClick:C,disabled:!m.cursor||m.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:m.loadingMore?"Loading...":"Load more"})]})]}),!t&&n.jsx("div",{className:"rounded-2xl border px-4 py-3 text-xs text-[#8AA5C4]",style:{borderColor:"#2B4C73"},children:"You are viewing the audit log in read-only mode."})]})}function rfe({user:t,isAdmin:e,detailLoading:s,detailError:r,notesValue:i,notesDirty:a,onNotesChange:l,onNotesSave:d,onRoleToggle:u,onStatusChange:h,actionError:m,actionPending:g,auditEntries:v,auditLoading:b,auditError:S,onRefreshAudit:C,showRawJson:R,toggleRawJson:F}){var A,y;const D=KE(t.roles);return n.jsxs("div",{className:"space-y-4 text-xs text-[#E4ECF5]",children:[s&&n.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border px-3 py-2",style:{borderColor:"#2B4C73"},children:[n.jsx(ho,{className:"h-3 w-3 animate-spin"}),"Loading user..."]}),r&&n.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-[#F9A825] bg-[#3A2B0F] px-3 py-2 text-[#FFD55F]",children:[n.jsx(Lu,{className:"h-3.5 w-3.5"}),r]}),n.jsx("div",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(WE,{url:QE(t),name:Qu(t),size:56}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"truncate text-base text-white",children:Qu(t)}),n.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:t.userId}),n.jsxs("div",{className:"mt-1 flex gap-1",children:[n.jsx(qE,{role:D}),n.jsx(Of,{provider:"discord",active:!!((A=t.providers)!=null&&A.discord)}),n.jsx(Of,{provider:"google",active:!!((y=t.providers)!=null&&y.google)})]})]})]})}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[n.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Roles"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["admin","mod","creator","user"].map(w=>n.jsx("button",{type:"button",onClick:()=>u(w),disabled:!e||w==="user",className:`rounded-full px-3 py-1 text-xs ${t.roles.includes(w)?"bg-[#1F3A59] text-white":"bg-[#122033] text-[#6E86A6]"} disabled:opacity-50`,children:w},w))})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[n.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Status"}),n.jsx("div",{className:"flex gap-2",children:["active","suspended","banned"].map(w=>n.jsx("button",{type:"button",onClick:()=>h(w),disabled:!e,className:`rounded-full border px-3 py-1 text-xs capitalize ${x0(t.status)===w?"border-[#5C8BC6] text-white":"border-[#2B4C73] text-[#8AA5C4]"} disabled:opacity-50`,children:w},w))})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notes"}),!e&&n.jsx("span",{className:"text-[11px] text-[#8AA5C4]",children:"Read-only"})]}),n.jsx("textarea",{value:i,onChange:w=>l(w.target.value),className:"h-24 w-full rounded-xl border bg-[#0F1B2A] p-2 text-sm text-white placeholder:text-[#5C6E89] focus:outline-none disabled:opacity-60",style:{borderColor:"#2B4C73"},placeholder:"Add context for moderators",disabled:!e}),n.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#8AA5C4]",children:[g&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ho,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),a&&e&&n.jsx("button",{type:"button",onClick:d,className:"ml-auto rounded-full border px-3 py-1 text-xs text-white",style:{borderColor:"#2B4C73"},children:"Save notes"})]}),m&&n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[n.jsx(Lu,{className:"h-3 w-3"}),m]})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-white",children:"Audit log"}),n.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-1 rounded-full border px-2 py-1 text-[11px]",style:{borderColor:"#2B4C73"},children:[n.jsx(Kf,{className:"h-3 w-3"}),"Refresh"]})]}),b&&n.jsxs("div",{className:"flex items-center gap-2 text-[#8AA5C4]",children:[n.jsx(ho,{className:"h-3 w-3 animate-spin"})," Loading entries..."]}),S&&n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[n.jsx(Lu,{className:"h-3 w-3"}),S]}),!b&&!v.length&&n.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:"No actions logged."}),n.jsx("ul",{className:"space-y-2",children:v.map(w=>{var L;return n.jsxs("li",{className:"rounded-xl border px-3 py-2 text-[11px]",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{className:"flex items-center justify-between text-[#8AA5C4]",children:[n.jsx("span",{children:qc(w.createdAt)}),n.jsx(GE,{action:w.action})]}),n.jsx("div",{className:"mt-1 text-white",children:(L=w.actorDisplayName)!=null?L:w.actorUserId}),n.jsx("div",{className:"text-[#C8D6EC]",children:w.summary})]},w.id)})})]}),n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[n.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[n.jsx("h3",{className:"text-sm font-semibold text-white",children:"Meta"}),n.jsxs("button",{type:"button",onClick:F,className:"flex items-center gap-1 text-[11px] text-[#5C8BC6]",children:[n.jsx(l6,{className:"h-3 w-3"}),R?"Hide raw JSON":"Show raw JSON"]})]}),n.jsxs("dl",{className:"space-y-1 text-[11px] text-[#C8D6EC]",children:[n.jsx(Pm,{label:"Created",value:qc(t.createdAt)}),n.jsx(Pm,{label:"Last login",value:qc(t.lastLoginAt)}),n.jsx(Pm,{label:"Primary provider",value:t.primaryProvider}),n.jsx(Pm,{label:"Roles",value:t.roles.join(", ")})]}),R&&n.jsx("pre",{className:"mt-3 max-h-48 overflow-auto rounded-xl bg-[#0F1B2A] p-3 text-[11px] text-[#8AA5C4]",children:JSON.stringify(t,null,2)})]})]})}function GE({action:t}){const e=t==="user.role.update"?"Role update":t==="user.status.update"?"Status update":"Notes update";return n.jsx("span",{className:"rounded-full border px-2 py-0.5 text-[11px]",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:e})}function Pm({label:t,value:e}){return e?n.jsxs("div",{className:"flex justify-between gap-2",children:[n.jsx("span",{className:"text-[#6E86A6]",children:t}),n.jsx("span",{className:"text-white",children:e})]}):null}function sf({label:t,value:e,options:s,onChange:r}){return n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[#8AA5C4]",children:t}),n.jsx("select",{value:e,onChange:i=>r(i.target.value),className:"rounded-xl border bg-[#0F1B2A] px-3 py-1 text-xs text-white focus:outline-none",style:{borderColor:"#2B4C73"},children:s.map(i=>n.jsx("option",{value:i.value,children:i.label},i.value))})]})}function WE({url:t,name:e,size:s=32}){return t?n.jsx("img",{src:t,alt:"",className:"rounded-full border object-cover",style:{width:s,height:s,borderColor:"#2B4C73"}}):n.jsx("div",{className:"flex items-center justify-center rounded-full border bg-[#0F1B2A] text-xs text-[#8AA5C4]",style:{width:s,height:s,borderColor:"#2B4C73"},children:e.slice(0,2).toUpperCase()})}function qE({role:t}){const e=t==="admin"?"#F87171":t==="mod"?"#FBBF24":t==="creator"?"#34D399":"#93C5FD";return n.jsx("span",{className:"rounded-full px-2 py-0.5 text-[11px] capitalize",style:{background:"rgba(255,255,255,0.08)",color:e},children:t})}function ife({status:t}){const e={active:{label:"Active",color:"#5CC689",icon:n.jsx(oP,{className:"h-3 w-3"})},suspended:{label:"Suspended",color:"#F9A825",icon:n.jsx(Il,{className:"h-3 w-3"})},banned:{label:"Banned",color:"#FF6B6B",icon:n.jsx(XR,{className:"h-3 w-3"})}},{label:s,color:r,icon:i}=e[t];return n.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px]",style:{color:r,background:"rgba(255,255,255,0.06)"},children:[i,s]})}function Of({provider:t,active:e}){const s=t==="discord"?"D":"G";return n.jsx("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] ${e?"bg-[#1F3A59] text-white":"bg-[#0F1B2A] text-[#55637B]"}`,title:t,children:s})}function KE(t){const e=["admin","mod","creator","user"];for(const s of e)if(t.includes(s))return s;return"user"}function Qu(t){var e,s,r,i,a,l,d,u,h;return(h=(u=(a=(s=t.displayName)!=null?s:(e=t.profile)==null?void 0:e.displayName)!=null?a:(i=(r=t.providers)==null?void 0:r.discord)==null?void 0:i.displayName)!=null?u:(d=(l=t.providers)==null?void 0:l.google)==null?void 0:d.displayName)!=null?h:t.userId}function QE(t){var e,s,r,i,a,l,d;return(d=(l=(r=t.avatarUrl)!=null?r:(s=(e=t.providers)==null?void 0:e.discord)==null?void 0:s.avatarUrl)!=null?l:(a=(i=t.providers)==null?void 0:i.google)==null?void 0:a.avatarUrl)!=null?d:null}function x0(t){return t!=null?t:"active"}function qc(t){if(!t)return"";const e=t.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(e)}function v0(t,e){const[s,r]=E.useState(t);return E.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),s}function afe(){return n.jsx(Nt,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:n.jsx("div",{className:"space-y-4",children:n.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[n.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[n.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",n.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),n.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",n.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const XE="user_settings";async function BN(t){if(!t)return null;try{const e=Xt(Ct,XE,t),s=await Vn(e);if(!s.exists())return null;const r=s.data();return r!=null?r:null}catch(e){return console.warn("[UserSettings] Failed to load settings",e),null}}async function ofe(t,e){if(t)try{const s=Xt(Ct,XE,t);await kl(s,e,{merge:!0})}catch(s){throw console.error("[UserSettings] Failed to update settings",s),s}}const YE="user_tools_state";async function lfe(t){var e;if(!t)return null;try{const s=Xt(Ct,YE,t),r=await Vn(s);return r.exists()&&(e=r.data())!=null?e:null}catch(s){return console.warn("[UserToolsSettings] Failed to load tools settings",s),null}}async function cfe(t,e){if(t)try{const s=Xt(Ct,YE,t),r={...e,updatedAt:new Date().toISOString()};await kl(s,r,{merge:!0})}catch(s){throw console.error("[UserToolsSettings] Failed to save tools settings",s),s}}const dfe="_page_rpt6g_1",ufe="_tabs_rpt6g_17",hfe="_tab_rpt6g_17",pfe="_tabActive_rpt6g_71",mfe="_banner_rpt6g_87",ffe="_bannerSuccess_rpt6g_101",gfe="_bannerError_rpt6g_113",xfe="_card_rpt6g_125",vfe="_cardTitle_rpt6g_145",yfe="_settingsForm_rpt6g_159",bfe="_formRow_rpt6g_173",_fe="_selectInput_rpt6g_185",wfe="_checkboxRow_rpt6g_203",jfe="_settingsFooter_rpt6g_227",Sfe="_inlineStatus_rpt6g_245",Nfe="_helperText_rpt6g_259",kfe="_secondaryButton_rpt6g_271",Tfe="_cardSubtitle_rpt6g_297",Cfe="_identityHeader_rpt6g_309",Efe="_identityAvatar_rpt6g_323",Afe="_identityName_rpt6g_337",Ife="_identityProvider_rpt6g_351",Rfe="_identityForm_rpt6g_363",Pfe="_nameInputWrap_rpt6g_379",Lfe="_nameLabel_rpt6g_395",Dfe="_nameInput_rpt6g_379",Mfe="_nameSaveButton_rpt6g_427",Ffe="_feedbackError_rpt6g_471",Bfe="_feedbackSuccess_rpt6g_483",$fe="_metaGrid_rpt6g_495",Ofe="_metaItem_rpt6g_507",Vfe="_metaLabel_rpt6g_521",Ufe="_metaValue_rpt6g_535",zfe="_serviceList_rpt6g_549",Hfe="_serviceRow_rpt6g_559",Gfe="_serviceName_rpt6g_587",Wfe="_serviceStatus_rpt6g_601",qfe="_serviceAction_rpt6g_613",Kfe="_securityText_rpt6g_645",Qfe="_securityNote_rpt6g_657",Xfe="_logoutButton_rpt6g_669",Yfe="_loadingState_rpt6g_701",Jfe="_emptyState_rpt6g_703",Zfe="_emptyStateTitle_rpt6g_721",ege="_emptyStateText_rpt6g_733",tge="_primaryButton_rpt6g_745",Fe={page:dfe,tabs:ufe,tab:hfe,tabActive:pfe,banner:mfe,bannerSuccess:ffe,bannerError:gfe,card:xfe,cardTitle:vfe,settingsForm:yfe,formRow:bfe,selectInput:_fe,checkboxRow:wfe,settingsFooter:jfe,inlineStatus:Sfe,helperText:Nfe,secondaryButton:kfe,cardSubtitle:Tfe,identityHeader:Cfe,identityAvatar:Efe,identityName:Afe,identityProvider:Ife,identityForm:Rfe,nameInputWrap:Pfe,nameLabel:Lfe,nameInput:Dfe,nameSaveButton:Mfe,feedbackError:Ffe,feedbackSuccess:Bfe,metaGrid:$fe,metaItem:Ofe,metaLabel:Vfe,metaValue:Ufe,serviceList:zfe,serviceRow:Hfe,serviceName:Gfe,serviceStatus:Wfe,serviceAction:qfe,securityText:Kfe,securityNote:Qfe,logoutButton:Xfe,loadingState:Yfe,emptyState:Jfe,emptyStateTitle:Zfe,emptyStateText:ege,primaryButton:tge},sge="https://i.pravatar.cc/72",Lm=`${jo}/auth/account/profile`,hy=`${jo}/auth/google/link/start`,$N=3,ON=32,VN=t=>{if(!t)return;const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()},nge=()=>{const{status:t,user:e,logout:s,refreshSession:r}=Ll(),i=Or(),a=rr(),{t:l,i18n:d}=ud(),[u,h]=E.useState("overview"),[m,g]=E.useState(null),[v,b]=E.useState(null),[S,C]=E.useState(!1),[R,F]=E.useState(null),[D,A]=E.useState(!1),[y,w]=E.useState(!1),[L,N]=E.useState(null),[j,I]=E.useState(null),[M,P]=E.useState(!0),[O,$]=E.useState(!1),[W,H]=E.useState(null),[q,K]=E.useState(!1),G=E.useMemo(()=>{const Re=new URLSearchParams(a.search);return Re.get("linked")==="google"?{type:"success",message:"Google successfully connected."}:Re.get("error")==="google_already_linked"?{type:"error",message:"This Google account is already linked to another SFDataHub account."}:null},[a.search]),te=t==="loading"||t==="idle",ne=t==="authenticated"&&!!e,U=e==null?void 0:e.id,J=E.useMemo(()=>({language:d.language==="de"?"de":"en",defaultSection:"home",compactTables:!1,showExperimentalFeatures:!1}),[d.language]);E.useEffect(()=>{if(!U){g(null),b(null),F(null),C(!1),N(null),I(null),P(!1),$(!1),H(null),K(!1);return}let Re=!0;return(async()=>{C(!0),F(null),w(!1);try{const Ue=await BN(U),nt=Ue?{...J,...Ue}:J;if(!Re)return;g(nt),b(nt)}catch(Ue){if(!Re)return;F(l("account.settings.error","Could not load settings."))}finally{Re&&C(!1)}})(),()=>{Re=!1}},[U,J,l]),E.useEffect(()=>{if(!U)return;let Re=!0;const Ae={defaultSetId:null,showToolsIntro:!0,enableExperimentalTools:!1};return(async()=>{P(!0),H(null),K(!1);try{const nt=await lfe(U);if(!Re)return;const ut=nt?{...Ae,...nt}:Ae;N(ut),I(ut)}catch(nt){if(!Re)return;H(l("account.tools.loadError","Could not load tools settings."))}finally{Re&&P(!1)}})(),()=>{Re=!1}},[U,l]);const ce=()=>{i("/login")},ee=async()=>{await s(),i("/")},fe=()=>{if(!hy){window.alert("Auth service is not configured for Google linking.");return}window.location.href=hy},Ce=()=>n.jsx("div",{className:Fe.loadingState,children:"Checking session..."}),ge=()=>n.jsxs("div",{className:Fe.emptyState,children:[n.jsx("p",{className:Fe.emptyStateTitle,children:"You are not signed in."}),n.jsx("p",{className:Fe.emptyStateText,children:"Use the sign-in page to connect your Discord or Google account and unlock settings."}),n.jsx("button",{type:"button",className:Fe.primaryButton,onClick:ce,children:"Go to sign-in"})]}),ke=()=>{if(!G)return null;const Re=G.type==="success"?`${Fe.banner} ${Fe.bannerSuccess}`:`${Fe.banner} ${Fe.bannerError}`;return n.jsx("div",{className:Re,children:G.message})},Se=()=>{var Bt,ir,vn;if(!e)return null;const Re=(Bt=e.providers)==null?void 0:Bt.discord,Ae=(ir=e.providers)==null?void 0:ir.google,Ue=!!Re,nt=!!Ae,ut=!!hy,xt=ut?nt?Ae!=null&&Ae.displayName?`Connected as ${Ae.displayName}`:"Connected":"Not connected":"Auth service not configured",Vt=[{key:"discord",name:"Discord",status:Ue?`Connected as ${(vn=Re==null?void 0:Re.displayName)!=null?vn:e.displayName}`:"Not connected",actionLabel:Ue?"Connected":"Connect",disabled:!0},{key:"google",name:"Google",status:xt,actionLabel:nt?"Connected":"Connect",disabled:nt||!ut,onClick:nt||!ut?void 0:fe},{key:"twitch",name:"Twitch",status:"Planned",actionLabel:"Soon",disabled:!0},{key:"youtube",name:"YouTube",status:"Planned",actionLabel:"Soon",disabled:!0}];return n.jsxs("section",{className:Fe.card,children:[n.jsx("h2",{className:Fe.cardTitle,children:"Connected services"}),n.jsx("p",{className:Fe.cardSubtitle,children:"Manage which social logins are linked to your SFDataHub identity."}),n.jsx("div",{className:Fe.serviceList,children:Vt.map(Os=>n.jsxs("div",{className:Fe.serviceRow,children:[n.jsxs("div",{children:[n.jsx("p",{className:Fe.serviceName,children:Os.name}),n.jsx("p",{className:Fe.serviceStatus,children:Os.status})]}),n.jsx("button",{type:"button",className:Fe.serviceAction,disabled:Os.disabled,onClick:Os.onClick,children:Os.actionLabel})]},Os.key))})]})},ue=()=>n.jsxs("section",{className:Fe.card,children:[n.jsx("h2",{className:Fe.cardTitle,children:"Security & session"}),n.jsx("p",{className:Fe.securityText,children:"We only store your SFDataHub user ID, display name, avatar URL and provider identifiers (like your Discord ID). We never see or store your Discord or Google password."}),n.jsx("p",{className:Fe.securityNote,children:"Logging out here only clears your SFDataHub session cookie. Your Discord or Google account stays signed in separately."}),n.jsx("button",{type:"button",className:Fe.logoutButton,onClick:ee,children:"Log out from this device"}),n.jsx("p",{className:Fe.securityNote,children:"To fully revoke access, remove SFDataHub Auth from your Discord applications page."})]}),De=(Re,Ae)=>{m&&(g(Ue=>({...Ue!=null?Ue:J,[Re]:Ae})),w(!1))},Ee=!!(m&&v&&JSON.stringify(m)!==JSON.stringify(v)),tt=!!(L&&j&&JSON.stringify(L)!==JSON.stringify(j)),pt=async()=>{if(!(!U||!m||D||!Ee))try{A(!0),F(null),await ofe(U,m),b(m),w(!0)}catch(Re){F(l("account.settings.saveError","Could not save settings. Please try again."))}finally{A(!1)}},Ht=(Re,Ae)=>{L&&(N(Ue=>({...Ue!=null?Ue:{},[Re]:Ae})),K(!1))},Ss=async()=>{if(!(!U||!L||O||!tt))try{$(!0),H(null),await cfe(U,L),I(L),K(!0)}catch(Re){H(l("account.tools.save.error","Could not save settings. Please try again."))}finally{$(!1)}},Ns=()=>{var Re,Ae;return n.jsxs("section",{className:Fe.card,children:[n.jsx("h2",{className:Fe.cardTitle,children:l("account.settings.title","Settings")}),n.jsx("p",{className:Fe.cardSubtitle,children:l("account.settings.subtitle","Configure your personal preferences.")}),S&&n.jsx("p",{className:Fe.helperText,children:l("account.settings.loading","Loading settings...")}),R&&n.jsxs("div",{className:Fe.feedbackError,children:[n.jsx("p",{children:R}),n.jsx("button",{type:"button",className:Fe.secondaryButton,onClick:()=>{U&&(F(null),w(!1),C(!0),BN(U).then(Ue=>{const nt=Ue?{...J,...Ue}:J;g(nt),b(nt)}).catch(()=>{F(l("account.settings.error","Could not load settings."))}).finally(()=>C(!1)))},children:l("account.settings.retry","Retry")})]}),m&&!S&&n.jsxs("div",{className:Fe.settingsForm,children:[n.jsxs("div",{className:Fe.formRow,children:[n.jsx("label",{className:Fe.nameLabel,htmlFor:"settings-language",children:l("account.settings.language.label","Preferred language")}),n.jsxs("select",{id:"settings-language",className:Fe.selectInput,value:(Re=m.language)!=null?Re:J.language,onChange:Ue=>De("language",Ue.target.value),children:[n.jsx("option",{value:"en",children:l("topbar.lang_en","English")}),n.jsx("option",{value:"de",children:l("topbar.lang_de","Deutsch")})]})]}),n.jsxs("div",{className:Fe.formRow,children:[n.jsx("label",{className:Fe.nameLabel,htmlFor:"settings-section",children:l("account.settings.defaultSection.label","Default section")}),n.jsxs("select",{id:"settings-section",className:Fe.selectInput,value:(Ae=m.defaultSection)!=null?Ae:J.defaultSection,onChange:Ue=>De("defaultSection",Ue.target.value),children:[n.jsx("option",{value:"home",children:l("nav.home","Home")}),n.jsx("option",{value:"toplists",children:l("nav.toplists","Top Lists")}),n.jsx("option",{value:"guilds",children:l("nav.guilds","Guilds")}),n.jsx("option",{value:"tools",children:l("nav.tools","Tools")}),n.jsx("option",{value:"community",children:l("nav.community","Community")})]})]}),n.jsxs("label",{className:Fe.checkboxRow,children:[n.jsx("input",{type:"checkbox",checked:!!m.compactTables,onChange:Ue=>De("compactTables",Ue.target.checked)}),n.jsx("span",{children:l("account.settings.compactTables.label","Use compact table layout")})]}),n.jsxs("label",{className:Fe.checkboxRow,children:[n.jsx("input",{type:"checkbox",checked:!!m.showExperimentalFeatures,onChange:Ue=>De("showExperimentalFeatures",Ue.target.checked)}),n.jsx("span",{children:l("account.settings.experimental.label","Enable experimental features")})]})]}),n.jsxs("div",{className:Fe.settingsFooter,children:[n.jsxs("div",{className:Fe.inlineStatus,children:[y?n.jsx("span",{className:Fe.feedbackSuccess,children:l("account.settings.saved","Settings saved.")}):Ee?null:n.jsx("span",{className:Fe.helperText,children:l("account.settings.noChanges","No changes to save.")}),D&&n.jsx("span",{className:Fe.helperText,children:l("account.settings.saving","Saving...")})]}),n.jsx("button",{type:"button",className:Fe.primaryButton,disabled:!Ee||D||!m,onClick:pt,children:l("account.settings.save","Save settings")})]})]})},$s=()=>{const Re=[{key:"overview",label:"Overview"},{key:"settings",label:"Settings"},{key:"tools",label:"Tools"}];return n.jsx("div",{className:Fe.tabs,role:"tablist","aria-label":"Account sections",children:Re.map(Ae=>{const Ue=u===Ae.key;return n.jsx("button",{type:"button",className:`${Fe.tab} ${Ue?Fe.tabActive:""}`,onClick:()=>h(Ae.key),role:"tab","aria-selected":Ue,children:Ae.label},Ae.key)})})},ys=()=>{var Re;if(!e)return null;switch(u){case"overview":return n.jsxs(n.Fragment,{children:[n.jsx(rge,{user:e,refreshSession:r}),Se(),ue()]});case"settings":return Ns();case"tools":return n.jsxs("section",{className:Fe.card,children:[n.jsx("h2",{className:Fe.cardTitle,children:l("account.tools.title","Tools settings")}),n.jsx("p",{className:Fe.cardSubtitle,children:l("account.tools.subtitle","Configure how tools behave for your account.")}),M&&n.jsx("p",{className:Fe.helperText,children:l("account.tools.loading","Loading tools settings...")}),W&&n.jsx("p",{className:Fe.feedbackError,children:W}),L&&!M&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:Fe.settingsForm,children:[n.jsxs("div",{className:Fe.formRow,children:[n.jsx("label",{className:Fe.nameLabel,htmlFor:"tools-default-set",children:l("account.tools.defaultSet.label","Default set ID")}),n.jsx("input",{id:"tools-default-set",type:"text",className:Fe.nameInput,value:(Re=L.defaultSetId)!=null?Re:"",onChange:Ae=>Ht("defaultSetId",Ae.target.value),placeholder:l("account.tools.defaultSet.placeholder","Enter a default set ID")})]}),n.jsxs("label",{className:Fe.checkboxRow,children:[n.jsx("input",{type:"checkbox",checked:!!L.showToolsIntro,onChange:Ae=>Ht("showToolsIntro",Ae.target.checked)}),n.jsx("span",{children:l("account.tools.showIntro.label","Show tools intro")})]}),n.jsxs("label",{className:Fe.checkboxRow,children:[n.jsx("input",{type:"checkbox",checked:!!L.enableExperimentalTools,onChange:Ae=>Ht("enableExperimentalTools",Ae.target.checked)}),n.jsx("span",{children:l("account.tools.experimental.label","Enable experimental tools")})]})]}),n.jsxs("div",{className:Fe.settingsFooter,children:[n.jsxs("div",{className:Fe.inlineStatus,children:[q?n.jsx("span",{className:Fe.feedbackSuccess,children:l("account.tools.save.success","Settings saved.")}):tt?null:n.jsx("span",{className:Fe.helperText,children:l("account.tools.save.noChanges","No changes to save.")}),O&&n.jsx("span",{className:Fe.helperText,children:l("account.tools.save.saving","Saving...")})]}),n.jsx("button",{type:"button",className:Fe.primaryButton,disabled:M||O||!tt||!L,onClick:Ss,children:l("account.tools.save.cta","Save settings")})]})]})]});default:return null}},Ne=()=>te?Ce():ne?n.jsxs(n.Fragment,{children:[$s(),ys()]}):ge();return n.jsx(Nt,{title:"Account & Profile",subtitle:"Manage your SFDataHub identity and connected services.",centerFramed:!0,children:n.jsxs("div",{className:Fe.page,children:[ke(),Ne()]})})};function rge({user:t,refreshSession:e}){var L;const[s,r]=E.useState(()=>{var N;return(N=t==null?void 0:t.displayName)!=null?N:""}),[i,a]=E.useState(!1),[l,d]=E.useState(null),[u,h]=E.useState(!1),m=(t==null?void 0:t.avatarUrl)||sge,g=(t==null?void 0:t.provider)==="google"?"Google":"Discord",v=(L=t==null?void 0:t.displayName)!=null?L:"",b=s.trim(),S=b.length===0||b.length>=$N&&b.length<=ON,C=!!t&&b.length>0&&b!==v,R=!!(Lm&&S&&C&&!i),F=b.length>0&&!S?`Name must be between ${$N} and ${ON} characters.`:null;E.useEffect(()=>{var N;r((N=t==null?void 0:t.displayName)!=null?N:""),h(!1),d(null)},[t==null?void 0:t.id,t==null?void 0:t.displayName]);const D=E.useMemo(()=>{var N;return t?[{label:"SFDataHub ID",value:t.id},(N=t.roles)!=null&&N.length?{label:"Roles",value:t.roles.join(", ")}:null,t.createdAt?{label:"Created at",value:VN(t.createdAt)}:null,t.lastLoginAt?{label:"Last login",value:VN(t.lastLoginAt)}:null].filter(j=>!!(j!=null&&j.value)):[]},[t]),A=async()=>{var N,j;if(!R||!Lm){Lm||d("Auth service is not configured.");return}try{a(!0),d(null),h(!1);const I=await fetch(Lm,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:b})});if(!I.ok){const M=await I.json().catch(()=>null);throw new Error((N=M==null?void 0:M.error)!=null?N:"Failed to update name.")}await e(),h(!0),r(b)}catch(I){const M=(j=I==null?void 0:I.message)!=null?j:"Failed to update name.";d(M)}finally{a(!1)}},y=N=>{N.key==="Enter"&&(N.preventDefault(),R&&A())},w=()=>{R&&A()};return t?n.jsxs("section",{className:Fe.card,children:[n.jsxs("div",{className:Fe.identityHeader,children:[n.jsx("img",{src:m,alt:"",className:Fe.identityAvatar}),n.jsxs("div",{children:[n.jsx("p",{className:Fe.identityName,children:t.displayName||"Unbenannter Nutzer"}),n.jsxs("p",{className:Fe.identityProvider,children:[g," sign-in"]})]}),n.jsx("span",{className:Fe.statusBadge,children:"Verified"})]}),n.jsxs("div",{className:Fe.identityForm,children:[n.jsxs("div",{className:Fe.nameInputWrap,children:[n.jsx("label",{className:Fe.nameLabel,children:"Display name"}),n.jsx("input",{type:"text",className:Fe.nameInput,value:s,onChange:N=>r(N.target.value),onKeyDown:y,onBlur:w,placeholder:"Enter your display name"})]}),n.jsx("button",{type:"button",className:Fe.nameSaveButton,disabled:!R,onClick:A,children:i?"Saving...":"Save"})]}),F&&n.jsx("p",{className:Fe.feedbackError,children:F}),l&&n.jsx("p",{className:Fe.feedbackError,children:l}),u&&n.jsx("p",{className:Fe.feedbackSuccess,children:"Name updated."}),D.length>0&&n.jsx("div",{className:Fe.metaGrid,children:D.map(N=>n.jsxs("div",{className:Fe.metaItem,children:[n.jsx("span",{className:Fe.metaLabel,children:N.label}),n.jsx("span",{className:Fe.metaValue,children:N.value})]},N.label))})]}):null}const Tt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function ige(){return n.jsx("div",{style:Tt.wrap,children:n.jsxs("div",{style:Tt.grid,children:[n.jsxs("aside",{style:Tt.tile,children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),n.jsx("p",{style:Tt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),n.jsxs("nav",{children:[n.jsx("div",{style:Tt.groupLabel,children:"Allgemein"}),n.jsx(cs,{to:"list-views",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"List-View Switcher"}),n.jsx(cs,{to:"rescan-widget",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"Rescan Widget (auto)"}),n.jsx(cs,{to:"upload-sim",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"Upload Simulator"}),n.jsx(cs,{to:"hud/game-buttons",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"HUD  Game Buttons"}),n.jsx(cs,{to:"theme-maker",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"Theme / Template Maker"}),n.jsx(cs,{to:"theme-maker-pro",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"Theme / Template Maker  Pro"}),n.jsx("div",{style:Tt.groupLabel,children:"Templates"}),n.jsx(cs,{to:"templates/content-shell",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"ContentShell Template"}),n.jsx(cs,{to:"templates/blank",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"Leere Vorlage"}),n.jsx(cs,{to:"templates/blank-alt",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"Leere Vorlage (Neu)"}),n.jsx(cs,{to:"templates/blank-layout-2",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"Leere Vorlage  Layout 2"}),n.jsx(cs,{to:"templates/blank-layout-3",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"Leere Vorlage  Layout 3"}),n.jsx(cs,{to:"templates/blank-layout-4",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"Leere Vorlage  Layout 4"}),n.jsx("div",{style:Tt.groupLabel,children:"Guide Hub Demos"}),n.jsx(cs,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),n.jsx("div",{style:Tt.groupLabel,children:"Graphics / Portraits"}),n.jsx(cs,{to:"portrait-maker",style:({isActive:t})=>({...Tt.link,...t?Tt.active:{}}),children:"PortraitMaker Demo"})]})]}),n.jsx("section",{style:Tt.tile,children:n.jsx(Rk,{})})]})})}const age="_page_1kokx_1",oge="_topBar_1kokx_17",lge="_tabs_1kokx_31",cge="_tab_1kokx_31",dge="_tabActive_1kokx_63",uge="_searchWrap_1kokx_73",hge="_input_1kokx_85",pge="_stickyIcons_1kokx_105",mge="_iconBtn_1kokx_129",fge="_tableWrap_1kokx_161",gge="_table_1kokx_161",xge="_th_1kokx_181",vge="_td_1kokx_181",yge="_row_1kokx_201",bge="_chips_1kokx_219",_ge="_chip_1kokx_219",wge="_badges_1kokx_249",jge="_badge_1kokx_249",Sge="_badgeMax_1kokx_275",Nge="_badgeAchiev_1kokx_277",kge="_badgeX2_1kokx_279",Tge="_badgeX12_1kokx_281",Cge="_badgeX60_1kokx_283",Ege="_section_1kokx_289",Age="_sectionHeader_1kokx_297",Ige="_cardList_1kokx_315",Rge="_card_1kokx_315",Pge="_cardMax_1kokx_353",Lge="_iconXL_1kokx_355",Dge="_split_1kokx_369",Mge="_left_1kokx_379",Fge="_leftBtn_1kokx_399",Bge="_leftBtnActive_1kokx_411",$ge="_detail_1kokx_413",Oge="_grid_1kokx_433",Vge="_tile_1kokx_443",Uge="_drawer_1kokx_457",zge="_timeline_1kokx_487",Hge="_node_1kokx_493",Gge="_dot_1kokx_501",rt={page:age,topBar:oge,tabs:lge,tab:cge,tabActive:dge,searchWrap:uge,input:hge,stickyIcons:pge,iconBtn:mge,tableWrap:fge,table:gge,th:xge,td:vge,row:yge,chips:bge,chip:_ge,badges:wge,badge:jge,badgeMax:Sge,badgeAchiev:Nge,badgeX2:kge,badgeX12:Tge,badgeX60:Cge,section:Ege,sectionHeader:Age,cardList:Ige,card:Rge,cardMax:Pge,iconXL:Lge,split:Dge,left:Mge,leftBtn:Fge,leftBtnActive:Bge,detail:$ge,grid:Oge,tile:Vge,drawer:Uge,timeline:zge,node:Hge,dot:Gge},UN=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function Fr(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const s=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(s)+r}function Wge(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function qge(t){var s,r;const e=(r=(s=t.note)==null?void 0:s.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function Vf({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return n.jsx("div",{className:rt.iconBtn,title:t||"Rune",children:e})}function wb({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return n.jsx("div",{className:rt.iconXL,title:t||"Rune",children:e})}function Kge(t){const e=new Map;for(const s of t){const r=s.tier&&s.tier.trim()!==""?s.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(s)}return Array.from(e.entries())}function Uh({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),n.jsx("div",{className:rt.chips,children:e.map((s,r)=>n.jsx("span",{className:rt.chip,children:s},r))})}function zh({r:t,isMax:e}){const s=[];e&&s.push({label:"MAX",cls:rt.badgeMax}),Wge(t)&&s.push({label:"Achievement",cls:rt.badgeAchiev});const r=qge(t);return r==="x2"&&s.push({label:"x2",cls:rt.badgeX2}),r==="x12"&&s.push({label:"x12",cls:rt.badgeX12}),r==="x60"&&s.push({label:"x60",cls:rt.badgeX60}),s.length===0?null:n.jsx("div",{className:rt.badges,children:s.map((i,a)=>{var l;return n.jsx("span",{className:`${rt.badge} ${(l=i.cls)!=null?l:""}`,children:i.label},a)})})}function Qge(t){const e=t.trim().toLowerCase();return e?UN.filter(s=>{var r;return`${s.tier} ${s.amount} ${(r=s.note)!=null?r:""}`.toLowerCase().includes(e)}):UN}function Xge({data:t}){const e=Math.max(...t.map(i=>Fr(i.amount))),s=E.useMemo(()=>Array.from(new Set(t.map(i=>i.tier||"(no tier)"))),[t]);function r(i){const a=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:rt.stickyIcons,children:s.map((i,a)=>n.jsx("div",{onClick:()=>r(i),children:n.jsx(Vf,{label:i||"(no tier)"})},a))}),n.jsx("div",{className:rt.tableWrap,children:n.jsxs("table",{className:rt.table,children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:rt.th,style:{width:42}}),n.jsx("th",{className:rt.th,style:{width:120},children:"Amount"}),n.jsx("th",{className:rt.th,children:"Bonuses"}),n.jsx("th",{className:rt.th,style:{width:220},children:"Tags"})]})}),n.jsx("tbody",{children:t.map((i,a)=>{const l=Math.abs(Fr(i.amount)-e)<1e-6;return n.jsxs("tr",{className:rt.row,"data-tier":i.tier||"(no tier)",children:[n.jsx("td",{className:rt.td,children:n.jsx(Vf,{label:i.tier||""})}),n.jsx("td",{className:rt.td,children:i.amount}),n.jsx("td",{className:rt.td,children:n.jsx(Uh,{r:i})}),n.jsx("td",{className:rt.td,children:n.jsx(zh,{r:i,isMax:l})})]},a)})})]})})]})}function Yge({data:t}){const e=Kge(t),s=Math.max(...t.map(r=>Fr(r.amount)));return n.jsx(n.Fragment,{children:e.map(([r,i])=>n.jsxs("section",{className:rt.section,children:[n.jsx("div",{className:rt.sectionHeader,children:r}),n.jsx("div",{className:rt.cardList,children:i.map((a,l)=>{const d=Math.abs(Fr(a.amount)-s)<1e-6;return n.jsxs("div",{className:`${rt.card} ${d?rt.cardMax:""}`,children:[n.jsx(wb,{label:r}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx("strong",{children:a.amount}),n.jsx(zh,{r:a,isMax:d})]}),n.jsx(Uh,{r:a})]}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},l)})})]},r))})}function Jge({data:t}){var l;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[s,r]=E.useState((l=e[0])!=null?l:""),i=t.filter(d=>(d.tier||"(no tier)")===s),a=Math.max(...t.map(d=>Fr(d.amount)));return n.jsxs("div",{className:rt.split,children:[n.jsx("div",{className:rt.left,children:e.map(d=>n.jsxs("button",{className:`${rt.leftBtn} ${d===s?rt.leftBtnActive:""}`,onClick:()=>r(d),children:[n.jsx(Vf,{label:d}),n.jsx("span",{children:d})]},d))}),n.jsxs("div",{className:rt.detail,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx(wb,{label:s}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700},children:s}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((d,u)=>{const h=Math.abs(Fr(d.amount)-a)<1e-6;return n.jsxs("div",{className:rt.card,style:{gridTemplateColumns:"1fr auto"},children:[n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx("strong",{children:d.amount}),n.jsx(zh,{r:d,isMax:h})]}),n.jsx(Uh,{r:d})]}),n.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},u)})]})]})}function Zge({data:t}){const[e,s]=E.useState(null),r=Math.max(...t.map(i=>Fr(i.amount)));return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:rt.grid,children:t.map((i,a)=>n.jsx("div",{className:rt.tile,onClick:()=>s(i),title:i.tier||"",children:n.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[n.jsx(Vf,{label:i.tier||""}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},a))}),e&&n.jsxs("div",{className:rt.drawer,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[n.jsx(wb,{label:e.tier||""}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:700},children:e.amount}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),n.jsx("button",{className:rt.tab,onClick:()=>s(null),children:"Close"})]}),n.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:n.jsx(zh,{r:e,isMax:Math.abs(Fr(e.amount)-r)<1e-6})}),n.jsx(Uh,{r:e})]})]})}function exe({data:t}){const e=Math.max(...t.map(r=>Fr(r.amount))),s=[...t].sort((r,i)=>Fr(r.amount)-Fr(i.amount));return n.jsx("div",{className:rt.timeline,children:s.map((r,i)=>{const a=Math.abs(Fr(r.amount)-e)<1e-6;return n.jsxs("div",{className:rt.node,children:[n.jsx("div",{className:rt.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[n.jsx("strong",{children:r.amount}),n.jsx(zh,{r,isMax:a})]}),n.jsx(Uh,{r})]}),n.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const txe=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function sxe(){const[t,e]=E.useState("A: Compact Table"),[s,r]=E.useState(""),i=Qge(s);return n.jsxs("div",{className:rt.page,children:[n.jsxs("div",{className:rt.topBar,children:[n.jsx("div",{className:rt.tabs,children:txe.map(a=>n.jsx("button",{onClick:()=>e(a),className:`${rt.tab} ${t===a?rt.tabActive:""}`,children:a},a))}),n.jsx("div",{className:rt.searchWrap,children:n.jsx("input",{className:rt.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:s,onChange:a=>r(a.target.value)})})]}),t==="A: Compact Table"&&n.jsx(Xge,{data:i}),t==="B: Card Track"&&n.jsx(Yge,{data:i}),t==="C: Two-Pane"&&n.jsx(Jge,{data:i}),t==="D: Icon Grid + Drawer"&&n.jsx(Zge,{data:i}),t==="E: Timeline"&&n.jsx(exe,{data:i})]})}function nxe(){return n.jsxs("div",{className:"p-6",children:[n.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),n.jsx("div",{className:"mt-4 grid gap-3",children:n.jsx(cs,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const xe={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},rxe=()=>n.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),dl={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function ixe(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function jd(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",ixe(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function JE(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",s={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},a={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},l={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},u={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},h={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},m={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},g={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},v={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},b={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:s,crystal:r,carbon:i,chrome:a,gold:l,obsidian:d,neon:u,plasma:h,aurora:m,satin:g,matte:v,holo:b}[t.material]}function ko(t){const e={color:xe.title,borderColor:xe.border,...JE(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const Hh=({children:t})=>n.jsx("span",{className:"relative z-10",children:t});function Sd({fx:t,clip:e}){return n.jsxs(n.Fragment,{children:[t.shine&&n.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:n.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&n.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&n.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&n.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&n.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&n.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((s,r)=>n.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function axe({fx:t,children:e}){const s=jd(t),r=ko(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),n.jsx(Sd,{fx:t,clip:i}),t.withIcon&&n.jsx($k,{size:16,className:"relative z-10"}),n.jsx(Hh,{children:e})]})}function oxe({fx:t,children:e}){const s=jd(t),r=ko(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),n.jsx(Sd,{fx:t,clip:i}),t.withIcon&&n.jsx(Ok,{size:16,className:"relative z-10"}),n.jsx(Hh,{children:e})]})}function lxe({fx:t,children:e}){const s=jd(t),r=ko(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),n.jsx(Sd,{fx:t,clip:i}),t.withIcon&&n.jsx(Il,{size:16,className:"relative z-10"}),n.jsx(Hh,{children:e})]})}function cxe({fx:t,children:e}){const s=jd(t),r=ko(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return n.jsxs("button",{disabled:t.disabled,className:`${s} overflow-hidden`,style:r,children:[n.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${xe.tile}, ${xe.active})`}}),n.jsx(Sd,{fx:t,clip:i}),t.withIcon&&n.jsx(Vk,{size:16,className:"relative z-10"}),n.jsx(Hh,{children:e})]})}function dxe({fx:t,children:e}){const s=jd(t),r=ko(t);return n.jsxs("button",{disabled:t.disabled,className:`${s} rounded-full overflow-hidden`,style:r,children:[n.jsx(Sd,{fx:t}),t.withIcon&&n.jsx(qf,{size:16,className:"relative z-10"}),n.jsx(Hh,{children:e})]})}function uxe({fx:t,tabs:e}){const[s,r]=E.useState(0);return n.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:e.map((i,a)=>n.jsxs("button",{onClick:()=>r(a),className:`px-4 py-2 rounded-lg text-sm transition-colors ${a===s?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:a===s?xe.active:"transparent",border:a===s&&t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[t.withIcon&&a===s&&n.jsx(qf,{size:14,className:"inline mr-1"}),i]},a))})}function hxe({fx:t}){const e=jd(t),s=ko(t);return n.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:s,"aria-label":"Icon action",children:n.jsx(zk,{})})}const y0={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function pxe({fx:t,setFx:e}){const s=(d,u)=>e(h=>({...h,[d]:u})),r=d=>e(u=>({...u,[d]:!u[d]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],a=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],l=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return n.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[n.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${xe.border}`:"0"},children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:xe.title},children:"Presets"}),Object.keys(y0).map(d=>n.jsx("button",{onClick:()=>e(u=>y0[d](u)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:xe.btn,borderColor:xe.border,color:xe.title},children:d},d))]}),n.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${xe.border}`:"0"},children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:xe.title},children:"Material"}),i.map(d=>n.jsx("button",{onClick:()=>s("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:d},d)),n.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:xe.title},children:"Size"}),["sm","md","lg"].map(d=>n.jsx("button",{onClick:()=>s("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:d.toUpperCase()},d)),n.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:"Icon"}),n.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:"Disabled"})]}),n.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${xe.border}`:"0"},children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:xe.title},children:"Core FX"}),a.map(([d,u])=>n.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:u},d))]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs font-semibold",style:{color:xe.title},children:"Advanced"}),l.map(([d,u])=>n.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?xe.active:xe.btn,borderColor:xe.border,color:xe.title},children:u},d))]}),n.jsx("button",{onClick:()=>e(dl),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:xe.btn,borderColor:xe.border,color:xe.title},children:"Reset"})]})}function ts({fx:t,className:e="",style:s={},children:r,clip:i}){const a=ko(t);return n.jsxs("div",{className:`relative ${e}`,style:{...a,...s},children:[n.jsx(Sd,{fx:t,clip:i}),n.jsx("div",{className:"relative z-10",children:r})]})}function Un({fx:t,className:e="",children:s}){return n.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:s})}function mxe({fx:t}){const[e,s]=E.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return n.jsxs(Un,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Toggle Chips"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const a=e.includes(i);return n.jsx(ts,{fx:t,className:`rounded-full border ${a?"":"opacity-80"}`,style:{borderColor:xe.border},children:n.jsx("button",{onClick:()=>s(l=>a?l.filter(d=>d!==i):[...l,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function fxe({fx:t}){return n.jsxs(Un,{fx:t,className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm",style:{color:xe.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>n.jsx(ts,{fx:t,className:"rounded-xl border p-2",style:{borderColor:xe.border},children:n.jsxs("button",{className:"relative",children:[n.jsx(zk,{size:16}),e===3&&n.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function gxe({fx:t}){return n.jsxs(ts,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Breadcrumb HUD"}),n.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>n.jsx(ts,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:xe.border},children:e},e))})]})}function xxe({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return n.jsxs(Un,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Stat Tiles"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(s=>n.jsxs(ts,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:xe.border},children:[n.jsx("div",{className:"text-[10px] opacity-80",children:s.k}),n.jsx("div",{className:"text-sm",children:s.v}),n.jsx("div",{className:"text-[11px] opacity-80",children:s.d})]},s.k))})]})}function vxe({fx:t}){const[e,s]=E.useState(.66);return n.jsxs(Un,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Meter / Energy Bar"}),n.jsx(ts,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:xe.border},children:n.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),n.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>n.jsx(ts,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsxs("button",{onClick:()=>s(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function yxe({fx:t}){return n.jsxs(Un,{fx:t,className:"flex items-center gap-3",children:[n.jsx("div",{className:"text-sm",style:{color:xe.title},children:"Badge / Medal"}),n.jsxs(ts,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:xe.border},children:[n.jsx(Il,{size:16}),n.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function bxe({fx:t}){const[e,s]=E.useState(!1);return n.jsxs(Un,{fx:t,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm",style:{color:xe.title},children:"Toast / Notification"}),n.jsx(ts,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{onClick:()=>s(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&n.jsxs(ts,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:xe.border},children:[n.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),n.jsx("button",{onClick:()=>s(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function _xe({fx:t}){const[e,s]=E.useState(!0);return n.jsxs(Un,{fx:t,className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm",style:{color:xe.title},children:"Toggle Switch"}),n.jsxs(ts,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:xe.border},children:[n.jsx("button",{onClick:()=>s(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),n.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function wxe({fx:t}){const[e,s]=E.useState(!1),r=["Overview","Stats","Activity","Hydra"];return n.jsxs(Un,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Dropdown HUD"}),n.jsx(ts,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:xe.border},children:n.jsx("button",{onClick:()=>s(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&n.jsx(ts,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:xe.border},children:r.map(i=>n.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function jxe({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return n.jsxs(Un,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Radial Menu (Preview)"}),n.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[n.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"}}),e.map((s,r)=>{const i=r/e.length*Math.PI*2,a=56,l=56+Math.cos(i)*a,d=56+Math.sin(i)*a;return n.jsx(ts,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:l,top:d,borderColor:xe.border},children:s},s)}),n.jsx(ts,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:xe.border},children:"Menu"})]})]})}function Sxe({fx:t}){const e=[1,2,3,4,5],[s,r]=E.useState(2);return n.jsxs(Un,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Pagination HUD"}),n.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>n.jsx(ts,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===s?"":"opacity-80"}`,style:{borderColor:xe.border},children:n.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function Nxe({fx:t}){const[e,s]=E.useState(!1);return n.jsxs(Un,{fx:t,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm",style:{color:xe.title},children:"Modal HUD"}),n.jsx(ts,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{onClick:()=>s(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&n.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:n.jsxs(ts,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:xe.border},children:[n.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),n.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),n.jsxs("div",{className:"mt-3 flex gap-2",children:[n.jsx(ts,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>s(!1),children:"Cancel"})}),n.jsx(ts,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function kxe({fx:t}){const[e,s]=E.useState("");return n.jsxs(Un,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Search HUD"}),n.jsx(ts,{fx:t,className:"rounded-lg border p-2",style:{borderColor:xe.border},children:n.jsx("input",{value:e,onChange:r=>s(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function Txe({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[s,r]=E.useState("Bravo");return n.jsxs(Un,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"List Selectable"}),n.jsx("div",{className:"space-y-2",children:e.map(i=>n.jsx(ts,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${s===i?"":"opacity-80"}`,style:{borderColor:xe.border},children:n.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function Cxe({fx:t}){const e=["Init","Scan","Verify","Done"],[s,r]=E.useState(1);return n.jsxs(Un,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Steps"}),n.jsx("div",{className:"flex items-center gap-3",children:e.map((i,a)=>n.jsxs(Z.Fragment,{children:[n.jsx(ts,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${a<=s?"":"opacity-70"}`,style:{borderColor:xe.border},children:a+1}),a<e.length-1&&n.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx(ts,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,s-1)),children:"Back"})}),n.jsx(ts,{fx:t,className:"rounded-md border",style:{borderColor:xe.border},children:n.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,s+1)),children:"Next"})})]})]})}function Exe({fx:t}){const e=["","","","","",""];return n.jsxs(Un,{fx:t,children:[n.jsx("div",{className:"text-sm mb-2",style:{color:xe.title},children:"Dock Bar"}),n.jsx("div",{className:"flex items-center gap-2",children:e.map((s,r)=>n.jsx(ts,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:xe.border},children:s},r))})]})}function Axe(){const[t,e]=E.useState(dl);return n.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:xe.bg,color:xe.txt},children:[n.jsx(rxe,{}),n.jsxs("header",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(AP,{}),n.jsx("h1",{className:"text-xl font-bold",style:{color:xe.title},children:"Game Buttons Playground"}),n.jsx("span",{className:"text-xs",style:{color:xe.txt2},children:"(Materials + FX extended + Presets)"})]})}),n.jsx(pxe,{fx:t,setFx:e})]}),n.jsxs("section",{className:"grid gap-4",children:[n.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[n.jsx("h2",{className:"font-semibold mb-3",style:{color:xe.title},children:"Shapes"}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsxs(axe,{fx:t,children:[n.jsx($k,{size:16})," Diamond"]}),n.jsxs(oxe,{fx:t,children:[n.jsx(Ok,{size:16})," Hex"]}),n.jsxs(lxe,{fx:t,children:[n.jsx(Il,{size:16})," Octagon/Shield"]}),n.jsxs(cxe,{fx:t,children:[n.jsx(Vk,{size:16})," Shard"]}),n.jsxs(dxe,{fx:t,children:[n.jsx(qf,{size:16})," Pill/Chip"]}),n.jsx(hxe,{fx:t})]})]}),n.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[n.jsx("h2",{className:"font-semibold",style:{color:xe.title},children:"Tabs"}),n.jsx(uxe,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),n.jsx("section",{className:"grid gap-4",children:n.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:xe.tile,border:t.baseBorder?`1px solid ${xe.border}`:"0 solid transparent"},children:[n.jsx("h2",{className:"font-semibold mb-3",style:{color:xe.title},children:"More HUD Patterns"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[n.jsx(mxe,{fx:t}),n.jsx(fxe,{fx:t}),n.jsx(gxe,{fx:t}),n.jsx(xxe,{fx:t}),n.jsx(vxe,{fx:t}),n.jsx(yxe,{fx:t}),n.jsx(bxe,{fx:t}),n.jsx(_xe,{fx:t}),n.jsx(wxe,{fx:t}),n.jsx(jxe,{fx:t}),n.jsx(Sxe,{fx:t}),n.jsx(Nxe,{fx:t}),n.jsx(kxe,{fx:t}),n.jsx(Txe,{fx:t}),n.jsx(Cxe,{fx:t}),n.jsx(Exe,{fx:t})]})]})}),n.jsx(Ixe,{}),n.jsx("footer",{className:"text-center text-xs",style:{color:xe.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function Ixe(){return E.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(dl.material),"Material type present");const e=ko(dl);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=JE({...dl,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof dl[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(y0).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const a=i({...dl});console.assert(a&&typeof a=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const Xu={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},zN={Arcade:{...Xu,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...Xu,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},Tc={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},ZE={display:"grid",gap:8,alignItems:"center"};function sa({label:t,value:e,onChange:s}){return n.jsxs("label",{style:{...ZE,gridTemplateColumns:"120px 1fr"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"color",value:e,onChange:r=>s(r.target.value)})]})}function py({label:t,value:e,min:s,max:r,onChange:i}){return n.jsxs("label",{style:{...ZE,gridTemplateColumns:"120px 1fr 70px"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"range",min:s,max:r,value:e,onChange:a=>i(parseInt(a.target.value))}),n.jsx("input",{type:"number",min:s,max:r,value:e,onChange:a=>i(parseInt(a.target.value||"0"))})]})}function HN(){const[t,e]=Z.useState(Xu),s=Z.useRef(null),r=u=>{const h=s.current;h&&(h.style.setProperty("--page",u.page),h.style.setProperty("--tile",u.tile),h.style.setProperty("--tile-hover",u.tileHover),h.style.setProperty("--nav",u.nav),h.style.setProperty("--active",u.active),h.style.setProperty("--text",u.text),h.style.setProperty("--text-soft",u.textSoft),h.style.setProperty("--title",u.title),h.style.setProperty("--line",u.line),h.style.setProperty("--radius",`${u.radius}px`),h.style.setProperty("--shadow",`0 8px ${u.shadow}px rgba(0,0,0,0.25)`),h.style.setProperty("--gap",`${u.gap}px`))};Z.useEffect(()=>{r(t)},[t]);const i=u=>e(zN[u]),a=()=>e(Xu),l=()=>{const u=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download="sfdatahub-theme.json",h.click()},d=async u=>{const h=await u.text();e({...Xu,...JSON.parse(h)})};return n.jsxs("div",{ref:s,style:{color:"var(--text, #FFFFFF)"},children:[n.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[n.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[n.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(zN).map(u=>n.jsx("button",{style:Tc,onClick:()=>i(u),children:u},u)),n.jsx("button",{style:Tc,onClick:a,children:"Default"}),n.jsx("button",{style:Tc,onClick:l,children:"Export JSON"}),n.jsxs("label",{style:{...Tc,display:"inline-block"},children:["Import JSON",n.jsx("input",{type:"file",accept:"application/json",onChange:u=>u.target.files&&d(u.target.files[0]),style:{display:"none"}})]})]}),n.jsx(sa,{label:"Page",value:t.page,onChange:u=>e(h=>({...h,page:u}))}),n.jsx(sa,{label:"Tile",value:t.tile,onChange:u=>e(h=>({...h,tile:u}))}),n.jsx(sa,{label:"Tile Hover",value:t.tileHover,onChange:u=>e(h=>({...h,tileHover:u}))}),n.jsx(sa,{label:"Nav",value:t.nav,onChange:u=>e(h=>({...h,nav:u}))}),n.jsx(sa,{label:"Active",value:t.active,onChange:u=>e(h=>({...h,active:u}))}),n.jsx(sa,{label:"Text",value:t.text,onChange:u=>e(h=>({...h,text:u}))}),n.jsx(sa,{label:"Text Soft",value:t.textSoft,onChange:u=>e(h=>({...h,textSoft:u}))}),n.jsx(sa,{label:"Title",value:t.title,onChange:u=>e(h=>({...h,title:u}))}),n.jsx(sa,{label:"Line",value:t.line,onChange:u=>e(h=>({...h,line:u}))}),n.jsx(py,{label:"Radius",value:t.radius,min:8,max:28,onChange:u=>e(h=>({...h,radius:u}))}),n.jsx(py,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:u=>e(h=>({...h,shadow:u}))}),n.jsx(py,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:u=>e(h=>({...h,gap:u}))})]}),n.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[n.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[n.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),n.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),n.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[n.jsx("button",{style:{...Tc,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),n.jsx("button",{style:Tc,children:"Secondary"})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((u,h)=>n.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[n.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",h+1]}),n.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},h))})]})]})]})}const b0={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},GN={"SFDataHub (Default)":{...b0},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},Rg={display:"grid",gap:8,alignItems:"center"},rl={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},il={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Pr({label:t,value:e,onChange:s}){return n.jsxs("label",{style:{...Rg,gridTemplateColumns:"140px 1fr"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"color",value:e,onChange:r=>s(r.target.value)})]})}function na({label:t,value:e,min:s,max:r,step:i=1,onChange:a,suffix:l}){return n.jsxs("label",{style:{...Rg,gridTemplateColumns:"140px 1fr 70px"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"range",min:s,max:r,step:i,value:e,onChange:d=>a(parseFloat(d.target.value))}),n.jsx("input",{type:"number",min:s,max:r,step:i,value:e,onChange:d=>a(parseFloat(d.target.value||"0"))})]})}function Rxe({label:t,checked:e,onChange:s}){return n.jsxs("label",{style:{...Rg,gridTemplateColumns:"1fr 46px"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),n.jsx("input",{type:"checkbox",checked:e,onChange:r=>s(r.target.checked)})]})}function WN(){const[t,e]=Z.useState(b0),s=Z.useRef(null),r=h=>{const m=s.current;m&&(m.style.setProperty("--page",h.page),m.style.setProperty("--tile",h.tile),m.style.setProperty("--tile-hover",h.tileHover),m.style.setProperty("--nav",h.nav),m.style.setProperty("--active",h.active),m.style.setProperty("--text",h.text),m.style.setProperty("--text-soft",h.textSoft),m.style.setProperty("--title",h.title),m.style.setProperty("--line",h.line),m.style.setProperty("--accent",h.accent),m.style.setProperty("--success",h.success),m.style.setProperty("--warning",h.warning),m.style.setProperty("--danger",h.danger),m.style.setProperty("--radius",`${h.radius}px`),m.style.setProperty("--border",`${h.border}px`),m.style.setProperty("--gap",`${h.gap}px`),m.style.setProperty("--shadow",`0 10px ${h.shadow}px rgba(0,0,0,0.30)`),m.style.setProperty("--surface-opacity",`${h.surfaceOpacity}%`),m.style.setProperty("--noise",`${h.noise}%`),m.style.setProperty("--font",h.fontFamily),m.style.setProperty("--font-size",`${h.fontSize}px`),m.style.setProperty("--heading-tight",h.headingsTight?"1.1":"1.3"),m.style.setProperty("--glow",`${h.glow}`),m.style.setProperty("--scanlines",`${h.scanlines}`))};Z.useEffect(()=>{r(t)},[t]);const i=(h,m)=>e(g=>({...g,[h]:m})),a=h=>e(m=>({...m,...GN[h]})),l=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(h),m.download="sfdatahub-theme-pro.json",m.click()},d=async h=>{try{const m=await h.text(),g=JSON.parse(m);e({...t,...g})}catch(m){}},u={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return n.jsxs("div",{ref:s,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[n.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[n.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[n.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(GN).map(h=>n.jsx("button",{style:rl,onClick:()=>a(h),children:h},h)),n.jsx("button",{style:rl,onClick:()=>e(b0),children:"Reset"}),n.jsx("button",{style:rl,onClick:l,children:"Export"}),n.jsxs("label",{style:{...rl,display:"inline-block"},children:["Import",n.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:h=>h.target.files&&d(h.target.files[0])})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx(Pr,{label:"Page",value:t.page,onChange:h=>i("page",h)}),n.jsx(Pr,{label:"Tile",value:t.tile,onChange:h=>i("tile",h)}),n.jsx(Pr,{label:"Tile Hover",value:t.tileHover,onChange:h=>i("tileHover",h)}),n.jsx(Pr,{label:"Active",value:t.active,onChange:h=>i("active",h)}),n.jsx(Pr,{label:"Text",value:t.text,onChange:h=>i("text",h)}),n.jsx(Pr,{label:"Text Soft",value:t.textSoft,onChange:h=>i("textSoft",h)}),n.jsx(Pr,{label:"Title",value:t.title,onChange:h=>i("title",h)}),n.jsx(Pr,{label:"Line",value:t.line,onChange:h=>i("line",h)}),n.jsx(Pr,{label:"Accent",value:t.accent,onChange:h=>i("accent",h)}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[n.jsx(Pr,{label:"Success",value:t.success,onChange:h=>i("success",h)}),n.jsx(Pr,{label:"Warning",value:t.warning,onChange:h=>i("warning",h)}),n.jsx(Pr,{label:"Danger",value:t.danger,onChange:h=>i("danger",h)})]})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx(na,{label:"Radius",min:0,max:28,value:t.radius,onChange:h=>i("radius",h)}),n.jsx(na,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:h=>i("border",h)}),n.jsx(na,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:h=>i("gap",h)}),n.jsx(na,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:h=>i("shadow",h)}),n.jsx(na,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:h=>i("surfaceOpacity",h),suffix:"%"}),n.jsx(na,{label:"Noise",min:0,max:20,value:t.noise,onChange:h=>i("noise",h),suffix:"%"})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsxs("label",{style:{...Rg,gridTemplateColumns:"140px 1fr"},children:[n.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),n.jsx("input",{value:t.fontFamily,onChange:h=>i("fontFamily",h.target.value)})]}),n.jsx(na,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:h=>i("fontSize",h)}),n.jsx(Rxe,{label:"Headings tighter",checked:t.headingsTight,onChange:h=>i("headingsTight",h)})]})]}),n.jsxs("details",{open:!0,children:[n.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx(na,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:h=>i("glow",h)}),n.jsx(na,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:h=>i("scanlines",h)})]})]})]}),n.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[n.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[n.jsxs("span",{style:il,children:[n.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),n.jsx("span",{style:{...il,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),n.jsx("span",{style:{...il,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),n.jsx("span",{style:{...il,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),n.jsxs("span",{style:il,children:["Radius: ",t.radius]}),n.jsxs("span",{style:il,children:["Shadow: ",t.shadow]}),n.jsxs("span",{style:il,children:["Noise: ",t.noise,"%"]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[n.jsxs("div",{style:{display:"grid",gap:12},children:[n.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),n.jsxs("div",{children:[n.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:u.name}),n.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[u.className,"  ",u.guild," ",n.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",u.server,")"]})]})]}),n.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:u.level,pct:u.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:u.scrapbook+"%",pct:u.scrapbook/100,color:"var(--success)"},{label:"Power",value:u.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:u.activity+"%",pct:u.activity/100,color:"var(--accent)"}].map((h,m)=>n.jsxs("div",{style:{display:"grid",gap:4},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[n.jsx("span",{children:h.label}),n.jsx("span",{style:{color:"var(--title)"},children:h.value})]}),n.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:n.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(h.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${h.color} 75%, transparent), ${h.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${h.color} 40%, transparent)`}})})]},m))}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[n.jsx("button",{style:{...rl,background:"var(--tile-hover)"},children:"Open Profile"}),n.jsx("button",{style:{...rl,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),n.jsxs("div",{style:{display:"grid",gap:12},children:[n.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((h,m)=>n.jsx("button",{style:{...rl,background:m===0?"var(--tile-hover)":"transparent",borderColor:m===0?"var(--active)":"var(--line)",boxShadow:m===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:h},h))}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((h,m)=>n.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[n.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:h.k}),n.jsx("div",{style:{fontWeight:800,fontSize:24},children:h.v}),n.jsx("div",{style:{fontSize:12,color:h.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:h.trend})]},m))}),n.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[n.jsx("div",{style:{padding:10},children:"Attribute"}),n.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),n.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((h,m)=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:m%2?"rgba(255,255,255,.025)":"transparent"},children:[n.jsx("div",{style:{padding:10},children:h[0]}),n.jsx("div",{style:{padding:10,textAlign:"right"},children:h[1]}),n.jsx("div",{style:{padding:10,textAlign:"right",color:h[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:h[2]})]},m))]})]})]}),n.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const qN=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function Pxe(t=120){const e=[];for(let s=1;s<=t;s++)e.push({id:String(s),name:`Player ${s}`,className:qN[s%qN.length],level:200+s%50,guild:s%3===0?`Guild ${s%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const my={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function KN(){const[t,e]=E.useState("rows"),[s,r]=E.useState(0),[i,a]=E.useState(""),[l,d]=E.useState(60),u=E.useMemo(()=>Pxe(240),[]),h=E.useMemo(()=>u.filter(m=>m.level>=s).filter(m=>m.name.toLowerCase().includes(i.toLowerCase())).slice(0,l),[u,s,i,l]);return n.jsxs("div",{children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),n.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[n.jsxs("select",{value:t,onChange:m=>e(m.target.value),children:[n.jsx("option",{value:"rows",children:"Compact Rows"}),n.jsx("option",{value:"cards",children:"Card Grid"}),n.jsx("option",{value:"masonry",children:"Masonry"})]}),n.jsx("input",{placeholder:"Search",value:i,onChange:m=>a(m.target.value)}),n.jsxs("label",{children:["Min Level ",n.jsx("input",{type:"number",value:s,onChange:m=>r(parseInt(m.target.value||"0")),style:{marginLeft:8,width:90}})]}),n.jsxs("label",{children:["Limit ",n.jsx("input",{type:"number",value:l,onChange:m=>d(parseInt(m.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&n.jsx("div",{style:{...my,padding:0,overflow:"hidden"},children:h.map(m=>{var g;return n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),n.jsxs("div",{children:[n.jsxs("div",{style:{fontWeight:700},children:[m.name," ",n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:m.className})]}),n.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",m.level," ",m.guild?` ${m.guild}`:""]})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[n.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),n.jsx("div",{style:{fontSize:24,fontWeight:700},children:(g=m.kpi)==null?void 0:g.toFixed(1)})]})]},m.id)})}),t==="cards"&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(m=>{var g;return n.jsxs("div",{style:my,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("div",{style:{fontWeight:700},children:m.name}),n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:m.className})]}),n.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",m.level," ",m.guild?` ${m.guild}`:""]}),n.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[n.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),n.jsx("span",{style:{fontSize:24,fontWeight:700},children:(g=m.kpi)==null?void 0:g.toFixed(1)})]})]},m.id)})}),t==="masonry"&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(m=>n.jsxs("div",{style:{...my,height:140+parseInt(m.id)%3*40},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("div",{style:{fontWeight:700},children:m.name}),n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:m.className})]}),n.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",m.level," ",m.guild?` ${m.guild}`:""]}),n.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},m.id))})]})}function QN(t=24){const e=[];for(let s=1;s<=t;s++)e.push({id:String(s),name:`Player ${s}`,server:`EU${1+s%3}`,lastScanMinsAgo:60+s*7%240});return e}function XN(){const[t,e]=E.useState(120),[s,r]=E.useState(()=>QN(24));E.useEffect(()=>{const a=setInterval(()=>{r(l=>{if(!l.length)return l;const d=Math.floor(Math.random()*l.length),u=[...l];return u[d]={...u[d],lastScanMinsAgo:0},u})},5e3);return()=>clearInterval(a)},[]),E.useEffect(()=>{const a=setInterval(()=>{r(l=>l.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(a)},[]);const i=E.useMemo(()=>s.filter(a=>a.lastScanMinsAgo>t),[s,t]);return n.jsxs("div",{children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),n.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[n.jsxs("label",{children:["Freshness TTL (min) ",n.jsx("input",{type:"number",value:t,onChange:a=>e(parseInt(a.target.value||"0")),style:{marginLeft:8,width:100}})]}),n.jsx("button",{onClick:()=>r(QN(24)),children:"Reset Demo Data"})]}),n.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),n.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[n.jsx("div",{children:"Player"}),n.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(a=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[n.jsxs("div",{children:[a.name," ",n.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:a.server})]}),n.jsxs("div",{style:{width:180,textAlign:"right"},children:[a.lastScanMinsAgo," min ago"]})]},a.id)),i.length===0&&n.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function Lxe(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),s=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:s}}function YN(){const[t,e]=E.useState("idle"),[s,r]=E.useState(null),[i,a]=E.useState(!1),l=E.useCallback(async d=>{var h;d.preventDefault(),a(!1);const u=(h=d.dataTransfer.files)==null?void 0:h[0];if(u){e("validating");try{const m=await u.text(),{isHar:g,isSf:v}=Lxe(m);if(e("parsing"),await new Promise(b=>setTimeout(b,600)),!g&&!v){e("error"),r({isHar:g,isSf:v,sizeKB:Math.round(u.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:g,isSf:v,sizeKB:Math.round(u.size/1024),summary:`Detected: ${g?"HAR":v?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(m.length/2500)} (rough).`})}catch(m){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(m==null?void 0:m.message)||"Parse failed"})}}},[]);return n.jsxs("div",{children:[n.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),n.jsx("div",{onDragOver:d=>{d.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:l,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),n.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),n.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Status:"})," ",t]}),s?n.jsxs("ul",{children:[n.jsxs("li",{children:["isHar: ",String(s.isHar)]}),n.jsxs("li",{children:["isSf: ",String(s.isSf)]}),n.jsxs("li",{children:["sizeKB: ",s.sizeKB]}),s.error&&n.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",s.error]}),s.summary&&n.jsxs("li",{children:["summary: ",s.summary]})]}):n.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const Dxe="_wrap_hxkkn_3",Mxe="_left_hxkkn_17",Fxe="_right_hxkkn_25",Bxe="_canvasCard_hxkkn_33",$xe="_hint_hxkkn_83",Oxe="_panel_hxkkn_95",Vxe="_panelTitle_hxkkn_109",Uxe="_panelBody_hxkkn_121",ra={wrap:Dxe,left:Mxe,right:Fxe,canvasCard:Bxe,hint:$xe,panel:Oxe,panelTitle:Vxe,panelBody:Uxe},zxe=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],Hxe=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function Gxe(){const[t,e]=E.useState("Canvas ist vorbereitet (526526)."),s=E.useRef(null),[r,i]=E.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[a,l]=E.useState(!0);E.useEffect(()=>{const m=document.getElementById("PortraitCanvas");if(!m){e("Fehler: Canvas nicht gefunden.");return}try{s.current&&typeof s.current.dispose=="function"&&s.current.dispose()}catch(b){}let g=console.error;a&&(console.error=(...b)=>{var C;const S=String((C=b==null?void 0:b[0])!=null?C:"");S.includes("Failed to load URL")&&S.includes("PortraitMaker-res/portraits/")||g(...b)});let v=null;try{v=new fk(m,{...r}),s.current=v,e("Rendering")}catch(b){a&&(console.error=g),g("Error initializing PortraitMaker:",b),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return v&&(v.onFinish=()=>{a&&(console.error=g),e("Fertig gerendert.")}),()=>{try{v&&typeof v.dispose=="function"&&v.dispose()}finally{a&&(console.error=g)}}},[r,a]);const d=()=>{const m=document.getElementById("PortraitCanvas");if(!m)return;const g=m.toDataURL("image/png"),v=document.createElement("a");v.href=g,v.download="portrait.png",v.click()},u=m=>{i(g=>({...g,genderName:m,beard:m==="female"?0:g.beard}))},h=r.special!==0;return n.jsxs("div",{className:ra.wrap,children:[n.jsx("div",{className:ra.left,children:n.jsxs("div",{className:ra.canvasCard,children:[n.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),n.jsx("div",{className:ra.hint,children:t})]})}),n.jsx("div",{className:ra.right,children:n.jsxs("div",{className:ra.panel,children:[n.jsx("h2",{className:ra.panelTitle,children:"Controls"}),n.jsx("div",{className:ra.panelBody,children:n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",n.jsx("input",{type:"number",value:r.special,onChange:m=>i(g=>({...g,special:Number(m.target.value||0)})),style:{width:100}})]}),n.jsxs("fieldset",{disabled:h,style:{border:0,padding:0,margin:0},children:[n.jsxs("label",{children:["Gender:",n.jsxs("select",{value:r.genderName,onChange:m=>u(m.target.value),children:[n.jsx("option",{value:"male",children:"male"}),n.jsx("option",{value:"female",children:"female"})]})]}),n.jsxs("label",{children:["Class:",n.jsx("input",{type:"number",min:1,value:r.class,onChange:m=>i(g=>({...g,class:Number(m.target.value||0)})),style:{width:80}})]}),n.jsxs("label",{children:["Race:",n.jsx("input",{type:"number",min:1,value:r.race,onChange:m=>i(g=>({...g,race:Number(m.target.value||0)})),style:{width:80}})]})]}),n.jsxs("label",{children:["Background:",n.jsx("select",{value:r.background,onChange:m=>i(g=>({...g,background:m.target.value})),children:zxe.map(m=>n.jsx("option",{value:m,children:m===""?"transparent":m},m))})]}),n.jsxs("label",{children:["Frame:",n.jsx("select",{value:r.frame,onChange:m=>i(g=>({...g,frame:m.target.value})),children:Hxe.map(m=>n.jsx("option",{value:m,children:m===""?"none":m},m))})]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:m=>i(g=>({...g,showBorder:m.target.checked}))}),"showBorder"]}),n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[n.jsx("input",{type:"checkbox",checked:a,onChange:m=>l(m.target.checked)}),"Mute 404 logs (Playground)"]}),n.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:n.jsx("button",{onClick:d,children:"Export PNG"})}),h&&n.jsxs("div",{className:ra.hint,children:["Hinweis: Bei ",n.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const Wxe=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],qxe=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],Kxe=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function Qxe(){return n.jsx(Nt,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:n.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),n.jsx("ul",{className:"mt-2 space-y-2",children:Wxe.map(t=>n.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[n.jsx("div",{className:"font-semibold text-slate-50",children:t.title}),n.jsx("p",{className:"text-xs text-slate-400",children:t.description})]},t.id))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),n.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[n.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),n.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),n.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:n.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),n.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:qxe.map(t=>n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("dt",{className:"text-xs text-slate-400",children:t.label}),n.jsx("dd",{className:"font-semibold",children:t.value})]},t.label))})]}),n.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),n.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:Kxe.map(t=>n.jsx("li",{children:t},t))})]})]}),children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),n.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),n.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),n.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),n.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(t=>n.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:t}),n.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),n.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},t))}),n.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(t=>n.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[n.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",t]}),n.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",t]})]}),n.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),n.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},t))})]})})}const Xxe={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function Yxe(){return n.jsx(Nt,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:n.jsx("div",{className:"flex w-full justify-center pt-10",children:n.jsx(fE,{config:Xxe,label:"Playground Avatar"})})})}const Jxe=Array.from({length:4},(t,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function Zxe(){return n.jsx(Nt,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:n.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:n.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:Jxe.map(t=>n.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:t.label}),n.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),n.jsx("p",{className:"text-[11px] text-slate-400",children:t.note})]},t.id))})})})}const eve="_avatarFrameMask_1pzs8_5",tve="_avatarFrameOverlay_1pzs8_7",JN={avatarFrameMask:eve,avatarFrameOverlay:tve},sve=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function nve(){return n.jsx(Nt,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:n.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[n.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:sve.map(t=>n.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[n.jsx("span",{className:"text-sm font-semibold text-white",children:t.title}),n.jsx("p",{className:"mt-2 text-xs text-slate-300",children:t.detail}),n.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.title))}),n.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),n.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:JN.avatarFrameMask,children:n.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),n.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),n.jsx("div",{className:"mt-4",children:n.jsx("div",{className:JN.avatarFrameOverlay,children:n.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const rve=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function ive(){return n.jsx(Nt,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:n.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:n.jsx("div",{className:"flex w-full flex-col gap-4",children:rve.map(t=>n.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[t.label,n.jsx("span",{children:"Leer"})]}),n.jsx("p",{className:"mt-2 text-sm text-slate-300",children:t.info}),n.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.label))})})})}function ave(){return n.jsx(Nt,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:n.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),n.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),n.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),n.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),n.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const Y={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},ove={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},lve={maxWidth:1200,margin:"0 auto"},cve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function dve(){return n.jsx("div",{style:ove,children:n.jsxs("div",{style:lve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"HAR Import Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:cve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),n.jsxs("div",{style:{border:`1px dashed ${Y.line}`,borderRadius:12,padding:24,textAlign:"center",background:Y.tileAlt},children:["Drop .har file here or"," ",n.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),n.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const uve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},hve={maxWidth:1200,margin:"0 auto"},pve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function mve(){return n.jsx("div",{style:uve,children:n.jsxs("div",{style:hve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"JSON/CSV Import Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:pve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsxs("label",{children:["Upload JSON ",n.jsx("input",{type:"file",accept:".json"})]}),n.jsxs("label",{children:["Upload CSV ",n.jsx("input",{type:"file",accept:".csv"})]})]}),n.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const fve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},gve={maxWidth:1200,margin:"0 auto"},xve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function vve(){return n.jsx("div",{style:fve,children:n.jsxs("div",{style:gve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Index Schema Viewer Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:xve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:t}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const yve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},bve={maxWidth:1200,margin:"0 auto"},_ve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function wve(){return n.jsx("div",{style:yve,children:n.jsxs("div",{style:bve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Player Profile (Contained) Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:_ve,children:[n.jsxs("div",{style:{display:"flex",gap:12},children:[n.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${Y.line}`}}),n.jsxs("div",{children:[n.jsx("h3",{style:{margin:"4px 0",color:Y.title},children:"NightRaven"}),n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>n.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const jve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Sve={maxWidth:1200,margin:"0 auto"},Nve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function kve(){return n.jsx("div",{style:jve,children:n.jsxs("div",{style:Sve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Guild Hub Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Nve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[n.jsx("b",{style:{color:Y.title},children:"Ravens"}),n.jsx("span",{children:"Avg Lvl 465"}),n.jsx("span",{children:"Fresh scans 82%"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[n.jsx("b",{style:{color:Y.title},children:"Arcana"}),n.jsx("span",{children:"Avg Lvl 458"}),n.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const Tve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Cve={maxWidth:1200,margin:"0 auto"},Eve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Ave(){return n.jsx("div",{style:Tve,children:n.jsxs("div",{style:Cve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Server Hub Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Eve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:t}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const Ive={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Rve={maxWidth:1200,margin:"0 auto"},Pve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Lve(){return n.jsx("div",{style:Ive,children:n.jsxs("div",{style:Rve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Rankings Views Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Pve,children:[n.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>n.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10},children:t},t))}),n.jsx("div",{style:{border:`1px solid ${Y.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[n.jsx("b",{style:{color:Y.title},children:t.name}),n.jsx("span",{children:t.delta}),n.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const Dve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Mve={maxWidth:1200,margin:"0 auto"},Fve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Bve(){return n.jsx("div",{style:Dve,children:n.jsxs("div",{style:Mve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"KPI Dashboard Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsx("div",{style:Fve,children:n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>n.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const $ve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Ove={maxWidth:1200,margin:"0 auto"},Vve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Uve(){return n.jsx("div",{style:$ve,children:n.jsxs("div",{style:Ove,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Progression Tracker Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Vve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),n.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const zve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Hve={maxWidth:1200,margin:"0 auto"},Gve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Wve(){return n.jsx("div",{style:zve,children:n.jsxs("div",{style:Hve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Legendary & Pets Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsx("div",{style:Gve,children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"Legendary Tracker"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Shadow Bow "}),n.jsx("li",{children:"Mythic Ring "})]})]}),n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"Pets"}),n.jsxs("ul",{children:[n.jsx("li",{children:"Firewolf 4/5"}),n.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const qve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Kve={maxWidth:1200,margin:"0 auto"},Qve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Xve(){return n.jsx("div",{style:qve,children:n.jsxs("div",{style:Kve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Community Scans Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Qve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>n.jsx("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const Yve={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Jve={maxWidth:1200,margin:"0 auto"},Zve={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function eye(){return n.jsx("div",{style:Yve,children:n.jsxs("div",{style:Jve,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Creator Hub Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Zve,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:t}),n.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const tye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},sye={maxWidth:1200,margin:"0 auto"},nye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function rye(){return n.jsx("div",{style:tye,children:n.jsxs("div",{style:sye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Form Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:nye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),n.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[n.jsx("span",{children:"Category"}),n.jsxs("select",{style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"},children:[n.jsx("option",{children:"UI"}),n.jsx("option",{children:"Data"}),n.jsx("option",{children:"Bug"})]})]}),n.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[n.jsx("span",{children:"Message"}),n.jsx("textarea",{rows:4,style:{background:"#152A42",color:Y.text,border:`1px solid ${Y.line}`,borderRadius:8,padding:"6px 8px"}})]}),n.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${Y.line}`,borderRadius:10},children:"Send"})]})})]})})}const iye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},aye={maxWidth:1200,margin:"0 auto"},oye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function lye(){return n.jsx("div",{style:iye,children:n.jsxs("div",{style:aye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feedback Admin Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:oye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),n.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("span",{children:t}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),n.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const cye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},dye={maxWidth:1200,margin:"0 auto"},uye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function hye(){return n.jsx("div",{style:cye,children:n.jsxs("div",{style:dye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Tutorials Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:uye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),n.jsxs("ol",{children:[n.jsx("li",{children:"Step highlights"}),n.jsx("li",{children:"Progress bar"}),n.jsx("li",{children:"Badges"})]})]})})]})})}const pye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},mye={maxWidth:1200,margin:"0 auto"},fye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function gye(){return n.jsx("div",{style:pye,children:n.jsxs("div",{style:mye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Wiki & FAQ Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:fye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),n.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${Y.line}`,borderRadius:10}}),n.jsxs("ul",{style:{marginTop:8},children:[n.jsx("li",{children:"How to import HAR?"}),n.jsx("li",{children:"What data is stored?"})]})]})})]})})}const xye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},vye={maxWidth:1200,margin:"0 auto"},yye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function bye(){return n.jsx("div",{style:xye,children:n.jsxs("div",{style:vye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Settings Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:yye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[n.jsxs("label",{children:["Language",n.jsxs("select",{style:{marginLeft:8},children:[n.jsx("option",{children:"EN"}),n.jsx("option",{children:"DE"})]})]}),n.jsxs("label",{children:["Theme",n.jsxs("select",{style:{marginLeft:8},children:[n.jsx("option",{children:"Dark"}),n.jsx("option",{children:"Custom"})]})]}),n.jsxs("label",{children:["Notifications",n.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),n.jsxs("label",{children:["Privacy",n.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const _ye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},wye={maxWidth:1200,margin:"0 auto"},jye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Sye(){return n.jsx("div",{style:_ye,children:n.jsxs("div",{style:wye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"ToS & Privacy Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:jye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),n.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:n.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),n.jsxs("label",{style:{marginTop:8},children:[n.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const Nye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},kye={maxWidth:1200,margin:"0 auto"},Tye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Cye(){return n.jsx("div",{style:Nye,children:n.jsxs("div",{style:kye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Transparency Viewer Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Tye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),n.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const Eye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Aye={maxWidth:1200,margin:"0 auto"},Iye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Rye(){return n.jsx("div",{style:Eye,children:n.jsxs("div",{style:Aye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Update Flow Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Iye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),n.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[n.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),n.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const Pye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Lye={maxWidth:1200,margin:"0 auto"},Dye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Mye(){return n.jsx("div",{style:Pye,children:n.jsxs("div",{style:Lye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"PWA Install Prompt Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Dye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[n.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:20}}),n.jsxs("div",{children:[n.jsx("b",{style:{color:Y.title},children:"Install SFDataHub"}),n.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),n.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const Fye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Bye={maxWidth:1200,margin:"0 auto"},$ye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Oye(){return n.jsx("div",{style:Fye,children:n.jsxs("div",{style:Bye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Manual Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:$ye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:[n.jsx("b",{style:{color:Y.title},children:"View source"}),n.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const Vye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Uye={maxWidth:1200,margin:"0 auto"},zye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Hye(){return n.jsx("div",{style:Vye,children:n.jsxs("div",{style:Uye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Connect Userscript Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:zye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),n.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[n.jsx("div",{children:"Install/Enable check"}),n.jsx("div",{children:"Events preview"})]})]})})]})})}const Gye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Wye={maxWidth:1200,margin:"0 auto"},qye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Kye(){return n.jsx("div",{style:Gye,children:n.jsxs("div",{style:Wye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Exports Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:qye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"CSV/Excel"}),n.jsx("div",{children:"Tabs, widths, locales"})]}),n.jsxs("div",{style:{background:Y.tileAlt,border:`1px solid ${Y.line}`,borderRadius:10,padding:10},children:[n.jsx("b",{style:{color:Y.title},children:"JSON API"}),n.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const Qye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},Xye={maxWidth:1200,margin:"0 auto"},Yye={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function Jye(){return n.jsx("div",{style:Qye,children:n.jsxs("div",{style:Xye,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Deeplinks Demo Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:Yye,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),n.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${Y.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const Zye={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},e0e={maxWidth:1200,margin:"0 auto"},t0e={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function s0e(){return n.jsx("div",{style:Zye,children:n.jsxs("div",{style:e0e,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Servers Editor Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:t0e,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[n.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),n.jsxs("select",{children:[n.jsx("option",{children:"Active"}),n.jsx("option",{children:"Disabled"})]}),n.jsx("button",{children:"Add"})]})]})})]})})}const n0e={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},r0e={maxWidth:1200,margin:"0 auto"},i0e={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function a0e(){return n.jsx("div",{style:n0e,children:n.jsxs("div",{style:r0e,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Jobs & Queues Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:i0e,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),n.jsxs("ul",{style:{marginTop:8},children:[n.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),n.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const o0e={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},l0e={maxWidth:1200,margin:"0 auto"},c0e={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function d0e(){return n.jsx("div",{style:o0e,children:n.jsxs("div",{style:l0e,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Feature Flags Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:c0e,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[n.jsx("span",{children:"Beta: New Rankings"}),n.jsx("label",{children:n.jsx("input",{type:"checkbox",defaultChecked:!0})}),n.jsx("span",{children:"Widgets v2"}),n.jsx("label",{children:n.jsx("input",{type:"checkbox"})})]})]})})]})})}const u0e={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},h0e={maxWidth:1200,margin:"0 auto"},p0e={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function m0e(){return n.jsx("div",{style:u0e,children:n.jsxs("div",{style:h0e,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Table Performance Lab Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:p0e,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),n.jsx("div",{style:{height:160,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const f0e={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},g0e={maxWidth:1200,margin:"0 auto"},x0e={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function v0e(){return n.jsx("div",{style:f0e,children:n.jsxs("div",{style:g0e,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:x0e,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),n.jsx("div",{style:{height:180,border:`1px dashed ${Y.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const y0e={minHeight:"100vh",background:Y.page,color:Y.text,padding:"24px 16px"},b0e={maxWidth:1200,margin:"0 auto"},_0e={background:Y.tile,border:`1px solid ${Y.line}`,borderRadius:12,padding:12};function w0e(){return n.jsx("div",{style:y0e,children:n.jsxs("div",{style:b0e,children:[n.jsx("h1",{style:{color:Y.title,marginTop:0},children:"Accessibility Pass Page"}),n.jsx("div",{style:{display:"grid",gap:12},children:n.jsxs("div",{style:_0e,children:[n.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),n.jsxs("ul",{style:{marginTop:8},children:[n.jsx("li",{children:"Focus ring visible"}),n.jsx("li",{children:"Skip links"}),n.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const j0e=t=>t?t instanceof Date?t.getTime():typeof t=="string"?new Date(t).getTime():typeof t=="number"?t:null:null;function S0e({isLoggedIn:t,hasUnsyncedChanges:e,lastSyncedAt:s,cooldownUntil:r,onSyncClick:i,isSaving:a,syncError:l}){const{t:d}=ud(),[u,h]=E.useState(null);E.useEffect(()=>{const F=j0e(r);if(!F){h(null);return}const D=()=>{const y=Date.now(),w=Math.max(0,Math.floor((F-y)/1e3));h(w)};D();const A=window.setInterval(D,1e3);return()=>window.clearInterval(A)},[r]);const m=u!==null&&u>0,g=!t||a||!e||m,v=E.useMemo(()=>{if(u===null||u<=0)return null;const F=Math.floor(u/60),D=u%60;return`${String(F).padStart(2,"0")}:${String(D).padStart(2,"0")}`},[u]),b=a?d("tools.sync.saving"):v?d("tools.sync.cooldownLabel",{time:v}):d("tools.sync.buttonSave"),S=E.useMemo(()=>d(e?"tools.sync.statusUnsynced":s?"tools.sync.statusSynced":"tools.sync.statusNever"),[e,s,d]),C=E.useMemo(()=>{if(e)return null;if(s){const F=typeof s=="string"?new Date(s):s;return`${d("tools.sync.lastSyncLabel")}: ${F.toLocaleTimeString()}`}return d("tools.sync.noChanges")},[e,s,d]),R=["rounded-xl border px-4 py-2 text-sm font-semibold uppercase tracking-wide transition focus:outline-none focus:ring-2 focus:ring-emerald-400/70",g?"cursor-not-allowed border-slate-700/70 bg-slate-800/70 text-slate-500":"border-emerald-400/60 bg-emerald-500/10 text-emerald-50 hover:border-emerald-300 hover:bg-emerald-500/20"].join(" ");return n.jsx("div",{className:"mt-4 rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[n.jsx("button",{type:"button",disabled:g,onClick:i,className:R,children:b}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:S}),C&&n.jsx("p",{className:"text-sm text-slate-200",children:C}),l&&n.jsx("p",{className:"text-sm text-rose-400",children:l})]})]})})}const Dm=3,eA="sfdatahub.tools.sets.v1",ZN=[{id:"set-main-dh",name:"Main DH",classLabel:"Demon Hunter",serverLabel:"DE-55"},{id:"set-twink-mage",name:"Twink Mage",classLabel:"Mage",serverLabel:"US-12"}],Cc=[{id:"gemSim",labelKey:"tools.labels.gemSim",defaultLabel:"Gem Simulator",descriptionKey:"tools.descriptions.gemSim",defaultDescription:"Placeholder fuer kuenftige Gem-Berechnungen."},{id:"dungeonPauseOpenXP",labelKey:"tools.labels.dungeonPause",defaultLabel:"Dungeon Pause",descriptionKey:"tools.descriptions.dungeonPause",defaultDescription:"Dummy-Ansicht fuer Dungeon-Pausen-Tools."},{id:"xpDungeon",labelKey:"tools.labels.xpDungeon",defaultLabel:"XP Dungeon",descriptionKey:"tools.descriptions.xpDungeon",defaultDescription:"Slide fuer XP-Lauf-Planung als Platzhalter."}],N0e=300*1e3;async function k0e(t,e){const s=Xt(yd(Ct,"user_tools_state"),t);console.log("[ToolsSync] userId param:",t,"doc path:",s.path);const r={version:1,updatedAt:Ni(),sets:e.sets,activeSetId:e.activeSetId,activeToolId:e.activeToolId};await kl(s,r,{merge:!1})}const T0e=()=>{if(typeof window=="undefined")return null;try{const t=window.localStorage.getItem(eA);if(!t)return null;const e=JSON.parse(t);return!e||e.version!==1||e.type!=="toolSet"||!Array.isArray(e.sets)?null:e}catch(t){return console.warn("Failed to parse persisted tools state",t),null}};function C0e(){var $s,ys;const{t}=ud(),{user:e,status:s,loginWithDiscord:r}=Ll(),i=s==="authenticated"&&!!e,a=E.useMemo(()=>T0e(),[]),l=E.useMemo(()=>{var Ne;return(Ne=a==null?void 0:a.sets)!=null&&Ne.length?a.sets.slice(0,Dm):ZN},[a]),d=E.useMemo(()=>{var Re,Ae,Ue,nt;const Ne=a==null?void 0:a.activeSetId;return Ne&&l.some(ut=>ut.id===Ne)?Ne:(nt=(Ue=(Re=l[0])==null?void 0:Re.id)!=null?Ue:(Ae=ZN[0])==null?void 0:Ae.id)!=null?nt:"set-main-dh"},[a,l]),u=E.useMemo(()=>{var Re,Ae;const Ne=a==null?void 0:a.activeToolId;return Ne&&Cc.some(Ue=>Ue.id===Ne)?Ne:(Ae=(Re=Cc[0])==null?void 0:Re.id)!=null?Ae:"gemSim"},[a]),[h,m]=E.useState(l),[g,v]=E.useState(d),[b,S]=E.useState(u),[C,R]=E.useState(null),[F,D]=E.useState(""),[A,y]=E.useState(""),[w,L]=E.useState(!1),[N,j]=E.useState(null),[I,M]=E.useState(null),[P,O]=E.useState(!1),[$,W]=E.useState(null),H=E.useRef(null),q=E.useRef(!0);E.useEffect(()=>{if(typeof window!="undefined")try{const Ne={version:1,type:"toolSet",sets:h,activeSetId:g!=null?g:null,activeToolId:b};window.localStorage.setItem(eA,JSON.stringify(Ne))}catch(Ne){console.warn("Failed to persist tools state",Ne)}},[h,g,b]),E.useEffect(()=>{if(!i){L(!1),q.current=!0;return}if(q.current){q.current=!1;return}L(!0)},[i,h,g,b]);const K=E.useMemo(()=>{var Ne;return(Ne=h.find(Re=>Re.id===g))!=null?Ne:h[0]},[g,h]),G=E.useMemo(()=>{var Ne;return(Ne=Cc.find(Re=>Re.id===b))!=null?Ne:Cc[0]},[b]),te=($s=K==null?void 0:K.tools)==null?void 0:$s.gemSim,ne=(ys=K==null?void 0:K.tools)==null?void 0:ys.dungeonPauseOpenXP,U=h.length,J=U>=Dm,ce=()=>{if(J)return;const Ne=U+1,Re=t("tools.sets.defaultName","New Set"),Ae={id:`set-${Date.now()}`,name:`${Re} ${Ne}`,classLabel:"Class TBD",serverLabel:"Server TBD"};m(Ue=>[...Ue,Ae]),v(Ae.id)},ee=()=>{r()},fe=()=>{if(!K){console.warn("No active set to export.");return}const Ne={version:1,type:"toolSet",set:K},Re=new Blob([JSON.stringify(Ne,null,2)],{type:"application/json"}),Ae=URL.createObjectURL(Re),Ue=document.createElement("a"),nt=K.name.toLowerCase().replace(/\s+/g,"-");Ue.href=Ae,Ue.download=`sfdatahub-set-${nt}.json`,Ue.click(),URL.revokeObjectURL(Ae)},Ce=()=>{var Ne;(Ne=H.current)==null||Ne.click()},ge=Ne=>{var ut,xt;if(h.length<=1){alert(t("tools.sets.deleteLastForbidden"));return}const Re=t("tools.sets.deleteConfirmTitle"),Ae=t("tools.sets.deleteConfirmText");if(!window.confirm(`${Re}

${Ae}`))return;const Ue=h.filter(Vt=>Vt.id!==Ne),nt=Ne===g?(xt=(ut=Ue[0])==null?void 0:ut.id)!=null?xt:null:g;m(Ue),nt&&v(nt)},ke=Ne=>{const Re=h.find(Ae=>Ae.id===Ne);Re&&(R(Ne),D(Re.name),y(""))},Se=()=>{R(null),D(""),y("")},ue=()=>{if(!C)return;const Ne=F.trim();if(!Ne){y(t("tools.sets.renameErrorEmpty"));return}m(Re=>Re.map(Ae=>Ae.id===C?{...Ae,name:Ne}:Ae)),R(null),D(""),y("")},De=async Ne=>{var Ae,Ue;const Re=(Ue=(Ae=Ne.target)==null?void 0:Ae.files)==null?void 0:Ue[0];if(Re)try{if(h.length>=Dm){alert(t("tools.sets.importErrorMaxReached"));return}const nt=await Re.text(),ut=JSON.parse(nt);if((ut==null?void 0:ut.version)!==1||(ut==null?void 0:ut.type)!=="toolSet"||typeof(ut==null?void 0:ut.set)!="object")throw new Error("invalid payload");const{set:xt}=ut;if(typeof(xt==null?void 0:xt.name)!="string"||typeof(xt==null?void 0:xt.classLabel)!="string"||typeof(xt==null?void 0:xt.serverLabel)!="string")throw new Error("invalid set");const Vt={...xt,id:`imported-${Date.now()}`,name:xt.name,classLabel:xt.classLabel,serverLabel:xt.serverLabel};m(Bt=>[...Bt,Vt]),v(Vt.id)}catch(nt){console.error("Failed to import set",nt),alert(t("tools.sets.importErrorInvalid"))}finally{Ne.target.value=""}},Ee=Ne=>{g&&(m(Re=>Re.map(Ae=>{var nt;if(Ae.id!==g)return Ae;const Ue={...(nt=Ae.tools)!=null?nt:{},gemSim:Ne};return{...Ae,tools:Ue}})),L(!0))},tt=Ne=>{g&&(m(Re=>Re.map(Ae=>{var nt;if(Ae.id!==g)return Ae;const Ue={...(nt=Ae.tools)!=null?nt:{},dungeonPauseOpenXP:Ne};return{...Ae,tools:Ue}})),L(!0))},pt=`${U}/${Dm}`,Ht=t(G.labelKey,G.defaultLabel),Ss=t(G.descriptionKey,G.defaultDescription),Ns=async()=>{if(!i)return;const Ne=e==null?void 0:e.id;if(!(!Ne||P||I!==null&&I>Date.now())&&w){O(!0),W(null);try{await k0e(Ne,{sets:h,activeSetId:g,activeToolId:b});const Ae=Date.now(),Ue=Ae+N0e;L(!1),j(new Date(Ae)),M(Ue)}catch(Ae){console.error("Failed to sync tools state",Ae),W(t("tools.sync.error"))}finally{O(!1)}}};return n.jsx(Nt,{title:"Tools",subtitle:"Sets & Dummy-Tools",centerFramed:!1,children:n.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[n.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4 md:p-5",children:[n.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Sets"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Waehle dein aktives Char-Set (max. 3 Slots)"})]}),n.jsx("span",{className:"text-xs text-slate-400",children:pt})]}),n.jsxs("div",{className:"flex items-stretch gap-3 overflow-x-auto pb-1",children:[h.map(Ne=>{const Re=Ne.id===g;return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{type:"button",onClick:()=>v(Ne.id),className:["flex min-w-[180px] flex-col gap-1 rounded-2xl border px-4 py-3 text-left transition duration-150 ease-out focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Re?"border-emerald-400/80 bg-emerald-500/10 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.6)]":"border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:bg-slate-800/80"].join(" "),children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("span",{className:"text-sm font-semibold text-slate-50",children:Ne.name}),n.jsx("span",{role:"button",tabIndex:0,onClick:Ae=>{Ae.stopPropagation(),ke(Ne.id)},onKeyDown:Ae=>{(Ae.key==="Enter"||Ae.key===" ")&&(Ae.preventDefault(),Ae.stopPropagation(),ke(Ne.id))},"aria-label":t("tools.sets.rename"),className:"rounded-full border border-transparent p-1 text-slate-300 transition hover:border-slate-500 hover:text-white",children:n.jsx(FP,{className:"h-4 w-4"})})]}),n.jsx("div",{className:"text-xs text-emerald-200/90",children:Ne.classLabel}),n.jsx("div",{className:"text-xs text-slate-400",children:Ne.serverLabel}),Re&&n.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-300",children:"Aktiv"})]}),h.length>1&&n.jsx("button",{type:"button",onClick:Ae=>{Ae.stopPropagation(),ge(Ne.id)},className:"absolute bottom-2 right-2 rounded-full border border-slate-600/60 bg-slate-900/80 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-widest text-slate-200 transition hover:border-slate-400 hover:text-white",children:t("tools.sets.delete")})]},Ne.id)}),n.jsxs("button",{type:"button",onClick:ce,disabled:J,className:["flex h-full min-w-[140px] flex-col items-center justify-center gap-2 rounded-2xl border border-dashed px-4 py-3 text-sm font-semibold transition",J?"cursor-not-allowed border-slate-700/70 bg-slate-800/40 text-slate-500":"border-emerald-400/60 bg-emerald-500/5 text-emerald-200 hover:border-emerald-400 hover:bg-emerald-500/10"].join(" "),children:[n.jsx("span",{className:"text-lg",children:"+"}),n.jsx("span",{children:h.length>=3?"Max erreicht":"Neues Set"})]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2",children:[n.jsx("button",{type:"button",onClick:fe,className:"rounded-xl border border-slate-600/70 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400/80 hover:bg-slate-800/60",children:t("tools.sets.exportActive")}),n.jsx("button",{type:"button",onClick:Ce,className:"rounded-xl border border-emerald-400/50 bg-emerald-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-200 transition hover:border-emerald-300 hover:bg-emerald-500/20",children:t("tools.sets.import")})]}),n.jsx("input",{ref:H,type:"file",accept:"application/json",className:"hidden",onChange:De})]}),n.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:[n.jsx("div",{className:"mb-3 flex items-center justify-between gap-3",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Tools"}),n.jsx("p",{className:"text-sm text-slate-400",children:"Dummy-Tools, die das aktive Set verwenden"})]})}),n.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-1",children:Cc.map(Ne=>{const Re=Ne.id===b,Ae=t(Ne.labelKey,Ne.defaultLabel);return n.jsxs("button",{type:"button",onClick:()=>S(Ne.id),className:["flex flex-shrink-0 items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition duration-150 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Re?"border-emerald-400/80 bg-emerald-500/10 text-emerald-100 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/70 text-slate-200 hover:border-emerald-400/60 hover:text-emerald-100"].join(" "),children:[n.jsx("span",{className:"text-base","aria-hidden":!0,children:"*"}),n.jsx("span",{children:Ae})]},Ne.id)})})]}),n.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:i?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.2fr_1fr] md:items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:t("tools.banner.accountComingSoon")}),n.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-50",children:t("tools.banner.accountTitle")})]}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(Ne=>n.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/5 p-3 text-sm text-emerald-50 shadow-[0_12px_45px_-30px_rgba(16,185,129,0.8)]",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200/90",children:t("tools.banner.accountComingSoon")}),n.jsx("div",{className:"mt-1 leading-snug text-emerald-50/90",children:Ne})]},Ne))})]}),n.jsx(S0e,{isLoggedIn:i,hasUnsyncedChanges:w,lastSyncedAt:N,cooldownUntil:I,onSyncClick:Ns,isSaving:P,syncError:$})]}):n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:t("tools.banner.guestTitle")}),n.jsx("p",{className:"text-sm text-slate-400",children:t("tools.banner.guestDescription")}),n.jsx("ul",{className:"text-sm text-slate-300",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(Ne=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-400","aria-hidden":!0}),n.jsx("span",{children:Ne})]},Ne))})]}),n.jsx("div",{className:"flex gap-3 md:flex-col md:items-end",children:n.jsx("button",{type:"button",onClick:ee,className:"rounded-xl border border-emerald-400/60 bg-emerald-500/10 px-4 py-2 text-sm font-semibold text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",children:t("tools.banner.guestLoginCta")})})]})}),n.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-5 md:p-6",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Aktives Tool"}),n.jsx("h3",{className:"text-xl font-semibold text-slate-50",children:Ht}),n.jsxs("p",{className:"text-sm text-slate-400",children:["Aktives Set: ",(K==null?void 0:K.name)||"kein Set"]})]}),n.jsx("div",{className:"flex gap-2",children:Cc.map(Ne=>n.jsx("div",{className:["h-2 w-8 rounded-full transition",b===Ne.id?"bg-emerald-400":"bg-slate-700"].join(" "),"aria-hidden":!0},Ne.id))})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-[2fr_1fr]",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[n.jsx("div",{className:"text-sm text-slate-300",children:Ss}),n.jsx("div",{className:"mt-4",children:b==="gemSim"?n.jsx(jE,{initialState:te,onStateChange:Ee}):b==="dungeonPauseOpenXP"?n.jsx(kE,{initialState:ne,onStateChange:tt},g):n.jsxs("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-900/60 p-4 text-center text-sm text-slate-400",children:["Placeholder fuer kuenftige Tool-Komponente",n.jsx("br",{}),"(z. B. ",Ht,")"]})})]}),n.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Set-Details"}),n.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-100",children:K==null?void 0:K.name}),n.jsx("div",{className:"text-sm text-emerald-200/90",children:K==null?void 0:K.classLabel}),n.jsx("div",{className:"text-xs text-slate-400",children:K==null?void 0:K.serverLabel})]}),n.jsxs("div",{className:"rounded-2xl border border-dashed border-emerald-400/40 bg-emerald-500/5 p-3 text-xs text-emerald-100",children:["Lokaler State only - keine Firestore-Anbindung.",n.jsx("br",{}),"Slides wechseln, wenn du oben ein Tool auswaehlst."]})]})]})]}),C&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:Se}),n.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-2xl border border-slate-700/80 bg-slate-900/95 p-6 shadow-2xl",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:t("tools.sets.renameTitle")}),n.jsx("label",{className:"mt-4 block text-xs uppercase tracking-[0.3em] text-slate-400",children:t("tools.sets.renameLabel")}),n.jsx("input",{value:F,onChange:Ne=>D(Ne.target.value),autoFocus:!0,className:"mt-2 w-full rounded-xl border border-slate-700/70 bg-slate-900/60 px-4 py-2 text-sm text-slate-50 outline-none transition focus:border-emerald-400",placeholder:t("tools.sets.renamePlaceholder")}),A&&n.jsx("p",{className:"mt-2 text-xs text-rose-400",children:A}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx("button",{type:"button",onClick:Se,className:"rounded-xl border border-slate-600/80 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400 hover:bg-slate-800/60",children:t("tools.sets.renameCancel")}),n.jsx("button",{type:"button",onClick:ue,className:"rounded-xl border border-emerald-400/60 bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/80",children:t("tools.sets.renameSave")})]})]})]})]})})}const E0e="_backdrop_19xh2_1",A0e="_panel_19xh2_19",I0e="_header_19xh2_43",R0e="_tabs_19xh2_63",P0e="_tabBtn_19xh2_75",L0e="_tabActive_19xh2_97",D0e="_closeBtn_19xh2_101",M0e="_content_19xh2_123",Si={backdrop:E0e,panel:A0e,header:I0e,tabs:R0e,tabBtn:P0e,tabActive:L0e,closeBtn:D0e,content:M0e},nf=t=>String(t!=null?t:"").trim(),to=t=>nf(t).toUpperCase(),es=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),rf=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),ek=t=>{const e=rf(t);if(!e)return[];const s=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(s))},tk=t=>{const e=new Set;for(const s of t)for(let r=1;r<=s.length;r++)e.add(s.slice(0,r));return Array.from(e)},fy=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},wt={PLAYERS:{IDENTIFIER:es("Identifier"),PID:es("ID"),GUILD_IDENTIFIER:es("Guild Identifier"),SERVER:es("Server"),NAME:es("Name"),TIMESTAMP:es("Timestamp"),LEVEL:es("Level"),CLASS:es("Class"),GUILD:es("Guild")},GUILDS:{GUILD_IDENTIFIER:es("Guild Identifier"),SERVER:es("Server"),NAME:es("Name"),MEMBER_COUNT:es("Guild Member Count"),TIMESTAMP:es("Timestamp"),HOF:es("Hall of Fame Rank"),HOF_ALT:es("HoF"),RANK:es("Rank"),GUILD_RANK:es("Guild Rank")}},F0e=new Set([es("Strength"),es("Dexterity"),es("Intelligence"),es("Constitution"),es("Luck"),es("Attribute")]),B0e=["equipment"],$0e=t=>F0e.has(t)||B0e.some(e=>t.includes(e)),At=(t,e)=>{for(const s of Object.keys(t))if(es(s)===e)return t[s]},O0e=(t,e)=>e.map(s=>At(t,s)).find(s=>s!=null&&String(s)!=="");function Uf(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const s=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(s){const i=Number(s[1]),a=Number(s[2])-1,l=Number(s[3]),d=Number(s[4]),u=Number(s[5]),h=s[6]?Number(s[6]):0,m=new Date(l,a,i,d,u,h);if(!Number.isNaN(m.getTime()))return Math.floor(m.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function sk(t){const e=new Date(t*1e3),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=s.getUTCDay()||7;s.setUTCDate(s.getUTCDate()+4-r);const i=new Date(Date.UTC(s.getUTCFullYear(),0,1)),a=Math.ceil(((+s-+i)/864e5+1)/7),l=s.getUTCFullYear(),d=a.toString().padStart(2,"0");return`${l}-W${d}`}function nk(t){const e=new Date(t*1e3),s=new Date(e),r=(s.getDay()+6)%7;s.setHours(0,0,0,0),s.setDate(s.getDate()-r);const i=Math.floor(s.getTime()/1e3),a=i+7*86400-1;return{start:i,end:a}}function rk(t){const e=new Date(t*1e3),s=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${s}-${r}`}function ik(t){const e=new Date(t*1e3),s=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(s.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function V0e(t){const e=[",",";","	","|"];let s=",",r=-1;for(const i of e){const a=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(s=i,r=a)}return s}function U0e(t){var u;const s=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!s.length)return{headers:[],rows:[]};const r=V0e((u=s[0])!=null?u:""),i=h=>{const m=[];let g="",v=!1;for(let b=0;b<h.length;b++){const S=h[b];S==='"'?v&&h[b+1]==='"'?(g+='"',b++):v=!v:S===r&&!v?(m.push(g),g=""):g+=S}return m.push(g),m},l=(s[0]?i(s[0]).map(nf):[]).map((h,m)=>h||`col${m}`),d=[];for(let h=1;h<s.length;h++){if(!s[h])continue;const m=i(s[h]);if(m.every(v=>nf(v)===""))continue;const g={};for(let v=0;v<l.length;v++)g[l[v]]=m[v]!=null?nf(m[v]):"";d.push(g)}return{headers:l,rows:d}}const ak=120,ok=40,lk=120;async function Ec(t,e,s,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:s});for(let i=0;i<t.length;i+=e){const a=PF(Ct),l=t.slice(i,i+e);for(const d of l)d(a);r==null||r({phase:"write",current:Math.min(i+l.length,t.length),total:t.length,pass:s}),await a.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:s})}function Mm(t,e){const s={};for(const r of e){const i=es(r);if($0e(i)){let a=null,l;for(const d of t){const u=d.row[r];if(u==null||u==="")continue;const h=Number(String(u).replace(/[^0-9.-]/g,""));Number.isNaN(h)||(a==null||h>a)&&(a=h,l=u)}s[r]=l!=null?l:""}else{let a="";for(let l=t.length-1;l>=0;l--){const d=t[l].row[r];if(d!=null&&String(d)!==""){a=d;break}}s[r]=a}}return s}async function ck(t){var i;const e=await Vn(t);if(!e.exists())return 0;const s=e.data();if(((i=s==null?void 0:s.values)==null?void 0:i.Timestamp)!=null){const a=Uf(s.values.Timestamp);if(a!=null)return a}if((s==null?void 0:s.timestampRaw)!=null){const a=Uf(s.timestampRaw);if(a!=null)return a}if(typeof(s==null?void 0:s.ts)=="number")return s.ts;const r=s==null?void 0:s.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const a=Date.parse(r);return Number.isFinite(a)?Math.floor(a/1e3):0}return 0}async function dk(t,e){var m,g,v,b,S;const s=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],a={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let l=[];if(e.rows&&Array.isArray(e.rows))l=e.rows;else if(e.raw&&typeof e.raw=="string")l=U0e(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const C of l)Object.keys(C).forEach(R=>d.add(R));const u=Array.from(d);if(e.kind==="players"){const C=[],R=[],F=[],D=new Map;for(const A of l){const y=(m=At(A,wt.PLAYERS.PID))!=null?m:At(A,wt.PLAYERS.IDENTIFIER),w=String(y!=null?y:"").trim();if(!w){a.skippedMissingIdentifier++;continue}const L=Uf(At(A,wt.PLAYERS.TIMESTAMP));if(L==null){a.skippedBadTs++;continue}const N=(()=>{const j=At(A,wt.PLAYERS.SERVER);return j&&String(j).trim()!==""?to(j):void 0})();if(!N){a.skippedMissingServer++;continue}C.push(j=>{const I=Xt(Ct,`players/${w}/scans/${L}`);j.set(I,{playerId:w,server:N,timestamp:L,timestampRaw:At(A,wt.PLAYERS.TIMESTAMP),name:At(A,wt.PLAYERS.NAME)||null,values:A,createdAt:Ni()},{merge:!0})}),a.writtenScanPlayers++,D.has(w)||D.set(w,[]),D.get(w).push({row:A,ts:L})}for(const[A,y]of D){y.sort((G,te)=>G.ts-te.ts);const w=y[y.length-1],L=to(At(w.row,wt.PLAYERS.SERVER)||""),N=At(w.row,wt.PLAYERS.NAME)||null,j=At(w.row,wt.PLAYERS.LEVEL),I=At(w.row,wt.PLAYERS.CLASS),M=At(w.row,wt.PLAYERS.GUILD),P=(v=(g=At(w.row,wt.PLAYERS.NAME))!=null?g:N)!=null?v:"",O=ek(P),$=tk(O),W=Xt(Ct,`players/${A}/latest/latest`),H=await ck(W);w.ts>H&&(R.push(G=>{G.set(W,{playerId:A,server:L,timestamp:w.ts,timestampRaw:At(w.row,wt.PLAYERS.TIMESTAMP),name:N,values:w.row,updatedAt:Ni(),nameFold:rf(P),nameTokens:O,nameNgrams:$,level:fy(j),className:I!=null&&String(I).trim()!==""?String(I):null,guildName:M!=null&&String(M).trim()!==""?String(M):null,guildNameFold:M?rf(M):null},{merge:!0})}),a.writtenLatestPlayers++);const q=new Map,K=new Map;for(const G of y){const te=sk(G.ts),ne=rk(G.ts);q.has(te)||q.set(te,[]),K.has(ne)||K.set(ne,[]),q.get(te).push(G),K.get(ne).push(G)}for(const[G,te]of q){te.sort((ce,ee)=>ce.ts-ee.ts);const ne=Mm(te,u),U=nk(te[te.length-1].ts),J=te[te.length-1];F.push(ce=>{const ee=Xt(Ct,`players/${A}/history_weekly/${G}`);ce.set(ee,{playerId:A,weekId:G,periodStartSec:U.start,periodEndSec:U.end,lastTs:J.ts,lastTimestampRaw:At(J.row,wt.PLAYERS.TIMESTAMP),server:to(At(J.row,wt.PLAYERS.SERVER)||""),name:At(J.row,wt.PLAYERS.NAME)||null,values:ne,updatedAt:Ni()},{merge:!0})}),a.writtenWeeklyPlayers++}for(const[G,te]of K){te.sort((ce,ee)=>ce.ts-ee.ts);const ne=Mm(te,u),U=ik(te[te.length-1].ts),J=te[te.length-1];F.push(ce=>{const ee=Xt(Ct,`players/${A}/history_monthly/${G}`);ce.set(ee,{playerId:A,monthId:G,periodStartSec:U.start,periodEndSec:U.end,lastTs:J.ts,lastTimestampRaw:At(J.row,wt.PLAYERS.TIMESTAMP),server:to(At(J.row,wt.PLAYERS.SERVER)||""),name:At(J.row,wt.PLAYERS.NAME)||null,values:ne,updatedAt:Ni()},{merge:!0})}),a.writtenMonthlyPlayers++}}await Ec(C,ak,"scans",e.onProgress),await Ec(R,ok,"latest",e.onProgress),await Ec(F,lk,"history",e.onProgress)}if(e.kind==="guilds"){const C=[],R=[],F=[],D=new Map;for(const A of l){const y=String((b=At(A,wt.GUILDS.GUILD_IDENTIFIER))!=null?b:"").trim();if(!y){a.skippedMissingGuildIdentifier++;continue}const w=Uf(At(A,wt.GUILDS.TIMESTAMP));if(w==null){a.skippedBadTsGuild++;continue}const L=(()=>{const N=At(A,wt.GUILDS.SERVER);return N&&String(N).trim()!==""?to(N):void 0})();if(!L){a.skippedMissingServer++;continue}C.push(N=>{const j=Xt(Ct,`guilds/${y}/scans/${w}`);N.set(j,{guildIdentifier:y,server:L,timestamp:w,timestampRaw:At(A,wt.GUILDS.TIMESTAMP),name:At(A,wt.GUILDS.NAME)||null,values:A,createdAt:Ni()},{merge:!0})}),a.writtenScanGuilds++,D.has(y)||D.set(y,[]),D.get(y).push({row:A,ts:w})}for(const[A,y]of D){y.sort((H,q)=>H.ts-q.ts);const w=y[y.length-1],L=(S=At(w.row,wt.GUILDS.NAME))!=null?S:"",N=ek(L),j=tk(N),I=fy(At(w.row,wt.GUILDS.MEMBER_COUNT)),M=fy(O0e(w.row,[wt.GUILDS.HOF,wt.GUILDS.HOF_ALT,wt.GUILDS.RANK,wt.GUILDS.GUILD_RANK])),P=Xt(Ct,`guilds/${A}/latest/latest`),O=await ck(P);w.ts>O&&(R.push(H=>{H.set(P,{guildIdentifier:A,server:to(At(w.row,wt.GUILDS.SERVER)||""),timestamp:w.ts,timestampRaw:At(w.row,wt.GUILDS.TIMESTAMP),name:At(w.row,wt.GUILDS.NAME)||null,values:w.row,updatedAt:Ni(),nameFold:rf(L),nameTokens:N,nameNgrams:j,memberCount:I,hofRank:M},{merge:!0})}),a.writtenLatestGuilds++);const $=new Map,W=new Map;for(const H of y){const q=sk(H.ts),K=rk(H.ts);$.has(q)||$.set(q,[]),W.has(K)||W.set(K,[]),$.get(q).push(H),W.get(K).push(H)}for(const[H,q]of $){q.sort((ne,U)=>ne.ts-U.ts);const K=Mm(q,u),G=nk(q[q.length-1].ts),te=q[q.length-1];F.push(ne=>{const U=Xt(Ct,`guilds/${A}/history_weekly/${H}`);ne.set(U,{guildIdentifier:A,weekId:H,periodStartSec:G.start,periodEndSec:G.end,lastTs:te.ts,lastTimestampRaw:At(te.row,wt.GUILDS.TIMESTAMP),server:to(At(te.row,wt.GUILDS.SERVER)||""),name:At(te.row,wt.GUILDS.NAME)||null,values:K,updatedAt:Ni()},{merge:!0})}),a.writtenWeeklyGuilds++}for(const[H,q]of W){q.sort((ne,U)=>ne.ts-U.ts);const K=Mm(q,u),G=ik(q[q.length-1].ts),te=q[q.length-1];F.push(ne=>{const U=Xt(Ct,`guilds/${A}/history_monthly/${H}`);ne.set(U,{guildIdentifier:A,monthId:H,periodStartSec:G.start,periodEndSec:G.end,lastTs:te.ts,lastTimestampRaw:At(te.row,wt.GUILDS.TIMESTAMP),server:to(At(te.row,wt.GUILDS.SERVER)||""),name:At(te.row,wt.GUILDS.NAME)||null,values:K,updatedAt:Ni()},{merge:!0})}),a.writtenMonthlyGuilds++}}await Ec(C,ak,"scans",e.onProgress),await Ec(R,ok,"latest",e.onProgress),await Ec(F,lk,"history",e.onProgress)}const h=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:a,errors:r,warnings:i,durationMs:h-s}}const mt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),z0e=t=>String(t!=null?t:"").trim(),_0=t=>z0e(t).toUpperCase(),w0=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function kn(t,e){for(const s of Object.keys(t))if(mt(s)===e)return t[s]}function ia(t,e){for(const s of e){const r=kn(t,s);if(r!=null&&String(r)!=="")return r}}function al(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function Kc(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const s=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(s){const i=Number(s[1]),a=Number(s[2])-1,l=Number(s[3]),d=Number(s[4]),u=Number(s[5]),h=s[6]?Number(s[6]):0,m=new Date(l,a,i,d,u,h);if(!Number.isNaN(m.getTime()))return Math.floor(m.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const Ds={GUILD_IDENTIFIER:mt("Guild Identifier"),SERVER:mt("Server"),NAME:mt("Name"),TIMESTAMP:mt("Timestamp"),LEVEL:mt("Level"),CLASS:mt("Class"),GUILD:mt("Guild"),GUILD_ROLE:[mt("Role"),mt("Guild Role")],TREASURY:[mt("Treasury"),mt("Fortress Treasury"),mt("Treasury Level"),mt("Festungsschatzkammer")],MINE:[mt("Mine"),mt("Gem Mine"),mt("Mine Level"),mt("Festungsmine")],BASE_MAIN:[mt("Base"),mt("Base Attribute"),mt("BaseMain"),mt("Basis Attribut")],CON_BASE:[mt("Con Base"),mt("Constitution Base"),mt("Base Constitution"),mt("Basis Konstitution"),mt("conbase")],ATTR_TOT:[mt("Attribute"),mt("Attr Total"),mt("Attribut"),mt("Attribut Gesamt")],CON_TOT:[mt("Constitution"),mt("Constitution Total"),mt("Konstitution"),mt("Konstitution Gesamt")],LAST_ACTIVE:[mt("Last Active"),mt("LastActivity"),mt("Letzte Aktivitt")],GUILD_JOINED:[mt("Guild Joined"),mt("Joined Guild"),mt("Gildenbeitritt")]},af={GUILD_IDENTIFIER:mt("Guild Identifier"),SERVER:mt("Server"),NAME:mt("Name")};function uk(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function H0e(t){let e=5381;for(let s=0;s<t.length;s++)e=e*33^t.charCodeAt(s);return(e>>>0).toString(36)}function G0e(t){var s;const e=new Map;for(const r of t){const i=String((s=kn(r,af.GUILD_IDENTIFIER))!=null?s:"").trim(),a=kn(r,af.SERVER),l=kn(r,af.NAME);if(!i||!a||!l)continue;const d=`${_0(a)}__${w0(String(l))}`;e.set(d,i)}return e}function W0e(t){var A,y;const e=kn(t,Ds.TIMESTAMP),s=Kc(e),r=ia(t,Ds.LAST_ACTIVE),i=Kc(r),a=ia(t,Ds.GUILD_JOINED),l=Kc(a),d=al(kn(t,Ds.LEVEL)),u=(()=>{const w=kn(t,Ds.CLASS);return w!=null&&String(w).trim()!==""?String(w):null})(),h=(()=>{const w=ia(t,Ds.GUILD_ROLE);return w!=null&&String(w).trim()!==""?String(w):null})(),m=al(ia(t,Ds.TREASURY)),g=al(ia(t,Ds.MINE)),v=al(ia(t,Ds.BASE_MAIN)),b=al(ia(t,Ds.CON_BASE)),S=al(ia(t,Ds.ATTR_TOT)),C=al(ia(t,Ds.CON_TOT)),R=v!=null&&b!=null?v+b:null,F=S!=null&&C!=null?S+C:null,D=(()=>{const w=kn(t,Ds.NAME);return w!=null&&String(w).trim()!==""?String(w):null})();return{id:String((y=(A=t==null?void 0:t.ID)!=null?A:t==null?void 0:t.Identifier)!=null?y:""),name:D,class:u,role:h,level:d,treasury:m,mine:g,baseMain:v,conBase:b,sumBaseTotal:R,attrTotal:S,conTotal:C,totalStats:F,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:s!=null?s*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:a!=null?String(a):null,guildJoinedMs:l!=null?l*1e3:null}}function aa(t,e){const s=t.map(r=>r[e]).filter(r=>typeof r=="number");return s.length?s.reduce((r,i)=>r+i,0)/s.length:null}async function q0e(t){var l,d,u;const e=Xt(Ct,`guilds/${t}/latest/latest`),s=await Vn(e);if(!s.exists())return{sec:null,raw:null};const r=s.data()||{},i=(u=(d=r.timestampRaw)!=null?d:(l=r.values)==null?void 0:l.Timestamp)!=null?u:null;let a=null;return typeof r.timestamp=="number"?a=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(a=Kc(i)),{sec:a,raw:i}}async function K0e(t){const e=Xt(Ct,`guilds/${t}/snapshots/members_summary`),s=await Vn(e);if(!s.exists())return 0;const r=s.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=Kc(r.updatedAt);if(i!=null)return i}return 0}async function Q0e(t,e){var a,l,d,u,h,m,g;const s=G0e(e||[]),r=new Set;for(const v of e||[]){const b=String((a=kn(v,af.GUILD_IDENTIFIER))!=null?a:"").trim();b&&r.add(b)}for(const v of t||[]){const b=kn(v,Ds.SERVER);let S=String((l=kn(v,Ds.GUILD_IDENTIFIER))!=null?l:"").trim();if(!S){const C=(d=kn(v,Ds.GUILD))!=null?d:v.Guild;if(C&&b){const R=`${_0(b)}__${w0(String(C))}`,F=s.get(R);F&&(S=F)}}S&&r.add(S)}let i=0;for(const v of r){const{sec:b,raw:S}=await q0e(v);if(b==null)continue;const C=await K0e(v);if(b<=C)continue;const R=new Map;for(const H of t||[]){const q=kn(H,Ds.SERVER);let K=String((u=kn(H,Ds.GUILD_IDENTIFIER))!=null?u:"").trim();if(!K){const ne=(h=kn(H,Ds.GUILD))!=null?h:H.Guild;if(ne&&q){const U=`${_0(q)}__${w0(String(ne))}`,J=s.get(U);J&&(K=J)}}if(K!==v)continue;const G=Kc(kn(H,Ds.TIMESTAMP));if(G==null||G!==b)continue;const te=String((g=(m=H==null?void 0:H.ID)!=null?m:H==null?void 0:H.Identifier)!=null?g:"").trim();te&&(R.has(te)||R.set(te,H))}const F=Array.from(R.values()),D=[];for(const H of F)D.push(W0e(H));D.sort((H,q)=>{var te,ne;const K=uk(H.role),G=uk(q.role);return K!==G?K-G:((te=H.name)!=null?te:"").toLowerCase().localeCompare(((ne=q.name)!=null?ne:"").toLowerCase())});const A=aa(D,"level"),y=aa(D,"treasury"),w=aa(D,"mine"),L=aa(D,"baseMain"),N=aa(D,"conBase"),j=aa(D,"sumBaseTotal"),I=aa(D,"attrTotal"),M=aa(D,"conTotal"),P=aa(D,"totalStats"),O=JSON.stringify({gid:v,tsSec:b,members:D.map(H=>{var q,K,G,te,ne,U,J,ce,ee,fe,Ce,ge,ke;return{id:H.id,name:(q=H.name)!=null?q:"",class:(K=H.class)!=null?K:"",role:(G=H.role)!=null?G:"",level:(te=H.level)!=null?te:null,treasury:(ne=H.treasury)!=null?ne:null,mine:(U=H.mine)!=null?U:null,baseMain:(J=H.baseMain)!=null?J:null,conBase:(ce=H.conBase)!=null?ce:null,sumBaseTotal:(ee=H.sumBaseTotal)!=null?ee:null,attrTotal:(fe=H.attrTotal)!=null?fe:null,conTotal:(Ce=H.conTotal)!=null?Ce:null,totalStats:(ge=H.totalStats)!=null?ge:null,guildJoinedMs:(ke=H.guildJoinedMs)!=null?ke:null}})}),$=H0e(O),W=Xt(Ct,`guilds/${v}/snapshots/members_summary`);await kl(W,{guildId:v,count:D.length,updatedAt:S!=null?S:String(b),updatedAtMs:b*1e3,hash:$,avgLevel:A,avgTreasury:y,avgMine:w,avgBaseMain:L,avgConBase:N,avgSumBaseTotal:j,avgAttrTotal:I,avgConTotal:M,avgTotalStats:P,members:D,updatedAtServer:Ni()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function X0e(t){const e=new Date(t),s=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${s}-${r}`}async function Y0e(t,e,s,r){var u,h,m;const i=Xt(Ct,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),a=await Vn(i);if(!a.exists())return await kl(i,s,{merge:!1}),{first:s,firstTsMs:(u=s.updatedAtMs)!=null?u:s.timestamp?s.timestamp*1e3:r};const l=a.data(),d=(h=l.updatedAtMs)!=null?h:l.timestamp?l.timestamp*1e3:r;return r<d?(await kl(i,s,{merge:!1}),{first:s,firstTsMs:(m=s.updatedAtMs)!=null?m:s.timestamp?s.timestamp*1e3:r}):{first:l,firstTsMs:d}}async function J0e(t,e,s){const r=Xt(Ct,`guilds/${t}/history_monthly/${e}`);await kl(r,s,{merge:!0})}function Z0e(t){var D,A,y,w,L,N,j,I,M,P,O,$,W;const{guildId:e,monthKey:s,server:r,first:i,firstTsMs:a,latest:l,latestTsMs:d}=t,u=a!=null?Math.floor((d-a)/864e5):null,h=u!=null&&u<=40,m={available:h};h||(m.reason=u==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const g={meta:{monthKey:s,label:new Date(`${s}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:a?new Date(a).toISOString():null,toISO:new Date(d).toISOString(),fromTs:a?Math.floor(a/1e3):null,toTs:Math.floor(d/1e3),daysSpan:u,guildId:e,server:r!=null?r:null},status:m};if(!h||!i)return g;const v=new Map;for(const H of i.members||[])H.playerId&&v.set(H.playerId,H);const b=[],S=[],C=[],R=[],F=[];for(const H of l.members||[]){if(!H.playerId)continue;const q=v.get(H.playerId)||null,K=(D=H.sumBaseTotal)!=null?D:null,G=(A=q==null?void 0:q.sumBaseTotal)!=null?A:null,te=K!=null&&G!=null?K-G:0,ne=(y=H.totalStats)!=null?y:null,U=(w=q==null?void 0:q.totalStats)!=null?w:null,J=ne!=null&&U!=null?ne-U:0;b.push({playerId:H.playerId,name:(L=H.name)!=null?L:null,class:(N=H.class)!=null?N:null,levelLatest:(j=H.level)!=null?j:null,baseLatest:K,baseDelta:te}),S.push({playerId:H.playerId,name:(I=H.name)!=null?I:null,base:K,stamDelta:null,shoDelta:null}),C.push({playerId:H.playerId,name:(M=H.name)!=null?M:null,stats:K,delta:te}),R.push({playerId:H.playerId,name:(P=H.name)!=null?P:null,total:ne,delta:J}),F.push({playerId:H.playerId,name:(O=H.name)!=null?O:null,class:($=H.class)!=null?$:null,stats:(W=H.baseMain)!=null?W:null,delta:(q==null?void 0:q.baseMain)!=null&&H.baseMain!=null?H.baseMain-q.baseMain:0})}return b.sort((H,q)=>{var K,G;return((K=q.baseDelta)!=null?K:-1/0)-((G=H.baseDelta)!=null?G:-1/0)}),C.sort((H,q)=>{var K,G;return((K=q.stats)!=null?K:-1/0)-((G=H.stats)!=null?G:-1/0)}),R.sort((H,q)=>{var K,G;return((K=q.total)!=null?K:-1/0)-((G=H.total)!=null?G:-1/0)}),S.sort((H,q)=>{var K,G;return((K=q.base)!=null?K:-1/0)-((G=H.base)!=null?G:-1/0)}),F.sort((H,q)=>{var K,G;return((K=q.stats)!=null?K:-1/0)-((G=H.stats)!=null?G:-1/0)}),{...g,mostBaseGained:b.slice(0,50),sumBaseStats:S.slice(0,50),highestBaseStats:C.slice(0,50),highestTotalStats:R.slice(0,50),mainAndCon:F.slice(0,50)}}const gy=t=>String(t!=null?t:"").trim(),Bn=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function e1e(t){const e=[",",";","	","|"];let s=",",r=-1;for(const i of e){const a=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(s=i,r=a)}return s}function hk(t){var u;const s=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!s.length)return{headers:[],rows:[],delimiter:","};const r=e1e((u=s[0])!=null?u:""),i=h=>{const m=[];let g="",v=!1;for(let b=0;b<h.length;b++){const S=h[b];S==='"'?v&&h[b+1]==='"'?(g+='"',b++):v=!v:S===r&&!v?(m.push(g),g=""):g+=S}return m.push(g),m},l=(s[0]?i(s[0]).map(gy):[]).map((h,m)=>h||`col${m}`),d=[];for(let h=1;h<s.length;h++){if(!s[h])continue;const m=i(s[h]);if(m.every(v=>gy(v)===""))continue;const g={};for(let v=0;v<l.length;v++)g[l[v]]=m[v]!=null?gy(m[v]):"";d.push(g)}return{headers:l,rows:d,delimiter:r}}const Fs={PLAYERS:{IDENTIFIER:Bn("Identifier"),GUILD_IDENTIFIER:Bn("Guild Identifier"),TIMESTAMP:Bn("Timestamp"),NAME:Bn("Name"),SERVER:Bn("Server"),OWN:Bn("Own")},GUILDS:{GUILD_IDENTIFIER:Bn("Guild Identifier"),GUILD_MEMBER_COUNT:Bn("Guild Member Count"),NAME:Bn("Name"),TIMESTAMP:Bn("Timestamp")}},tA=(t,e)=>{const s=new Set(t.map(Bn));return e.every(r=>s.has(r))},Mr=(t,e)=>{for(const s of Object.keys(t))if(Bn(s)===e)return t[s]};function t1e(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function pk(t){const e=t.map(Bn),s=a=>e.includes(a);let r=0,i=0;return s(Fs.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),s(Fs.PLAYERS.IDENTIFIER)&&(r+=2),s(Fs.PLAYERS.TIMESTAMP)&&(r+=1),s(Fs.GUILDS.GUILD_IDENTIFIER)&&(i+=2),s(Fs.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),s(Fs.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||s(Fs.PLAYERS.IDENTIFIER)?"players":"guilds"}function mk(t,e){const s=t1e(t);if(s!=="unknown"){const i=pk(e);return i!=="unknown"&&i!==s?{kind:s,via:"filename",warn:`Per Dateiname als "${s}" klassifiziert, Header deuten auf "${i}".`}:{kind:s,via:"filename"}}const r=pk(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function sA(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const s=Date.parse(e);return Number.isFinite(s)?Math.floor(s/1e3):null}function s1e(t,e){var r;const s=[];if(!tA(e,[Fs.PLAYERS.GUILD_IDENTIFIER]))return s;for(const i of t){const a=Mr(i,Fs.PLAYERS.GUILD_IDENTIFIER);if(!a)continue;const l=Mr(i,Fs.PLAYERS.SERVER),d=l&&String(l).trim()!==""?String(l).trim().toUpperCase():void 0;s.push({guildIdentifier:String(a),id:Mr(i,Fs.PLAYERS.IDENTIFIER)||void 0,name:Mr(i,Fs.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(Mr(i,Fs.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=sA(Mr(i,Fs.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return s}function n1e(t,e){const s=[];if(!tA(e,[Fs.GUILDS.GUILD_IDENTIFIER,Fs.GUILDS.GUILD_MEMBER_COUNT]))return s;for(const r of t){const i=Mr(r,Fs.GUILDS.GUILD_IDENTIFIER),a=Number(Mr(r,Fs.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(a))continue;const l=sA(Mr(r,Fs.GUILDS.TIMESTAMP));s.push({guildIdentifier:String(i),name:Mr(r,Fs.GUILDS.NAME)||void 0,memberCount:a,tsSec:l!=null?l:void 0})}return s}function r1e(t,e){var R,F,D,A,y,w;const s=[],r=new Map;for(const L of t){const N=L.id||"",j=(R=L.server)==null?void 0:R.toUpperCase();if(N){const I=`${j!=null?j:"NO"}::${N}`;r.has(I)||r.set(I,{server:j,id:N,name:L.name||"",own:!!L.own})}}const i=r.size,a=t.length,l=Array.from(r.values()).filter(L=>L.own).length,d=new Map;for(const L of r.values())L.server&&d.set(L.server,((F=d.get(L.server))!=null?F:0)+1);const u=Array.from(d.entries()).map(([L,N])=>({server:L,players:N})).sort((L,N)=>N.players-L.players),h=u.length,m=new Map;for(const L of t)m.set(L.guildIdentifier,((D=m.get(L.guildIdentifier))!=null?D:0)+1);const g=new Set,v=new Map;for(const L of e)g.add(L.guildIdentifier),v.set(L.guildIdentifier,{name:L.name||"",declared:L.memberCount});for(const L of m.keys())g.add(L);let b=0;const S=[];for(const L of g){const N=(A=v.get(L))==null?void 0:A.declared,j=(y=m.get(L))!=null?y:0,I=N!=null&&j===N;I&&b++,S.push({id:L,name:((w=v.get(L))==null?void 0:w.name)||"",declaredCount:N!=null?N:0,playersCount:j,full:I})}[...v.values()].some(L=>Number.isFinite(L.declared))||s.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),S.sort((L,N)=>L.name?L.name.localeCompare(N.name):L.id.localeCompare(N.id));const C=Array.from(r.values()).sort((L,N)=>(L.server||"")===(N.server||"")?L.name.localeCompare(N.name):(L.server||"").localeCompare(N.server||""));return{totalPlayers:a,uniquePlayerIds:i,ownPlayers:l,servers:h,perServer:u,guildsRepresented:g.size,fullyScannedGuilds:b,notes:s,playersList:C,guildsList:S}}function i1e(){const[t,e]=E.useState([]),[s,r]=E.useState(null),[i,a]=E.useState(!1),[l,d]=E.useState(null),[u,h]=E.useState(!1),[m,g]=E.useState(null),[v,b]=E.useState([]),[S,C]=E.useState(null);E.useEffect(()=>{const N=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=N}},[]);const R=E.useCallback(async N=>{var j;a(!0),d(null),r(null),b([]),g(null);try{const I=Array.from(N).slice(0,2),M=[];let P=[],O=[];for(const $ of I){const W=$,H=await W.text(),q=hk(H),{kind:K,warn:G}=mk(W.name,q.headers);M.push({name:W.name,size:W.size||H.length,rows:q.rows.length,delimiter:q.delimiter,text:H,kind:K,warn:G}),K==="players"?P=P.concat(s1e(q.rows,q.headers)):K==="guilds"&&(O=O.concat(n1e(q.rows,q.headers)))}e(M),r(r1e(P,O))}catch(I){d(String((j=I==null?void 0:I.message)!=null?j:I))}finally{a(!1)}},[]),F=E.useCallback(async N=>{!N||N.length===0||await R(N)},[R]),D=E.useCallback(async N=>{N.preventDefault();const j=N.dataTransfer.files;!j||!j.length||await R(j)},[R]);async function A(){var N,j,I;if(t.length){h(!0),C({phase:"prepare",current:0,total:0}),g(null),b([]);try{let M=[],P=[];for(const H of t){const q=hk(H.text),{kind:K}=mk(H.name,q.headers);K==="players"&&(M=M.concat(q.rows)),K==="guilds"&&(P=P.concat(q.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!M.length,hasGuildsCsv:!!P.length,playersRows:M.length,guildsRows:P.length}),!P.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!M.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const O=await dk(null,{kind:"guilds",rows:P,onProgress:H=>C(H)});console.info("[Import Report] guilds",O);const $=await dk(null,{kind:"players",rows:M,onProgress:H=>C(H)});console.info("[Import Report] players",$),await Q0e(M,P);const W=new Set;for(const H of P){const q=Mr(H,Bn("Guild Identifier"));q&&W.add(String(q))}for(const H of M){const q=Mr(H,Bn("Guild Identifier"));q&&W.add(String(q))}for(const H of W){const q=Xt(Ct,`guilds/${H}/snapshots/members_summary`),K=await Vn(q);if(!K.exists())continue;const G=K.data(),te=Number((N=G.updatedAtMs)!=null?N:G.timestamp?G.timestamp*1e3:Date.now()),ne=X0e(te),{first:U,firstTsMs:J}=await Y0e(H,ne,G,te),ce=Z0e({guildId:H,monthKey:ne,server:(j=G.server)!=null?j:null,first:U,firstTsMs:J,latest:G,latestTsMs:te});await J0e(H,ne,ce)}C({phase:"done",current:1,total:1}),b([O,$]),g("Import abgeschlossen.")}catch(M){console.error("[UploadCenter] Import error:",M),g(`Fehler beim Import: ${(I=M==null?void 0:M.message)!=null?I:M}`)}finally{h(!1),setTimeout(()=>C(null),1200)}}}const y=E.useMemo(()=>t.map(N=>`${N.name} (${N.rows} rows, ${N.delimiter}, ${N.kind}${N.warn?" ":""})`),[t]),w=E.useMemo(()=>t.reduce((N,j)=>N+j.rows,0),[t]),L=S?Math.floor(100*S.current/Math.max(1,S.total||1)):0;return n.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[n.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[n.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),n.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[y.map((N,j)=>n.jsx("span",{className:"uc-chip",title:t[j].warn||"",children:N},j)),t.length>0&&n.jsxs("span",{className:"uc-chip",children:["Total: ",w," rows"]})]}),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[S&&n.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[n.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:n.jsx("div",{style:{width:`${L}%`,height:"100%",background:"#2E75F0"}})}),n.jsxs("span",{style:{color:"#D6E4F7"},children:[L,"%"]})]}),n.jsx("button",{onClick:A,disabled:!t.length||!s||u,className:"uc-btn",children:u?"Loading":"Load to DB"}),m&&n.jsx("span",{style:{color:m.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:m})]})]}),n.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[n.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),n.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:N=>F(N.target.files),disabled:i})]}),n.jsx("div",{onDragOver:N=>N.preventDefault(),onDrop:D,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),i&&n.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),l&&n.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[n.jsx("b",{children:"Fehler:"})," ",l]}),s&&n.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[n.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:n.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),n.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[n.jsx(wu,{label:"Eigene Charaktere (unique IDs)",value:s.ownPlayers}),n.jsx(wu,{label:"Spieler in Datei (eindeutige IDs)",value:s.uniquePlayerIds,hint:`Total (mit ID): ${s.totalPlayers}`}),n.jsx(wu,{label:"Vertretene Gilden (mit ID)",value:s.guildsRepresented}),n.jsx(wu,{label:"Vollstndig gescannte Gilden",value:s.fullyScannedGuilds}),n.jsx(wu,{label:"Verschiedene Server",value:s.servers})]}),n.jsxs("div",{style:{marginTop:12},children:[n.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),n.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{textAlign:"left"},children:"Server"}),n.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),n.jsx("tbody",{children:s.perServer.map(N=>n.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[n.jsx("td",{children:N.server}),n.jsx("td",{style:{textAlign:"right"},children:N.players})]},N.server))})]})]}),n.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[n.jsxs("details",{children:[n.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",s.playersList.length,")"]}),n.jsx("div",{style:{marginTop:8},children:n.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{textAlign:"left"},children:"Server"}),n.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),n.jsx("th",{style:{textAlign:"left"},children:"Name"}),n.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),n.jsx("tbody",{children:s.playersList.map((N,j)=>{var I,M;return n.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[n.jsx("td",{children:(I=N.server)!=null?I:""}),n.jsx("td",{children:N.id}),n.jsx("td",{children:N.name||""}),n.jsx("td",{children:N.own?"":""})]},`${(M=N.server)!=null?M:"NO"}-${N.id}-${j}`)})})]})})]}),n.jsxs("details",{open:!0,children:[n.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",s.guildsList.length,")"]}),n.jsx("div",{style:{marginTop:8},children:n.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[n.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),n.jsx("th",{style:{textAlign:"left"},children:"Name"}),n.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),n.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),n.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),n.jsx("tbody",{children:s.guildsList.map((N,j)=>n.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[n.jsx("td",{children:N.id}),n.jsx("td",{children:N.name||""}),n.jsx("td",{style:{textAlign:"right"},children:N.declaredCount||0}),n.jsx("td",{style:{textAlign:"right"},children:N.playersCount}),n.jsx("td",{style:{textAlign:"center"},children:N.full?"":""})]},`${N.id}-${j}`))})]})})]})]}),!!s.notes.length&&n.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",n.jsx("ul",{children:s.notes.map((N,j)=>n.jsx("li",{children:N},j))})]})]})]})}function wu({label:t,value:e,hint:s}){return n.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[n.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),n.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),s&&n.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:s})]})}function a1e(){return n.jsxs("div",{children:[n.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),n.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",n.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function o1e(){const{isOpen:t,close:e,activeTab:s,setTab:r,canUse:i}=A1();return!t||!i?null:n.jsx("div",{className:Si.backdrop,onClick:e,children:n.jsxs("div",{className:Si.panel,onClick:a=>a.stopPropagation(),children:[n.jsxs("div",{className:Si.header,children:[n.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),n.jsxs("div",{className:Si.tabs,children:[n.jsx("button",{type:"button",className:`${Si.tabBtn} ${s==="csv"?Si.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),n.jsx("button",{type:"button",className:`${Si.tabBtn} ${s==="json"?Si.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),n.jsx("button",{type:"button",className:Si.closeBtn,onClick:e,children:"Schlieen"})]}),n.jsx("div",{className:Si.content,children:s==="csv"?n.jsx(i1e,{}):n.jsx(a1e,{})})]})})}function l1e({route:t,featureId:e,fallback:s=null,children:r}){var m;const{resolveRule:i,canAccessFeature:a,canAccessRule:l}=bg(),d=(m=e!=null?e:t)!=null?m:"/",u=Z.useMemo(()=>i(d),[i,d]);return Z.useEffect(()=>{u||console.debug(`[FeatureGate] No rule found for target "${d}", allowing by default.`)},[u,d]),Z.useMemo(()=>!e&&!t?!0:u?l(u):a(d),[a,l,e,t,u,d])?n.jsx(n.Fragment,{children:r}):n.jsx(n.Fragment,{children:s})}function c1e(){const{open:t,canUse:e}=A1();return E.useEffect(()=>{e&&t({tab:"csv"})},[e,t]),null}const d1e=t=>()=>n.jsx("div",{style:{padding:16},children:n.jsx("h2",{style:{color:"var(--title)"},children:t})}),Dn=d1e("Diese Unterseite existiert in der neuen Struktur nicht mehr."),jt=(t,e,s,r=n.jsx(Ac,{to:"/",replace:!0}))=>n.jsx(l1e,{featureId:t,route:e,fallback:r,children:s});m4.createRoot(document.getElementById("root")).render(n.jsx(Z.StrictMode,{children:n.jsx(LF,{children:n.jsx(zF,{children:n.jsxs(KF,{children:[n.jsx(AR,{children:n.jsx(aR,{children:n.jsxs(pe,{element:n.jsx(YB,{}),children:[n.jsx(pe,{path:"/",element:jt("main.home","/",n.jsx(WH,{}),n.jsx(Ac,{to:"/login",replace:!0}))}),n.jsx(pe,{path:"/login",element:n.jsx(cG,{})}),n.jsx(pe,{path:"/dashboard",element:jt("main.dashboard","/dashboard",n.jsx(dG,{}))}),n.jsx(pe,{path:"/dashboard/kpis",element:jt("main.dashboard","/dashboard",n.jsx(pG,{}))}),n.jsx(pe,{path:"/dashboard/activity",element:jt("main.dashboard","/dashboard",n.jsx(mG,{}))}),n.jsx(pe,{path:"/dashboard/progression",element:jt("main.dashboard","/dashboard",n.jsx(fG,{}))}),n.jsx(pe,{path:"/discover",element:jt("main.discover","/discover",n.jsx(gG,{}))}),n.jsx(pe,{path:"/toplists",element:jt("main.toplists","/toplists",n.jsx(lq,{}))}),n.jsx(pe,{path:"/sfmagazine",element:n.jsx(_G,{})}),n.jsx(pe,{path:"/sfmagazine/historybook",element:n.jsx(YG,{})}),n.jsx(pe,{path:"/help",element:n.jsx(hW,{})}),n.jsx(pe,{path:"/players",element:n.jsx(cq,{})}),n.jsx(pe,{path:"/players/rankings",element:n.jsx(dq,{})}),n.jsx(pe,{path:"/players/stats",element:n.jsx(uq,{})}),n.jsx(pe,{path:"/players/profile",element:n.jsx(Kv,{})}),n.jsx(pe,{path:"/players/profile/:playerId",element:n.jsx(Kv,{})}),n.jsx(pe,{path:"/players/compare",element:n.jsx(XK,{})}),n.jsx(pe,{path:"/player/:playerId",element:n.jsx(Kv,{})}),n.jsx(pe,{path:"/guilds",element:n.jsx(rQ,{})}),n.jsx(pe,{path:"/guilds/rankings",element:n.jsx(iQ,{})}),n.jsx(pe,{path:"/guilds/stats",element:n.jsx(aQ,{})}),n.jsx(pe,{path:"/guilds/profile",element:n.jsx(Zv,{})}),n.jsx(pe,{path:"/guilds/profile/:guildId",element:n.jsx(Zv,{})}),n.jsx(pe,{path:"/guild/:guildId",element:n.jsx(Zv,{})}),n.jsx(pe,{path:"/servers",element:n.jsx(qY,{})}),n.jsx(pe,{path:"/servers/rankings",element:n.jsx(KY,{})}),n.jsx(pe,{path:"/servers/stats",element:n.jsx(QY,{})}),n.jsx(pe,{path:"/servers/profile",element:n.jsx(ey,{})}),n.jsx(pe,{path:"/servers/profile/:serverId",element:n.jsx(ey,{})}),n.jsx(pe,{path:"/server/:serverId",element:n.jsx(ey,{})}),n.jsx(pe,{path:"/u/:profileId",element:n.jsx(rZ,{})}),n.jsx(pe,{path:"/guidehub/*",element:jt("main.guidehub","/guidehub",n.jsx(Bre,{}))}),n.jsx(pe,{path:"/tools",element:jt("main.tools","/tools",n.jsx(C0e,{}))}),n.jsx(pe,{path:"/upload-center",element:jt("main.uploadCenter","/upload-center",n.jsx(c1e,{}),n.jsx(Ac,{to:"/login",replace:!0}))}),n.jsx(pe,{path:"/community",element:jt("main.community","/community",n.jsx(Iae,{}))}),n.jsx(pe,{path:"/community/scans",element:jt("main.community","/community",n.jsx(IE,{}))}),n.jsx(pe,{path:"/community/predictions",element:jt("main.community","/community",n.jsx(RE,{}))}),n.jsx(pe,{path:"/community/creators",element:jt("main.community","/community",n.jsx(AE,{}))}),n.jsx(pe,{path:"/community/feedback",element:jt("main.community","/community",n.jsx(LE,{}))}),n.jsx(pe,{path:"/community/news",element:jt("main.community","/community",n.jsx(PE,{}))}),n.jsx(pe,{path:"/community/records",element:jt("main.community","/community",n.jsx(DE,{}))}),n.jsx(pe,{path:"/scans",element:jt("main.scans","/scans",n.jsx(Rae,{}))}),n.jsx(pe,{path:"/scans/latest",element:jt("main.scans","/scans",n.jsx(Pae,{}))}),n.jsx(pe,{path:"/scans/archive",element:jt("main.scans","/scans",n.jsx(Lae,{}))}),n.jsx(pe,{path:"/guild-hub",element:jt("main.guildHub","/guild-hub",n.jsx(Dae,{}))}),n.jsx(pe,{path:"/guild-hub/planner",element:jt("main.guildHub","/guild-hub",n.jsx(nle,{}))}),n.jsx(pe,{path:"/guild-hub/fusion-planner",element:jt("main.guildHub","/guild-hub",n.jsx(Vhe,{}))}),n.jsx(pe,{path:"/guild-hub/compare-guilds",element:jt("main.guildHub","/guild-hub",n.jsx(Uhe,{}))}),n.jsx(pe,{path:"/guild-hub/waitlist",element:jt("main.guildHub","/guild-hub",n.jsx(ome,{}))}),n.jsx(pe,{path:"/guild-hub/activity",element:jt("main.guildHub","/guild-hub",n.jsx(fme,{}))}),n.jsx(pe,{path:"/guild-hub/imports",element:jt("main.guildHub","/guild-hub",n.jsx(gme,{}))}),n.jsx(pe,{path:"/guild-hub/announcements",element:jt("main.guildHub","/guild-hub",n.jsx(xme,{}))}),n.jsx(pe,{path:"/guild-hub/events",element:jt("main.guildHub","/guild-hub",n.jsx(vme,{}))}),n.jsx(pe,{path:"/guild-hub/roles",element:jt("main.guildHub","/guild-hub",n.jsx(yme,{}))}),n.jsx(pe,{path:"/guild-hub/settings",element:jt("main.guildHub","/guild-hub",n.jsx(bme,{}))}),n.jsx(pe,{path:"/admin",element:jt("main.admin","/admin",n.jsx(Sme,{}))}),n.jsx(pe,{path:"/admin/errors",element:jt("main.admin","/admin",n.jsx(Cme,{}))}),n.jsx(pe,{path:"/admin/scans-uploaded",element:jt("main.admin","/admin",n.jsx(Ame,{}))}),n.jsx(pe,{path:"/admin/creators-api",element:jt("main.admin","/admin",n.jsx(Ome,{}))}),n.jsx(pe,{path:"/admin/users",element:jt("main.admin","/admin",n.jsx(efe,{}))}),n.jsx(pe,{path:"/settings",element:jt("main.settings","/settings",n.jsx(afe,{}))}),n.jsx(pe,{path:"/settings/account",element:jt("main.settings","/settings",n.jsx(nge,{}))}),n.jsxs(pe,{path:"/playground",element:jt("main.playground","/playground",n.jsx(ige,{})),children:[n.jsx(pe,{index:!0,element:n.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),n.jsx(pe,{path:"list-views",element:n.jsx(KN,{})}),n.jsx(pe,{path:"rescan-widget",element:n.jsx(XN,{})}),n.jsx(pe,{path:"upload-sim",element:n.jsx(YN,{})}),n.jsx(pe,{path:"theme-maker",element:n.jsx(HN,{})}),n.jsx(pe,{path:"theme-maker-pro",element:n.jsx(WN,{})}),n.jsx(pe,{path:"am-rune-bonuses-demos",element:n.jsx(sxe,{})}),n.jsx(pe,{path:"templates/content-shell",element:n.jsx(Qxe,{})}),n.jsx(pe,{path:"templates/blank",element:n.jsx(Yxe,{})}),n.jsx(pe,{path:"templates/blank-alt",element:n.jsx(Zxe,{})}),n.jsx(pe,{path:"templates/blank-layout-2",element:n.jsx(nve,{})}),n.jsx(pe,{path:"templates/blank-layout-3",element:n.jsx(ive,{})}),n.jsx(pe,{path:"templates/blank-layout-4",element:n.jsx(ave,{})}),n.jsx(pe,{path:"portrait-maker",element:n.jsx(Gxe,{})}),n.jsx(pe,{path:"hud",element:n.jsx(nxe,{})}),n.jsx(pe,{path:"hud/game-buttons",element:n.jsx(Axe,{})}),n.jsx(pe,{path:"core-ui/theme-maker",element:n.jsx(HN,{})}),n.jsx(pe,{path:"core-ui/theme-maker-pro",element:n.jsx(WN,{})}),n.jsx(pe,{path:"core-ui/list-views",element:n.jsx(KN,{})}),n.jsx(pe,{path:"sync/rescan",element:n.jsx(XN,{})}),n.jsx(pe,{path:"upload/sim",element:n.jsx(YN,{})}),n.jsx(pe,{path:"import/har",element:n.jsx(dve,{})}),n.jsx(pe,{path:"import/json-csv",element:n.jsx(mve,{})}),n.jsx(pe,{path:"import/schema",element:n.jsx(vve,{})}),n.jsx(pe,{path:"hubs/player-contained",element:n.jsx(wve,{})}),n.jsx(pe,{path:"hubs/guilds",element:n.jsx(kve,{})}),n.jsx(pe,{path:"hubs/servers",element:n.jsx(Ave,{})}),n.jsx(pe,{path:"rankings/views",element:n.jsx(Lve,{})}),n.jsx(pe,{path:"analytics/kpi",element:n.jsx(Bve,{})}),n.jsx(pe,{path:"analytics/progression",element:n.jsx(Uve,{})}),n.jsx(pe,{path:"analytics/legendary-pets",element:n.jsx(Wve,{})}),n.jsx(pe,{path:"community/scans",element:n.jsx(Xve,{})}),n.jsx(pe,{path:"community/creators",element:n.jsx(eye,{})}),n.jsx(pe,{path:"feedback/form",element:n.jsx(rye,{})}),n.jsx(pe,{path:"feedback/admin",element:n.jsx(lye,{})}),n.jsx(pe,{path:"help/tutorials",element:n.jsx(hye,{})}),n.jsx(pe,{path:"help/wiki",element:n.jsx(gye,{})}),n.jsx(pe,{path:"legal/tos",element:n.jsx(Sye,{})}),n.jsx(pe,{path:"legal/transparency",element:n.jsx(Cye,{})}),n.jsx(pe,{path:"settings",element:n.jsx(bye,{})}),n.jsx(pe,{path:"pwa/update",element:n.jsx(Rye,{})}),n.jsx(pe,{path:"pwa/install",element:n.jsx(Mye,{})}),n.jsx(pe,{path:"connect/manual",element:n.jsx(Oye,{})}),n.jsx(pe,{path:"connect/userscript",element:n.jsx(Hye,{})}),n.jsx(pe,{path:"interop/exports",element:n.jsx(Kye,{})}),n.jsx(pe,{path:"interop/deeplinks",element:n.jsx(Jye,{})}),n.jsx(pe,{path:"admin/servers",element:n.jsx(s0e,{})}),n.jsx(pe,{path:"admin/jobs",element:n.jsx(a0e,{})}),n.jsx(pe,{path:"admin/flags",element:n.jsx(d0e,{})}),n.jsx(pe,{path:"perf/table-lab",element:n.jsx(m0e,{})}),n.jsx(pe,{path:"mobile/filters",element:n.jsx(v0e,{})}),n.jsx(pe,{path:"qa/a11y",element:n.jsx(w0e,{})})]}),n.jsx(pe,{path:"/latest-scan",element:n.jsx(Ac,{to:"/scans/latest",replace:!0})}),n.jsx(pe,{path:"/old-scans",element:n.jsx(Ac,{to:"/scans/archive",replace:!0})}),n.jsx(pe,{path:"/favorites",element:Dn()}),n.jsx(pe,{path:"/notifications",element:Dn()}),n.jsx(pe,{path:"/guilds/planner",element:Dn()}),n.jsx(pe,{path:"/guilds/fusion",element:Dn()}),n.jsx(pe,{path:"/guilds/academy",element:Dn()}),n.jsx(pe,{path:"/toplists/players",element:Dn()}),n.jsx(pe,{path:"/toplists/guilds",element:Dn()}),n.jsx(pe,{path:"/toplists/servers",element:Dn()}),n.jsx(pe,{path:"/settings/profile",element:Dn()}),n.jsx(pe,{path:"/settings/appearance",element:Dn()}),n.jsx(pe,{path:"/players/search",element:Dn()}),n.jsx(pe,{path:"/servers/list",element:Dn()}),n.jsx(pe,{path:"/servers/trend",element:Dn()}),n.jsx(pe,{path:"/scans/upload",element:Dn()}),n.jsx(pe,{path:"/scans/history",element:Dn()}),n.jsx(pe,{path:"*",element:n.jsx(Ac,{to:"/",replace:!0})})]})})}),n.jsx(o1e,{})]})})})}));
