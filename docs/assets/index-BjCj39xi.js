import e3 from"https://pm-lib.12hp.de/PortraitMaker-core-1.31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function M1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qv={exports:{}},zu={},Xv={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2;function jR(){if(W2)return Kt;W2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=f&&z[f]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function k(z,Y,le){this.props=z,this.context=Y,this.refs=S,this.updater=le||b}k.prototype.isReactComponent={},k.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=k.prototype;function D(z,Y,le){this.props=z,this.context=Y,this.refs=S,this.updater=le||b}var A=D.prototype=new P;A.constructor=D,_(A,k.prototype),A.isPureReactComponent=!0;var v=Array.isArray,w=Object.prototype.hasOwnProperty,L={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function N(z,Y,le){var ae,he={},ye=null,Ie=null;if(Y!=null)for(ae in Y.ref!==void 0&&(Ie=Y.ref),Y.key!==void 0&&(ye=""+Y.key),Y)w.call(Y,ae)&&!C.hasOwnProperty(ae)&&(he[ae]=Y[ae]);var Z=arguments.length-2;if(Z===1)he.children=le;else if(1<Z){for(var fe=Array(Z),oe=0;oe<Z;oe++)fe[oe]=arguments[oe+2];he.children=fe}if(z&&z.defaultProps)for(ae in Z=z.defaultProps,Z)he[ae]===void 0&&(he[ae]=Z[ae]);return{$$typeof:t,type:z,key:ye,ref:Ie,props:he,_owner:L.current}}function E(z,Y){return{$$typeof:t,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function I(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return Y[le]})}var B=/\/+/g;function $(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?I(""+z.key):Y.toString(36)}function U(z,Y,le,ae,he){var ye=typeof z;(ye==="undefined"||ye==="boolean")&&(z=null);var Ie=!1;if(z===null)Ie=!0;else switch(ye){case"string":case"number":Ie=!0;break;case"object":switch(z.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=z,he=he(Ie),z=ae===""?"."+$(Ie,0):ae,v(he)?(le="",z!=null&&(le=z.replace(B,"$&/")+"/"),U(he,Y,le,"",function(oe){return oe})):he!=null&&(F(he)&&(he=E(he,le+(!he.key||Ie&&Ie.key===he.key?"":(""+he.key).replace(B,"$&/")+"/")+z)),Y.push(he)),1;if(Ie=0,ae=ae===""?".":ae+":",v(z))for(var Z=0;Z<z.length;Z++){ye=z[Z];var fe=ae+$(ye,Z);Ie+=U(ye,Y,le,fe,he)}else if(fe=y(z),typeof fe=="function")for(z=fe.call(z),Z=0;!(ye=z.next()).done;)ye=ye.value,fe=ae+$(ye,Z++),Ie+=U(ye,Y,le,fe,he);else if(ye==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ie}function H(z,Y,le){if(z==null)return z;var ae=[],he=0;return U(z,ae,"","",function(ye){return Y.call(le,ye,he++)}),ae}function W(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var K={current:null},q={transition:null},se={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:q,ReactCurrentOwner:L};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Kt.Children={map:H,forEach:function(z,Y,le){H(z,function(){Y.apply(this,arguments)},le)},count:function(z){var Y=0;return H(z,function(){Y++}),Y},toArray:function(z){return H(z,function(Y){return Y})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Kt.Component=k,Kt.Fragment=n,Kt.Profiler=i,Kt.PureComponent=D,Kt.StrictMode=r,Kt.Suspense=u,Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Kt.act=ne,Kt.cloneElement=function(z,Y,le){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ae=_({},z.props),he=z.key,ye=z.ref,Ie=z._owner;if(Y!=null){if(Y.ref!==void 0&&(ye=Y.ref,Ie=L.current),Y.key!==void 0&&(he=""+Y.key),z.type&&z.type.defaultProps)var Z=z.type.defaultProps;for(fe in Y)w.call(Y,fe)&&!C.hasOwnProperty(fe)&&(ae[fe]=Y[fe]===void 0&&Z!==void 0?Z[fe]:Y[fe])}var fe=arguments.length-2;if(fe===1)ae.children=le;else if(1<fe){Z=Array(fe);for(var oe=0;oe<fe;oe++)Z[oe]=arguments[oe+2];ae.children=Z}return{$$typeof:t,type:z.type,key:he,ref:ye,props:ae,_owner:Ie}},Kt.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Kt.createElement=N,Kt.createFactory=function(z){var Y=N.bind(null,z);return Y.type=z,Y},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(z){return{$$typeof:c,render:z}},Kt.isValidElement=F,Kt.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:W}},Kt.memo=function(z,Y){return{$$typeof:h,type:z,compare:Y===void 0?null:Y}},Kt.startTransition=function(z){var Y=q.transition;q.transition={};try{z()}finally{q.transition=Y}},Kt.unstable_act=ne,Kt.useCallback=function(z,Y){return K.current.useCallback(z,Y)},Kt.useContext=function(z){return K.current.useContext(z)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(z){return K.current.useDeferredValue(z)},Kt.useEffect=function(z,Y){return K.current.useEffect(z,Y)},Kt.useId=function(){return K.current.useId()},Kt.useImperativeHandle=function(z,Y,le){return K.current.useImperativeHandle(z,Y,le)},Kt.useInsertionEffect=function(z,Y){return K.current.useInsertionEffect(z,Y)},Kt.useLayoutEffect=function(z,Y){return K.current.useLayoutEffect(z,Y)},Kt.useMemo=function(z,Y){return K.current.useMemo(z,Y)},Kt.useReducer=function(z,Y,le){return K.current.useReducer(z,Y,le)},Kt.useRef=function(z){return K.current.useRef(z)},Kt.useState=function(z){return K.current.useState(z)},Kt.useSyncExternalStore=function(z,Y,le){return K.current.useSyncExternalStore(z,Y,le)},Kt.useTransition=function(){return K.current.useTransition()},Kt.version="18.3.1",Kt}var q2;function F1(){return q2||(q2=1,Xv.exports=jR()),Xv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2;function SR(){if(K2)return zu;K2=1;var t=F1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,h){var m,f={},y=null,b=null;h!==void 0&&(y=""+h),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(b=u.ref);for(m in u)r.call(u,m)&&!a.hasOwnProperty(m)&&(f[m]=u[m]);if(c&&c.defaultProps)for(m in u=c.defaultProps,u)f[m]===void 0&&(f[m]=u[m]);return{$$typeof:e,type:c,key:y,ref:b,props:f,_owner:i.current}}return zu.Fragment=n,zu.jsx=l,zu.jsxs=l,zu}var Q2;function NR(){return Q2||(Q2=1,Qv.exports=SR()),Qv.exports}var s=NR(),T=F1();const X=M1(T);var $p={},Yv={exports:{}},Ir={},Jv={exports:{}},Zv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2;function kR(){return X2||(X2=1,(function(t){function e(q,se){var ne=q.length;q.push(se);e:for(;0<ne;){var z=ne-1>>>1,Y=q[z];if(0<i(Y,se))q[z]=se,q[ne]=Y,ne=z;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var se=q[0],ne=q.pop();if(ne!==se){q[0]=ne;e:for(var z=0,Y=q.length,le=Y>>>1;z<le;){var ae=2*(z+1)-1,he=q[ae],ye=ae+1,Ie=q[ye];if(0>i(he,ne))ye<Y&&0>i(Ie,he)?(q[z]=Ie,q[ye]=ne,z=ye):(q[z]=he,q[ae]=ne,z=ae);else if(ye<Y&&0>i(Ie,ne))q[z]=Ie,q[ye]=ne,z=ye;else break e}}return se}function i(q,se){var ne=q.sortIndex-se.sortIndex;return ne!==0?ne:q.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],h=[],m=1,f=null,y=3,b=!1,_=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(q){for(var se=n(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=q)r(h),se.sortIndex=se.expirationTime,e(u,se);else break;se=n(h)}}function v(q){if(S=!1,A(q),!_)if(n(u)!==null)_=!0,W(w);else{var se=n(h);se!==null&&K(v,se.startTime-q)}}function w(q,se){_=!1,S&&(S=!1,P(N),N=-1),b=!0;var ne=y;try{for(A(se),f=n(u);f!==null&&(!(f.expirationTime>se)||q&&!I());){var z=f.callback;if(typeof z=="function"){f.callback=null,y=f.priorityLevel;var Y=z(f.expirationTime<=se);se=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(u)&&r(u),A(se)}else r(u);f=n(u)}if(f!==null)var le=!0;else{var ae=n(h);ae!==null&&K(v,ae.startTime-se),le=!1}return le}finally{f=null,y=ne,b=!1}}var L=!1,C=null,N=-1,E=5,F=-1;function I(){return!(t.unstable_now()-F<E)}function B(){if(C!==null){var q=t.unstable_now();F=q;var se=!0;try{se=C(!0,q)}finally{se?$():(L=!1,C=null)}}else L=!1}var $;if(typeof D=="function")$=function(){D(B)};else if(typeof MessageChannel!="undefined"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=B,$=function(){H.postMessage(null)}}else $=function(){k(B,0)};function W(q){C=q,L||(L=!0,$())}function K(q,se){N=k(function(){q(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){_||b||(_=!0,W(w))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var ne=y;y=se;try{return q()}finally{y=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ne=y;y=q;try{return se()}finally{y=ne}},t.unstable_scheduleCallback=function(q,se,ne){var z=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?z+ne:z):ne=z,q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ne+Y,q={id:m++,callback:se,priorityLevel:q,startTime:ne,expirationTime:Y,sortIndex:-1},ne>z?(q.sortIndex=ne,e(h,q),n(u)===null&&q===n(h)&&(S?(P(N),N=-1):S=!0,K(v,ne-z))):(q.sortIndex=Y,e(u,q),_||b||(_=!0,W(w))),q},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(q){var se=y;return function(){var ne=y;y=se;try{return q.apply(this,arguments)}finally{y=ne}}}})(Zv)),Zv}var Y2;function CR(){return Y2||(Y2=1,Jv.exports=kR()),Jv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2;function TR(){if(J2)return Ir;J2=1;var t=F1(),e=CR();function n(o){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,d){l(o,d),l(o+"Capture",d)}function l(o,d){for(i[o]=d,o=0;o<d.length;o++)r.add(d[o])}var c=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function y(o){return u.call(f,o)?!0:u.call(m,o)?!1:h.test(o)?f[o]=!0:(m[o]=!0,!1)}function b(o,d,p,x){if(p!==null&&p.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return x?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function _(o,d,p,x){if(d===null||typeof d=="undefined"||b(o,d,p,x))return!0;if(x)return!1;if(p!==null)switch(p.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(o,d,p,x,j,M,V){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=x,this.attributeNamespace=j,this.mustUseProperty=p,this.propertyName=o,this.type=d,this.sanitizeURL=M,this.removeEmptyString=V}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){k[o]=new S(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var d=o[0];k[d]=new S(d,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){k[o]=new S(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){k[o]=new S(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){k[o]=new S(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){k[o]=new S(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){k[o]=new S(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){k[o]=new S(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){k[o]=new S(o,5,!1,o.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function D(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var d=o.replace(P,D);k[d]=new S(d,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var d=o.replace(P,D);k[d]=new S(d,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var d=o.replace(P,D);k[d]=new S(d,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){k[o]=new S(o,1,!1,o.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){k[o]=new S(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,d,p,x){var j=k.hasOwnProperty(d)?k[d]:null;(j!==null?j.type!==0:x||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(_(d,p,j,x)&&(p=null),x||j===null?y(d)&&(p===null?o.removeAttribute(d):o.setAttribute(d,""+p)):j.mustUseProperty?o[j.propertyName]=p===null?j.type===3?!1:"":p:(d=j.attributeName,x=j.attributeNamespace,p===null?o.removeAttribute(d):(j=j.type,p=j===3||j===4&&p===!0?"":""+p,x?o.setAttributeNS(x,d,p):o.setAttribute(d,p))))}var v=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),L=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),I=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),q=Symbol.iterator;function se(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var ne=Object.assign,z;function Y(o){if(z===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);z=d&&d[1]||""}return`
`+z+o}var le=!1;function ae(o,d){if(!o||le)return"";le=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(pe){var x=pe}Reflect.construct(o,[],d)}else{try{d.call()}catch(pe){x=pe}o.call(d.prototype)}else{try{throw Error()}catch(pe){x=pe}o()}}catch(pe){if(pe&&x&&typeof pe.stack=="string"){for(var j=pe.stack.split(`
`),M=x.stack.split(`
`),V=j.length-1,Q=M.length-1;1<=V&&0<=Q&&j[V]!==M[Q];)Q--;for(;1<=V&&0<=Q;V--,Q--)if(j[V]!==M[Q]){if(V!==1||Q!==1)do if(V--,Q--,0>Q||j[V]!==M[Q]){var ee=`
`+j[V].replace(" at new "," at ");return o.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",o.displayName)),ee}while(1<=V&&0<=Q);break}}}finally{le=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?Y(o):""}function he(o){switch(o.tag){case 5:return Y(o.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return o=ae(o.type,!1),o;case 11:return o=ae(o.type.render,!1),o;case 1:return o=ae(o.type,!0),o;default:return""}}function ye(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case C:return"Fragment";case L:return"Portal";case E:return"Profiler";case N:return"StrictMode";case $:return"Suspense";case U:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case I:return(o.displayName||"Context")+".Consumer";case F:return(o._context.displayName||"Context")+".Provider";case B:var d=o.render;return o=o.displayName,o||(o=d.displayName||d.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case H:return d=o.displayName||null,d!==null?d:ye(o.type)||"Memo";case W:d=o._payload,o=o._init;try{return ye(o(d))}catch(p){}}return null}function Ie(o){var d=o.type;switch(o.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=d.render,o=o.displayName||o.name||"",d.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(d);case 8:return d===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Z(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function fe(o){var d=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function oe(o){var d=fe(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,d),x=""+o[d];if(!o.hasOwnProperty(d)&&typeof p!="undefined"&&typeof p.get=="function"&&typeof p.set=="function"){var j=p.get,M=p.set;return Object.defineProperty(o,d,{configurable:!0,get:function(){return j.call(this)},set:function(V){x=""+V,M.call(this,V)}}),Object.defineProperty(o,d,{enumerable:p.enumerable}),{getValue:function(){return x},setValue:function(V){x=""+V},stopTracking:function(){o._valueTracker=null,delete o[d]}}}}function _e(o){o._valueTracker||(o._valueTracker=oe(o))}function ve(o){if(!o)return!1;var d=o._valueTracker;if(!d)return!0;var p=d.getValue(),x="";return o&&(x=fe(o)?o.checked?"true":"false":o.value),o=x,o!==p?(d.setValue(o),!0):!1}function Ee(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(d){return o.body}}function Ve(o,d){var p=d.checked;return ne({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p!=null?p:o._wrapperState.initialChecked})}function ze(o,d){var p=d.defaultValue==null?"":d.defaultValue,x=d.checked!=null?d.checked:d.defaultChecked;p=Z(d.value!=null?d.value:p),o._wrapperState={initialChecked:x,initialValue:p,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function st(o,d){d=d.checked,d!=null&&A(o,"checked",d,!1)}function at(o,d){st(o,d);var p=Z(d.value),x=d.type;if(p!=null)x==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}d.hasOwnProperty("value")?Ut(o,d.type,p):d.hasOwnProperty("defaultValue")&&Ut(o,d.type,Z(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(o.defaultChecked=!!d.defaultChecked)}function mt(o,d,p){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var x=d.type;if(!(x!=="submit"&&x!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+o._wrapperState.initialValue,p||d===o.value||(o.value=d),o.defaultValue=d}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function Ut(o,d,p){(d!=="number"||Ee(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var je=Array.isArray;function Je(o,d,p,x){if(o=o.options,d){d={};for(var j=0;j<p.length;j++)d["$"+p[j]]=!0;for(p=0;p<o.length;p++)j=d.hasOwnProperty("$"+o[p].value),o[p].selected!==j&&(o[p].selected=j),j&&x&&(o[p].defaultSelected=!0)}else{for(p=""+Z(p),d=null,j=0;j<o.length;j++){if(o[j].value===p){o[j].selected=!0,x&&(o[j].defaultSelected=!0);return}d!==null||o[j].disabled||(d=o[j])}d!==null&&(d.selected=!0)}}function Ke(o,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},d,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function yt(o,d){var p=d.value;if(p==null){if(p=d.children,d=d.defaultValue,p!=null){if(d!=null)throw Error(n(92));if(je(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),p=d}o._wrapperState={initialValue:Z(p)}}function kt(o,d){var p=Z(d.value),x=Z(d.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),d.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),x!=null&&(o.defaultValue=""+x)}function Be(o){var d=o.textContent;d===o._wrapperState.initialValue&&d!==""&&d!==null&&(o.value=d)}function Le(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(o,d){return o==null||o==="http://www.w3.org/1999/xhtml"?Le(d):o==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var tt,fs=(function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(d,p,x,j){MSApp.execUnsafeLocalFunction(function(){return o(d,p,x,j)})}:o})(function(o,d){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=d;else{for(tt=tt||document.createElement("div"),tt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=tt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;d.firstChild;)o.appendChild(d.firstChild)}});function vs(o,d){if(d){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=d;return}}o.textContent=d}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ls=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(o){ls.forEach(function(d){d=d+o.charAt(0).toUpperCase()+o.substring(1),os[d]=os[o]})});function Os(o,d,p){return d==null||typeof d=="boolean"||d===""?"":p||typeof d!="number"||d===0||os.hasOwnProperty(o)&&os[o]?(""+d).trim():d+"px"}function _t(o,d){o=o.style;for(var p in d)if(d.hasOwnProperty(p)){var x=p.indexOf("--")===0,j=Os(p,d[p],x);p==="float"&&(p="cssFloat"),x?o.setProperty(p,j):o[p]=j}}var we=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ys(o,d){if(d){if(we[o]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function gt(o,d){if(o.indexOf("-")===-1)return typeof d.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J=null;function $e(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ge=null,nt=null,lt=null;function wt(o){if(o=Tu(o)){if(typeof Ge!="function")throw Error(n(280));var d=o.stateNode;d&&(d=ep(d),Ge(o.stateNode,o.type,d))}}function ns(o){nt?lt?lt.push(o):lt=[o]:nt=o}function Ls(){if(nt){var o=nt,d=lt;if(lt=nt=null,wt(o),d)for(o=0;o<d.length;o++)wt(d[o])}}function _n(o,d){return o(d)}function Yn(){}var an=!1;function ai(o,d,p){if(an)return o(d,p);an=!0;try{return _n(o,d,p)}finally{an=!1,(nt!==null||lt!==null)&&(Yn(),Ls())}}function hs(o,d){var p=o.stateNode;if(p===null)return null;var x=ep(p);if(x===null)return null;p=x[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(n(231,d,typeof p));return p}var Pn=!1;if(c)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch(o){Pn=!1}function lr(o,d,p,x,j,M,V,Q,ee){var pe=Array.prototype.slice.call(arguments,3);try{d.apply(p,pe)}catch(ke){this.onError(ke)}}var cr=!1,dr=null,wn=!1,rs=null,ws={onError:function(o){cr=!0,dr=o}};function Ln(o,d,p,x,j,M,V,Q,ee){cr=!1,dr=null,lr.apply(ws,arguments)}function zr(o,d,p,x,j,M,V,Q,ee){if(Ln.apply(this,arguments),cr){if(cr){var pe=dr;cr=!1,dr=null}else throw Error(n(198));wn||(wn=!0,rs=pe)}}function Gt(o){var d=o,p=o;if(o.alternate)for(;d.return;)d=d.return;else{o=d;do d=o,(d.flags&4098)!==0&&(p=d.return),o=d.return;while(o)}return d.tag===3?p:null}function Qi(o){if(o.tag===13){var d=o.memoizedState;if(d===null&&(o=o.alternate,o!==null&&(d=o.memoizedState)),d!==null)return d.dehydrated}return null}function jr(o){if(Gt(o)!==o)throw Error(n(188))}function bl(o){var d=o.alternate;if(!d){if(d=Gt(o),d===null)throw Error(n(188));return d!==o?null:o}for(var p=o,x=d;;){var j=p.return;if(j===null)break;var M=j.alternate;if(M===null){if(x=j.return,x!==null){p=x;continue}break}if(j.child===M.child){for(M=j.child;M;){if(M===p)return jr(j),o;if(M===x)return jr(j),d;M=M.sibling}throw Error(n(188))}if(p.return!==x.return)p=j,x=M;else{for(var V=!1,Q=j.child;Q;){if(Q===p){V=!0,p=j,x=M;break}if(Q===x){V=!0,x=j,p=M;break}Q=Q.sibling}if(!V){for(Q=M.child;Q;){if(Q===p){V=!0,p=M,x=j;break}if(Q===x){V=!0,x=M,p=j;break}Q=Q.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?o:d}function go(o){return o=bl(o),o!==null?Sa(o):null}function Sa(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var d=Sa(o);if(d!==null)return d;o=o.sibling}return null}var Na=e.unstable_scheduleCallback,xo=e.unstable_cancelCallback,_l=e.unstable_shouldYield,kc=e.unstable_requestPaint,ys=e.unstable_now,wl=e.unstable_getCurrentPriorityLevel,Xi=e.unstable_ImmediatePriority,Si=e.unstable_UserBlockingPriority,ur=e.unstable_NormalPriority,uu=e.unstable_LowPriority,Am=e.unstable_IdlePriority,jl=null,Hr=null;function Em(o){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(jl,o,void 0,(o.current.flags&128)===128)}catch(d){}}var hr=Math.clz32?Math.clz32:Rm,hu=Math.log,Im=Math.LN2;function Rm(o){return o>>>=0,o===0?32:31-(hu(o)/Im|0)|0}var Cc=64,Tc=4194304;function vo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Sl(o,d){var p=o.pendingLanes;if(p===0)return 0;var x=0,j=o.suspendedLanes,M=o.pingedLanes,V=p&268435455;if(V!==0){var Q=V&~j;Q!==0?x=vo(Q):(M&=V,M!==0&&(x=vo(M)))}else V=p&~j,V!==0?x=vo(V):M!==0&&(x=vo(M));if(x===0)return 0;if(d!==0&&d!==x&&(d&j)===0&&(j=x&-x,M=d&-d,j>=M||j===16&&(M&4194240)!==0))return d;if((x&4)!==0&&(x|=p&16),d=o.entangledLanes,d!==0)for(o=o.entanglements,d&=x;0<d;)p=31-hr(d),j=1<<p,x|=o[p],d&=~j;return x}function Nx(o,d){switch(o){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(o,d){for(var p=o.suspendedLanes,x=o.pingedLanes,j=o.expirationTimes,M=o.pendingLanes;0<M;){var V=31-hr(M),Q=1<<V,ee=j[V];ee===-1?((Q&p)===0||(Q&x)!==0)&&(j[V]=Nx(Q,d)):ee<=d&&(o.expiredLanes|=Q),M&=~Q}}function Gr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Nl(){var o=Cc;return Cc<<=1,(Cc&4194240)===0&&(Cc=64),o}function yo(o){for(var d=[],p=0;31>p;p++)d.push(o);return d}function bo(o,d,p){o.pendingLanes|=d,d!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,d=31-hr(d),o[d]=p}function js(o,d){var p=o.pendingLanes&~d;o.pendingLanes=d,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=d,o.mutableReadLanes&=d,o.entangledLanes&=d,d=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<p;){var j=31-hr(p),M=1<<j;d[j]=0,x[j]=-1,o[j]=-1,p&=~M}}function _o(o,d){var p=o.entangledLanes|=d;for(o=o.entanglements;p;){var x=31-hr(p),j=1<<x;j&d|o[x]&d&&(o[x]|=d),p&=~j}}var es=0;function wo(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Pm,Ac,Lm,Dm,Mm,mu=!1,Yi=[],Dn=null,Ni=null,ki=null,jo=new Map,oi=new Map,Ji=[],kx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fm(o,d){switch(o){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":jo.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(d.pointerId)}}function Sr(o,d,p,x,j,M){return o===null||o.nativeEvent!==M?(o={blockedOn:d,domEventName:p,eventSystemFlags:x,nativeEvent:M,targetContainers:[j]},d!==null&&(d=Tu(d),d!==null&&Ac(d)),o):(o.eventSystemFlags|=x,d=o.targetContainers,j!==null&&d.indexOf(j)===-1&&d.push(j),o)}function Cx(o,d,p,x,j){switch(d){case"focusin":return Dn=Sr(Dn,o,d,p,x,j),!0;case"dragenter":return Ni=Sr(Ni,o,d,p,x,j),!0;case"mouseover":return ki=Sr(ki,o,d,p,x,j),!0;case"pointerover":var M=j.pointerId;return jo.set(M,Sr(jo.get(M)||null,o,d,p,x,j)),!0;case"gotpointercapture":return M=j.pointerId,oi.set(M,Sr(oi.get(M)||null,o,d,p,x,j)),!0}return!1}function Bm(o){var d=El(o.target);if(d!==null){var p=Gt(d);if(p!==null){if(d=p.tag,d===13){if(d=Qi(p),d!==null){o.blockedOn=d,Mm(o.priority,function(){Lm(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ca(o){if(o.blockedOn!==null)return!1;for(var d=o.targetContainers;0<d.length;){var p=Ec(o.domEventName,o.eventSystemFlags,d[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var x=new p.constructor(p.type,p);J=x,p.target.dispatchEvent(x),J=null}else return d=Tu(p),d!==null&&Ac(d),o.blockedOn=p,!1;d.shift()}return!0}function kl(o,d,p){Ca(o)&&p.delete(d)}function $m(){mu=!1,Dn!==null&&Ca(Dn)&&(Dn=null),Ni!==null&&Ca(Ni)&&(Ni=null),ki!==null&&Ca(ki)&&(ki=null),jo.forEach(kl),oi.forEach(kl)}function Ci(o,d){o.blockedOn===d&&(o.blockedOn=null,mu||(mu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$m)))}function Ti(o){function d(j){return Ci(j,o)}if(0<Yi.length){Ci(Yi[0],o);for(var p=1;p<Yi.length;p++){var x=Yi[p];x.blockedOn===o&&(x.blockedOn=null)}}for(Dn!==null&&Ci(Dn,o),Ni!==null&&Ci(Ni,o),ki!==null&&Ci(ki,o),jo.forEach(d),oi.forEach(d),p=0;p<Ji.length;p++)x=Ji[p],x.blockedOn===o&&(x.blockedOn=null);for(;0<Ji.length&&(p=Ji[0],p.blockedOn===null);)Bm(p),p.blockedOn===null&&Ji.shift()}var Ta=v.ReactCurrentBatchConfig,So=!0;function Ds(o,d,p,x){var j=es,M=Ta.transition;Ta.transition=null;try{es=1,pu(o,d,p,x)}finally{es=j,Ta.transition=M}}function Tx(o,d,p,x){var j=es,M=Ta.transition;Ta.transition=null;try{es=4,pu(o,d,p,x)}finally{es=j,Ta.transition=M}}function pu(o,d,p,x){if(So){var j=Ec(o,d,p,x);if(j===null)$x(o,d,x,Cl,p),Fm(o,x);else if(Cx(j,o,d,p,x))x.stopPropagation();else if(Fm(o,x),d&4&&-1<kx.indexOf(o)){for(;j!==null;){var M=Tu(j);if(M!==null&&Pm(M),M=Ec(o,d,p,x),M===null&&$x(o,d,x,Cl,p),M===j)break;j=M}j!==null&&x.stopPropagation()}else $x(o,d,x,null,p)}}var Cl=null;function Ec(o,d,p,x){if(Cl=null,o=$e(x),o=El(o),o!==null)if(d=Gt(o),d===null)o=null;else if(p=d.tag,p===13){if(o=Qi(d),o!==null)return o;o=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;o=null}else d!==o&&(o=null);return Cl=o,null}function fu(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wl()){case Xi:return 1;case Si:return 4;case ur:case uu:return 16;case Am:return 536870912;default:return 16}default:return 16}}var Wr=null,Ic=null,Nr=null;function gu(){if(Nr)return Nr;var o,d=Ic,p=d.length,x,j="value"in Wr?Wr.value:Wr.textContent,M=j.length;for(o=0;o<p&&d[o]===j[o];o++);var V=p-o;for(x=1;x<=V&&d[p-x]===j[M-x];x++);return Nr=j.slice(o,1<x?1-x:void 0)}function Rc(o){var d=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&d===13&&(o=13)):o=d,o===10&&(o=13),32<=o||o===13?o:0}function Zi(){return!0}function xu(){return!1}function Mn(o){function d(p,x,j,M,V){this._reactName=p,this._targetInst=j,this.type=x,this.nativeEvent=M,this.target=V,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(p=o[Q],this[Q]=p?p(M):M[Q]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Zi:xu,this.isPropagationStopped=xu,this}return ne(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),d}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=Mn(Ai),ea=ne({},Ai,{view:0,detail:0}),Ax=Mn(ea),Lc,Aa,No,Tl=ne({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==No&&(No&&o.type==="mousemove"?(Lc=o.screenX-No.screenX,Aa=o.screenY-No.screenY):Aa=Lc=0,No=o),Lc)},movementY:function(o){return"movementY"in o?o.movementY:Aa}}),Dc=Mn(Tl),vu=ne({},Tl,{dataTransfer:0}),Om=Mn(vu),Mc=ne({},ea,{relatedTarget:0}),Fc=Mn(Mc),Vm=ne({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Mn(Vm),Um=ne({},Ai,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),zm=Mn(Um),Hm=ne({},Ai,{data:0}),yu=Mn(Hm),Bc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wm(o){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(o):(o=Gm[o])?!!d[o]:!1}function ta(){return Wm}var g=ne({},ea,{key:function(o){if(o.key){var d=Bc[o.key]||o.key;if(d!=="Unidentified")return d}return o.type==="keypress"?(o=Rc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mr[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(o){return o.type==="keypress"?Rc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Rc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),R=Mn(g),O=ne({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=Mn(O),de=ne({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),xe=Mn(de),Ue=ne({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),bs=Mn(Ue),xn=ne({},Tl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),is=Mn(xn),jn=[9,13,27,32],on=c&&"CompositionEvent"in window,li=null;c&&"documentMode"in document&&(li=document.documentMode);var qr=c&&"TextEvent"in window&&!li,Al=c&&(!on||li&&8<li&&11>=li),$c=" ",O_=!1;function V_(o,d){switch(o){case"keyup":return jn.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U_(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Oc=!1;function b4(o,d){switch(o){case"compositionend":return U_(d);case"keypress":return d.which!==32?null:(O_=!0,$c);case"textInput":return o=d.data,o===$c&&O_?null:o;default:return null}}function _4(o,d){if(Oc)return o==="compositionend"||!on&&V_(o,d)?(o=gu(),Nr=Ic=Wr=null,Oc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Al&&d.locale!=="ko"?null:d.data;default:return null}}var w4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z_(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d==="input"?!!w4[o.type]:d==="textarea"}function H_(o,d,p,x){ns(x),d=Ym(d,"onChange"),0<d.length&&(p=new Pc("onChange","change",null,p,x),o.push({event:p,listeners:d}))}var bu=null,_u=null;function j4(o){lw(o,0)}function qm(o){var d=Gc(o);if(ve(d))return o}function S4(o,d){if(o==="change")return d}var G_=!1;if(c){var Ex;if(c){var Ix="oninput"in document;if(!Ix){var W_=document.createElement("div");W_.setAttribute("oninput","return;"),Ix=typeof W_.oninput=="function"}Ex=Ix}else Ex=!1;G_=Ex&&(!document.documentMode||9<document.documentMode)}function q_(){bu&&(bu.detachEvent("onpropertychange",K_),_u=bu=null)}function K_(o){if(o.propertyName==="value"&&qm(_u)){var d=[];H_(d,_u,o,$e(o)),ai(j4,d)}}function N4(o,d,p){o==="focusin"?(q_(),bu=d,_u=p,bu.attachEvent("onpropertychange",K_)):o==="focusout"&&q_()}function k4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return qm(_u)}function C4(o,d){if(o==="click")return qm(d)}function T4(o,d){if(o==="input"||o==="change")return qm(d)}function A4(o,d){return o===d&&(o!==0||1/o===1/d)||o!==o&&d!==d}var Ei=typeof Object.is=="function"?Object.is:A4;function wu(o,d){if(Ei(o,d))return!0;if(typeof o!="object"||o===null||typeof d!="object"||d===null)return!1;var p=Object.keys(o),x=Object.keys(d);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var j=p[x];if(!u.call(d,j)||!Ei(o[j],d[j]))return!1}return!0}function Q_(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function X_(o,d){var p=Q_(o);o=0;for(var x;p;){if(p.nodeType===3){if(x=o+p.textContent.length,o<=d&&x>=d)return{node:p,offset:d-o};o=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Q_(p)}}function Y_(o,d){return o&&d?o===d?!0:o&&o.nodeType===3?!1:d&&d.nodeType===3?Y_(o,d.parentNode):"contains"in o?o.contains(d):o.compareDocumentPosition?!!(o.compareDocumentPosition(d)&16):!1:!1}function J_(){for(var o=window,d=Ee();d instanceof o.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch(x){p=!1}if(p)o=d.contentWindow;else break;d=Ee(o.document)}return d}function Rx(o){var d=o&&o.nodeName&&o.nodeName.toLowerCase();return d&&(d==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||d==="textarea"||o.contentEditable==="true")}function E4(o){var d=J_(),p=o.focusedElem,x=o.selectionRange;if(d!==p&&p&&p.ownerDocument&&Y_(p.ownerDocument.documentElement,p)){if(x!==null&&Rx(p)){if(d=x.start,o=x.end,o===void 0&&(o=d),"selectionStart"in p)p.selectionStart=d,p.selectionEnd=Math.min(o,p.value.length);else if(o=(d=p.ownerDocument||document)&&d.defaultView||window,o.getSelection){o=o.getSelection();var j=p.textContent.length,M=Math.min(x.start,j);x=x.end===void 0?M:Math.min(x.end,j),!o.extend&&M>x&&(j=x,x=M,M=j),j=X_(p,M);var V=X_(p,x);j&&V&&(o.rangeCount!==1||o.anchorNode!==j.node||o.anchorOffset!==j.offset||o.focusNode!==V.node||o.focusOffset!==V.offset)&&(d=d.createRange(),d.setStart(j.node,j.offset),o.removeAllRanges(),M>x?(o.addRange(d),o.extend(V.node,V.offset)):(d.setEnd(V.node,V.offset),o.addRange(d)))}}for(d=[],o=p;o=o.parentNode;)o.nodeType===1&&d.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<d.length;p++)o=d[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var I4=c&&"documentMode"in document&&11>=document.documentMode,Vc=null,Px=null,ju=null,Lx=!1;function Z_(o,d,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Lx||Vc==null||Vc!==Ee(x)||(x=Vc,"selectionStart"in x&&Rx(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ju&&wu(ju,x)||(ju=x,x=Ym(Px,"onSelect"),0<x.length&&(d=new Pc("onSelect","select",null,d,p),o.push({event:d,listeners:x}),d.target=Vc)))}function Km(o,d){var p={};return p[o.toLowerCase()]=d.toLowerCase(),p["Webkit"+o]="webkit"+d,p["Moz"+o]="moz"+d,p}var Uc={animationend:Km("Animation","AnimationEnd"),animationiteration:Km("Animation","AnimationIteration"),animationstart:Km("Animation","AnimationStart"),transitionend:Km("Transition","TransitionEnd")},Dx={},ew={};c&&(ew=document.createElement("div").style,"AnimationEvent"in window||(delete Uc.animationend.animation,delete Uc.animationiteration.animation,delete Uc.animationstart.animation),"TransitionEvent"in window||delete Uc.transitionend.transition);function Qm(o){if(Dx[o])return Dx[o];if(!Uc[o])return o;var d=Uc[o],p;for(p in d)if(d.hasOwnProperty(p)&&p in ew)return Dx[o]=d[p];return o}var tw=Qm("animationend"),sw=Qm("animationiteration"),nw=Qm("animationstart"),rw=Qm("transitionend"),iw=new Map,aw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(o,d){iw.set(o,d),a(d,[o])}for(var Mx=0;Mx<aw.length;Mx++){var Fx=aw[Mx],R4=Fx.toLowerCase(),P4=Fx[0].toUpperCase()+Fx.slice(1);ko(R4,"on"+P4)}ko(tw,"onAnimationEnd"),ko(sw,"onAnimationIteration"),ko(nw,"onAnimationStart"),ko("dblclick","onDoubleClick"),ko("focusin","onFocus"),ko("focusout","onBlur"),ko(rw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Su));function ow(o,d,p){var x=o.type||"unknown-event";o.currentTarget=p,zr(x,d,void 0,o),o.currentTarget=null}function lw(o,d){d=(d&4)!==0;for(var p=0;p<o.length;p++){var x=o[p],j=x.event;x=x.listeners;e:{var M=void 0;if(d)for(var V=x.length-1;0<=V;V--){var Q=x[V],ee=Q.instance,pe=Q.currentTarget;if(Q=Q.listener,ee!==M&&j.isPropagationStopped())break e;ow(j,Q,pe),M=ee}else for(V=0;V<x.length;V++){if(Q=x[V],ee=Q.instance,pe=Q.currentTarget,Q=Q.listener,ee!==M&&j.isPropagationStopped())break e;ow(j,Q,pe),M=ee}}}if(wn)throw o=rs,wn=!1,rs=null,o}function Is(o,d){var p=d[Gx];p===void 0&&(p=d[Gx]=new Set);var x=o+"__bubble";p.has(x)||(cw(d,o,2,!1),p.add(x))}function Bx(o,d,p){var x=0;d&&(x|=4),cw(p,o,x,d)}var Xm="_reactListening"+Math.random().toString(36).slice(2);function Nu(o){if(!o[Xm]){o[Xm]=!0,r.forEach(function(p){p!=="selectionchange"&&(L4.has(p)||Bx(p,!1,o),Bx(p,!0,o))});var d=o.nodeType===9?o:o.ownerDocument;d===null||d[Xm]||(d[Xm]=!0,Bx("selectionchange",!1,d))}}function cw(o,d,p,x){switch(fu(d)){case 1:var j=Ds;break;case 4:j=Tx;break;default:j=pu}p=j.bind(null,d,p,o),j=void 0,!Pn||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(j=!0),x?j!==void 0?o.addEventListener(d,p,{capture:!0,passive:j}):o.addEventListener(d,p,!0):j!==void 0?o.addEventListener(d,p,{passive:j}):o.addEventListener(d,p,!1)}function $x(o,d,p,x,j){var M=x;if((d&1)===0&&(d&2)===0&&x!==null)e:for(;;){if(x===null)return;var V=x.tag;if(V===3||V===4){var Q=x.stateNode.containerInfo;if(Q===j||Q.nodeType===8&&Q.parentNode===j)break;if(V===4)for(V=x.return;V!==null;){var ee=V.tag;if((ee===3||ee===4)&&(ee=V.stateNode.containerInfo,ee===j||ee.nodeType===8&&ee.parentNode===j))return;V=V.return}for(;Q!==null;){if(V=El(Q),V===null)return;if(ee=V.tag,ee===5||ee===6){x=M=V;continue e}Q=Q.parentNode}}x=x.return}ai(function(){var pe=M,ke=$e(p),Re=[];e:{var Ne=iw.get(o);if(Ne!==void 0){var Xe=Pc,et=o;switch(o){case"keypress":if(Rc(p)===0)break e;case"keydown":case"keyup":Xe=R;break;case"focusin":et="focus",Xe=Fc;break;case"focusout":et="blur",Xe=Fc;break;case"beforeblur":case"afterblur":Xe=Fc;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=Dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=xe;break;case tw:case sw:case nw:Xe=Ea;break;case rw:Xe=bs;break;case"scroll":Xe=Ax;break;case"wheel":Xe=is;break;case"copy":case"cut":case"paste":Xe=zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=G}var rt=(d&4)!==0,Zs=!rt&&o==="scroll",ue=rt?Ne!==null?Ne+"Capture":null:Ne;rt=[];for(var re=pe,me;re!==null;){me=re;var De=me.stateNode;if(me.tag===5&&De!==null&&(me=De,ue!==null&&(De=hs(re,ue),De!=null&&rt.push(ku(re,De,me)))),Zs)break;re=re.return}0<rt.length&&(Ne=new Xe(Ne,et,null,p,ke),Re.push({event:Ne,listeners:rt}))}}if((d&7)===0){e:{if(Ne=o==="mouseover"||o==="pointerover",Xe=o==="mouseout"||o==="pointerout",Ne&&p!==J&&(et=p.relatedTarget||p.fromElement)&&(El(et)||et[Ia]))break e;if((Xe||Ne)&&(Ne=ke.window===ke?ke:(Ne=ke.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Xe?(et=p.relatedTarget||p.toElement,Xe=pe,et=et?El(et):null,et!==null&&(Zs=Gt(et),et!==Zs||et.tag!==5&&et.tag!==6)&&(et=null)):(Xe=null,et=pe),Xe!==et)){if(rt=Dc,De="onMouseLeave",ue="onMouseEnter",re="mouse",(o==="pointerout"||o==="pointerover")&&(rt=G,De="onPointerLeave",ue="onPointerEnter",re="pointer"),Zs=Xe==null?Ne:Gc(Xe),me=et==null?Ne:Gc(et),Ne=new rt(De,re+"leave",Xe,p,ke),Ne.target=Zs,Ne.relatedTarget=me,De=null,El(ke)===pe&&(rt=new rt(ue,re+"enter",et,p,ke),rt.target=me,rt.relatedTarget=Zs,De=rt),Zs=De,Xe&&et)t:{for(rt=Xe,ue=et,re=0,me=rt;me;me=zc(me))re++;for(me=0,De=ue;De;De=zc(De))me++;for(;0<re-me;)rt=zc(rt),re--;for(;0<me-re;)ue=zc(ue),me--;for(;re--;){if(rt===ue||ue!==null&&rt===ue.alternate)break t;rt=zc(rt),ue=zc(ue)}rt=null}else rt=null;Xe!==null&&dw(Re,Ne,Xe,rt,!1),et!==null&&Zs!==null&&dw(Re,Zs,et,rt,!0)}}e:{if(Ne=pe?Gc(pe):window,Xe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Ne.type==="file")var ct=S4;else if(z_(Ne))if(G_)ct=T4;else{ct=k4;var xt=N4}else(Xe=Ne.nodeName)&&Xe.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(ct=C4);if(ct&&(ct=ct(o,pe))){H_(Re,ct,p,ke);break e}xt&&xt(o,Ne,pe),o==="focusout"&&(xt=Ne._wrapperState)&&xt.controlled&&Ne.type==="number"&&Ut(Ne,"number",Ne.value)}switch(xt=pe?Gc(pe):window,o){case"focusin":(z_(xt)||xt.contentEditable==="true")&&(Vc=xt,Px=pe,ju=null);break;case"focusout":ju=Px=Vc=null;break;case"mousedown":Lx=!0;break;case"contextmenu":case"mouseup":case"dragend":Lx=!1,Z_(Re,p,ke);break;case"selectionchange":if(I4)break;case"keydown":case"keyup":Z_(Re,p,ke)}var vt;if(on)e:{switch(o){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else Oc?V_(o,p)&&(Nt="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Nt="onCompositionStart");Nt&&(Al&&p.locale!=="ko"&&(Oc||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Oc&&(vt=gu()):(Wr=ke,Ic="value"in Wr?Wr.value:Wr.textContent,Oc=!0)),xt=Ym(pe,Nt),0<xt.length&&(Nt=new yu(Nt,o,null,p,ke),Re.push({event:Nt,listeners:xt}),vt?Nt.data=vt:(vt=U_(p),vt!==null&&(Nt.data=vt)))),(vt=qr?b4(o,p):_4(o,p))&&(pe=Ym(pe,"onBeforeInput"),0<pe.length&&(ke=new yu("onBeforeInput","beforeinput",null,p,ke),Re.push({event:ke,listeners:pe}),ke.data=vt))}lw(Re,d)})}function ku(o,d,p){return{instance:o,listener:d,currentTarget:p}}function Ym(o,d){for(var p=d+"Capture",x=[];o!==null;){var j=o,M=j.stateNode;j.tag===5&&M!==null&&(j=M,M=hs(o,p),M!=null&&x.unshift(ku(o,M,j)),M=hs(o,d),M!=null&&x.push(ku(o,M,j))),o=o.return}return x}function zc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function dw(o,d,p,x,j){for(var M=d._reactName,V=[];p!==null&&p!==x;){var Q=p,ee=Q.alternate,pe=Q.stateNode;if(ee!==null&&ee===x)break;Q.tag===5&&pe!==null&&(Q=pe,j?(ee=hs(p,M),ee!=null&&V.unshift(ku(p,ee,Q))):j||(ee=hs(p,M),ee!=null&&V.push(ku(p,ee,Q)))),p=p.return}V.length!==0&&o.push({event:d,listeners:V})}var D4=/\r\n?/g,M4=/\u0000|\uFFFD/g;function uw(o){return(typeof o=="string"?o:""+o).replace(D4,`
`).replace(M4,"")}function Jm(o,d,p){if(d=uw(d),uw(o)!==d&&p)throw Error(n(425))}function Zm(){}var Ox=null,Vx=null;function Ux(o,d){return o==="textarea"||o==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var zx=typeof setTimeout=="function"?setTimeout:void 0,F4=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,B4=typeof queueMicrotask=="function"?queueMicrotask:typeof hw!="undefined"?function(o){return hw.resolve(null).then(o).catch($4)}:zx;function $4(o){setTimeout(function(){throw o})}function Hx(o,d){var p=d,x=0;do{var j=p.nextSibling;if(o.removeChild(p),j&&j.nodeType===8)if(p=j.data,p==="/$"){if(x===0){o.removeChild(j),Ti(d);return}x--}else p!=="$"&&p!=="$?"&&p!=="$!"||x++;p=j}while(p);Ti(d)}function Co(o){for(;o!=null;o=o.nextSibling){var d=o.nodeType;if(d===1||d===3)break;if(d===8){if(d=o.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return o}function mw(o){o=o.previousSibling;for(var d=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(d===0)return o;d--}else p==="/$"&&d++}o=o.previousSibling}return null}var Hc=Math.random().toString(36).slice(2),sa="__reactFiber$"+Hc,Cu="__reactProps$"+Hc,Ia="__reactContainer$"+Hc,Gx="__reactEvents$"+Hc,O4="__reactListeners$"+Hc,V4="__reactHandles$"+Hc;function El(o){var d=o[sa];if(d)return d;for(var p=o.parentNode;p;){if(d=p[Ia]||p[sa]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(o=mw(o);o!==null;){if(p=o[sa])return p;o=mw(o)}return d}o=p,p=o.parentNode}return null}function Tu(o){return o=o[sa]||o[Ia],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Gc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function ep(o){return o[Cu]||null}var Wx=[],Wc=-1;function To(o){return{current:o}}function Rs(o){0>Wc||(o.current=Wx[Wc],Wx[Wc]=null,Wc--)}function Cs(o,d){Wc++,Wx[Wc]=o.current,o.current=d}var Ao={},Jn=To(Ao),kr=To(!1),Il=Ao;function qc(o,d){var p=o.type.contextTypes;if(!p)return Ao;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===d)return x.__reactInternalMemoizedMaskedChildContext;var j={},M;for(M in p)j[M]=d[M];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=d,o.__reactInternalMemoizedMaskedChildContext=j),j}function Cr(o){return o=o.childContextTypes,o!=null}function tp(){Rs(kr),Rs(Jn)}function pw(o,d,p){if(Jn.current!==Ao)throw Error(n(168));Cs(Jn,d),Cs(kr,p)}function fw(o,d,p){var x=o.stateNode;if(d=d.childContextTypes,typeof x.getChildContext!="function")return p;x=x.getChildContext();for(var j in x)if(!(j in d))throw Error(n(108,Ie(o)||"Unknown",j));return ne({},p,x)}function sp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ao,Il=Jn.current,Cs(Jn,o),Cs(kr,kr.current),!0}function gw(o,d,p){var x=o.stateNode;if(!x)throw Error(n(169));p?(o=fw(o,d,Il),x.__reactInternalMemoizedMergedChildContext=o,Rs(kr),Rs(Jn),Cs(Jn,o)):Rs(kr),Cs(kr,p)}var Ra=null,np=!1,qx=!1;function xw(o){Ra===null?Ra=[o]:Ra.push(o)}function U4(o){np=!0,xw(o)}function Eo(){if(!qx&&Ra!==null){qx=!0;var o=0,d=es;try{var p=Ra;for(es=1;o<p.length;o++){var x=p[o];do x=x(!0);while(x!==null)}Ra=null,np=!1}catch(j){throw Ra!==null&&(Ra=Ra.slice(o+1)),Na(Xi,Eo),j}finally{es=d,qx=!1}}return null}var Kc=[],Qc=0,rp=null,ip=0,ci=[],di=0,Rl=null,Pa=1,La="";function Pl(o,d){Kc[Qc++]=ip,Kc[Qc++]=rp,rp=o,ip=d}function vw(o,d,p){ci[di++]=Pa,ci[di++]=La,ci[di++]=Rl,Rl=o;var x=Pa;o=La;var j=32-hr(x)-1;x&=~(1<<j),p+=1;var M=32-hr(d)+j;if(30<M){var V=j-j%5;M=(x&(1<<V)-1).toString(32),x>>=V,j-=V,Pa=1<<32-hr(d)+j|p<<j|x,La=M+o}else Pa=1<<M|p<<j|x,La=o}function Kx(o){o.return!==null&&(Pl(o,1),vw(o,1,0))}function Qx(o){for(;o===rp;)rp=Kc[--Qc],Kc[Qc]=null,ip=Kc[--Qc],Kc[Qc]=null;for(;o===Rl;)Rl=ci[--di],ci[di]=null,La=ci[--di],ci[di]=null,Pa=ci[--di],ci[di]=null}var Kr=null,Qr=null,Ms=!1,Ii=null;function yw(o,d){var p=pi(5,null,null,0);p.elementType="DELETED",p.stateNode=d,p.return=o,d=o.deletions,d===null?(o.deletions=[p],o.flags|=16):d.push(p)}function bw(o,d){switch(o.tag){case 5:var p=o.type;return d=d.nodeType!==1||p.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(o.stateNode=d,Kr=o,Qr=Co(d.firstChild),!0):!1;case 6:return d=o.pendingProps===""||d.nodeType!==3?null:d,d!==null?(o.stateNode=d,Kr=o,Qr=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(p=Rl!==null?{id:Pa,overflow:La}:null,o.memoizedState={dehydrated:d,treeContext:p,retryLane:1073741824},p=pi(18,null,null,0),p.stateNode=d,p.return=o,o.child=p,Kr=o,Qr=null,!0):!1;default:return!1}}function Xx(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Yx(o){if(Ms){var d=Qr;if(d){var p=d;if(!bw(o,d)){if(Xx(o))throw Error(n(418));d=Co(p.nextSibling);var x=Kr;d&&bw(o,d)?yw(x,p):(o.flags=o.flags&-4097|2,Ms=!1,Kr=o)}}else{if(Xx(o))throw Error(n(418));o.flags=o.flags&-4097|2,Ms=!1,Kr=o}}}function _w(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Kr=o}function ap(o){if(o!==Kr)return!1;if(!Ms)return _w(o),Ms=!0,!1;var d;if((d=o.tag!==3)&&!(d=o.tag!==5)&&(d=o.type,d=d!=="head"&&d!=="body"&&!Ux(o.type,o.memoizedProps)),d&&(d=Qr)){if(Xx(o))throw ww(),Error(n(418));for(;d;)yw(o,d),d=Co(d.nextSibling)}if(_w(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,d=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(d===0){Qr=Co(o.nextSibling);break e}d--}else p!=="$"&&p!=="$!"&&p!=="$?"||d++}o=o.nextSibling}Qr=null}}else Qr=Kr?Co(o.stateNode.nextSibling):null;return!0}function ww(){for(var o=Qr;o;)o=Co(o.nextSibling)}function Xc(){Qr=Kr=null,Ms=!1}function Jx(o){Ii===null?Ii=[o]:Ii.push(o)}var z4=v.ReactCurrentBatchConfig;function Au(o,d,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(n(309));var x=p.stateNode}if(!x)throw Error(n(147,o));var j=x,M=""+o;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===M?d.ref:(d=function(V){var Q=j.refs;V===null?delete Q[M]:Q[M]=V},d._stringRef=M,d)}if(typeof o!="string")throw Error(n(284));if(!p._owner)throw Error(n(290,o))}return o}function op(o,d){throw o=Object.prototype.toString.call(d),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":o))}function jw(o){var d=o._init;return d(o._payload)}function Sw(o){function d(ue,re){if(o){var me=ue.deletions;me===null?(ue.deletions=[re],ue.flags|=16):me.push(re)}}function p(ue,re){if(!o)return null;for(;re!==null;)d(ue,re),re=re.sibling;return null}function x(ue,re){for(ue=new Map;re!==null;)re.key!==null?ue.set(re.key,re):ue.set(re.index,re),re=re.sibling;return ue}function j(ue,re){return ue=Bo(ue,re),ue.index=0,ue.sibling=null,ue}function M(ue,re,me){return ue.index=me,o?(me=ue.alternate,me!==null?(me=me.index,me<re?(ue.flags|=2,re):me):(ue.flags|=2,re)):(ue.flags|=1048576,re)}function V(ue){return o&&ue.alternate===null&&(ue.flags|=2),ue}function Q(ue,re,me,De){return re===null||re.tag!==6?(re=zv(me,ue.mode,De),re.return=ue,re):(re=j(re,me),re.return=ue,re)}function ee(ue,re,me,De){var ct=me.type;return ct===C?ke(ue,re,me.props.children,De,me.key):re!==null&&(re.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===W&&jw(ct)===re.type)?(De=j(re,me.props),De.ref=Au(ue,re,me),De.return=ue,De):(De=Ip(me.type,me.key,me.props,null,ue.mode,De),De.ref=Au(ue,re,me),De.return=ue,De)}function pe(ue,re,me,De){return re===null||re.tag!==4||re.stateNode.containerInfo!==me.containerInfo||re.stateNode.implementation!==me.implementation?(re=Hv(me,ue.mode,De),re.return=ue,re):(re=j(re,me.children||[]),re.return=ue,re)}function ke(ue,re,me,De,ct){return re===null||re.tag!==7?(re=Vl(me,ue.mode,De,ct),re.return=ue,re):(re=j(re,me),re.return=ue,re)}function Re(ue,re,me){if(typeof re=="string"&&re!==""||typeof re=="number")return re=zv(""+re,ue.mode,me),re.return=ue,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return me=Ip(re.type,re.key,re.props,null,ue.mode,me),me.ref=Au(ue,null,re),me.return=ue,me;case L:return re=Hv(re,ue.mode,me),re.return=ue,re;case W:var De=re._init;return Re(ue,De(re._payload),me)}if(je(re)||se(re))return re=Vl(re,ue.mode,me,null),re.return=ue,re;op(ue,re)}return null}function Ne(ue,re,me,De){var ct=re!==null?re.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return ct!==null?null:Q(ue,re,""+me,De);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case w:return me.key===ct?ee(ue,re,me,De):null;case L:return me.key===ct?pe(ue,re,me,De):null;case W:return ct=me._init,Ne(ue,re,ct(me._payload),De)}if(je(me)||se(me))return ct!==null?null:ke(ue,re,me,De,null);op(ue,me)}return null}function Xe(ue,re,me,De,ct){if(typeof De=="string"&&De!==""||typeof De=="number")return ue=ue.get(me)||null,Q(re,ue,""+De,ct);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case w:return ue=ue.get(De.key===null?me:De.key)||null,ee(re,ue,De,ct);case L:return ue=ue.get(De.key===null?me:De.key)||null,pe(re,ue,De,ct);case W:var xt=De._init;return Xe(ue,re,me,xt(De._payload),ct)}if(je(De)||se(De))return ue=ue.get(me)||null,ke(re,ue,De,ct,null);op(re,De)}return null}function et(ue,re,me,De){for(var ct=null,xt=null,vt=re,Nt=re=0,kn=null;vt!==null&&Nt<me.length;Nt++){vt.index>Nt?(kn=vt,vt=null):kn=vt.sibling;var ms=Ne(ue,vt,me[Nt],De);if(ms===null){vt===null&&(vt=kn);break}o&&vt&&ms.alternate===null&&d(ue,vt),re=M(ms,re,Nt),xt===null?ct=ms:xt.sibling=ms,xt=ms,vt=kn}if(Nt===me.length)return p(ue,vt),Ms&&Pl(ue,Nt),ct;if(vt===null){for(;Nt<me.length;Nt++)vt=Re(ue,me[Nt],De),vt!==null&&(re=M(vt,re,Nt),xt===null?ct=vt:xt.sibling=vt,xt=vt);return Ms&&Pl(ue,Nt),ct}for(vt=x(ue,vt);Nt<me.length;Nt++)kn=Xe(vt,ue,Nt,me[Nt],De),kn!==null&&(o&&kn.alternate!==null&&vt.delete(kn.key===null?Nt:kn.key),re=M(kn,re,Nt),xt===null?ct=kn:xt.sibling=kn,xt=kn);return o&&vt.forEach(function($o){return d(ue,$o)}),Ms&&Pl(ue,Nt),ct}function rt(ue,re,me,De){var ct=se(me);if(typeof ct!="function")throw Error(n(150));if(me=ct.call(me),me==null)throw Error(n(151));for(var xt=ct=null,vt=re,Nt=re=0,kn=null,ms=me.next();vt!==null&&!ms.done;Nt++,ms=me.next()){vt.index>Nt?(kn=vt,vt=null):kn=vt.sibling;var $o=Ne(ue,vt,ms.value,De);if($o===null){vt===null&&(vt=kn);break}o&&vt&&$o.alternate===null&&d(ue,vt),re=M($o,re,Nt),xt===null?ct=$o:xt.sibling=$o,xt=$o,vt=kn}if(ms.done)return p(ue,vt),Ms&&Pl(ue,Nt),ct;if(vt===null){for(;!ms.done;Nt++,ms=me.next())ms=Re(ue,ms.value,De),ms!==null&&(re=M(ms,re,Nt),xt===null?ct=ms:xt.sibling=ms,xt=ms);return Ms&&Pl(ue,Nt),ct}for(vt=x(ue,vt);!ms.done;Nt++,ms=me.next())ms=Xe(vt,ue,Nt,ms.value,De),ms!==null&&(o&&ms.alternate!==null&&vt.delete(ms.key===null?Nt:ms.key),re=M(ms,re,Nt),xt===null?ct=ms:xt.sibling=ms,xt=ms);return o&&vt.forEach(function(wR){return d(ue,wR)}),Ms&&Pl(ue,Nt),ct}function Zs(ue,re,me,De){if(typeof me=="object"&&me!==null&&me.type===C&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case w:e:{for(var ct=me.key,xt=re;xt!==null;){if(xt.key===ct){if(ct=me.type,ct===C){if(xt.tag===7){p(ue,xt.sibling),re=j(xt,me.props.children),re.return=ue,ue=re;break e}}else if(xt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===W&&jw(ct)===xt.type){p(ue,xt.sibling),re=j(xt,me.props),re.ref=Au(ue,xt,me),re.return=ue,ue=re;break e}p(ue,xt);break}else d(ue,xt);xt=xt.sibling}me.type===C?(re=Vl(me.props.children,ue.mode,De,me.key),re.return=ue,ue=re):(De=Ip(me.type,me.key,me.props,null,ue.mode,De),De.ref=Au(ue,re,me),De.return=ue,ue=De)}return V(ue);case L:e:{for(xt=me.key;re!==null;){if(re.key===xt)if(re.tag===4&&re.stateNode.containerInfo===me.containerInfo&&re.stateNode.implementation===me.implementation){p(ue,re.sibling),re=j(re,me.children||[]),re.return=ue,ue=re;break e}else{p(ue,re);break}else d(ue,re);re=re.sibling}re=Hv(me,ue.mode,De),re.return=ue,ue=re}return V(ue);case W:return xt=me._init,Zs(ue,re,xt(me._payload),De)}if(je(me))return et(ue,re,me,De);if(se(me))return rt(ue,re,me,De);op(ue,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,re!==null&&re.tag===6?(p(ue,re.sibling),re=j(re,me),re.return=ue,ue=re):(p(ue,re),re=zv(me,ue.mode,De),re.return=ue,ue=re),V(ue)):p(ue,re)}return Zs}var Yc=Sw(!0),Nw=Sw(!1),lp=To(null),cp=null,Jc=null,Zx=null;function ev(){Zx=Jc=cp=null}function tv(o){var d=lp.current;Rs(lp),o._currentValue=d}function sv(o,d,p){for(;o!==null;){var x=o.alternate;if((o.childLanes&d)!==d?(o.childLanes|=d,x!==null&&(x.childLanes|=d)):x!==null&&(x.childLanes&d)!==d&&(x.childLanes|=d),o===p)break;o=o.return}}function Zc(o,d){cp=o,Zx=Jc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&d)!==0&&(Tr=!0),o.firstContext=null)}function ui(o){var d=o._currentValue;if(Zx!==o)if(o={context:o,memoizedValue:d,next:null},Jc===null){if(cp===null)throw Error(n(308));Jc=o,cp.dependencies={lanes:0,firstContext:o}}else Jc=Jc.next=o;return d}var Ll=null;function nv(o){Ll===null?Ll=[o]:Ll.push(o)}function kw(o,d,p,x){var j=d.interleaved;return j===null?(p.next=p,nv(d)):(p.next=j.next,j.next=p),d.interleaved=p,Da(o,x)}function Da(o,d){o.lanes|=d;var p=o.alternate;for(p!==null&&(p.lanes|=d),p=o,o=o.return;o!==null;)o.childLanes|=d,p=o.alternate,p!==null&&(p.childLanes|=d),p=o,o=o.return;return p.tag===3?p.stateNode:null}var Io=!1;function rv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cw(o,d){o=o.updateQueue,d.updateQueue===o&&(d.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ma(o,d){return{eventTime:o,lane:d,tag:0,payload:null,callback:null,next:null}}function Ro(o,d,p){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(cs&2)!==0){var j=x.pending;return j===null?d.next=d:(d.next=j.next,j.next=d),x.pending=d,Da(o,p)}return j=x.interleaved,j===null?(d.next=d,nv(x)):(d.next=j.next,j.next=d),x.interleaved=d,Da(o,p)}function dp(o,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194240)!==0)){var x=d.lanes;x&=o.pendingLanes,p|=x,d.lanes=p,_o(o,p)}}function Tw(o,d){var p=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var j=null,M=null;if(p=p.firstBaseUpdate,p!==null){do{var V={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};M===null?j=M=V:M=M.next=V,p=p.next}while(p!==null);M===null?j=M=d:M=M.next=d}else j=M=d;p={baseState:x.baseState,firstBaseUpdate:j,lastBaseUpdate:M,shared:x.shared,effects:x.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=d}function up(o,d,p,x){var j=o.updateQueue;Io=!1;var M=j.firstBaseUpdate,V=j.lastBaseUpdate,Q=j.shared.pending;if(Q!==null){j.shared.pending=null;var ee=Q,pe=ee.next;ee.next=null,V===null?M=pe:V.next=pe,V=ee;var ke=o.alternate;ke!==null&&(ke=ke.updateQueue,Q=ke.lastBaseUpdate,Q!==V&&(Q===null?ke.firstBaseUpdate=pe:Q.next=pe,ke.lastBaseUpdate=ee))}if(M!==null){var Re=j.baseState;V=0,ke=pe=ee=null,Q=M;do{var Ne=Q.lane,Xe=Q.eventTime;if((x&Ne)===Ne){ke!==null&&(ke=ke.next={eventTime:Xe,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var et=o,rt=Q;switch(Ne=d,Xe=p,rt.tag){case 1:if(et=rt.payload,typeof et=="function"){Re=et.call(Xe,Re,Ne);break e}Re=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=rt.payload,Ne=typeof et=="function"?et.call(Xe,Re,Ne):et,Ne==null)break e;Re=ne({},Re,Ne);break e;case 2:Io=!0}}Q.callback!==null&&Q.lane!==0&&(o.flags|=64,Ne=j.effects,Ne===null?j.effects=[Q]:Ne.push(Q))}else Xe={eventTime:Xe,lane:Ne,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},ke===null?(pe=ke=Xe,ee=Re):ke=ke.next=Xe,V|=Ne;if(Q=Q.next,Q===null){if(Q=j.shared.pending,Q===null)break;Ne=Q,Q=Ne.next,Ne.next=null,j.lastBaseUpdate=Ne,j.shared.pending=null}}while(!0);if(ke===null&&(ee=Re),j.baseState=ee,j.firstBaseUpdate=pe,j.lastBaseUpdate=ke,d=j.shared.interleaved,d!==null){j=d;do V|=j.lane,j=j.next;while(j!==d)}else M===null&&(j.shared.lanes=0);Fl|=V,o.lanes=V,o.memoizedState=Re}}function Aw(o,d,p){if(o=d.effects,d.effects=null,o!==null)for(d=0;d<o.length;d++){var x=o[d],j=x.callback;if(j!==null){if(x.callback=null,x=p,typeof j!="function")throw Error(n(191,j));j.call(x)}}}var Eu={},na=To(Eu),Iu=To(Eu),Ru=To(Eu);function Dl(o){if(o===Eu)throw Error(n(174));return o}function iv(o,d){switch(Cs(Ru,d),Cs(Iu,o),Cs(na,Eu),o=d.nodeType,o){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:He(null,"");break;default:o=o===8?d.parentNode:d,d=o.namespaceURI||null,o=o.tagName,d=He(d,o)}Rs(na),Cs(na,d)}function ed(){Rs(na),Rs(Iu),Rs(Ru)}function Ew(o){Dl(Ru.current);var d=Dl(na.current),p=He(d,o.type);d!==p&&(Cs(Iu,o),Cs(na,p))}function av(o){Iu.current===o&&(Rs(na),Rs(Iu))}var Vs=To(0);function hp(o){for(var d=o;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var ov=[];function lv(){for(var o=0;o<ov.length;o++)ov[o]._workInProgressVersionPrimary=null;ov.length=0}var mp=v.ReactCurrentDispatcher,cv=v.ReactCurrentBatchConfig,Ml=0,Us=null,vn=null,Sn=null,pp=!1,Pu=!1,Lu=0,H4=0;function Zn(){throw Error(n(321))}function dv(o,d){if(d===null)return!1;for(var p=0;p<d.length&&p<o.length;p++)if(!Ei(o[p],d[p]))return!1;return!0}function uv(o,d,p,x,j,M){if(Ml=M,Us=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,mp.current=o===null||o.memoizedState===null?K4:Q4,o=p(x,j),Pu){M=0;do{if(Pu=!1,Lu=0,25<=M)throw Error(n(301));M+=1,Sn=vn=null,d.updateQueue=null,mp.current=X4,o=p(x,j)}while(Pu)}if(mp.current=xp,d=vn!==null&&vn.next!==null,Ml=0,Sn=vn=Us=null,pp=!1,d)throw Error(n(300));return o}function hv(){var o=Lu!==0;return Lu=0,o}function ra(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?Us.memoizedState=Sn=o:Sn=Sn.next=o,Sn}function hi(){if(vn===null){var o=Us.alternate;o=o!==null?o.memoizedState:null}else o=vn.next;var d=Sn===null?Us.memoizedState:Sn.next;if(d!==null)Sn=d,vn=o;else{if(o===null)throw Error(n(310));vn=o,o={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Sn===null?Us.memoizedState=Sn=o:Sn=Sn.next=o}return Sn}function Du(o,d){return typeof d=="function"?d(o):d}function mv(o){var d=hi(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var x=vn,j=x.baseQueue,M=p.pending;if(M!==null){if(j!==null){var V=j.next;j.next=M.next,M.next=V}x.baseQueue=j=M,p.pending=null}if(j!==null){M=j.next,x=x.baseState;var Q=V=null,ee=null,pe=M;do{var ke=pe.lane;if((Ml&ke)===ke)ee!==null&&(ee=ee.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),x=pe.hasEagerState?pe.eagerState:o(x,pe.action);else{var Re={lane:ke,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};ee===null?(Q=ee=Re,V=x):ee=ee.next=Re,Us.lanes|=ke,Fl|=ke}pe=pe.next}while(pe!==null&&pe!==M);ee===null?V=x:ee.next=Q,Ei(x,d.memoizedState)||(Tr=!0),d.memoizedState=x,d.baseState=V,d.baseQueue=ee,p.lastRenderedState=x}if(o=p.interleaved,o!==null){j=o;do M=j.lane,Us.lanes|=M,Fl|=M,j=j.next;while(j!==o)}else j===null&&(p.lanes=0);return[d.memoizedState,p.dispatch]}function pv(o){var d=hi(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=o;var x=p.dispatch,j=p.pending,M=d.memoizedState;if(j!==null){p.pending=null;var V=j=j.next;do M=o(M,V.action),V=V.next;while(V!==j);Ei(M,d.memoizedState)||(Tr=!0),d.memoizedState=M,d.baseQueue===null&&(d.baseState=M),p.lastRenderedState=M}return[M,x]}function Iw(){}function Rw(o,d){var p=Us,x=hi(),j=d(),M=!Ei(x.memoizedState,j);if(M&&(x.memoizedState=j,Tr=!0),x=x.queue,fv(Dw.bind(null,p,x,o),[o]),x.getSnapshot!==d||M||Sn!==null&&Sn.memoizedState.tag&1){if(p.flags|=2048,Mu(9,Lw.bind(null,p,x,j,d),void 0,null),Nn===null)throw Error(n(349));(Ml&30)!==0||Pw(p,d,j)}return j}function Pw(o,d,p){o.flags|=16384,o={getSnapshot:d,value:p},d=Us.updateQueue,d===null?(d={lastEffect:null,stores:null},Us.updateQueue=d,d.stores=[o]):(p=d.stores,p===null?d.stores=[o]:p.push(o))}function Lw(o,d,p,x){d.value=p,d.getSnapshot=x,Mw(d)&&Fw(o)}function Dw(o,d,p){return p(function(){Mw(d)&&Fw(o)})}function Mw(o){var d=o.getSnapshot;o=o.value;try{var p=d();return!Ei(o,p)}catch(x){return!0}}function Fw(o){var d=Da(o,1);d!==null&&Di(d,o,1,-1)}function Bw(o){var d=ra();return typeof o=="function"&&(o=o()),d.memoizedState=d.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:o},d.queue=o,o=o.dispatch=q4.bind(null,Us,o),[d.memoizedState,o]}function Mu(o,d,p,x){return o={tag:o,create:d,destroy:p,deps:x,next:null},d=Us.updateQueue,d===null?(d={lastEffect:null,stores:null},Us.updateQueue=d,d.lastEffect=o.next=o):(p=d.lastEffect,p===null?d.lastEffect=o.next=o:(x=p.next,p.next=o,o.next=x,d.lastEffect=o)),o}function $w(){return hi().memoizedState}function fp(o,d,p,x){var j=ra();Us.flags|=o,j.memoizedState=Mu(1|d,p,void 0,x===void 0?null:x)}function gp(o,d,p,x){var j=hi();x=x===void 0?null:x;var M=void 0;if(vn!==null){var V=vn.memoizedState;if(M=V.destroy,x!==null&&dv(x,V.deps)){j.memoizedState=Mu(d,p,M,x);return}}Us.flags|=o,j.memoizedState=Mu(1|d,p,M,x)}function Ow(o,d){return fp(8390656,8,o,d)}function fv(o,d){return gp(2048,8,o,d)}function Vw(o,d){return gp(4,2,o,d)}function Uw(o,d){return gp(4,4,o,d)}function zw(o,d){if(typeof d=="function")return o=o(),d(o),function(){d(null)};if(d!=null)return o=o(),d.current=o,function(){d.current=null}}function Hw(o,d,p){return p=p!=null?p.concat([o]):null,gp(4,4,zw.bind(null,d,o),p)}function gv(){}function Gw(o,d){var p=hi();d=d===void 0?null:d;var x=p.memoizedState;return x!==null&&d!==null&&dv(d,x[1])?x[0]:(p.memoizedState=[o,d],o)}function Ww(o,d){var p=hi();d=d===void 0?null:d;var x=p.memoizedState;return x!==null&&d!==null&&dv(d,x[1])?x[0]:(o=o(),p.memoizedState=[o,d],o)}function qw(o,d,p){return(Ml&21)===0?(o.baseState&&(o.baseState=!1,Tr=!0),o.memoizedState=p):(Ei(p,d)||(p=Nl(),Us.lanes|=p,Fl|=p,o.baseState=!0),d)}function G4(o,d){var p=es;es=p!==0&&4>p?p:4,o(!0);var x=cv.transition;cv.transition={};try{o(!1),d()}finally{es=p,cv.transition=x}}function Kw(){return hi().memoizedState}function W4(o,d,p){var x=Mo(o);if(p={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null},Qw(o))Xw(d,p);else if(p=kw(o,d,p,x),p!==null){var j=fr();Di(p,o,x,j),Yw(p,d,x)}}function q4(o,d,p){var x=Mo(o),j={lane:x,action:p,hasEagerState:!1,eagerState:null,next:null};if(Qw(o))Xw(d,j);else{var M=o.alternate;if(o.lanes===0&&(M===null||M.lanes===0)&&(M=d.lastRenderedReducer,M!==null))try{var V=d.lastRenderedState,Q=M(V,p);if(j.hasEagerState=!0,j.eagerState=Q,Ei(Q,V)){var ee=d.interleaved;ee===null?(j.next=j,nv(d)):(j.next=ee.next,ee.next=j),d.interleaved=j;return}}catch(pe){}finally{}p=kw(o,d,j,x),p!==null&&(j=fr(),Di(p,o,x,j),Yw(p,d,x))}}function Qw(o){var d=o.alternate;return o===Us||d!==null&&d===Us}function Xw(o,d){Pu=pp=!0;var p=o.pending;p===null?d.next=d:(d.next=p.next,p.next=d),o.pending=d}function Yw(o,d,p){if((p&4194240)!==0){var x=d.lanes;x&=o.pendingLanes,p|=x,d.lanes=p,_o(o,p)}}var xp={readContext:ui,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},K4={readContext:ui,useCallback:function(o,d){return ra().memoizedState=[o,d===void 0?null:d],o},useContext:ui,useEffect:Ow,useImperativeHandle:function(o,d,p){return p=p!=null?p.concat([o]):null,fp(4194308,4,zw.bind(null,d,o),p)},useLayoutEffect:function(o,d){return fp(4194308,4,o,d)},useInsertionEffect:function(o,d){return fp(4,2,o,d)},useMemo:function(o,d){var p=ra();return d=d===void 0?null:d,o=o(),p.memoizedState=[o,d],o},useReducer:function(o,d,p){var x=ra();return d=p!==void 0?p(d):d,x.memoizedState=x.baseState=d,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:d},x.queue=o,o=o.dispatch=W4.bind(null,Us,o),[x.memoizedState,o]},useRef:function(o){var d=ra();return o={current:o},d.memoizedState=o},useState:Bw,useDebugValue:gv,useDeferredValue:function(o){return ra().memoizedState=o},useTransition:function(){var o=Bw(!1),d=o[0];return o=G4.bind(null,o[1]),ra().memoizedState=o,[d,o]},useMutableSource:function(){},useSyncExternalStore:function(o,d,p){var x=Us,j=ra();if(Ms){if(p===void 0)throw Error(n(407));p=p()}else{if(p=d(),Nn===null)throw Error(n(349));(Ml&30)!==0||Pw(x,d,p)}j.memoizedState=p;var M={value:p,getSnapshot:d};return j.queue=M,Ow(Dw.bind(null,x,M,o),[o]),x.flags|=2048,Mu(9,Lw.bind(null,x,M,p,d),void 0,null),p},useId:function(){var o=ra(),d=Nn.identifierPrefix;if(Ms){var p=La,x=Pa;p=(x&~(1<<32-hr(x)-1)).toString(32)+p,d=":"+d+"R"+p,p=Lu++,0<p&&(d+="H"+p.toString(32)),d+=":"}else p=H4++,d=":"+d+"r"+p.toString(32)+":";return o.memoizedState=d},unstable_isNewReconciler:!1},Q4={readContext:ui,useCallback:Gw,useContext:ui,useEffect:fv,useImperativeHandle:Hw,useInsertionEffect:Vw,useLayoutEffect:Uw,useMemo:Ww,useReducer:mv,useRef:$w,useState:function(){return mv(Du)},useDebugValue:gv,useDeferredValue:function(o){var d=hi();return qw(d,vn.memoizedState,o)},useTransition:function(){var o=mv(Du)[0],d=hi().memoizedState;return[o,d]},useMutableSource:Iw,useSyncExternalStore:Rw,useId:Kw,unstable_isNewReconciler:!1},X4={readContext:ui,useCallback:Gw,useContext:ui,useEffect:fv,useImperativeHandle:Hw,useInsertionEffect:Vw,useLayoutEffect:Uw,useMemo:Ww,useReducer:pv,useRef:$w,useState:function(){return pv(Du)},useDebugValue:gv,useDeferredValue:function(o){var d=hi();return vn===null?d.memoizedState=o:qw(d,vn.memoizedState,o)},useTransition:function(){var o=pv(Du)[0],d=hi().memoizedState;return[o,d]},useMutableSource:Iw,useSyncExternalStore:Rw,useId:Kw,unstable_isNewReconciler:!1};function Ri(o,d){if(o&&o.defaultProps){d=ne({},d),o=o.defaultProps;for(var p in o)d[p]===void 0&&(d[p]=o[p]);return d}return d}function xv(o,d,p,x){d=o.memoizedState,p=p(x,d),p=p==null?d:ne({},d,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var vp={isMounted:function(o){return(o=o._reactInternals)?Gt(o)===o:!1},enqueueSetState:function(o,d,p){o=o._reactInternals;var x=fr(),j=Mo(o),M=Ma(x,j);M.payload=d,p!=null&&(M.callback=p),d=Ro(o,M,j),d!==null&&(Di(d,o,j,x),dp(d,o,j))},enqueueReplaceState:function(o,d,p){o=o._reactInternals;var x=fr(),j=Mo(o),M=Ma(x,j);M.tag=1,M.payload=d,p!=null&&(M.callback=p),d=Ro(o,M,j),d!==null&&(Di(d,o,j,x),dp(d,o,j))},enqueueForceUpdate:function(o,d){o=o._reactInternals;var p=fr(),x=Mo(o),j=Ma(p,x);j.tag=2,d!=null&&(j.callback=d),d=Ro(o,j,x),d!==null&&(Di(d,o,x,p),dp(d,o,x))}};function Jw(o,d,p,x,j,M,V){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,M,V):d.prototype&&d.prototype.isPureReactComponent?!wu(p,x)||!wu(j,M):!0}function Zw(o,d,p){var x=!1,j=Ao,M=d.contextType;return typeof M=="object"&&M!==null?M=ui(M):(j=Cr(d)?Il:Jn.current,x=d.contextTypes,M=(x=x!=null)?qc(o,j):Ao),d=new d(p,M),o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vp,o.stateNode=d,d._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=j,o.__reactInternalMemoizedMaskedChildContext=M),d}function e2(o,d,p,x){o=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,x),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,x),d.state!==o&&vp.enqueueReplaceState(d,d.state,null)}function vv(o,d,p,x){var j=o.stateNode;j.props=p,j.state=o.memoizedState,j.refs={},rv(o);var M=d.contextType;typeof M=="object"&&M!==null?j.context=ui(M):(M=Cr(d)?Il:Jn.current,j.context=qc(o,M)),j.state=o.memoizedState,M=d.getDerivedStateFromProps,typeof M=="function"&&(xv(o,d,M,p),j.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(d=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),d!==j.state&&vp.enqueueReplaceState(j,j.state,null),up(o,p,j,x),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308)}function td(o,d){try{var p="",x=d;do p+=he(x),x=x.return;while(x);var j=p}catch(M){j=`
Error generating stack: `+M.message+`
`+M.stack}return{value:o,source:d,stack:j,digest:null}}function yv(o,d,p){return{value:o,source:null,stack:p!=null?p:null,digest:d!=null?d:null}}function bv(o,d){try{console.error(d.value)}catch(p){setTimeout(function(){throw p})}}var Y4=typeof WeakMap=="function"?WeakMap:Map;function t2(o,d,p){p=Ma(-1,p),p.tag=3,p.payload={element:null};var x=d.value;return p.callback=function(){Np||(Np=!0,Dv=x),bv(o,d)},p}function s2(o,d,p){p=Ma(-1,p),p.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var j=d.value;p.payload=function(){return x(j)},p.callback=function(){bv(o,d)}}var M=o.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(p.callback=function(){bv(o,d),typeof x!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var V=d.stack;this.componentDidCatch(d.value,{componentStack:V!==null?V:""})}),p}function n2(o,d,p){var x=o.pingCache;if(x===null){x=o.pingCache=new Y4;var j=new Set;x.set(d,j)}else j=x.get(d),j===void 0&&(j=new Set,x.set(d,j));j.has(p)||(j.add(p),o=uR.bind(null,o,d,p),d.then(o,o))}function r2(o){do{var d;if((d=o.tag===13)&&(d=o.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return o;o=o.return}while(o!==null);return null}function i2(o,d,p,x,j){return(o.mode&1)===0?(o===d?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(d=Ma(-1,1),d.tag=2,Ro(p,d,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=j,o)}var J4=v.ReactCurrentOwner,Tr=!1;function pr(o,d,p,x){d.child=o===null?Nw(d,null,p,x):Yc(d,o.child,p,x)}function a2(o,d,p,x,j){p=p.render;var M=d.ref;return Zc(d,j),x=uv(o,d,p,x,M,j),p=hv(),o!==null&&!Tr?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~j,Fa(o,d,j)):(Ms&&p&&Kx(d),d.flags|=1,pr(o,d,x,j),d.child)}function o2(o,d,p,x,j){if(o===null){var M=p.type;return typeof M=="function"&&!Uv(M)&&M.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(d.tag=15,d.type=M,l2(o,d,M,x,j)):(o=Ip(p.type,null,x,d,d.mode,j),o.ref=d.ref,o.return=d,d.child=o)}if(M=o.child,(o.lanes&j)===0){var V=M.memoizedProps;if(p=p.compare,p=p!==null?p:wu,p(V,x)&&o.ref===d.ref)return Fa(o,d,j)}return d.flags|=1,o=Bo(M,x),o.ref=d.ref,o.return=d,d.child=o}function l2(o,d,p,x,j){if(o!==null){var M=o.memoizedProps;if(wu(M,x)&&o.ref===d.ref)if(Tr=!1,d.pendingProps=x=M,(o.lanes&j)!==0)(o.flags&131072)!==0&&(Tr=!0);else return d.lanes=o.lanes,Fa(o,d,j)}return _v(o,d,p,x,j)}function c2(o,d,p){var x=d.pendingProps,j=x.children,M=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(nd,Xr),Xr|=p;else{if((p&1073741824)===0)return o=M!==null?M.baseLanes|p:p,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:o,cachePool:null,transitions:null},d.updateQueue=null,Cs(nd,Xr),Xr|=o,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=M!==null?M.baseLanes:p,Cs(nd,Xr),Xr|=x}else M!==null?(x=M.baseLanes|p,d.memoizedState=null):x=p,Cs(nd,Xr),Xr|=x;return pr(o,d,j,p),d.child}function d2(o,d){var p=d.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(d.flags|=512,d.flags|=2097152)}function _v(o,d,p,x,j){var M=Cr(p)?Il:Jn.current;return M=qc(d,M),Zc(d,j),p=uv(o,d,p,x,M,j),x=hv(),o!==null&&!Tr?(d.updateQueue=o.updateQueue,d.flags&=-2053,o.lanes&=~j,Fa(o,d,j)):(Ms&&x&&Kx(d),d.flags|=1,pr(o,d,p,j),d.child)}function u2(o,d,p,x,j){if(Cr(p)){var M=!0;sp(d)}else M=!1;if(Zc(d,j),d.stateNode===null)bp(o,d),Zw(d,p,x),vv(d,p,x,j),x=!0;else if(o===null){var V=d.stateNode,Q=d.memoizedProps;V.props=Q;var ee=V.context,pe=p.contextType;typeof pe=="object"&&pe!==null?pe=ui(pe):(pe=Cr(p)?Il:Jn.current,pe=qc(d,pe));var ke=p.getDerivedStateFromProps,Re=typeof ke=="function"||typeof V.getSnapshotBeforeUpdate=="function";Re||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Q!==x||ee!==pe)&&e2(d,V,x,pe),Io=!1;var Ne=d.memoizedState;V.state=Ne,up(d,x,V,j),ee=d.memoizedState,Q!==x||Ne!==ee||kr.current||Io?(typeof ke=="function"&&(xv(d,p,ke,x),ee=d.memoizedState),(Q=Io||Jw(d,p,Q,x,Ne,ee,pe))?(Re||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(d.flags|=4194308)):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=x,d.memoizedState=ee),V.props=x,V.state=ee,V.context=pe,x=Q):(typeof V.componentDidMount=="function"&&(d.flags|=4194308),x=!1)}else{V=d.stateNode,Cw(o,d),Q=d.memoizedProps,pe=d.type===d.elementType?Q:Ri(d.type,Q),V.props=pe,Re=d.pendingProps,Ne=V.context,ee=p.contextType,typeof ee=="object"&&ee!==null?ee=ui(ee):(ee=Cr(p)?Il:Jn.current,ee=qc(d,ee));var Xe=p.getDerivedStateFromProps;(ke=typeof Xe=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(Q!==Re||Ne!==ee)&&e2(d,V,x,ee),Io=!1,Ne=d.memoizedState,V.state=Ne,up(d,x,V,j);var et=d.memoizedState;Q!==Re||Ne!==et||kr.current||Io?(typeof Xe=="function"&&(xv(d,p,Xe,x),et=d.memoizedState),(pe=Io||Jw(d,p,pe,x,Ne,et,ee)||!1)?(ke||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(x,et,ee),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(x,et,ee)),typeof V.componentDidUpdate=="function"&&(d.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof V.componentDidUpdate!="function"||Q===o.memoizedProps&&Ne===o.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&Ne===o.memoizedState||(d.flags|=1024),d.memoizedProps=x,d.memoizedState=et),V.props=x,V.state=et,V.context=ee,x=pe):(typeof V.componentDidUpdate!="function"||Q===o.memoizedProps&&Ne===o.memoizedState||(d.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||Q===o.memoizedProps&&Ne===o.memoizedState||(d.flags|=1024),x=!1)}return wv(o,d,p,x,M,j)}function wv(o,d,p,x,j,M){d2(o,d);var V=(d.flags&128)!==0;if(!x&&!V)return j&&gw(d,p,!1),Fa(o,d,M);x=d.stateNode,J4.current=d;var Q=V&&typeof p.getDerivedStateFromError!="function"?null:x.render();return d.flags|=1,o!==null&&V?(d.child=Yc(d,o.child,null,M),d.child=Yc(d,null,Q,M)):pr(o,d,Q,M),d.memoizedState=x.state,j&&gw(d,p,!0),d.child}function h2(o){var d=o.stateNode;d.pendingContext?pw(o,d.pendingContext,d.pendingContext!==d.context):d.context&&pw(o,d.context,!1),iv(o,d.containerInfo)}function m2(o,d,p,x,j){return Xc(),Jx(j),d.flags|=256,pr(o,d,p,x),d.child}var jv={dehydrated:null,treeContext:null,retryLane:0};function Sv(o){return{baseLanes:o,cachePool:null,transitions:null}}function p2(o,d,p){var x=d.pendingProps,j=Vs.current,M=!1,V=(d.flags&128)!==0,Q;if((Q=V)||(Q=o!==null&&o.memoizedState===null?!1:(j&2)!==0),Q?(M=!0,d.flags&=-129):(o===null||o.memoizedState!==null)&&(j|=1),Cs(Vs,j&1),o===null)return Yx(d),o=d.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((d.mode&1)===0?d.lanes=1:o.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(V=x.children,o=x.fallback,M?(x=d.mode,M=d.child,V={mode:"hidden",children:V},(x&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=V):M=Rp(V,x,0,null),o=Vl(o,x,p,null),M.return=d,o.return=d,M.sibling=o,d.child=M,d.child.memoizedState=Sv(p),d.memoizedState=jv,o):Nv(d,V));if(j=o.memoizedState,j!==null&&(Q=j.dehydrated,Q!==null))return Z4(o,d,V,x,Q,j,p);if(M){M=x.fallback,V=d.mode,j=o.child,Q=j.sibling;var ee={mode:"hidden",children:x.children};return(V&1)===0&&d.child!==j?(x=d.child,x.childLanes=0,x.pendingProps=ee,d.deletions=null):(x=Bo(j,ee),x.subtreeFlags=j.subtreeFlags&14680064),Q!==null?M=Bo(Q,M):(M=Vl(M,V,p,null),M.flags|=2),M.return=d,x.return=d,x.sibling=M,d.child=x,x=M,M=d.child,V=o.child.memoizedState,V=V===null?Sv(p):{baseLanes:V.baseLanes|p,cachePool:null,transitions:V.transitions},M.memoizedState=V,M.childLanes=o.childLanes&~p,d.memoizedState=jv,x}return M=o.child,o=M.sibling,x=Bo(M,{mode:"visible",children:x.children}),(d.mode&1)===0&&(x.lanes=p),x.return=d,x.sibling=null,o!==null&&(p=d.deletions,p===null?(d.deletions=[o],d.flags|=16):p.push(o)),d.child=x,d.memoizedState=null,x}function Nv(o,d){return d=Rp({mode:"visible",children:d},o.mode,0,null),d.return=o,o.child=d}function yp(o,d,p,x){return x!==null&&Jx(x),Yc(d,o.child,null,p),o=Nv(d,d.pendingProps.children),o.flags|=2,d.memoizedState=null,o}function Z4(o,d,p,x,j,M,V){if(p)return d.flags&256?(d.flags&=-257,x=yv(Error(n(422))),yp(o,d,V,x)):d.memoizedState!==null?(d.child=o.child,d.flags|=128,null):(M=x.fallback,j=d.mode,x=Rp({mode:"visible",children:x.children},j,0,null),M=Vl(M,j,V,null),M.flags|=2,x.return=d,M.return=d,x.sibling=M,d.child=x,(d.mode&1)!==0&&Yc(d,o.child,null,V),d.child.memoizedState=Sv(V),d.memoizedState=jv,M);if((d.mode&1)===0)return yp(o,d,V,null);if(j.data==="$!"){if(x=j.nextSibling&&j.nextSibling.dataset,x)var Q=x.dgst;return x=Q,M=Error(n(419)),x=yv(M,x,void 0),yp(o,d,V,x)}if(Q=(V&o.childLanes)!==0,Tr||Q){if(x=Nn,x!==null){switch(V&-V){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(x.suspendedLanes|V))!==0?0:j,j!==0&&j!==M.retryLane&&(M.retryLane=j,Da(o,j),Di(x,o,j,-1))}return Vv(),x=yv(Error(n(421))),yp(o,d,V,x)}return j.data==="$?"?(d.flags|=128,d.child=o.child,d=hR.bind(null,o),j._reactRetry=d,null):(o=M.treeContext,Qr=Co(j.nextSibling),Kr=d,Ms=!0,Ii=null,o!==null&&(ci[di++]=Pa,ci[di++]=La,ci[di++]=Rl,Pa=o.id,La=o.overflow,Rl=d),d=Nv(d,x.children),d.flags|=4096,d)}function f2(o,d,p){o.lanes|=d;var x=o.alternate;x!==null&&(x.lanes|=d),sv(o.return,d,p)}function kv(o,d,p,x,j){var M=o.memoizedState;M===null?o.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:j}:(M.isBackwards=d,M.rendering=null,M.renderingStartTime=0,M.last=x,M.tail=p,M.tailMode=j)}function g2(o,d,p){var x=d.pendingProps,j=x.revealOrder,M=x.tail;if(pr(o,d,x.children,p),x=Vs.current,(x&2)!==0)x=x&1|2,d.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=d.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&f2(o,p,d);else if(o.tag===19)f2(o,p,d);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===d)break e;for(;o.sibling===null;){if(o.return===null||o.return===d)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Cs(Vs,x),(d.mode&1)===0)d.memoizedState=null;else switch(j){case"forwards":for(p=d.child,j=null;p!==null;)o=p.alternate,o!==null&&hp(o)===null&&(j=p),p=p.sibling;p=j,p===null?(j=d.child,d.child=null):(j=p.sibling,p.sibling=null),kv(d,!1,j,p,M);break;case"backwards":for(p=null,j=d.child,d.child=null;j!==null;){if(o=j.alternate,o!==null&&hp(o)===null){d.child=j;break}o=j.sibling,j.sibling=p,p=j,j=o}kv(d,!0,p,null,M);break;case"together":kv(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function bp(o,d){(d.mode&1)===0&&o!==null&&(o.alternate=null,d.alternate=null,d.flags|=2)}function Fa(o,d,p){if(o!==null&&(d.dependencies=o.dependencies),Fl|=d.lanes,(p&d.childLanes)===0)return null;if(o!==null&&d.child!==o.child)throw Error(n(153));if(d.child!==null){for(o=d.child,p=Bo(o,o.pendingProps),d.child=p,p.return=d;o.sibling!==null;)o=o.sibling,p=p.sibling=Bo(o,o.pendingProps),p.return=d;p.sibling=null}return d.child}function eR(o,d,p){switch(d.tag){case 3:h2(d),Xc();break;case 5:Ew(d);break;case 1:Cr(d.type)&&sp(d);break;case 4:iv(d,d.stateNode.containerInfo);break;case 10:var x=d.type._context,j=d.memoizedProps.value;Cs(lp,x._currentValue),x._currentValue=j;break;case 13:if(x=d.memoizedState,x!==null)return x.dehydrated!==null?(Cs(Vs,Vs.current&1),d.flags|=128,null):(p&d.child.childLanes)!==0?p2(o,d,p):(Cs(Vs,Vs.current&1),o=Fa(o,d,p),o!==null?o.sibling:null);Cs(Vs,Vs.current&1);break;case 19:if(x=(p&d.childLanes)!==0,(o.flags&128)!==0){if(x)return g2(o,d,p);d.flags|=128}if(j=d.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Cs(Vs,Vs.current),x)break;return null;case 22:case 23:return d.lanes=0,c2(o,d,p)}return Fa(o,d,p)}var x2,Cv,v2,y2;x2=function(o,d){for(var p=d.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Cv=function(){},v2=function(o,d,p,x){var j=o.memoizedProps;if(j!==x){o=d.stateNode,Dl(na.current);var M=null;switch(p){case"input":j=Ve(o,j),x=Ve(o,x),M=[];break;case"select":j=ne({},j,{value:void 0}),x=ne({},x,{value:void 0}),M=[];break;case"textarea":j=Ke(o,j),x=Ke(o,x),M=[];break;default:typeof j.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Zm)}Ys(p,x);var V;p=null;for(pe in j)if(!x.hasOwnProperty(pe)&&j.hasOwnProperty(pe)&&j[pe]!=null)if(pe==="style"){var Q=j[pe];for(V in Q)Q.hasOwnProperty(V)&&(p||(p={}),p[V]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?M||(M=[]):(M=M||[]).push(pe,null));for(pe in x){var ee=x[pe];if(Q=j!=null?j[pe]:void 0,x.hasOwnProperty(pe)&&ee!==Q&&(ee!=null||Q!=null))if(pe==="style")if(Q){for(V in Q)!Q.hasOwnProperty(V)||ee&&ee.hasOwnProperty(V)||(p||(p={}),p[V]="");for(V in ee)ee.hasOwnProperty(V)&&Q[V]!==ee[V]&&(p||(p={}),p[V]=ee[V])}else p||(M||(M=[]),M.push(pe,p)),p=ee;else pe==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,Q=Q?Q.__html:void 0,ee!=null&&Q!==ee&&(M=M||[]).push(pe,ee)):pe==="children"?typeof ee!="string"&&typeof ee!="number"||(M=M||[]).push(pe,""+ee):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(ee!=null&&pe==="onScroll"&&Is("scroll",o),M||Q===ee||(M=[])):(M=M||[]).push(pe,ee))}p&&(M=M||[]).push("style",p);var pe=M;(d.updateQueue=pe)&&(d.flags|=4)}},y2=function(o,d,p,x){p!==x&&(d.flags|=4)};function Fu(o,d){if(!Ms)switch(o.tailMode){case"hidden":d=o.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?d||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function er(o){var d=o.alternate!==null&&o.alternate.child===o.child,p=0,x=0;if(d)for(var j=o.child;j!==null;)p|=j.lanes|j.childLanes,x|=j.subtreeFlags&14680064,x|=j.flags&14680064,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)p|=j.lanes|j.childLanes,x|=j.subtreeFlags,x|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=x,o.childLanes=p,d}function tR(o,d,p){var x=d.pendingProps;switch(Qx(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(d),null;case 1:return Cr(d.type)&&tp(),er(d),null;case 3:return x=d.stateNode,ed(),Rs(kr),Rs(Jn),lv(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(ap(d)?d.flags|=4:o===null||o.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ii!==null&&(Bv(Ii),Ii=null))),Cv(o,d),er(d),null;case 5:av(d);var j=Dl(Ru.current);if(p=d.type,o!==null&&d.stateNode!=null)v2(o,d,p,x,j),o.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!x){if(d.stateNode===null)throw Error(n(166));return er(d),null}if(o=Dl(na.current),ap(d)){x=d.stateNode,p=d.type;var M=d.memoizedProps;switch(x[sa]=d,x[Cu]=M,o=(d.mode&1)!==0,p){case"dialog":Is("cancel",x),Is("close",x);break;case"iframe":case"object":case"embed":Is("load",x);break;case"video":case"audio":for(j=0;j<Su.length;j++)Is(Su[j],x);break;case"source":Is("error",x);break;case"img":case"image":case"link":Is("error",x),Is("load",x);break;case"details":Is("toggle",x);break;case"input":ze(x,M),Is("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!M.multiple},Is("invalid",x);break;case"textarea":yt(x,M),Is("invalid",x)}Ys(p,M),j=null;for(var V in M)if(M.hasOwnProperty(V)){var Q=M[V];V==="children"?typeof Q=="string"?x.textContent!==Q&&(M.suppressHydrationWarning!==!0&&Jm(x.textContent,Q,o),j=["children",Q]):typeof Q=="number"&&x.textContent!==""+Q&&(M.suppressHydrationWarning!==!0&&Jm(x.textContent,Q,o),j=["children",""+Q]):i.hasOwnProperty(V)&&Q!=null&&V==="onScroll"&&Is("scroll",x)}switch(p){case"input":_e(x),mt(x,M,!0);break;case"textarea":_e(x),Be(x);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(x.onclick=Zm)}x=j,d.updateQueue=x,x!==null&&(d.flags|=4)}else{V=j.nodeType===9?j:j.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Le(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=V.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=V.createElement(p,{is:x.is}):(o=V.createElement(p),p==="select"&&(V=o,x.multiple?V.multiple=!0:x.size&&(V.size=x.size))):o=V.createElementNS(o,p),o[sa]=d,o[Cu]=x,x2(o,d,!1,!1),d.stateNode=o;e:{switch(V=gt(p,x),p){case"dialog":Is("cancel",o),Is("close",o),j=x;break;case"iframe":case"object":case"embed":Is("load",o),j=x;break;case"video":case"audio":for(j=0;j<Su.length;j++)Is(Su[j],o);j=x;break;case"source":Is("error",o),j=x;break;case"img":case"image":case"link":Is("error",o),Is("load",o),j=x;break;case"details":Is("toggle",o),j=x;break;case"input":ze(o,x),j=Ve(o,x),Is("invalid",o);break;case"option":j=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},j=ne({},x,{value:void 0}),Is("invalid",o);break;case"textarea":yt(o,x),j=Ke(o,x),Is("invalid",o);break;default:j=x}Ys(p,j),Q=j;for(M in Q)if(Q.hasOwnProperty(M)){var ee=Q[M];M==="style"?_t(o,ee):M==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&fs(o,ee)):M==="children"?typeof ee=="string"?(p!=="textarea"||ee!=="")&&vs(o,ee):typeof ee=="number"&&vs(o,""+ee):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?ee!=null&&M==="onScroll"&&Is("scroll",o):ee!=null&&A(o,M,ee,V))}switch(p){case"input":_e(o),mt(o,x,!1);break;case"textarea":_e(o),Be(o);break;case"option":x.value!=null&&o.setAttribute("value",""+Z(x.value));break;case"select":o.multiple=!!x.multiple,M=x.value,M!=null?Je(o,!!x.multiple,M,!1):x.defaultValue!=null&&Je(o,!!x.multiple,x.defaultValue,!0);break;default:typeof j.onClick=="function"&&(o.onclick=Zm)}switch(p){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return er(d),null;case 6:if(o&&d.stateNode!=null)y2(o,d,o.memoizedProps,x);else{if(typeof x!="string"&&d.stateNode===null)throw Error(n(166));if(p=Dl(Ru.current),Dl(na.current),ap(d)){if(x=d.stateNode,p=d.memoizedProps,x[sa]=d,(M=x.nodeValue!==p)&&(o=Kr,o!==null))switch(o.tag){case 3:Jm(x.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Jm(x.nodeValue,p,(o.mode&1)!==0)}M&&(d.flags|=4)}else x=(p.nodeType===9?p:p.ownerDocument).createTextNode(x),x[sa]=d,d.stateNode=x}return er(d),null;case 13:if(Rs(Vs),x=d.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ms&&Qr!==null&&(d.mode&1)!==0&&(d.flags&128)===0)ww(),Xc(),d.flags|=98560,M=!1;else if(M=ap(d),x!==null&&x.dehydrated!==null){if(o===null){if(!M)throw Error(n(318));if(M=d.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[sa]=d}else Xc(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;er(d),M=!1}else Ii!==null&&(Bv(Ii),Ii=null),M=!0;if(!M)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=p,d):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(d.child.flags|=8192,(d.mode&1)!==0&&(o===null||(Vs.current&1)!==0?yn===0&&(yn=3):Vv())),d.updateQueue!==null&&(d.flags|=4),er(d),null);case 4:return ed(),Cv(o,d),o===null&&Nu(d.stateNode.containerInfo),er(d),null;case 10:return tv(d.type._context),er(d),null;case 17:return Cr(d.type)&&tp(),er(d),null;case 19:if(Rs(Vs),M=d.memoizedState,M===null)return er(d),null;if(x=(d.flags&128)!==0,V=M.rendering,V===null)if(x)Fu(M,!1);else{if(yn!==0||o!==null&&(o.flags&128)!==0)for(o=d.child;o!==null;){if(V=hp(o),V!==null){for(d.flags|=128,Fu(M,!1),x=V.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),d.subtreeFlags=0,x=p,p=d.child;p!==null;)M=p,o=x,M.flags&=14680066,V=M.alternate,V===null?(M.childLanes=0,M.lanes=o,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=V.childLanes,M.lanes=V.lanes,M.child=V.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=V.memoizedProps,M.memoizedState=V.memoizedState,M.updateQueue=V.updateQueue,M.type=V.type,o=V.dependencies,M.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return Cs(Vs,Vs.current&1|2),d.child}o=o.sibling}M.tail!==null&&ys()>rd&&(d.flags|=128,x=!0,Fu(M,!1),d.lanes=4194304)}else{if(!x)if(o=hp(V),o!==null){if(d.flags|=128,x=!0,p=o.updateQueue,p!==null&&(d.updateQueue=p,d.flags|=4),Fu(M,!0),M.tail===null&&M.tailMode==="hidden"&&!V.alternate&&!Ms)return er(d),null}else 2*ys()-M.renderingStartTime>rd&&p!==1073741824&&(d.flags|=128,x=!0,Fu(M,!1),d.lanes=4194304);M.isBackwards?(V.sibling=d.child,d.child=V):(p=M.last,p!==null?p.sibling=V:d.child=V,M.last=V)}return M.tail!==null?(d=M.tail,M.rendering=d,M.tail=d.sibling,M.renderingStartTime=ys(),d.sibling=null,p=Vs.current,Cs(Vs,x?p&1|2:p&1),d):(er(d),null);case 22:case 23:return Ov(),x=d.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(d.flags|=8192),x&&(d.mode&1)!==0?(Xr&1073741824)!==0&&(er(d),d.subtreeFlags&6&&(d.flags|=8192)):er(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function sR(o,d){switch(Qx(d),d.tag){case 1:return Cr(d.type)&&tp(),o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 3:return ed(),Rs(kr),Rs(Jn),lv(),o=d.flags,(o&65536)!==0&&(o&128)===0?(d.flags=o&-65537|128,d):null;case 5:return av(d),null;case 13:if(Rs(Vs),o=d.memoizedState,o!==null&&o.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Xc()}return o=d.flags,o&65536?(d.flags=o&-65537|128,d):null;case 19:return Rs(Vs),null;case 4:return ed(),null;case 10:return tv(d.type._context),null;case 22:case 23:return Ov(),null;case 24:return null;default:return null}}var _p=!1,tr=!1,nR=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function sd(o,d){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(x){qs(o,d,x)}else p.current=null}function Tv(o,d,p){try{p()}catch(x){qs(o,d,x)}}var b2=!1;function rR(o,d){if(Ox=So,o=J_(),Rx(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var j=x.anchorOffset,M=x.focusNode;x=x.focusOffset;try{p.nodeType,M.nodeType}catch(De){p=null;break e}var V=0,Q=-1,ee=-1,pe=0,ke=0,Re=o,Ne=null;t:for(;;){for(var Xe;Re!==p||j!==0&&Re.nodeType!==3||(Q=V+j),Re!==M||x!==0&&Re.nodeType!==3||(ee=V+x),Re.nodeType===3&&(V+=Re.nodeValue.length),(Xe=Re.firstChild)!==null;)Ne=Re,Re=Xe;for(;;){if(Re===o)break t;if(Ne===p&&++pe===j&&(Q=V),Ne===M&&++ke===x&&(ee=V),(Xe=Re.nextSibling)!==null)break;Re=Ne,Ne=Re.parentNode}Re=Xe}p=Q===-1||ee===-1?null:{start:Q,end:ee}}else p=null}p=p||{start:0,end:0}}else p=null;for(Vx={focusedElem:o,selectionRange:p},So=!1,Ze=d;Ze!==null;)if(d=Ze,o=d.child,(d.subtreeFlags&1028)!==0&&o!==null)o.return=d,Ze=o;else for(;Ze!==null;){d=Ze;try{var et=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var rt=et.memoizedProps,Zs=et.memoizedState,ue=d.stateNode,re=ue.getSnapshotBeforeUpdate(d.elementType===d.type?rt:Ri(d.type,rt),Zs);ue.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var me=d.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(De){qs(d,d.return,De)}if(o=d.sibling,o!==null){o.return=d.return,Ze=o;break}Ze=d.return}return et=b2,b2=!1,et}function Bu(o,d,p){var x=d.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var j=x=x.next;do{if((j.tag&o)===o){var M=j.destroy;j.destroy=void 0,M!==void 0&&Tv(d,p,M)}j=j.next}while(j!==x)}}function wp(o,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&o)===o){var x=p.create;p.destroy=x()}p=p.next}while(p!==d)}}function Av(o){var d=o.ref;if(d!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof d=="function"?d(o):d.current=o}}function _2(o){var d=o.alternate;d!==null&&(o.alternate=null,_2(d)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(d=o.stateNode,d!==null&&(delete d[sa],delete d[Cu],delete d[Gx],delete d[O4],delete d[V4])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function w2(o){return o.tag===5||o.tag===3||o.tag===4}function j2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||w2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ev(o,d,p){var x=o.tag;if(x===5||x===6)o=o.stateNode,d?p.nodeType===8?p.parentNode.insertBefore(o,d):p.insertBefore(o,d):(p.nodeType===8?(d=p.parentNode,d.insertBefore(o,p)):(d=p,d.appendChild(o)),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=Zm));else if(x!==4&&(o=o.child,o!==null))for(Ev(o,d,p),o=o.sibling;o!==null;)Ev(o,d,p),o=o.sibling}function Iv(o,d,p){var x=o.tag;if(x===5||x===6)o=o.stateNode,d?p.insertBefore(o,d):p.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(Iv(o,d,p),o=o.sibling;o!==null;)Iv(o,d,p),o=o.sibling}var Fn=null,Pi=!1;function Po(o,d,p){for(p=p.child;p!==null;)S2(o,d,p),p=p.sibling}function S2(o,d,p){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(jl,p)}catch(Q){}switch(p.tag){case 5:tr||sd(p,d);case 6:var x=Fn,j=Pi;Fn=null,Po(o,d,p),Fn=x,Pi=j,Fn!==null&&(Pi?(o=Fn,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):Fn.removeChild(p.stateNode));break;case 18:Fn!==null&&(Pi?(o=Fn,p=p.stateNode,o.nodeType===8?Hx(o.parentNode,p):o.nodeType===1&&Hx(o,p),Ti(o)):Hx(Fn,p.stateNode));break;case 4:x=Fn,j=Pi,Fn=p.stateNode.containerInfo,Pi=!0,Po(o,d,p),Fn=x,Pi=j;break;case 0:case 11:case 14:case 15:if(!tr&&(x=p.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){j=x=x.next;do{var M=j,V=M.destroy;M=M.tag,V!==void 0&&((M&2)!==0||(M&4)!==0)&&Tv(p,d,V),j=j.next}while(j!==x)}Po(o,d,p);break;case 1:if(!tr&&(sd(p,d),x=p.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=p.memoizedProps,x.state=p.memoizedState,x.componentWillUnmount()}catch(Q){qs(p,d,Q)}Po(o,d,p);break;case 21:Po(o,d,p);break;case 22:p.mode&1?(tr=(x=tr)||p.memoizedState!==null,Po(o,d,p),tr=x):Po(o,d,p);break;default:Po(o,d,p)}}function N2(o){var d=o.updateQueue;if(d!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new nR),d.forEach(function(x){var j=mR.bind(null,o,x);p.has(x)||(p.add(x),x.then(j,j))})}}function Li(o,d){var p=d.deletions;if(p!==null)for(var x=0;x<p.length;x++){var j=p[x];try{var M=o,V=d,Q=V;e:for(;Q!==null;){switch(Q.tag){case 5:Fn=Q.stateNode,Pi=!1;break e;case 3:Fn=Q.stateNode.containerInfo,Pi=!0;break e;case 4:Fn=Q.stateNode.containerInfo,Pi=!0;break e}Q=Q.return}if(Fn===null)throw Error(n(160));S2(M,V,j),Fn=null,Pi=!1;var ee=j.alternate;ee!==null&&(ee.return=null),j.return=null}catch(pe){qs(j,d,pe)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)k2(d,o),d=d.sibling}function k2(o,d){var p=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Li(d,o),ia(o),x&4){try{Bu(3,o,o.return),wp(3,o)}catch(rt){qs(o,o.return,rt)}try{Bu(5,o,o.return)}catch(rt){qs(o,o.return,rt)}}break;case 1:Li(d,o),ia(o),x&512&&p!==null&&sd(p,p.return);break;case 5:if(Li(d,o),ia(o),x&512&&p!==null&&sd(p,p.return),o.flags&32){var j=o.stateNode;try{vs(j,"")}catch(rt){qs(o,o.return,rt)}}if(x&4&&(j=o.stateNode,j!=null)){var M=o.memoizedProps,V=p!==null?p.memoizedProps:M,Q=o.type,ee=o.updateQueue;if(o.updateQueue=null,ee!==null)try{Q==="input"&&M.type==="radio"&&M.name!=null&&st(j,M),gt(Q,V);var pe=gt(Q,M);for(V=0;V<ee.length;V+=2){var ke=ee[V],Re=ee[V+1];ke==="style"?_t(j,Re):ke==="dangerouslySetInnerHTML"?fs(j,Re):ke==="children"?vs(j,Re):A(j,ke,Re,pe)}switch(Q){case"input":at(j,M);break;case"textarea":kt(j,M);break;case"select":var Ne=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!M.multiple;var Xe=M.value;Xe!=null?Je(j,!!M.multiple,Xe,!1):Ne!==!!M.multiple&&(M.defaultValue!=null?Je(j,!!M.multiple,M.defaultValue,!0):Je(j,!!M.multiple,M.multiple?[]:"",!1))}j[Cu]=M}catch(rt){qs(o,o.return,rt)}}break;case 6:if(Li(d,o),ia(o),x&4){if(o.stateNode===null)throw Error(n(162));j=o.stateNode,M=o.memoizedProps;try{j.nodeValue=M}catch(rt){qs(o,o.return,rt)}}break;case 3:if(Li(d,o),ia(o),x&4&&p!==null&&p.memoizedState.isDehydrated)try{Ti(d.containerInfo)}catch(rt){qs(o,o.return,rt)}break;case 4:Li(d,o),ia(o);break;case 13:Li(d,o),ia(o),j=o.child,j.flags&8192&&(M=j.memoizedState!==null,j.stateNode.isHidden=M,!M||j.alternate!==null&&j.alternate.memoizedState!==null||(Lv=ys())),x&4&&N2(o);break;case 22:if(ke=p!==null&&p.memoizedState!==null,o.mode&1?(tr=(pe=tr)||ke,Li(d,o),tr=pe):Li(d,o),ia(o),x&8192){if(pe=o.memoizedState!==null,(o.stateNode.isHidden=pe)&&!ke&&(o.mode&1)!==0)for(Ze=o,ke=o.child;ke!==null;){for(Re=Ze=ke;Ze!==null;){switch(Ne=Ze,Xe=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:Bu(4,Ne,Ne.return);break;case 1:sd(Ne,Ne.return);var et=Ne.stateNode;if(typeof et.componentWillUnmount=="function"){x=Ne,p=Ne.return;try{d=x,et.props=d.memoizedProps,et.state=d.memoizedState,et.componentWillUnmount()}catch(rt){qs(x,p,rt)}}break;case 5:sd(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){A2(Re);continue}}Xe!==null?(Xe.return=Ne,Ze=Xe):A2(Re)}ke=ke.sibling}e:for(ke=null,Re=o;;){if(Re.tag===5){if(ke===null){ke=Re;try{j=Re.stateNode,pe?(M=j.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(Q=Re.stateNode,ee=Re.memoizedProps.style,V=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,Q.style.display=Os("display",V))}catch(rt){qs(o,o.return,rt)}}}else if(Re.tag===6){if(ke===null)try{Re.stateNode.nodeValue=pe?"":Re.memoizedProps}catch(rt){qs(o,o.return,rt)}}else if((Re.tag!==22&&Re.tag!==23||Re.memoizedState===null||Re===o)&&Re.child!==null){Re.child.return=Re,Re=Re.child;continue}if(Re===o)break e;for(;Re.sibling===null;){if(Re.return===null||Re.return===o)break e;ke===Re&&(ke=null),Re=Re.return}ke===Re&&(ke=null),Re.sibling.return=Re.return,Re=Re.sibling}}break;case 19:Li(d,o),ia(o),x&4&&N2(o);break;case 21:break;default:Li(d,o),ia(o)}}function ia(o){var d=o.flags;if(d&2){try{e:{for(var p=o.return;p!==null;){if(w2(p)){var x=p;break e}p=p.return}throw Error(n(160))}switch(x.tag){case 5:var j=x.stateNode;x.flags&32&&(vs(j,""),x.flags&=-33);var M=j2(o);Iv(o,M,j);break;case 3:case 4:var V=x.stateNode.containerInfo,Q=j2(o);Ev(o,Q,V);break;default:throw Error(n(161))}}catch(ee){qs(o,o.return,ee)}o.flags&=-3}d&4096&&(o.flags&=-4097)}function iR(o,d,p){Ze=o,C2(o)}function C2(o,d,p){for(var x=(o.mode&1)!==0;Ze!==null;){var j=Ze,M=j.child;if(j.tag===22&&x){var V=j.memoizedState!==null||_p;if(!V){var Q=j.alternate,ee=Q!==null&&Q.memoizedState!==null||tr;Q=_p;var pe=tr;if(_p=V,(tr=ee)&&!pe)for(Ze=j;Ze!==null;)V=Ze,ee=V.child,V.tag===22&&V.memoizedState!==null?E2(j):ee!==null?(ee.return=V,Ze=ee):E2(j);for(;M!==null;)Ze=M,C2(M),M=M.sibling;Ze=j,_p=Q,tr=pe}T2(o)}else(j.subtreeFlags&8772)!==0&&M!==null?(M.return=j,Ze=M):T2(o)}}function T2(o){for(;Ze!==null;){var d=Ze;if((d.flags&8772)!==0){var p=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:tr||wp(5,d);break;case 1:var x=d.stateNode;if(d.flags&4&&!tr)if(p===null)x.componentDidMount();else{var j=d.elementType===d.type?p.memoizedProps:Ri(d.type,p.memoizedProps);x.componentDidUpdate(j,p.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var M=d.updateQueue;M!==null&&Aw(d,M,x);break;case 3:var V=d.updateQueue;if(V!==null){if(p=null,d.child!==null)switch(d.child.tag){case 5:p=d.child.stateNode;break;case 1:p=d.child.stateNode}Aw(d,V,p)}break;case 5:var Q=d.stateNode;if(p===null&&d.flags&4){p=Q;var ee=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&p.focus();break;case"img":ee.src&&(p.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var pe=d.alternate;if(pe!==null){var ke=pe.memoizedState;if(ke!==null){var Re=ke.dehydrated;Re!==null&&Ti(Re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}tr||d.flags&512&&Av(d)}catch(Ne){qs(d,d.return,Ne)}}if(d===o){Ze=null;break}if(p=d.sibling,p!==null){p.return=d.return,Ze=p;break}Ze=d.return}}function A2(o){for(;Ze!==null;){var d=Ze;if(d===o){Ze=null;break}var p=d.sibling;if(p!==null){p.return=d.return,Ze=p;break}Ze=d.return}}function E2(o){for(;Ze!==null;){var d=Ze;try{switch(d.tag){case 0:case 11:case 15:var p=d.return;try{wp(4,d)}catch(ee){qs(d,p,ee)}break;case 1:var x=d.stateNode;if(typeof x.componentDidMount=="function"){var j=d.return;try{x.componentDidMount()}catch(ee){qs(d,j,ee)}}var M=d.return;try{Av(d)}catch(ee){qs(d,M,ee)}break;case 5:var V=d.return;try{Av(d)}catch(ee){qs(d,V,ee)}}}catch(ee){qs(d,d.return,ee)}if(d===o){Ze=null;break}var Q=d.sibling;if(Q!==null){Q.return=d.return,Ze=Q;break}Ze=d.return}}var aR=Math.ceil,jp=v.ReactCurrentDispatcher,Rv=v.ReactCurrentOwner,mi=v.ReactCurrentBatchConfig,cs=0,Nn=null,ln=null,Bn=0,Xr=0,nd=To(0),yn=0,$u=null,Fl=0,Sp=0,Pv=0,Ou=null,Ar=null,Lv=0,rd=1/0,Ba=null,Np=!1,Dv=null,Lo=null,kp=!1,Do=null,Cp=0,Vu=0,Mv=null,Tp=-1,Ap=0;function fr(){return(cs&6)!==0?ys():Tp!==-1?Tp:Tp=ys()}function Mo(o){return(o.mode&1)===0?1:(cs&2)!==0&&Bn!==0?Bn&-Bn:z4.transition!==null?(Ap===0&&(Ap=Nl()),Ap):(o=es,o!==0||(o=window.event,o=o===void 0?16:fu(o.type)),o)}function Di(o,d,p,x){if(50<Vu)throw Vu=0,Mv=null,Error(n(185));bo(o,p,x),((cs&2)===0||o!==Nn)&&(o===Nn&&((cs&2)===0&&(Sp|=p),yn===4&&Fo(o,Bn)),Er(o,x),p===1&&cs===0&&(d.mode&1)===0&&(rd=ys()+500,np&&Eo()))}function Er(o,d){var p=o.callbackNode;ka(o,d);var x=Sl(o,o===Nn?Bn:0);if(x===0)p!==null&&xo(p),o.callbackNode=null,o.callbackPriority=0;else if(d=x&-x,o.callbackPriority!==d){if(p!=null&&xo(p),d===1)o.tag===0?U4(R2.bind(null,o)):xw(R2.bind(null,o)),B4(function(){(cs&6)===0&&Eo()}),p=null;else{switch(wo(x)){case 1:p=Xi;break;case 4:p=Si;break;case 16:p=ur;break;case 536870912:p=Am;break;default:p=ur}p=O2(p,I2.bind(null,o))}o.callbackPriority=d,o.callbackNode=p}}function I2(o,d){if(Tp=-1,Ap=0,(cs&6)!==0)throw Error(n(327));var p=o.callbackNode;if(id()&&o.callbackNode!==p)return null;var x=Sl(o,o===Nn?Bn:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||d)d=Ep(o,x);else{d=x;var j=cs;cs|=2;var M=L2();(Nn!==o||Bn!==d)&&(Ba=null,rd=ys()+500,$l(o,d));do try{cR();break}catch(Q){P2(o,Q)}while(!0);ev(),jp.current=M,cs=j,ln!==null?d=0:(Nn=null,Bn=0,d=yn)}if(d!==0){if(d===2&&(j=Gr(o),j!==0&&(x=j,d=Fv(o,j))),d===1)throw p=$u,$l(o,0),Fo(o,x),Er(o,ys()),p;if(d===6)Fo(o,x);else{if(j=o.current.alternate,(x&30)===0&&!oR(j)&&(d=Ep(o,x),d===2&&(M=Gr(o),M!==0&&(x=M,d=Fv(o,M))),d===1))throw p=$u,$l(o,0),Fo(o,x),Er(o,ys()),p;switch(o.finishedWork=j,o.finishedLanes=x,d){case 0:case 1:throw Error(n(345));case 2:Ol(o,Ar,Ba);break;case 3:if(Fo(o,x),(x&130023424)===x&&(d=Lv+500-ys(),10<d)){if(Sl(o,0)!==0)break;if(j=o.suspendedLanes,(j&x)!==x){fr(),o.pingedLanes|=o.suspendedLanes&j;break}o.timeoutHandle=zx(Ol.bind(null,o,Ar,Ba),d);break}Ol(o,Ar,Ba);break;case 4:if(Fo(o,x),(x&4194240)===x)break;for(d=o.eventTimes,j=-1;0<x;){var V=31-hr(x);M=1<<V,V=d[V],V>j&&(j=V),x&=~M}if(x=j,x=ys()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*aR(x/1960))-x,10<x){o.timeoutHandle=zx(Ol.bind(null,o,Ar,Ba),x);break}Ol(o,Ar,Ba);break;case 5:Ol(o,Ar,Ba);break;default:throw Error(n(329))}}}return Er(o,ys()),o.callbackNode===p?I2.bind(null,o):null}function Fv(o,d){var p=Ou;return o.current.memoizedState.isDehydrated&&($l(o,d).flags|=256),o=Ep(o,d),o!==2&&(d=Ar,Ar=p,d!==null&&Bv(d)),o}function Bv(o){Ar===null?Ar=o:Ar.push.apply(Ar,o)}function oR(o){for(var d=o;;){if(d.flags&16384){var p=d.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var x=0;x<p.length;x++){var j=p[x],M=j.getSnapshot;j=j.value;try{if(!Ei(M(),j))return!1}catch(V){return!1}}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Fo(o,d){for(d&=~Pv,d&=~Sp,o.suspendedLanes|=d,o.pingedLanes&=~d,o=o.expirationTimes;0<d;){var p=31-hr(d),x=1<<p;o[p]=-1,d&=~x}}function R2(o){if((cs&6)!==0)throw Error(n(327));id();var d=Sl(o,0);if((d&1)===0)return Er(o,ys()),null;var p=Ep(o,d);if(o.tag!==0&&p===2){var x=Gr(o);x!==0&&(d=x,p=Fv(o,x))}if(p===1)throw p=$u,$l(o,0),Fo(o,d),Er(o,ys()),p;if(p===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=d,Ol(o,Ar,Ba),Er(o,ys()),null}function $v(o,d){var p=cs;cs|=1;try{return o(d)}finally{cs=p,cs===0&&(rd=ys()+500,np&&Eo())}}function Bl(o){Do!==null&&Do.tag===0&&(cs&6)===0&&id();var d=cs;cs|=1;var p=mi.transition,x=es;try{if(mi.transition=null,es=1,o)return o()}finally{es=x,mi.transition=p,cs=d,(cs&6)===0&&Eo()}}function Ov(){Xr=nd.current,Rs(nd)}function $l(o,d){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,F4(p)),ln!==null)for(p=ln.return;p!==null;){var x=p;switch(Qx(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&tp();break;case 3:ed(),Rs(kr),Rs(Jn),lv();break;case 5:av(x);break;case 4:ed();break;case 13:Rs(Vs);break;case 19:Rs(Vs);break;case 10:tv(x.type._context);break;case 22:case 23:Ov()}p=p.return}if(Nn=o,ln=o=Bo(o.current,null),Bn=Xr=d,yn=0,$u=null,Pv=Sp=Fl=0,Ar=Ou=null,Ll!==null){for(d=0;d<Ll.length;d++)if(p=Ll[d],x=p.interleaved,x!==null){p.interleaved=null;var j=x.next,M=p.pending;if(M!==null){var V=M.next;M.next=j,x.next=V}p.pending=x}Ll=null}return o}function P2(o,d){do{var p=ln;try{if(ev(),mp.current=xp,pp){for(var x=Us.memoizedState;x!==null;){var j=x.queue;j!==null&&(j.pending=null),x=x.next}pp=!1}if(Ml=0,Sn=vn=Us=null,Pu=!1,Lu=0,Rv.current=null,p===null||p.return===null){yn=1,$u=d,ln=null;break}e:{var M=o,V=p.return,Q=p,ee=d;if(d=Bn,Q.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var pe=ee,ke=Q,Re=ke.tag;if((ke.mode&1)===0&&(Re===0||Re===11||Re===15)){var Ne=ke.alternate;Ne?(ke.updateQueue=Ne.updateQueue,ke.memoizedState=Ne.memoizedState,ke.lanes=Ne.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Xe=r2(V);if(Xe!==null){Xe.flags&=-257,i2(Xe,V,Q,M,d),Xe.mode&1&&n2(M,pe,d),d=Xe,ee=pe;var et=d.updateQueue;if(et===null){var rt=new Set;rt.add(ee),d.updateQueue=rt}else et.add(ee);break e}else{if((d&1)===0){n2(M,pe,d),Vv();break e}ee=Error(n(426))}}else if(Ms&&Q.mode&1){var Zs=r2(V);if(Zs!==null){(Zs.flags&65536)===0&&(Zs.flags|=256),i2(Zs,V,Q,M,d),Jx(td(ee,Q));break e}}M=ee=td(ee,Q),yn!==4&&(yn=2),Ou===null?Ou=[M]:Ou.push(M),M=V;do{switch(M.tag){case 3:M.flags|=65536,d&=-d,M.lanes|=d;var ue=t2(M,ee,d);Tw(M,ue);break e;case 1:Q=ee;var re=M.type,me=M.stateNode;if((M.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Lo===null||!Lo.has(me)))){M.flags|=65536,d&=-d,M.lanes|=d;var De=s2(M,Q,d);Tw(M,De);break e}}M=M.return}while(M!==null)}M2(p)}catch(ct){d=ct,ln===p&&p!==null&&(ln=p=p.return);continue}break}while(!0)}function L2(){var o=jp.current;return jp.current=xp,o===null?xp:o}function Vv(){(yn===0||yn===3||yn===2)&&(yn=4),Nn===null||(Fl&268435455)===0&&(Sp&268435455)===0||Fo(Nn,Bn)}function Ep(o,d){var p=cs;cs|=2;var x=L2();(Nn!==o||Bn!==d)&&(Ba=null,$l(o,d));do try{lR();break}catch(j){P2(o,j)}while(!0);if(ev(),cs=p,jp.current=x,ln!==null)throw Error(n(261));return Nn=null,Bn=0,yn}function lR(){for(;ln!==null;)D2(ln)}function cR(){for(;ln!==null&&!_l();)D2(ln)}function D2(o){var d=$2(o.alternate,o,Xr);o.memoizedProps=o.pendingProps,d===null?M2(o):ln=d,Rv.current=null}function M2(o){var d=o;do{var p=d.alternate;if(o=d.return,(d.flags&32768)===0){if(p=tR(p,d,Xr),p!==null){ln=p;return}}else{if(p=sR(p,d),p!==null){p.flags&=32767,ln=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{yn=6,ln=null;return}}if(d=d.sibling,d!==null){ln=d;return}ln=d=o}while(d!==null);yn===0&&(yn=5)}function Ol(o,d,p){var x=es,j=mi.transition;try{mi.transition=null,es=1,dR(o,d,p,x)}finally{mi.transition=j,es=x}return null}function dR(o,d,p,x){do id();while(Do!==null);if((cs&6)!==0)throw Error(n(327));p=o.finishedWork;var j=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var M=p.lanes|p.childLanes;if(js(o,M),o===Nn&&(ln=Nn=null,Bn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||kp||(kp=!0,O2(ur,function(){return id(),null})),M=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||M){M=mi.transition,mi.transition=null;var V=es;es=1;var Q=cs;cs|=4,Rv.current=null,rR(o,p),k2(p,o),E4(Vx),So=!!Ox,Vx=Ox=null,o.current=p,iR(p),kc(),cs=Q,es=V,mi.transition=M}else o.current=p;if(kp&&(kp=!1,Do=o,Cp=j),M=o.pendingLanes,M===0&&(Lo=null),Em(p.stateNode),Er(o,ys()),d!==null)for(x=o.onRecoverableError,p=0;p<d.length;p++)j=d[p],x(j.value,{componentStack:j.stack,digest:j.digest});if(Np)throw Np=!1,o=Dv,Dv=null,o;return(Cp&1)!==0&&o.tag!==0&&id(),M=o.pendingLanes,(M&1)!==0?o===Mv?Vu++:(Vu=0,Mv=o):Vu=0,Eo(),null}function id(){if(Do!==null){var o=wo(Cp),d=mi.transition,p=es;try{if(mi.transition=null,es=16>o?16:o,Do===null)var x=!1;else{if(o=Do,Do=null,Cp=0,(cs&6)!==0)throw Error(n(331));var j=cs;for(cs|=4,Ze=o.current;Ze!==null;){var M=Ze,V=M.child;if((Ze.flags&16)!==0){var Q=M.deletions;if(Q!==null){for(var ee=0;ee<Q.length;ee++){var pe=Q[ee];for(Ze=pe;Ze!==null;){var ke=Ze;switch(ke.tag){case 0:case 11:case 15:Bu(8,ke,M)}var Re=ke.child;if(Re!==null)Re.return=ke,Ze=Re;else for(;Ze!==null;){ke=Ze;var Ne=ke.sibling,Xe=ke.return;if(_2(ke),ke===pe){Ze=null;break}if(Ne!==null){Ne.return=Xe,Ze=Ne;break}Ze=Xe}}}var et=M.alternate;if(et!==null){var rt=et.child;if(rt!==null){et.child=null;do{var Zs=rt.sibling;rt.sibling=null,rt=Zs}while(rt!==null)}}Ze=M}}if((M.subtreeFlags&2064)!==0&&V!==null)V.return=M,Ze=V;else e:for(;Ze!==null;){if(M=Ze,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Bu(9,M,M.return)}var ue=M.sibling;if(ue!==null){ue.return=M.return,Ze=ue;break e}Ze=M.return}}var re=o.current;for(Ze=re;Ze!==null;){V=Ze;var me=V.child;if((V.subtreeFlags&2064)!==0&&me!==null)me.return=V,Ze=me;else e:for(V=re;Ze!==null;){if(Q=Ze,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:wp(9,Q)}}catch(ct){qs(Q,Q.return,ct)}if(Q===V){Ze=null;break e}var De=Q.sibling;if(De!==null){De.return=Q.return,Ze=De;break e}Ze=Q.return}}if(cs=j,Eo(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(jl,o)}catch(ct){}x=!0}return x}finally{es=p,mi.transition=d}}return!1}function F2(o,d,p){d=td(p,d),d=t2(o,d,1),o=Ro(o,d,1),d=fr(),o!==null&&(bo(o,1,d),Er(o,d))}function qs(o,d,p){if(o.tag===3)F2(o,o,p);else for(;d!==null;){if(d.tag===3){F2(d,o,p);break}else if(d.tag===1){var x=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Lo===null||!Lo.has(x))){o=td(p,o),o=s2(d,o,1),d=Ro(d,o,1),o=fr(),d!==null&&(bo(d,1,o),Er(d,o));break}}d=d.return}}function uR(o,d,p){var x=o.pingCache;x!==null&&x.delete(d),d=fr(),o.pingedLanes|=o.suspendedLanes&p,Nn===o&&(Bn&p)===p&&(yn===4||yn===3&&(Bn&130023424)===Bn&&500>ys()-Lv?$l(o,0):Pv|=p),Er(o,d)}function B2(o,d){d===0&&((o.mode&1)===0?d=1:(d=Tc,Tc<<=1,(Tc&130023424)===0&&(Tc=4194304)));var p=fr();o=Da(o,d),o!==null&&(bo(o,d,p),Er(o,p))}function hR(o){var d=o.memoizedState,p=0;d!==null&&(p=d.retryLane),B2(o,p)}function mR(o,d){var p=0;switch(o.tag){case 13:var x=o.stateNode,j=o.memoizedState;j!==null&&(p=j.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(d),B2(o,p)}var $2;$2=function(o,d,p){if(o!==null)if(o.memoizedProps!==d.pendingProps||kr.current)Tr=!0;else{if((o.lanes&p)===0&&(d.flags&128)===0)return Tr=!1,eR(o,d,p);Tr=(o.flags&131072)!==0}else Tr=!1,Ms&&(d.flags&1048576)!==0&&vw(d,ip,d.index);switch(d.lanes=0,d.tag){case 2:var x=d.type;bp(o,d),o=d.pendingProps;var j=qc(d,Jn.current);Zc(d,p),j=uv(null,d,x,o,j,p);var M=hv();return d.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Cr(x)?(M=!0,sp(d)):M=!1,d.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,rv(d),j.updater=vp,d.stateNode=j,j._reactInternals=d,vv(d,x,o,p),d=wv(null,d,x,!0,M,p)):(d.tag=0,Ms&&M&&Kx(d),pr(null,d,j,p),d=d.child),d;case 16:x=d.elementType;e:{switch(bp(o,d),o=d.pendingProps,j=x._init,x=j(x._payload),d.type=x,j=d.tag=fR(x),o=Ri(x,o),j){case 0:d=_v(null,d,x,o,p);break e;case 1:d=u2(null,d,x,o,p);break e;case 11:d=a2(null,d,x,o,p);break e;case 14:d=o2(null,d,x,Ri(x.type,o),p);break e}throw Error(n(306,x,""))}return d;case 0:return x=d.type,j=d.pendingProps,j=d.elementType===x?j:Ri(x,j),_v(o,d,x,j,p);case 1:return x=d.type,j=d.pendingProps,j=d.elementType===x?j:Ri(x,j),u2(o,d,x,j,p);case 3:e:{if(h2(d),o===null)throw Error(n(387));x=d.pendingProps,M=d.memoizedState,j=M.element,Cw(o,d),up(d,x,null,p);var V=d.memoizedState;if(x=V.element,M.isDehydrated)if(M={element:x,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},d.updateQueue.baseState=M,d.memoizedState=M,d.flags&256){j=td(Error(n(423)),d),d=m2(o,d,x,p,j);break e}else if(x!==j){j=td(Error(n(424)),d),d=m2(o,d,x,p,j);break e}else for(Qr=Co(d.stateNode.containerInfo.firstChild),Kr=d,Ms=!0,Ii=null,p=Nw(d,null,x,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Xc(),x===j){d=Fa(o,d,p);break e}pr(o,d,x,p)}d=d.child}return d;case 5:return Ew(d),o===null&&Yx(d),x=d.type,j=d.pendingProps,M=o!==null?o.memoizedProps:null,V=j.children,Ux(x,j)?V=null:M!==null&&Ux(x,M)&&(d.flags|=32),d2(o,d),pr(o,d,V,p),d.child;case 6:return o===null&&Yx(d),null;case 13:return p2(o,d,p);case 4:return iv(d,d.stateNode.containerInfo),x=d.pendingProps,o===null?d.child=Yc(d,null,x,p):pr(o,d,x,p),d.child;case 11:return x=d.type,j=d.pendingProps,j=d.elementType===x?j:Ri(x,j),a2(o,d,x,j,p);case 7:return pr(o,d,d.pendingProps,p),d.child;case 8:return pr(o,d,d.pendingProps.children,p),d.child;case 12:return pr(o,d,d.pendingProps.children,p),d.child;case 10:e:{if(x=d.type._context,j=d.pendingProps,M=d.memoizedProps,V=j.value,Cs(lp,x._currentValue),x._currentValue=V,M!==null)if(Ei(M.value,V)){if(M.children===j.children&&!kr.current){d=Fa(o,d,p);break e}}else for(M=d.child,M!==null&&(M.return=d);M!==null;){var Q=M.dependencies;if(Q!==null){V=M.child;for(var ee=Q.firstContext;ee!==null;){if(ee.context===x){if(M.tag===1){ee=Ma(-1,p&-p),ee.tag=2;var pe=M.updateQueue;if(pe!==null){pe=pe.shared;var ke=pe.pending;ke===null?ee.next=ee:(ee.next=ke.next,ke.next=ee),pe.pending=ee}}M.lanes|=p,ee=M.alternate,ee!==null&&(ee.lanes|=p),sv(M.return,p,d),Q.lanes|=p;break}ee=ee.next}}else if(M.tag===10)V=M.type===d.type?null:M.child;else if(M.tag===18){if(V=M.return,V===null)throw Error(n(341));V.lanes|=p,Q=V.alternate,Q!==null&&(Q.lanes|=p),sv(V,p,d),V=M.sibling}else V=M.child;if(V!==null)V.return=M;else for(V=M;V!==null;){if(V===d){V=null;break}if(M=V.sibling,M!==null){M.return=V.return,V=M;break}V=V.return}M=V}pr(o,d,j.children,p),d=d.child}return d;case 9:return j=d.type,x=d.pendingProps.children,Zc(d,p),j=ui(j),x=x(j),d.flags|=1,pr(o,d,x,p),d.child;case 14:return x=d.type,j=Ri(x,d.pendingProps),j=Ri(x.type,j),o2(o,d,x,j,p);case 15:return l2(o,d,d.type,d.pendingProps,p);case 17:return x=d.type,j=d.pendingProps,j=d.elementType===x?j:Ri(x,j),bp(o,d),d.tag=1,Cr(x)?(o=!0,sp(d)):o=!1,Zc(d,p),Zw(d,x,j),vv(d,x,j,p),wv(null,d,x,!0,o,p);case 19:return g2(o,d,p);case 22:return c2(o,d,p)}throw Error(n(156,d.tag))};function O2(o,d){return Na(o,d)}function pR(o,d,p,x){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(o,d,p,x){return new pR(o,d,p,x)}function Uv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function fR(o){if(typeof o=="function")return Uv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===B)return 11;if(o===H)return 14}return 2}function Bo(o,d){var p=o.alternate;return p===null?(p=pi(o.tag,d,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=d,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,d=o.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function Ip(o,d,p,x,j,M){var V=2;if(x=o,typeof o=="function")Uv(o)&&(V=1);else if(typeof o=="string")V=5;else e:switch(o){case C:return Vl(p.children,j,M,d);case N:V=8,j|=8;break;case E:return o=pi(12,p,d,j|2),o.elementType=E,o.lanes=M,o;case $:return o=pi(13,p,d,j),o.elementType=$,o.lanes=M,o;case U:return o=pi(19,p,d,j),o.elementType=U,o.lanes=M,o;case K:return Rp(p,j,M,d);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case F:V=10;break e;case I:V=9;break e;case B:V=11;break e;case H:V=14;break e;case W:V=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return d=pi(V,p,d,j),d.elementType=o,d.type=x,d.lanes=M,d}function Vl(o,d,p,x){return o=pi(7,o,x,d),o.lanes=p,o}function Rp(o,d,p,x){return o=pi(22,o,x,d),o.elementType=K,o.lanes=p,o.stateNode={isHidden:!1},o}function zv(o,d,p){return o=pi(6,o,null,d),o.lanes=p,o}function Hv(o,d,p){return d=pi(4,o.children!==null?o.children:[],o.key,d),d.lanes=p,d.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},d}function gR(o,d,p,x,j){this.tag=d,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yo(0),this.expirationTimes=yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.identifierPrefix=x,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function Gv(o,d,p,x,j,M,V,Q,ee){return o=new gR(o,d,p,Q,ee),d===1?(d=1,M===!0&&(d|=8)):d=0,M=pi(3,null,null,d),o.current=M,M.stateNode=o,M.memoizedState={element:x,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},rv(M),o}function xR(o,d,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:x==null?null:""+x,children:o,containerInfo:d,implementation:p}}function V2(o){if(!o)return Ao;o=o._reactInternals;e:{if(Gt(o)!==o||o.tag!==1)throw Error(n(170));var d=o;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Cr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(o.tag===1){var p=o.type;if(Cr(p))return fw(o,p,d)}return d}function U2(o,d,p,x,j,M,V,Q,ee){return o=Gv(p,x,!0,o,j,M,V,Q,ee),o.context=V2(null),p=o.current,x=fr(),j=Mo(p),M=Ma(x,j),M.callback=d!=null?d:null,Ro(p,M,j),o.current.lanes=j,bo(o,j,x),Er(o,x),o}function Pp(o,d,p,x){var j=d.current,M=fr(),V=Mo(j);return p=V2(p),d.context===null?d.context=p:d.pendingContext=p,d=Ma(M,V),d.payload={element:o},x=x===void 0?null:x,x!==null&&(d.callback=x),o=Ro(j,d,V),o!==null&&(Di(o,j,V,M),dp(o,j,V)),V}function Lp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function z2(o,d){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<d?p:d}}function Wv(o,d){z2(o,d),(o=o.alternate)&&z2(o,d)}function vR(){return null}var H2=typeof reportError=="function"?reportError:function(o){console.error(o)};function qv(o){this._internalRoot=o}Dp.prototype.render=qv.prototype.render=function(o){var d=this._internalRoot;if(d===null)throw Error(n(409));Pp(o,d,null,null)},Dp.prototype.unmount=qv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var d=o.containerInfo;Bl(function(){Pp(null,o,null,null)}),d[Ia]=null}};function Dp(o){this._internalRoot=o}Dp.prototype.unstable_scheduleHydration=function(o){if(o){var d=Dm();o={blockedOn:null,target:o,priority:d};for(var p=0;p<Ji.length&&d!==0&&d<Ji[p].priority;p++);Ji.splice(p,0,o),p===0&&Bm(o)}};function Kv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Mp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function G2(){}function yR(o,d,p,x,j){if(j){if(typeof x=="function"){var M=x;x=function(){var pe=Lp(V);M.call(pe)}}var V=U2(d,x,o,0,null,!1,!1,"",G2);return o._reactRootContainer=V,o[Ia]=V.current,Nu(o.nodeType===8?o.parentNode:o),Bl(),V}for(;j=o.lastChild;)o.removeChild(j);if(typeof x=="function"){var Q=x;x=function(){var pe=Lp(ee);Q.call(pe)}}var ee=Gv(o,0,!1,null,null,!1,!1,"",G2);return o._reactRootContainer=ee,o[Ia]=ee.current,Nu(o.nodeType===8?o.parentNode:o),Bl(function(){Pp(d,ee,p,x)}),ee}function Fp(o,d,p,x,j){var M=p._reactRootContainer;if(M){var V=M;if(typeof j=="function"){var Q=j;j=function(){var ee=Lp(V);Q.call(ee)}}Pp(d,V,o,j)}else V=yR(p,d,o,j,x);return Lp(V)}Pm=function(o){switch(o.tag){case 3:var d=o.stateNode;if(d.current.memoizedState.isDehydrated){var p=vo(d.pendingLanes);p!==0&&(_o(d,p|1),Er(d,ys()),(cs&6)===0&&(rd=ys()+500,Eo()))}break;case 13:Bl(function(){var x=Da(o,1);if(x!==null){var j=fr();Di(x,o,1,j)}}),Wv(o,1)}},Ac=function(o){if(o.tag===13){var d=Da(o,134217728);if(d!==null){var p=fr();Di(d,o,134217728,p)}Wv(o,134217728)}},Lm=function(o){if(o.tag===13){var d=Mo(o),p=Da(o,d);if(p!==null){var x=fr();Di(p,o,d,x)}Wv(o,d)}},Dm=function(){return es},Mm=function(o,d){var p=es;try{return es=o,d()}finally{es=p}},Ge=function(o,d,p){switch(d){case"input":if(at(o,p),d=p.name,p.type==="radio"&&d!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<p.length;d++){var x=p[d];if(x!==o&&x.form===o.form){var j=ep(x);if(!j)throw Error(n(90));ve(x),at(x,j)}}}break;case"textarea":kt(o,p);break;case"select":d=p.value,d!=null&&Je(o,!!p.multiple,d,!1)}},_n=$v,Yn=Bl;var bR={usingClientEntryPoint:!1,Events:[Tu,Gc,ep,ns,Ls,$v]},Uu={findFiberByHostInstance:El,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_R={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=go(o),o===null?null:o.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance||vR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{jl=Bp.inject(_R),Hr=Bp}catch(o){}}return Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR,Ir.createPortal=function(o,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kv(d))throw Error(n(200));return xR(o,d,null,p)},Ir.createRoot=function(o,d){if(!Kv(o))throw Error(n(299));var p=!1,x="",j=H2;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onRecoverableError!==void 0&&(j=d.onRecoverableError)),d=Gv(o,1,!1,null,null,p,!1,x,j),o[Ia]=d.current,Nu(o.nodeType===8?o.parentNode:o),new qv(d)},Ir.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var d=o._reactInternals;if(d===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=go(d),o=o===null?null:o.stateNode,o},Ir.flushSync=function(o){return Bl(o)},Ir.hydrate=function(o,d,p){if(!Mp(d))throw Error(n(200));return Fp(null,o,d,!0,p)},Ir.hydrateRoot=function(o,d,p){if(!Kv(o))throw Error(n(405));var x=p!=null&&p.hydratedSources||null,j=!1,M="",V=H2;if(p!=null&&(p.unstable_strictMode===!0&&(j=!0),p.identifierPrefix!==void 0&&(M=p.identifierPrefix),p.onRecoverableError!==void 0&&(V=p.onRecoverableError)),d=U2(d,null,o,1,p!=null?p:null,j,!1,M,V),o[Ia]=d.current,Nu(o),x)for(o=0;o<x.length;o++)p=x[o],j=p._getVersion,j=j(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,j]:d.mutableSourceEagerHydrationData.push(p,j);return new Dp(d)},Ir.render=function(o,d,p){if(!Mp(d))throw Error(n(200));return Fp(null,o,d,!1,p)},Ir.unmountComponentAtNode=function(o){if(!Mp(o))throw Error(n(40));return o._reactRootContainer?(Bl(function(){Fp(null,null,o,!1,function(){o._reactRootContainer=null,o[Ia]=null})}),!0):!1},Ir.unstable_batchedUpdates=$v,Ir.unstable_renderSubtreeIntoContainer=function(o,d,p,x){if(!Mp(p))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Fp(o,d,p,!1,x)},Ir.version="18.3.1-next-f1338f8080-20240426",Ir}var Z2;function t3(){if(Z2)return Yv.exports;Z2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yv.exports=TR(),Yv.exports}var ej;function AR(){if(ej)return $p;ej=1;var t=t3();return $p.createRoot=t.createRoot,$p.hydrateRoot=t.hydrateRoot,$p}var ER=AR();const IR=M1(ER),At=t=>typeof t=="string",Hu=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},tj=t=>t==null?"":""+t,RR=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},PR=/###/g,sj=t=>t&&t.indexOf("###")>-1?t.replace(PR,"."):t,nj=t=>!t||At(t),ph=(t,e,n)=>{const r=At(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(nj(t))return{};const a=sj(r[i]);!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return nj(t)?{}:{obj:t,k:sj(r[i])}},rj=(t,e,n)=>{const{obj:r,k:i}=ph(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=ph(t,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=ph(t,l,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${a}`]!="undefined"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=n},LR=(t,e,n,r)=>{const{obj:i,k:a}=ph(t,e,Object);i[a]=i[a]||[],i[a].push(n)},Qf=(t,e)=>{const{obj:n,k:r}=ph(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},DR=(t,e,n)=>{const r=Qf(t,n);return r!==void 0?r:Qf(e,n)},s3=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?At(t[r])||t[r]instanceof String||At(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):s3(t[r],e[r],n):t[r]=e[r]);return t},ad=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var MR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const FR=t=>At(t)?t.replace(/[&<>"'\/]/g,e=>MR[e]):t;class BR{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const $R=[" ",",","?","!",";"],OR=new BR(20),VR=(t,e,n)=>{e=e||"",n=n||"";const r=$R.filter(l=>e.indexOf(l)<0&&n.indexOf(l)<0);if(r.length===0)return!0;const i=OR.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(t);if(!a){const l=t.indexOf(n);l>0&&!i.test(t.substring(0,l))&&(a=!0)}return a},j0=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let u=a;u<r.length;++u)if(u!==a&&(c+=n),c+=r[u],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&u<r.length-1)continue;a+=u-a+1;break}i=l}return i},Ph=t=>t==null?void 0:t.replace("_","-"),UR={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};let zR=class S0{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||UR,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(At(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new S0(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new S0(this.logger,e)}};var ua=new zR;class Dg{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...n])})}}class ij extends Dg{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var h,m;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,n],r&&(Array.isArray(r)?c.push(...r):At(r)&&a?c.push(...r.split(a)):c.push(r)));const u=Qf(this.data,c);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=c[0],n=c[1],r=c.slice(2).join(".")),u||!l||!At(r)?u:j0((m=(h=this.data)==null?void 0:h[e])==null?void 0:m[n],r,a)}addResource(e,n,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,n];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=n,n=c[1]),this.addNamespaces(n),rj(this.data,c,i),a.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const a in r)(At(r[a])||Array.isArray(r[a]))&&this.addResource(e,n,a,r[a],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,a,l={silent:!1,skipCopy:!1}){let c=[e,n];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=n,n=c[1]),this.addNamespaces(n);let u=Qf(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?s3(u,r,a):u={...u,...r},rj(this.data,c,u),l.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var n3={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(a=>{var l,c;e=(c=(l=this.processors[a])==null?void 0:l.process(e,n,r,i))!=null?c:e}),e}};const r3=Symbol("i18next/PATH_KEY");function HR(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var a;return(a=n==null?void 0:n.revoke)==null||a.call(n),i===r3?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function N0(t,e){var r;const{[r3]:n}=t(HR());return n.join((r=e==null?void 0:e.keySeparator)!=null?r:".")}const aj={},oj=t=>!At(t)&&typeof t!="boolean"&&typeof t!="number";class Xf extends Dg{constructor(e,n={}){super(),RR(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ua.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=n.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!VR(e,r,i);if(l&&!c){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:At(a)?[a]:a};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:At(a)?[a]:a}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=N0(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:u}=this.extractFromKey(e[e.length-1],i),h=u[u.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const f=i.lng||this.language,y=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((f==null?void 0:f.toLowerCase())==="cimode")return y?a?{res:`${h}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${m}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:c;const b=this.resolve(e,i);let _=b==null?void 0:b.res;const S=(b==null?void 0:b.usedKey)||c,k=(b==null?void 0:b.exactUsedKey)||c,P=["[object Number]","[object Function]","[object RegExp]"],D=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,v=i.count!==void 0&&!At(i.count),w=Xf.hasDefaultValue(i),L=v?this.pluralResolver.getSuffix(f,i.count,i):"",C=i.ordinal&&v?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",N=v&&!i.ordinal&&i.count===0,E=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${L}`]||i[`defaultValue${C}`]||i.defaultValue;let F=_;A&&!_&&w&&(F=E);const I=oj(F),B=Object.prototype.toString.apply(F);if(A&&F&&I&&P.indexOf(B)<0&&!(At(D)&&Array.isArray(F))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,F,{...i,ns:u}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(b.res=$,b.usedParams=this.getUsedParamsDetails(i),b):$}if(l){const $=Array.isArray(F),U=$?[]:{},H=$?k:S;for(const W in F)if(Object.prototype.hasOwnProperty.call(F,W)){const K=`${H}${l}${W}`;w&&!_?U[W]=this.translate(K,{...i,defaultValue:oj(E)?E[W]:void 0,joinArrays:!1,ns:u}):U[W]=this.translate(K,{...i,joinArrays:!1,ns:u}),U[W]===K&&(U[W]=F[W])}_=U}}else if(A&&At(D)&&Array.isArray(_))_=_.join(D),_&&(_=this.extendTranslation(_,e,i,r));else{let $=!1,U=!1;!this.isValidLookup(_)&&w&&($=!0,_=E),this.isValidLookup(_)||(U=!0,_=c);const W=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&U?void 0:_,K=w&&E!==_&&this.options.updateMissing;if(U||$||K){if(this.logger.log(K?"updateKey":"missingKey",f,h,c,K?E:_),l){const z=this.resolve(c,{...i,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(let z=0;z<se.length;z++)q.push(se[z]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(i.lng||this.language):q.push(i.lng||this.language);const ne=(z,Y,le)=>{var he;const ae=w&&le!==_?le:W;this.options.missingKeyHandler?this.options.missingKeyHandler(z,h,Y,ae,K,i):(he=this.backendConnector)!=null&&he.saveMissing&&this.backendConnector.saveMissing(z,h,Y,ae,K,i),this.emit("missingKey",z,h,Y,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&v?q.forEach(z=>{const Y=this.pluralResolver.getSuffixes(z,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(le=>{ne([z],c+le,i[`defaultValue${le}`]||E)})}):ne(q,c,E))}_=this.extendTranslation(_,e,i,b,r),U&&_===c&&this.options.appendNamespaceToMissingKey&&(_=`${h}${m}${c}`),(U||$)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${c}`:c,$?_:void 0,i))}return a?(b.res=_,b.usedParams=this.getUsedParamsDetails(i),b):_}extendTranslation(e,n,r,i,a){var u,h;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=At(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(m){const b=e.match(this.interpolator.nestingRegexp);f=b&&b.length}let y=r.replace&&!At(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,r.lng||this.language||i.usedLng,r),m){const b=e.match(this.interpolator.nestingRegexp),_=b&&b.length;f<_&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...b)=>(a==null?void 0:a[0])===b[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):this.translate(...b,n),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=At(l)?[l]:l;return e!=null&&(c!=null&&c.length)&&r.applyPostProcessor!==!1&&(e=n3.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,a,l,c;return At(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(u,n),m=h.key;i=m;let f=h.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const y=n.count!==void 0&&!At(n.count),b=y&&!n.ordinal&&n.count===0,_=n.context!==void 0&&(At(n.context)||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(k=>{var P,D;this.isValidLookup(r)||(c=k,!aj[`${S[0]}-${k}`]&&((P=this.utils)!=null&&P.hasLoadedNamespace)&&!((D=this.utils)!=null&&D.hasLoadedNamespace(c))&&(aj[`${S[0]}-${k}`]=!0,this.logger.warn(`key "${i}" for languages "${S.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(A=>{var L;if(this.isValidLookup(r))return;l=A;const v=[m];if((L=this.i18nFormat)!=null&&L.addLookupKeys)this.i18nFormat.addLookupKeys(v,m,A,k,n);else{let C;y&&(C=this.pluralResolver.getSuffix(A,n.count,n));const N=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(n.ordinal&&C.indexOf(E)===0&&v.push(m+C.replace(E,this.options.pluralSeparator)),v.push(m+C),b&&v.push(m+N)),_){const F=`${m}${this.options.contextSeparator||"_"}${n.context}`;v.push(F),y&&(n.ordinal&&C.indexOf(E)===0&&v.push(F+C.replace(E,this.options.pluralSeparator)),v.push(F+C),b&&v.push(F+N))}}let w;for(;w=v.pop();)this.isValidLookup(r)||(a=w,r=this.getResource(A,k,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!At(e.replace);let i=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of n)delete i[a]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class lj{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ua.create("languageUtils")}getScriptPartFromCode(e){if(e=Ph(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Ph(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(At(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch(r){}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return n=a;n=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),At(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return At(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):At(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const cj={zero:0,one:1,two:2,few:3,many:4,other:5},dj={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class GR{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=ua.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Ph(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch(c){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dj;if(!e.match(/-|_/))return dj;const u=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(u,n)}return this.pluralRulesCache[a]=l,l}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>cj[i]-cj[a]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const uj=(t,e,n,r=".",i=!0)=>{let a=DR(t,e,n);return!a&&i&&At(n)&&(a=j0(t,n,r),a===void 0&&(a=j0(e,n,r))),a},ey=t=>t.replace(/\$/g,"$$$$");class WR{constructor(e={}){var n;this.logger=ua.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:u,formatSeparator:h,unescapeSuffix:m,unescapePrefix:f,nestingPrefix:y,nestingPrefixEscaped:b,nestingSuffix:_,nestingSuffixEscaped:S,nestingOptionsSeparator:k,maxReplaces:P,alwaysFormat:D}=e.interpolation;this.escape=n!==void 0?n:FR,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?ad(a):l||"{{",this.suffix=c?ad(c):u||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=y?ad(y):b||ad("$t("),this.nestingSuffix=_?ad(_):S||ad(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=P||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var b;let a,l,c;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=_=>{if(_.indexOf(this.formatSeparator)<0){const D=uj(n,u,_,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(D,void 0,r,{...i,...n,interpolationkey:_}):D}const S=_.split(this.formatSeparator),k=S.shift().trim(),P=S.join(this.formatSeparator).trim();return this.format(uj(n,u,k,this.options.keySeparator,this.options.ignoreJSONStructure),P,r,{...i,...n,interpolationkey:k})};this.resetRegExp();const m=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((b=i==null?void 0:i.interpolation)==null?void 0:b.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:_=>ey(_)},{regex:this.regexp,safeValue:_=>this.escapeValue?ey(this.escape(_)):ey(_)}].forEach(_=>{for(c=0;a=_.regex.exec(e);){const S=a[1].trim();if(l=h(S),l===void 0)if(typeof m=="function"){const P=m(e,a,i);l=At(P)?P:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))l="";else if(f){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),l="";else!At(l)&&!this.useRawValueToEscape&&(l=tj(l));const k=_.safeValue(l);if(e=e.replace(a[0],k),f?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=a[0].length):_.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,a,l;const c=(u,h)=>{var S;const m=this.nestingOptionsSeparator;if(u.indexOf(m)<0)return u;const f=u.split(new RegExp(`${m}[ ]*{`));let y=`{${f[1]}`;u=f[0],y=this.interpolate(y,l);const b=y.match(/'/g),_=y.match(/"/g);(((S=b==null?void 0:b.length)!=null?S:0)%2===0&&!_||_.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),h&&(l={...h,...l})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,k),`${u}${m}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];l={...r},l=l.replace&&!At(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(h!==-1&&(u=i[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),i[1]=i[1].slice(0,h)),a=n(c.call(this,i[1].trim(),l),l),a&&i[0]===e&&!At(a))return a;At(a)||(a=tj(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),u.length&&(a=u.reduce((m,f)=>this.format(m,f,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const qR=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...u]=l.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();n[m]||(n[m]=h),h==="false"&&(n[m]=!1),h==="true"&&(n[m]=!0),isNaN(h)||(n[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:n}},hj=t=>{const e={};return(n,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=t(Ph(r),i),e[l]=c),c(n)}},KR=t=>(e,n,r)=>t(Ph(n),r)(e);class QR{constructor(e={}){this.logger=ua.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?hj:KR;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return c=>l.format(c)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return c=>l.format(c)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return c=>l.format(c,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return c=>l.format(c)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=hj(n)}format(e,n,r,i={}){const a=n.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(u=>u.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,u)=>{var f;const{formatName:h,formatOptions:m}=qR(u);if(this.formats[h]){let y=c;try{const b=((f=i==null?void 0:i.formatParams)==null?void 0:f[i.interpolationkey])||{},_=b.locale||b.lng||i.locale||i.lng||r;y=this.formats[h](c,_,{...m,...i,...b})}catch(b){this.logger.warn(b)}return y}else this.logger.warn(`there was no format function for ${h}`);return c},e)}}const XR=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class YR extends Dg{constructor(e,n,r,i={}){var a,l;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=ua.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,i.backend,i)}queueLoad(e,n,r,i){const a={},l={},c={},u={};return e.forEach(h=>{let m=!0;n.forEach(f=>{const y=`${h}|${f}`;!r.reload&&this.store.hasResourceBundle(h,f)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,m=!1,l[y]===void 0&&(l[y]=!0),a[y]===void 0&&(a[y]=!0),u[f]===void 0&&(u[f]=!0)))}),m||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){const i=e.split("|"),a=i[0],l=i[1];n&&this.emit("failedLoading",a,l,n),!n&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const c={};this.queue.forEach(u=>{LR(u.loaded,[a],l),XR(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{c[h]||(c[h]={});const m=u.loaded[h];m.length&&m.forEach(f=>{c[h][f]===void 0&&(c[h][f]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const c=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(h&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,a*2,l)},a);return}l(h,m)},u=this.backend[r].bind(this.backend);if(u.length===2){try{const h=u(e,n);h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}return}return u(e,n,c)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();At(e)&&(e=this.languageUtils.toResolveHierarchy(e)),At(n)&&(n=[n]);const a=this.queueLoad(e,n,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${n}loading namespace ${a} for language ${i} failed`,l),!l&&c&&this.logger.log(`${n}loaded namespace ${a} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,n,r,i,a,l={},c=()=>{}){var u,h,m,f,y;if((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace&&!((f=(m=this.services)==null?void 0:m.utils)!=null&&f.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((y=this.backend)!=null&&y.create){const b={...l,isUpdate:a},_=this.backend.create.bind(this.backend);if(_.length<6)try{let S;_.length===5?S=_(e,n,r,i,b):S=_(e,n,r,i),S&&typeof S.then=="function"?S.then(k=>c(null,k)).catch(c):c(null,S)}catch(S){c(S)}else _(e,n,r,i,c,b)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const mj=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),At(t[1])&&(e.defaultValue=t[1]),At(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),pj=t=>{var e,n;return At(t.ns)&&(t.ns=[t.ns]),At(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),At(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Op=()=>{},JR=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Lh extends Dg{constructor(e={},n){if(super(),this.options=pj(e),this.services={},this.logger=ua,this.modules={external:[]},JR(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(At(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=mj();this.options={...r,...this.options,...pj(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?ua.init(i(this.modules.logger),this.options):ua.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=QR;const m=new lj(this.options);this.store=new ij(this.options.resources,this.options);const f=this.services;f.logger=ua,f.resourceStore=this.store,f.languageUtils=m,f.pluralResolver=new GR(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(f.formatter=i(h),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new WR(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new YR(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Xf(this.services,this.options),this.translator.on("*",(b,..._)=>{this.emit(b,..._)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Op),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const c=Hu(),u=()=>{const h=(m,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(f),n(m,f)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),c}loadResources(e,n=Op){var a,l;let r=n;const i=At(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const c=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(f=>{f!=="cimode"&&c.indexOf(f)<0&&c.push(f)})};i?u(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>u(m)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,h=>u(h)),this.services.backendConnector.load(c,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,n,r){const i=Hu();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Op),this.services.backendConnector.reload(e,n,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&n3.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Hu();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),n&&n(c,(...h)=>this.t(...h))},l=c=>{var m,f;!e&&!c&&this.services.languageDetector&&(c=[]);const u=At(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(At(c)?[c]:c);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(f=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||f.call(m,h)),this.loadResources(h,y=>{a(y,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,n,r){const i=(a,l,...c)=>{let u;typeof l!="object"?u=this.options.overloadTranslationOptionHandler([a,l].concat(c)):u={...l},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);const h=this.options.keySeparator||".";let m;return u.keyPrefix&&Array.isArray(a)?m=a.map(f=>(typeof f=="function"&&(f=N0(f,{...this.options,...l})),`${u.keyPrefix}${h}${f}`)):(typeof a=="function"&&(a=N0(a,{...this.options,...l})),m=u.keyPrefix?`${u.keyPrefix}${h}${a}`:a),this.t(m,u)};return At(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,u)=>{const h=this.services.backendConnector.state[`${c}|${u}`];return h===-1||h===0||h===2};if(n.precheck){const c=n.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,n){const r=Hu();return this.options.ns?(At(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Hu();At(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),n&&n(l)}),r):(n&&n(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const l=new Intl.Locale(e);if(l&&l.getTextInfo){const c=l.getTextInfo();if(c&&c.direction)return c.direction}}catch(l){}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new lj(mj());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){return new Lh(e,n)}cloneInstance(e={},n=Op){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Lh(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const c=Object.keys(this.store.data).reduce((u,h)=>(u[h]={...this.store.data[h]},u[h]=Object.keys(u[h]).reduce((m,f)=>(m[f]={...u[h][f]},m),u[h]),u),{});a.store=new ij(c,i),a.services.resourceStore=a.store}return a.translator=new Xf(a.services,i),a.translator.on("*",(c,...u)=>{a.emit(c,...u)}),a.init(i,n),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Xn=Lh.createInstance();Xn.createInstance=Lh.createInstance;Xn.createInstance;Xn.dir;Xn.init;Xn.loadResources;Xn.reloadResources;Xn.use;Xn.changeLanguage;Xn.getFixedT;Xn.t;Xn.exists;Xn.setDefaultNamespace;Xn.hasLoadedNamespace;Xn.loadNamespaces;Xn.loadLanguages;const ZR=(t,e,n,r)=>{var a,l,c,u;const i=[n,{code:e,...r||{}}];if((l=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&l.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);ac(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(u=(c=t==null?void 0:t.services)==null?void 0:c.logger)!=null&&u.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},fj={},k0=(t,e,n,r)=>{ac(n)&&fj[n]||(ac(n)&&(fj[n]=new Date),ZR(t,e,n,r))},i3=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},C0=(t,e,n)=>{t.loadNamespaces(e,i3(t,n))},gj=(t,e,n,r)=>{if(ac(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return C0(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,i3(t,r))},eP=(t,e,n={})=>!e.languages||!e.languages.length?(k0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),ac=t=>typeof t=="string",tP=t=>typeof t=="object"&&t!==null,sP=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,nP={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},rP=t=>nP[t],iP=t=>t.replace(sP,rP);let T0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:iP};const aP=(t={})=>{T0={...T0,...t}},oP=()=>T0;let a3;const lP=t=>{a3=t},cP=()=>a3,dP={type:"3rdParty",init(t){aP(t.options.react),lP(t)}},uP=T.createContext();class hP{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const mP=(t,e)=>{const n=T.useRef();return T.useEffect(()=>{n.current=t},[t,e]),n.current},o3=(t,e,n,r)=>t.getFixedT(e,n,r),pP=(t,e,n,r)=>T.useCallback(o3(t,e,n,r),[t,e,n,r]),wa=(t,e={})=>{var v,w,L,C;const{i18n:n}=e,{i18n:r,defaultNS:i}=T.useContext(uP)||{},a=n||r||cP();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new hP),!a){k0(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(F,I)=>ac(I)?I:tP(I)&&ac(I.defaultValue)?I.defaultValue:Array.isArray(F)?F[F.length-1]:F,E=[N,{},!1];return E.t=N,E.i18n={},E.ready=!1,E}(v=a.options.react)!=null&&v.wait&&k0(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...oP(),...a.options.react,...e},{useSuspense:c,keyPrefix:u}=l;let h=i||((w=a.options)==null?void 0:w.defaultNS);h=ac(h)?[h]:h||["translation"],(C=(L=a.reportNamespaces).addUsedNamespaces)==null||C.call(L,h);const m=(a.isInitialized||a.initializedStoreOnce)&&h.every(N=>eP(N,a,l)),f=pP(a,e.lng||null,l.nsMode==="fallback"?h:h[0],u),y=()=>f,b=()=>o3(a,e.lng||null,l.nsMode==="fallback"?h:h[0],u),[_,S]=T.useState(y);let k=h.join();e.lng&&(k=`${e.lng}${k}`);const P=mP(k),D=T.useRef(!0);T.useEffect(()=>{const{bindI18n:N,bindI18nStore:E}=l;D.current=!0,!m&&!c&&(e.lng?gj(a,e.lng,h,()=>{D.current&&S(b)}):C0(a,h,()=>{D.current&&S(b)})),m&&P&&P!==k&&D.current&&S(b);const F=()=>{D.current&&S(b)};return N&&(a==null||a.on(N,F)),E&&(a==null||a.store.on(E,F)),()=>{D.current=!1,a&&N&&(N==null||N.split(" ").forEach(I=>a.off(I,F))),E&&a&&E.split(" ").forEach(I=>a.store.off(I,F))}},[a,k]),T.useEffect(()=>{D.current&&m&&S(y)},[a,u,m]);const A=[_,a,m];if(A.t=_,A.i18n=a,A.ready=m,m||!m&&!c)return A;throw new Promise(N=>{e.lng?gj(a,e.lng,h,()=>N()):C0(a,h,()=>N())})},fP={home:"Home",dashboard:"Dashboard",players:"Players",guilds:"Guilds",servers:"Servers",toplists:"Top Lists",oldscans:"Old Scans",favorites:"Favorites",notifications:"Notifications",imprint:"Imprint",privacy:"Privacy",license:"License",help:"Help",tools:"Tools",community:"Community"},gP={tabs:{gamified:"Gamified",gamified2:"Gamified 2",gamified3:"Gamified 3"}},xP={connectedCharacters:{title:"Connected characters",empty:"No characters linked yet. Link a character in your account to see it here.",loginPrompt:"Sign in to see your linked characters.",ctaGuest:"Open start guide",ctaAuthed:"Open linked characters guide",chip:{server:"Server",class:"Class"}}},vP={settings:{title:"Settings",subtitle:"Configure your personal preferences.",loading:"Loading settings...",error:"Could not load settings.",retry:"Retry",language:{label:"Preferred language"},defaultSection:{label:"Default section"},compactTables:{label:"Use compact table layout"},experimental:{label:"Enable experimental features"},save:"Save settings",saved:"Settings saved.",noChanges:"No changes to save.",saving:"Saving...",saveError:"Could not save settings. Please try again."},tools:{title:"Tools settings",subtitle:"Configure how tools behave for your account.",loading:"Loading tools settings...",loadError:"Could not load tools settings.",defaultSet:{label:"Default set ID",placeholder:"Enter a default set ID"},showIntro:{label:"Show tools intro"},experimental:{label:"Enable experimental tools"},save:{cta:"Save settings",saving:"Saving...",success:"Settings saved.",noChanges:"No changes to save.",error:"Could not save settings. Please try again."}},connectedCharacters:{title:"Connected characters",subtitle:"These game characters are linked to your SFDataHub account.",loading:"Refreshing characters...",empty:{title:"No characters linked yet",description:'Use the "!connect char" command in Discord to link your characters, then click "Refresh" here.',cta:"Click to learn how linking works"},actions:{refresh:"Refresh",refreshing:"Refreshing...",unlink:"Disconnect character"},confirmation:{title:"Are you sure you want to unlink this character?",cancel:"Cancel",confirm:"Yes, unlink",confirming:"Unlinking..."},errors:{serviceUnavailable:"Auth service is not configured for unlinking.",unlink:"Could not unlink character."},columns:{character:"Character",server:"Server",playerId:"Player ID",class:"Class",level:"Level",guild:"Guild",lastVerified:"Last linked",source:"Source",actions:"Actions"},method:{discord:"Discord bot"},help:{title:"How does linking work?",show:"Show",hide:"Hide",steps:{link:'Link a character via the Discord bot using the "!connect char" command.',verify:"We match the character to your latest verified scan; keep your game data up to date.",refresh:"After linking, click Refresh here to sync the latest characters from the auth service.",unlink:"You can unlink any character in the Actions column; the source column shows how it was linked."},footnote:"Tip: Click Refresh after linking or unlinking to update this table."}}},yP={banner:{guestTitle:"Unlock extra features with an account",guestDescription:"You can use all tools without an account. Sign in to enable cloud-synced sets, cross-set insights, and integrations with your SFDataHub profile.",guestLoginCta:"Sign in to unlock",accountTitle:"Extended tools features",accountComingSoon:"These features are in development and will roll out gradually.",featureSetComparison:"Compare your sets to find the best setups.",featureIntegration:"Link your sets with player profiles, guilds, and other modules.",featureCloudSync:"Sync your sets across devices with your SFDataHub account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Placeholder for future gem calculations.",dungeonPause:"Dummy view for dungeon pause tools.",xpDungeon:"Slide for XP dungeon planning."},sets:{defaultName:"New Set",exportActive:"Export active set",import:"Import set",importErrorInvalid:"This file does not contain a valid tools set.",importErrorMaxReached:"You already use the maximum of 3 sets. Delete one before importing a new one.",delete:"Delete set",deleteConfirmTitle:"Delete this set?",deleteConfirmText:"This will remove the set from your browser and free up a slot. Export it first if you want a backup.",deleteLastForbidden:"You need at least one set. Create a new one before deleting this.",rename:"Rename set",renameTitle:"Rename set",renameLabel:"Set name",renamePlaceholder:"Enter a name for this set",renameSave:"Save",renameCancel:"Cancel",renameErrorEmpty:"Please enter a name."},sync:{buttonSave:"Save changes to account",saving:"Saving",error:"Could not save your changes. Please try again.",statusUnsynced:"Unsynced changes",statusSynced:"All changes synced",statusNever:"Not synced yet",lastSyncLabel:"Last sync",noChanges:"No changes to save",cooldownLabel:"Next sync in {{time}}"}},bP={search:"Search?  /",settings:"Settings",profile:"Profile",signout:"Sign out",notifications:"Notifications",help:"Help",theme:"Theme",theme_light:"Light",theme_dark:"Dark",language:"Language",lang_en:"English",lang_de:"Deutsch"},_P={public:{title:"Public profile",subtitle:"Read-only showcase of this SFDataHub identity",identity:{profileIdLabel:"Profile ID",unknownValue:"Unknown",lastScanLabel:"Last scan",lastScanToday:"today",daysAgoSuffix:"days ago",dateUnknown:"Not available",mainCharacterLabel:"Main character",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Guild",portraitPlaceholder:"Portrait placeholder"},bio:{title:"About this player",empty:"This player has not added a bio yet.",languagesLabel:"Languages",rolesLabel:"Roles"},showcase:{title:"Character showcase",subtitle:"Curated roster pulled from the last verified scans",empty:"No characters selected for showcase yet.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archive",event:"Event"}},stats:{title:"SFDataHub activity",totalScans:"Total scans",uniquePlayers:"Unique players",uniqueGuilds:"Unique guilds",last30d:"Scans (30d)",topServersLabel:"Top servers",firstScanLabel:"First scan",empty:"No scan data available yet."},records:{title:"Records & milestones",empty:"No records or milestones have been registered yet.",type:{record:"Record",milestone:"Milestone"}},achievements:{title:"Achievements & badges",highlights:"Featured achievements",empty:"No achievements have been unlocked yet.",tiers:{gold:"Gold",silver:"Silver",bronze:"Bronze"}},roles:{guildleader:"Guild Leader",tryhard:"Tryhard"}}},wP={title:"Help & Overview",subtitle:"Quick guide to SFDataHub",hero:{eyebrow:"Start guide",heading:"Welcome to SFDataHub",lead:"Learn what you can do, how data freshness works, and where to find settings or legal info.",freshnessLabel:"Data freshness",freshnessBody:"Data is refreshed regularly. You will see the exact scan time directly inside top lists and profiles."},dataFreshness:{title:"How up to date is the data?",body:`SFDataHub relies on community scans. Some servers (for example many EU servers) are scanned roughly once per month by us and a few helpers  depending on our free time. Other servers (for example fusion servers) are scanned by other community projects and may have longer gaps between scans.

This means there can be several weeks or even months between two scans. You can always see the exact data age from the "Last scan: " hint in top lists and profiles.

If you want your own profile to be more up to date, you can link your SFDataHub account and upload your own scans. That way you keep your profile fresh and help the overall database stay more current for the whole community.`},sections:{intro:{title:"What is SFDataHub?",body1:"SFDataHub is a community project around Shakes & Fidget.",body2:"You can analyse scan data, browse top lists, and open detailed player and guild profiles. The goal: a quick overview of progress, rankings, and development  without any official connection to Playa Games."},actions:{title:"What can I do on SFDataHub?",items:{toplists:"Browse top lists: compare players and guilds by level or other metrics.",profiles:"Open profiles: view detailed player and guild profiles with extra information.",guides:"Read guides: use guides and tips to plan your progress.",tools:"Use tools & calculators: run interactive tools such as a dungeon XP calculator."}},freshness:{title:"How up to date is the data?",body1:"SFDataHub is based on scans uploaded or linked by the community.",body2:"Next to many values youll find the time of the last scan (for example Last scan: 2025-12-01).",body3:"Top lists and profiles are updated regularly. If an entry hasnt been scanned for a while, the displayed values might differ from the current state in the game."},login:{title:"Login & Settings",body1:"You can log in with your Discord account to unlock additional features.",body2:"After logging in youll see your profile menu with avatar and name in the header.",body3:"In the settings you can adjust basic options for your SFDataHub account.",body4:"Settings are only relevant for logged-in users  without an account theres nothing to configure."},legal:{title:"Help, feedback & legal information",body1:"If you notice bugs, strange data, or have ideas for new features, were happy to hear from you.",body2:"You can find contact options and more information on the contact or imprint page.",body3:"For legal details please use the linked pages:",items:{tos:"Terms of Service (ToS)",privacy:"Privacy Policy",imprint:"Imprint / Contact"}}}},jP={quota:{unlimited:"No limit"}},SP={inputLabel:"Search players, guilds and servers",loading:"Loading",recents:"Recent searches",minCharsHint:"Type at least 3 characters",noResults:"No results",players:"Players",guilds:"Guilds",servers:"Servers",active:"Active",inactive:"Inactive",guildMembers:"{{count}} members",guildMembersUnknown:"Members ?",moreResults:"More results press Enter",recentLabel:"Recent"},NP={about:{title:"About SFDataHub",body:`SFDataHub is a non-commercial fan and community project around Shakes & Fidget. It has no official connection to Playa Games GmbH or the operators of Shakes & Fidget.

All mentioned brands, logos and graphics are the property of their respective owners and are used for identification purposes only.`},shortDisclaimer:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners.",copyright:" 2025 SFDataHub  community project around Shakes & Fidget."},kP={nav:fP,playground:gP,sidebar:xP,account:vP,tools:yP,topbar:bP,profile:_P,help:wP,uploadCenter:jP,search:SP,footer:NP},CP={home:"Start",dashboard:"Dashboard",players:"Spieler",guilds:"Gilden",servers:"Server",toplists:"Top-Listen",oldscans:"Alte Scans",favorites:"Favoriten",notifications:"Benachrichtigungen",imprint:"Impressum",privacy:"Datenschutz",license:"Lizenzen",help:"Hilfe",tools:"Tools",community:"Community"},TP={tabs:{gamified:"Gamifiziert",gamified2:"Gamified 2",gamified3:"Gamified 3"}},AP={connectedCharacters:{title:"Verknuepfte Charaktere",empty:"Noch keine Charaktere verknuepft. Verknuepfe einen Charakter in deinem Account, damit er hier erscheint.",loginPrompt:"Bitte einloggen, um verknuepfte Charaktere zu sehen.",ctaGuest:"Start-Guide oeffnen",ctaAuthed:"Zum Account-Tab wechseln",chip:{server:"Server",class:"Klasse"}}},EP={settings:{title:"Einstellungen",subtitle:"Passe deine persoenlichen Praeferenzen an.",loading:"Einstellungen werden geladen...",error:"Einstellungen konnten nicht geladen werden.",retry:"Erneut versuchen",language:{label:"Bevorzugte Sprache"},defaultSection:{label:"Standardbereich"},compactTables:{label:"Kompaktes Tabellen-Layout nutzen"},experimental:{label:"Experimentelle Features aktivieren"},save:"Einstellungen speichern",saved:"Einstellungen gespeichert.",noChanges:"Keine Aenderungen zum Speichern.",saving:"Speichern...",saveError:"Einstellungen konnten nicht gespeichert werden. Bitte erneut versuchen."},tools:{title:"Tool-Einstellungen",subtitle:"Konfiguriere, wie die Tools fuer deinen Account arbeiten.",loading:"Tool-Einstellungen werden geladen...",loadError:"Tool-Einstellungen konnten nicht geladen werden.",defaultSet:{label:"Standard-Set-ID",placeholder:"Standard-Set-ID eingeben"},showIntro:{label:"Tools-Intro anzeigen"},experimental:{label:"Experimentelle Tools aktivieren"},save:{cta:"Einstellungen speichern",saving:"Speichern...",success:"Einstellungen gespeichert.",noChanges:"Keine Aenderungen zum Speichern.",error:"Einstellungen konnten nicht gespeichert werden. Bitte erneut versuchen."}},connectedCharacters:{title:"Verknuepfte Charaktere",subtitle:"Diese Spielcharaktere sind mit deinem SFDataHub-Account verknuepft.",loading:"Charaktere werden aktualisiert...",empty:{title:"Noch keine Charaktere verknuepft",description:'Nutze den Befehl "!connect char" im Discord-Bot, verknuepfe deinen Account und klicke dann hier auf "Refresh".',cta:"Klicke hier, um zu erfahren, wie das Verknuepfen funktioniert"},actions:{refresh:"Refresh",refreshing:"Aktualisiere...",unlink:"Charakter trennen"},confirmation:{title:"Moechtest du diesen Charakter wirklich trennen?",cancel:"Abbrechen",confirm:"Ja, trennen",confirming:"Trenne..."},errors:{serviceUnavailable:"Auth-Service ist fuer das Trennen nicht konfiguriert.",unlink:"Charakter konnte nicht getrennt werden."},columns:{character:"Charakter",server:"Server",playerId:"Player ID",class:"Klasse",level:"Level",guild:"Gilde",lastVerified:"Zuletzt verknuepft",source:"Quelle",actions:"Aktionen"},method:{discord:"Discord-Bot"},help:{title:"Wie funktioniert das Verknuepfen?",show:"Anzeigen",hide:"Ausblenden",steps:{link:'Verknuepfe einen Charakter ueber den Discord-Bot mit dem Befehl "!connect char".',verify:"Wir gleichen den Charakter mit deinem letzten verifizierten Scan ab; halte deine Daten aktuell.",refresh:"Klicke nach dem Verknuepfen auf Refresh, damit die Liste aktualisiert wird.",unlink:"Du kannst jeden Charakter ueber die Spalte Aktionen trennen; die Quelle zeigt, wie er verknuepft wurde."},footnote:"Tipp: Nach dem Verknuepfen oder Trennen immer kurz auf Refresh klicken."}}},IP={banner:{guestTitle:"Zusatzfunktionen mit Account freischalten",guestDescription:"Du kannst alle Tools ohne Account nutzen. Mit einem Login schaltest du zusaetzlich cloud-synchronisierte Sets, Set-Analysen und Integrationen mit deinem SFDataHub-Profil frei.",guestLoginCta:"Einloggen und freischalten",accountTitle:"Erweiterte Tool-Funktionen",accountComingSoon:"Diese Funktionen sind in Entwicklung und werden nach und nach freigeschaltet.",featureSetComparison:"Vergleiche deine Sets, um die besten Setups zu finden.",featureIntegration:"Verknuepfe deine Sets mit Spielerprofilen, Gilden und weiteren Modulen.",featureCloudSync:"Nutze deine Sets auf mehreren Geraeten mit deinem SFDataHub-Account."},labels:{gemSim:"Gem Simulator",dungeonPause:"Dungeon Pause",xpDungeon:"XP Dungeon"},descriptions:{gemSim:"Platzhalter fuer kuenftige Gem-Berechnungen.",dungeonPause:"Dummy-Ansicht fuer Dungeon-Pausen-Tools.",xpDungeon:"Slide fuer XP-Run-Planung."},sets:{defaultName:"Neues Set",exportActive:"Aktives Set exportieren",import:"Set importieren",importErrorInvalid:"Diese Datei enthlt kein gltiges Tools-Set.",importErrorMaxReached:"Du nutzt bereits das Maximum von 3 Sets. Lsche zuerst ein Set, bevor du ein neues importierst.",delete:"Set l?schen",deleteConfirmTitle:"Dieses Set l?schen?",deleteConfirmText:"Damit wird das Set in diesem Browser entfernt und ein Slot freigegeben. Exportiere es zuerst, wenn du ein Backup behalten m?chtest.",deleteLastForbidden:"Du ben?tigst mindestens ein Set. Erstelle zuerst ein neues, bevor du dieses l?schst.",rename:"Set umbenennen",renameTitle:"Set umbenennen",renameLabel:"Set-Name",renamePlaceholder:"Name f?r dieses Set eingeben",renameSave:"Speichern",renameCancel:"Abbrechen",renameErrorEmpty:"Bitte einen Namen eingeben."},sync:{buttonSave:"nderungen im Account speichern",saving:"Speichere ",error:"Deine nderungen konnten nicht gespeichert werden. Bitte versuche es erneut.",statusUnsynced:"Nicht gespeicherte nderungen",statusSynced:"Alle nderungen synchronisiert",statusNever:"Noch nie synchronisiert",lastSyncLabel:"Letzte Synchronisierung",noChanges:"Keine nderungen zum Speichern",cooldownLabel:"Nchster Sync in {{time}}"}},RP={search:"Suchen?  /",settings:"Einstellungen",profile:"Profil",signout:"Abmelden",notifications:"Benachrichtigungen",help:"Hilfe",theme:"Theme",theme_light:"Hell",theme_dark:"Dunkel",language:"Sprache",lang_en:"English",lang_de:"Deutsch"},PP={public:{title:"ffentliches Profil",subtitle:"Read-only-Ansicht dieser SFDataHub-Identitt",identity:{profileIdLabel:"Profil-ID",unknownValue:"Unbekannt",lastScanLabel:"Letzter Scan",lastScanToday:"heute",daysAgoSuffix:"Tage her",dateUnknown:"Keine Angabe",mainCharacterLabel:"Hauptcharakter",levelShort:"Lv.",serverLabel:"Server",guildLabel:"Gilde",portraitPlaceholder:"Portrait-Platzhalter"},bio:{title:"ber diesen Spieler",empty:"Noch kein Bio-Text hinterlegt.",languagesLabel:"Sprachen",rolesLabel:"Rollen"},showcase:{title:"Charakter-Showcase",subtitle:"Kuratiertes Roster aus den letzten Scans",empty:"Noch keine Charaktere fr den Showcase ausgewhlt.",scrapbookLabel:"Scrapbook",highlightLabel:"Highlight",tags:{main:"Main",alt:"Alt",archive:"Archiv",event:"Event"}},stats:{title:"SFDataHub-Aktivitt",totalScans:"Scans gesamt",uniquePlayers:"Einzigartige Spieler",uniqueGuilds:"Einzigartige Gilden",last30d:"Scans (30T)",topServersLabel:"Top-Server",firstScanLabel:"Erster Scan",empty:"Noch keine Scan-Daten vorhanden."},records:{title:"Records & Meilensteine",empty:"Noch keine Records oder Meilensteine erfasst.",type:{record:"Record",milestone:"Meilenstein"}},achievements:{title:"Erfolge & Badges",highlights:"Highlight-Erfolge",empty:"Noch keine Erfolge freigeschaltet.",tiers:{gold:"Gold",silver:"Silber",bronze:"Bronze"}},roles:{guildleader:"Gildenleiter",tryhard:"Tryhard"}}},LP={title:"Hilfe & bersicht",subtitle:"Kurzer Einstieg in den SFDataHub",hero:{eyebrow:"Start-Guide",heading:"Willkommen im SFDataHub",lead:"Erfahre, was du tun kannst, wie aktuell die Daten sind und wo du Einstellungen oder rechtliche Infos findest.",freshnessLabel:"Datenaktualitt",freshnessBody:"Daten werden regelmig aktualisiert. Den genauen Scan-Zeitpunkt siehst du direkt in Toplisten und Profilen."},dataFreshness:{title:"Wie aktuell sind die Daten?",body:`SFDataHub lebt von Community-Scans. Ein Teil der Server (z. B. die europischen Server) wird von uns und ein paar Helfern ungefhr einmal im Monat gescannt  je nachdem, wie wir Zeit haben. Andere Server (z. B. Fusion-Server) werden von anderen Community-Projekten in greren Abstnden gescannt.

Dadurch knnen zwischen zwei Scans auch mehrere Wochen oder sogar Monate liegen. Den genauen Stand siehst du immer am Hinweis Last scan:  in Toplisten und Profilen.

Wenn du dein Profil besonders aktuell halten mchtest, kannst du dich mit deinem SFDataHub-Account verbinden und eigene Scans hochladen. So hilfst du gleichzeitig mit, dass die Datenbank aktueller bleibt  fr dich selbst und fr die Community.`},sections:{intro:{title:"Was ist SFDataHub?",body1:"SFDataHub ist ein Community-Projekt rund um Shakes & Fidget.",body2:"Du kannst hier Spielerdaten aus Scans auswerten, Toplisten ansehen und detaillierte Spieler- und Gildenprofile ffnen. Ziel ist ein schneller berblick ber Fortschritt, Rankings und Entwicklungen  ohne offizielle Verbindung zu Playa Games."},actions:{title:"Was kann ich auf SFDataHub tun?",items:{toplists:"Toplisten ansehen: Vergleiche Spieler und Gilden nach Level oder anderen Werten.",profiles:"Profile ffnen: Schaue dir detaillierte Spieler- und Gildenprofile mit mehr Informationen an.",guides:"Guides lesen: Nutze Anleitungen und Tipps, um dein Spiel besser zu planen.",tools:"Tools & Rechner verwenden: Berechne z. B. Dungeon-XP oder andere Werte mit interaktiven Tools."}},freshness:{title:"Wie aktuell sind die Daten?",body1:"SFDataHub basiert auf Scans, die von der Community hochgeladen oder verbunden werden.",body2:"Neben vielen Werten findest du einen Hinweis auf den Zeitpunkt des letzten Scans (z. B. Last scan: 2025-12-01).",body3:"Toplisten und Profile werden regelmig aktualisiert. Wenn ein Eintrag lngere Zeit nicht gescannt wurde, knnen die angezeigten Werte vom aktuellen Stand im Spiel abweichen."},login:{title:"Login & Einstellungen",body1:"Du kannst dich mit deinem Discord-Account anmelden, um zustzliche Funktionen nutzen zu knnen.",body2:"Nach dem Login siehst du oben dein Profilmen mit Avatar und Namen.",body3:"In den Einstellungen kannst du grundlegende Optionen fr deinen SFDataHub-Account anpassen.",body4:"Einstellungen sind nur fr eingeloggte Nutzer relevant  ohne Account musst du hier nichts konfigurieren."},legal:{title:"Hilfe, Feedback & rechtliche Infos",body1:"Wenn dir Fehler auffallen, Daten komisch aussehen oder du Ideen fr neue Features hast, freuen wir uns ber Feedback.",body2:"Du findest unsere Kontaktmglichkeiten und weitere Infos auf der Kontakt- oder Impressumsseite.",body3:"Fr rechtliche Details nutze bitte die verlinkten Seiten:",items:{tos:"Terms of Service (ToS)",privacy:"Datenschutz",imprint:"Impressum / Kontakt"}}}},DP={quota:{unlimited:"Kein Limit"}},MP={inputLabel:"Spieler, Gilden und Server suchen",loading:"Ldt?",recents:"Letzte Suchen",minCharsHint:"Mindestens 3 Zeichen eingeben?",noResults:"Keine Treffer",players:"Spieler",guilds:"Gilden",servers:"Server",active:"Aktiv",inactive:"Inaktiv",guildMembers:"{{count}} Mitglieder",guildMembersUnknown:"Mitglieder ?",moreResults:"Mehr Ergebnisse? Enter drcken",recentLabel:"Kuerzlich"},FP={about:{title:"ber SFDataHub",body:`SFDataHub ist ein nicht-kommerzielles Fan- und Community-Projekt rund um Shakes & Fidget. Es besteht keine offizielle Verbindung zu Playa Games GmbH oder den Betreibern von Shakes & Fidget.

Alle genannten Marken, Logos und Grafiken sind Eigentum der jeweiligen Rechteinhaber und werden ausschlielich zu identifizierenden Zwecken verwendet.`},shortDisclaimer:"SFDataHub ist ein inoffizielles, nicht-kommerzielles Fanprojekt. Alle Marken und Bilder gehren ihren jeweiligen Rechteinhabern.",copyright:" 2025 SFDataHub  Community-Projekt rund um Shakes & Fidget."},BP={nav:CP,playground:TP,sidebar:AP,account:EP,tools:IP,topbar:RP,profile:PP,help:LP,uploadCenter:DP,search:MP,footer:FP},$P={en:{translation:kP},de:{translation:BP}};Xn.use(dP).init({resources:$P,fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});function Ct(t,e="en"){return Xn.t(t,{lng:e})}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xj="popstate";function OP(t={}){function e(i,a){let{pathname:l="/",search:c="",hash:u=""}=yc(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),A0("",{pathname:l,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let u=i.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof a=="string"?a:Dh(a))}function r(i,a){ri(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return UP(e,n,r,t)}function Bs(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function ri(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function VP(){return Math.random().toString(36).substring(2,10)}function vj(t,e){return{usr:t.state,key:t.key,idx:e}}function A0(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yc(e):e,state:n,key:e&&e.key||r||VP()}}function Dh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function UP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",u=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function f(){c="POP";let k=m(),P=k==null?null:k-h;h=k,u&&u({action:c,location:S.location,delta:P})}function y(k,P){c="PUSH";let D=A0(S.location,k,P);n&&n(D,k),h=m()+1;let A=vj(D,h),v=S.createHref(D);try{l.pushState(A,"",v)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(v)}a&&u&&u({action:c,location:S.location,delta:1})}function b(k,P){c="REPLACE";let D=A0(S.location,k,P);n&&n(D,k),h=m();let A=vj(D,h),v=S.createHref(D);l.replaceState(A,"",v),a&&u&&u({action:c,location:S.location,delta:0})}function _(k){return zP(k)}let S={get action(){return c},get location(){return t(i,l)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(xj,f),u=k,()=>{i.removeEventListener(xj,f),u=null}},createHref(k){return e(i,k)},createURL:_,encodeLocation(k){let P=_(k);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:b,go(k){return l.go(k)}};return S}function zP(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bs(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Dh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function l3(t,e,n="/"){return HP(t,e,n,!1)}function HP(t,e,n,r){let i=typeof e=="string"?yc(e):e,a=so(i.pathname||"/",n);if(a==null)return null;let l=c3(t);GP(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=sL(a);c=eL(l[u],h,r)}return c}function c3(t,e=[],n=[],r="",i=!1){let a=(l,c,u=i,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;Bs(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let f=Ja([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(Bs(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),c3(l.children,e,y,f,u)),!(l.path==null&&!l.index)&&e.push({path:f,score:JP(f,l.index),routesMeta:y})};return t.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))a(l,c);else for(let h of d3(l.path))a(l,c,!0,h)}),e}function d3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=d3(r.join("/")),c=[];return c.push(...l.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...l),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function GP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var WP=/^:[\w-]+$/,qP=3,KP=2,QP=1,XP=10,YP=-2,yj=t=>t==="*";function JP(t,e){let n=t.split("/"),r=n.length;return n.some(yj)&&(r+=YP),e&&(r+=KP),n.filter(i=>!yj(i)).reduce((i,a)=>i+(WP.test(a)?qP:a===""?QP:XP),r)}function ZP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eL(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",f=Yf({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},m),y=u.route;if(!f&&h&&n&&!r[r.length-1].route.index&&(f=Yf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!f)return null;Object.assign(i,f.params),l.push({params:i,pathname:Ja([a,f.pathname]),pathnameBase:aL(Ja([a,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(a=Ja([a,f.pathnameBase]))}return l}function Yf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tL(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:f},y)=>{if(m==="*"){let _=c[y]||"";l=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const b=c[y];return f&&!b?h[m]=void 0:h[m]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function tL(t,e=!1,n=!0){ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function so(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nL(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yc(t):t;return{pathname:n?n.startsWith("/")?n:rL(n,e):e,search:oL(r),hash:lL(i)}}function rL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ty(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function B1(t){let e=iL(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $1(t,e,n,r=!1){let i;typeof t=="string"?i=yc(t):(i={...t},Bs(!i.pathname||!i.pathname.includes("?"),ty("?","pathname","search",i)),Bs(!i.pathname||!i.pathname.includes("#"),ty("#","pathname","hash",i)),Bs(!i.search||!i.search.includes("#"),ty("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=n;else{let f=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),f-=1;i.pathname=y.join("/")}c=f>=0?e[f]:"/"}let u=nL(i,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||m)&&(u.pathname+="/"),u}var Ja=t=>t.join("/").replace(/\/\/+/g,"/"),aL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var u3=["POST","PUT","PATCH","DELETE"];new Set(u3);var dL=["GET",...u3];new Set(dL);var Jd=T.createContext(null);Jd.displayName="DataRouter";var Mg=T.createContext(null);Mg.displayName="DataRouterState";T.createContext(!1);var h3=T.createContext({isTransitioning:!1});h3.displayName="ViewTransition";var uL=T.createContext(new Map);uL.displayName="Fetchers";var hL=T.createContext(null);hL.displayName="Await";var qi=T.createContext(null);qi.displayName="Navigation";var tm=T.createContext(null);tm.displayName="Location";var wi=T.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var O1=T.createContext(null);O1.displayName="RouteError";function mL(t,{relative:e}={}){Bs(Zd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(qi),{hash:i,pathname:a,search:l}=sm(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Ja([n,a])),r.createHref({pathname:c,search:l,hash:i})}function Zd(){return T.useContext(tm)!=null}function Vr(){return Bs(Zd(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(tm).location}var m3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p3(t){T.useContext(qi).static||T.useLayoutEffect(t)}function ji(){let{isDataRoute:t}=T.useContext(wi);return t?TL():pL()}function pL(){Bs(Zd(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(Jd),{basename:e,navigator:n}=T.useContext(qi),{matches:r}=T.useContext(wi),{pathname:i}=Vr(),a=JSON.stringify(B1(r)),l=T.useRef(!1);return p3(()=>{l.current=!0}),T.useCallback((u,h={})=>{if(ri(l.current,m3),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=$1(u,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ja([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,i,t])}var fL=T.createContext(null);function gL(t){let e=T.useContext(wi).outlet;return e&&T.createElement(fL.Provider,{value:t},e)}function Fg(){let{matches:t}=T.useContext(wi),e=t[t.length-1];return e?e.params:{}}function sm(t,{relative:e}={}){let{matches:n}=T.useContext(wi),{pathname:r}=Vr(),i=JSON.stringify(B1(n));return T.useMemo(()=>$1(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function xL(t,e){return f3(t,e)}function f3(t,e,n,r,i){var D;Bs(Zd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(qi),{matches:l}=T.useContext(wi),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",f=c&&c.route;{let A=f&&f.path||"";g3(h,!f||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Vr(),b;if(e){let A=typeof e=="string"?yc(e):e;Bs(m==="/"||((D=A.pathname)==null?void 0:D.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),b=A}else b=y;let _=b.pathname||"/",S=_;if(m!=="/"){let A=m.replace(/^\//,"").split("/");S="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let k=l3(t,{pathname:S});ri(f||k!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ri(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=wL(k&&k.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Ja([m,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:Ja([m,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),l,n,r,i);return e&&P?T.createElement(tm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},P):P}function vL(){let t=CL(),e=cL(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var yL=T.createElement(vL,null),bL=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(wi.Provider,{value:this.props.routeContext},T.createElement(O1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _L({routeContext:t,match:e,children:n}){let r=T.useContext(Jd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(wi.Provider,{value:t},n)}function wL(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Bs(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:f,errors:y}=n,b=m.route.loader&&!f.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,m,f)=>{let y,b=!1,_=null,S=null;n&&(y=l&&m.route.id?l[m.route.id]:void 0,_=m.route.errorElement||yL,c&&(u<0&&f===0?(g3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):u===f&&(b=!0,S=m.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,f+1)),P=()=>{let D;return y?D=_:b?D=S:m.route.Component?D=T.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=h,T.createElement(_L,{match:m,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:D})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?T.createElement(bL,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:P(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):P()},null)}function V1(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jL(t){let e=T.useContext(Jd);return Bs(e,V1(t)),e}function SL(t){let e=T.useContext(Mg);return Bs(e,V1(t)),e}function NL(t){let e=T.useContext(wi);return Bs(e,V1(t)),e}function U1(t){let e=NL(t),n=e.matches[e.matches.length-1];return Bs(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function kL(){return U1("useRouteId")}function CL(){var r;let t=T.useContext(O1),e=SL("useRouteError"),n=U1("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function TL(){let{router:t}=jL("useNavigate"),e=U1("useNavigate"),n=T.useRef(!1);return p3(()=>{n.current=!0}),T.useCallback(async(i,a={})=>{ri(n.current,m3),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var bj={};function g3(t,e,n){!e&&!bj[t]&&(bj[t]=!0,ri(!1,n))}T.memo(AL);function AL({routes:t,future:e,state:n,unstable_onError:r}){return f3(t,void 0,n,r,e)}function Jl({to:t,replace:e,state:n,relative:r}){Bs(Zd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(qi);ri(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(wi),{pathname:l}=Vr(),c=ji(),u=$1(t,B1(a),l,r==="path"),h=JSON.stringify(u);return T.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function x3(t){return gL(t.context)}function ge(t){Bs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function EL({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){Bs(!Zd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof n=="string"&&(n=yc(n));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:y="default"}=n,b=T.useMemo(()=>{let _=so(u,l);return _==null?null:{location:{pathname:_,search:h,hash:m,state:f,key:y},navigationType:r}},[l,u,h,m,f,y,r]);return ri(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:T.createElement(qi.Provider,{value:c},T.createElement(tm.Provider,{children:e,value:b}))}function IL({children:t,location:e}){return xL(E0(t),e)}function E0(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let a=[...e,i];if(r.type===T.Fragment){n.push.apply(n,E0(r.props.children,a));return}Bs(r.type===ge,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bs(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=E0(r.props.children,a)),n.push(l)}),n}var jf="get",Sf="application/x-www-form-urlencoded";function Bg(t){return t!=null&&typeof t.tagName=="string"}function RL(t){return Bg(t)&&t.tagName.toLowerCase()==="button"}function PL(t){return Bg(t)&&t.tagName.toLowerCase()==="form"}function LL(t){return Bg(t)&&t.tagName.toLowerCase()==="input"}function DL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ML(t,e){return t.button===0&&(!e||e==="_self")&&!DL(t)}function I0(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function FL(t,e){let n=I0(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Vp=null;function BL(){if(Vp===null)try{new FormData(document.createElement("form"),0),Vp=!1}catch(t){Vp=!0}return Vp}var $L=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sy(t){return t!=null&&!$L.has(t)?(ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sf}"`),null):t}function OL(t,e){let n,r,i,a,l;if(PL(t)){let c=t.getAttribute("action");r=c?so(c,e):null,n=t.getAttribute("method")||jf,i=sy(t.getAttribute("enctype"))||Sf,a=new FormData(t)}else if(RL(t)||LL(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?so(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||jf,i=sy(t.getAttribute("formenctype"))||sy(c.getAttribute("enctype"))||Sf,a=new FormData(c,t),!BL()){let{name:h,type:m,value:f}=t;if(m==="image"){let y=h?`${h}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else h&&a.append(h,f)}}else{if(Bg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,r=null,i=Sf,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function z1(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function VL(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&so(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function UL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function HL(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await UL(a,n);return l.links?l.links():[]}return[]}));return KL(r.flat(1).filter(zL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _j(t,e,n,r,i,a){let l=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var m;return n[h].pathname!==u.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,h)=>l(u,h)||c(u,h)):a==="data"?e.filter((u,h)=>{var f;let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(l(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let y=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function GL(t,e,{includeHydrateFallback:n}={}){return WL(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function WL(t){return[...new Set(t)]}function qL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function KL(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(qL(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function v3(){let t=T.useContext(Jd);return z1(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QL(){let t=T.useContext(Mg);return z1(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var H1=T.createContext(void 0);H1.displayName="FrameworkContext";function y3(){let t=T.useContext(H1);return z1(t,"You must render this element inside a <HydratedRouter> element"),t}function XL(t,e){let n=T.useContext(H1),[r,i]=T.useState(!1),[a,l]=T.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:m,onTouchStart:f}=e,y=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let S=P=>{P.forEach(D=>{l(D.isIntersecting)})},k=new IntersectionObserver(S,{threshold:.5});return y.current&&k.observe(y.current),()=>{k.disconnect()}}},[t]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let b=()=>{i(!0)},_=()=>{i(!1),l(!1)};return n?t!=="intent"?[a,y,{}]:[a,y,{onFocus:Gu(c,b),onBlur:Gu(u,_),onMouseEnter:Gu(h,b),onMouseLeave:Gu(m,_),onTouchStart:Gu(f,b)}]:[!1,y,{}]}function Gu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function YL({page:t,...e}){let{router:n}=v3(),r=T.useMemo(()=>l3(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(ZL,{page:t,matches:r,...e}):null}function JL(t){let{manifest:e,routeModules:n}=y3(),[r,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return HL(t,e,n).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,n]),r}function ZL({page:t,matches:e,...n}){let r=Vr(),{manifest:i,routeModules:a}=y3(),{basename:l}=v3(),{loaderData:c,matches:u}=QL(),h=T.useMemo(()=>_j(t,e,u,i,r,"data"),[t,e,u,i,r]),m=T.useMemo(()=>_j(t,e,u,i,r,"assets"),[t,e,u,i,r]),f=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let _=new Set,S=!1;if(e.forEach(P=>{var A;let D=i.routes[P.route.id];!D||!D.hasLoader||(!h.some(v=>v.route.id===P.route.id)&&P.route.id in c&&((A=a[P.route.id])!=null&&A.shouldRevalidate)||D.hasClientLoader?S=!0:_.add(P.route.id))}),_.size===0)return[];let k=VL(t,l,"data");return S&&_.size>0&&k.searchParams.set("_routes",e.filter(P=>_.has(P.route.id)).map(P=>P.route.id).join(",")),[k.pathname+k.search]},[l,c,r,i,h,e,t,a]),y=T.useMemo(()=>GL(m,i),[m,i]),b=JL(m);return T.createElement(T.Fragment,null,f.map(_=>T.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),y.map(_=>T.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),b.map(({key:_,link:S})=>T.createElement("link",{key:_,nonce:n.nonce,...S})))}function e6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var b3=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{b3&&(window.__reactRouterVersion="7.9.1")}catch(t){}function t6({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=OP({window:n,v5Compat:!0}));let i=r.current,[a,l]=T.useState({action:i.action,location:i.location}),c=T.useCallback(u=>{T.startTransition(()=>l(u))},[l]);return T.useLayoutEffect(()=>i.listen(c),[i,c]),T.createElement(EL,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var _3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xs=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:u,to:h,preventScrollReset:m,viewTransition:f,...y},b){let{basename:_}=T.useContext(qi),S=typeof h=="string"&&_3.test(h),k,P=!1;if(typeof h=="string"&&S&&(k=h,b3))try{let E=new URL(window.location.href),F=h.startsWith("//")?new URL(E.protocol+h):new URL(h),I=so(F.pathname,_);F.origin===E.origin&&I!=null?h=I+F.search+F.hash:P=!0}catch(E){ri(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=mL(h,{relative:i}),[A,v,w]=XL(r,y),L=r6(h,{replace:l,state:c,target:u,preventScrollReset:m,relative:i,viewTransition:f});function C(E){e&&e(E),E.defaultPrevented||L(E)}let N=T.createElement("a",{...y,...w,href:k||D,onClick:P||a?e:C,ref:e6(b,v),target:u,"data-discover":!S&&n==="render"?"true":void 0});return A&&!S?T.createElement(T.Fragment,null,N,T.createElement(YL,{page:D})):N});xs.displayName="Link";var Ns=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:u,...h},m){let f=sm(l,{relative:h.relative}),y=Vr(),b=T.useContext(Mg),{navigator:_,basename:S}=T.useContext(qi),k=b!=null&&c6(f)&&c===!0,P=_.encodeLocation?_.encodeLocation(f).pathname:f.pathname,D=y.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(D=D.toLowerCase(),A=A?A.toLowerCase():null,P=P.toLowerCase()),A&&S&&(A=so(A,S)||A);const v=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let w=D===P||!i&&D.startsWith(P)&&D.charAt(v)==="/",L=A!=null&&(A===P||!i&&A.startsWith(P)&&A.charAt(P.length)==="/"),C={isActive:w,isPending:L,isTransitioning:k},N=w?e:void 0,E;typeof r=="function"?E=r(C):E=[r,w?"active":null,L?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(C):a;return T.createElement(xs,{...h,"aria-current":N,className:E,ref:m,style:F,to:l,viewTransition:c},typeof u=="function"?u(C):u)});Ns.displayName="NavLink";var s6=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:l=jf,action:c,onSubmit:u,relative:h,preventScrollReset:m,viewTransition:f,...y},b)=>{let _=o6(),S=l6(c,{relative:h}),k=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&_3.test(c),D=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let v=A.nativeEvent.submitter,w=(v==null?void 0:v.getAttribute("formmethod"))||l;_(v||A.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:f})};return T.createElement("form",{ref:b,method:k,action:S,onSubmit:r?u:D,...y,"data-discover":!P&&t==="render"?"true":void 0})});s6.displayName="Form";function n6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w3(t){let e=T.useContext(Jd);return Bs(e,n6(t)),e}function r6(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=ji(),u=Vr(),h=sm(t,{relative:a});return T.useCallback(m=>{if(ML(m,e)){m.preventDefault();let f=n!==void 0?n:Dh(u)===Dh(h);c(t,{replace:f,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,h,n,r,e,t,i,a,l])}function fl(t){ri(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(I0(t)),n=T.useRef(!1),r=Vr(),i=T.useMemo(()=>FL(r.search,n.current?null:e.current),[r.search]),a=ji(),l=T.useCallback((c,u)=>{const h=I0(typeof c=="function"?c(new URLSearchParams(i)):c);n.current=!0,a("?"+h,u)},[a,i]);return[i,l]}var i6=0,a6=()=>`__${String(++i6)}__`;function o6(){let{router:t}=w3("useSubmit"),{basename:e}=T.useContext(qi),n=kL();return T.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:u,body:h}=OL(r,e);if(i.navigate===!1){let m=i.fetcherKey||a6();await t.fetch(m,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function l6(t,{relative:e}={}){let{basename:n}=T.useContext(qi),r=T.useContext(wi);Bs(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...sm(t||".",{relative:e})},l=Vr();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(m=>m==="")){c.delete("index"),u.filter(f=>f).forEach(f=>c.append("index",f));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ja([n,a.pathname])),Dh(a)}function c6(t,{relative:e}={}){let n=T.useContext(h3);Bs(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=w3("useViewTransitionState"),i=sm(t,{relative:e});if(!n.isTransitioning)return!1;let a=so(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=so(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yf(i.pathname,l)!=null||Yf(i.pathname,a)!=null}var d6=t3();const u6=M1(d6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m6=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),wj=t=>{const e=m6(t);return e.charAt(0).toUpperCase()+e.slice(1)},j3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),p6=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var f6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...c},u)=>T.createElement("svg",{ref:u,...f6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:j3("lucide",i),...!a&&!p6(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>T.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(g6,{ref:a,iconNode:e,className:j3(`lucide-${h6(wj(t))}`,`lucide-${t}`,r),...i}));return n.displayName=wj(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],$g=St("aperture",x6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],y6=St("arrow-up-right",v6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_6=St("ban",b6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],j6=St("bell",w6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],N6=St("book-open",S6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],C6=St("chart-column",k6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],A6=St("chevron-right",T6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fh=St("circle-alert",E6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],R6=St("circle-check",I6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Nf=St("circle-dot",P6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D6=St("circle-user-round",L6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F6=St("clock-3",M6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],$6=St("cloud-upload",B6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],V6=St("compass",O6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],z6=St("database",U6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],S3=St("diamond",H6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],W6=St("file-text",G6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],K6=St("folder-search",q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],X6=St("globe",Q6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],N3=St("hexagon",Y6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Z6=St("house",J6);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tD=St("layers",eD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],nD=St("layout-dashboard",sD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nl=St("loader-circle",rD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],aD=St("messages-square",iD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],lD=St("pencil",oD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],dD=St("pin-off",cD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],hD=St("pin",uD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Og=St("refresh-ccw",mD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],fD=St("scroll-text",pD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],R0=St("search",gD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],vD=St("server-cog",xD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bD=St("settings",yD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],k3=St("shapes",_D);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],C3=St("shield-alert",wD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],SD=St("shield-check",jD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],T3=St("shield-off",ND);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bc=St("shield",kD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],TD=St("square-activity",CD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ED=St("star",AD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],RD=St("sticky-note",ID);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],LD=St("trash-2",PD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],G1=St("triangle-alert",DD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],FD=St("trophy",MD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$D=St("upload",BD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vg=St("users",OD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],UD=St("wrench",VD);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],A3=St("zap",zD),HD="_topbar_1lc6k_3",GD="_topbarLeft_1lc6k_39",WD="_searchWrap_1lc6k_55",qD="_topbarRight_1lc6k_109",KD="_ico_1lc6k_125",QD="_btnIco_1lc6k_139",XD="_pill_1lc6k_173",YD="_pillActive_1lc6k_195",JD="_onlyExpanded_1lc6k_203",ZD="_topbarNav_1lc6k_205",e8="_topbarLink_1lc6k_215",t8="_upload_1lc6k_225",s8="_label_1lc6k_255",n8="_avatarBtn_1lc6k_261",r8="_avatar_1lc6k_261",i8="_avatarSpinnerShell_1lc6k_289",a8="_avatarSpinner_1lc6k_289",o8="_srOnly_1lc6k_325",l8="_accountRoot_1lc6k_351",c8="_accountDropdown_1lc6k_359",d8="_accountHeader_1lc6k_389",u8="_accountName_1lc6k_401",h8="_accountSub_1lc6k_413",m8="_accountStatusText_1lc6k_423",p8="_accountPrimary_1lc6k_433",f8="_accountHint_1lc6k_455",g8="_accountItem_1lc6k_465",x8="_accountDivider_1lc6k_495",v8="_accountMiniAvatar_1lc6k_507",y8="_accountLogout_1lc6k_519",Ht={topbar:HD,topbarLeft:GD,searchWrap:WD,topbarRight:qD,ico:KD,btnIco:QD,pill:XD,pillActive:YD,onlyExpanded:JD,topbarNav:ZD,topbarLink:e8,upload:t8,label:s8,avatarBtn:n8,avatar:r8,avatarSpinnerShell:i8,avatarSpinner:a8,srOnly:o8,accountRoot:l8,accountDropdown:c8,accountHeader:d8,accountName:u8,accountSub:h8,accountStatusText:m8,accountPrimary:p8,accountHint:f8,accountItem:g8,accountDivider:x8,accountMiniAvatar:v8,accountLogout:y8},ja="https://auth.sfdatahub.com",b8=`${ja}/auth/firebase-token`;async function _8(){var r,i;const t=await fetch(b8,{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!t.ok)throw new Error(`Failed to fetch firebase token: ${t.status}`);const e=await t.json(),n=(i=e==null?void 0:e.firebaseToken)!=null?i:(r=e==null?void 0:e.tokens)==null?void 0:r.firebase;if(!n)throw new Error("Firebase token missing in response");return n}var jj={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},w8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],c=t[n++],u=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},I3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,m=a>>2,f=(a&3)<<4|c>>4;let y=(c&15)<<2|h>>6,b=h&63;u||(b=64,l||(y=64)),r.push(n[m],n[f],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(E3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||f==null)throw new j8;const y=a<<2|c>>4;if(r.push(y),h!==64){const b=c<<4&240|h>>2;if(r.push(b),f!==64){const _=h<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S8=function(t){const e=E3(t);return I3.encodeByteArray(e,!0)},Jf=function(t){return S8(t).replace(/\./g,"")},R3=function(t){try{return I3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=()=>N8().__FIREBASE_DEFAULTS__,C8=()=>{if(typeof process=="undefined"||typeof jj=="undefined")return;const t=jj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T8=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&R3(t[1]);return e&&JSON.parse(e)},Ug=()=>{try{return k8()||C8()||T8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},P3=t=>{var e,n;return(n=(e=Ug())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},A8=t=>{const e=P3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},L3=()=>{var t;return(t=Ug())===null||t===void 0?void 0:t.config},D3=t=>{var e;return(e=Ug())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jf(JSON.stringify(n)),Jf(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R8(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(or())}function P8(){var t;const e=(t=Ug())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function L8(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function D8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function M8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F8(){const t=or();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function B8(){return!P8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $8(){try{return typeof indexedDB=="object"}catch(t){return!1}}function O8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="FirebaseError";class mo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V8,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nm.prototype.create)}}class nm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?U8(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new mo(i,c,r)}}function U8(t,e){return t.replace(z8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const z8=/\{\$([^}]+)}/g;function H8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Sj(a)&&Sj(l)){if(!Zf(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function G8(t,e){const n=new W8(t,e);return n.subscribe.bind(n)}class W8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ny),i.error===void 0&&(i.error=ny),i.complete===void 0&&(i.complete=ny);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(l){}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ny(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t){return t&&t._delegate?t._delegate:t}class uc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X8(e))try{this.getOrInitializeService({instanceIdentifier:Zl})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch(a){}}}}clearInstance(e=Zl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zl){return this.instances.has(e)}getOptions(e=Zl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(a){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Zl){return this.component?this.component.multipleInstances?e:Zl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q8(t){return t===Zl?void 0:t}function X8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ss||(ss={}));const J8={debug:ss.DEBUG,verbose:ss.VERBOSE,info:ss.INFO,warn:ss.WARN,error:ss.ERROR,silent:ss.SILENT},Z8=ss.INFO,eM={[ss.DEBUG]:"log",[ss.VERBOSE]:"log",[ss.INFO]:"info",[ss.WARN]:"warn",[ss.ERROR]:"error"},tM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W1{constructor(e){this.name=e,this._logLevel=Z8,this._logHandler=tM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ss))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ss.DEBUG,...e),this._logHandler(this,ss.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ss.VERBOSE,...e),this._logHandler(this,ss.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ss.INFO,...e),this._logHandler(this,ss.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ss.WARN,...e),this._logHandler(this,ss.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ss.ERROR,...e),this._logHandler(this,ss.ERROR,...e)}}const sM=(t,e)=>e.some(n=>t instanceof n);let Nj,kj;function nM(){return Nj||(Nj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rM(){return kj||(kj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M3=new WeakMap,P0=new WeakMap,F3=new WeakMap,ry=new WeakMap,q1=new WeakMap;function iM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(rl(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&M3.set(n,t)}).catch(()=>{}),q1.set(e,t),e}function aM(t){if(P0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});P0.set(t,e)}let L0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return P0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||F3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oM(t){L0=t(L0)}function lM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iy(this),e,...n);return F3.set(r,e.sort?e.sort():[e]),rl(r)}:rM().includes(t)?function(...e){return t.apply(iy(this),e),rl(M3.get(this))}:function(...e){return rl(t.apply(iy(this),e))}}function cM(t){return typeof t=="function"?lM(t):(t instanceof IDBTransaction&&aM(t),sM(t,nM())?new Proxy(t,L0):t)}function rl(t){if(t instanceof IDBRequest)return iM(t);if(ry.has(t))return ry.get(t);const e=cM(t);return e!==t&&(ry.set(t,e),q1.set(e,t)),e}const iy=t=>q1.get(t);function dM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=rl(l);return r&&l.addEventListener("upgradeneeded",u=>{r(rl(l.result),u.oldVersion,u.newVersion,rl(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const uM=["get","getKey","getAll","getAllKeys","count"],hM=["put","add","delete","clear"],ay=new Map;function Cj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ay.get(e))return ay.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uM.includes(n)))return;const a=async function(l,...c){const u=this.transaction(l,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&u.done]))[0]};return ay.set(e,a),a}oM(t=>({...t,get:(e,n,r)=>Cj(e,n)||t.get(e,n,r),has:(e,n)=>!!Cj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D0="@firebase/app",Tj="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new W1("@firebase/app"),fM="@firebase/app-compat",gM="@firebase/analytics-compat",xM="@firebase/analytics",vM="@firebase/app-check-compat",yM="@firebase/app-check",bM="@firebase/auth",_M="@firebase/auth-compat",wM="@firebase/database",jM="@firebase/data-connect",SM="@firebase/database-compat",NM="@firebase/functions",kM="@firebase/functions-compat",CM="@firebase/installations",TM="@firebase/installations-compat",AM="@firebase/messaging",EM="@firebase/messaging-compat",IM="@firebase/performance",RM="@firebase/performance-compat",PM="@firebase/remote-config",LM="@firebase/remote-config-compat",DM="@firebase/storage",MM="@firebase/storage-compat",FM="@firebase/firestore",BM="@firebase/vertexai-preview",$M="@firebase/firestore-compat",OM="firebase",VM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="[DEFAULT]",UM={[D0]:"fire-core",[fM]:"fire-core-compat",[xM]:"fire-analytics",[gM]:"fire-analytics-compat",[yM]:"fire-app-check",[vM]:"fire-app-check-compat",[bM]:"fire-auth",[_M]:"fire-auth-compat",[wM]:"fire-rtdb",[jM]:"fire-data-connect",[SM]:"fire-rtdb-compat",[NM]:"fire-fn",[kM]:"fire-fn-compat",[CM]:"fire-iid",[TM]:"fire-iid-compat",[AM]:"fire-fcm",[EM]:"fire-fcm-compat",[IM]:"fire-perf",[RM]:"fire-perf-compat",[PM]:"fire-rc",[LM]:"fire-rc-compat",[DM]:"fire-gcs",[MM]:"fire-gcs-compat",[FM]:"fire-fst",[$M]:"fire-fst-compat",[BM]:"fire-vertex","fire-js":"fire-js",[OM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,zM=new Map,F0=new Map;function Aj(t,e){try{t.container.addComponent(e)}catch(n){no.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Md(t){const e=t.name;if(F0.has(e))return no.debug(`There were multiple attempts to register component ${e}.`),!1;F0.set(e,t);for(const n of Mh.values())Aj(n,t);for(const n of zM.values())Aj(n,t);return!0}function K1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qa(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},il=new nm("app","Firebase",HM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw il.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=VM;function B3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:M0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw il.create("bad-app-name",{appName:String(i)});if(n||(n=L3()),!n)throw il.create("no-options");const a=Mh.get(i);if(a){if(Zf(n,a.options)&&Zf(r,a.config))return a;throw il.create("duplicate-app",{appName:i})}const l=new Y8(i);for(const u of F0.values())l.addComponent(u);const c=new GM(n,r,l);return Mh.set(i,c),c}function Q1(t=M0){const e=Mh.get(t);if(!e&&t===M0&&L3())return B3();if(!e)throw il.create("no-app",{appName:t});return e}function WM(){return Array.from(Mh.values())}function al(t,e,n){var r;let i=(r=UM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),no.warn(c.join(" "));return}Md(new uc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="firebase-heartbeat-database",KM=1,Fh="firebase-heartbeat-store";let oy=null;function $3(){return oy||(oy=dM(qM,KM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fh)}catch(n){console.warn(n)}}}}).catch(t=>{throw il.create("idb-open",{originalErrorMessage:t.message})})),oy}async function QM(t){try{const n=(await $3()).transaction(Fh),r=await n.objectStore(Fh).get(O3(t));return await n.done,r}catch(e){if(e instanceof mo)no.warn(e.message);else{const n=il.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});no.warn(n.message)}}}async function Ej(t,e){try{const r=(await $3()).transaction(Fh,"readwrite");await r.objectStore(Fh).put(e,O3(t)),await r.done}catch(n){if(n instanceof mo)no.warn(n.message);else{const r=il.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});no.warn(r.message)}}}function O3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=1024,YM=720*60*60*1e3;class JM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ij();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=YM}),this._storage.overwrite(this._heartbeatsCache))}catch(r){no.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ij(),{heartbeatsToSend:r,unsentEntries:i}=ZM(this._heartbeatsCache.heartbeats),a=Jf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return no.warn(n),""}}}function Ij(){return new Date().toISOString().substring(0,10)}function ZM(t,e=XM){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Rj(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $8()?O8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ej(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ej(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rj(t){return Jf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){Md(new uc("platform-logger",e=>new mM(e),"PRIVATE")),Md(new uc("heartbeat",e=>new JM(e),"PRIVATE")),al(D0,Tj,t),al(D0,Tj,"esm2017"),al("fire-js","")}t9("");var s9="firebase",n9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */al(s9,n9,"app");function X1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function V3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r9=V3,U3=new nm("auth","Firebase",V3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new W1("@firebase/auth");function i9(t,...e){eg.logLevel<=ss.WARN&&eg.warn(`Auth (${eu}): ${t}`,...e)}function kf(t,...e){eg.logLevel<=ss.ERROR&&eg.error(`Auth (${eu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,...e){throw Y1(t,...e)}function ha(t,...e){return Y1(t,...e)}function z3(t,e,n){const r=Object.assign(Object.assign({},r9()),{[e]:n});return new nm("auth","Firebase",r).create(e,{appName:t.name})}function ol(t){return z3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Y1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return U3.create(t,...e)}function Et(t,e,...n){if(!t)throw Y1(e,...n)}function Ka(t){const e="INTERNAL ASSERTION FAILED: "+t;throw kf(e),new Error(e)}function io(t,e){t||Ka(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function a9(){return Pj()==="http:"||Pj()==="https:"}function Pj(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a9()||D8()||"connection"in navigator)?navigator.onLine:!0}function l9(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.shortDelay=e,this.longDelay=n,io(n>e,"Short delay should be less than long delay!"),this.isMobile=R8()||M8()}get(){return o9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e){io(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;Ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;Ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;Ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=new im(3e4,6e4);function zg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function tu(t,e,n,r,i={}){return G3(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=rm(Object.assign({key:t.config.apiKey},l)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},a);return L8()||(h.referrerPolicy="no-referrer"),H3.fetch()(q3(t,t.config.apiHost,n,c),h)})}async function G3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},c9),e);try{const i=new u9(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Up(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Up(t,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw Up(t,"email-already-in-use",l);if(u==="USER_DISABLED")throw Up(t,"user-disabled",l);const m=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw z3(t,m,h);ro(t,m)}}catch(i){if(i instanceof mo)throw i;ro(t,"network-request-failed",{message:String(i)})}}async function W3(t,e,n,r,i={}){const a=await tu(t,e,n,r,i);return"mfaPendingCredential"in a&&ro(t,"multi-factor-auth-required",{_serverResponse:a}),a}function q3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?J1(t.config,i):`${t.config.apiScheme}://${i}`}class u9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ha(this.auth,"network-request-failed")),d9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Up(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ha(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e){return tu(t,"POST","/v1/accounts:delete",e)}async function K3(t,e){return tu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function m9(t,e=!1){const n=bn(t),r=await n.getIdToken(e),i=Z1(r);Et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:gh(ly(i.auth_time)),issuedAtTime:gh(ly(i.iat)),expirationTime:gh(ly(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ly(t){return Number(t)*1e3}function Z1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return kf("JWT malformed, contained fewer than 3 sections"),null;try{const i=R3(n);return i?JSON.parse(i):(kf("Failed to decode base64 JWT payload"),null)}catch(i){return kf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Lj(t){const e=Z1(t);return Et(e,"internal-error"),Et(typeof e.exp!="undefined","internal-error"),Et(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mo&&p9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function p9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gh(this.lastLoginAt),this.creationTime=gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bh(t,K3(n,{idToken:r}));Et(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Q3(a.providerUserInfo):[],c=x9(t.providerData,l),u=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=u?h:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new $0(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,f)}async function g9(t){const e=bn(t);await tg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Q3(t){return t.map(e=>{var{providerId:n}=e,r=X1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v9(t,e){const n=await G3(t,{},async()=>{const r=rm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=q3(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",H3.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y9(t,e){return tu(t,"POST","/v2/accounts:revokeToken",zg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken!="undefined","internal-error"),Et(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):Lj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const n=Lj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await v9(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Cd;return r&&(Et(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Et(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Et(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cd,this.toJSON())}_performRefresh(){return Ka("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t,e){Et(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Qa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=X1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new $0(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Bh(this,this.stsTokenManager.getToken(this.auth,e));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m9(this,e)}reload(){return g9(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qa(this.auth.app))return Promise.reject(ol(this.auth));const e=await this.getIdToken();return await Bh(this,h9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,c,u,h,m;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,_=(l=n.photoURL)!==null&&l!==void 0?l:void 0,S=(c=n.tenantId)!==null&&c!==void 0?c:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,P=(h=n.createdAt)!==null&&h!==void 0?h:void 0,D=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:A,emailVerified:v,isAnonymous:w,providerData:L,stsTokenManager:C}=n;Et(A&&C,e,"internal-error");const N=Cd.fromJSON(this.name,C);Et(typeof A=="string",e,"internal-error"),Oo(f,e.name),Oo(y,e.name),Et(typeof v=="boolean",e,"internal-error"),Et(typeof w=="boolean",e,"internal-error"),Oo(b,e.name),Oo(_,e.name),Oo(S,e.name),Oo(k,e.name),Oo(P,e.name),Oo(D,e.name);const E=new Qa({uid:A,auth:e,email:y,emailVerified:v,displayName:f,isAnonymous:w,photoURL:_,phoneNumber:b,tenantId:S,stsTokenManager:N,createdAt:P,lastLoginAt:D});return L&&Array.isArray(L)&&(E.providerData=L.map(F=>Object.assign({},F))),k&&(E._redirectEventId=k),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cd;i.updateFromServerResponse(n);const a=new Qa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Et(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Q3(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Cd;c.updateFromIdToken(r);const u=new Qa({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new $0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=new Map;function Xa(t){io(t instanceof Function,"Expected a class definition");let e=Dj.get(t);return e?(io(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}X3.type="NONE";const Mj=X3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(t,e,n){return`firebase:${t}:${e}:${n}`}class Td{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Cf(this.userKey,i.apiKey,a),this.fullPersistenceKey=Cf("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Qa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Td(Xa(Mj),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Xa(Mj);const l=Cf(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){const f=Qa._fromJSON(e,m);h!==a&&(c=f),a=h;break}}catch(m){}const u=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Td(a,e,r):(a=u[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch(m){}})),new Td(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sT(e))return"Blackberry";if(nT(e))return"Webos";if(J3(e))return"Safari";if((e.includes("chrome/")||Z3(e))&&!e.includes("edge/"))return"Chrome";if(tT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Y3(t=or()){return/firefox\//i.test(t)}function J3(t=or()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z3(t=or()){return/crios\//i.test(t)}function eT(t=or()){return/iemobile/i.test(t)}function tT(t=or()){return/android/i.test(t)}function sT(t=or()){return/blackberry/i.test(t)}function nT(t=or()){return/webos/i.test(t)}function eb(t=or()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function b9(t=or()){var e;return eb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _9(){return F8()&&document.documentMode===10}function rT(t=or()){return eb(t)||tT(t)||nT(t)||sT(t)||/windows phone/i.test(t)||eT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t,e=[]){let n;switch(t){case"Browser":n=Fj(or());break;case"Worker":n=`${Fj(or())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const u=e(a);l(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch(a){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(t,e={}){return tu(t,"GET","/v2/passwordPolicy",zg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=6;class N9{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:S9,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNumericCharacter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bj(this),this.idTokenSubscription=new Bj(this),this.beforeStateQueue=new w9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xa(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Td.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await K3(this,{idToken:e}),r=await Qa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qa(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===c)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qa(this.app))return Promise.reject(ol(this));const n=e?bn(e):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qa(this.app)?Promise.reject(ol(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qa(this.app)?Promise.reject(ol(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j9(this),n=new N9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xa(e)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Td.create(this,[Xa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{l=!0,u()}}else{const u=e.addObserver(n);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&i9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Hg(t){return bn(t)}class Bj{constructor(e){this.auth=e,this.observer=null,this.addObserver=G8(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C9(t){tb=t}function T9(t){return tb.loadJS(t)}function A9(){return tb.gapiScript}function E9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t,e){const n=K1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Zf(a,e!=null?e:{}))return i;ro(i,"already-initialized")}return n.initialize({options:e})}function R9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function P9(t,e,n){const r=Hg(t);Et(r._canInitEmulator,r,"emulator-config-failed"),Et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=aT(e),{host:l,port:c}=L9(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${l}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),D9()}function aT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L9(t){const e=aT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:$j(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:$j(l)}}}function $j(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function D9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ka("not implemented")}_getIdTokenResponse(e){return Ka("not implemented")}_linkToIdToken(e,n){return Ka("not implemented")}_getReauthenticationResolver(e){return Ka("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ad(t,e){return W3(t,"POST","/v1/accounts:signInWithIdp",zg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="http://localhost";class hc extends oT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ro("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=X1(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new hc(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ad(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ad(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ad(e,n)}buildRequest(){const e={requestUri:M9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=rm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends lT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends am{constructor(){super("facebook.com")}static credential(e){return hc._fromParams({providerId:Ko.PROVIDER_ID,signInMethod:Ko.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ko.credentialFromTaggedObject(e)}static credentialFromError(e){return Ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ko.credential(e.oauthAccessToken)}catch(n){return null}}}Ko.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ko.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends am{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hc._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qo.credential(n,r)}catch(i){return null}}}Qo.GOOGLE_SIGN_IN_METHOD="google.com";Qo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends am{constructor(){super("github.com")}static credential(e){return hc._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xo.credentialFromTaggedObject(e)}static credentialFromError(e){return Xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xo.credential(e.oauthAccessToken)}catch(n){return null}}}Xo.GITHUB_SIGN_IN_METHOD="github.com";Xo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends am{constructor(){super("twitter.com")}static credential(e,n){return hc._fromParams({providerId:Yo.PROVIDER_ID,signInMethod:Yo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yo.credentialFromTaggedObject(e)}static credentialFromError(e){return Yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yo.credential(n,r)}catch(i){return null}}}Yo.TWITTER_SIGN_IN_METHOD="twitter.com";Yo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Qa._fromIdTokenResponse(e,r,i),l=Oj(r);return new mc({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Oj(r);return new mc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Oj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends mo{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sg(e,n,r,i)}}function cT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sg._fromErrorAndOperation(t,a,e,r):a})}async function F9(t,e,n=!1){const r=await Bh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(t,e,n=!1){const{auth:r}=t;if(qa(r.app))return Promise.reject(ol(r));const i="reauthenticate";try{const a=await Bh(t,cT(r,i,e,t),n);Et(a.idToken,r,"internal-error");const l=Z1(a.idToken);Et(l,r,"internal-error");const{sub:c}=l;return Et(t.uid===c,r,"user-mismatch"),mc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ro(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e,n=!1){if(qa(t.app))return Promise.reject(ol(t));const r="signIn",i=await cT(t,r,e),a=await mc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(t,e){return W3(t,"POST","/v1/accounts:signInWithCustomToken",zg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e){if(qa(t.app))return Promise.reject(ol(t));const n=Hg(t),r=await O9(n,{token:e,returnSecureToken:!0}),i=await mc._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function U9(t,e,n,r){return bn(t).onIdTokenChanged(e,n,r)}function z9(t,e,n){return bn(t).beforeAuthStateChanged(e,n)}function H9(t,e,n,r){return bn(t).onAuthStateChanged(e,n,r)}function G9(t){return bn(t).signOut()}const ng="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ng,"1"),this.storage.removeItem(ng),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=1e3,q9=10;class uT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,u)=>{this.notifyListeners(l,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);_9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,q9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},W9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uT.type="LOCAL";const K9=uT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hT.type="SESSION";const mT=hT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,a)),u=await Q9(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,u)=>{const h=sb("",20);i.port1.start();const m=setTimeout(()=>{u(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(f){const y=f;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(y.data.response);break;default:clearTimeout(m),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(){return window}function Y9(t){ma().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return typeof ma().WorkerGlobalScope!="undefined"&&typeof ma().importScripts=="function"}async function J9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}function Z9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eF(){return pT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firebaseLocalStorageDb",tF=1,rg="firebaseLocalStorage",gT="fbase_key";class om{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wg(t,e){return t.transaction([rg],e?"readwrite":"readonly").objectStore(rg)}function sF(){const t=indexedDB.deleteDatabase(fT);return new om(t).toPromise()}function O0(){const t=indexedDB.open(fT,tF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rg,{keyPath:gT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rg)?e(r):(r.close(),await sF(),e(await O0()))})})}async function Vj(t,e,n){const r=Wg(t,!0).put({[gT]:e,value:n});return new om(r).toPromise()}async function nF(t,e){const n=Wg(t,!1).get(e),r=await new om(n).toPromise();return r===void 0?null:r.value}function Uj(t,e){const n=Wg(t,!0).delete(e);return new om(n).toPromise()}const rF=800,iF=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gg._getInstance(eF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await J9(),!this.activeServiceWorker)return;this.sender=new X9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O0();return await Vj(e,ng,"1"),await Uj(e,ng),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Wg(i,!1).getAll();return new om(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const aF=xT;new im(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t,e){return e?Xa(e):(Et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb extends oT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ad(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ad(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ad(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lF(t){return $9(t.auth,new nb(t),t.bypassAuthState)}function cF(t){const{auth:e,user:n}=t;return Et(n,e,"internal-error"),B9(n,new nb(t),t.bypassAuthState)}async function dF(t){const{auth:e,user:n}=t;return Et(n,e,"internal-error"),F9(n,new nb(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lF;case"linkViaPopup":case"linkViaRedirect":return dF;case"reauthViaPopup":case"reauthViaRedirect":return cF;default:ro(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF=new im(2e3,1e4);class vd extends vT{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,vd.currentPopupAction&&vd.currentPopupAction.cancel(),vd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Et(e,this.auth,"internal-error"),e}async onExecution(){io(this.filter.length===1,"Popup operations only handle one event");const e=sb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ha(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ha(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ha(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uF.get())};e()}}vd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="pendingRedirect",Tf=new Map;class mF extends vT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tf.get(this.auth._key());if(!e){try{const r=await pF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tf.set(this.auth._key(),e)}return this.bypassAuthState||Tf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pF(t,e){const n=xF(e),r=gF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fF(t,e){Tf.set(t._key(),e)}function gF(t){return Xa(t._redirectPersistence)}function xF(t){return Cf(hF,t.config.apiKey,t.name)}async function vF(t,e,n=!1){if(qa(t.app))return Promise.reject(ol(t));const r=Hg(t),i=oF(r,e),l=await new mF(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=600*1e3;class bF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_F(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ha(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yF&&this.cachedEventUids.clear(),this.cachedEventUids.has(zj(e))}saveEventToCache(e){this.cachedEventUids.add(zj(e)),this.lastProcessedEventTime=Date.now()}}function zj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _F(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e={}){return tu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SF=/^https?/;async function NF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wF(t);for(const n of e)try{if(kF(n))return}catch(r){}ro(t,"unauthorized-domain")}function kF(t){const e=B0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!SF.test(n))return!1;if(jF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=new im(3e4,6e4);function Hj(){const t=ma().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TF(t){return new Promise((e,n)=>{var r,i,a;function l(){Hj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Hj(),n(ha(t,"network-request-failed"))},timeout:CF.get()})}if(!((i=(r=ma().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ma().gapi)===null||a===void 0)&&a.load)l();else{const c=E9("iframefcb");return ma()[c]=()=>{gapi.load?l():n(ha(t,"network-request-failed"))},T9(`${A9()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Af=null,e})}let Af=null;function AF(t){return Af=Af||TF(t),Af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=new im(5e3,15e3),IF="__/auth/iframe",RF="emulator/auth/iframe",PF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DF(t){const e=t.config;Et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?J1(e,RF):`https://${t.config.authDomain}/${IF}`,r={apiKey:e.apiKey,appName:t.name,v:eu},i=LF.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${rm(r).slice(1)}`}async function MF(t){const e=await AF(t),n=ma().gapi;return Et(n,t,"internal-error"),e.open({where:document.body,url:DF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PF,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=ha(t,"network-request-failed"),c=ma().setTimeout(()=>{a(l)},EF.get());function u(){ma().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BF=500,$F=600,OF="_blank",VF="http://localhost";class Gj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function UF(t,e,n,r=BF,i=$F){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},FF),{width:r.toString(),height:i.toString(),top:a,left:l}),h=or().toLowerCase();n&&(c=Z3(h)?OF:n),Y3(h)&&(e=e||VF,u.scrollbars="yes");const m=Object.entries(u).reduce((y,[b,_])=>`${y}${b}=${_},`,"");if(b9(h)&&c!=="_self")return zF(e||"",c),new Gj(null);const f=window.open(e||"",c,m);Et(f,t,"popup-blocked");try{f.focus()}catch(y){}return new Gj(f)}function zF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF="__/auth/handler",GF="emulator/auth/handler",WF=encodeURIComponent("fac");async function Wj(t,e,n,r,i,a){Et(t.config.authDomain,t,"auth-domain-config-required"),Et(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eu,eventId:i};if(e instanceof lT){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",H8(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,f]of Object.entries({}))l[m]=f}if(e instanceof am){const m=e.getScopes().filter(f=>f!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const u=await t._getAppCheckToken(),h=u?`#${WF}=${encodeURIComponent(u)}`:"";return`${qF(t)}?${rm(c).slice(1)}${h}`}function qF({config:t}){return t.emulator?J1(t,GF):`https://${t.authDomain}/${HF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="webStorageSupport";class KF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=vF,this._overrideRedirectResult=fF}async _openPopup(e,n,r,i){var a;io((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await Wj(e,n,r,B0(),i);return UF(e,l,sb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Wj(e,n,r,B0(),i);return Y9(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(io(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MF(e),r=new bF(e);return n.register("authEvent",i=>(Et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cy,{type:cy},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[cy];l!==void 0&&n(!!l),ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=NF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rT()||J3()||eb()}}const QF=KF;var qj="@firebase/auth",Kj="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JF(t){Md(new uc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Et(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iT(t)},h=new k9(r,i,a,u);return R9(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Md(new uc("auth-internal",e=>{const n=Hg(e.getProvider("auth").getImmediate());return(r=>new XF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),al(qj,Kj,YF(t)),al(qj,Kj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=300,e7=D3("authIdTokenMaxAge")||ZF;let Qj=null;const t7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>e7)return;const i=n==null?void 0:n.token;Qj!==i&&(Qj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function s7(t=Q1()){const e=K1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=I9(t,{popupRedirectResolver:QF,persistence:[aF,K9,mT]}),r=D3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=t7(a.toString());z9(n,l,()=>l(n.currentUser)),U9(n,c=>l(c))}}const i=P3("auth");return i&&P9(n,`http://${i}`),n}function n7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}C9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ha("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",n7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JF("Browser");var Xj=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oc,bT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,N){function E(){}E.prototype=N.prototype,C.D=N.prototype,C.prototype=new E,C.prototype.constructor=C,C.C=function(F,I,B){for(var $=Array(arguments.length-2),U=2;U<arguments.length;U++)$[U-2]=arguments[U];return N.prototype[I].apply(F,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,N,E){E||(E=0);var F=Array(16);if(typeof N=="string")for(var I=0;16>I;++I)F[I]=N.charCodeAt(E++)|N.charCodeAt(E++)<<8|N.charCodeAt(E++)<<16|N.charCodeAt(E++)<<24;else for(I=0;16>I;++I)F[I]=N[E++]|N[E++]<<8|N[E++]<<16|N[E++]<<24;N=C.g[0],E=C.g[1],I=C.g[2];var B=C.g[3],$=N+(B^E&(I^B))+F[0]+3614090360&4294967295;N=E+($<<7&4294967295|$>>>25),$=B+(I^N&(E^I))+F[1]+3905402710&4294967295,B=N+($<<12&4294967295|$>>>20),$=I+(E^B&(N^E))+F[2]+606105819&4294967295,I=B+($<<17&4294967295|$>>>15),$=E+(N^I&(B^N))+F[3]+3250441966&4294967295,E=I+($<<22&4294967295|$>>>10),$=N+(B^E&(I^B))+F[4]+4118548399&4294967295,N=E+($<<7&4294967295|$>>>25),$=B+(I^N&(E^I))+F[5]+1200080426&4294967295,B=N+($<<12&4294967295|$>>>20),$=I+(E^B&(N^E))+F[6]+2821735955&4294967295,I=B+($<<17&4294967295|$>>>15),$=E+(N^I&(B^N))+F[7]+4249261313&4294967295,E=I+($<<22&4294967295|$>>>10),$=N+(B^E&(I^B))+F[8]+1770035416&4294967295,N=E+($<<7&4294967295|$>>>25),$=B+(I^N&(E^I))+F[9]+2336552879&4294967295,B=N+($<<12&4294967295|$>>>20),$=I+(E^B&(N^E))+F[10]+4294925233&4294967295,I=B+($<<17&4294967295|$>>>15),$=E+(N^I&(B^N))+F[11]+2304563134&4294967295,E=I+($<<22&4294967295|$>>>10),$=N+(B^E&(I^B))+F[12]+1804603682&4294967295,N=E+($<<7&4294967295|$>>>25),$=B+(I^N&(E^I))+F[13]+4254626195&4294967295,B=N+($<<12&4294967295|$>>>20),$=I+(E^B&(N^E))+F[14]+2792965006&4294967295,I=B+($<<17&4294967295|$>>>15),$=E+(N^I&(B^N))+F[15]+1236535329&4294967295,E=I+($<<22&4294967295|$>>>10),$=N+(I^B&(E^I))+F[1]+4129170786&4294967295,N=E+($<<5&4294967295|$>>>27),$=B+(E^I&(N^E))+F[6]+3225465664&4294967295,B=N+($<<9&4294967295|$>>>23),$=I+(N^E&(B^N))+F[11]+643717713&4294967295,I=B+($<<14&4294967295|$>>>18),$=E+(B^N&(I^B))+F[0]+3921069994&4294967295,E=I+($<<20&4294967295|$>>>12),$=N+(I^B&(E^I))+F[5]+3593408605&4294967295,N=E+($<<5&4294967295|$>>>27),$=B+(E^I&(N^E))+F[10]+38016083&4294967295,B=N+($<<9&4294967295|$>>>23),$=I+(N^E&(B^N))+F[15]+3634488961&4294967295,I=B+($<<14&4294967295|$>>>18),$=E+(B^N&(I^B))+F[4]+3889429448&4294967295,E=I+($<<20&4294967295|$>>>12),$=N+(I^B&(E^I))+F[9]+568446438&4294967295,N=E+($<<5&4294967295|$>>>27),$=B+(E^I&(N^E))+F[14]+3275163606&4294967295,B=N+($<<9&4294967295|$>>>23),$=I+(N^E&(B^N))+F[3]+4107603335&4294967295,I=B+($<<14&4294967295|$>>>18),$=E+(B^N&(I^B))+F[8]+1163531501&4294967295,E=I+($<<20&4294967295|$>>>12),$=N+(I^B&(E^I))+F[13]+2850285829&4294967295,N=E+($<<5&4294967295|$>>>27),$=B+(E^I&(N^E))+F[2]+4243563512&4294967295,B=N+($<<9&4294967295|$>>>23),$=I+(N^E&(B^N))+F[7]+1735328473&4294967295,I=B+($<<14&4294967295|$>>>18),$=E+(B^N&(I^B))+F[12]+2368359562&4294967295,E=I+($<<20&4294967295|$>>>12),$=N+(E^I^B)+F[5]+4294588738&4294967295,N=E+($<<4&4294967295|$>>>28),$=B+(N^E^I)+F[8]+2272392833&4294967295,B=N+($<<11&4294967295|$>>>21),$=I+(B^N^E)+F[11]+1839030562&4294967295,I=B+($<<16&4294967295|$>>>16),$=E+(I^B^N)+F[14]+4259657740&4294967295,E=I+($<<23&4294967295|$>>>9),$=N+(E^I^B)+F[1]+2763975236&4294967295,N=E+($<<4&4294967295|$>>>28),$=B+(N^E^I)+F[4]+1272893353&4294967295,B=N+($<<11&4294967295|$>>>21),$=I+(B^N^E)+F[7]+4139469664&4294967295,I=B+($<<16&4294967295|$>>>16),$=E+(I^B^N)+F[10]+3200236656&4294967295,E=I+($<<23&4294967295|$>>>9),$=N+(E^I^B)+F[13]+681279174&4294967295,N=E+($<<4&4294967295|$>>>28),$=B+(N^E^I)+F[0]+3936430074&4294967295,B=N+($<<11&4294967295|$>>>21),$=I+(B^N^E)+F[3]+3572445317&4294967295,I=B+($<<16&4294967295|$>>>16),$=E+(I^B^N)+F[6]+76029189&4294967295,E=I+($<<23&4294967295|$>>>9),$=N+(E^I^B)+F[9]+3654602809&4294967295,N=E+($<<4&4294967295|$>>>28),$=B+(N^E^I)+F[12]+3873151461&4294967295,B=N+($<<11&4294967295|$>>>21),$=I+(B^N^E)+F[15]+530742520&4294967295,I=B+($<<16&4294967295|$>>>16),$=E+(I^B^N)+F[2]+3299628645&4294967295,E=I+($<<23&4294967295|$>>>9),$=N+(I^(E|~B))+F[0]+4096336452&4294967295,N=E+($<<6&4294967295|$>>>26),$=B+(E^(N|~I))+F[7]+1126891415&4294967295,B=N+($<<10&4294967295|$>>>22),$=I+(N^(B|~E))+F[14]+2878612391&4294967295,I=B+($<<15&4294967295|$>>>17),$=E+(B^(I|~N))+F[5]+4237533241&4294967295,E=I+($<<21&4294967295|$>>>11),$=N+(I^(E|~B))+F[12]+1700485571&4294967295,N=E+($<<6&4294967295|$>>>26),$=B+(E^(N|~I))+F[3]+2399980690&4294967295,B=N+($<<10&4294967295|$>>>22),$=I+(N^(B|~E))+F[10]+4293915773&4294967295,I=B+($<<15&4294967295|$>>>17),$=E+(B^(I|~N))+F[1]+2240044497&4294967295,E=I+($<<21&4294967295|$>>>11),$=N+(I^(E|~B))+F[8]+1873313359&4294967295,N=E+($<<6&4294967295|$>>>26),$=B+(E^(N|~I))+F[15]+4264355552&4294967295,B=N+($<<10&4294967295|$>>>22),$=I+(N^(B|~E))+F[6]+2734768916&4294967295,I=B+($<<15&4294967295|$>>>17),$=E+(B^(I|~N))+F[13]+1309151649&4294967295,E=I+($<<21&4294967295|$>>>11),$=N+(I^(E|~B))+F[4]+4149444226&4294967295,N=E+($<<6&4294967295|$>>>26),$=B+(E^(N|~I))+F[11]+3174756917&4294967295,B=N+($<<10&4294967295|$>>>22),$=I+(N^(B|~E))+F[2]+718787259&4294967295,I=B+($<<15&4294967295|$>>>17),$=E+(B^(I|~N))+F[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(I+($<<21&4294967295|$>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+B&4294967295}r.prototype.u=function(C,N){N===void 0&&(N=C.length);for(var E=N-this.blockSize,F=this.B,I=this.h,B=0;B<N;){if(I==0)for(;B<=E;)i(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<N;)if(F[I++]=C.charCodeAt(B++),I==this.blockSize){i(this,F),I=0;break}}else for(;B<N;)if(F[I++]=C[B++],I==this.blockSize){i(this,F),I=0;break}}this.h=I,this.o+=N},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;var E=8*this.o;for(N=C.length-8;N<C.length;++N)C[N]=E&255,E/=256;for(this.u(C),C=Array(16),N=E=0;4>N;++N)for(var F=0;32>F;F+=8)C[E++]=this.g[N]>>>F&255;return C};function a(C,N){var E=c;return Object.prototype.hasOwnProperty.call(E,C)?E[C]:E[C]=N(C)}function l(C,N){this.h=N;for(var E=[],F=!0,I=C.length-1;0<=I;I--){var B=C[I]|0;F&&B==N||(E[I]=B,F=!1)}this.g=E}var c={};function u(C){return-128<=C&&128>C?a(C,function(N){return new l([N|0],0>N?-1:0)}):new l([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return k(h(-C));for(var N=[],E=1,F=0;C>=E;F++)N[F]=C/E|0,E*=4294967296;return new l(N,0)}function m(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return k(m(C.substring(1),N));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(N,8)),F=f,I=0;I<C.length;I+=8){var B=Math.min(8,C.length-I),$=parseInt(C.substring(I,I+B),N);8>B?(B=h(Math.pow(N,B)),F=F.j(B).add(h($))):(F=F.j(E),F=F.add(h($)))}return F}var f=u(0),y=u(1),b=u(16777216);t=l.prototype,t.m=function(){if(S(this))return-k(this).m();for(var C=0,N=1,E=0;E<this.g.length;E++){var F=this.i(E);C+=(0<=F?F:4294967296+F)*N,N*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(S(this))return"-"+k(this).toString(C);for(var N=h(Math.pow(C,6)),E=this,F="";;){var I=v(E,N).g;E=P(E,I.j(N));var B=((0<E.g.length?E.g[0]:E.h)>>>0).toString(C);if(E=I,_(E))return B+F;for(;6>B.length;)B="0"+B;F=B+F}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function S(C){return C.h==-1}t.l=function(C){return C=P(this,C),S(C)?-1:_(C)?0:1};function k(C){for(var N=C.g.length,E=[],F=0;F<N;F++)E[F]=~C.g[F];return new l(E,~C.h).add(y)}t.abs=function(){return S(this)?k(this):this},t.add=function(C){for(var N=Math.max(this.g.length,C.g.length),E=[],F=0,I=0;I<=N;I++){var B=F+(this.i(I)&65535)+(C.i(I)&65535),$=(B>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);F=$>>>16,B&=65535,$&=65535,E[I]=$<<16|B}return new l(E,E[E.length-1]&-2147483648?-1:0)};function P(C,N){return C.add(k(N))}t.j=function(C){if(_(this)||_(C))return f;if(S(this))return S(C)?k(this).j(k(C)):k(k(this).j(C));if(S(C))return k(this.j(k(C)));if(0>this.l(b)&&0>C.l(b))return h(this.m()*C.m());for(var N=this.g.length+C.g.length,E=[],F=0;F<2*N;F++)E[F]=0;for(F=0;F<this.g.length;F++)for(var I=0;I<C.g.length;I++){var B=this.i(F)>>>16,$=this.i(F)&65535,U=C.i(I)>>>16,H=C.i(I)&65535;E[2*F+2*I]+=$*H,D(E,2*F+2*I),E[2*F+2*I+1]+=B*H,D(E,2*F+2*I+1),E[2*F+2*I+1]+=$*U,D(E,2*F+2*I+1),E[2*F+2*I+2]+=B*U,D(E,2*F+2*I+2)}for(F=0;F<N;F++)E[F]=E[2*F+1]<<16|E[2*F];for(F=N;F<2*N;F++)E[F]=0;return new l(E,0)};function D(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function A(C,N){this.g=C,this.h=N}function v(C,N){if(_(N))throw Error("division by zero");if(_(C))return new A(f,f);if(S(C))return N=v(k(C),N),new A(k(N.g),k(N.h));if(S(N))return N=v(C,k(N)),new A(k(N.g),N.h);if(30<C.g.length){if(S(C)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var E=y,F=N;0>=F.l(C);)E=w(E),F=w(F);var I=L(E,1),B=L(F,1);for(F=L(F,2),E=L(E,2);!_(F);){var $=B.add(F);0>=$.l(C)&&(I=I.add(E),B=$),F=L(F,1),E=L(E,1)}return N=P(C,I.j(N)),new A(I,N)}for(I=f;0<=C.l(N);){for(E=Math.max(1,Math.floor(C.m()/N.m())),F=Math.ceil(Math.log(E)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),B=h(E),$=B.j(N);S($)||0<$.l(C);)E-=F,B=h(E),$=B.j(N);_(B)&&(B=y),I=I.add(B),C=P(C,$)}return new A(I,C)}t.A=function(C){return v(this,C).h},t.and=function(C){for(var N=Math.max(this.g.length,C.g.length),E=[],F=0;F<N;F++)E[F]=this.i(F)&C.i(F);return new l(E,this.h&C.h)},t.or=function(C){for(var N=Math.max(this.g.length,C.g.length),E=[],F=0;F<N;F++)E[F]=this.i(F)|C.i(F);return new l(E,this.h|C.h)},t.xor=function(C){for(var N=Math.max(this.g.length,C.g.length),E=[],F=0;F<N;F++)E[F]=this.i(F)^C.i(F);return new l(E,this.h^C.h)};function w(C){for(var N=C.g.length+1,E=[],F=0;F<N;F++)E[F]=C.i(F)<<1|C.i(F-1)>>>31;return new l(E,C.h)}function L(C,N){var E=N>>5;N%=32;for(var F=C.g.length-E,I=[],B=0;B<F;B++)I[B]=0<N?C.i(B+E)>>>N|C.i(B+E+1)<<32-N:C.i(B+E);return new l(I,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,oc=l}).apply(typeof Xj!="undefined"?Xj:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var zp=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,rh,wT,Ef,V0,jT,ST,NT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,R,O){return g==Array.prototype||g==Object.prototype||(g[R]=O.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof zp=="object"&&zp];for(var R=0;R<g.length;++R){var O=g[R];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(g,R){if(R)e:{var O=r;g=g.split(".");for(var G=0;G<g.length-1;G++){var de=g[G];if(!(de in O))break e;O=O[de]}g=g[g.length-1],G=O[g],R=R(G),R!=G&&R!=null&&e(O,g,{configurable:!0,writable:!0,value:R})}}function a(g,R){g instanceof String&&(g+="");var O=0,G=!1,de={next:function(){if(!G&&O<g.length){var xe=O++;return{value:R(xe,g[xe]),done:!1}}return G=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}i("Array.prototype.values",function(g){return g||function(){return a(this,function(R,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function u(g){var R=typeof g;return R=R!="object"?R:g?Array.isArray(g)?"array":R:"null",R=="array"||R=="object"&&typeof g.length=="number"}function h(g){var R=typeof g;return R=="object"&&g!=null||R=="function"}function m(g,R,O){return g.call.apply(g.bind,arguments)}function f(g,R,O){if(!g)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,G),g.apply(R,de)}}return function(){return g.apply(R,arguments)}}function y(g,R,O){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:f,y.apply(null,arguments)}function b(g,R){var O=Array.prototype.slice.call(arguments,1);return function(){var G=O.slice();return G.push.apply(G,arguments),g.apply(this,G)}}function _(g,R){function O(){}O.prototype=R.prototype,g.aa=R.prototype,g.prototype=new O,g.prototype.constructor=g,g.Qb=function(G,de,xe){for(var Ue=Array(arguments.length-2),bs=2;bs<arguments.length;bs++)Ue[bs-2]=arguments[bs];return R.prototype[de].apply(G,Ue)}}function S(g){const R=g.length;if(0<R){const O=Array(R);for(let G=0;G<R;G++)O[G]=g[G];return O}return[]}function k(g,R){for(let O=1;O<arguments.length;O++){const G=arguments[O];if(u(G)){const de=g.length||0,xe=G.length||0;g.length=de+xe;for(let Ue=0;Ue<xe;Ue++)g[de+Ue]=G[Ue]}else g.push(G)}}class P{constructor(R,O){this.i=R,this.j=O,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function D(g){return/^[\s\xa0]*$/.test(g)}function A(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function v(g){return v[" "](g),g}v[" "]=function(){};var w=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function L(g,R,O){for(const G in g)R.call(O,g[G],G,g)}function C(g,R){for(const O in g)R.call(void 0,g[O],O,g)}function N(g){const R={};for(const O in g)R[O]=g[O];return R}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(g,R){let O,G;for(let de=1;de<arguments.length;de++){G=arguments[de];for(O in G)g[O]=G[O];for(let xe=0;xe<E.length;xe++)O=E[xe],Object.prototype.hasOwnProperty.call(G,O)&&(g[O]=G[O])}}function I(g){var R=1;g=g.split(":");const O=[];for(;0<R&&g.length;)O.push(g.shift()),R--;return g.length&&O.push(g.join(":")),O}function B(g){c.setTimeout(()=>{throw g},0)}function $(){var g=se;let R=null;return g.g&&(R=g.g,g.g=g.g.next,g.g||(g.h=null),R.next=null),R}class U{constructor(){this.h=this.g=null}add(R,O){const G=H.get();G.set(R,O),this.h?this.h.next=G:this.g=G,this.h=G}}var H=new P(()=>new W,g=>g.reset());class W{constructor(){this.next=this.g=this.h=null}set(R,O){this.h=R,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let K,q=!1,se=new U,ne=()=>{const g=c.Promise.resolve(void 0);K=()=>{g.then(z)}};var z=()=>{for(var g;g=$();){try{g.h.call(g.g)}catch(O){B(O)}var R=H;R.j(g),100>R.h&&(R.h++,g.next=R.g,R.g=g)}q=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(g,R){this.type=g,this.g=this.target=R,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ae=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,R=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const O=()=>{};c.addEventListener("test",O,R),c.removeEventListener("test",O,R)}catch(O){}return g})();function he(g,R){if(le.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var O=this.type=g.type,G=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=R,R=g.relatedTarget){if(w){e:{try{v(R.nodeName);var de=!0;break e}catch(xe){}de=!1}de||(R=null)}}else O=="mouseover"?R=g.fromElement:O=="mouseout"&&(R=g.toElement);this.relatedTarget=R,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:ye[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&he.aa.h.call(this)}}_(he,le);var ye={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Z=0;function fe(g,R,O,G,de){this.listener=g,this.proxy=null,this.src=R,this.type=O,this.capture=!!G,this.ha=de,this.key=++Z,this.da=this.fa=!1}function oe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function _e(g){this.src=g,this.g={},this.h=0}_e.prototype.add=function(g,R,O,G,de){var xe=g.toString();g=this.g[xe],g||(g=this.g[xe]=[],this.h++);var Ue=Ee(g,R,G,de);return-1<Ue?(R=g[Ue],O||(R.fa=!1)):(R=new fe(R,this.src,xe,!!G,de),R.fa=O,g.push(R)),R};function ve(g,R){var O=R.type;if(O in g.g){var G=g.g[O],de=Array.prototype.indexOf.call(G,R,void 0),xe;(xe=0<=de)&&Array.prototype.splice.call(G,de,1),xe&&(oe(R),g.g[O].length==0&&(delete g.g[O],g.h--))}}function Ee(g,R,O,G){for(var de=0;de<g.length;++de){var xe=g[de];if(!xe.da&&xe.listener==R&&xe.capture==!!O&&xe.ha==G)return de}return-1}var Ve="closure_lm_"+(1e6*Math.random()|0),ze={};function st(g,R,O,G,de){if(Array.isArray(R)){for(var xe=0;xe<R.length;xe++)st(g,R[xe],O,G,de);return null}return O=Be(O),g&&g[Ie]?g.K(R,O,h(G)?!!G.capture:!1,de):at(g,R,O,!1,G,de)}function at(g,R,O,G,de,xe){if(!R)throw Error("Invalid event type");var Ue=h(de)?!!de.capture:!!de,bs=yt(g);if(bs||(g[Ve]=bs=new _e(g)),O=bs.add(R,O,G,Ue,xe),O.proxy)return O;if(G=mt(),O.proxy=G,G.src=g,G.listener=O,g.addEventListener)ae||(de=Ue),de===void 0&&(de=!1),g.addEventListener(R.toString(),G,de);else if(g.attachEvent)g.attachEvent(Je(R.toString()),G);else if(g.addListener&&g.removeListener)g.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return O}function mt(){function g(O){return R.call(g.src,g.listener,O)}const R=Ke;return g}function Ut(g,R,O,G,de){if(Array.isArray(R))for(var xe=0;xe<R.length;xe++)Ut(g,R[xe],O,G,de);else G=h(G)?!!G.capture:!!G,O=Be(O),g&&g[Ie]?(g=g.i,R=String(R).toString(),R in g.g&&(xe=g.g[R],O=Ee(xe,O,G,de),-1<O&&(oe(xe[O]),Array.prototype.splice.call(xe,O,1),xe.length==0&&(delete g.g[R],g.h--)))):g&&(g=yt(g))&&(R=g.g[R.toString()],g=-1,R&&(g=Ee(R,O,G,de)),(O=-1<g?R[g]:null)&&je(O))}function je(g){if(typeof g!="number"&&g&&!g.da){var R=g.src;if(R&&R[Ie])ve(R.i,g);else{var O=g.type,G=g.proxy;R.removeEventListener?R.removeEventListener(O,G,g.capture):R.detachEvent?R.detachEvent(Je(O),G):R.addListener&&R.removeListener&&R.removeListener(G),(O=yt(R))?(ve(O,g),O.h==0&&(O.src=null,R[Ve]=null)):oe(g)}}}function Je(g){return g in ze?ze[g]:ze[g]="on"+g}function Ke(g,R){if(g.da)g=!0;else{R=new he(R,this);var O=g.listener,G=g.ha||g.src;g.fa&&je(g),g=O.call(G,R)}return g}function yt(g){return g=g[Ve],g instanceof _e?g:null}var kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(g){return typeof g=="function"?g:(g[kt]||(g[kt]=function(R){return g.handleEvent(R)}),g[kt])}function Le(){Y.call(this),this.i=new _e(this),this.M=this,this.F=null}_(Le,Y),Le.prototype[Ie]=!0,Le.prototype.removeEventListener=function(g,R,O,G){Ut(this,g,R,O,G)};function He(g,R){var O,G=g.F;if(G)for(O=[];G;G=G.F)O.push(G);if(g=g.M,G=R.type||R,typeof R=="string")R=new le(R,g);else if(R instanceof le)R.target=R.target||g;else{var de=R;R=new le(G,g),F(R,de)}if(de=!0,O)for(var xe=O.length-1;0<=xe;xe--){var Ue=R.g=O[xe];de=tt(Ue,G,!0,R)&&de}if(Ue=R.g=g,de=tt(Ue,G,!0,R)&&de,de=tt(Ue,G,!1,R)&&de,O)for(xe=0;xe<O.length;xe++)Ue=R.g=O[xe],de=tt(Ue,G,!1,R)&&de}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var g=this.i,R;for(R in g.g){for(var O=g.g[R],G=0;G<O.length;G++)oe(O[G]);delete g.g[R],g.h--}}this.F=null},Le.prototype.K=function(g,R,O,G){return this.i.add(String(g),R,!1,O,G)},Le.prototype.L=function(g,R,O,G){return this.i.add(String(g),R,!0,O,G)};function tt(g,R,O,G){if(R=g.i.g[String(R)],!R)return!0;R=R.concat();for(var de=!0,xe=0;xe<R.length;++xe){var Ue=R[xe];if(Ue&&!Ue.da&&Ue.capture==O){var bs=Ue.listener,xn=Ue.ha||Ue.src;Ue.fa&&ve(g.i,Ue),de=bs.call(xn,G)!==!1&&de}}return de&&!G.defaultPrevented}function fs(g,R,O){if(typeof g=="function")O&&(g=y(g,O));else if(g&&typeof g.handleEvent=="function")g=y(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:c.setTimeout(g,R||0)}function vs(g){g.g=fs(()=>{g.g=null,g.i&&(g.i=!1,vs(g))},g.l);const R=g.h;g.h=null,g.m.apply(null,R)}class os extends Y{constructor(R,O){super(),this.m=R,this.l=O,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:vs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(g){Y.call(this),this.h=g,this.g={}}_(ls,Y);var Os=[];function _t(g){L(g.g,function(R,O){this.g.hasOwnProperty(O)&&je(R)},g),g.g={}}ls.prototype.N=function(){ls.aa.N.call(this),_t(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=c.JSON.stringify,Ys=c.JSON.parse,gt=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function J(){}J.prototype.h=null;function $e(g){return g.h||(g.h=g.i())}function Ge(){}var nt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lt(){le.call(this,"d")}_(lt,le);function wt(){le.call(this,"c")}_(wt,le);var ns={},Ls=null;function _n(){return Ls=Ls||new Le}ns.La="serverreachability";function Yn(g){le.call(this,ns.La,g)}_(Yn,le);function an(g){const R=_n();He(R,new Yn(R))}ns.STAT_EVENT="statevent";function ai(g,R){le.call(this,ns.STAT_EVENT,g),this.stat=R}_(ai,le);function hs(g){const R=_n();He(R,new ai(R,g))}ns.Ma="timingevent";function Pn(g,R){le.call(this,ns.Ma,g),this.size=R}_(Pn,le);function Js(g,R){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},R)}function lr(){this.g=!0}lr.prototype.xa=function(){this.g=!1};function cr(g,R,O,G,de,xe){g.info(function(){if(g.g)if(xe)for(var Ue="",bs=xe.split("&"),xn=0;xn<bs.length;xn++){var is=bs[xn].split("=");if(1<is.length){var jn=is[0];is=is[1];var on=jn.split("_");Ue=2<=on.length&&on[1]=="type"?Ue+(jn+"="+is+"&"):Ue+(jn+"=redacted&")}}else Ue=null;else Ue=xe;return"XMLHTTP REQ ("+G+") [attempt "+de+"]: "+R+`
`+O+`
`+Ue})}function dr(g,R,O,G,de,xe,Ue){g.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+de+"]: "+R+`
`+O+`
`+xe+" "+Ue})}function wn(g,R,O,G){g.info(function(){return"XMLHTTP TEXT ("+R+"): "+ws(g,O)+(G?" "+G:"")})}function rs(g,R){g.info(function(){return"TIMEOUT: "+R})}lr.prototype.info=function(){};function ws(g,R){if(!g.g)return R;if(!R)return null;try{var O=JSON.parse(R);if(O){for(g=0;g<O.length;g++)if(Array.isArray(O[g])){var G=O[g];if(!(2>G.length)){var de=G[1];if(Array.isArray(de)&&!(1>de.length)){var xe=de[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(var Ue=1;Ue<de.length;Ue++)de[Ue]=""}}}}return we(O)}catch(bs){return R}}var Ln={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gt;function Qi(){}_(Qi,J),Qi.prototype.g=function(){return new XMLHttpRequest},Qi.prototype.i=function(){return{}},Gt=new Qi;function jr(g,R,O,G){this.j=g,this.i=R,this.l=O,this.R=G||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bl}function bl(){this.i=null,this.g="",this.h=!1}var go={},Sa={};function Na(g,R,O){g.L=1,g.v=_o(Gr(R)),g.m=O,g.P=!0,xo(g,null)}function xo(g,R){g.F=Date.now(),ys(g),g.A=Gr(g.v);var O=g.A,G=g.R;Array.isArray(G)||(G=[String(G)]),jo(O.i,"t",G),g.C=0,O=g.j.J,g.h=new bl,g.g=Hm(g.j,O?R:null,!g.m),0<g.O&&(g.M=new os(y(g.Y,g,g.g),g.O)),R=g.U,O=g.g,G=g.ca;var de="readystatechange";Array.isArray(de)||(de&&(Os[0]=de.toString()),de=Os);for(var xe=0;xe<de.length;xe++){var Ue=st(O,de[xe],G||R.handleEvent,!1,R.h||R);if(!Ue)break;R.g[Ue.key]=Ue}R=g.H?N(g.H):{},g.m?(g.u||(g.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,R)):(g.u="GET",g.g.ea(g.A,g.u,null,R)),an(),cr(g.i,g.u,g.A,g.l,g.R,g.m)}jr.prototype.ca=function(g){g=g.target;const R=this.M;R&&Nr(g)==3?R.j():this.Y(g)},jr.prototype.Y=function(g){try{if(g==this.g)e:{const on=Nr(this.g);var R=this.g.Ba();const li=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||on!=4||R==7||(R==8||0>=li?an(3):an(2)),Xi(this);var O=this.g.Z();this.X=O;t:if(_l(this)){var G=gu(this.g);g="";var de=G.length,xe=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){ur(this),Si(this);var Ue="";break t}this.h.i=new c.TextDecoder}for(R=0;R<de;R++)this.h.h=!0,g+=this.h.i.decode(G[R],{stream:!(xe&&R==de-1)});G.length=0,this.h.g+=g,this.C=0,Ue=this.h.g}else Ue=this.g.oa();if(this.o=O==200,dr(this.i,this.u,this.A,this.l,this.R,on,O),this.o){if(this.T&&!this.K){t:{if(this.g){var bs,xn=this.g;if((bs=xn.g?xn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(bs)){var is=bs;break t}}is=null}if(O=is)wn(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uu(this,O);else{this.o=!1,this.s=3,hs(12),ur(this),Si(this);break e}}if(this.P){O=!0;let qr;for(;!this.J&&this.C<Ue.length;)if(qr=kc(this,Ue),qr==Sa){on==4&&(this.s=4,hs(14),O=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(qr==go){this.s=4,hs(15),wn(this.i,this.l,Ue,"[Invalid Chunk]"),O=!1;break}else wn(this.i,this.l,qr,null),uu(this,qr);if(_l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||Ue.length!=0||this.h.h||(this.s=1,hs(16),O=!1),this.o=this.o&&O,!O)wn(this.i,this.l,Ue,"[Invalid Chunked Response]"),ur(this),Si(this);else if(0<Ue.length&&!this.W){this.W=!0;var jn=this.j;jn.g==this&&jn.ba&&!jn.M&&(jn.j.info("Great, no buffering proxy detected. Bytes received: "+Ue.length),vu(jn),jn.M=!0,hs(11))}}else wn(this.i,this.l,Ue,null),uu(this,Ue);on==4&&ur(this),this.o&&!this.J&&(on==4?Fc(this.j,this):(this.o=!1,ys(this)))}else Rc(this.g),O==400&&0<Ue.indexOf("Unknown SID")?(this.s=3,hs(12)):(this.s=0,hs(13)),ur(this),Si(this)}}}catch(on){}finally{}};function _l(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function kc(g,R){var O=g.C,G=R.indexOf(`
`,O);return G==-1?Sa:(O=Number(R.substring(O,G)),isNaN(O)?go:(G+=1,G+O>R.length?Sa:(R=R.slice(G,G+O),g.C=G+O,R)))}jr.prototype.cancel=function(){this.J=!0,ur(this)};function ys(g){g.S=Date.now()+g.I,wl(g,g.I)}function wl(g,R){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Js(y(g.ba,g),R)}function Xi(g){g.B&&(c.clearTimeout(g.B),g.B=null)}jr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(rs(this.i,this.A),this.L!=2&&(an(),hs(17)),ur(this),this.s=2,Si(this)):wl(this,this.S-g)};function Si(g){g.j.G==0||g.J||Fc(g.j,g)}function ur(g){Xi(g);var R=g.M;R&&typeof R.ma=="function"&&R.ma(),g.M=null,_t(g.U),g.g&&(R=g.g,g.g=null,R.abort(),R.ma())}function uu(g,R){try{var O=g.j;if(O.G!=0&&(O.g==g||hr(O.h,g))){if(!g.K&&hr(O.h,g)&&O.G==3){try{var G=O.Da.g.parse(R)}catch(is){G=null}if(Array.isArray(G)&&G.length==3){var de=G;if(de[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<g.F)Mc(O),Ai(O);else break e;Dc(O),hs(18)}}else O.za=de[1],0<O.za-O.T&&37500>de[2]&&O.F&&O.v==0&&!O.C&&(O.C=Js(y(O.Za,O),6e3));if(1>=Em(O.h)&&O.ca){try{O.ca()}catch(is){}O.ca=void 0}}else Ea(O,11)}else if((g.K||O.g==g)&&Mc(O),!D(R))for(de=O.Da.g.parse(R),R=0;R<de.length;R++){let is=de[R];if(O.T=is[0],is=is[1],O.G==2)if(is[0]=="c"){O.K=is[1],O.ia=is[2];const jn=is[3];jn!=null&&(O.la=jn,O.j.info("VER="+O.la));const on=is[4];on!=null&&(O.Aa=on,O.j.info("SVER="+O.Aa));const li=is[5];li!=null&&typeof li=="number"&&0<li&&(G=1.5*li,O.L=G,O.j.info("backChannelRequestTimeoutMs_="+G)),G=O;const qr=g.g;if(qr){const Al=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Al){var xe=G.h;xe.g||Al.indexOf("spdy")==-1&&Al.indexOf("quic")==-1&&Al.indexOf("h2")==-1||(xe.j=xe.l,xe.g=new Set,xe.h&&(hu(xe,xe.h),xe.h=null))}if(G.D){const $c=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(G.ya=$c,js(G.I,G.D,$c))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-g.F,O.j.info("Handshake RTT: "+O.R+"ms")),G=O;var Ue=g;if(G.qa=zm(G,G.J?G.ia:null,G.W),Ue.K){Im(G.h,Ue);var bs=Ue,xn=G.L;xn&&(bs.I=xn),bs.B&&(Xi(bs),ys(bs)),G.g=Ue}else Tl(G);0<O.i.length&&ea(O)}else is[0]!="stop"&&is[0]!="close"||Ea(O,7);else O.G==3&&(is[0]=="stop"||is[0]=="close"?is[0]=="stop"?Ea(O,7):Mn(O):is[0]!="noop"&&O.l&&O.l.ta(is),O.v=0)}}an(4)}catch(is){}}var Am=class{constructor(g,R){this.g=g,this.map=R}};function jl(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hr(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Em(g){return g.h?1:g.g?g.g.size:0}function hr(g,R){return g.h?g.h==R:g.g?g.g.has(R):!1}function hu(g,R){g.g?g.g.add(R):g.h=R}function Im(g,R){g.h&&g.h==R?g.h=null:g.g&&g.g.has(R)&&g.g.delete(R)}jl.prototype.cancel=function(){if(this.i=Rm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Rm(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let R=g.i;for(const O of g.g.values())R=R.concat(O.D);return R}return S(g.i)}function Cc(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map!="undefined"&&g instanceof Map||typeof Set!="undefined"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(u(g)){for(var R=[],O=g.length,G=0;G<O;G++)R.push(g[G]);return R}R=[],O=0;for(G in g)R[O++]=g[G];return R}function Tc(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map!="undefined"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set!="undefined"&&g instanceof Set)){if(u(g)||typeof g=="string"){var R=[];g=g.length;for(var O=0;O<g;O++)R.push(O);return R}R=[],O=0;for(const G in g)R[O++]=G;return R}}}function vo(g,R){if(g.forEach&&typeof g.forEach=="function")g.forEach(R,void 0);else if(u(g)||typeof g=="string")Array.prototype.forEach.call(g,R,void 0);else for(var O=Tc(g),G=Cc(g),de=G.length,xe=0;xe<de;xe++)R.call(void 0,G[xe],O&&O[xe],g)}var Sl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nx(g,R){if(g){g=g.split("&");for(var O=0;O<g.length;O++){var G=g[O].indexOf("="),de=null;if(0<=G){var xe=g[O].substring(0,G);de=g[O].substring(G+1)}else xe=g[O];R(xe,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function ka(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof ka){this.h=g.h,Nl(this,g.j),this.o=g.o,this.g=g.g,yo(this,g.s),this.l=g.l;var R=g.i,O=new Yi;O.i=R.i,R.g&&(O.g=new Map(R.g),O.h=R.h),bo(this,O),this.m=g.m}else g&&(R=String(g).match(Sl))?(this.h=!1,Nl(this,R[1]||"",!0),this.o=es(R[2]||""),this.g=es(R[3]||"",!0),yo(this,R[4]),this.l=es(R[5]||"",!0),bo(this,R[6]||"",!0),this.m=es(R[7]||"")):(this.h=!1,this.i=new Yi(null,this.h))}ka.prototype.toString=function(){var g=[],R=this.j;R&&g.push(wo(R,Ac,!0),":");var O=this.g;return(O||R=="file")&&(g.push("//"),(R=this.o)&&g.push(wo(R,Ac,!0),"@"),g.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&g.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&g.push("/"),g.push(wo(O,O.charAt(0)=="/"?Dm:Lm,!0))),(O=this.i.toString())&&g.push("?",O),(O=this.m)&&g.push("#",wo(O,mu)),g.join("")};function Gr(g){return new ka(g)}function Nl(g,R,O){g.j=O?es(R,!0):R,g.j&&(g.j=g.j.replace(/:$/,""))}function yo(g,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);g.s=R}else g.s=null}function bo(g,R,O){R instanceof Yi?(g.i=R,Ji(g.i,g.h)):(O||(R=wo(R,Mm)),g.i=new Yi(R,g.h))}function js(g,R,O){g.i.set(R,O)}function _o(g){return js(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function es(g,R){return g?R?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function wo(g,R,O){return typeof g=="string"?(g=encodeURI(g).replace(R,Pm),O&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Pm(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ac=/[#\/\?@]/g,Lm=/[#\?:]/g,Dm=/[#\?]/g,Mm=/[#\?@]/g,mu=/#/g;function Yi(g,R){this.h=this.g=null,this.i=g||null,this.j=!!R}function Dn(g){g.g||(g.g=new Map,g.h=0,g.i&&Nx(g.i,function(R,O){g.add(decodeURIComponent(R.replace(/\+/g," ")),O)}))}t=Yi.prototype,t.add=function(g,R){Dn(this),this.i=null,g=oi(this,g);var O=this.g.get(g);return O||this.g.set(g,O=[]),O.push(R),this.h+=1,this};function Ni(g,R){Dn(g),R=oi(g,R),g.g.has(R)&&(g.i=null,g.h-=g.g.get(R).length,g.g.delete(R))}function ki(g,R){return Dn(g),R=oi(g,R),g.g.has(R)}t.forEach=function(g,R){Dn(this),this.g.forEach(function(O,G){O.forEach(function(de){g.call(R,de,G,this)},this)},this)},t.na=function(){Dn(this);const g=Array.from(this.g.values()),R=Array.from(this.g.keys()),O=[];for(let G=0;G<R.length;G++){const de=g[G];for(let xe=0;xe<de.length;xe++)O.push(R[G])}return O},t.V=function(g){Dn(this);let R=[];if(typeof g=="string")ki(this,g)&&(R=R.concat(this.g.get(oi(this,g))));else{g=Array.from(this.g.values());for(let O=0;O<g.length;O++)R=R.concat(g[O])}return R},t.set=function(g,R){return Dn(this),this.i=null,g=oi(this,g),ki(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[R]),this.h+=1,this},t.get=function(g,R){return g?(g=this.V(g),0<g.length?String(g[0]):R):R};function jo(g,R,O){Ni(g,R),0<O.length&&(g.i=null,g.g.set(oi(g,R),S(O)),g.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],R=Array.from(this.g.keys());for(var O=0;O<R.length;O++){var G=R[O];const xe=encodeURIComponent(String(G)),Ue=this.V(G);for(G=0;G<Ue.length;G++){var de=xe;Ue[G]!==""&&(de+="="+encodeURIComponent(String(Ue[G]))),g.push(de)}}return this.i=g.join("&")};function oi(g,R){return R=String(R),g.j&&(R=R.toLowerCase()),R}function Ji(g,R){R&&!g.j&&(Dn(g),g.i=null,g.g.forEach(function(O,G){var de=G.toLowerCase();G!=de&&(Ni(this,G),jo(this,de,O))},g)),g.j=R}function kx(g,R){const O=new lr;if(c.Image){const G=new Image;G.onload=b(Sr,O,"TestLoadImage: loaded",!0,R,G),G.onerror=b(Sr,O,"TestLoadImage: error",!1,R,G),G.onabort=b(Sr,O,"TestLoadImage: abort",!1,R,G),G.ontimeout=b(Sr,O,"TestLoadImage: timeout",!1,R,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=g}else R(!1)}function Fm(g,R){const O=new lr,G=new AbortController,de=setTimeout(()=>{G.abort(),Sr(O,"TestPingServer: timeout",!1,R)},1e4);fetch(g,{signal:G.signal}).then(xe=>{clearTimeout(de),xe.ok?Sr(O,"TestPingServer: ok",!0,R):Sr(O,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(de),Sr(O,"TestPingServer: error",!1,R)})}function Sr(g,R,O,G,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),G(O)}catch(xe){}}function Cx(){this.g=new gt}function Bm(g,R,O){const G=O||"";try{vo(g,function(de,xe){let Ue=de;h(de)&&(Ue=we(de)),R.push(G+xe+"="+encodeURIComponent(Ue))})}catch(de){throw R.push(G+"type="+encodeURIComponent("_badmap")),de}}function Ca(g){this.l=g.Ub||null,this.j=g.eb||!1}_(Ca,J),Ca.prototype.g=function(){return new kl(this.l,this.j)},Ca.prototype.i=(function(g){return function(){return g}})({});function kl(g,R){Le.call(this),this.D=g,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(kl,Le),t=kl.prototype,t.open=function(g,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=R,this.readyState=1,Ti(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(R.body=g),(this.D||c).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ci(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream!="undefined"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$m(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function $m(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var R=g.value?g.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!g.done}))&&(this.response=this.responseText+=R)}g.done?Ci(this):Ti(this),this.readyState==3&&$m(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ci(this))},t.Qa=function(g){this.g&&(this.response=g,Ci(this))},t.ga=function(){this.g&&Ci(this)};function Ci(g){g.readyState=4,g.l=null,g.j=null,g.v=null,Ti(g)}t.setRequestHeader=function(g,R){this.u.append(g,R)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],R=this.h.entries();for(var O=R.next();!O.done;)O=O.value,g.push(O[0]+": "+O[1]),O=R.next();return g.join(`\r
`)};function Ti(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ta(g){let R="";return L(g,function(O,G){R+=G,R+=":",R+=O,R+=`\r
`}),R}function So(g,R,O){e:{for(G in O){var G=!1;break e}G=!0}G||(O=Ta(O),typeof g=="string"?O!=null&&encodeURIComponent(String(O)):js(g,R,O))}function Ds(g){Le.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ds,Le);var Tx=/^https?$/i,pu=["POST","PUT"];t=Ds.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,R,O,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);R=R?R.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gt.g(),this.v=this.o?$e(this.o):$e(Gt),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(R,String(g),!0),this.B=!1}catch(xe){Cl(this,xe);return}if(g=O||"",O=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var de in G)O.set(de,G[de]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const xe of G.keys())O.set(xe,G.get(xe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(O.keys()).find(xe=>xe.toLowerCase()=="content-type"),de=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(pu,R,void 0))||G||de||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xe,Ue]of O)this.g.setRequestHeader(xe,Ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ic(this),this.u=!0,this.g.send(g),this.u=!1}catch(xe){Cl(this,xe)}};function Cl(g,R){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=R,g.m=5,Ec(g),Wr(g)}function Ec(g){g.A||(g.A=!0,He(g,"complete"),He(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,He(this,"complete"),He(this,"abort"),Wr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wr(this,!0)),Ds.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fu(this):this.bb())},t.bb=function(){fu(this)};function fu(g){if(g.h&&typeof l!="undefined"&&(!g.v[1]||Nr(g)!=4||g.Z()!=2)){if(g.u&&Nr(g)==4)fs(g.Ea,0,g);else if(He(g,"readystatechange"),Nr(g)==4){g.h=!1;try{const Ue=g.Z();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var O;if(!(O=R)){var G;if(G=Ue===0){var de=String(g.D).match(Sl)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),G=!Tx.test(de?de.toLowerCase():"")}O=G}if(O)He(g,"complete"),He(g,"success");else{g.m=6;try{var xe=2<Nr(g)?g.g.statusText:""}catch(bs){xe=""}g.l=xe+" ["+g.Z()+"]",Ec(g)}}finally{Wr(g)}}}}function Wr(g,R){if(g.g){Ic(g);const O=g.g,G=g.v[0]?()=>{}:null;g.g=null,g.v=null,R||He(g,"ready");try{O.onreadystatechange=G}catch(de){}}}function Ic(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Nr(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch(g){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(g){return""}},t.Oa=function(g){if(this.g){var R=this.g.responseText;return g&&R.indexOf(g)==0&&(R=R.substring(g.length)),Ys(R)}};function gu(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch(R){return null}}function Rc(g){const R={};g=(g.g&&2<=Nr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<g.length;G++){if(D(g[G]))continue;var O=I(g[G]);const de=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const xe=R[de]||[];R[de]=xe,xe.push(O)}C(R,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(g,R,O){return O&&O.internalChannelParams&&O.internalChannelParams[g]||R}function xu(g){this.Aa=0,this.i=[],this.j=new lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zi("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zi("baseRetryDelayMs",5e3,g),this.cb=Zi("retryDelaySeedMs",1e4,g),this.Wa=Zi("forwardChannelMaxRetries",2,g),this.wa=Zi("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new jl(g&&g.concurrentRequestLimit),this.Da=new Cx,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xu.prototype,t.la=8,t.G=1,t.connect=function(g,R,O,G){hs(0),this.W=g,this.H=R||{},O&&G!==void 0&&(this.H.OSID=O,this.H.OAID=G),this.F=this.X,this.I=zm(this,null,this.W),ea(this)};function Mn(g){if(Pc(g),g.G==3){var R=g.U++,O=Gr(g.I);if(js(O,"SID",g.K),js(O,"RID",R),js(O,"TYPE","terminate"),Aa(g,O),R=new jr(g,g.j,R),R.L=2,R.v=_o(Gr(O)),O=!1,c.navigator&&c.navigator.sendBeacon)try{O=c.navigator.sendBeacon(R.v.toString(),"")}catch(G){}!O&&c.Image&&(new Image().src=R.v,O=!0),O||(R.g=Hm(R.j,null),R.g.ea(R.v)),R.F=Date.now(),ys(R)}Um(g)}function Ai(g){g.g&&(vu(g),g.g.cancel(),g.g=null)}function Pc(g){Ai(g),g.u&&(c.clearTimeout(g.u),g.u=null),Mc(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function ea(g){if(!Hr(g.h)&&!g.s){g.s=!0;var R=g.Ga;K||ne(),q||(K(),q=!0),se.add(R,g),g.B=0}}function Ax(g,R){return Em(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=R.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Js(y(g.Ga,g,R),Vm(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const de=new jr(this,this.j,g);let xe=this.o;if(this.S&&(xe?(xe=N(xe),F(xe,this.S)):xe=this.S),this.m!==null||this.O||(de.H=xe,xe=null),this.P)e:{for(var R=0,O=0;O<this.i.length;O++){t:{var G=this.i[O];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(R+=G,4096<R){R=O;break e}if(R===4096||O===this.i.length-1){R=O+1;break e}}R=1e3}else R=1e3;R=No(this,de,R),O=Gr(this.I),js(O,"RID",g),js(O,"CVER",22),this.D&&js(O,"X-HTTP-Session-Id",this.D),Aa(this,O),xe&&(this.O?R="headers="+encodeURIComponent(String(Ta(xe)))+"&"+R:this.m&&So(O,this.m,xe)),hu(this.h,de),this.Ua&&js(O,"TYPE","init"),this.P?(js(O,"$req",R),js(O,"SID","null"),de.T=!0,Na(de,O,null)):Na(de,O,R),this.G=2}}else this.G==3&&(g?Lc(this,g):this.i.length==0||Hr(this.h)||Lc(this))};function Lc(g,R){var O;R?O=R.l:O=g.U++;const G=Gr(g.I);js(G,"SID",g.K),js(G,"RID",O),js(G,"AID",g.T),Aa(g,G),g.m&&g.o&&So(G,g.m,g.o),O=new jr(g,g.j,O,g.B+1),g.m===null&&(O.H=g.o),R&&(g.i=R.D.concat(g.i)),R=No(g,O,1e3),O.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),hu(g.h,O),Na(O,G,R)}function Aa(g,R){g.H&&L(g.H,function(O,G){js(R,G,O)}),g.l&&vo({},function(O,G){js(R,G,O)})}function No(g,R,O){O=Math.min(g.i.length,O);var G=g.l?y(g.l.Na,g.l,g):null;e:{var de=g.i;let xe=-1;for(;;){const Ue=["count="+O];xe==-1?0<O?(xe=de[0].g,Ue.push("ofs="+xe)):xe=0:Ue.push("ofs="+xe);let bs=!0;for(let xn=0;xn<O;xn++){let is=de[xn].g;const jn=de[xn].map;if(is-=xe,0>is)xe=Math.max(0,de[xn].g-100),bs=!1;else try{Bm(jn,Ue,"req"+is+"_")}catch(on){G&&G(jn)}}if(bs){G=Ue.join("&");break e}}}return g=g.i.splice(0,O),R.D=g,G}function Tl(g){if(!g.g&&!g.u){g.Y=1;var R=g.Fa;K||ne(),q||(K(),q=!0),se.add(R,g),g.v=0}}function Dc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Js(y(g.Fa,g),Vm(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Om(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Js(y(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hs(10),Ai(this),Om(this))};function vu(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function Om(g){g.g=new jr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var R=Gr(g.qa);js(R,"RID","rpc"),js(R,"SID",g.K),js(R,"AID",g.T),js(R,"CI",g.F?"0":"1"),!g.F&&g.ja&&js(R,"TO",g.ja),js(R,"TYPE","xmlhttp"),Aa(g,R),g.m&&g.o&&So(R,g.m,g.o),g.L&&(g.g.I=g.L);var O=g.g;g=g.ia,O.L=1,O.v=_o(Gr(R)),O.m=null,O.P=!0,xo(O,g)}t.Za=function(){this.C!=null&&(this.C=null,Ai(this),Dc(this),hs(19))};function Mc(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Fc(g,R){var O=null;if(g.g==R){Mc(g),vu(g),g.g=null;var G=2}else if(hr(g.h,R))O=R.D,Im(g.h,R),G=1;else return;if(g.G!=0){if(R.o)if(G==1){O=R.m?R.m.length:0,R=Date.now()-R.F;var de=g.B;G=_n(),He(G,new Pn(G,O)),ea(g)}else Tl(g);else if(de=R.s,de==3||de==0&&0<R.X||!(G==1&&Ax(g,R)||G==2&&Dc(g)))switch(O&&0<O.length&&(R=g.h,R.i=R.i.concat(O)),de){case 1:Ea(g,5);break;case 4:Ea(g,10);break;case 3:Ea(g,6);break;default:Ea(g,2)}}}function Vm(g,R){let O=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(O*=2),O*R}function Ea(g,R){if(g.j.info("Error code "+R),R==2){var O=y(g.fb,g),G=g.Xa;const de=!G;G=new ka(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Nl(G,"https"),_o(G),de?kx(G.toString(),O):Fm(G.toString(),O)}else hs(2);g.G=0,g.l&&g.l.sa(R),Um(g),Pc(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),hs(2)):(this.j.info("Failed to ping google.com"),hs(1))};function Um(g){if(g.G=0,g.ka=[],g.l){const R=Rm(g.h);(R.length!=0||g.i.length!=0)&&(k(g.ka,R),k(g.ka,g.i),g.h.i.length=0,S(g.i),g.i.length=0),g.l.ra()}}function zm(g,R,O){var G=O instanceof ka?Gr(O):new ka(O);if(G.g!="")R&&(G.g=R+"."+G.g),yo(G,G.s);else{var de=c.location;G=de.protocol,R=R?R+"."+de.hostname:de.hostname,de=+de.port;var xe=new ka(null);G&&Nl(xe,G),R&&(xe.g=R),de&&yo(xe,de),O&&(xe.l=O),G=xe}return O=g.D,R=g.ya,O&&R&&js(G,O,R),js(G,"VER",g.la),Aa(g,G),G}function Hm(g,R,O){if(R&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=g.Ca&&!g.pa?new Ds(new Ca({eb:O})):new Ds(g.pa),R.Ha(g.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}t=yu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bc(){}Bc.prototype.g=function(g,R){return new mr(g,R)};function mr(g,R){Le.call(this),this.g=new xu(R),this.l=g,this.h=R&&R.messageUrlParams||null,g=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(g?g["X-WebChannel-Content-Type"]=R.messageContentType:g={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(g?g["X-WebChannel-Client-Profile"]=R.va:g={"X-WebChannel-Client-Profile":R.va}),this.g.S=g,(g=R&&R.Sb)&&!D(g)&&(this.g.m=g),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!D(R)&&(this.g.D=R,g=this.h,g!==null&&R in g&&(g=this.h,R in g&&delete g[R])),this.j=new ta(this)}_(mr,Le),mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){Mn(this.g)},mr.prototype.o=function(g){var R=this.g;if(typeof g=="string"){var O={};O.__data__=g,g=O}else this.u&&(O={},O.__data__=we(g),g=O);R.i.push(new Am(R.Ya++,g)),R.G==3&&ea(R)},mr.prototype.N=function(){this.g.l=null,delete this.j,Mn(this.g),delete this.g,mr.aa.N.call(this)};function Gm(g){lt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var R=g.__sm__;if(R){e:{for(const O in R){g=O;break e}g=void 0}(this.i=g)&&(g=this.i,R=R!==null&&g in R?R[g]:void 0),this.data=R}else this.data=g}_(Gm,lt);function Wm(){wt.call(this),this.status=1}_(Wm,wt);function ta(g){this.g=g}_(ta,yu),ta.prototype.ua=function(){He(this.g,"a")},ta.prototype.ta=function(g){He(this.g,new Gm(g))},ta.prototype.sa=function(g){He(this.g,new Wm)},ta.prototype.ra=function(){He(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,NT=function(){return new Bc},ST=function(){return _n()},jT=ns,V0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ln.NO_ERROR=0,Ln.TIMEOUT=8,Ln.HTTP_ERROR=6,Ef=Ln,zr.COMPLETE="complete",wT=zr,Ge.EventType=nt,nt.OPEN="a",nt.CLOSE="b",nt.ERROR="c",nt.MESSAGE="d",Le.prototype.listen=Le.prototype.K,rh=Ge,Ds.prototype.listenOnce=Ds.prototype.L,Ds.prototype.getLastError=Ds.prototype.Ka,Ds.prototype.getLastErrorCode=Ds.prototype.Ba,Ds.prototype.getStatus=Ds.prototype.Z,Ds.prototype.getResponseJson=Ds.prototype.Oa,Ds.prototype.getResponseText=Ds.prototype.oa,Ds.prototype.send=Ds.prototype.ea,Ds.prototype.setWithCredentials=Ds.prototype.Ha,_T=Ds}).apply(typeof zp!="undefined"?zp:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const Yj="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new W1("@firebase/firestore");function Wu(){return pc.logLevel}function it(t,...e){if(pc.logLevel<=ss.DEBUG){const n=e.map(rb);pc.debug(`Firestore (${su}): ${t}`,...n)}}function ao(t,...e){if(pc.logLevel<=ss.ERROR){const n=e.map(rb);pc.error(`Firestore (${su}): ${t}`,...n)}}function Fd(t,...e){if(pc.logLevel<=ss.WARN){const n=e.map(rb);pc.warn(`Firestore (${su}): ${t}`,...n)}}function rb(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t="Unexpected state"){const e=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: `+t;throw ao(e),new Error(e)}function _s(t,e){t||It()}function Ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends mo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rr.UNAUTHENTICATED)))}shutdown(){}}class i7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class a7{constructor(e){this.t=e,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_s(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Za,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const u=a;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Za)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_s(typeof r.accessToken=="string"),new kT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _s(e===null||typeof e=="string"),new rr(e)}}class o7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class l7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new o7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(rr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class c7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_s(this.o===void 0);const r=a=>{a.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,it("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(_s(typeof n.token=="string"),this.R=n.token,new c7(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=u7(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function ps(t,e){return t<e?-1:t>e?1:0}function Bd(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new We(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new We(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new We(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xs.fromMillis(Date.now())}static fromDate(e){return Xs.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xs(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ps(this.nanoseconds,e.nanoseconds):ps(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Xs(0,0))}static max(){return new Mt(new Xs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r){n===void 0?n=0:n>e.length&&It(),r===void 0?r=e.length-n:r>e.length-n&&It(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $h.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $h?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ks extends $h{construct(e,n,r){return new ks(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new We(be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ks(n)}static emptyPath(){return new ks([])}}const h7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends $h{construct(e,n,r){return new Gn(e,n,r)}static isValidIdentifier(e){return h7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new We(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new We(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new We(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new We(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(n)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(ks.fromString(e))}static fromName(e){return new ht(ks.fromString(e).popFirst(5))}static empty(){return new ht(ks.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ks.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ks.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new ks(e.slice()))}}function m7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(r===1e9?new Xs(n+1,0):new Xs(n,r));return new dl(i,ht.empty(),e)}function p7(t){return new dl(t.readTime,t.key,-1)}class dl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dl(Mt.min(),ht.empty(),-1)}static max(){return new dl(Mt.max(),ht.empty(),-1)}}function f7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(t.documentKey,e.documentKey),n!==0?n:ps(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==g7)throw t;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&It(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ae(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ae?n:Ae.resolve(n)}catch(n){return Ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ae.reject(n)}static resolve(e){return new Ae(((n,r)=>{n(e)}))}static reject(e){return new Ae(((n,r)=>{r(e)}))}static waitFor(e){return new Ae(((n,r)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&n()}),(u=>r(u)))})),l=!0,a===i&&n()}))}static or(e){let n=Ae.resolve(!1);for(const r of e)n=n.next((i=>i?Ae.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new Ae(((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let u=0;u<a;u++){const h=u;n(e[h]).next((m=>{l[h]=m,++c,c===a&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Ae(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function v7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ib.oe=-1;function qg(t){return t==null}function ig(t){return t===0&&1/t==-1/0}function y7(t){return typeof t=="number"&&Number.isInteger(t)&&!ig(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _c(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new Gs(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new Gs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hp(this.root,e,this.comparator,!0)}}class Hp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:Un.RED,this.left=i!=null?i:Un.EMPTY,this.right=a!=null?a:Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Un(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw It();const e=this.left.check();if(e!==this.right.check())throw It();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw It()}get value(){throw It()}get color(){throw It()}get left(){throw It()}get right(){throw It()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e,this.data=new Gs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zj(this.data.getIterator())}getIteratorFrom(e){return new Zj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qn(this.comparator);return n.data=e,n}}class Zj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new si([])}unionWith(e){let n=new qn(Gn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bd(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException!="undefined"&&a instanceof DOMException?new AT("Invalid base64 string: "+a):a}})(e);return new Qn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ps(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qn.EMPTY_BYTE_STRING=new Qn("");const b7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ul(t){if(_s(!!t),typeof t=="string"){let e=0;const n=b7.exec(t);if(_s(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fc(t){return typeof t=="string"?Qn.fromBase64String(t):Qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ab(t){const e=t.mapValue.fields.__previous_value__;return Kg(e)?ab(e):e}function Oh(t){const e=ul(t.mapValue.fields.__local_write_time__.timestampValue);return new Xs(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n,r,i,a,l,c,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h}}class Vh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp={mapValue:{}};function gc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kg(t)?4:j7(t)?9007199254740991:w7(t)?10:11:It()}function ba(t,e){if(t===e)return!0;const n=gc(t);if(n!==gc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oh(t).isEqual(Oh(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ul(i.timestampValue),c=ul(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return fc(i.bytesValue).isEqual(fc(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return sn(i.geoPointValue.latitude)===sn(a.geoPointValue.latitude)&&sn(i.geoPointValue.longitude)===sn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return sn(i.integerValue)===sn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=sn(i.doubleValue),c=sn(a.doubleValue);return l===c?ig(l)===ig(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Bd(t.arrayValue.values||[],e.arrayValue.values||[],ba);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Jj(l)!==Jj(c))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(c[u]===void 0||!ba(l[u],c[u])))return!1;return!0})(t,e);default:return It()}}function Uh(t,e){return(t.values||[]).find((n=>ba(n,e)))!==void 0}function $d(t,e){if(t===e)return 0;const n=gc(t),r=gc(e);if(n!==r)return ps(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ps(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=sn(a.integerValue||a.doubleValue),u=sn(l.integerValue||l.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return eS(t.timestampValue,e.timestampValue);case 4:return eS(Oh(t),Oh(e));case 5:return ps(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=fc(a),u=fc(l);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),u=l.split("/");for(let h=0;h<c.length&&h<u.length;h++){const m=ps(c[h],u[h]);if(m!==0)return m}return ps(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=ps(sn(a.latitude),sn(l.latitude));return c!==0?c:ps(sn(a.longitude),sn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return tS(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var c,u,h,m;const f=a.fields||{},y=l.fields||{},b=(c=f.value)===null||c===void 0?void 0:c.arrayValue,_=(u=y.value)===null||u===void 0?void 0:u.arrayValue,S=ps(((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0,((m=_==null?void 0:_.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:tS(b,_)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Gp.mapValue&&l===Gp.mapValue)return 0;if(a===Gp.mapValue)return 1;if(l===Gp.mapValue)return-1;const c=a.fields||{},u=Object.keys(c),h=l.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let f=0;f<u.length&&f<m.length;++f){const y=ps(u[f],m[f]);if(y!==0)return y;const b=$d(c[u[f]],h[m[f]]);if(b!==0)return b}return ps(u.length,m.length)})(t.mapValue,e.mapValue);default:throw It()}}function eS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ps(t,e);const n=ul(t),r=ul(e),i=ps(n.seconds,r.seconds);return i!==0?i:ps(n.nanos,r.nanos)}function tS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=$d(n[i],r[i]);if(a)return a}return ps(n.length,r.length)}function Od(t){return U0(t)}function U0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ul(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return fc(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ht.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=U0(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${U0(n.fields[l])}`;return i+"}"})(t.mapValue):It()}function ag(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function z0(t){return!!t&&"integerValue"in t}function ob(t){return!!t&&"arrayValue"in t}function sS(t){return!!t&&"nullValue"in t}function nS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function w7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function xh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _c(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=xh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function j7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=Gn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=xh(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ba(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];If(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_c(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new $r(xh(this.value))}}function ET(t){const e=[];return _c(t.fields,((n,r)=>{const i=new Gn([n]);if(If(r)){const a=ET(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,r,i,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ar(e,0,Mt.min(),Mt.min(),Mt.min(),$r.empty(),0)}static newFoundDocument(e,n,r,i){return new ar(e,1,n,Mt.min(),r,i,0)}static newNoDocument(e,n){return new ar(e,2,n,Mt.min(),Mt.min(),$r.empty(),0)}static newUnknownDocument(e,n){return new ar(e,3,n,Mt.min(),Mt.min(),$r.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.position=e,this.inclusive=n}}function rS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ht.comparator(ht.fromName(l.referenceValue),n.key):r=$d(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ba(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n="asc"){this.field=e,this.dir=n}}function S7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class fn extends IT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new k7(e,n,r):n==="array-contains"?new A7(e,r):n==="in"?new E7(e,r):n==="not-in"?new I7(e,r):n==="array-contains-any"?new R7(e,r):new fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C7(e,r):new T7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($d(n,this.value)):n!==null&&gc(this.value)===gc(n)&&this.matchesComparison($d(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return It()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends IT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Wi(e,n)}matches(e){return RT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function RT(t){return t.op==="and"}function PT(t){return N7(t)&&RT(t)}function N7(t){for(const e of t.filters)if(e instanceof Wi)return!1;return!0}function H0(t){if(t instanceof fn)return t.field.canonicalString()+t.op.toString()+Od(t.value);if(PT(t))return t.filters.map((e=>H0(e))).join(",");{const e=t.filters.map((n=>H0(n))).join(",");return`${t.op}(${e})`}}function LT(t,e){return t instanceof fn?(function(r,i){return i instanceof fn&&r.op===i.op&&r.field.isEqual(i.field)&&ba(r.value,i.value)})(t,e):t instanceof Wi?(function(r,i){return i instanceof Wi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,c)=>a&&LT(l,i.filters[c])),!0):!1})(t,e):void It()}function DT(t){return t instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Od(n.value)}`})(t):t instanceof Wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"})(t):"Filter"}class k7 extends fn{constructor(e,n,r){super(e,n,r),this.key=ht.fromName(r.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class C7 extends fn{constructor(e,n){super(e,"in",n),this.keys=MT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class T7 extends fn{constructor(e,n){super(e,"not-in",n),this.keys=MT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function MT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>ht.fromName(r.referenceValue)))}class A7 extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ob(n)&&Uh(n.arrayValue,this.value)}}class E7 extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uh(this.value.arrayValue,n)}}class I7 extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uh(this.value.arrayValue,n)}}class R7 extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ob(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Uh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,n=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.ue=null}}function aS(t,e=null,n=[],r=[],i=null,a=null,l=null){return new P7(t,e,n,r,i,a,l)}function lb(t){const e=Ft(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>H0(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Od(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Od(r))).join(",")),e.ue=n}return e.ue}function cb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iS(t.startAt,e.startAt)&&iS(t.endAt,e.endAt)}function G0(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n=null,r=[],i=[],a=null,l="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function L7(t,e,n,r,i,a,l,c){return new po(t,e,n,r,i,a,l,c)}function db(t){return new po(t)}function oS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ub(t){return t.collectionGroup!==null}function Ed(t){const e=Ft(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new qn(Gn.comparator);return l.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new zh(a,r))})),n.has(Gn.keyField().canonicalString())||e.ce.push(new zh(Gn.keyField(),r))}return e.ce}function pa(t){const e=Ft(t);return e.le||(e.le=D7(e,Ed(t))),e.le}function D7(t,e){if(t.limitType==="F")return aS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new zh(i.field,a)}));const n=t.endAt?new Vd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vd(t.startAt.position,t.startAt.inclusive):null;return aS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W0(t,e){const n=t.filters.concat([e]);return new po(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function og(t,e,n){return new po(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qg(t,e){return cb(pa(t),pa(e))&&t.limitType===e.limitType}function FT(t){return`${lb(pa(t))}|lt:${t.limitType}`}function pd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>DT(i))).join(", ")}]`),qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Od(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Od(i))).join(",")),`Target(${r})`})(pa(t))}; limitType=${t.limitType})`}function Xg(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ht.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Ed(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,u){const h=rS(l,c,u);return l.inclusive?h<=0:h<0})(r.startAt,Ed(r),i)||r.endAt&&!(function(l,c,u){const h=rS(l,c,u);return l.inclusive?h>=0:h>0})(r.endAt,Ed(r),i))})(t,e)}function M7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BT(t){return(e,n)=>{let r=!1;for(const i of Ed(t)){const a=F7(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function F7(t,e,n){const r=t.field.isKeyField()?ht.comparator(e.key,n.key):(function(a,l,c){const u=l.data.field(a),h=c.data.field(a);return u!==null&&h!==null?$d(u,h):It()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return It()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_c(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return TT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7=new Gs(ht.comparator);function oo(){return B7}const $T=new Gs(ht.comparator);function ih(...t){let e=$T;for(const n of t)e=e.insert(n.key,n);return e}function OT(t){let e=$T;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function rc(){return vh()}function VT(){return vh()}function vh(){return new nu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const $7=new Gs(ht.comparator),O7=new qn(ht.comparator);function Zt(...t){let e=O7;for(const n of t)e=e.add(n);return e}const V7=new qn(ps);function U7(){return V7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ig(e)?"-0":e}}function UT(t){return{integerValue:""+t}}function z7(t,e){return y7(e)?UT(e):hb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function H7(t,e,n){return t instanceof Hh?(function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Kg(a)&&(a=ab(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}})(n,e):t instanceof Gh?HT(t,e):t instanceof Wh?GT(t,e):(function(i,a){const l=zT(i,a),c=lS(l)+lS(i.Pe);return z0(l)&&z0(i.Pe)?UT(c):hb(i.serializer,c)})(t,e)}function G7(t,e,n){return t instanceof Gh?HT(t,e):t instanceof Wh?GT(t,e):n}function zT(t,e){return t instanceof lg?(function(r){return z0(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Hh extends Yg{}class Gh extends Yg{constructor(e){super(),this.elements=e}}function HT(t,e){const n=WT(e);for(const r of t.elements)n.some((i=>ba(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Wh extends Yg{constructor(e){super(),this.elements=e}}function GT(t,e){let n=WT(e);for(const r of t.elements)n=n.filter((i=>!ba(i,r)));return{arrayValue:{values:n}}}class lg extends Yg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function lS(t){return sn(t.integerValue||t.doubleValue)}function WT(t){return ob(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n){this.field=e,this.transform=n}}function q7(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Gh&&i instanceof Gh||r instanceof Wh&&i instanceof Wh?Bd(r.elements,i.elements,ba):r instanceof lg&&i instanceof lg?ba(r.Pe,i.Pe):r instanceof Hh&&i instanceof Hh})(t.transform,e.transform)}class K7{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jg{}function qT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mb(t.key,_i.none()):new dm(t.key,t.data,_i.none());{const n=t.data,r=$r.empty();let i=new qn(Gn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new gl(t.key,r,new si(i.toArray()),_i.none())}}function Q7(t,e,n){t instanceof dm?(function(i,a,l){const c=i.value.clone(),u=dS(i.fieldTransforms,a,l.transformResults);c.setAll(u),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof gl?(function(i,a,l){if(!Rf(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=dS(i.fieldTransforms,a,l.transformResults),u=a.data;u.setAll(KT(i)),u.setAll(c),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function yh(t,e,n,r){return t instanceof dm?(function(a,l,c,u){if(!Rf(a.precondition,l))return c;const h=a.value.clone(),m=uS(a.fieldTransforms,u,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof gl?(function(a,l,c,u){if(!Rf(a.precondition,l))return c;const h=uS(a.fieldTransforms,u,l),m=l.data;return m.setAll(KT(a)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((f=>f.field)))})(t,e,n,r):(function(a,l,c){return Rf(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function X7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=zT(r.transform,i||null);a!=null&&(n===null&&(n=$r.empty()),n.set(r.field,a))}return n||null}function cS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bd(r,i,((a,l)=>q7(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dm extends Jg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gl extends Jg{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function KT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function dS(t,e,n){const r=new Map;_s(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,G7(l,c,n[i]))}return r}function uS(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,H7(a,l,e))}return r}class mb extends Jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y7 extends Jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Q7(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VT();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(i.key)?null:c;const u=qT(l,c);u!==null&&r.set(i.key,u),l.isValidDocument()||l.convertToNoDocument(Mt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Zt())}isEqual(e){return this.batchId===e.batchId&&Bd(this.mutations,e.mutations,((n,r)=>cS(n,r)))&&Bd(this.baseMutations,e.baseMutations,((n,r)=>cS(n,r)))}}class pb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_s(e.mutations.length===r.length);let i=(function(){return $7})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new pb(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,as;function tB(t){switch(t){default:return It();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function QT(t){if(t===void 0)return ao("GRPC error has no .code"),be.UNKNOWN;switch(t){case dn.OK:return be.OK;case dn.CANCELLED:return be.CANCELLED;case dn.UNKNOWN:return be.UNKNOWN;case dn.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case dn.INTERNAL:return be.INTERNAL;case dn.UNAVAILABLE:return be.UNAVAILABLE;case dn.UNAUTHENTICATED:return be.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case dn.NOT_FOUND:return be.NOT_FOUND;case dn.ALREADY_EXISTS:return be.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return be.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case dn.ABORTED:return be.ABORTED;case dn.OUT_OF_RANGE:return be.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return be.UNIMPLEMENTED;case dn.DATA_LOSS:return be.DATA_LOSS;default:return It()}}(as=dn||(dn={}))[as.OK=0]="OK",as[as.CANCELLED=1]="CANCELLED",as[as.UNKNOWN=2]="UNKNOWN",as[as.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",as[as.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",as[as.NOT_FOUND=5]="NOT_FOUND",as[as.ALREADY_EXISTS=6]="ALREADY_EXISTS",as[as.PERMISSION_DENIED=7]="PERMISSION_DENIED",as[as.UNAUTHENTICATED=16]="UNAUTHENTICATED",as[as.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",as[as.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",as[as.ABORTED=10]="ABORTED",as[as.OUT_OF_RANGE=11]="OUT_OF_RANGE",as[as.UNIMPLEMENTED=12]="UNIMPLEMENTED",as[as.INTERNAL=13]="INTERNAL",as[as.UNAVAILABLE=14]="UNAVAILABLE",as[as.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=new oc([4294967295,4294967295],0);function hS(t){const e=sB().encode(t),n=new bT;return n.update(e),new Uint8Array(n.digest())}function mS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new oc([n,r],0),new oc([i,a],0)]}class fb{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ah(`Invalid padding: ${n}`);if(r<0)throw new ah(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ah(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ah(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=oc.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(oc.fromNumber(r)));return i.compare(nB)===1&&(i=new oc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=hS(e),[r,i]=mS(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);if(!this.de(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new fb(a,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.Ie===0)return;const n=hS(e),[r,i]=mS(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,um.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zg(Mt.min(),i,new Gs(ps),oo(),Zt())}}class um{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new um(r,n,Zt(),Zt(),Zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class XT{constructor(e,n){this.targetId=e,this.me=n}}class YT{constructor(e,n,r=Qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pS{constructor(){this.fe=0,this.ge=gS(),this.pe=Qn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Zt(),n=Zt(),r=Zt();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:It()}})),new um(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=gS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_s(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rB{constructor(e){this.Le=e,this.Be=new Map,this.ke=oo(),this.qe=fS(),this.Qe=new Gs(ps)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:It()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(G0(a))if(r===0){const l=new ht(a.path);this.Ue(n,l,ar.newNoDocument(l,Mt.min()))}else _s(r===1);else{const l=this.Ye(n);if(l!==r){const c=this.Ze(e),u=c?this.Xe(c,e,l):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,c;try{l=fc(r).toUint8Array()}catch(u){if(u instanceof AT)return Fd("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new fb(l,i,a)}catch(u){return Fd(u instanceof ah?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Le.tt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,a,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((a,l)=>{const c=this.Je(l);if(c){if(a.current&&G0(c.target)){const u=new ht(c.target.path);this.ke.get(u)!==null||this.it(l,u)||this.Ue(l,u,ar.newNoDocument(u,e))}a.be&&(n.set(l,a.ve()),a.Ce())}}));let r=Zt();this.qe.forEach(((a,l)=>{let c=!0;l.forEachWhile((u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.ke.forEach(((a,l)=>l.setReadTime(e)));const i=new Zg(e,n,this.Qe,this.ke,r);return this.ke=oo(),this.qe=fS(),this.Qe=new Gs(ps),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new pS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qn(ps),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||it("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pS),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function fS(){return new Gs(ht.comparator)}function gS(){return new Gs(ht.comparator)}const iB={asc:"ASCENDING",desc:"DESCENDING"},aB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oB={and:"AND",or:"OR"};class lB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function q0(t,e){return t.useProto3Json||qg(e)?e:{value:e}}function cg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cB(t,e){return cg(t,e.toTimestamp())}function fa(t){return _s(!!t),Mt.fromTimestamp((function(n){const r=ul(n);return new Xs(r.seconds,r.nanos)})(t))}function gb(t,e){return K0(t,e).canonicalString()}function K0(t,e){const n=(function(i){return new ks(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZT(t){const e=ks.fromString(t);return _s(r5(e)),e}function Q0(t,e){return gb(t.databaseId,e.path)}function dy(t,e){const n=ZT(e);if(n.get(1)!==t.databaseId.projectId)throw new We(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new We(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ht(t5(n))}function e5(t,e){return gb(t.databaseId,e)}function dB(t){const e=ZT(t);return e.length===4?ks.emptyPath():t5(e)}function X0(t){return new ks(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function t5(t){return _s(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xS(t,e,n){return{name:Q0(t,e),fields:n.value.mapValue.fields}}function uB(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:It()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,m){return h.useProto3Json?(_s(m===void 0||typeof m=="string"),Qn.fromBase64String(m||"")):(_s(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Qn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const m=h.code===void 0?be.UNKNOWN:QT(h.code);return new We(m,h.message||"")})(l);n=new YT(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dy(t,r.document.name),a=fa(r.document.updateTime),l=r.document.createTime?fa(r.document.createTime):Mt.min(),c=new $r({mapValue:{fields:r.document.fields}}),u=ar.newFoundDocument(i,a,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Pf(h,m,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dy(t,r.document),a=r.readTime?fa(r.readTime):Mt.min(),l=ar.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Pf([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dy(t,r.document),a=r.removedTargetIds||[];n=new Pf([],a,i,null)}else{if(!("filter"in e))return It();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new eB(i,a),c=r.targetId;n=new XT(c,l)}}return n}function hB(t,e){let n;if(e instanceof dm)n={update:xS(t,e.key,e.value)};else if(e instanceof mb)n={delete:Q0(t,e.key)};else if(e instanceof gl)n={update:xS(t,e.key,e.data),updateMask:_B(e.fieldMask)};else{if(!(e instanceof Y7))return It();n={verify:Q0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Hh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Wh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lg)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw It()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:cB(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:It()})(t,e.precondition)),n}function mB(t,e){return t&&t.length>0?(_s(e!==void 0),t.map((n=>(function(i,a){let l=i.updateTime?fa(i.updateTime):fa(a);return l.isEqual(Mt.min())&&(l=fa(a)),new K7(l,i.transformResults||[])})(n,e)))):[]}function pB(t,e){return{documents:[e5(t,e.path)]}}function fB(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=e5(t,i);const a=(function(h){if(h.length!==0)return n5(Wi.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((m=>(function(y){return{field:fd(y.field),direction:vB(y.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=q0(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{_t:n,parent:i}}function gB(t){let e=dB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_s(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=(function(f){const y=s5(f);return y instanceof Wi&&PT(y)?y.getFilters():[y]})(n.where));let l=[];n.orderBy&&(l=(function(f){return f.map((y=>(function(_){return new zh(gd(_.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(f){let y;return y=typeof f=="object"?f.value:f,qg(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(f){const y=!!f.before,b=f.values||[];return new Vd(b,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(f){const y=!f.before,b=f.values||[];return new Vd(b,y)})(n.endAt)),L7(e,i,l,a,c,"F",u,h)}function xB(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s5(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gd(n.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gd(n.unaryFilter.field);return fn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gd(n.unaryFilter.field);return fn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=gd(n.unaryFilter.field);return fn.create(l,"!=",{nullValue:"NULL_VALUE"});default:return It()}})(t):t.fieldFilter!==void 0?(function(n){return fn.create(gd(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return It()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Wi.create(n.compositeFilter.filters.map((r=>s5(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return It()}})(n.compositeFilter.op))})(t):It()}function vB(t){return iB[t]}function yB(t){return aB[t]}function bB(t){return oB[t]}function fd(t){return{fieldPath:t.canonicalString()}}function gd(t){return Gn.fromServerFormat(t.fieldPath)}function n5(t){return t instanceof fn?(function(n){if(n.op==="=="){if(nS(n.value))return{unaryFilter:{field:fd(n.field),op:"IS_NAN"}};if(sS(n.value))return{unaryFilter:{field:fd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nS(n.value))return{unaryFilter:{field:fd(n.field),op:"IS_NOT_NAN"}};if(sS(n.value))return{unaryFilter:{field:fd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fd(n.field),op:yB(n.op),value:n.value}}})(t):t instanceof Wi?(function(n){const r=n.getFilters().map((i=>n5(i)));return r.length===1?r[0]:{compositeFilter:{op:bB(n.op),filters:r}}})(t):It()}function _B(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function r5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,r,i,a=Mt.min(),l=Mt.min(),c=Qn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new el(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new el(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e){this.ct=e}}function jB(t){const e=gB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.un=new NB}addToCollectionParentIndex(e,n){return this.un.add(n),Ae.resolve()}getCollectionParents(e,n){return Ae.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ae.resolve()}deleteFieldIndex(e,n){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,n){return Ae.resolve()}getDocumentsMatchingTarget(e,n){return Ae.resolve(null)}getIndexType(e,n){return Ae.resolve(0)}getFieldIndexes(e,n){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,n){return Ae.resolve(dl.min())}getMinOffsetFromCollectionGroup(e,n){return Ae.resolve(dl.min())}updateCollectionGroup(e,n,r){return Ae.resolve()}updateIndexEntries(e,n){return Ae.resolve()}}class NB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qn(ks.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qn(ks.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ud(0)}static kn(){return new Ud(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(){this.changes=new nu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&yh(r.mutation,i,si.empty(),Xs.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Zt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Zt()){const i=rc();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=ih();return a.forEach(((c,u)=>{l=l.insert(c,u.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=rc();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Zt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let a=oo();const l=vh(),c=(function(){return vh()})();return n.forEach(((u,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof gl)?a=a.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),yh(m.mutation,h,m.mutation.getFieldMask(),Xs.now())):l.set(h.key,si.empty())})),this.recalculateAndSaveOverlays(e,a).next((u=>(u.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>{var f;return c.set(h,new CB(m,(f=l.get(h))!==null&&f!==void 0?f:null))})),c)))}recalculateAndSaveOverlays(e,n){const r=vh();let i=new Gs(((l,c)=>l-c)),a=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let m=r.get(u)||si.empty();m=c.applyToLocalView(h,m),r.set(u,m);const f=(i.get(c.batchId)||Zt()).add(u);i=i.insert(c.batchId,f)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,m=u.value,f=VT();m.forEach((y=>{if(!a.has(y)){const b=qT(n.get(y),r.get(y));b!==null&&f.set(y,b),a=a.add(y)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,f))}return Ae.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return ht.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ub(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):Ae.resolve(rc());let c=-1,u=a;return l.next((h=>Ae.forEach(h,((m,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),a.get(m)?Ae.resolve():this.remoteDocumentCache.getEntry(e,m).next((y=>{u=u.insert(m,y)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,u,h,Zt()))).next((m=>({batchId:c,changes:OT(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next((r=>{let i=ih();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=ih();return this.indexManager.getCollectionParents(e,a).next((c=>Ae.forEach(c,(u=>{const h=(function(f,y){return new po(y,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((f,y)=>{l=l.insert(f,y)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((u,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,ar.newInvalidDocument(m)))}));let c=ih();return l.forEach(((u,h)=>{const m=a.get(u);m!==void 0&&yh(m.mutation,h,si.empty(),Xs.now()),Xg(n,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ae.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:fa(i.createTime)}})(n)),Ae.resolve()}getNamedQuery(e,n){return Ae.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:jB(i.bundledQuery),readTime:fa(i.readTime)}})(n)),Ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.overlays=new Gs(ht.comparator),this.Ir=new Map}getOverlay(e,n){return Ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rc();return Ae.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.ht(e,n,a)})),Ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(r)),Ae.resolve()}getOverlaysForCollection(e,n,r){const i=rc(),a=n.length+1,l=new ht(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Gs(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=rc(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=rc(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return Ae.resolve(c)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Z7(n,r));let a=this.Ir.get(n);a===void 0&&(a=Zt(),this.Ir.set(n,a)),this.Ir.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.Tr=new qn(En.Er),this.dr=new qn(En.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new En(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new En(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new ht(new ks([])),r=new En(n,e),i=new En(n,e+1),a=[];return this.dr.forEachInRange([r,i],(l=>{this.Vr(l),a.push(l.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ht(new ks([])),r=new En(n,e),i=new En(n,e+1);let a=Zt();return this.dr.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new En(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class En{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ht.comparator(e.key,n.key)||ps(e.wr,n.wr)}static Ar(e,n){return ps(e.wr,n.wr)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qn(En.Er)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new J7(a,n,r,i);this.mutationQueue.push(l);for(const c of i)this.br=this.br.add(new En(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ae.resolve(l)}lookupMutationBatch(e,n){return Ae.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),a=i<0?0:i;return Ae.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new En(n,0),i=new En(n,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([r,i],(l=>{const c=this.Dr(l.wr);a.push(c)})),Ae.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qn(ps);return n.forEach((i=>{const a=new En(i,0),l=new En(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,l],(c=>{r=r.add(c.wr)}))})),Ae.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ht.isDocumentKey(a)||(a=a.child(""));const l=new En(new ht(a),0);let c=new qn(ps);return this.br.forEachWhile((u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(u.wr)),!0)}),l),Ae.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){_s(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ae.forEach(n.mutations,(i=>{const a=new En(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new En(n,0),i=this.br.firstAfterOrEqual(r);return Ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.Mr=e,this.docs=(function(){return new Gs(ht.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ae.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(n))}getEntries(e,n){let r=oo();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ar.newInvalidDocument(i))})),Ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=oo();const l=n.path,c=new ht(l.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||f7(p7(m),r)<=0||(i.has(m.key)||Xg(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return Ae.resolve(a)}getAllFromCollectionGroup(e,n,r,i){It()}Or(e,n){return Ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new LB(this)}getSize(e){return Ae.resolve(this.size)}}class LB extends kB{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),Ae.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e){this.persistence=e,this.Nr=new nu((n=>lb(n)),cb),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xb,this.targetCount=0,this.kr=Ud.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ae.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ud(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ae.resolve()}updateTargetData(e,n){return this.Kn(n),Ae.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Nr.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Ae.waitFor(a).next((()=>i))}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ae.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ae.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),Ae.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ae.resolve(r)}containsKey(e,n){return Ae.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ib(0),this.Kr=!1,this.Kr=!0,this.$r=new IB,this.referenceDelegate=e(this),this.Ur=new DB(this),this.indexManager=new SB,this.remoteDocumentCache=(function(i){return new PB(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new wB(n),this.Gr=new AB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new RB(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){it("MemoryPersistence","Starting transaction:",e);const i=new FB(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,n){return Ae.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class FB extends x7{constructor(e){super(),this.currentSequenceNumber=e}}class vb{constructor(e){this.persistence=e,this.Jr=new xb,this.Yr=null}static Zr(e){return new vb(e)}get Xr(){if(this.Yr)return this.Yr;throw It()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ae.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ae.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.Xr,(r=>{const i=ht.fromPath(r);return this.ei(e,i).next((a=>{a||n.removeEntry(i,Mt.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return Ae.or([()=>Ae.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Zt(),i=Zt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return B8()?8:v7(or())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Yi(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.Zi(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new BB;return this.Xi(e,n,l).next((c=>{if(a.result=c,this.zi)return this.es(e,n,l,c.size)}))})).next((()=>a.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(Wu()<=ss.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",pd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ae.resolve()):(Wu()<=ss.DEBUG&&it("QueryEngine","Query:",pd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wu()<=ss.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",pd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pa(n))):Ae.resolve())}Yi(e,n){if(oS(n))return Ae.resolve(null);let r=pa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=og(n,null,"F"),r=pa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Zt(...a);return this.Ji.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const h=this.ts(n,c);return this.ns(n,h,l,u.readTime)?this.Yi(e,og(n,null,"F")):this.rs(e,h,n,u)}))))})))))}Zi(e,n,r,i){return oS(n)||i.isEqual(Mt.min())?Ae.resolve(null):this.Ji.getDocuments(e,r).next((a=>{const l=this.ts(n,a);return this.ns(n,l,r,i)?Ae.resolve(null):(Wu()<=ss.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pd(n)),this.rs(e,l,n,m7(i,-1)).next((c=>c)))}))}ts(e,n){let r=new qn(BT(e));return n.forEach(((i,a)=>{Xg(e,a)&&(r=r.add(a))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,n,r){return Wu()<=ss.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",pd(n)),this.Ji.getDocumentsMatchingQuery(e,n,dl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Gs(ps),this._s=new nu((a=>lb(a)),cb),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TB(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function VB(t,e,n,r){return new OB(t,e,n,r)}async function i5(t,e){const n=Ft(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let u=Zt();for(const h of i){l.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}return n.localDocuments.getDocuments(r,u).next((h=>({hs:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function UB(t,e){const n=Ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.cs.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,m){const f=h.batch,y=f.keys();let b=Ae.resolve();return y.forEach((_=>{b=b.next((()=>m.getEntry(u,_))).next((S=>{const k=h.docVersions.get(_);_s(k!==null),S.version.compareTo(k)<0&&(f.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),m.addEntry(S)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(u,f)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=Zt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function a5(t){const e=Ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function zB(t,e){const n=Ft(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const c=[];e.targetChanges.forEach(((m,f)=>{const y=i.get(f);if(!y)return;c.push(n.Ur.removeMatchingKeys(a,m.removedDocuments,f).next((()=>n.Ur.addMatchingKeys(a,m.addedDocuments,f))));let b=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(f)!==null?b=b.withResumeToken(Qn.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):m.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(m.resumeToken,r)),i=i.insert(f,b),(function(S,k,P){return S.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(y,b,m)&&c.push(n.Ur.updateTargetData(a,b))}));let u=oo(),h=Zt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))})),c.push(HB(a,l,e.documentUpdates).next((m=>{u=m.Ps,h=m.Is}))),!r.isEqual(Mt.min())){const m=n.Ur.getLastRemoteSnapshotVersion(a).next((f=>n.Ur.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(m)}return Ae.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,u,h))).next((()=>u))})).then((a=>(n.os=i,a)))}function HB(t,e,n){let r=Zt(),i=Zt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=oo();return n.forEach(((c,u)=>{const h=a.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Mt.min())?(e.removeEntry(c,u.readTime),l=l.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),l=l.insert(c,u)):it("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{Ps:l,Is:i}}))}function GB(t,e){const n=Ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function WB(t,e){const n=Ft(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((a=>a?(i=a,Ae.resolve(i)):n.Ur.allocateTargetId(r).next((l=>(i=new el(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function Y0(t,e,n){const r=Ft(t),i=r.os.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!cm(l))throw l;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function vS(t,e,n){const r=Ft(t);let i=Mt.min(),a=Zt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(u,h,m){const f=Ft(u),y=f._s.get(m);return y!==void 0?Ae.resolve(f.os.get(y)):f.Ur.getTargetData(h,m)})(r,l,pa(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(l,c.targetId).next((u=>{a=u}))})).next((()=>r.ss.getDocumentsMatchingQuery(l,e,n?i:Mt.min(),n?a:Zt()))).next((c=>(qB(r,M7(e),c),{documents:c,Ts:a})))))}function qB(t,e,n){let r=t.us.get(e)||Mt.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.us.set(e,r)}class yS{constructor(){this.activeTargetIds=U7()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KB{constructor(){this.so=new yS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wp=null;function uy(){return Wp===null?Wp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wp++,"0x"+Wp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="WebChannelConnection";class JB extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(n,r,i,a,l){const c=uy(),u=this.xo(n,r.toUriEncodedString());it("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,a,l),this.No(n,u,h,i).then((m=>(it("RestConnection",`Received RPC '${n}' ${c}: `,m),m)),(m=>{throw Fd("RestConnection",`RPC '${n}' ${c} failed with error: `,m,"url: ",u,"request:",i),m}))}Lo(n,r,i,a,l,c){return this.Mo(n,r,i,a,l)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+su})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,l)=>n[l]=a)),i&&i.headers.forEach(((a,l)=>n[l]=a))}xo(n,r){const i=XB[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const a=uy();return new Promise(((l,c)=>{const u=new _T;u.setWithCredentials(!0),u.listenOnce(wT.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case Ef.NO_ERROR:const m=u.getResponseJson();it(sr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Ef.TIMEOUT:it(sr,`RPC '${e}' ${a} timed out`),c(new We(be.DEADLINE_EXCEEDED,"Request time out"));break;case Ef.HTTP_ERROR:const f=u.getStatus();if(it(sr,`RPC '${e}' ${a} failed with status:`,f,"response text:",u.getResponseText()),f>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const _=(function(k){const P=k.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(P)>=0?P:be.UNKNOWN})(b.status);c(new We(_,b.message))}else c(new We(be.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new We(be.UNAVAILABLE,"Connection failed."));break;default:It()}}finally{it(sr,`RPC '${e}' ${a} completed.`)}}));const h=JSON.stringify(i);it(sr,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",h,r,15)}))}Bo(e,n,r){const i=uy(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=NT(),c=ST(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const m=a.join("");it(sr,`Creating RPC '${e}' stream ${i}: ${m}`,u);const f=l.createWebChannel(m,u);let y=!1,b=!1;const _=new YB({Io:k=>{b?it(sr,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(y||(it(sr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),y=!0),it(sr,`RPC '${e}' stream ${i} sending:`,k),f.send(k))},To:()=>f.close()}),S=(k,P,D)=>{k.listen(P,(A=>{try{D(A)}catch(v){setTimeout((()=>{throw v}),0)}}))};return S(f,rh.EventType.OPEN,(()=>{b||(it(sr,`RPC '${e}' stream ${i} transport opened.`),_.yo())})),S(f,rh.EventType.CLOSE,(()=>{b||(b=!0,it(sr,`RPC '${e}' stream ${i} transport closed`),_.So())})),S(f,rh.EventType.ERROR,(k=>{b||(b=!0,Fd(sr,`RPC '${e}' stream ${i} transport errored:`,k),_.So(new We(be.UNAVAILABLE,"The operation could not be completed")))})),S(f,rh.EventType.MESSAGE,(k=>{var P;if(!b){const D=k.data[0];_s(!!D);const A=D,v=A.error||((P=A[0])===null||P===void 0?void 0:P.error);if(v){it(sr,`RPC '${e}' stream ${i} received error:`,v);const w=v.status;let L=(function(E){const F=dn[E];if(F!==void 0)return QT(F)})(w),C=v.message;L===void 0&&(L=be.INTERNAL,C="Unknown error status: "+w+" with message "+v.message),b=!0,_.So(new We(L,C)),f.close()}else it(sr,`RPC '${e}' stream ${i} received:`,D),_.bo(D)}})),S(c,jT.STAT_EVENT,(k=>{k.stat===V0.PROXY?it(sr,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===V0.NOPROXY&&it(sr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.wo()}),0),_}}function hy(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){return new lB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&it("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n,r,i,a,l,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new o5(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(ao(n.toString()),ao("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new We(be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZB extends l5{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=uB(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Mt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Mt.min():l.readTime?fa(l.readTime):Mt.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=X0(this.serializer),n.addTarget=(function(a,l){let c;const u=l.target;if(c=G0(u)?{documents:pB(a,u)}:{query:fB(a,u)._t},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=JT(a,l.resumeToken);const h=q0(a,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Mt.min())>0){c.readTime=cg(a,l.snapshotVersion.toTimestamp());const h=q0(a,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=xB(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=X0(this.serializer),n.removeTarget=e,this.a_(n)}}class e$ extends l5{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return _s(!!e.streamToken),this.lastStreamToken=e.streamToken,_s(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_s(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=mB(e.writeResults,e.commitTime),r=fa(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=X0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>hB(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t$ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new We(be.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Mo(e,K0(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new We(be.UNKNOWN,a.toString())}))}Lo(e,n,r,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Lo(e,K0(n,r),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new We(be.UNKNOWN,l.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class s${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ao(n),this.D_=!1):it("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((l=>{r.enqueueAndForget((async()=>{wc(this)&&(it("RemoteStore","Restarting streams for network reachability change."),await(async function(u){const h=Ft(u);h.L_.add(4),await hm(h),h.q_.set("Unknown"),h.L_.delete(4),await tx(h)})(this))}))})),this.q_=new s$(r,i)}}async function tx(t){if(wc(t))for(const e of t.B_)await e(!0)}async function hm(t){for(const e of t.B_)await e(!1)}function c5(t,e){const n=Ft(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),jb(n)?wb(n):ru(n).r_()&&_b(n,e))}function bb(t,e){const n=Ft(t),r=ru(n);n.N_.delete(e),r.r_()&&d5(n,e),n.N_.size===0&&(r.r_()?r.o_():wc(n)&&n.q_.set("Unknown"))}function _b(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ru(t).A_(e)}function d5(t,e){t.Q_.xe(e),ru(t).R_(e)}function wb(t){t.Q_=new rB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ru(t).start(),t.q_.v_()}function jb(t){return wc(t)&&!ru(t).n_()&&t.N_.size>0}function wc(t){return Ft(t).L_.size===0}function u5(t){t.Q_=void 0}async function r$(t){t.q_.set("Online")}async function i$(t){t.N_.forEach(((e,n)=>{_b(t,e)}))}async function a$(t,e){u5(t),jb(t)?(t.q_.M_(e),wb(t)):t.q_.set("Unknown")}async function o$(t,e,n){if(t.q_.set("Online"),e instanceof YT&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.N_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.N_.delete(c),i.Q_.removeTarget(c))})(t,e)}catch(r){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dg(t,r)}else if(e instanceof Pf?t.Q_.Ke(e):e instanceof XT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Mt.min()))try{const r=await a5(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.Q_.rt(l);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const m=a.N_.get(h);m&&a.N_.set(h,m.withResumeToken(u.resumeToken,l))}})),c.targetMismatches.forEach(((u,h)=>{const m=a.N_.get(u);if(!m)return;a.N_.set(u,m.withResumeToken(Qn.EMPTY_BYTE_STRING,m.snapshotVersion)),d5(a,u);const f=new el(m.target,u,h,m.sequenceNumber);_b(a,f)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){it("RemoteStore","Failed to raise snapshot:",r),await dg(t,r)}}async function dg(t,e,n){if(!cm(e))throw e;t.L_.add(1),await hm(t),t.q_.set("Offline"),n||(n=()=>a5(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{it("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await tx(t)}))}function h5(t,e){return e().catch((n=>dg(t,n,e)))}async function sx(t){const e=Ft(t),n=hl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;l$(e);)try{const i=await GB(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,c$(e,i)}catch(i){await dg(e,i)}m5(e)&&p5(e)}function l$(t){return wc(t)&&t.O_.length<10}function c$(t,e){t.O_.push(e);const n=hl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function m5(t){return wc(t)&&!hl(t).n_()&&t.O_.length>0}function p5(t){hl(t).start()}async function d$(t){hl(t).p_()}async function u$(t){const e=hl(t);for(const n of t.O_)e.m_(n.mutations)}async function h$(t,e,n){const r=t.O_.shift(),i=pb.from(r,e,n);await h5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await sx(t)}async function m$(t,e){e&&hl(t).V_&&await(async function(r,i){if((function(l){return tB(l)&&l!==be.ABORTED})(i.code)){const a=r.O_.shift();hl(r).s_(),await h5(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await sx(r)}})(t,e),m5(t)&&p5(t)}async function _S(t,e){const n=Ft(t);n.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const r=wc(n);n.L_.add(3),await hm(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await tx(n)}async function p$(t,e){const n=Ft(t);e?(n.L_.delete(2),await tx(n)):e||(n.L_.add(2),await hm(n),n.q_.set("Unknown"))}function ru(t){return t.K_||(t.K_=(function(n,r,i){const a=Ft(n);return a.w_(),new ZB(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:r$.bind(null,t),Ro:i$.bind(null,t),mo:a$.bind(null,t),d_:o$.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),jb(t)?wb(t):t.q_.set("Unknown")):(await t.K_.stop(),u5(t))}))),t.K_}function hl(t){return t.U_||(t.U_=(function(n,r,i){const a=Ft(n);return a.w_(),new e$(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:d$.bind(null,t),mo:m$.bind(null,t),f_:u$.bind(null,t),g_:h$.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await sx(t)):(await t.U_.stop(),t.O_.length>0&&(it("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,c=new Sb(e,n,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new We(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nb(t,e){if(ao("AsyncQueue",`${e}: ${t}`),cm(t))return new We(be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=ih(),this.sortedSet=new Gs(this.comparator)}static emptySet(e){return new Id(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Id)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Id;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.W_=new Gs(ht.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):It():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class zd{constructor(e,n,r,i,a,l,c,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new zd(e,n,Id.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class g${constructor(){this.queries=jS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ft(n),a=i.queries;i.queries=jS(),a.forEach(((l,c)=>{for(const u of c.j_)u.onError(r)}))})(this,new We(be.ABORTED,"Firestore shutting down"))}}function jS(){return new nu((t=>FT(t)),Qg)}async function f5(t,e){const n=Ft(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.H_()&&e.J_()&&(r=2):(a=new f$,r=e.J_()?0:1);try{switch(r){case 0:a.z_=await n.onListen(i,!0);break;case 1:a.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Nb(l,`Initialization of query '${pd(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.j_.push(e),e.Z_(n.onlineState),a.z_&&e.X_(a.z_)&&kb(n)}async function g5(t,e){const n=Ft(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.j_.indexOf(e);l>=0&&(a.j_.splice(l,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x$(t,e){const n=Ft(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const c of l.j_)c.X_(i)&&(r=!0);l.z_=i}}r&&kb(n)}function v$(t,e,n){const r=Ft(t),i=r.queries.get(e);if(i)for(const a of i.j_)a.onError(n);r.queries.delete(e)}function kb(t){t.Y_.forEach((e=>{e.next()}))}var J0,SS;(SS=J0||(J0={})).ea="default",SS.Cache="cache";class x5{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==J0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.key=e}}class y5{constructor(e){this.key=e}}class y${constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Zt(),this.mutatedKeys=Zt(),this.Aa=BT(e),this.Ra=new Id(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new wS,i=n?n.Ra:this.Ra;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,f)=>{const y=i.get(m),b=Xg(this.query,f)?f:null,_=!!y&&this.mutatedKeys.has(y.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let k=!1;y&&b?y.data.isEqual(b.data)?_!==S&&(r.track({type:3,doc:b}),k=!0):this.ga(y,b)||(r.track({type:2,doc:b}),k=!0,(u&&this.Aa(b,u)>0||h&&this.Aa(b,h)<0)&&(c=!0)):!y&&b?(r.track({type:0,doc:b}),k=!0):y&&!b&&(r.track({type:1,doc:y}),k=!0,(u||h)&&(c=!0)),k&&(b?(l=l.add(b),a=S?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Ra:l,fa:r,ns:c,mutatedKeys:a}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const l=e.fa.G_();l.sort(((m,f)=>(function(b,_){const S=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It()}};return S(b)-S(_)})(m.type,f.type)||this.Aa(m.doc,f.doc))),this.pa(r),i=i!=null&&i;const c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,h=u!==this.Ea;return this.Ea=u,l.length!==0||h?{snapshot:new zd(this.query,e.Ra,a,l,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wS,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Zt(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new y5(r))})),this.da.forEach((r=>{e.has(r)||n.push(new v5(r))})),n}ba(e){this.Ta=e.Ts,this.da=Zt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return zd.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class b${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _${constructor(e){this.key=e,this.va=!1}}class w${constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new nu((c=>FT(c)),Qg),this.Ma=new Map,this.xa=new Set,this.Oa=new Gs(ht.comparator),this.Na=new Map,this.La=new xb,this.Ba={},this.ka=new Map,this.qa=Ud.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function j$(t,e,n=!0){const r=N5(t);let i;const a=r.Fa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await b5(r,e,n,!0),i}async function S$(t,e){const n=N5(t);await b5(n,e,!0,!1)}async function b5(t,e,n,r){const i=await WB(t.localStore,pa(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await N$(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&c5(t.remoteStore,i),c}async function N$(t,e,n,r,i){t.Ka=(f,y,b)=>(async function(S,k,P,D){let A=k.view.ma(P);A.ns&&(A=await vS(S.localStore,k.query,!1).then((({documents:C})=>k.view.ma(C,A))));const v=D&&D.targetChanges.get(k.targetId),w=D&&D.targetMismatches.get(k.targetId)!=null,L=k.view.applyChanges(A,S.isPrimaryClient,v,w);return kS(S,k.targetId,L.wa),L.snapshot})(t,f,y,b);const a=await vS(t.localStore,e,!0),l=new y$(e,a.Ts),c=l.ma(a.documents),u=um.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,u);kS(t,n,h.wa);const m=new b$(e,n,l);return t.Fa.set(e,m),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function k$(t,e,n){const r=Ft(t),i=r.Fa.get(e),a=r.Ma.get(i.targetId);if(a.length>1)return r.Ma.set(i.targetId,a.filter((l=>!Qg(l,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Y0(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bb(r.remoteStore,i.targetId),Z0(r,i.targetId)})).catch(lm)):(Z0(r,i.targetId),await Y0(r.localStore,i.targetId,!0))}async function C$(t,e){const n=Ft(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bb(n.remoteStore,r.targetId))}async function T$(t,e,n){const r=D$(t);try{const i=await(function(l,c){const u=Ft(l),h=Xs.now(),m=c.reduce(((b,_)=>b.add(_.key)),Zt());let f,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let _=oo(),S=Zt();return u.cs.getEntries(b,m).next((k=>{_=k,_.forEach(((P,D)=>{D.isValidDocument()||(S=S.add(P))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,_))).next((k=>{f=k;const P=[];for(const D of c){const A=X7(D,f.get(D.key).overlayedDocument);A!=null&&P.push(new gl(D.key,A,ET(A.value.mapValue),_i.exists(!0)))}return u.mutationQueue.addMutationBatch(b,h,P,c)})).next((k=>{y=k;const P=k.applyToLocalDocumentSet(f,S);return u.documentOverlayCache.saveOverlays(b,k.batchId,P)}))})).then((()=>({batchId:y.batchId,changes:OT(f)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,u){let h=l.Ba[l.currentUser.toKey()];h||(h=new Gs(ps)),h=h.insert(c,u),l.Ba[l.currentUser.toKey()]=h})(r,i.batchId,n),await mm(r,i.changes),await sx(r.remoteStore)}catch(i){const a=Nb(i,"Failed to persist write");n.reject(a)}}async function _5(t,e){const n=Ft(t);try{const r=await zB(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Na.get(a);l&&(_s(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.va=!0:i.modifiedDocuments.size>0?_s(l.va):i.removedDocuments.size>0&&(_s(l.va),l.va=!1))})),await mm(n,r,e)}catch(r){await lm(r)}}function NS(t,e,n){const r=Ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((a,l)=>{const c=l.view.Z_(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const u=Ft(l);u.onlineState=c;let h=!1;u.queries.forEach(((m,f)=>{for(const y of f.j_)y.Z_(c)&&(h=!0)})),h&&kb(u)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function A$(t,e,n){const r=Ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),a=i&&i.key;if(a){let l=new Gs(ht.comparator);l=l.insert(a,ar.newNoDocument(a,Mt.min()));const c=Zt().add(a),u=new Zg(Mt.min(),new Map,new Gs(ps),l,c);await _5(r,u),r.Oa=r.Oa.remove(a),r.Na.delete(e),Cb(r)}else await Y0(r.localStore,e,!1).then((()=>Z0(r,e,n))).catch(lm)}async function E$(t,e){const n=Ft(t),r=e.batch.batchId;try{const i=await UB(n.localStore,e);j5(n,r,null),w5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mm(n,i)}catch(i){await lm(i)}}async function I$(t,e,n){const r=Ft(t);try{const i=await(function(l,c){const u=Ft(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return u.mutationQueue.lookupMutationBatch(h,c).next((f=>(_s(f!==null),m=f.keys(),u.mutationQueue.removeMutationBatch(h,f)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>u.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);j5(r,e,n),w5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mm(r,i)}catch(i){await lm(i)}}function w5(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function j5(t,e,n){const r=Ft(t);let i=r.Ba[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Z0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||S5(t,r)}))}function S5(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(bb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Cb(t))}function kS(t,e,n){for(const r of n)r instanceof v5?(t.La.addReference(r.key,e),R$(t,r)):r instanceof y5?(it("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||S5(t,r.key)):It()}function R$(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(it("SyncEngine","New document in limbo: "+n),t.xa.add(r),Cb(t))}function Cb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ht(ks.fromString(e)),r=t.qa.next();t.Na.set(r,new _$(n)),t.Oa=t.Oa.insert(n,r),c5(t.remoteStore,new el(pa(db(n.path)),r,"TargetPurposeLimboResolution",ib.oe))}}async function mm(t,e,n){const r=Ft(t),i=[],a=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach(((c,u)=>{l.push(r.Ka(u,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(u.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){i.push(h);const f=yb.Wi(u.targetId,h);a.push(f)}})))})),await Promise.all(l),r.Ca.d_(i),await(async function(u,h){const m=Ft(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>Ae.forEach(h,(y=>Ae.forEach(y.$i,(b=>m.persistence.referenceDelegate.addReference(f,y.targetId,b))).next((()=>Ae.forEach(y.Ui,(b=>m.persistence.referenceDelegate.removeReference(f,y.targetId,b)))))))))}catch(f){if(!cm(f))throw f;it("LocalStore","Failed to update sequence numbers: "+f)}for(const f of h){const y=f.targetId;if(!f.fromCache){const b=m.os.get(y),_=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(_);m.os=m.os.insert(y,S)}}})(r.localStore,a))}async function P$(t,e){const n=Ft(t);if(!n.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const r=await i5(n.localStore,e);n.currentUser=e,(function(a,l){a.ka.forEach((c=>{c.forEach((u=>{u.reject(new We(be.CANCELLED,l))}))})),a.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mm(n,r.hs)}}function L$(t,e){const n=Ft(t),r=n.Na.get(e);if(r&&r.va)return Zt().add(r.key);{let i=Zt();const a=n.Ma.get(e);if(!a)return i;for(const l of a){const c=n.Fa.get(l);i=i.unionWith(c.view.Va)}return i}}function N5(t){const e=Ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A$.bind(null,e),e.Ca.d_=x$.bind(null,e.eventManager),e.Ca.$a=v$.bind(null,e.eventManager),e}function D$(t){const e=Ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I$.bind(null,e),e}class ug{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ex(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return VB(this.persistence,new $B,e.initialUser,this.serializer)}Ga(e){return new MB(vb.Zr,this.serializer)}Wa(e){return new KB}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ug.provider={build:()=>new ug};class e1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P$.bind(null,this.syncEngine),await p$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g$})()}createDatastore(e){const n=ex(e.databaseInfo.databaseId),r=(function(a){return new JB(a)})(e.databaseInfo);return(function(a,l,c,u){return new t$(a,l,c,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,c){return new n$(r,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>NS(this.syncEngine,n,0)),(function(){return bS.D()?new bS:new QB})())}createSyncEngine(e,n){return(function(i,a,l,c,u,h,m){const f=new w$(i,a,l,c,u,h);return m&&(f.Qa=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=Ft(i);it("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await hm(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}e1.provider={build:()=>new e1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ao("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rr.UNAUTHENTICATED,this.clientId=CT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{it("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(it("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Nb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function my(t,e){t.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await i5(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function CS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F$(t);it("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>_S(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>_S(e.remoteStore,i))),t._onlineComponents=e}async function F$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){it("FirestoreClient","Using user provided OfflineComponentProvider");try{await my(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===be.FAILED_PRECONDITION||i.code===be.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Fd("Error using user provided cache. Falling back to memory cache: "+n),await my(t,new ug)}}else it("FirestoreClient","Using default OfflineComponentProvider"),await my(t,new ug);return t._offlineComponents}async function C5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(it("FirestoreClient","Using user provided OnlineComponentProvider"),await CS(t,t._uninitializedComponentsProvider._online)):(it("FirestoreClient","Using default OnlineComponentProvider"),await CS(t,new e1))),t._onlineComponents}function B$(t){return C5(t).then((e=>e.syncEngine))}async function T5(t){const e=await C5(t),n=e.eventManager;return n.onListen=j$.bind(null,e.syncEngine),n.onUnlisten=k$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=S$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=C$.bind(null,e.syncEngine),n}function $$(t,e,n={}){const r=new Za;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,u,h){const m=new k5({next:y=>{m.Za(),l.enqueueAndForget((()=>g5(a,f)));const b=y.docs.has(c);!b&&y.fromCache?h.reject(new We(be.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&y.fromCache&&u&&u.source==="server"?h.reject(new We(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),f=new x5(db(c.path),m,{includeMetadataChanges:!0,_a:!0});return f5(a,f)})(await T5(t),t.asyncQueue,e,n,r))),r.promise}function O$(t,e,n={}){const r=new Za;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,u,h){const m=new k5({next:y=>{m.Za(),l.enqueueAndForget((()=>g5(a,f))),y.fromCache&&u.source==="server"?h.reject(new We(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),f=new x5(c,m,{includeMetadataChanges:!0,_a:!0});return f5(a,f)})(await T5(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e,n){if(!n)throw new We(be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V$(t,e,n,r){if(e===!0&&r===!0)throw new We(be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AS(t){if(!ht.isDocumentKey(t))throw new We(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ES(t){if(ht.isDocumentKey(t))throw new We(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":It()}function lo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new We(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nx(t);throw new We(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function U$(t,e){if(e<=0)throw new We(be.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new We(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new We(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A5((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new We(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new We(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new We(be.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new We(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new We(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IS(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new r7;switch(r.type){case"firstParty":return new l7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new We(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=TS.get(n);r&&(it("ComponentProvider","Removing Datastore"),TS.delete(n),r.terminate())})(this),Promise.resolve()}}function z$(t,e,n,r={}){var i;const a=(t=lo(t,pm))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&Fd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=rr.MOCK_USER;else{c=I8(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new We(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new rr(h)}t._authCredentials=new i7(new kT(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class Or{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ll(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Or(this.firestore,e,this._key)}}class ll extends Ki{constructor(e,n,r){super(e,n,db(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Or(this.firestore,null,new ht(e))}withConverter(e){return new ll(this.firestore,e,this._path)}}function xl(t,e,...n){if(t=bn(t),Tb("collection","path",e),t instanceof pm){const r=ks.fromString(e,...n);return ES(r),new ll(t,null,r)}{if(!(t instanceof Or||t instanceof ll))throw new We(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ks.fromString(e,...n));return ES(r),new ll(t.firestore,null,r)}}function fm(t,e){if(t=lo(t,pm),Tb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new We(be.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ki(t,null,(function(r){return new po(ks.emptyPath(),r)})(e))}function Xt(t,e,...n){if(t=bn(t),arguments.length===1&&(e=CT.newId()),Tb("doc","path",e),t instanceof pm){const r=ks.fromString(e,...n);return AS(r),new Or(t,null,new ht(r))}{if(!(t instanceof Or||t instanceof ll))throw new We(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ks.fromString(e,...n));return AS(r),new Or(t.firestore,t instanceof ll?t.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new o5(this,"async_queue_retry"),this.Vu=()=>{const r=hy();r&&it("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=hy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=hy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Za;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!cm(e))throw e;it("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c})(r);throw ao("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Sb.createAndSchedule(this,e,n,r,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&It()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class gm extends pm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new RS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RS(e),this._firestoreClient=void 0,await e}}}function H$(t,e){const n=typeof t=="object"?t:Q1(),r=typeof t=="string"?t:"(default)",i=K1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=A8("firestore");a&&z$(i,...a)}return i}function rx(t){if(t._terminated)throw new We(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G$(t),t._firestoreClient}function G$(t){var e,n,r;const i=t._freezeSettings(),a=(function(c,u,h,m){return new _7(c,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,A5(m.experimentalLongPollingOptions),m.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new M$(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hd(Qn.fromBase64String(e))}catch(n){throw new We(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hd(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new We(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function W$(){return new xm("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new We(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new We(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ps(this._lat,e._lat)||ps(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=/^__.*__$/;class K${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gl(e,this.data,this.fieldMask,n,this.fieldTransforms):new dm(e,this.data,n,this.fieldTransforms)}}class E5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new gl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function I5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It()}}class Ib{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Ib(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(I5(this.Cu)&&q$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Q${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ex(e)}Qu(e,n,r,i=!1){return new Ib({Cu:e,methodName:n,qu:r,path:Gn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ax(t){const e=t._freezeSettings(),n=ex(t._databaseId);return new Q$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function R5(t,e,n,r,i,a={}){const l=t.Qu(a.merge||a.mergeFields?2:0,e,n,i);Pb("Data must be an object, but it was:",l,r);const c=L5(r,l);let u,h;if(a.merge)u=new si(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const f of a.mergeFields){const y=t1(e,f,n);if(!l.contains(y))throw new We(be.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);M5(m,y)||m.push(y)}u=new si(m),h=l.fieldTransforms.filter((f=>u.covers(f.field)))}else u=null,h=l.fieldTransforms;return new K$(new $r(c),u,h)}class ox extends ix{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ox}}class Rb extends ix{_toFieldTransform(e){return new W7(e.path,new Hh)}isEqual(e){return e instanceof Rb}}function X$(t,e,n,r){const i=t.Qu(1,e,n);Pb("Data must be an object, but it was:",i,r);const a=[],l=$r.empty();_c(r,((u,h)=>{const m=Lb(e,u,n);h=bn(h);const f=i.Nu(m);if(h instanceof ox)a.push(m);else{const y=vm(h,f);y!=null&&(a.push(m),l.set(m,y))}}));const c=new si(a);return new E5(l,c,i.fieldTransforms)}function Y$(t,e,n,r,i,a){const l=t.Qu(1,e,n),c=[t1(e,r,n)],u=[i];if(a.length%2!=0)throw new We(be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)c.push(t1(e,a[y])),u.push(a[y+1]);const h=[],m=$r.empty();for(let y=c.length-1;y>=0;--y)if(!M5(h,c[y])){const b=c[y];let _=u[y];_=bn(_);const S=l.Nu(b);if(_ instanceof ox)h.push(b);else{const k=vm(_,S);k!=null&&(h.push(b),m.set(b,k))}}const f=new si(h);return new E5(m,f,l.fieldTransforms)}function P5(t,e,n,r=!1){return vm(n,t.Qu(r?4:3,e))}function vm(t,e){if(D5(t=bn(t)))return Pb("Unsupported field value:",e,t),L5(t,e);if(t instanceof ix)return(function(r,i){if(!I5(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const c of r){let u=vm(c,i.Lu(l));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Xs.fromDate(r);return{timestampValue:cg(i.serializer,a)}}if(r instanceof Xs){const a=new Xs(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cg(i.serializer,a)}}if(r instanceof Ab)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hd)return{bytesValue:JT(i.serializer,r._byteString)};if(r instanceof Or){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Eb)return(function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map((u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return hb(c.serializer,u)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${nx(r)}`)})(t,e)}function L5(t,e){const n={};return TT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_c(t,((r,i)=>{const a=vm(i,e.Mu(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function D5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xs||t instanceof Ab||t instanceof Hd||t instanceof Or||t instanceof ix||t instanceof Eb)}function Pb(t,e,n){if(!D5(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=nx(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function t1(t,e,n){if((e=bn(e))instanceof xm)return e._internalPath;if(typeof e=="string")return Lb(t,e);throw hg("Field path arguments must be of type string or ",t,!1,void 0,n)}const J$=new RegExp("[~\\*/\\[\\]]");function Lb(t,e,n){if(e.search(J$)>=0)throw hg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xm(...e.split("."))._internalPath}catch(r){throw hg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hg(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(a||l)&&(u+=" (found",a&&(u+=` in field ${r}`),l&&(u+=` in document ${i}`),u+=")"),new We(be.INVALID_ARGUMENT,c+t+u)}function M5(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z$ extends Db{data(){return super.data()}}function lx(t,e){return typeof e=="string"?Lb(t,e):e instanceof xm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new We(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mb{}class ym extends Mb{}function nn(t,e,...n){let r=[];e instanceof Mb&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((u=>u instanceof Fb)).length,c=a.filter((u=>u instanceof cx)).length;if(l>1||l>0&&c>0)throw new We(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class cx extends ym{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cx(e,n,r)}_apply(e){const n=this._parse(e);return B5(e._query,n),new Ki(e.firestore,e.converter,W0(e._query,n))}_parse(e){const n=ax(e.firestore);return(function(a,l,c,u,h,m,f){let y;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new We(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){LS(f,m);const b=[];for(const _ of f)b.push(PS(u,a,_));y={arrayValue:{values:b}}}else y=PS(u,a,f)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||LS(f,m),y=P5(c,l,f,m==="in"||m==="not-in");return fn.create(h,m,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cl(t,e,n){const r=e,i=lx("where",t);return cx._create(i,r,n)}class Fb extends Mb{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fb(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const u of c)B5(l,u),l=W0(l,u)})(e._query,n),new Ki(e.firestore,e.converter,W0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bb extends ym{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bb(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new We(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new We(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zh(a,l)})(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new po(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Br(t,e="asc"){const n=e,r=lx("orderBy",t);return Bb._create(r,n)}class $b extends ym{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $b(e,n,r)}_apply(e){return new Ki(e.firestore,e.converter,og(e._query,this._limit,this._limitType))}}function mn(t){return U$("limit",t),$b._create("limit",t,"F")}class dx extends ym{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new dx(e,n,r)}_apply(e){const n=F5(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(function(i,a){return new po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,n))}}function Vi(...t){return dx._create("startAt",t,!0)}function tO(...t){return dx._create("startAfter",t,!1)}class Ob extends ym{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ob(e,n,r)}_apply(e){const n=F5(e,this.type,this._docOrFields,this._inclusive);return new Ki(e.firestore,e.converter,(function(i,a){return new po(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,n))}}function Ui(...t){return Ob._create("endAt",t,!0)}function F5(t,e,n,r){if(n[0]=bn(n[0]),n[0]instanceof Db)return(function(a,l,c,u,h){if(!u)throw new We(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const f of Ed(a))if(f.field.isKeyField())m.push(ag(l,u.key));else{const y=u.data.field(f.field);if(Kg(y))throw new We(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(y===null){const b=f.field.canonicalString();throw new We(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}m.push(y)}return new Vd(m,h)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ax(t.firestore);return(function(l,c,u,h,m,f){const y=l.explicitOrderBy;if(m.length>y.length)throw new We(be.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let _=0;_<m.length;_++){const S=m[_];if(y[_].field.isKeyField()){if(typeof S!="string")throw new We(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof S}`);if(!ub(l)&&S.indexOf("/")!==-1)throw new We(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${S}' contains a slash.`);const k=l.path.child(ks.fromString(S));if(!ht.isDocumentKey(k))throw new We(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const P=new ht(k);b.push(ag(c,P))}else{const k=P5(u,h,S);b.push(k)}}return new Vd(b,f)})(t._query,t.firestore._databaseId,i,e,n,r)}}function PS(t,e,n){if(typeof(n=bn(n))=="string"){if(n==="")throw new We(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ub(e)&&n.indexOf("/")!==-1)throw new We(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ks.fromString(n));if(!ht.isDocumentKey(r))throw new We(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ag(t,new ht(r))}if(n instanceof Or)return ag(t,n._key);throw new We(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nx(n)}.`)}function LS(t,e){if(!Array.isArray(t)||t.length===0)throw new We(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function B5(t,e){const n=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new We(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new We(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class sO{convertValue(e,n="none"){switch(gc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw It()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _c(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((l=>sn(l.doubleValue)));return new Eb(a)}convertGeoPoint(e){return new Ab(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ab(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oh(e));default:return null}}convertTimestamp(e){const n=ul(e);return new Xs(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ks.fromString(e);_s(r5(r));const i=new Vh(r.get(1),r.get(3)),a=new ht(r.popFirst(5));return i.isEqual(n)||ao(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class O5 extends Db{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lx("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lf extends O5{data(e={}){return super.data(e)}}class nO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Lf(this._firestore,this._userDataWriter,r.key,r,new oh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new We(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const u=new Lf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new oh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const u=new Lf(i._firestore,i._userDataWriter,c.doc.key,c.doc,new oh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:rO(c.type),doc:u,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){t=lo(t,Or);const e=lo(t.firestore,gm);return $$(rx(e),t._key).then((n=>iO(e,t,n)))}class V5 extends sO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Or(this.firestore,null,n)}}function gn(t){t=lo(t,Ki);const e=lo(t.firestore,gm),n=rx(e),r=new V5(e);return eO(t._query),O$(n,t._query).then((i=>new nO(e,r,t,i)))}function co(t,e,n){t=lo(t,Or);const r=lo(t.firestore,gm),i=$5(t.converter,e,n);return U5(r,[R5(ax(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_i.none())])}function U5(t,e){return(function(r,i){const a=new Za;return r.asyncQueue.enqueueAndForget((async()=>T$(await B$(r),i,a))),a.promise})(rx(t),e)}function iO(t,e,n){const r=n.docs.get(e._key),i=new V5(t);return new O5(t,i,e._key,r,new oh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ax(e)}set(e,n,r){this._verifyNotCommitted();const i=py(e,this._firestore),a=$5(i.converter,n,r),l=R5(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,_i.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const a=py(e,this._firestore);let l;return l=typeof(n=bn(n))=="string"||n instanceof xm?Y$(this._dataReader,"WriteBatch.update",a._key,n,r,i):X$(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,_i.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=py(e,this._firestore);return this._mutations=this._mutations.concat(new mb(n._key,_i.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function py(t,e){if((t=bn(t)).firestore!==e)throw new We(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Bi(){return new Rb("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){return rx(t=lo(t,gm)),new aO(t,(e=>U5(t,e)))}(function(e,n=!0){(function(i){su=i})(eu),Md(new uc("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new gm(new a7(r.getProvider("auth-internal")),new d7(r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new We(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(h.options.projectId,m)})(l,i),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),al(Yj,"4.7.3",e),al(Yj,"4.7.3","esm2017")})();const z5={apiKey:"AIzaSyDEktl9zQMkxiKDMZ1y4IFOALr43wkGtNA",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};z5.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const H5=WM().length?Q1():B3(z5),ft=H$(H5),qp=s7(H5),G5=T.createContext(void 0),DS=`${ja}/auth/session`,MS=`${ja}/auth/logout`,lO=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState("idle"),a=T.useRef({tried:!1}),l=T.useCallback(S=>{S!=null&&S.authenticated&&S.user?(n(S.user),i("authenticated")):(n(null),i("unauthenticated"))},[]),c=T.useCallback(async S=>{if(S!=null&&S.silent||i("loading"),!DS){console.warn("[Auth] AUTH_BASE_URL is not configured. Skipping session fetch."),n(null),i("unauthenticated");return}try{const k=await fetch(DS,{credentials:"include"});if(!k.ok)throw new Error(`Failed to fetch session (${k.status})`);const P=await k.json();l(P)}catch(k){console.error("[Auth] Failed to refresh session.",k),n(null),i("unauthenticated")}},[l]);T.useEffect(()=>{c()},[c]),T.useEffect(()=>{console.log("[AuthDebug] session user:",e);const S=qp.currentUser;console.log("[AuthDebug] firebase currentUser uid:",S==null?void 0:S.uid),S==null||S.getIdTokenResult().then(k=>{console.log("[AuthDebug] firebase claims:",k.claims)}).catch(k=>{console.warn("[AuthDebug] failed to fetch token claims",k)})},[e]),T.useEffect(()=>{const S=H9(qp,k=>{console.log("[AuthDebug] firebase currentUser uid:",k==null?void 0:k.uid)});return()=>S()},[]),T.useEffect(()=>{if(!e){a.current.tried=!1;return}a.current.tried||(a.current.tried=!0,(async()=>{try{const S=await _8();await V9(qp,S),console.log("[AuthDebug] signed in to Firebase with custom token")}catch(S){console.error("[AuthDebug] failed to sign in to Firebase",S)}})())},[e]);const u=T.useCallback(S=>{window.location.href=`${ja}/auth/${S}/login`},[]),h=T.useCallback(()=>u("discord"),[u]),m=T.useCallback(()=>u("google"),[u]),f=T.useCallback(async()=>{if(await G9(qp).catch(()=>{}),!MS){console.warn("[Auth] AUTH_BASE_URL is not configured. Clearing local session only."),n(null),i("unauthenticated");return}try{const S=await fetch(MS,{method:"POST",credentials:"include"});if(!S.ok)throw new Error(`Logout failed (${S.status})`)}catch(S){console.error("[Auth] Failed to logout. Clearing local session anyway.",S)}finally{n(null),i("unauthenticated")}},[]),y=T.useCallback(async S=>{await c(S)},[c]),b=r==="idle"||r==="loading",_=T.useMemo(()=>({user:e,status:r,isLoading:b,loginWithDiscord:h,loginWithGoogle:m,logout:f,refreshSession:y}),[e,r,b,h,m,f,y]);return s.jsx(G5.Provider,{value:_,children:t})},fo=()=>{const t=T.useContext(G5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},cO="https://i.pravatar.cc/72",dO=({fallbackName:t})=>{var D,A;const{user:e,status:n,logout:r,isLoading:i}=fo(),a=ji(),[l,c]=T.useState(!1),u=T.useRef(null),h=n==="authenticated",m=h?(A=(D=e==null?void 0:e.displayName)!=null?D:t)!=null?A:"Player":t!=null?t:"Guest",f=h&&(e!=null&&e.avatarUrl)?e.avatarUrl:cO;T.useEffect(()=>{const v=w=>{u.current&&!u.current.contains(w.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]),T.useEffect(()=>{i&&c(!1)},[i]);const y=T.useCallback(()=>c(!1),[]),b=()=>{c(v=>!v)},_=()=>{a("/login"),y()},S=()=>{a("/settings/account"),y()},k=T.useCallback(async()=>{try{await r()}finally{y(),a("/")}},[y,r,a]),P=()=>{var v;if(i)return s.jsx("p",{className:Ht.accountStatusText,children:"Checking session..."});if(n==="unauthenticated")return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ht.accountHeader,children:[s.jsx("p",{className:Ht.accountName,children:"Not signed in"}),s.jsx("p",{className:Ht.accountSub,children:"Your scans stay synced when you log in."})]}),s.jsx("button",{type:"button",className:Ht.accountPrimary,onClick:_,children:"Sign in"}),s.jsx("p",{className:Ht.accountHint,children:"Use Discord or Google on the sign-in page."})]});if(n==="authenticated"){const w=!!((v=e==null?void 0:e.roles)!=null&&v.includes("admin"));return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Ht.accountHeader,children:[s.jsx("img",{className:Ht.accountMiniAvatar,src:f,alt:m}),s.jsxs("div",{children:[s.jsx("p",{className:Ht.accountName,children:m}),s.jsxs("p",{className:Ht.accountSub,children:["Signed in via ",(e==null?void 0:e.provider)==="google"?"Google":"Discord"]})]})]}),s.jsx("button",{type:"button",className:Ht.accountItem,onClick:S,children:"Account & Profile"}),w?s.jsx("a",{className:Ht.accountItem,href:"https://control-panel.sfdatahub.com/",target:"_blank",rel:"noreferrer",children:"Console Panel"}):null,s.jsx("hr",{className:Ht.accountDivider}),s.jsx("button",{type:"button",className:`${Ht.accountItem} ${Ht.accountLogout}`,onClick:k,children:"Logout"})]})}return null};return s.jsxs("div",{className:Ht.accountRoot,ref:u,children:[i?s.jsxs("div",{className:Ht.avatarSpinnerShell,role:"status","aria-live":"polite","aria-label":"Checking login status",children:[s.jsx("span",{className:Ht.avatarSpinner,"aria-hidden":"true"}),s.jsx("span",{className:Ht.srOnly,children:"Checking login status"})]}):s.jsx("button",{type:"button",className:Ht.avatarBtn,"aria-haspopup":"menu","aria-expanded":l,"aria-label":m,onClick:b,children:s.jsx("img",{className:Ht.avatar,src:f,alt:m})}),!i&&l&&s.jsx("div",{className:Ht.accountDropdown,role:"menu",children:P()})]})},uO="sfh:debug:firestoreReadsCallsite",s1=new Map;let hO=1;const Kp=(...t)=>{console.log(...t)},Vb=()=>!1,W5=()=>!Vb()||typeof window=="undefined"||!(window!=null&&window.localStorage)?!1:window.localStorage.getItem(uO)==="1",Ub=(t,e)=>t?t.split("/").filter(Boolean)[0]||e||"unknown":e!=null?e:"unknown",mO=()=>{if(!W5())return;const t=new Error;if(!t.stack)return;const n=t.stack.split(`
`).map(r=>r.trim()).filter(r=>r&&!r.toLowerCase().includes("firestorereadtrace")&&!r.toLowerCase().includes("tracegetdoc")&&!r.toLowerCase().includes("tracegetdocs"));return n[1]||n[0]},Rd=t=>Vb()?{id:hO++,name:t,startedAt:performance.now(),reads:[]}:null,q5=(t,e)=>{var r;if(!t)return;const n=Ub(e.collection||e.path);t.reads.push({collection:n,path:e.path,op:e.op,docCount:e.docCount,startedAt:performance.now(),callsite:mO()}),s1.set(n,((r=s1.get(n))!=null?r:0)+e.docCount)},la=t=>{var l;if(!t)return;t.endedAt=performance.now();const e=Math.round(t.endedAt-t.startedAt),n=t.reads.reduce((c,u)=>{var h;return c[u.collection]=((h=c[u.collection])!=null?h:0)+u.docCount,c},{}),r=t.reads.reduce((c,u)=>c+u.docCount,0),i=t.reads.map(c=>({op:c.op,path:c.path,collection:c.collection,docs:c.docCount,callsite:c.callsite})),a=`[FirestoreTrace] ${t.name} - ${r} reads in ${e}ms`;if(console.groupCollapsed(a),Kp("Breakdown by collection",n),Kp("Entries",i),W5()){const c=(l=t.reads.find(u=>u.callsite))==null?void 0:l.callsite;c&&Kp("Top callsite",c)}Kp("Totals (page lifetime)",Object.fromEntries(s1.entries())),console.groupEnd()},K5=async(t,e,n)=>{const r=await n(),i=r!=null&&r.exists?r.exists()?1:0:1;return q5(t,{collection:Ub(e.path),path:e.path,op:"getDoc",docCount:i}),r},Jo=async(t,e,n,r)=>{var c,u,h;const i=await n(),a=(c=i==null?void 0:i.size)!=null?c:Array.isArray(i==null?void 0:i.docs)?i.docs.length:0,l=(h=(u=e.path)!=null?u:r==null?void 0:r.collectionHint)!=null?h:"unknown";return q5(t,{collection:Ub(l,r==null?void 0:r.collectionHint),path:l,op:"getDocs",docCount:typeof a=="number"?a:0}),i},pO=[{id:"main.home",route:"/",area:"main",titleKey:"nav.home",status:"public",minRole:"guest",showInSidebar:!0,showInTopbar:!1,navOrder:5},{id:"main.dashboard",route:"/dashboard",area:"main",titleKey:"nav.dashboard",status:"hidden",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:10},{id:"main.guildHub",route:"/guild-hub",area:"main",titleKey:"nav.guildHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:20},{id:"main.discover",route:"/discover",area:"main",titleKey:"nav.discover",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:30},{id:"main.toplists",route:"/toplists",area:"main",titleKey:"nav.toplists",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:40},{id:"main.guidehub",route:"/guidehub",area:"main",titleKey:"nav.guideHub",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:50},{id:"main.tools",route:"/tools",area:"main",titleKey:"nav.tools",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:55},{id:"main.community",route:"/community",area:"main",titleKey:"nav.community",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:60},{id:"main.scans",route:"/scans",area:"main",titleKey:"nav.scans",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:70},{id:"main.settings",route:"/settings",area:"main",titleKey:"nav.settings",status:"active",minRole:"user",showInSidebar:!0,showInTopbar:!1,navOrder:80},{id:"main.admin",route:"/admin",area:"main",titleKey:"nav.admin",status:"active",minRole:"moderator",allowedRoles:["moderator","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:90},{id:"admin.cliCommands",route:"/cli-commands",area:"admin",titleKey:"nav.cliCommands",status:"active",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:95},{id:"main.playground",route:"/playground",area:"main",titleKey:"nav.playground",status:"beta",minRole:"developer",allowedRoles:["developer","admin"],showInSidebar:!0,showInTopbar:!1,navOrder:100,isExperimental:!0},{id:"main.uploadCenter",route:"/upload-center",area:"main",titleKey:"feature.uploadCenter",status:"logged_in",minRole:"user",showInSidebar:!1,showInTopbar:!1,navOrder:200}],FS=["guest","user","moderator","developer","admin"];function Q5(t){const e=t.trim();if(!e)return"/";const n=e.startsWith("/")?e:`/${e}`;return n==="/"?n:n.replace(/\/+$/,"").toLowerCase()}function X5(t){if(typeof t!="string")return;const e=t.toLowerCase();if(e==="admin")return"admin";if(e==="developer"||e==="dev")return"developer";if(e==="moderator"||e==="mod")return"moderator";if(e==="user")return"user";if(e==="guest")return"guest"}function Y5(t){if(!Array.isArray(t))return;const e=t.map(n=>X5(n)).filter(Boolean);return e.length?e:void 0}function J5(t){if(!Array.isArray(t))return;const e=t.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function Z5(t){if(!Array.isArray(t))return;const e=t.map(n=>typeof n=="string"?n.trim():"").filter(n=>n.length>0);return e.length?e:void 0}function zb(t){var e,n,r;return{...t,id:t.id.trim(),route:Q5(t.route),area:t.area.trim(),allowedRoles:(e=Y5(t.allowedRoles))!=null?e:t.allowedRoles,allowedGroups:(n=J5(t.allowedGroups))!=null?n:t.allowedGroups,allowedUserIds:(r=Z5(t.allowedUserIds))!=null?r:t.allowedUserIds}}function fO(t,e){if(!e||typeof e!="object")return null;const n=e,r=typeof n.route=="string"?n.route:"",i=typeof n.area=="string"?n.area:"",a=typeof n.id=="string"&&n.id.trim()||t||(r?`feature:${r}`:"");if(!r||!a||!i)return null;const l={id:a,route:r,area:i,titleKey:typeof n.titleKey=="string"?n.titleKey:void 0,status:typeof n.status=="string"?n.status:void 0,minRole:X5(n.minRole),allowedRoles:Y5(n.allowedRoles),allowedGroups:J5(n.allowedGroups),allowedUserIds:Z5(n.allowedUserIds),showInTopbar:typeof n.showInTopbar=="boolean"?n.showInTopbar:void 0,showInSidebar:typeof n.showInSidebar=="boolean"?n.showInSidebar:void 0,navOrder:typeof n.navOrder=="number"?n.navOrder:void 0,isExperimental:typeof n.isExperimental=="boolean"?n.isExperimental:void 0,description:typeof n.description=="string"?n.description:void 0};return zb(l)}function gO(t){const e={},n={};return t.forEach(r=>{const i=zb(r);e[i.id]=i,n[i.route]=i}),{byId:e,byRoute:n}}const eo=gO(pO),xO={...eo,loading:!1,error:null},vO=300*1e3;let xd=null,lh=null;const yO=async t=>{const e=Date.now();return lh&&e-lh.fetchedAt<vO?lh:xd||(xd=(async()=>{const n=xl(ft,"feature_access"),r=await Jo(t,n,()=>gn(n),{collectionHint:"feature_access"}),i=[];r.forEach(c=>{const u=fO(c.id,c.data());u&&i.push(u)});const l={rules:_O(i),fetchedAt:Date.now()};return lh=l,l})().finally(()=>{xd=null}),xd)};function bO(t,e){const n={...t!=null?t:{}};return Object.entries(e).forEach(([i,a])=>{if(a!==void 0){const l=i;n[l]=a}}),n}function _O(t){const e={...eo.byId},n={...eo.byRoute};return t.forEach(r=>{const i=zb(r),a=e[i.id],l=bO(a,i);e[l.id]=l,n[l.route]=l}),{byId:e,byRoute:n}}const eA=X.createContext(xO),wO=({children:t})=>{const[e,n]=X.useState({...eo,loading:!0,error:null});X.useEffect(()=>{let i=!0;return(async()=>{const c=Vb()&&!lh&&!xd?Rd("FeatureAccess:load"):null;try{const{rules:u}=await yO(c);i&&n({...u,loading:!1,error:null})}catch(u){const h=u,m=h==null?void 0:h.code,f=m==="permission-denied"||m==="failed-precondition";typeof window!="undefined"&&window.location.hostname==="localhost"&&console.warn(`[FeatureAccess] Firestore feature_access ${f?"not readable":"load failed"}. Falling back to defaults.`,u),i&&n(b=>({...b,loading:!1,error:u instanceof Error?u.message:"Failed to load feature access rules"}))}finally{la(c)}})(),()=>{i=!1}},[]);const r=X.useMemo(()=>e,[e]);return s.jsx(eA.Provider,{value:r,children:t})};function jO(){return X.useContext(eA)}function SO(t,e){var i,a,l;if(!t)return;const n=e!=null?e:eo,r=Q5(t);return(l=(a=(i=n.byId[t])!=null?i:n.byRoute[r])!=null?a:eo.byId[t])!=null?l:eo.byRoute[r]}function NO(t){return!t||t.length===0?"guest":t.includes("admin")?"admin":t.includes("dev")||t.includes("developer")?"developer":t.includes("mod")||t.includes("moderator")?"moderator":"user"}function kO(t,e,n,r,i){if(n)return!0;const a=!!r;if(t.status==="logged_in"&&!a)return!1;const l=e!=null?e:"user";if(t.status==="hidden"||t.status==="dev_only"&&l!=="developer"&&l!=="admin"||t.allowedUserIds&&t.allowedUserIds.length>0&&(!r||!t.allowedUserIds.includes(r))||t.allowedGroups&&t.allowedGroups.length>0&&!(i!=null?i:[]).some(u=>t.allowedGroups.includes(u)))return!1;if(t.allowedRoles&&t.allowedRoles.length>0)return!!l&&t.allowedRoles.includes(l);if(t.minRole){const c=FS.indexOf(l),u=FS.indexOf(t.minRole);return c>=u&&c!==-1}return!0}function ux(){var S;let t=null;try{t=fo().user}catch(k){console.warn("[FeatureAccess] useFeatureAccess used outside AuthProvider; continuing with user-level access.")}const{byId:e,byRoute:n,loading:r,error:i}=jO(),a=X.useMemo(()=>({byId:e!=null?e:eo.byId,byRoute:n!=null?n:eo.byRoute}),[e,n]),l=X.useMemo(()=>NO(t==null?void 0:t.roles),[t==null?void 0:t.roles]),c=X.useMemo(()=>{var k;return!!((k=t==null?void 0:t.roles)!=null&&k.includes("admin"))},[t==null?void 0:t.roles]),u=X.useMemo(()=>{var k;return(k=t==null?void 0:t.accessGroups)!=null?k:[]},[t==null?void 0:t.accessGroups]),h=(S=t==null?void 0:t.id)!=null?S:null,m=X.useCallback(k=>SO(k,a),[a]),f=X.useCallback(k=>k?kO(k,l,c,h,u):!0,[c,u,h,l]),y=X.useCallback(k=>{if(!k)return!0;const P=m(k);return f(P)},[f,m]),b=X.useCallback(k=>{if(!k)return!0;const P=m(k);return P?P.status==="hidden"||P.showInSidebar===!1?!1:f(P):!0},[f,m]),_=X.useCallback(k=>{if(!k)return!0;const P=m(k);return P?P.status==="hidden"||P.showInTopbar===!1?!1:f(P):!0},[f,m]);return{loading:r,error:i,rulesById:e,rulesByRoute:n,storeRules:a,resolveRule:m,canAccessRule:f,canAccessFeature:y,isVisibleInSidebar:b,isVisibleInTopbar:_}}const tA=T.createContext(null);function CO({children:t}){const{canAccessFeature:e}=ux(),[n,r]=T.useState(!1),[i,a]=T.useState("csv"),l=e("main.uploadCenter"),c=T.useCallback(m=>{l&&(m!=null&&m.tab?a(m.tab):a("csv"),r(!0))},[l]),u=T.useCallback(()=>r(!1),[]),h=T.useMemo(()=>({isOpen:n,open:c,close:u,activeTab:i,setTab:a,canUse:l}),[n,c,u,i,l]);return s.jsx(tA.Provider,{value:h,children:t})}function Hb(){const t=T.useContext(tA);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}const Mi={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Fi=t=>`https://drive.google.com/uc?export=view&id=${t}`,sA=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),Rn=[{key:"warrior",label:"Warrior",iconUrl:Fi(Mi.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Fi(Mi.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Fi(Mi.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Fi(Mi.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Fi(Mi["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Fi(Mi.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Fi(Mi["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Fi(Mi.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Fi(Mi.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Fi(Mi.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Fi(Mi.paladin),fallback:""}],BS=Object.fromEntries(Rn.map(t=>[t.key,t])),n1=new Map;function Ws(t,e){n1.set(sA(t),e)}for(const t of Rn)Ws(t.key,t.key),Ws(t.label,t.key);Ws("war","warrior");Ws("krieger","warrior");Ws("magier","mage");Ws("jaeger","scout");Ws("jger","scout");Ws("assa","assassin");Ws("meuchelmoerder","assassin");Ws("meuchelmrder","assassin");Ws("demonhunter","demon-hunter");Ws("dh","demon-hunter");Ws("daemonenjaeger","demon-hunter");Ws("dmonenjger","demon-hunter");Ws("zerker","berserker");Ws("battlemage","battle-mage");Ws("kampfmagier","battle-mage");Ws("bm","battle-mage");Ws("druide","druid");Ws("barde","bard");Ws("necro","necromancer");Ws("nekromant","necromancer");Ws("pala","paladin");function nA(t){const e=sA(t);if(!e)return{};const n=n1.get(e);if(n){const r=BS[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of n1.entries())if(r.startsWith(e)||e.startsWith(r)){const a=BS[i];return{url:a.iconUrl,fallback:a.fallback}}return{}}function hx(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const n=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function Df(t){if(t==null)return;const e=hx(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function rA(t,e=64){if(t==null)return;const n=hx(t);if(!n)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function iA(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function aA(t,e,n,r){const i=Df(t);return i?iA(i,{w:e,h:n,fit:r}):void 0}function Ur(t,e=64){const n=rA(t,e);return n?iA(n,{w:e,h:e,fit:"contain"}):void 0}function fy(t){if(t==null)return;const e=hx(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function TO(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const xc=Object.assign(t=>Df(t),{id:hx,direct:Df,thumb:rA,proxy:aA,thumbProxy:Ur,raw:fy,gif:fy,gifProxy:t=>{const e=fy(t);return e&&/^https?:\/\//i.test(e)?TO(e):Df(t)}}),mx="sfh:search:cache:v1:universal:",oA=`${mx}lru`,AO=720*60,bh=150,iu=()=>typeof window!="undefined"&&!!window.localStorage,EO=t=>t.trim().replace(/\s+/g," ").toLowerCase(),lA=(...t)=>{try{iu()&&window.localStorage.getItem("sfh:debug:firestoreReads")==="1"&&console.debug(...t)}catch(e){}},cA=()=>{if(!iu())return[];try{const t=window.localStorage.getItem(oA);if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e.filter(n=>typeof n=="string"):[]}catch(t){return[]}},dA=t=>{if(iu())try{window.localStorage.setItem(oA,JSON.stringify(t.slice(0,bh)))}catch(e){}},uA=t=>{const e=cA().filter(n=>n!==t);e.unshift(t),dA(e.slice(0,bh))},IO=()=>{const t=cA();if(t.length<=bh)return;const e=t.slice(0,bh);if(dA(e),!!iu())try{t.slice(bh).forEach(r=>window.localStorage.removeItem(mx+r))}catch(n){}},RO=t=>{if(!iu())return null;try{const e=window.localStorage.getItem(mx+t);if(!e)return null;const n=JSON.parse(e);return!n||typeof n.ts!="number"||typeof n.ttlSec!="number"||Date.now()-n.ts>n.ttlSec*1e3?null:(lA("[SearchCache] hit",t),uA(t),n)}catch(e){return null}},PO=(t,e,n=AO)=>{if(!iu())return;const r={...e,ts:Date.now(),ttlSec:n};try{window.localStorage.setItem(mx+t,JSON.stringify(r)),uA(t),IO(),lA("[SearchCache] store",t,{players:e.players.length,guilds:e.guilds.length})}catch(i){}},Qp=3,LO=350,Vo=25,Xp=10,Gb="sfh:search:recents",hA=20,gy=t=>Number.isFinite(t),od=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},DO=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),sc=()=>{try{const t=typeof window!="undefined"?window.localStorage.getItem(Gb):null;if(!t)return[];const e=JSON.parse(t);return Array.isArray(e)?e.slice(0,hA).map(n=>{var r,i,a,l,c,u,h,m,f;return(n==null?void 0:n.kind)==="player"||(n==null?void 0:n.kind)==="guild"?{kind:n.kind,id:String((i=(r=n.id)!=null?r:n.value)!=null?i:""),server:(l=(a=n.server)!=null?a:n.serverId)!=null?l:null,name:(u=(c=n.name)!=null?c:n.label)!=null?u:null,className:(h=n.className)!=null?h:null,level:typeof n.level=="number"?n.level:null,guildName:(m=n.guildName)!=null?m:null}:(n==null?void 0:n.kind)==="query"?{kind:"query",value:String((f=n.value)!=null?f:"")}:null}).filter(Boolean):[]}catch(t){return[]}},lc=t=>{var n;if(t.kind==="query")return`query:${t.value}`;const e=(n=t.server)!=null?n:"";return`${t.kind}:${e}:${t.id}`},$S=t=>{var e,n,r,i,a,l,c,u,h;if(t.kind!=="player"||t.name&&t.className&&t.server||typeof window=="undefined")return t;try{const m=window.localStorage.getItem(`player-profile-cache:${t.id}`);if(!m)return t;const f=JSON.parse(m),y=(f==null?void 0:f.data)||{};return{...t,name:(n=(e=t.name)!=null?e:y.name)!=null?n:null,className:(i=(r=t.className)!=null?r:y.className)!=null?i:null,server:(l=(a=t.server)!=null?a:y.server)!=null?l:null,level:(c=t.level)!=null?c:typeof y.level=="number"?y.level:null,guildName:(h=(u=t.guildName)!=null?u:y.guild)!=null?h:null}}catch(m){return t}},xy=t=>{if(typeof window!="undefined")try{const e=sc().map($S),n=t.kind==="player"?$S(t):t,r=lc(n),i=[n,...e.filter(a=>lc(a)!==r)];window.localStorage.setItem(Gb,JSON.stringify(i.slice(0,hA)))}catch(e){}},vy=(t,e)=>{try{const n=sc().filter(r=>lc(r)!==t);window.localStorage.setItem(Gb,JSON.stringify(n)),e(n)}catch(n){e(r=>r.filter(i=>lc(i)!==t))}};function MO(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function FO({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:n}){const{t:r}=wa(),i=ji(),[a,l]=X.useState(""),[c,u]=X.useState(""),[h,m]=X.useState(!1),[f,y]=X.useState(null),[b,_]=X.useState([]),[S,k]=X.useState([]),[P,D]=X.useState([]),[A,v]=X.useState(!1),[w,L]=X.useState(!1),[C,N]=X.useState(sc()),[E,F]=X.useState(-1),[I,B]=X.useState(!1),[$,U]=X.useState(!1),[H,W]=X.useState(null),K=X.useRef(null),q=X.useRef(0);X.useEffect(()=>{const Z=setTimeout(()=>u(a.trim()),LO);return()=>clearTimeout(Z)},[a]),X.useEffect(()=>{let Z=!1;async function fe(){const oe=c,_e=EO(oe);if(oe.length<Qp){_([]),k([]),D([]),v(!1),L(!1),F(C.length?0:-1),W(null);return}const ve=RO(_e);if(ve){_(ve.players.slice(0,Xp).map(ze=>{var st,at,mt;return{kind:"player",id:String(ze.playerId),name:ze.name,server:(st=ze.server)!=null?st:null,className:(at=ze.className)!=null?at:null,guildName:(mt=ze.guildName)!=null?mt:null,nameFold:null,level:null}})),k(ve.guilds.slice(0,Xp).map(ze=>{var st;return{kind:"guild",id:ze.guildId,name:ze.name,server:(st=ze.server)!=null?st:null,memberCount:null,hofRank:null}})),v(ve.playersHasMore),L(ve.guildsHasMore),D([]),F(ve.players.length+ve.guilds.length?0:-1),W("cache");return}B(!0);const Ee=Rd("Search:universal");y(null),m(!0);const Ve=++q.current;try{let ze=function(gt){var lt,wt,ns,Ls,_n,Yn,an,ai,hs,Pn,Js,lr,cr,dr,wn,rs,ws,Ln,zr,Gt,Qi,jr,bl,go,Sa,Na,xo,_l,kc,ys,wl,Xi,Si,ur;const J=gt.data(),{root:$e,id:Ge}=MO(gt),nt=Ge||J.playerId||J.guildIdentifier||"";if($e==="players"||J.playerId&&!J.guildIdentifier){if(!nt||Ke.has(nt))return;Ke.add(nt),kt.push({kind:"player",id:nt,name:(ns=(wt=J.name)!=null?wt:(lt=J.values)==null?void 0:lt.Name)!=null?ns:null,nameFold:(Ls=J.nameFold)!=null?Ls:null,server:(an=(Yn=J.server)!=null?Yn:(_n=J.values)==null?void 0:_n.Server)!=null?an:null,guildName:(Pn=(hs=J.guildName)!=null?hs:(ai=J.values)==null?void 0:ai.Guild)!=null?Pn:null,className:(cr=(lr=J.className)!=null?lr:(Js=J.values)==null?void 0:Js.Class)!=null?cr:null,level:od((wn=J.level)!=null?wn:(dr=J.values)==null?void 0:dr.Level),ts:od(J.timestamp)});return}if($e==="guilds"||J.guildIdentifier&&!J.playerId){if(!nt||yt.has(nt))return;yt.add(nt),Be.push({kind:"guild",id:nt,name:(Ln=(ws=J.name)!=null?ws:(rs=J.values)==null?void 0:rs.Name)!=null?Ln:null,nameFold:(zr=J.nameFold)!=null?zr:null,server:(jr=(Qi=J.server)!=null?Qi:(Gt=J.values)==null?void 0:Gt.Server)!=null?jr:null,memberCount:od((Na=(go=J.memberCount)!=null?go:(bl=J.values)==null?void 0:bl["Guild Member Count"])!=null?Na:(Sa=J.values)==null?void 0:Sa.GuildMemberCount),hofRank:od((ur=(Xi=(ys=(_l=J.hofRank)!=null?_l:(xo=J.values)==null?void 0:xo["Hall of Fame Rank"])!=null?ys:(kc=J.values)==null?void 0:kc.HoF)!=null?Xi:(wl=J.values)==null?void 0:wl.Rank)!=null?ur:(Si=J.values)==null?void 0:Si["Guild Rank"]),ts:od(J.timestamp)});return}};const st=DO(oe),at=fm(ft,"latest"),mt=nn(at,Br("nameFold"),Vi(st),Ui(st+""),mn(Vo)),Ut=await Jo(Ee,mt,()=>gn(mt),{collectionHint:"latest"}),je=nn(at,cl("nameNgrams","array-contains",st),mn(Vo)),Je=await Jo(Ee,je,()=>gn(je),{collectionHint:"latest"}),Ke=new Set,yt=new Set,kt=[],Be=[];Ut.forEach(ze),Je.forEach(ze);const Le=kt.slice(0,Vo),He=Be.slice(0,Vo);if(Ve!==q.current||Z){la(Ee);return}const tt=xl(ft,"servers"),fs=oe.toLowerCase(),vs=oe.toUpperCase(),os=[Jo(Ee,nn(tt,Br("displayName"),Vi(oe),Ui(oe+""),mn(e)),()=>gn(nn(tt,Br("displayName"),Vi(oe),Ui(oe+""),mn(e))),{collectionHint:"servers"}),Jo(Ee,nn(tt,Br("code"),Vi(vs),Ui(vs+""),mn(e)),()=>gn(nn(tt,Br("code"),Vi(vs),Ui(vs+""),mn(e))),{collectionHint:"servers"}),Jo(Ee,nn(tt,Br("host"),Vi(fs),Ui(fs+""),mn(e)),()=>gn(nn(tt,Br("host"),Vi(fs),Ui(fs+""),mn(e))),{collectionHint:"servers"})],ls=await Promise.allSettled(os),Os=new Set,_t=[];for(const gt of ls)gt.status==="fulfilled"&&gt.value.forEach(J=>{var nt,lt,wt,ns,Ls;const $e=J.data(),Ge=J.id;!Ge||Os.has(Ge)||(Os.add(Ge),_t.push({kind:"server",id:Ge,displayName:(nt=$e.displayName)!=null?nt:null,code:(lt=$e.code)!=null?lt:null,host:(wt=$e.host)!=null?wt:null,region:(ns=$e.region)!=null?ns:null,type:(Ls=$e.type)!=null?Ls:null,numericId:od($e.numericId),active:typeof $e.active=="boolean"?$e.active:null}))});const we=[],Ys=gt=>{for(const J of gt){if(we.length>=Xp)break;we.push(J)}};Ys(Le),Ys(He),we.length<Xp&&(Ys(Le.slice(we.length)),Ys(He.slice(we.length))),_(we.filter(gt=>gt.kind==="player")),k(we.filter(gt=>gt.kind==="guild")),D(_t.slice(0,e)),v(Le.length===Vo),L(He.length===Vo),F(we.length+_t.length?0:-1),W("live"),PO(_e,{players:Le.map(gt=>({playerId:gt.id,name:gt.name,server:gt.server,className:gt.className,guildName:gt.guildName})),guilds:He.map(gt=>{var J;return{guildId:gt.id,name:gt.name,server:(J=gt.server)!=null?J:void 0}}),playersHasMore:Le.length===Vo,guildsHasMore:He.length===Vo})}catch(ze){y((ze==null?void 0:ze.message)||"Unbekannter Fehler bei der Suche."),_([]),k([]),D([]),F(-1)}finally{la(Ee),m(!1)}}return fe(),()=>{Z=!0}},[c,e,C.length]),X.useEffect(()=>{const Z=fe=>{K.current&&(K.current.contains(fe.target)||(_([]),k([]),D([]),F(-1),B(!1),U(!1)))};return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const se=I&&a.trim().length<Qp&&C.length>0,ne=I&&(h||f||se||[...b,...S,...P].length>0||$&&a.trim().length<Qp),z=C.filter(Z=>Z.kind==="player"||Z.kind==="guild").map(Z=>{var fe,oe,_e,ve,Ee,Ve,ze;return Z.kind==="player"?{kind:"player",id:Z.id,name:(fe=Z.name)!=null?fe:null,nameFold:null,server:(oe=Z.server)!=null?oe:null,guildName:(_e=Z.guildName)!=null?_e:null,className:(ve=Z.className)!=null?ve:null,level:(Ee=Z.level)!=null?Ee:null,ts:null}:{kind:"guild",id:Z.id,name:(Ve=Z.name)!=null?Ve:null,nameFold:null,server:(ze=Z.server)!=null?ze:null,memberCount:null,hofRank:null,ts:null}}),Y=se?z:[...b,...S,...P],le=Z=>{Z.kind==="player"?(xy({kind:"player",id:Z.id,name:Z.name,className:Z.className,level:Z.level,guildName:Z.guildName,server:Z.server}),N(sc()),i(`/player/${encodeURIComponent(Z.id)}`)):Z.kind==="guild"?(xy({kind:"guild",id:Z.id,name:Z.name,server:Z.server}),N(sc()),i(`/guild/${encodeURIComponent(Z.id)}`)):i(`/server/${encodeURIComponent(Z.id)}`),_([]),k([]),D([]),F(-1),l(""),B(!1),W(null)},ae=()=>{a.trim().length<Qp||(xy({kind:"query",value:a.trim()}),N(sc()),i(`/search?q=${encodeURIComponent(a.trim())}`),B(!1))},he=Z=>{if(Z.key==="Enter"){Z.preventDefault(),E>=0&&Y[E]?le(Y[E]):ae();return}if(Z.key==="Escape"){_([]),k([]),D([]),F(-1),B(!1);return}Y.length&&(Z.key==="ArrowDown"?(Z.preventDefault(),F(fe=>(fe+1)%Y.length)):Z.key==="ArrowUp"&&(Z.preventDefault(),F(fe=>(fe-1+Y.length)%Y.length)))},ye=(Z,fe,oe=!1,_e)=>{var Ee,Ve,ze,st,at,mt;const ve=fe===E;return s.jsxs("button",{onClick:()=>le(Z),style:ve?pt.itemActive:pt.item,title:Z.name||"",onMouseEnter:()=>F(fe),children:[s.jsx("div",{style:pt.iconBox,children:n?s.jsx("img",{src:n((Ee=Z.className)!=null?Ee:void 0,64),alt:(Ve=Z.className)!=null?Ve:"class icon",style:pt.iconImgShadow,loading:"lazy"}):s.jsx("span",{style:pt.iconFallback,children:(ze=Z.className)!=null?ze:"?"})}),s.jsxs("div",{style:pt.meta,children:[s.jsxs("div",{style:pt.line1,children:[s.jsx("span",{style:pt.name,children:(st=Z.name)!=null?st:Z.id}),gy(Z.level)&&s.jsxs("span",{style:pt.badge,children:["Lvl ",Z.level]}),oe&&s.jsx("span",{style:pt.recentsBadge,children:r("search.recentLabel","Recent")}),oe&&_e&&s.jsx("button",{type:"button",style:pt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:Ut=>{Ut.preventDefault(),Ut.stopPropagation(),vy(_e,N)},children:""})]}),s.jsxs("div",{style:pt.line2,children:[s.jsx("span",{children:(at=Z.className)!=null?at:"Klasse ?"}),s.jsx("span",{style:pt.sep,children:""}),s.jsx("span",{children:(mt=Z.server)!=null?mt:"Server ?"})]})]})]},`p-${Z.id}-${fe}-${oe?"r":"s"}`)},Ie=(Z,fe,oe=!1,_e)=>{var Ee,Ve;const ve=fe===E;return s.jsxs("button",{onClick:()=>le(Z),style:ve?pt.itemActive:pt.item,title:Z.name||"",onMouseEnter:()=>F(fe),children:[s.jsx("div",{style:pt.iconBox,children:""}),s.jsxs("div",{style:pt.meta,children:[s.jsxs("div",{style:pt.line1,children:[s.jsx("span",{style:pt.name,children:(Ee=Z.name)!=null?Ee:Z.id}),gy(Z.hofRank)&&s.jsxs("span",{style:pt.badge,children:["HoF #",Z.hofRank]}),oe&&s.jsx("span",{style:pt.recentsBadge,children:r("search.recentLabel","Recent")}),oe&&_e&&s.jsx("button",{type:"button",style:pt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:ze=>{ze.preventDefault(),ze.stopPropagation(),vy(_e,N)},children:""})]}),s.jsxs("div",{style:pt.line2,children:[s.jsx("span",{children:(Ve=Z.server)!=null?Ve:"Server ?"}),s.jsx("span",{style:pt.sep,children:""}),s.jsx("span",{children:gy(Z.memberCount)?r("search.guildMembers","{{count}} members",{count:Z.memberCount}):r("search.guildMembersUnknown","Members ?")})]})]})]},`g-${Z.id}-${fe}-${oe?"r":"s"}`)};return s.jsxs("div",{ref:K,style:pt.wrap,children:[s.jsx("input",{style:pt.input,placeholder:t,value:a,onChange:Z=>l(Z.target.value),onKeyDown:he,onFocus:()=>{U(!0),B(!0)},onBlur:()=>{U(!1)},"aria-label":r("search.inputLabel","Spieler, Gilden und Server suchen")}),ne&&s.jsxs("div",{style:pt.dropdown,children:[h&&s.jsx("div",{style:pt.hint,children:r("search.loading","Laden ")}),f&&s.jsx("div",{style:pt.err,children:f}),!h&&!f&&se&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:pt.sectionHdr,children:r("search.recents","Recent searches")}),C.length===0&&s.jsx("div",{style:pt.hint,children:r("search.minCharsHint","Type at least 3 characters")}),C.map((Z,fe)=>{var oe,_e,ve,Ee,Ve,ze,st;if(Z.kind==="query"){const at=lc(Z);return s.jsx("button",{style:pt.item,onClick:()=>{l(Z.value),u(Z.value),B(!1),N(sc())},children:s.jsx("div",{style:pt.meta,children:s.jsxs("div",{style:pt.line1,children:[s.jsx("span",{style:pt.name,children:Z.value}),s.jsx("span",{style:pt.recentsBadge,children:r("search.recentLabel","Recent")}),s.jsx("button",{type:"button",style:pt.clearBtn,"aria-label":r("search.removeRecent","Remove"),onClick:mt=>{mt.preventDefault(),mt.stopPropagation(),vy(at,N)},children:""})]})})},`rq-${fe}`)}if(Z.kind==="player"){const at={kind:"player",id:Z.id,name:(oe=Z.name)!=null?oe:null,server:(_e=Z.server)!=null?_e:null,guildName:(ve=Z.guildName)!=null?ve:null,className:(Ee=Z.className)!=null?Ee:null,level:(Ve=Z.level)!=null?Ve:null},mt=lc(Z);return s.jsx(X.Fragment,{children:ye(at,fe,!0,mt)},`rp-${Z.id}-${fe}`)}if(Z.kind==="guild"){const at={kind:"guild",id:Z.id,name:(ze=Z.name)!=null?ze:null,server:(st=Z.server)!=null?st:null,memberCount:null,hofRank:null},mt=lc(Z);return s.jsx(X.Fragment,{children:Ie(at,fe+b.length,!0,mt)},`rg-${Z.id}-${fe}`)}return null})]}),!h&&!f&&!se&&Y.length===0&&s.jsx("div",{style:pt.hint,children:r("search.noResults","No results")}),!h&&!f&&b.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:pt.sectionHdr,children:r("search.players","Players")}),b.map((Z,fe)=>ye(Z,fe))]}),!h&&!f&&S.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:pt.sectionHdr,children:r("search.guilds","Guilds")}),S.map((Z,fe)=>{const oe=b.length+fe;return Ie(Z,oe)})]}),!h&&!f&&P.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:pt.sectionHdr,children:r("search.servers","Servers")}),P.map((Z,fe)=>{var ve,Ee,Ve,ze,st,at;const oe=b.length+S.length+fe,_e=oe===E;return s.jsxs("button",{onClick:()=>le(Z),style:_e?pt.itemActive:pt.item,title:Z.displayName||Z.code||Z.host||"",onMouseEnter:()=>F(oe),children:[s.jsx("div",{style:pt.iconBoxPlain,children:s.jsx("div",{style:pt.serverGlyph,children:""})}),s.jsxs("div",{style:pt.meta,children:[s.jsxs("div",{style:pt.line1,children:[s.jsx("span",{style:pt.name,children:(Ve=(Ee=(ve=Z.displayName)!=null?ve:Z.code)!=null?Ee:Z.host)!=null?Ve:Z.id}),Z.active!=null&&s.jsx("span",{style:pt.badge,children:Z.active?r("search.active","Active"):r("search.inactive","Inactive")})]}),s.jsxs("div",{style:pt.line2,children:[s.jsx("span",{children:(ze=Z.code)!=null?ze:"?"}),s.jsx("span",{style:pt.sep,children:""}),s.jsx("span",{children:(st=Z.host)!=null?st:"?"}),s.jsx("span",{style:pt.sep,children:""}),s.jsx("span",{children:(at=Z.region)!=null?at:"?"}),Z.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:pt.sep,children:""}),s.jsx("span",{children:Z.type.toUpperCase()})]}):null]})]})]},`s-${Z.id}-${fe}`)})]}),(A||w)&&s.jsx("button",{style:pt.moreCta,onClick:ae,children:r("search.moreResults","More results press Enter")})]})]})}const pt={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},moreCta:{width:"100%",border:"1px dashed rgba(255,255,255,0.3)",background:"transparent",color:"#d6e4f7",padding:"10px 12px",borderRadius:10,cursor:"pointer",marginTop:8},recentsBadge:{marginLeft:8,fontSize:11,color:"#8aa5c4",border:"1px solid rgba(255,255,255,0.2)",padding:"0 6px",borderRadius:12},clearBtn:{marginLeft:8,background:"transparent",border:"none",color:"rgba(214,228,247,0.85)",cursor:"pointer",fontSize:12,padding:"0 4px"}},Yp=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function Wb(t,e=64){if(!t)return;const n=Yp(t);let r=Rn.find(i=>Yp(i.label)===n);return r||(r=Rn.find(i=>Yp(i.label).startsWith(n)||n.startsWith(Yp(i.label)))),r?Ur(r.iconUrl,e):void 0}const BO=[{to:"/",label:"Home",featureId:"main.home"},{to:"/dashboard",label:"Dashboard",featureId:"main.dashboard"},{to:"/guild-hub",label:"Guild Hub",featureId:"main.guildHub"},{to:"/community",label:"Community",featureId:"main.community"},{to:"/tools",label:"Tools",featureId:"main.tools"}];function $O(t,e){return Wb(t,e)}function OO({user:t}){const{open:e,canUse:n}=Hb(),{isVisibleInTopbar:r}=ux(),i=X.useMemo(()=>BO.filter(l=>!l.featureId||r(l.featureId)),[r]),a=()=>{e({tab:"json"})};return s.jsxs("header",{className:Ht.topbar,children:[s.jsxs("div",{className:Ht.topbarLeft,children:[s.jsx("button",{className:Ht.btnIco,"aria-label":"Benachrichtigungen",children:s.jsx(j6,{className:Ht.ico})}),s.jsx("button",{className:Ht.btnIco,"aria-label":"Favoriten",children:s.jsx(ED,{className:Ht.ico})}),i.length>0?s.jsx("nav",{className:Ht.topbarNav,"aria-label":"Schnellzugriff",children:i.map(l=>s.jsx(Ns,{to:l.to,className:({isActive:c})=>`${Ht.pill} ${Ht.topbarLink} ${c?Ht.pillActive:""}`,children:l.label},l.to))}):null]}),s.jsx("div",{className:Ht.searchWrap,children:s.jsx(FO,{placeholder:"Suchen (Spieler)",getClassIcon:$O,maxPerSection:10})}),s.jsxs("div",{className:Ht.topbarRight,children:[s.jsxs("a",{className:`${Ht.pill} ${Ht.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[s.jsx(X6,{className:Ht.ico}),"www.sfgame.net"]}),n?s.jsxs("button",{className:Ht.upload,"aria-label":"Scan hochladen",onClick:a,title:"Scan hochladen",children:[s.jsx($D,{className:Ht.ico}),s.jsx("span",{className:Ht.label,children:"Scan hochladen"})]}):null,s.jsx(dO,{fallbackName:t==null?void 0:t.name})]})]})}const VO="_root_jjyom_3",UO="_expanded_jjyom_45",zO="_headRow_jjyom_55",HO="_headTitle_jjyom_63",GO="_headDot_jjyom_65",WO="_headLabel_jjyom_67",qO="_pinBtn_jjyom_69",KO="_navScroll_jjyom_81",QO="_pad_jjyom_83",XO="_segCard_jjyom_89",YO="_segTitle_jjyom_121",JO="_connectedCharactersCard_jjyom_139",ZO="_connectedCharactersTitle_jjyom_145",eV="_connectedCharactersList_jjyom_159",tV="_characterChip_jjyom_175",sV="_characterChipId_jjyom_215",nV="_characterChipMeta_jjyom_223",rV="_connectedCharactersEmpty_jjyom_231",iV="_connectedCharactersEmptyText_jjyom_285",aV="_connectedCharactersEmptyCta_jjyom_291",oV="_navCol_jjyom_341",lV="_navItemWrap_jjyom_343",cV="_navBtn_jjyom_349",dV="_navBtnActive_jjyom_373",uV="_label_jjyom_377",hV="_trailing_jjyom_407",mV="_isOpen_jjyom_455",pV="_footer_jjyom_481",fV="_login_jjyom_483",gV="_userMeta_jjyom_505",xV="_footerLink_jjyom_519",vV="_legal_jjyom_547",yV="_labelText_jjyom_571",bV="_char_jjyom_175",_V="_mainNavCard_jjyom_649",Rt={root:VO,expanded:UO,headRow:zO,headTitle:HO,headDot:GO,headLabel:WO,pinBtn:qO,navScroll:KO,pad:QO,segCard:XO,segTitle:YO,connectedCharactersCard:JO,connectedCharactersTitle:ZO,connectedCharactersList:eV,characterChip:tV,characterChipId:sV,characterChipMeta:nV,connectedCharactersEmpty:rV,connectedCharactersEmptyText:iV,connectedCharactersEmptyCta:aV,navCol:oV,navItemWrap:lV,navBtn:cV,navBtnActive:dV,label:uV,trailing:hV,isOpen:mV,footer:pV,login:fV,userMeta:gV,footerLink:xV,legal:vV,labelText:yV,char:bV,mainNavCard:_V},wV="_panel_90cjk_1",jV="_open_90cjk_31",SV="_col_90cjk_43",NV="_link_90cjk_55",kV="_linkActive_90cjk_73",_h={panel:wV,open:jV,col:SV,link:NV,linkActive:kV};function CV(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function TV({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:a}){const[l,c]=X.useState({left:0,top:0});return X.useEffect(()=>{if(!e||!t)return;const u=()=>c(CV(t));u();const h=new ResizeObserver(u);return h.observe(document.documentElement),window.addEventListener("scroll",u,!0),window.addEventListener("resize",u),()=>{h.disconnect(),window.removeEventListener("scroll",u,!0),window.removeEventListener("resize",u)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(u=>u.label)),u6.createPortal(s.jsx("div",{className:`${_h.panel} ${e?_h.open:""}`,style:{left:l.left,top:l.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:a,role:"menu",children:s.jsx("div",{className:_h.col,children:n.map(u=>r(u))})}),document.body))}const AV=[{to:"/",label:"Home",icon:s.jsx(Z6,{className:"ico"}),end:!0,featureId:"main.home"},{to:"/discover",label:"Discover",icon:s.jsx(V6,{className:"ico"}),featureId:"main.discover"},{to:"/dashboard",label:"Dashboard",icon:s.jsx(nD,{className:"ico"}),featureId:"main.dashboard"},{to:"/settings",label:"Settings",icon:s.jsx(bD,{className:"ico"}),featureId:"main.settings"},{to:"/guild-hub",label:"Guild Hub",icon:s.jsx(bc,{className:"ico"}),featureId:"main.guildHub"},{to:"/admin",label:"Admin",icon:s.jsx(SD,{className:"ico"}),featureId:"main.admin"},{to:"/playground",label:"Playground",icon:s.jsx($g,{className:"ico"}),featureId:"main.playground"}],EV=[{to:"/toplists",label:"Toplists",icon:s.jsx(FD,{className:"ico"}),featureId:"main.toplists"},{to:"/guidehub",label:"Guide Hub",icon:s.jsx(N6,{className:"ico"}),featureId:"main.guidehub"},{to:"/tools",label:"Tools",icon:s.jsx(UD,{className:"ico"}),i18nKey:"nav.tools",featureId:"main.tools"},{to:"/community",label:"Community",icon:s.jsx(aD,{className:"ico"}),featureId:"main.community"},{to:"/scans",label:"Scans",icon:s.jsx(K6,{className:"ico"}),featureId:"main.scans"}],IV={"/guild-hub":[{to:"/guild-hub",label:"Overview"},{to:"/guild-hub/planner",label:"Guild Planner"},{to:"/guild-hub/fusion-planner",label:"Fusion Planner"},{to:"/guild-hub/compare-guilds",label:"Gildenvergleich"},{to:"/guild-hub/waitlist",label:"Waitlist"},{to:"/guild-hub/settings",label:"Settings"}],"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"},{to:"/admin/users",label:"Users",minRole:"mod"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]};function RV(t,e){return e?e==="admin"?t.includes("admin"):t.includes("admin")||t.includes("mod"):!0}function PV(t,e){return t?t.filter(n=>RV(e,n.minRole)):[]}const LV=220;function DV(t=LV){const[e,n]=X.useState(!1),r=X.useRef(null),i=X.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),a=X.useCallback(()=>{i(),n(!0)},[i]),l=X.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),t)},[i,t]);return X.useEffect(()=>()=>i(),[i]),{open:e,onEnter:a,onLeave:l,setOpen:n}}function qb({text:t,isOpen:e,duration:n=1,step:r=45}){const i=X.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:Rt.label,children:s.jsx("span",{className:Rt.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((a,l)=>s.jsx("span",{className:Rt.char,style:{"--i":l},"aria-hidden":"true",children:a===" "?"":a},`${t}-${l}`))})})}function MV({it:t,label:e,collapsed:n,allowSubmenus:r,subItems:i}){const a=i.length>0,{open:l,onEnter:c,onLeave:u,setOpen:h}=DV(),m=X.useRef(null),f=X.useCallback(()=>{if(!r||!a){h(!1);return}c()},[r,a,c,h]);return s.jsxs("div",{ref:m,className:`${Rt.navItemWrap} ${l?Rt.isOpen:""}`,onMouseEnter:f,onMouseLeave:u,children:[s.jsxs(Ns,{to:t.to,end:!!t.end,className:({isActive:y})=>`${Rt.navBtn} ${y?Rt.navBtnActive:""}`,children:[t.icon,s.jsx(qb,{text:e,isOpen:!n}),a&&!n&&s.jsx("span",{className:Rt.trailing,"aria-hidden":"true",children:s.jsx(A6,{className:"ico"})})]}),a&&s.jsx(TV,{anchorEl:m.current,open:l,items:i.map(({to:y,label:b})=>({to:y,label:b})),renderLink:y=>s.jsx(Ns,{to:y.to,end:!0,className:({isActive:b})=>`${_h.link} ${b?_h.linkActive:""}`,children:y.label},y.to),onMouseEnter:c,onMouseLeave:u})]})}function OS({title:t,items:e,collapsed:n,allowSubmenus:r,userRoles:i,translate:a,isItemVisible:l}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${Rt.navTitle} ${Rt.segTitle}`,children:t}),s.jsx("div",{className:Rt.navCol,children:e.map(c=>{if(!l(c))return null;const u=PV(IV[c.to],i),h=c.i18nKey?a(c.i18nKey):c.label;return u.length?s.jsx(MV,{it:c,label:h,collapsed:n,allowSubmenus:r,subItems:u},c.to):s.jsxs(Ns,{to:c.to,end:!!c.end,className:({isActive:m})=>`${Rt.navBtn} ${m?Rt.navBtnActive:""}`,children:[c.icon,s.jsx(qb,{text:h,isOpen:!n})]},c.to)})})]})}const FV=90,BV=180;function $V({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0}){var $;const a=X.useRef(null),l=X.useRef(null),[c,u]=X.useState(!1),h=X.useCallback(()=>{a.current&&(window.clearTimeout(a.current),a.current=null),l.current&&(window.clearTimeout(l.current),l.current=null)},[]),m=X.useCallback(()=>{!i||n||(h(),u(!1),a.current=window.setTimeout(()=>e(!0),FV))},[i,n,h,e]),f=X.useCallback(()=>{!i||n||(h(),l.current=window.setTimeout(()=>{e(!1),u(!1)},BV))},[i,n,h,e]);X.useEffect(()=>()=>h(),[h]),X.useEffect(()=>{n&&u(!0)},[n]);const y=U=>{U.propertyName==="width"&&t&&!n&&u(!0)};X.useEffect(()=>{if(t&&!n){const U=window.setTimeout(()=>u(!0),250);return()=>window.clearTimeout(U)}},[t,n]);const b=!t,_=n||t&&c,S=ji(),{t:k}=wa(),{status:P,user:D,logout:A}=fo(),v=P==="authenticated",w=($=D==null?void 0:D.roles)!=null?$:[],L=X.useMemo(()=>{var U;return(U=D==null?void 0:D.linkedPlayers)!=null?U:[]},[D==null?void 0:D.linkedPlayers]),{isVisibleInSidebar:C}=ux(),N=()=>{v?A():S("/login")},E=U=>{S(`/player/${U}`)},F=()=>{L.length>0||S(v?"/settings/account?tab=connected-characters&openHelp=1":"/help#linking")},I=v?k("sidebar.connectedCharacters.empty",{defaultValue:"No characters linked yet. Link a character in your account to see it here."}):k("sidebar.connectedCharacters.loginPrompt",{defaultValue:"Sign in to see your linked characters."}),B=v?k("sidebar.connectedCharacters.ctaAuthed",{defaultValue:"Open linked characters guide"}):k("sidebar.connectedCharacters.ctaGuest",{defaultValue:"Open start guide"});return s.jsxs("aside",{id:"sidebar-root",className:`${Rt.root} ${t?Rt.expanded:""}`,"data-collapsed":b?"true":"false",onMouseEnter:m,onMouseLeave:f,onTransitionEnd:y,"aria-label":"Navigation",children:[s.jsxs("div",{className:Rt.headRow,children:[s.jsxs("div",{className:Rt.headTitle,children:[s.jsx("span",{className:Rt.headDot})," ",s.jsx("span",{className:Rt.headLabel,children:"Navigation"})]}),s.jsx("button",{className:Rt.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?s.jsx(hD,{className:"ico"}):s.jsx(dD,{className:"ico"})})]}),s.jsx("div",{className:Rt.navScroll,children:s.jsxs("div",{className:Rt.pad,children:[s.jsx("div",{className:`${Rt.segCard} ${Rt.mainNavCard}`,children:s.jsx(OS,{items:AV,collapsed:b,allowSubmenus:_,userRoles:w,translate:k,isItemVisible:U=>{var H;return C((H=U.featureId)!=null?H:U.to)}})}),s.jsx("div",{className:Rt.segTitle,children:"Kategorien"}),s.jsx("div",{className:`${Rt.segCard} ${Rt.mainNavCard}`,children:s.jsx(OS,{items:EV,collapsed:b,allowSubmenus:_,userRoles:w,translate:k,isItemVisible:U=>{var H;return C((H=U.featureId)!=null?H:U.to)}})}),s.jsxs("div",{className:`${Rt.segCard} ${Rt.mainNavCard} ${Rt.connectedCharactersCard}`,children:[s.jsx("div",{className:Rt.connectedCharactersTitle,children:k("sidebar.connectedCharacters.title",{defaultValue:"Connected characters"})}),L.length===0?s.jsxs("button",{type:"button",className:Rt.connectedCharactersEmpty,onClick:F,children:[s.jsx("span",{className:Rt.connectedCharactersEmptyText,children:I}),s.jsx("span",{className:Rt.connectedCharactersEmptyCta,children:B})]}):s.jsx("div",{className:Rt.connectedCharactersList,"data-collapsed":b?"true":"false",children:L.map(U=>{var q,se;const H=[U.server,U.class].filter(Boolean).join(" | "),W=(q=U.playerId)!=null?q:"-",K=`${(se=U.server)!=null?se:"server"}-${W}`;return s.jsxs("button",{type:"button",className:Rt.characterChip,onClick:()=>E(W),children:[s.jsx("span",{className:Rt.characterChipId,children:W}),H&&s.jsx("span",{className:Rt.characterChipMeta,children:H})]},K)})})]})]})}),s.jsxs("div",{className:`${Rt.footer} ${Rt.segCard} ${Rt.mainNavCard}`,children:[s.jsxs("button",{className:Rt.login,type:"button",onClick:N,children:[s.jsx(bc,{className:"ico"}),s.jsx(qb,{text:v?"Logout":"Login",isOpen:!b})]}),v&&(D!=null&&D.displayName)?s.jsx("div",{className:Rt.userMeta,title:D.displayName,children:D.displayName}):null,s.jsx(Ns,{to:"/help",className:Rt.footerLink,children:k("nav.help",{defaultValue:"Help"})}),s.jsxs("div",{className:Rt.legal,children:["(c) 2025 ",k("footer.shortDisclaimer",{defaultValue:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners."})]})]})]})}const Mf="/assets/logo-sfdatahub-CUdhlsEb.png";function OV({src:t,alt:e="",children:n,to:r="/",loading:i="eager",decoding:a="async"}){const l=t!=null?t:Mf;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(Ns,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:l,alt:e,loading:i,decoding:a,onError:c=>{const u=c.currentTarget;u.src!==Mf&&(u.src=Mf)}})}),n]})}const VV={borderColor:"#2B4C73",background:"#1A2F4A"};function UV(){const[t,e]=T.useState(!1),[n,r]=T.useState(!1),i=n||t,{t:a}=wa(),l=T.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]),c=a("footer.about.body").split(`

`),u=[{key:"tos",to:"/playground/legal/tos",label:a("help.sections.legal.items.tos",{defaultValue:"Terms of Service (ToS)"})},{key:"privacy",to:"/playground/legal/tos",label:a("help.sections.legal.items.privacy",{defaultValue:"Privacy Policy"})},{key:"imprint",to:"/help",label:a("help.sections.legal.items.imprint",{defaultValue:"Imprint / Contact"})}];return s.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":l},children:[s.jsx(OV,{src:"/logo.png"}),s.jsx(OO,{}),s.jsx("div",{className:"logo-fill"}),s.jsx($V,{expanded:i,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsxs("div",{className:"content-body",children:[s.jsx(x3,{}),s.jsx("div",{className:"mt-4 px-4 md:px-6",children:s.jsxs("div",{className:"rounded-2xl border px-4 py-4",style:VV,children:[s.jsx("div",{className:"text-sm font-semibold",style:{color:"#F5F9FF"},children:a("footer.about.title")}),s.jsx("div",{className:"mt-2 space-y-2 text-[13px]",style:{color:"#B0C4D9"},children:c.map((h,m)=>s.jsx("p",{className:"whitespace-pre-line",children:h},`footer-about-${m}`))}),s.jsxs("div",{className:"mt-4 space-y-2 text-[12px]",style:{color:"#B0C4D9"},children:[s.jsx("div",{children:a("footer.copyright",{defaultValue:" 2025 SFDataHub  community project around Shakes & Fidget."})}),s.jsx("div",{children:a("footer.shortDisclaimer",{defaultValue:"SFDataHub is an unofficial, non-commercial fan project. All trademarks and images belong to their respective owners."})})]}),s.jsx("div",{className:"mt-3 flex flex-wrap gap-3 text-[13px]",style:{color:"#9EC7FF"},children:u.map(h=>s.jsx(xs,{to:h.to,className:"underline hover:no-underline",children:h.label},h.key))})]})})]})})})]})}const mA=T.createContext({});function Kb(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qb=T.createContext(null),Xb=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function zV(t=!0){const e=T.useContext(Qb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=T.useId();T.useEffect(()=>{t&&i(a)},[t]);const l=T.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Yb=typeof window!="undefined",pA=Yb?T.useLayoutEffect:T.useEffect,ni=t=>t;let fA=ni;function Jb(t){let e;return()=>(e===void 0&&(e=t()),e)}const vc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ga=t=>t*1e3,xa=t=>t/1e3,HV={useManualTiming:!1};function GV(t){let e=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){a.has(h)&&(u.schedule(h),t()),h(l)}const u={schedule:(h,m=!1,f=!1)=>{const b=f&&r?e:n;return m&&a.add(h),b.has(h)||b.add(h),h},cancel:h=>{n.delete(h),a.delete(h)},process:h=>{if(l=h,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(c),e.clear(),r=!1,i&&(i=!1,u.process(h))}};return u}const Jp=["read","resolveKeyframes","update","preRender","render","postRender"],WV=40;function gA(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Jp.reduce((P,D)=>(P[D]=GV(a),P),{}),{read:c,resolveKeyframes:u,update:h,preRender:m,render:f,postRender:y}=l,b=()=>{const P=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(P-i.timestamp,WV),1),i.timestamp=P,i.isProcessing=!0,c.process(i),u.process(i),h.process(i),m.process(i),f.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},_=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:Jp.reduce((P,D)=>{const A=l[D];return P[D]=(v,w=!1,L=!1)=>(n||_(),A.schedule(v,w,L)),P},{}),cancel:P=>{for(let D=0;D<Jp.length;D++)l[Jp[D]].cancel(P)},state:i,steps:l}}const{schedule:Es,cancel:uo,state:Vn,steps:yy}=gA(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:ni,!0),xA=T.createContext({strict:!1}),VS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gd={};for(const t in VS)Gd[t]={isEnabled:e=>VS[t].some(n=>!!e[n])};function qV(t){for(const e in t)Gd[e]={...Gd[e],...t[e]}}const KV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||KV.has(t)}let vA=t=>!mg(t);function QV(t){t&&(vA=e=>e.startsWith("on")?!mg(e):t(e))}try{QV(require("@emotion/is-prop-valid").default)}catch(t){}function XV(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(vA(i)||n===!0&&mg(i)||!e&&!mg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function YV(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const px=T.createContext({});function qh(t){return typeof t=="string"||Array.isArray(t)}function fx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Zb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],e_=["initial",...Zb];function gx(t){return fx(t.animate)||e_.some(e=>qh(t[e]))}function yA(t){return!!(gx(t)||t.variants)}function JV(t,e){if(gx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||qh(n)?n:void 0,animate:qh(r)?r:void 0}}return t.inherit!==!1?e:{}}function ZV(t){const{initial:e,animate:n}=JV(t,T.useContext(px));return T.useMemo(()=>({initial:e,animate:n}),[US(e),US(n)])}function US(t){return Array.isArray(t)?t.join(" "):t}const eU=Symbol.for("motionComponentSymbol");function yd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tU(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yd(n)&&(n.current=r))},[e])}const t_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sU="framerAppearId",bA="data-"+t_(sU),{schedule:s_}=gA(queueMicrotask,!1),_A=T.createContext({});function nU(t,e,n,r,i){var a,l;const{visualElement:c}=T.useContext(px),u=T.useContext(xA),h=T.useContext(Qb),m=T.useContext(Xb).reducedMotion,f=T.useRef(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const y=f.current,b=T.useContext(_A);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&rU(f.current,n,i,b);const _=T.useRef(!1);T.useInsertionEffect(()=>{y&&_.current&&y.update(n,h)});const S=n[bA],k=T.useRef(!!S&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,S))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,S)));return pA(()=>{y&&(_.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),s_.render(y.render),k.current&&y.animationState&&y.animationState.animateChanges())}),T.useEffect(()=>{y&&(!k.current&&y.animationState&&y.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)===null||P===void 0||P.call(window,S)}),k.current=!1))}),y}function rU(t,e,n,r){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wA(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&yd(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:h})}function wA(t){if(t)return t.options.allowProjection!==!1?t.projection:wA(t.parent)}function iU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,l;t&&qV(t);function c(h,m){let f;const y={...T.useContext(Xb),...h,layoutId:aU(h)},{isStatic:b}=y,_=ZV(h),S=r(h,b);if(!b&&Yb){oU();const k=lU(y);f=k.MeasureLayout,_.visualElement=nU(i,S,y,e,k.ProjectionNode)}return s.jsxs(px.Provider,{value:_,children:[f&&_.visualElement?s.jsx(f,{visualElement:_.visualElement,...y}):null,n(i,h,tU(S,_.visualElement,m),S,b,_.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&l!==void 0?l:""})`}`;const u=T.forwardRef(c);return u[eU]=i,u}function aU({layoutId:t}){const e=T.useContext(mA).id;return e&&t!==void 0?e+"-"+t:t}function oU(t,e){T.useContext(xA).strict}function lU(t){const{drag:e,layout:n}=Gd;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const cU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function n_(t){return typeof t!="string"||t.includes("-")?!1:!!(cU.indexOf(t)>-1||/[A-Z]/u.test(t))}function zS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function r_(t,e,n,r){if(typeof e=="function"){const[i,a]=zS(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=zS(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const r1=t=>Array.isArray(t),dU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),uU=t=>r1(t)?t[t.length-1]||0:t,In=t=>!!(t&&t.getVelocity);function Ff(t){const e=In(t)?t.get():t;return dU(e)?e.toValue():e}function hU({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const l={latestValues:mU(r,i,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const jA=t=>(e,n)=>{const r=T.useContext(px),i=T.useContext(Qb),a=()=>hU(t,e,r,i);return n?a():Kb(a)};function mU(t,e,n,r){const i={},a=r(t,{});for(const y in a)i[y]=Ff(a[y]);let{initial:l,animate:c}=t;const u=gx(t),h=yA(t);e&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const f=m?c:l;if(f&&typeof f!="boolean"&&!fx(f)){const y=Array.isArray(f)?f:[f];for(let b=0;b<y.length;b++){const _=r_(t,y[b]);if(_){const{transitionEnd:S,transition:k,...P}=_;for(const D in P){let A=P[D];if(Array.isArray(A)){const v=m?A.length-1:0;A=A[v]}A!==null&&(i[D]=A)}for(const D in S)i[D]=S[D]}}}return i}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],jc=new Set(au),SA=t=>e=>typeof e=="string"&&e.startsWith(t),NA=SA("--"),pU=SA("var(--"),i_=t=>pU(t)?fU.test(t.split("/*")[0].trim()):!1,fU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kA=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ho=(t,e,n)=>n>e?e:n<t?t:n,ou={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Kh={...ou,transform:t=>ho(0,1,t)},Zp={...ou,default:1},bm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wo=bm("deg"),va=bm("%"),bt=bm("px"),gU=bm("vh"),xU=bm("vw"),HS={...va,parse:t=>va.parse(t)/100,transform:t=>va.transform(t*100)},vU={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt},yU={rotate:Wo,rotateX:Wo,rotateY:Wo,rotateZ:Wo,scale:Zp,scaleX:Zp,scaleY:Zp,scaleZ:Zp,skew:Wo,skewX:Wo,skewY:Wo,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:Kh,originX:HS,originY:HS,originZ:bt},GS={...ou,transform:Math.round},a_={...vU,...yU,zIndex:GS,size:bt,fillOpacity:Kh,strokeOpacity:Kh,numOctaves:GS},bU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_U=au.length;function wU(t,e,n){let r="",i=!0;for(let a=0;a<_U;a++){const l=au[a],c=t[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const h=kA(c,a_[l]);if(!u){i=!1;const m=bU[l]||l;r+=`${m}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function o_(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const u in e){const h=e[u];if(jc.has(u)){l=!0;continue}else if(NA(u)){i[u]=h;continue}else{const m=kA(h,a_[u]);u.startsWith("origin")?(c=!0,a[u]=m):r[u]=m}}if(e.transform||(l||n?r.transform=wU(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:m=0}=a;r.transformOrigin=`${u} ${h} ${m}`}}const jU={offset:"stroke-dashoffset",array:"stroke-dasharray"},SU={offset:"strokeDashoffset",array:"strokeDasharray"};function NU(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?jU:SU;t[a.offset]=bt.transform(-r);const l=bt.transform(e),c=bt.transform(n);t[a.array]=`${l} ${c}`}function WS(t,e,n){return typeof t=="string"?t:bt.transform(e+n*t)}function kU(t,e,n){const r=WS(e,t.x,t.width),i=WS(n,t.y,t.height);return`${r} ${i}`}function l_(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...h},m,f){if(o_(t,h,f),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:b,dimensions:_}=t;y.transform&&(_&&(b.transform=y.transform),delete y.transform),_&&(i!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=kU(_,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),l!==void 0&&NU(y,l,c,u,!1)}const c_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),CA=()=>({...c_(),attrs:{}}),d_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const AA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EA(t,e,n,r){TA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(AA.has(i)?i:t_(i),e.attrs[i])}const pg={};function CU(t){Object.assign(pg,t)}function IA(t,{layout:e,layoutId:n}){return jc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!pg[t]||t==="opacity")}function u_(t,e,n){var r;const{style:i}=t,a={};for(const l in i)(In(i[l])||e.style&&In(e.style[l])||IA(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=i[l]);return a}function RA(t,e,n){const r=u_(t,e,n);for(const i in t)if(In(t[i])||In(e[i])){const a=au.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}function TU(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const qS=["x","y","width","height","cx","cy","r"],AU={useVisualState:jA({scrapeMotionValuesFromProps:RA,createRenderState:CA,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in i)if(jc.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<qS.length;c++){const u=qS[c];t[u]!==e[u]&&(l=!0)}l&&Es.read(()=>{TU(n,r),Es.render(()=>{l_(r,i,d_(n.tagName),t.transformTemplate),EA(n,r)})})}})},EU={useVisualState:jA({scrapeMotionValuesFromProps:u_,createRenderState:c_})};function PA(t,e,n){for(const r in e)!In(e[r])&&!IA(r,n)&&(t[r]=e[r])}function IU({transformTemplate:t},e){return T.useMemo(()=>{const n=c_();return o_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RU(t,e){const n=t.style||{},r={};return PA(r,n,t),Object.assign(r,IU(t,e)),r}function PU(t,e){const n={},r=RU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function LU(t,e,n,r){const i=T.useMemo(()=>{const a=CA();return l_(a,e,d_(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};PA(a,t.style,t),i.style={...a,...i.style}}return i}function DU(t=!1){return(n,r,i,{latestValues:a},l)=>{const u=(n_(n)?LU:PU)(r,a,l,n),h=XV(r,typeof n=="string",t),m=n!==T.Fragment?{...h,...u,ref:i}:{},{children:f}=r,y=T.useMemo(()=>In(f)?f.get():f,[f]);return T.createElement(n,{...m,children:y})}}function MU(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...n_(r)?AU:EU,preloadedFeatures:t,useRender:DU(i),createVisualElement:e,Component:r};return iU(l)}}function LA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xx(t,e,n){const r=t.getProps();return r_(r,e,n!==void 0?n:r.custom,t)}const FU=Jb(()=>window.ScrollTimeline!==void 0);class BU{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(FU()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class DA extends BU{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function h_(t,e){return t?t[e]||t.default||t:void 0}const fg=2e4;function m_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fg;)e+=n,r=t.next(e);return e>=fg?1/0:e}function $U(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(m_(r),fg);return{type:"keyframes",ease:a=>r.next(i*a).value/e,duration:xa(i)}}function vx(t){return typeof t=="function"}function KS(t,e){t.timeline=e,t.onfinish=null}const p_=t=>Array.isArray(t)&&typeof t[0]=="number",OU={linearEasing:void 0};function VU(t,e){const n=Jb(t);return()=>{var r;return(r=OU[e])!==null&&r!==void 0?r:n()}}const gg=VU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),MA=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(vc(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function FA(t){return!!(typeof t=="function"&&gg()||!t||typeof t=="string"&&(t in i1||gg())||p_(t)||Array.isArray(t)&&t.every(FA))}const ch=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,i1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ch([0,.65,.55,1]),circOut:ch([.55,0,1,.45]),backIn:ch([.31,.01,.66,-.59]),backOut:ch([.33,1.53,.69,.99])};function BA(t,e){if(t)return typeof t=="function"&&gg()?MA(t,e):p_(t)?ch(t):Array.isArray(t)?t.map(n=>BA(n,e)||i1.easeOut):i1[t]}const $i={x:!1,y:!1};function $A(){return $i.x||$i.y}function OA(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function VA(t,e){const n=OA(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function QS(t){return e=>{e.pointerType==="touch"||$A()||t(e)}}function UU(t,e,n={}){const[r,i,a]=VA(t,n),l=QS(c=>{const{target:u}=c,h=e(c);if(typeof h!="function"||!u)return;const m=QS(f=>{h(f),u.removeEventListener("pointerleave",m)});u.addEventListener("pointerleave",m,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const UA=(t,e)=>e?t===e?!0:UA(t,e.parentElement):!1,f_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HU(t){return zU.has(t.tagName)||t.tabIndex!==-1}const dh=new WeakSet;function XS(t){return e=>{e.key==="Enter"&&t(e)}}function by(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=XS(()=>{if(dh.has(n))return;by(n,"down");const i=XS(()=>{by(n,"up")}),a=()=>by(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function YS(t){return f_(t)&&!$A()}function WU(t,e,n={}){const[r,i,a]=VA(t,n),l=c=>{const u=c.currentTarget;if(!YS(c)||dh.has(u))return;dh.add(u);const h=e(c),m=(b,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",y),!(!YS(b)||!dh.has(u))&&(dh.delete(u),typeof h=="function"&&h(b,{success:_}))},f=b=>{m(b,n.useGlobalTarget||UA(u,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",y,i)};return r.forEach(c=>{!HU(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",h=>GU(h,i),i)}),a}function qU(t){return t==="x"||t==="y"?$i[t]?null:($i[t]=!0,()=>{$i[t]=!1}):$i.x||$i.y?null:($i.x=$i.y=!0,()=>{$i.x=$i.y=!1})}const zA=new Set(["width","height","top","left","right","bottom",...au]);let Bf;function KU(){Bf=void 0}const ya={now:()=>(Bf===void 0&&ya.set(Vn.isProcessing||HV.useManualTiming?Vn.timestamp:performance.now()),Bf),set:t=>{Bf=t,queueMicrotask(KU)}};function g_(t,e){t.indexOf(e)===-1&&t.push(e)}function yx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class x_{constructor(){this.subscriptions=[]}add(e){return g_(this.subscriptions,e),()=>yx(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function HA(t,e){return e?t*(1e3/e):0}const JS=30,QU=t=>!isNaN(parseFloat(t)),wh={current:void 0};class XU{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=ya.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ya.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new x_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Es.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return wh.current&&wh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ya.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>JS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JS);return HA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wd(t,e){return new XU(t,e)}function YU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wd(n))}function JU(t,e){const n=xx(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const l in a){const c=uU(a[l]);YU(t,l,c)}}function ZU(t){return!!(In(t)&&t.add)}function a1(t,e){const n=t.getValue("willChange");if(ZU(n))return n.add(e)}function GA(t){return t.props[bA]}const WA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ez=1e-7,tz=12;function sz(t,e,n,r,i){let a,l,c=0;do l=e+(n-e)/2,a=WA(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>ez&&++c<tz);return l}function _m(t,e,n,r){if(t===e&&n===r)return ni;const i=a=>sz(a,0,1,t,n);return a=>a===0||a===1?a:WA(i(a),e,r)}const qA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KA=t=>e=>1-t(1-e),QA=_m(.33,1.53,.69,.99),v_=KA(QA),XA=qA(v_),YA=t=>(t*=2)<1?.5*v_(t):.5*(2-Math.pow(2,-10*(t-1))),y_=t=>1-Math.sin(Math.acos(t)),JA=KA(y_),ZA=qA(y_),eE=t=>/^0[^.\s]+$/u.test(t);function nz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||eE(t):!0}const jh=t=>Math.round(t*1e5)/1e5,b_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rz(t){return t==null}const iz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,__=(t,e)=>n=>!!(typeof n=="string"&&iz.test(n)&&n.startsWith(t)||e&&!rz(n)&&Object.prototype.hasOwnProperty.call(n,e)),tE=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,l,c]=r.match(b_);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},az=t=>ho(0,255,t),_y={...ou,transform:t=>Math.round(az(t))},ic={test:__("rgb","red"),parse:tE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+_y.transform(t)+", "+_y.transform(e)+", "+_y.transform(n)+", "+jh(Kh.transform(r))+")"};function oz(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const o1={test:__("#"),parse:oz,transform:ic.transform},bd={test:__("hsl","hue"),parse:tE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+va.transform(jh(e))+", "+va.transform(jh(n))+", "+jh(Kh.transform(r))+")"},nr={test:t=>ic.test(t)||o1.test(t)||bd.test(t),parse:t=>ic.test(t)?ic.parse(t):bd.test(t)?bd.parse(t):o1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ic.transform(t):bd.transform(t)},lz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cz(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(b_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(lz))===null||n===void 0?void 0:n.length)||0)>0}const sE="number",nE="color",dz="var",uz="var(",ZS="${}",hz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(hz,u=>(nr.test(u)?(r.color.push(a),i.push(nE),n.push(nr.parse(u))):u.startsWith(uz)?(r.var.push(a),i.push(dz),n.push(u)):(r.number.push(a),i.push(sE),n.push(parseFloat(u))),++a,ZS)).split(ZS);return{values:n,split:c,indexes:r,types:i}}function rE(t){return Qh(t).values}function iE(t){const{split:e,types:n}=Qh(t),r=e.length;return i=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],i[l]!==void 0){const c=n[l];c===sE?a+=jh(i[l]):c===nE?a+=nr.transform(i[l]):a+=i[l]}return a}}const mz=t=>typeof t=="number"?0:t;function pz(t){const e=rE(t);return iE(t)(e.map(mz))}const ml={test:cz,parse:rE,createTransformer:iE,getAnimatableNone:pz},fz=new Set(["brightness","contrast","saturate","opacity"]);function gz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(b_)||[];if(!r)return t;const i=n.replace(r,"");let a=fz.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const xz=/\b([a-z-]*)\(.*?\)/gu,l1={...ml,getAnimatableNone:t=>{const e=t.match(xz);return e?e.map(gz).join(" "):t}},vz={...a_,color:nr,backgroundColor:nr,outlineColor:nr,fill:nr,stroke:nr,borderColor:nr,borderTopColor:nr,borderRightColor:nr,borderBottomColor:nr,borderLeftColor:nr,filter:l1,WebkitFilter:l1},w_=t=>vz[t];function aE(t,e){let n=w_(t);return n!==l1&&(n=ml),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const yz=new Set(["auto","none","0"]);function bz(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!yz.has(a)&&Qh(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=aE(n,i)}const eN=t=>t===ou||t===bt,tN=(t,e)=>parseFloat(t.split(", ")[e]),sN=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return tN(i[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?tN(a[1],t):0}},_z=new Set(["x","y","z"]),wz=au.filter(t=>!_z.has(t));function jz(t){const e=[];return wz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const qd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sN(4,13),y:sN(5,14)};qd.translateX=qd.x;qd.translateY=qd.y;const cc=new Set;let c1=!1,d1=!1;function oE(){if(d1){const t=Array.from(cc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=jz(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}d1=!1,c1=!1,cc.forEach(t=>t.complete()),cc.clear()}function lE(){cc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(d1=!0)})}function Sz(){lE(),oE()}class j_{constructor(e,n,r,i,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cc.add(this),c1||(c1=!0,Es.read(lE),Es.resolveKeyframes(oE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=i==null?void 0:i.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const u=r.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),i&&l===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Nz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kz(t){const e=Nz.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function dE(t,e,n=1){const[r,i]=kz(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return cE(l)?parseFloat(l):l}return i_(i)?dE(i,e,n+1):i}const uE=t=>e=>e.test(t),Cz={test:t=>t==="auto",parse:t=>t},hE=[ou,bt,va,Wo,xU,gU,Cz],nN=t=>hE.find(uE(t));class mE extends j_{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),i_(h))){const m=dE(h,n.current);m!==void 0&&(e[u]=m),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!zA.has(r)||e.length!==2)return;const[i,a]=e,l=nN(i),c=nN(a);if(l!==c)if(eN(l)&&eN(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)nz(e[i])&&r.push(i);r.length&&bz(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=qd[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,h])=>{n.getValue(u).set(h)}),this.resolveNoneKeyframes()}}const rN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ml.test(t)||t==="0")&&!t.startsWith("url("));function Tz(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Az(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=rN(i,e),c=rN(a,e);return!l||!c?!1:Tz(t)||(n==="spring"||vx(n))&&r}const Ez=t=>t!==null;function bx(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Ez),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Iz=40;class pE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ya.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Iz?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Sz(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ya.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:l,onComplete:c,onUpdate:u,isGenerator:h}=this.options;if(!h&&!Az(e,r,i,a))if(l)this.options.duration=0;else{u&&u(bx(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Fs=(t,e,n)=>t+(e-t)*n;function wy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Rz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;i=wy(u,c,t+1/3),a=wy(u,c,t),l=wy(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function xg(t,e){return n=>n>0?e:t}const jy=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Pz=[o1,ic,bd],Lz=t=>Pz.find(e=>e.test(t));function iN(t){const e=Lz(t);if(!e)return!1;let n=e.parse(t);return e===bd&&(n=Rz(n)),n}const aN=(t,e)=>{const n=iN(t),r=iN(e);if(!n||!r)return xg(t,e);const i={...n};return a=>(i.red=jy(n.red,r.red,a),i.green=jy(n.green,r.green,a),i.blue=jy(n.blue,r.blue,a),i.alpha=Fs(n.alpha,r.alpha,a),ic.transform(i))},Dz=(t,e)=>n=>e(t(n)),wm=(...t)=>t.reduce(Dz),u1=new Set(["none","hidden"]);function Mz(t,e){return u1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Fz(t,e){return n=>Fs(t,e,n)}function S_(t){return typeof t=="number"?Fz:typeof t=="string"?i_(t)?xg:nr.test(t)?aN:Oz:Array.isArray(t)?fE:typeof t=="object"?nr.test(t)?aN:Bz:xg}function fE(t,e){const n=[...t],r=n.length,i=t.map((a,l)=>S_(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}}function Bz(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=S_(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function $z(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][i[l]],u=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=u,i[l]++}return r}const Oz=(t,e)=>{const n=ml.createTransformer(e),r=Qh(t),i=Qh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?u1.has(t)&&!i.values.length||u1.has(e)&&!r.values.length?Mz(t,e):wm(fE($z(r,i),i.values),n):xg(t,e)};function gE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Fs(t,e,n):S_(t)(t,e)}const Vz=5;function xE(t,e,n){const r=Math.max(e-Vz,0);return HA(n-t(r),e-r)}const Qs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sy=.001;function Uz({duration:t=Qs.duration,bounce:e=Qs.bounce,velocity:n=Qs.velocity,mass:r=Qs.mass}){let i,a,l=1-e;l=ho(Qs.minDamping,Qs.maxDamping,l),t=ho(Qs.minDuration,Qs.maxDuration,xa(t)),l<1?(i=h=>{const m=h*l,f=m*t,y=m-n,b=h1(h,l),_=Math.exp(-f);return Sy-y/b*_},a=h=>{const f=h*l*t,y=f*n+n,b=Math.pow(l,2)*Math.pow(h,2)*t,_=Math.exp(-f),S=h1(Math.pow(h,2),l);return(-i(h)+Sy>0?-1:1)*((y-b)*_)/S}):(i=h=>{const m=Math.exp(-h*t),f=(h-n)*t+1;return-Sy+m*f},a=h=>{const m=Math.exp(-h*t),f=(n-h)*(t*t);return m*f});const c=5/t,u=Hz(i,a,c);if(t=ga(t),isNaN(u))return{stiffness:Qs.stiffness,damping:Qs.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const zz=12;function Hz(t,e,n){let r=n;for(let i=1;i<zz;i++)r=r-t(r)/e(r);return r}function h1(t,e){return t*Math.sqrt(1-e*e)}const Gz=["duration","bounce"],Wz=["stiffness","damping","mass"];function oN(t,e){return e.some(n=>t[n]!==void 0)}function qz(t){let e={velocity:Qs.velocity,stiffness:Qs.stiffness,damping:Qs.damping,mass:Qs.mass,isResolvedFromDuration:!1,...t};if(!oN(t,Wz)&&oN(t,Gz))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*ho(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Qs.mass,stiffness:i,damping:a}}else{const n=Uz(t);e={...e,...n,mass:Qs.mass},e.isResolvedFromDuration=!0}return e}function N_(t=Qs.visualDuration,e=Qs.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:h,mass:m,duration:f,velocity:y,isResolvedFromDuration:b}=qz({...n,velocity:-xa(n.velocity||0)}),_=y||0,S=h/(2*Math.sqrt(u*m)),k=l-a,P=xa(Math.sqrt(u/m)),D=Math.abs(k)<5;r||(r=D?Qs.restSpeed.granular:Qs.restSpeed.default),i||(i=D?Qs.restDelta.granular:Qs.restDelta.default);let A;if(S<1){const w=h1(P,S);A=L=>{const C=Math.exp(-S*P*L);return l-C*((_+S*P*k)/w*Math.sin(w*L)+k*Math.cos(w*L))}}else if(S===1)A=w=>l-Math.exp(-P*w)*(k+(_+P*k)*w);else{const w=P*Math.sqrt(S*S-1);A=L=>{const C=Math.exp(-S*P*L),N=Math.min(w*L,300);return l-C*((_+S*P*k)*Math.sinh(N)+w*k*Math.cosh(N))/w}}const v={calculatedDuration:b&&f||null,next:w=>{const L=A(w);if(b)c.done=w>=f;else{let C=0;S<1&&(C=w===0?ga(_):xE(A,w,L));const N=Math.abs(C)<=r,E=Math.abs(l-L)<=i;c.done=N&&E}return c.value=c.done?l:L,c},toString:()=>{const w=Math.min(m_(v),fg),L=MA(C=>v.next(w*C).value,w,30);return w+"ms "+L}};return v}function lN({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:u,restDelta:h=.5,restSpeed:m}){const f=t[0],y={done:!1,value:f},b=N=>c!==void 0&&N<c||u!==void 0&&N>u,_=N=>c===void 0?u:u===void 0||Math.abs(c-N)<Math.abs(u-N)?c:u;let S=n*e;const k=f+S,P=l===void 0?k:l(k);P!==k&&(S=P-f);const D=N=>-S*Math.exp(-N/r),A=N=>P+D(N),v=N=>{const E=D(N),F=A(N);y.done=Math.abs(E)<=h,y.value=y.done?P:F};let w,L;const C=N=>{b(y.value)&&(w=N,L=N_({keyframes:[y.value,_(y.value)],velocity:xE(A,N,y.value),damping:i,stiffness:a,restDelta:h,restSpeed:m}))};return C(0),{calculatedDuration:null,next:N=>{let E=!1;return!L&&w===void 0&&(E=!0,v(N),C(N)),w!==void 0&&N>=w?L.next(N-w):(!E&&v(N),y)}}}const Kz=_m(.42,0,1,1),Qz=_m(0,0,.58,1),vE=_m(.42,0,.58,1),yE=t=>Array.isArray(t)&&typeof t[0]!="number",Xz={linear:ni,easeIn:Kz,easeInOut:vE,easeOut:Qz,circIn:y_,circInOut:ZA,circOut:JA,backIn:v_,backInOut:XA,backOut:QA,anticipate:YA},cN=t=>{if(p_(t)){fA(t.length===4);const[e,n,r,i]=t;return _m(e,n,r,i)}else if(typeof t=="string")return Xz[t];return t};function Yz(t,e,n){const r=[],i=n||gE,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const u=Array.isArray(e)?e[l]||ni:e;c=wm(u,c)}r.push(c)}return r}function bE(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(fA(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=Yz(e,r,i),u=c.length,h=m=>{if(l&&m<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(m<t[f+1]);f++);const y=vc(t[f],t[f+1],m);return c[f](y)};return n?m=>h(ho(t[0],t[a-1],m)):h}function _E(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=vc(0,e,r);t.push(Fs(n,1,i))}}function wE(t){const e=[0];return _E(e,t.length-1),e}function Jz(t,e){return t.map(n=>n*e)}function Zz(t,e){return t.map(()=>e||vE).splice(0,t.length-1)}function vg({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=yE(r)?r.map(cN):cN(r),a={done:!1,value:e[0]},l=Jz(n&&n.length===e.length?n:wE(e),t),c=bE(l,e,{ease:Array.isArray(i)?i:Zz(e,i)});return{calculatedDuration:t,next:u=>(a.value=c(u),a.done=u>=t,a)}}const eH=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Es.update(e,!0),stop:()=>uo(e),now:()=>Vn.isProcessing?Vn.timestamp:ya.now()}},tH={decay:lN,inertia:lN,tween:vg,keyframes:vg,spring:N_},sH=t=>t/100;class k_ extends pE{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,l=(i==null?void 0:i.KeyframeResolver)||j_,c=(u,h)=>this.onKeyframesResolved(u,h);this.resolver=new l(a,c,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=this.options,c=vx(n)?n:tH[n]||vg;let u,h;c!==vg&&typeof e[0]!="number"&&(u=wm(sH,gE(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});a==="mirror"&&(h=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=m_(m));const{calculatedDuration:f}=m,y=f+i,b=y*(r+1)-i;return{generator:m,mirroredGenerator:h,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:y,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:u,calculatedDuration:h,totalDuration:m,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:y,repeat:b,repeatType:_,repeatDelay:S,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const P=this.currentTime-y*(this.speed>=0?1:-1),D=this.speed>=0?P<0:P>m;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let A=this.currentTime,v=a;if(b){const N=Math.min(this.currentTime,m)/f;let E=Math.floor(N),F=N%1;!F&&N>=1&&(F=1),F===1&&E--,E=Math.min(E,b+1),!!(E%2)&&(_==="reverse"?(F=1-F,S&&(F-=S/f)):_==="mirror"&&(v=l)),A=ho(0,1,F)*f}const w=D?{done:!1,value:u[0]}:v.next(A);c&&(w.value=c(w.value));let{done:L}=w;!D&&h!==null&&(L=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return C&&i!==void 0&&(w.value=bx(u,this.options,i)),k&&k(w.value),C&&this.finish(),w}get duration(){const{resolved:e}=this;return e?xa(e.calculatedDuration):0}get time(){return xa(this.currentTime)}set time(e){e=ga(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xa(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=eH,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const nH=new Set(["opacity","clipPath","filter","transform"]);function rH(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:u}={}){const h={[e]:n};u&&(h.offset=u);const m=BA(c,i);return Array.isArray(m)&&(h.easing=m),t.animate(h,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const iH=Jb(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yg=10,aH=2e4;function oH(t){return vx(t.type)||t.type==="spring"||!FA(t.ease)}function lH(t,e){const n=new k_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<aH;)r=n.sample(a),i.push(r.value),a+=yg;return{times:void 0,keyframes:i,duration:a-yg,ease:"linear"}}const jE={anticipate:YA,backInOut:XA,circInOut:ZA};function cH(t){return t in jE}class dN extends pE{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new mE(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:l,motionValue:c,name:u,startTime:h}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&gg()&&cH(a)&&(a=jE[a]),oH(this.options)){const{onComplete:f,onUpdate:y,motionValue:b,element:_,...S}=this.options,k=lH(e,S);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,i=k.times,a=k.ease,l="keyframes"}const m=rH(c.owner.current,u,e,{...this.options,duration:r,times:i,ease:a});return m.startTime=h!=null?h:this.calcStartTime(),this.pendingTimeline?(KS(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:f}=this.options;c.set(bx(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:r,times:i,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return xa(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return xa(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ga(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ni;const{animation:r}=n;KS(r,e)}return ni}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:h,onUpdate:m,onComplete:f,element:y,...b}=this.options,_=new k_({...b,keyframes:r,duration:i,type:a,ease:l,times:c,isGenerator:!0}),S=ga(this.time);h.setWithVelocity(_.sample(S-yg).value,_.sample(S).value,yg)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=n.owner.getProps();return iH()&&r&&nH.has(r)&&!u&&!h&&!i&&a!=="mirror"&&l!==0&&c!=="inertia"}}const dH={type:"spring",stiffness:500,damping:25,restSpeed:10},uH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hH={type:"keyframes",duration:.8},mH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pH=(t,{keyframes:e})=>e.length>2?hH:jc.has(t)?t.startsWith("scale")?uH(e[1]):dH:mH;function fH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:u,elapsed:h,...m}){return!!Object.keys(m).length}const C_=(t,e,n,r={},i,a)=>l=>{const c=h_(r,t)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-ga(u);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};fH(c)||(m={...m,...pH(t,m)}),m.duration&&(m.duration=ga(m.duration)),m.repeatDelay&&(m.repeatDelay=ga(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(f=!0)),f&&!a&&e.get()!==void 0){const y=bx(m.keyframes,c);if(y!==void 0)return Es.update(()=>{m.onUpdate(y),m.onComplete()}),new DA([])}return!a&&dN.supports(m)?new dN(m):new k_(m)};function gH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function T_(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...u}=e;r&&(l=r);const h=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const f in u){const y=t.getValue(f,(a=t.latestValues[f])!==null&&a!==void 0?a:null),b=u[f];if(b===void 0||m&&gH(m,f))continue;const _={delay:n,...h_(l||{},f)};let S=!1;if(window.MotionHandoffAnimation){const P=GA(t);if(P){const D=window.MotionHandoffAnimation(P,f,Es);D!==null&&(_.startTime=D,S=!0)}}a1(t,f),y.start(C_(f,y,b,t.shouldReduceMotion&&zA.has(f)?{type:!1}:_,t,S));const k=y.animation;k&&h.push(k)}return c&&Promise.all(h).then(()=>{Es.update(()=>{c&&JU(t,c)})}),h}function m1(t,e,n={}){var r;const i=xx(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(T_(t,i,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:f,staggerDirection:y}=a;return xH(t,e,m+h,f,y,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,m]=u==="beforeChildren"?[l,c]:[c,l];return h().then(()=>m())}else return Promise.all([l(),c(n.delay)])}function xH(t,e,n=0,r=0,i=1,a){const l=[],c=(t.variantChildren.size-1)*r,u=i===1?(h=0)=>h*r:(h=0)=>c-h*r;return Array.from(t.variantChildren).sort(vH).forEach((h,m)=>{h.notify("AnimationStart",e),l.push(m1(h,e,{...a,delay:n+u(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function vH(t,e){return t.sortNodePosition(e)}function yH(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>m1(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=m1(t,e,n);else{const i=typeof e=="function"?xx(t,e,n.custom):e;r=Promise.all(T_(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const bH=e_.length;function SE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<bH;n++){const r=e_[n],i=t.props[r];(qh(i)||i===!1)&&(e[r]=i)}return e}const _H=[...Zb].reverse(),wH=Zb.length;function jH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>yH(t,n,r)))}function SH(t){let e=jH(t),n=uN(),r=!0;const i=u=>(h,m)=>{var f;const y=xx(t,m,u==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(y){const{transition:b,transitionEnd:_,...S}=y;h={...h,...S,..._}}return h};function a(u){e=u(t)}function l(u){const{props:h}=t,m=SE(t.parent)||{},f=[],y=new Set;let b={},_=1/0;for(let k=0;k<wH;k++){const P=_H[k],D=n[P],A=h[P]!==void 0?h[P]:m[P],v=qh(A),w=P===u?D.isActive:null;w===!1&&(_=k);let L=A===m[P]&&A!==h[P]&&v;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),D.protectedKeys={...b},!D.isActive&&w===null||!A&&!D.prevProp||fx(A)||typeof A=="boolean")continue;const C=NH(D.prevProp,A);let N=C||P===u&&D.isActive&&!L&&v||k>_&&v,E=!1;const F=Array.isArray(A)?A:[A];let I=F.reduce(i(P),{});w===!1&&(I={});const{prevResolvedValues:B={}}=D,$={...B,...I},U=K=>{N=!0,y.has(K)&&(E=!0,y.delete(K)),D.needsAnimating[K]=!0;const q=t.getValue(K);q&&(q.liveStyle=!1)};for(const K in $){const q=I[K],se=B[K];if(b.hasOwnProperty(K))continue;let ne=!1;r1(q)&&r1(se)?ne=!LA(q,se):ne=q!==se,ne?q!=null?U(K):y.add(K):q!==void 0&&y.has(K)?U(K):D.protectedKeys[K]=!0}D.prevProp=A,D.prevResolvedValues=I,D.isActive&&(b={...b,...I}),r&&t.blockInitialAnimation&&(N=!1),N&&(!(L&&C)||E)&&f.push(...F.map(K=>({animation:K,options:{type:P}})))}if(y.size){const k={};y.forEach(P=>{const D=t.getBaseTarget(P),A=t.getValue(P);A&&(A.liveStyle=!0),k[P]=D!=null?D:null}),f.push({animation:k})}let S=!!f.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(f):Promise.resolve()}function c(u,h){var m;if(n[u].isActive===h)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(y=>{var b;return(b=y.animationState)===null||b===void 0?void 0:b.setActive(u,h)}),n[u].isActive=h;const f=l(u);for(const y in n)n[y].protectedKeys={};return f}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=uN(),r=!0}}}function NH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!LA(e,t):!1}function Ul(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uN(){return{animate:Ul(!0),whileInView:Ul(),whileHover:Ul(),whileTap:Ul(),whileDrag:Ul(),whileFocus:Ul(),exit:Ul()}}class vl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kH extends vl{constructor(e){super(e),e.animationState||(e.animationState=SH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let CH=0;class TH extends vl{constructor(){super(...arguments),this.id=CH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const AH={animation:{Feature:kH},exit:{Feature:TH}};function Xh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function jm(t){return{point:{x:t.pageX,y:t.pageY}}}const EH=t=>e=>f_(e)&&t(e,jm(e));function Sh(t,e,n,r){return Xh(t,e,EH(n),r)}const hN=(t,e)=>Math.abs(t-e);function IH(t,e){const n=hN(t.x,e.x),r=hN(t.y,e.y);return Math.sqrt(n**2+r**2)}class NE{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ky(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=IH(f.offset,{x:0,y:0})>=3;if(!y&&!b)return;const{point:_}=f,{timestamp:S}=Vn;this.history.push({..._,timestamp:S});const{onStart:k,onMove:P}=this.handlers;y||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,f)},this.handlePointerMove=(f,y)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ny(y,this.transformPagePoint),Es.update(this.updatePoint,!0)},this.handlePointerUp=(f,y)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=ky(f.type==="pointercancel"?this.lastMoveEventInfo:Ny(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(f,k),_&&_(f,k)},!f_(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=jm(e),c=Ny(l,this.transformPagePoint),{point:u}=c,{timestamp:h}=Vn;this.history=[{...u,timestamp:h}];const{onSessionStart:m}=n;m&&m(e,ky(c,this.history)),this.removeListeners=wm(Sh(this.contextWindow,"pointermove",this.handlePointerMove),Sh(this.contextWindow,"pointerup",this.handlePointerUp),Sh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),uo(this.updatePoint)}}function Ny(t,e){return e?{point:e(t.point)}:t}function mN(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ky({point:t},e){return{point:t,delta:mN(t,kE(e)),offset:mN(t,RH(e)),velocity:PH(e,.1)}}function RH(t){return t[0]}function kE(t){return t[t.length-1]}function PH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=kE(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ga(e)));)n--;if(!r)return{x:0,y:0};const a=xa(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const CE=1e-4,LH=1-CE,DH=1+CE,TE=.01,MH=0-TE,FH=0+TE;function ii(t){return t.max-t.min}function BH(t,e,n){return Math.abs(t-e)<=n}function pN(t,e,n,r=.5){t.origin=r,t.originPoint=Fs(e.min,e.max,t.origin),t.scale=ii(n)/ii(e),t.translate=Fs(n.min,n.max,t.origin)-t.originPoint,(t.scale>=LH&&t.scale<=DH||isNaN(t.scale))&&(t.scale=1),(t.translate>=MH&&t.translate<=FH||isNaN(t.translate))&&(t.translate=0)}function Nh(t,e,n,r){pN(t.x,e.x,n.x,r?r.originX:void 0),pN(t.y,e.y,n.y,r?r.originY:void 0)}function fN(t,e,n){t.min=n.min+e.min,t.max=t.min+ii(e)}function $H(t,e,n){fN(t.x,e.x,n.x),fN(t.y,e.y,n.y)}function gN(t,e,n){t.min=e.min-n.min,t.max=t.min+ii(e)}function kh(t,e,n){gN(t.x,e.x,n.x),gN(t.y,e.y,n.y)}function OH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Fs(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Fs(n,t,r.max):Math.min(t,n)),t}function xN(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VH(t,{top:e,left:n,bottom:r,right:i}){return{x:xN(t.x,n,i),y:xN(t.y,e,r)}}function vN(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function UH(t,e){return{x:vN(t.x,e.x),y:vN(t.y,e.y)}}function zH(t,e){let n=.5;const r=ii(t),i=ii(e);return i>r?n=vc(e.min,e.max-r,t.min):r>i&&(n=vc(t.min,t.max-i,e.min)),ho(0,1,n)}function HH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const p1=.35;function GH(t=p1){return t===!1?t=0:t===!0&&(t=p1),{x:yN(t,"left","right"),y:yN(t,"top","bottom")}}function yN(t,e,n){return{min:bN(t,e),max:bN(t,n)}}function bN(t,e){return typeof t=="number"?t:t[e]||0}const _N=()=>({translate:0,scale:1,origin:0,originPoint:0}),_d=()=>({x:_N(),y:_N()}),wN=()=>({min:0,max:0}),Ks=()=>({x:wN(),y:wN()});function xi(t){return[t("x"),t("y")]}function AE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function WH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cy(t){return t===void 0||t===1}function f1({scale:t,scaleX:e,scaleY:n}){return!Cy(t)||!Cy(e)||!Cy(n)}function ec(t){return f1(t)||EE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function EE(t){return jN(t.x)||jN(t.y)}function jN(t){return t&&t!=="0%"}function bg(t,e,n){const r=t-n,i=e*r;return n+i}function SN(t,e,n,r,i){return i!==void 0&&(t=bg(t,i,r)),bg(t,n,r)+e}function g1(t,e=0,n=1,r,i){t.min=SN(t.min,e,n,r,i),t.max=SN(t.max,e,n,r,i)}function IE(t,{x:e,y:n}){g1(t.x,e.translate,e.scale,e.originPoint),g1(t.y,n.translate,n.scale,n.originPoint)}const NN=.999999999999,kN=1.0000000000001;function KH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=n[c],l=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&jd(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,IE(t,l)),r&&ec(a.latestValues)&&jd(t,a.latestValues))}e.x<kN&&e.x>NN&&(e.x=1),e.y<kN&&e.y>NN&&(e.y=1)}function wd(t,e){t.min=t.min+e,t.max=t.max+e}function CN(t,e,n,r,i=.5){const a=Fs(t.min,t.max,i);g1(t,e,n,a,r)}function jd(t,e){CN(t.x,e.x,e.scaleX,e.scale,e.originX),CN(t.y,e.y,e.scaleY,e.scale,e.originY)}function RE(t,e){return AE(qH(t.getBoundingClientRect(),e))}function QH(t,e,n){const r=RE(t,n),{scroll:i}=e;return i&&(wd(r.x,i.offset.x),wd(r.y,i.offset.y)),r}const PE=({current:t})=>t?t.ownerDocument.defaultView:null,XH=new WeakMap;class YH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ks(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jm(m).point)},a=(m,f)=>{const{drag:y,dragPropagation:b,onDragStart:_}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qU(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xi(k=>{let P=this.getAxisMotionValue(k).get()||0;if(va.test(P)){const{projection:D}=this.visualElement;if(D&&D.layout){const A=D.layout.layoutBox[k];A&&(P=ii(A)*(parseFloat(P)/100))}}this.originPoint[k]=P}),_&&Es.postRender(()=>_(m,f)),a1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(m,f)=>{const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:_,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:k}=f;if(b&&this.currentDirection===null){this.currentDirection=JH(k),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),S&&S(m,f)},c=(m,f)=>this.stop(m,f),u=()=>xi(m=>{var f;return this.getAnimationState(m)==="paused"&&((f=this.getAxisMotionValue(m).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new NE(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:PE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Es.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ef(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=OH(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&yd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=VH(i.layoutBox,n):this.constraints=!1,this.elastic=GH(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=HH(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=QH(r,i.root,this.visualElement.getTransformPagePoint());let l=UH(i.layout.layoutBox,a);if(n){const c=n(WH(l));this.hasMutatedConstraints=!!c,c&&(l=AE(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=xi(m=>{if(!ef(m,n,this.currentDirection))return;let f=u&&u[m]||{};l&&(f={min:0,max:0});const y=i?200:1e6,b=i?40:1e7,_={type:"inertia",velocity:r?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(m,_)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return a1(this.visualElement,e),r.start(C_(e,r,0,n,this.visualElement,!1))}stopAnimation(){xi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xi(n=>{const{drag:r}=this.getProps();if(!ef(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];a.set(e[n]-Fs(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();i[l]=zH({min:u,max:u},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xi(l=>{if(!ef(l,e,null))return;const c=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];c.set(Fs(u,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;XH.set(this.visualElement,this);const e=this.visualElement.current,n=Sh(e,"pointerdown",u=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();yd(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Es.read(r);const l=Xh(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(xi(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=u[m].translate,f.set(f.get()+u[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=p1,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function ef(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZH extends vl{constructor(e){super(e),this.removeGroupControls=ni,this.removeListeners=ni,this.controls=new YH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ni}unmount(){this.removeGroupControls(),this.removeListeners()}}const TN=t=>(e,n)=>{t&&Es.postRender(()=>t(e,n))};class eG extends vl{constructor(){super(...arguments),this.removePointerDownListener=ni}onPointerDown(e){this.session=new NE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:TN(e),onStart:TN(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&Es.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Sh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $f={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AN(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(bt.test(t))t=parseFloat(t);else return t;const n=AN(t,e.target.x),r=AN(t,e.target.y);return`${n}% ${r}%`}},tG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ml.parse(t);if(i.length>5)return r;const a=ml.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=u;const h=Fs(c,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),a(i)}};class sG extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;CU(nG),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),$f.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Es.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),s_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function LE(t){const[e,n]=zV(),r=T.useContext(mA);return s.jsx(sG,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(_A),isPresent:e,safeToRemove:n})}const nG={borderRadius:{...qu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qu,borderTopRightRadius:qu,borderBottomLeftRadius:qu,borderBottomRightRadius:qu,boxShadow:tG};function DE(t,e,n){const r=In(t)?t:Wd(t);return r.start(C_("",r,e,n)),r.animation}function ME(t){return t instanceof SVGElement&&t.tagName!=="svg"}const rG=(t,e)=>t.depth-e.depth;class iG{constructor(){this.children=[],this.isDirty=!1}add(e){g_(this.children,e),this.isDirty=!0}remove(e){yx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rG),this.isDirty=!1,this.children.forEach(e)}}function aG(t,e){const n=ya.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(uo(r),t(a-e))};return Es.read(r,!0),()=>uo(r)}const FE=["TopLeft","TopRight","BottomLeft","BottomRight"],oG=FE.length,EN=t=>typeof t=="string"?parseFloat(t):t,IN=t=>typeof t=="number"||bt.test(t);function lG(t,e,n,r,i,a){i?(t.opacity=Fs(0,n.opacity!==void 0?n.opacity:1,cG(r)),t.opacityExit=Fs(e.opacity!==void 0?e.opacity:1,0,dG(r))):a&&(t.opacity=Fs(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<oG;l++){const c=`border${FE[l]}Radius`;let u=RN(e,c),h=RN(n,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||IN(u)===IN(h)?(t[c]=Math.max(Fs(EN(u),EN(h),r),0),(va.test(h)||va.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Fs(e.rotate||0,n.rotate||0,r))}function RN(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cG=BE(0,.5,JA),dG=BE(.5,.95,ni);function BE(t,e,n){return r=>r<t?0:r>e?1:n(vc(t,e,r))}function PN(t,e){t.min=e.min,t.max=e.max}function fi(t,e){PN(t.x,e.x),PN(t.y,e.y)}function LN(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function DN(t,e,n,r,i){return t-=e,t=bg(t,1/n,r),i!==void 0&&(t=bg(t,1/i,r)),t}function uG(t,e=0,n=1,r=.5,i,a=t,l=t){if(va.test(e)&&(e=parseFloat(e),e=Fs(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Fs(a.min,a.max,r);t===a&&(c-=e),t.min=DN(t.min,e,n,c,i),t.max=DN(t.max,e,n,c,i)}function MN(t,e,[n,r,i],a,l){uG(t,e[n],e[r],e[i],e.scale,a,l)}const hG=["x","scaleX","originX"],mG=["y","scaleY","originY"];function FN(t,e,n,r){MN(t.x,e,hG,n?n.x:void 0,r?r.x:void 0),MN(t.y,e,mG,n?n.y:void 0,r?r.y:void 0)}function BN(t){return t.translate===0&&t.scale===1}function $E(t){return BN(t.x)&&BN(t.y)}function $N(t,e){return t.min===e.min&&t.max===e.max}function pG(t,e){return $N(t.x,e.x)&&$N(t.y,e.y)}function ON(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OE(t,e){return ON(t.x,e.x)&&ON(t.y,e.y)}function VN(t){return ii(t.x)/ii(t.y)}function UN(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class fG{constructor(){this.members=[]}add(e){g_(this.members,e),e.scheduleRender()}remove(e){if(yx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gG(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(r=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:f,rotateY:y,skewX:b,skewY:_}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),f&&(r+=`rotateX(${f}deg) `),y&&(r+=`rotateY(${y}deg) `),b&&(r+=`skewX(${b}deg) `),_&&(r+=`skewY(${_}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const tc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},uh=typeof window!="undefined"&&window.MotionDebug!==void 0,Ty=["","X","Y","Z"],xG={visibility:"hidden"},zN=1e3;let vG=0;function Ay(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function VE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=GA(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Es,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&VE(r)}function UE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=vG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,uh&&(tc.totalNodes=tc.resolvedTargetDeltas=tc.recalculatedProjection=0),this.nodes.forEach(_G),this.nodes.forEach(kG),this.nodes.forEach(CG),this.nodes.forEach(wG),uh&&window.MotionDebug.record(tc)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new iG)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new x_),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ME(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(h||u)&&(this.isLayoutDirty=!0),t){let f;const y=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=aG(y,250),$f.hasAnimatedSinceResize&&($f.hasAnimatedSinceResize=!1,this.nodes.forEach(GN))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:y,hasRelativeTargetChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||m.getDefaultTransition()||RG,{onLayoutAnimationStart:k,onLayoutAnimationComplete:P}=m.getProps(),D=!this.targetLayout||!OE(this.targetLayout,_)||b,A=!y&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||y&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,A);const v={...h_(S,"layout"),onPlay:k,onComplete:P};(m.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else y||GN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TG),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HN);return}this.isUpdating||this.nodes.forEach(SG),this.isUpdating=!1,this.nodes.forEach(NG),this.nodes.forEach(yG),this.nodes.forEach(bG),this.clearAllSnapshots();const c=ya.now();Vn.delta=ho(0,1e3/60,c-Vn.timestamp),Vn.timestamp=c,Vn.isProcessing=!0,yy.update.process(Vn),yy.preRender.process(Vn),yy.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jG),this.sharedNodes.forEach(AG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Es.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Es.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ks(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!$E(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&(c||ec(this.latestValues)||m)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),PG(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Ks();const u=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(LG))){const{scroll:m}=this.root;m&&(wd(u.x,m.offset.x),wd(u.y,m.offset.y))}return u}removeElementScroll(l){var c;const u=Ks();if(fi(u,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return u;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:f,options:y}=m;m!==this.root&&f&&y.layoutScroll&&(f.wasRoot&&fi(u,l),wd(u.x,f.offset.x),wd(u.y,f.offset.y))}return u}applyTransform(l,c=!1){const u=Ks();fi(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&jd(u,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ec(m.latestValues)&&jd(u,m.latestValues)}return ec(this.latestValues)&&jd(u,this.latestValues),u}removeTransform(l){const c=Ks();fi(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!ec(h.latestValues))continue;f1(h.latestValues)&&h.updateSnapshot();const m=Ks(),f=h.measurePageBox();fi(m,f),FN(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return ec(this.latestValues)&&FN(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:y}=this.options;if(!(!this.layout||!(f||y))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ks(),this.relativeTargetOrigin=Ks(),kh(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ks(),this.targetWithTransforms=Ks()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$H(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),IE(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ks(),this.relativeTargetOrigin=Ks(),kh(this.relativeTargetOrigin,this.target,b.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}uh&&tc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||f1(this.parent.latestValues)||EE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(h=!1),h)return;const{layout:m,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||f))return;fi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;KH(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ks());const{target:_}=c;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(LN(this.prevProjectionDelta.x,this.projectionDelta.x),LN(this.prevProjectionDelta.y,this.projectionDelta.y)),Nh(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!UN(this.projectionDelta.x,this.prevProjectionDelta.x)||!UN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),uh&&tc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_d(),this.projectionDelta=_d(),this.projectionDeltaWithTransform=_d()}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},m={...this.latestValues},f=_d();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Ks(),b=u?u.source:void 0,_=this.layout?this.layout.source:void 0,S=b!==_,k=this.getStack(),P=!k||k.members.length<=1,D=!!(S&&!P&&this.options.crossfade===!0&&!this.path.some(IG));this.animationProgress=0;let A;this.mixTargetDelta=v=>{const w=v/1e3;WN(f.x,l.x,w),WN(f.y,l.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kh(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EG(this.relativeTarget,this.relativeTargetOrigin,y,w),A&&pG(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Ks()),fi(A,this.relativeTarget)),S&&(this.animationValues=m,lG(m,h,this.latestValues,w,D,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Es.update(()=>{$f.hasAnimatedSinceResize=!0,this.currentAnimation=DE(0,zN,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:m}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&zE(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Ks();const f=ii(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+f;const y=ii(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+y}fi(c,u),jd(c,m),Nh(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new fG),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&Ay("z",l,h,this.animationValues);for(let m=0;m<Ty.length;m++)Ay(`rotate${Ty[m]}`,l,h,this.animationValues),Ay(`skew${Ty[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}getProjectionStyles(l){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xG;const h={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Ff(l==null?void 0:l.pointerEvents)||"",h.transform=m?m(this.latestValues,""):"none",h;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Ff(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ec(this.latestValues)&&(S.transform=m?m({},""):"none",this.hasProjected=!1),S}const y=f.animationValues||f.latestValues;this.applyTransformsToTarget(),h.transform=gG(this.projectionDeltaWithTransform,this.treeScale,y),m&&(h.transform=m(y,h.transform));const{x:b,y:_}=this.projectionDelta;h.transformOrigin=`${b.origin*100}% ${_.origin*100}% 0`,f.animationValues?h.opacity=f===this?(u=(c=y.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:h.opacity=f===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const S in pg){if(y[S]===void 0)continue;const{correct:k,applyTo:P}=pg[S],D=h.transform==="none"?y[S]:k(y[S],f);if(P){const A=P.length;for(let v=0;v<A;v++)h[P[v]]=D}else h[S]=D}return this.options.layoutId&&(h.pointerEvents=f===this?Ff(l==null?void 0:l.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(HN),this.root.sharedNodes.clear()}}}function yG(t){t.updateLayout()}function bG(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?xi(f=>{const y=l?n.measuredBox[f]:n.layoutBox[f],b=ii(y);y.min=r[f].min,y.max=y.min+b}):zE(a,n.layoutBox,r)&&xi(f=>{const y=l?n.measuredBox[f]:n.layoutBox[f],b=ii(r[f]);y.max=y.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+b)});const c=_d();Nh(c,r,n.layoutBox);const u=_d();l?Nh(u,t.applyTransform(i,!0),n.measuredBox):Nh(u,r,n.layoutBox);const h=!$E(c);let m=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:y,layout:b}=f;if(y&&b){const _=Ks();kh(_,n.layoutBox,y.layoutBox);const S=Ks();kh(S,r,b.layoutBox),OE(_,S)||(m=!0),f.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:c,hasLayoutChanged:h,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function _G(t){uh&&tc.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jG(t){t.clearSnapshot()}function HN(t){t.clearMeasurements()}function SG(t){t.isLayoutDirty=!1}function NG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function GN(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kG(t){t.resolveTargetDelta()}function CG(t){t.calcProjection()}function TG(t){t.resetSkewAndRotation()}function AG(t){t.removeLeadSnapshot()}function WN(t,e,n){t.translate=Fs(e.translate,0,n),t.scale=Fs(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function qN(t,e,n,r){t.min=Fs(e.min,n.min,r),t.max=Fs(e.max,n.max,r)}function EG(t,e,n,r){qN(t.x,e.x,n.x,r),qN(t.y,e.y,n.y,r)}function IG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const RG={duration:.45,ease:[.4,0,.1,1]},KN=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QN=KN("applewebkit/")&&!KN("chrome/")?Math.round:ni;function XN(t){t.min=QN(t.min),t.max=QN(t.max)}function PG(t){XN(t.x),XN(t.y)}function zE(t,e,n){return t==="position"||t==="preserve-aspect"&&!BH(VN(e),VN(n),.2)}function LG(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const DG=UE({attachResizeListener:(t,e)=>Xh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ey={current:void 0},HE=UE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ey.current){const t=new DG({});t.mount(window),t.setOptions({layoutScroll:!0}),Ey.current=t}return Ey.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),MG={pan:{Feature:eG},drag:{Feature:ZH,ProjectionNode:HE,MeasureLayout:LE}};function YN(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Es.postRender(()=>a(e,jm(e)))}class FG extends vl{mount(){const{current:e}=this.node;e&&(this.unmount=UU(e,n=>(YN(this.node,n,"Start"),r=>YN(this.node,r,"End"))))}unmount(){}}class BG extends vl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wm(Xh(this.node.current,"focus",()=>this.onFocus()),Xh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JN(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Es.postRender(()=>a(e,jm(e)))}class $G extends vl{mount(){const{current:e}=this.node;e&&(this.unmount=WU(e,n=>(JN(this.node,n,"Start"),(r,{success:i})=>JN(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const x1=new WeakMap,Iy=new WeakMap,OG=t=>{const e=x1.get(t.target);e&&e(t)},VG=t=>{t.forEach(OG)};function UG({root:t,...e}){const n=t||document;Iy.has(n)||Iy.set(n,{});const r=Iy.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(VG,{root:t,...e})),r[i]}function zG(t,e,n){const r=UG(e);return x1.set(t,n),r.observe(t),()=>{x1.delete(t),r.unobserve(t)}}const HG={some:0,all:1};class GG extends vl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:HG[i]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),y=h?m:f;y&&y(u)};return zG(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(WG(e,n))&&this.startObserver()}unmount(){}}function WG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const qG={inView:{Feature:GG},tap:{Feature:$G},focus:{Feature:BG},hover:{Feature:FG}},KG={layout:{ProjectionNode:HE,MeasureLayout:LE}},_g={current:null},A_={current:!1};function GE(){if(A_.current=!0,!!Yb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_g.current=t.matches;t.addListener(e),e()}else _g.current=!1}const QG=[...hE,nr,ml],XG=t=>QG.find(uE(t)),Kd=new WeakMap;function YG(t,e,n){for(const r in e){const i=e[r],a=n[r];if(In(i))t.addValue(r,i);else if(In(a))t.addValue(r,Wd(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Wd(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ZN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WE{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=j_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ya.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Es.render(this.render,!1,!0))};const{latestValues:u,renderState:h,onUpdate:m}=l;this.onUpdate=m,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=gx(n),this.isVariantNode=yA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in y){const _=y[b];u[b]!==void 0&&In(_)&&_.set(u[b],!1)}}mount(e){this.current=e,Kd.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),A_.current||GE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_g.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Kd.delete(this.current),this.projection&&this.projection.unmount(),uo(this.notifyUpdate),uo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=jc.has(e),i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Es.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gd){const n=Gd[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ks()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ZN.length;r++){const i=ZN[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=YG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wd(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(cE(i)||eE(i))?i=parseFloat(i):!XG(i)&&ml.test(n)&&(i=aE(e,n)),this.setBaseTarget(e,In(i)?i.get():i)),In(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=r_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(i=l[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!In(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new x_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class qE extends WE{constructor(){super(...arguments),this.KeyframeResolver=mE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function JG(t){return window.getComputedStyle(t)}class KE extends qE{constructor(){super(...arguments),this.type="html",this.renderInstance=TA}readValueFromInstance(e,n){if(jc.has(n)){const r=w_(n);return r&&r.default||0}else{const r=JG(e),i=(NA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return RE(e,n)}build(e,n,r){o_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return u_(e,n,r)}}class QE extends qE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ks}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(jc.has(n)){const r=w_(n);return r&&r.default||0}return n=AA.has(n)?n:t_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return RA(e,n,r)}build(e,n,r){l_(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){EA(e,n,r,i)}mount(e){this.isSVGTag=d_(e.tagName),super.mount(e)}}const ZG=(t,e)=>n_(t)?new QE(e):new KE(e,{allowProjection:t!==T.Fragment}),eW=MU({...AH,...qG,...MG,...KG},ZG),XE=YV(eW);function hh(t){const e=Kb(()=>Wd(t)),{isStatic:n}=T.useContext(Xb);if(n){const[,r]=T.useState(t);T.useEffect(()=>e.on("change",r),[])}return e}function YE(t,e){const n=hh(e()),r=()=>n.set(e());return r(),pA(()=>{const i=()=>Es.preRender(r,!1,!0),a=t.map(l=>l.on("change",i));return()=>{a.forEach(l=>l()),uo(r)}}),n}const tW=t=>t&&typeof t=="object"&&t.mix,sW=t=>tW(t)?t.mix:void 0;function nW(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],a=t[2+n],l=t[3+n],c=bE(i,a,{mixer:sW(a[0]),...l});return e?c(r):c}function rW(t){wh.current=[],t();const e=YE(wh.current,t);return wh.current=void 0,e}function tf(t,e,n,r){if(typeof t=="function")return rW(t);const i=typeof e=="function"?e:nW(e,n,r);return Array.isArray(t)?ek(t,i):ek([t],([a])=>i(a))}function ek(t,e){const n=Kb(()=>[]);return YE(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function JE(){!A_.current&&GE();const[t]=T.useState(_g.current);return t}const iW=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function ZE(t,e){return yE(t)?t[iW(0,t.length,e)]:t}function E_(t){return typeof t=="object"&&!Array.isArray(t)}function eI(t,e,n,r){return typeof t=="string"&&E_(e)?OA(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function aW(t,e,n){return t*(e+1)}function tk(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function oW(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(yx(t,i),r--)}}function lW(t,e,n,r,i,a){oW(t,i,a);for(let l=0;l<e.length;l++)t.push({value:e[l],at:Fs(i,a,r[l]),easing:ZE(n,l)})}function cW(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function dW(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const uW="easeInOut";function hW(t,{defaultTransition:e={},...n}={},r,i){const a=e.duration||.3,l=new Map,c=new Map,u={},h=new Map;let m=0,f=0,y=0;for(let b=0;b<t.length;b++){const _=t[b];if(typeof _=="string"){h.set(_,f);continue}else if(!Array.isArray(_)){h.set(_.name,tk(f,_.at,m,h));continue}let[S,k,P={}]=_;P.at!==void 0&&(f=tk(f,P.at,m,h));let D=0;const A=(v,w,L,C=0,N=0)=>{const E=mW(v),{delay:F=0,times:I=wE(E),type:B="keyframes",repeat:$,repeatType:U,repeatDelay:H=0,...W}=w;let{ease:K=e.ease||"easeOut",duration:q}=w;const se=typeof F=="function"?F(C,N):F,ne=E.length,z=vx(B)?B:i==null?void 0:i[B];if(ne<=2&&z){let he=100;if(ne===2&&gW(E)){const Z=E[1]-E[0];he=Math.abs(Z)}const ye={...W};q!==void 0&&(ye.duration=ga(q));const Ie=$U(ye,he,z);K=Ie.ease,q=Ie.duration}q!=null||(q=a);const Y=f+se;I.length===1&&I[0]===0&&(I[1]=1);const le=I.length-E.length;if(le>0&&_E(I,le),E.length===1&&E.unshift(null),$){q=aW(q,$);const he=[...E],ye=[...I];K=Array.isArray(K)?[...K]:[K];const Ie=[...K];for(let Z=0;Z<$;Z++){E.push(...he);for(let fe=0;fe<he.length;fe++)I.push(ye[fe]+(Z+1)),K.push(fe===0?"linear":ZE(Ie,fe-1))}cW(I,$)}const ae=Y+q;lW(L,E,K,I,Y,ae),D=Math.max(se+q,D),y=Math.max(ae,y)};if(In(S)){const v=sk(S,c);A(k,P,nk("default",v))}else{const v=eI(S,k,r,u),w=v.length;for(let L=0;L<w;L++){k=k,P=P;const C=v[L],N=sk(C,c);for(const E in k)A(k[E],pW(P,E),nk(E,N),L,w)}}m=f,f+=D}return c.forEach((b,_)=>{for(const S in b){const k=b[S];k.sort(dW);const P=[],D=[],A=[];for(let w=0;w<k.length;w++){const{at:L,value:C,easing:N}=k[w];P.push(C),D.push(vc(0,y,L)),A.push(N||"easeOut")}D[0]!==0&&(D.unshift(0),P.unshift(P[0]),A.unshift(uW)),D[D.length-1]!==1&&(D.push(1),P.push(null)),l.has(_)||l.set(_,{keyframes:{},transition:{}});const v=l.get(_);v.keyframes[S]=P,v.transition[S]={...e,duration:y,ease:A,times:D,...n}}}),l}function sk(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function nk(t,e){return e[t]||(e[t]=[]),e[t]}function mW(t){return Array.isArray(t)?t:[t]}function pW(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const fW=t=>typeof t=="number",gW=t=>t.every(fW);function xW(t,e){return t in e}class vW extends WE{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(xW(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Ks()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function yW(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=ME(t)?new QE(e):new KE(e);n.mount(t),Kd.set(t,n)}function bW(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new vW(e);n.mount(t),Kd.set(t,n)}function _W(t,e){return In(t)||typeof t=="number"||typeof t=="string"&&!E_(e)}function tI(t,e,n,r){const i=[];if(_W(t,e))i.push(DE(t,E_(e)&&e.default||e,n&&(n.default||n)));else{const a=eI(t,e,r),l=a.length;for(let c=0;c<l;c++){const u=a[c],h=u instanceof Element?yW:bW;Kd.has(u)||h(u);const m=Kd.get(u),f={...n};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(c,l)),i.push(...T_(m,{...e,transition:f},{}))}}return i}function wW(t,e,n){const r=[];return hW(t,e,n,{spring:N_}).forEach(({keyframes:a,transition:l},c)=>{r.push(...tI(c,a,l))}),r}function jW(t){return Array.isArray(t)&&t.some(Array.isArray)}function SW(t){function e(n,r,i){let a=[];return jW(n)?a=wW(n,r,t):a=tI(n,r,i,t),new DA(a)}return e}const sf=SW(),Ya={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function NW(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+Ya.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function kW(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Ya.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:Ya.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Ya.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:Ya.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function rk({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=JE();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:Ya.border,background:"var(--nav, "+Ya.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(NW,{}),s.jsx(XE.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(kW,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const Ry={borderColor:"#2B4C73",background:"#1A2F4A"},nf={borderColor:"#2B4C73",background:"#152A42"};function Vt({hex:t,title:e,subtitle:n,actions:r,subheader:i,left:a,right:l,children:c,rounded:u="rounded-3xl",padded:h=!0,centerFramed:m=!1,leftWidth:f=0,rightWidth:y=0,stickyRails:b=!0,mode:_="card",outerPadding:S="px-4 py-3",leftPlacement:k="inside",stickyTopbar:P=!0,stickySubheader:D=!0,shellViewportOffset:A="var(--app-topbar-h,72px)",topbarHeight:v=56}){const w={"--left":typeof f=="number"?`${f}px`:f,"--right":typeof y=="number"?`${y}px`:y},L=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:Ry,children:t}),(e||n||r)&&s.jsxs("div",{className:[P?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:Ry,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&s.jsx("div",{className:[D?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...D?{top:P?`${v}px`:0}:{},...Ry},children:i})]}),C=_==="card"?({children:E})=>s.jsx(rk,{rounded:u,padded:h,children:E}):({children:E})=>s.jsx("div",{className:`w-full ${S}`,children:E}),N=s.jsx("div",{className:"relative min-h-0 h-full",style:w,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[a?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...nf,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:a}):f?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),m?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:nf,children:c}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:c}),l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...nf,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):y?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return k==="bleed"&&_==="card"?s.jsx("div",{className:`w-full ${S}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[L,s.jsx("div",{className:"flex-1 min-h-0",style:w,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[a?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...nf,position:b?"sticky":"static",top:b?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:a}):f?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(rk,{rounded:u,padded:h,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:N})})]})})]})}):s.jsx(C,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${A})`},children:[L,s.jsx("div",{className:"flex-1 min-h-0",children:N})]})})}const CW="_row_x5rfq_3",TW="_colFull_x5rfq_17",AW="_colCommunity_x5rfq_31",EW="_colGuides_x5rfq_33",IW="_card_x5rfq_129",RW="_header_x5rfq_143",PW="_title_x5rfq_155",LW="_subtitle_x5rfq_157",DW="_empty_x5rfq_159",MW="_errorNote_x5rfq_161",FW="_linkBtn_x5rfq_163",BW="_primaryBtn_x5rfq_163",$W="_navBtn_x5rfq_163",OW="_closeBtn_x5rfq_163",VW="_actionsRight_x5rfq_179",UW="_tileGrid_x5rfq_185",zW="_tile_x5rfq_185",HW="_tileIcon_x5rfq_211",GW="_tileIconFallback_x5rfq_213",WW="_tileLabel_x5rfq_215",qW="_newsList_x5rfq_221",KW="_newsItem_x5rfq_223",QW="_newsMeta_x5rfq_225",XW="_newsAuthor_x5rfq_227",YW="_newsTime_x5rfq_229",JW="_newsText_x5rfq_231",ZW="_newsImage_x5rfq_233",eq="_carouselCtrls_x5rfq_241",tq="_carousel_x5rfq_241",sq="_slide_x5rfq_249",nq="_slideActive_x5rfq_251",rq="_slideInactive_x5rfq_253",iq="_slideThumb_x5rfq_255",aq="_slideFallback_x5rfq_257",oq="_slideCaption_x5rfq_259",lq="_liveCard_x5rfq_265",cq="_liveAvatar_x5rfq_267",dq="_liveAvatarFallback_x5rfq_269",uq="_liveInfo_x5rfq_271",hq="_liveName_x5rfq_273",mq="_liveMeta_x5rfq_275",pq="_liveBadge_x5rfq_277",fq="_liveViewers_x5rfq_279",gq="_modalOverlay_x5rfq_285",xq="_modal_x5rfq_285",vq="_modalHeader_x5rfq_289",yq="_modalTitle_x5rfq_291",bq="_modalFilters_x5rfq_295",_q="_formRow_x5rfq_297",wq="_formRowCheckbox_x5rfq_299",jq="_select_x5rfq_301",Sq="_input_x5rfq_301",Nq="_tableWrap_x5rfq_303",kq="_table_x5rfq_303",qe={row:CW,colFull:TW,colCommunity:AW,colGuides:EW,card:IW,header:RW,title:PW,subtitle:LW,empty:DW,errorNote:MW,linkBtn:FW,primaryBtn:BW,navBtn:$W,closeBtn:OW,actionsRight:VW,tileGrid:UW,tile:zW,tileIcon:HW,tileIconFallback:GW,tileLabel:WW,newsList:qW,newsItem:KW,newsMeta:QW,newsAuthor:XW,newsTime:YW,newsText:JW,newsImage:ZW,carouselCtrls:eq,carousel:tq,slide:sq,slideActive:nq,slideInactive:rq,slideThumb:iq,slideFallback:aq,slideCaption:oq,liveCard:lq,liveAvatar:cq,liveAvatarFallback:dq,liveInfo:uq,liveName:hq,liveMeta:mq,liveBadge:pq,liveViewers:fq,modalOverlay:gq,modal:xq,modalHeader:vq,modalTitle:yq,modalFilters:bq,formRow:_q,formRowCheckbox:wq,select:jq,input:Sq,tableWrap:Nq,table:kq},Cq=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function sI(){const t=[];for(const n of Cq)try{const i=await(await fetch(n,{cache:"no-store"})).text(),a=Tq(i);t.push(...a)}catch(r){}const e=new Map;for(const n of t){const r=String(n["Creator Name"]||n.creator_name||n.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,n)}return Array.from(e.values())}function ik(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const a=t[i];a==='"'?r&&t[i+1]==='"'?(n+='"',i++):r=!r:a===","&&!r?(e.push(n),n=""):n+=a}return e.push(n),e}function Tq(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const n=ik(e[0]);return e.slice(1).map(r=>{const i=ik(r),a={};return n.forEach((l,c)=>{var u;return a[l.trim()]=((u=i[c])!=null?u:"").trim()}),a})}function Aq(t){try{const e=Date.now(),n=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-n),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const a=Math.floor(i/60);if(a<60)return`${a}m`;const l=Math.floor(a/60);return l<24?`${l}h`:`${Math.floor(l/24)}d`}catch(e){return""}}function Eq(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const n=e.pathname.toLowerCase();if(n.startsWith("/shorts/"))return n.split("/")[2]||null}}catch(e){}return null}const Iq=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help",label:"Help"},{to:"/settings/",label:"Settings"}],ak={},Rq=()=>s.jsxs("section",{className:qe.card,"data-i18n-scope":"home.tiles",children:[s.jsxs("header",{className:qe.header,children:[s.jsx("span",{className:qe.title,"data-i18n":"home.title",children:"Home"}),s.jsx("span",{className:qe.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),s.jsx("div",{className:qe.tileGrid,role:"list",children:Iq.map(t=>s.jsxs(xs,{to:t.to,role:"listitem",className:qe.tile,"aria-label":t.label,children:[ak[t.to]?s.jsx("img",{src:ak[t.to],alt:"",className:qe.tileIcon}):s.jsx("div",{className:qe.tileIconFallback,"aria-hidden":!0,children:t.label.slice(0,2).toUpperCase()}),s.jsx("div",{className:qe.tileLabel,"data-i18n":`nav.${t.label.toLowerCase()}`,children:t.label})]},t.to))})]}),Pq=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(null);T.useEffect(()=>{async function a(){{e([]);return}}return a(),()=>{}},[]);const i=!t||t.length===0;return s.jsxs("section",{className:qe.card,"data-i18n-scope":"home.news","aria-busy":t==null,children:[s.jsx("header",{className:qe.header,children:s.jsx("span",{className:qe.title,"data-i18n":"home.news.title",children:"Community news"})}),s.jsxs("div",{className:qe.newsList,children:[t==null?void 0:t.map(a=>{var l;return s.jsxs("article",{className:qe.newsItem,children:[s.jsxs("div",{className:qe.newsMeta,children:[s.jsx("span",{className:qe.newsAuthor,children:a.author||"Discord"}),s.jsx("span",{className:qe.newsTime,children:Aq(a.timestamp)})]}),s.jsx("p",{className:qe.newsText,children:a.text}),a.image&&s.jsx("img",{src:a.image,alt:"",className:qe.newsImage}),a.url&&s.jsx("a",{href:a.url,target:"_blank",rel:"noreferrer",className:qe.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(l=a.id)!=null?l:`${a.author}-${a.timestamp}`)}),i&&s.jsx("div",{className:qe.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),n&&s.jsx("div",{className:qe.errorNote,"aria-live":"polite",children:n})]})},Lq=()=>{const[t,e]=T.useState([]),[n,r]=T.useState(0),i=T.useRef(null);T.useEffect(()=>{let u=!0;async function h(){try{const f=(await sI()).map(y=>{const b=String(y["Creator Name"]||y.creator_name||y.name||"").trim(),_=String(y["YouTube Link"]||y.youtube||y.YouTube||"").trim();if(!_)return null;const S=Eq(_),k=S?`https://i.ytimg.com/vi/${S}/hqdefault.jpg`:void 0;return{title:b,url:_,thumb:k}}).filter(Boolean).slice(0,12);u&&e(f)}catch(m){u&&e([])}}return h(),()=>{u=!1}},[]),T.useEffect(()=>{if(!(t.length<=1))return i.current=window.setInterval(()=>r(u=>(u+1)%t.length),6e3),()=>{i.current&&window.clearInterval(i.current)}},[t]);const a=()=>r(u=>(u-1+t.length)%Math.max(t.length,1)),l=()=>r(u=>(u+1)%Math.max(t.length,1)),c=u=>{u.key==="ArrowLeft"&&(u.preventDefault(),a()),u.key==="ArrowRight"&&(u.preventDefault(),l())};return s.jsxs("section",{className:qe.card,"data-i18n-scope":"home.youtube",children:[s.jsxs("header",{className:qe.header,children:[s.jsx("span",{className:qe.title,"data-i18n":"home.youtube.title",children:"YouTube"}),s.jsxs("div",{className:qe.carouselCtrls,children:[s.jsx("button",{className:qe.navBtn,onClick:a,"aria-label":"Prev",children:""}),s.jsx("button",{className:qe.navBtn,onClick:l,"aria-label":"Next",children:""})]})]}),s.jsx("div",{className:qe.carousel,tabIndex:0,onKeyDown:c,"aria-roledescription":"carousel",children:t.length===0?s.jsx("div",{className:qe.empty,children:"No videos"}):t.map((u,h)=>s.jsxs("a",{href:u.url,target:"_blank",rel:"noreferrer",className:[qe.slide,h===n?qe.slideActive:qe.slideInactive].join(" "),children:[u.thumb?s.jsx("img",{src:u.thumb,alt:"",className:qe.slideThumb}):s.jsx("div",{className:qe.slideFallback,children:u.title.slice(0,2).toUpperCase()}),s.jsx("div",{className:qe.slideCaption,children:u.title})]},u.url))})]})},Dq=({onOpenSchedule:t})=>{var m;const[e,n]=T.useState(null),[r,i]=T.useState(new Map),[a,l]=T.useState(0),c=T.useRef(null);if(T.useEffect(()=>{async function f(){{n([]);return}}return f(),()=>{}},[]),T.useEffect(()=>{let f=!0;async function y(){try{const b=await sI(),_=new Map;for(const S of b){const k=String(S["Creator Name"]||S.creator_name||S.name||"").trim(),P=String(S["Twitch Link"]||S.twitch||S.Twitch||"").trim();if(!k||!P)continue;const D=(()=>{try{return new URL(P).pathname.replace(/^\//,"").toLowerCase()}catch(A){return P.toLowerCase()}})();D&&_.set(D,P),_.set(k.toLowerCase(),P)}f&&i(_)}catch(b){f&&i(new Map)}}return y(),()=>{f=!1}},[]),T.useEffect(()=>{if(!(!e||e.length<=1))return c.current=window.setInterval(()=>l(f=>(f+1)%e.length),8e3),()=>{c.current&&window.clearInterval(c.current)}},[e]),!e||e.length===0)return s.jsxs("section",{className:qe.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:qe.header,children:s.jsx("span",{className:qe.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsx("div",{className:qe.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),s.jsx("div",{className:qe.actionsRight,children:s.jsx("button",{className:qe.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const u=e[a],h=(()=>{const f=((u==null?void 0:u.name)||"").toLowerCase();if(u!=null&&u.url)return u.url;if(f)return r.has(f)?r.get(f):r.has(f.replace(/^@/,""))?r.get(f.replace(/^@/,"")):`https://www.twitch.tv/${f}`})();return s.jsxs("section",{className:qe.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:qe.header,children:s.jsx("span",{className:qe.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsxs("div",{className:qe.liveCard,children:[u!=null&&u.avatar?s.jsx("img",{src:u.avatar,alt:"",className:qe.liveAvatar}):s.jsx("div",{className:qe.liveAvatarFallback,"aria-hidden":!0,children:(m=u==null?void 0:u.name)==null?void 0:m.slice(0,2).toUpperCase()}),s.jsxs("div",{className:qe.liveInfo,children:[s.jsx("div",{className:qe.liveName,children:u==null?void 0:u.name}),s.jsxs("div",{className:qe.liveMeta,children:[s.jsx("span",{className:qe.liveBadge,children:"LIVE"}),typeof(u==null?void 0:u.viewers)=="number"&&s.jsxs("span",{className:qe.liveViewers,children:[u.viewers.toLocaleString()," viewers"]})]})]}),h&&s.jsx("a",{href:h,target:"_blank",rel:"noreferrer",className:qe.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),s.jsxs("div",{className:qe.carouselCtrls,children:[s.jsx("button",{className:qe.navBtn,onClick:()=>l(f=>(f-1+e.length)%e.length),"aria-label":"Prev",children:""}),s.jsx("button",{className:qe.navBtn,onClick:()=>l(f=>(f+1)%e.length),"aria-label":"Next",children:""})]})]})},Mq=({open:t,onClose:e})=>{var b;const[n,r]=T.useState(null),[i,a]=T.useState("All"),[l,c]=T.useState(""),[u,h]=T.useState(!1);if(T.useEffect(()=>{if(!t)return;async function _(){{r([]);return}}return _(),()=>{}},[t]),T.useEffect(()=>{const _=S=>{S.key==="Escape"&&e()};return t&&window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[t,e]),!t)return null;const m=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),f=(n||[]).filter(_=>{if(i!=="All"&&_.platform.toLowerCase()!==i.toLowerCase()||u&&_.weekday&&_.weekday.toLowerCase()!==m.toLowerCase())return!1;if(l){const S=l.toLowerCase();if(!`${_.streamer} ${_.title}`.toLowerCase().includes(S))return!1}return!0}),y=((b=n==null?void 0:n.length)!=null?b:0)===0;return s.jsx("div",{className:qe.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:s.jsxs("div",{className:qe.modal,children:[s.jsxs("header",{className:qe.modalHeader,children:[s.jsx("h2",{id:"schedule-title",className:qe.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),s.jsx("button",{className:qe.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),s.jsxs("div",{className:qe.modalFilters,children:[s.jsxs("label",{className:qe.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),s.jsxs("select",{value:i,onChange:_=>a(_.target.value),className:qe.select,children:[s.jsx("option",{value:"All",children:"All"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),s.jsxs("label",{className:qe.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),s.jsx("input",{value:l,onChange:_=>c(_.target.value),className:qe.input,placeholder:"Streamer / Title"})]}),s.jsxs("label",{className:qe.formRowCheckbox,children:[s.jsx("input",{type:"checkbox",checked:u,onChange:_=>h(_.target.checked)}),s.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),s.jsx("div",{className:qe.tableWrap,children:s.jsxs("table",{className:qe.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"weekday"}),s.jsx("th",{children:"start_utc"}),s.jsx("th",{children:"end_utc"}),s.jsx("th",{children:"timezone"}),s.jsx("th",{children:"platform"}),s.jsx("th",{children:"channel_url"}),s.jsx("th",{children:"streamer"}),s.jsx("th",{children:"title"})]})}),s.jsx("tbody",{children:y?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:qe.empty,children:"No schedule yet"})}):f.map((_,S)=>s.jsxs("tr",{children:[s.jsx("td",{children:_.weekday}),s.jsx("td",{children:_.start_utc}),s.jsx("td",{children:_.end_utc}),s.jsx("td",{children:_.timezone}),s.jsx("td",{children:_.platform}),s.jsx("td",{children:_.channel_url?s.jsx("a",{href:_.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),s.jsx("td",{children:_.streamer}),s.jsx("td",{children:_.title})]},S))})]})})]})})},Fq=()=>{const[t,e]=T.useState(!1);return s.jsxs(Vt,{title:"home.title",subtitle:"home.subtitle",children:[s.jsx("div",{className:qe.row,children:s.jsx("div",{className:qe.colFull,children:s.jsx(Rq,{})})}),s.jsxs("div",{className:qe.row,children:[s.jsx("div",{className:qe.colCommunity,children:s.jsx(Pq,{})}),s.jsx("div",{className:qe.colGuides,children:s.jsx(Lq,{})})]}),s.jsx("div",{className:qe.row,children:s.jsx("div",{className:qe.colFull,children:s.jsx(Dq,{onOpenSchedule:()=>e(!0)})})}),s.jsx(Mq,{open:t,onClose:()=>e(!1)})]})},Bq="_wrapper_125p4_1",$q="_card_125p4_19",Oq="_logo_125p4_45",Vq="_heading_125p4_61",Uq="_subcopy_125p4_73",zq="_buttonStack_125p4_83",Hq="_providerButton_125p4_97",Gq="_discord_125p4_145",Wq="_google_125p4_153",qq="_disclaimer_125p4_161",Kq="_status_125p4_173",Qq="_sessionBlock_125p4_183",Xq="_logoutButton_125p4_197",Yq="_linkButton_125p4_227",Jq="_loading_125p4_245",Zq="_spinner_125p4_261",$n={wrapper:Bq,card:$q,logo:Oq,heading:Vq,subcopy:Uq,buttonStack:zq,providerButton:Hq,discord:Gq,google:Wq,disclaimer:qq,status:Kq,sessionBlock:Qq,logoutButton:Xq,linkButton:Yq,loading:Jq,spinner:Zq},eK=()=>{const t=ji(),{status:e,user:n,loginWithDiscord:r,loginWithGoogle:i,logout:a}=fo(),l=e==="loading"||e==="idle",c=e==="authenticated"&&!!n,u=()=>{l||r()},h=()=>{l||i()},m=async()=>{await a()},f=()=>{t("/")};let y;return l?y=s.jsxs("div",{className:$n.loading,children:[s.jsx("div",{className:$n.spinner}),s.jsx("div",{children:"Checking session"})]}):c&&n?y=s.jsxs("div",{className:$n.sessionBlock,children:[s.jsxs("div",{className:$n.status,children:["You are logged in as ",n.displayName,"."]}),s.jsx("button",{className:$n.logoutButton,type:"button",onClick:m,children:"Logout"}),s.jsx("button",{className:$n.linkButton,type:"button",onClick:f,children:"Back to dashboard"})]}):y=s.jsxs("div",{className:$n.buttonStack,children:[s.jsx("button",{className:`${$n.providerButton} ${$n.discord}`,type:"button",onClick:u,children:"Login with Discord"}),s.jsx("button",{className:`${$n.providerButton} ${$n.google}`,type:"button",onClick:h,children:"Login with Google"})]}),s.jsx(Vt,{title:"Account Access",subtitle:"Connect with your community identity",mode:"page",padded:!0,children:s.jsx("div",{className:$n.wrapper,children:s.jsxs("div",{className:$n.card,children:[s.jsx("img",{className:$n.logo,src:Mf,alt:"SFDataHub logo"}),s.jsx("h1",{className:$n.heading,children:"Sign in"}),s.jsx("p",{className:$n.subcopy,children:"Choose a method to access SFDataHub."}),y,s.jsx("p",{className:$n.disclaimer,children:"We store only your SFDataHub user ID, display name, avatar, and roles to personalize your experience."})]})})})};function tK(){return s.jsx(Vt,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(sK,{}),right:s.jsx(nK,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Py,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(Py,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(Py,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function sK(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Ly,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(Ly,{to:"/dashboard/activity",children:"Activity"}),s.jsx(Ly,{to:"/dashboard/progression",children:"Progression"})]})]})}function nK(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function Py({to:t,title:e,desc:n}){return s.jsxs(xs,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Ly({to:t,children:e}){return s.jsx(xs,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function rK(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Dy,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(Dy,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(Dy,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Dy({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function iK(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function aK(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(My,{title:"Scrapbook 100%",progress:72}),s.jsx(My,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(My,{title:"Underworld Boss",progress:35})]})]})}function My({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function oK(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(zl,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(zl,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(zl,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(zl,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(zl,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(zl,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"}),s.jsx(zl,{to:"/players/compare",title:"Compare Players",desc:"Direkter Spieler-Vergleich"})]})]})}function zl({to:t,title:e,desc:n}){return s.jsxs(xs,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function lK({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:Ya.border,backgroundColor:Ya.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function cK(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const dK=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:a,showInfo:l=!1,infoText:c="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:u=0,tryTransparentBg:h=!0})=>{const[m,f]=T.useState(!1),y=T.useMemo(()=>cK(t,h),[t,h]),b=i?"lazy":"eager",_={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},S={position:"relative",width:"100%",padding:u?`${u}px`:0,boxSizing:"border-box",background:"transparent"},k=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},P={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:a,style:_,children:s.jsx("div",{style:S,children:s.jsxs("div",{style:k,children:[s.jsx("iframe",{src:y,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:b,scrolling:"no",title:"Heyzine Flipbook"}),l&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>f(D=>!D),style:P,title:"Info",children:"i"}),m&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[c," ",s.jsx("a",{href:y,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},uK="#0C1C2E",hK=()=>s.jsx(Vt,{children:s.jsx(lK,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:uK,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx(dK,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),mK="_pageWrap_72re9_7",pK="_infoLine_72re9_17",fK="_viewerHost_72re9_43",gK="_overlay_72re9_99",xK="_dragZoneLeft_72re9_101",vK="_dragZoneRight_72re9_103",yK="_inbookLink_72re9_105",Uo={pageWrap:mK,infoLine:pK,viewerHost:fK,overlay:gK,dragZoneLeft:xK,dragZoneRight:vK,inbookLink:yK};var mh={exports:{}},bK=mh.exports,ok;function _K(){return ok||(ok=1,(function(t,e){(function(n,r){r(e)})(bK,(function(n){class r{constructor(v,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=v}setDensity(v){this.createdDensity=v,this.nowDrawingDensity=v}setDrawingDensity(v){this.nowDrawingDensity=v}setPosition(v){this.state.position=v}setAngle(v){this.state.angle=v}setArea(v){this.state.area=v}setHardDrawingAngle(v){this.state.hardDrawingAngle=v}setHardAngle(v){this.state.hardAngle=v,this.state.hardDrawingAngle=v}setOrientation(v){this.orientation=v}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(v,w,L){super(v,L),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(v){const w=this.render.getContext(),L=this.render.convertToGlobal(this.state.position),C=this.render.getRect().pageWidth,N=this.render.getRect().height;w.save(),w.translate(L.x,L.y),w.beginPath();for(let E of this.state.area)E!==null&&(E=this.render.convertToGlobal(E),w.lineTo(E.x-L.x,E.y-L.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,C,N):this.drawLoader(w,{x:0,y:0},C,N),w.restore()}simpleDraw(v){const w=this.render.getRect(),L=this.render.getContext(),C=w.pageWidth,N=w.height,E=v===1?w.left+w.pageWidth:w.left,F=w.top;this.isLoad?L.drawImage(this.image,E,F,C,N):this.drawLoader(L,{x:E,y:F},C,N)}drawLoader(v,w,L,C){v.beginPath(),v.strokeStyle="rgb(200, 200, 200)",v.fillStyle="rgb(255, 255, 255)",v.lineWidth=1,v.rect(w.x+1,w.y+1,L-1,C-1),v.stroke(),v.fill();const N={x:w.x+L/2,y:w.y+C/2};v.beginPath(),v.lineWidth=10,v.arc(N.x,N.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),v.stroke(),v.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class a{constructor(v,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=v,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let v=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([v]),v++);for(let w=v;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(v){const w=this.getSpread();for(let L=0;L<w.length;L++)if(v===w[L][0]||v===w[L][1])return L;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(v){if(v>=0&&v<this.pages.length)return this.pages[v];throw new Error("Invalid page number")}nextBy(v){const w=this.pages.indexOf(v);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(v){const w=this.pages.indexOf(v);return w>0?this.pages[w-1]:null}getFlippingPage(v){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const L=v===0?this.getSpread()[w+1]:this.getSpread()[w-1];return L.length===1||v===0?this.pages[L[0]]:this.pages[L[1]]}}getBottomPage(v){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[w+1]:this.pages[w-1];{const L=v===0?this.getSpread()[w+1]:this.getSpread()[w-1];return L.length===1?this.pages[L[0]]:v===0?this.pages[L[1]]:this.pages[L[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(v=null){if(v===null&&(v=this.currentPageIndex),v<0||v>=this.pages.length)return;const w=this.getSpreadIndexByPage(v);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(v){if(!(v>=0&&v<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=v}showSpread(){const v=this.getSpread()[this.currentSpreadIndex];v.length===2?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(this.pages[v[1]])):this.render.getOrientation()==="landscape"&&v[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[v[0]])),this.currentPageIndex=v[0],this.app.updatePageIndex(this.currentPageIndex)}}class l extends a{constructor(v,w,L){super(v,w),this.imagesHref=L}load(){for(const v of this.imagesHref){const w=new i(this.render,v,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class c{static GetDistanceBetweenTwoPoint(v,w){return v===null||w===null?1/0:Math.sqrt(Math.pow(w.x-v.x,2)+Math.pow(w.y-v.y,2))}static GetSegmentLength(v){return c.GetDistanceBetweenTwoPoint(v[0],v[1])}static GetAngleBetweenTwoLine(v,w){const L=v[0].y-v[1].y,C=w[0].y-w[1].y,N=v[1].x-v[0].x,E=w[1].x-w[0].x;return Math.acos((L*C+N*E)/(Math.sqrt(L*L+N*N)*Math.sqrt(C*C+E*E)))}static PointInRect(v,w){return w===null?null:w.x>=v.left&&w.x<=v.width+v.left&&w.y>=v.top&&w.y<=v.top+v.height?w:null}static GetRotatedPoint(v,w,L){return{x:v.x*Math.cos(L)+v.y*Math.sin(L)+w.x,y:v.y*Math.cos(L)-v.x*Math.sin(L)+w.y}}static LimitPointToCircle(v,w,L){if(c.GetDistanceBetweenTwoPoint(v,L)<=w)return L;const C=v.x,N=v.y,E=L.x,F=L.y;let I=Math.sqrt(Math.pow(w,2)*Math.pow(C-E,2)/(Math.pow(C-E,2)+Math.pow(N-F,2)))+C;L.x<0&&(I*=-1);let B=(I-C)*(N-F)/(C-E)+N;return C-E+N===0&&(B=w),{x:I,y:B}}static GetIntersectBetweenTwoSegment(v,w,L){return c.PointInRect(v,c.GetIntersectBeetwenTwoLine(w,L))}static GetIntersectBeetwenTwoLine(v,w){const L=v[0].y-v[1].y,C=w[0].y-w[1].y,N=v[1].x-v[0].x,E=w[1].x-w[0].x,F=v[0].x*v[1].y-v[1].x*v[0].y,I=w[0].x*w[1].y-w[1].x*w[0].y,B=L*I-C*F,$=N*I-E*F,U=-(F*E-I*N)/(L*E-C*N),H=-(L*I-C*F)/(L*E-C*N);if(isFinite(U)&&isFinite(H))return{x:U,y:H};if(Math.abs(B-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(v,w){const L=Math.abs(v.x-w.x),C=Math.abs(v.y-w.y),N=Math.max(L,C),E=[v];function F(I,B,$,U,H){return B>I?I+H*($/U):B<I?I-H*($/U):I}for(let I=1;I<=N;I+=1)E.push({x:F(v.x,w.x,L,N,I),y:F(v.y,w.y,C,N,I)});return E}}class u extends r{constructor(v,w,L){super(v,L),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+L)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new u(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(v){const w=v||this.nowDrawingDensity,L=this.render.convertToGlobal(this.state.position),C=this.render.getRect().pageWidth,N=this.render.getRect().height;this.element.classList.remove("--simple");const E=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${C}px;
            height: ${N}px;
        `;w==="hard"?this.drawHard(E):this.drawSoft(L,E)}drawHard(v=""){const w=this.render.getRect().left+this.render.getRect().width/2,L=this.state.hardDrawingAngle,C=v+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${L}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${L}deg);`);this.element.style.cssText=C}drawSoft(v,w=""){let L="polygon( ";for(const N of this.state.area)if(N!==null){let E=this.render.getDirection()===1?{x:-N.x+this.state.position.x,y:N.y-this.state.position.y}:{x:N.x-this.state.position.x,y:N.y-this.state.position.y};E=c.GetRotatedPoint(E,{x:0,y:0},this.state.angle),L+=E.x+"px "+E.y+"px, "}L=L.slice(0,-2),L+=")";const C=w+`transform-origin: 0 0; clip-path: ${L}; -webkit-clip-path: ${L};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${v.x}px, ${v.y}px);`:`transform: translate3d(${v.x}px, ${v.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=C}simpleDraw(v){const w=this.render.getRect(),L=w.pageWidth,C=w.height,N=v===1?w.left+w.pageWidth:w.left,E=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${C}px; 
            left: ${N}px; 
            top: ${E}px; 
            width: ${L}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(v){super.setOrientation(v),this.element.classList.remove("--left","--right"),this.element.classList.add(v===1?"--right":"--left")}setDrawingDensity(v){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+v),super.setDrawingDensity(v)}}class h extends a{constructor(v,w,L,C){super(v,w),this.element=L,this.pagesElement=C}load(){for(const v of this.pagesElement){const w=new u(this.render,v,v.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class m{constructor(v,w,L,C){this.direction=v,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(L,10),this.pageHeight=parseInt(C,10)}calc(v){try{return this.position=this.calcAngleAndPosition(v),this.calculateIntersectPoint(this.position),!0}catch(w){return!1}}getFlippingClipArea(){const v=[];let w=!1;return v.push(this.rect.topLeft),v.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(v.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),v.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&v.push(this.rect.bottomLeft),v}getBottomClipArea(){const v=[];return v.push(this.topIntersectPoint),this.corner==="top"?v.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&v.push({x:this.pageWidth,y:0}),v.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?c.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&v.push(this.sideIntersectPoint):this.corner==="top"&&v.push({x:this.pageWidth,y:this.pageHeight}),v.push(this.bottomIntersectPoint),v.push(this.topIntersectPoint),v}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const v=c.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?v:Math.PI-v}calcAngleAndPosition(v){let w=v;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(v){this.angle=this.calculateAngle(v),this.rect=this.getPageRect(v)}calculateAngle(v){const w=this.pageWidth-v.x+1,L=this.corner==="bottom"?this.pageHeight-v.y:v.y;let C=2*Math.acos(w/Math.sqrt(L*L+w*w));L<0&&(C=-C);const N=Math.PI-C;if(!isFinite(C)||N>=0&&N<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(C=-C),C}getPageRect(v){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],v):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],v)}getRectFromBasePoint(v,w){return{topLeft:this.getRotatedPoint(v[0],w),topRight:this.getRotatedPoint(v[1],w),bottomLeft:this.getRotatedPoint(v[2],w),bottomRight:this.getRotatedPoint(v[3],w)}}getRotatedPoint(v,w){return{x:v.x*Math.cos(this.angle)+v.y*Math.sin(this.angle)+w.x,y:v.y*Math.cos(this.angle)-v.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(v){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[v,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[v,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[v,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=c.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(v,w,L){let C=v;const N=c.LimitPointToCircle(w,this.pageWidth,C);C!==N&&(C=N,this.updateAngleAndGeometry(C));const E=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let F=this.rect.bottomRight,I=this.rect.topLeft;if(this.corner==="bottom"&&(F=this.rect.topRight,I=this.rect.bottomLeft),F.x<=0){const B=c.LimitPointToCircle(L,E,I);B!==C&&(C=B,this.updateAngleAndGeometry(C))}return C}getSegmentToShadowLine(){const v=this.getShadowStartPoint();return[v,v!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class f{constructor(v,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=v,this.app=w}fold(v){this.setState("user_fold"),this.calc===null&&this.start(v),this.do(this.render.convertToPage(v))}flip(v){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(v)||(this.calc!==null&&this.render.finishAnimation(),!this.start(v)))return;const w=this.getBoundsRect();this.setState("flipping");const L=w.height/10,C=this.calc.getCorner()==="bottom"?w.height-L:L,N=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-L,y:C}),this.animateFlippingTo({x:w.pageWidth-L,y:C},{x:-w.pageWidth,y:N},!0)}start(v){this.reset();const w=this.render.convertToBook(v),L=this.getBoundsRect(),C=this.getDirectionByPoint(w),N=w.y>=L.height/2?"bottom":"top";if(!this.checkDirection(C))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(C),this.bottomPage=this.app.getPageCollection().getBottomPage(C),this.render.getOrientation()==="landscape")if(C===1){const E=this.app.getPageCollection().nextBy(this.flippingPage);E!==null&&this.flippingPage.getDensity()!==E.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),E.setDrawingDensity("hard"))}else{const E=this.app.getPageCollection().prevBy(this.flippingPage);E!==null&&this.flippingPage.getDensity()!==E.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),E.setDrawingDensity("hard"))}return this.render.setDirection(C),this.calc=new m(C,N,L.pageWidth.toString(10),L.height.toString(10)),!0}catch(E){return!1}}do(v){if(this.calc!==null&&this.calc.calc(v)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(v,w){const L=this.app.getPageCollection().getCurrentSpreadIndex(),C=this.app.getPageCollection().getSpreadIndexByPage(v);try{C>L&&(this.app.getPageCollection().setCurrentSpreadIndex(C-1),this.flipNext(w)),C<L&&(this.app.getPageCollection().setCurrentSpreadIndex(C+1),this.flipPrev(w))}catch(N){}}flipNext(v){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:v==="top"?1:this.render.getRect().height-2})}flipPrev(v){this.flip({x:10,y:v==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const v=this.calc.getPosition(),w=this.getBoundsRect(),L=this.calc.getCorner()==="bottom"?w.height:0;v.x<=0?this.animateFlippingTo(v,{x:-w.pageWidth,y:L},!0):this.animateFlippingTo(v,{x:w.pageWidth,y:L},!1)}showCorner(v){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),L=w.pageWidth;if(this.isPointOnCorners(v))if(this.calc===null){if(!this.start(v))return;this.setState("fold_corner"),this.calc.calc({x:L-1,y:1});const C=50,N=this.calc.getCorner()==="bottom"?w.height-1:1,E=this.calc.getCorner()==="bottom"?w.height-C:C;this.animateFlippingTo({x:L-1,y:N},{x:L-C,y:E},!1,!1)}else this.do(this.render.convertToPage(v));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(v,w,L,C=!0){const N=c.GetCordsFromTwoPoint(v,w),E=[];for(const I of N)E.push(()=>this.do(I));const F=this.getAnimationDuration(N.length);this.render.startAnimation(E,F,()=>{this.calc&&(L&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),C&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(v){this.state!==v&&(this.app.updateState(v),this.state=v)}getDirectionByPoint(v){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(v.x-w.pageWidth<=w.width/5)return 1}else if(v.x<w.width/2)return 1;return 0}getAnimationDuration(v){const w=this.app.getSettings().flippingTime;return v>=1e3?w:v/1e3*w}checkDirection(v){return v===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...v){for(const w of v)if(this.state===w)return!0;return!1}isPointOnCorners(v){const w=this.getBoundsRect(),L=w.pageWidth,C=Math.sqrt(Math.pow(L,2)+Math.pow(w.height,2))/5,N=this.render.convertToBook(v);return N.x>0&&N.y>0&&N.x<w.width&&N.y<w.height&&(N.x<C||N.x>w.width-C)&&(N.y<C||N.y>w.height-C)}}class y{constructor(v,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=v;const L=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=L.exec(window.navigator.userAgent)!==null}render(v){if(this.animation!==null){const w=Math.round((v-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=v,this.drawFrame()}start(){this.update();const v=w=>{this.render(w),requestAnimationFrame(v)};requestAnimationFrame(v)}startAnimation(v,w,L){this.finishAnimation(),this.animation={frames:v,duration:w,durationFrame:w/v.length,onAnimateEnd:L,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const v=this.calculateBoundsRect();this.orientation!==v&&(this.orientation=v,this.app.updateOrientation(v))}calculateBoundsRect(){let v="landscape";const w=this.getBlockWidth(),L=w/2,C=this.getBlockHeight()/2,N=this.setting.width/this.setting.height;let E=this.setting.width,F=this.setting.height,I=L-E;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(v="portrait"),E=v==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,E>this.setting.maxWidth&&(E=this.setting.maxWidth),F=E/N,F>this.getBlockHeight()&&(F=this.getBlockHeight(),E=F*N),I=v==="portrait"?L-E/2-E:L-E):w<2*E&&this.app.getSettings().usePortrait&&(v="portrait",I=L-E/2-E),this.boundsRect={left:I,top:C-F/2,width:2*E,height:F,pageWidth:E},v}setShadowData(v,w,L,C){if(!this.app.getSettings().drawShadow)return;const N=100*this.getSettings().maxShadowOpacity;this.shadow={pos:v,angle:w,width:3*this.getRect().pageWidth/4*L/100,opacity:(100-L)*N/100/100,direction:C,progress:2*L}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(v){this.pageRect=v}setDirection(v){this.direction=v}setRightPage(v){v!==null&&v.setOrientation(1),this.rightPage=v}setLeftPage(v){v!==null&&v.setOrientation(0),this.leftPage=v}setBottomPage(v){v!==null&&v.setOrientation(this.direction===1?0:1),this.bottomPage=v}setFlippingPage(v){v!==null&&v.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=v}convertToBook(v){const w=this.getRect();return{x:v.x-w.left,y:v.y-w.top}}isSafari(){return this.safari}convertToPage(v,w){w||(w=this.direction);const L=this.getRect();return{x:w===0?v.x-L.left-L.width/2:L.width/2-v.x+L.left,y:v.y-L.top}}convertToGlobal(v,w){if(w||(w=this.direction),v==null)return null;const L=this.getRect();return{x:w===0?v.x+L.left+L.width/2:L.width/2-v.x+L.left,y:v.y+L.top}}convertRectToGlobal(v,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(v.topLeft,w),topRight:this.convertToGlobal(v.topRight,w),bottomLeft:this.convertToGlobal(v.bottomLeft,w),bottomRight:this.convertToGlobal(v.bottomRight,w)}}}class b extends y{constructor(v,w,L){super(v,w),this.canvas=L,this.ctx=L.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const v=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(v.left+v.pageWidth,v.top,v.width,v.height),this.ctx.clip())}drawBookShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=v.width/20;this.ctx.rect(v.left,v.top,v.width,v.height);const L={x:v.left+v.width/2-w/2,y:0};this.ctx.translate(L.x,L.y);const C=this.ctx.createLinearGradient(0,0,w,0);C.addColorStop(0,"rgba(0, 0, 0, 0)"),C.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),C.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),C.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),C.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),C.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=C,this.ctx.fillRect(0,0,w,2*v.height),this.ctx.restore()}drawOuterShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(v.left,v.top,v.width,v.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const L=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),L.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),L.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),L.addColorStop(0,"rgba(0, 0, 0, 0)"),L.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=L,this.ctx.fillRect(0,0,this.shadow.width,2*v.height),this.ctx.restore()}drawInnerShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),L=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(L.topLeft.x,L.topLeft.y),this.ctx.lineTo(L.topRight.x,L.topRight.y),this.ctx.lineTo(L.bottomRight.x,L.bottomRight.y),this.ctx.lineTo(L.bottomLeft.x,L.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const C=3*this.shadow.width/4,N=this.ctx.createLinearGradient(0,0,C,0);this.shadow.direction===0?(this.ctx.translate(-C,-100),N.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),N.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),N.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),N.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),N.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),N.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),N.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),N.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=N,this.ctx.fillRect(0,0,C,2*v.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class _{constructor(v,w,L){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=N=>{if(this.checkTarget(N.target)){const E=this.getMousePos(N.clientX,N.clientY);this.app.startUserTouch(E),N.preventDefault()}},this.onTouchStart=N=>{if(this.checkTarget(N.target)&&N.changedTouches.length>0){const E=N.changedTouches[0],F=this.getMousePos(E.clientX,E.clientY);this.touchPoint={point:F,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(F)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||N.preventDefault()}},this.onMouseUp=N=>{const E=this.getMousePos(N.clientX,N.clientY);this.app.userStop(E)},this.onMouseMove=N=>{const E=this.getMousePos(N.clientX,N.clientY);this.app.userMove(E,!1)},this.onTouchMove=N=>{if(N.changedTouches.length>0){const E=N.changedTouches[0],F=this.getMousePos(E.clientX,E.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-F.x)>10||this.app.getState()!=="read")&&N.cancelable&&this.app.userMove(F,!0),this.app.getState()!=="read"&&N.preventDefault()):this.app.userMove(F,!0)}},this.onTouchEnd=N=>{if(N.changedTouches.length>0){const E=N.changedTouches[0],F=this.getMousePos(E.clientX,E.clientY);let I=!1;if(this.touchPoint!==null){const B=F.x-this.touchPoint.point.x,$=Math.abs(F.y-this.touchPoint.point.y);Math.abs(B)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(B>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),I=!0),this.touchPoint=null}this.app.userStop(F,I)}},this.parentElement=v,v.classList.add("stf__parent"),v.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=v.querySelector(".stf__wrapper"),this.app=w;const C=this.app.getSettings().usePortrait?1:2;v.style.minWidth=L.minWidth*C+"px",v.style.minHeight=L.minHeight+"px",L.size==="fixed"&&(v.style.minWidth=L.width*C+"px",v.style.minHeight=L.height+"px"),L.autoSize&&(v.style.width="100%",v.style.maxWidth=2*L.maxWidth+"px"),v.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=L.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(v){this.wrapper.classList.remove("--portrait","--landscape"),v==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(v,w){const L=this.distElement.getBoundingClientRect();return{x:v-L.left,y:w-L.top}}checkTarget(v){return!this.app.getSettings().clickEventForward||!["a","button"].includes(v.tagName.toLowerCase())}}class S extends _{constructor(v,w,L,C){super(v,w,L),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=v.querySelector(".stf__block"),this.items=C;for(const N of C)this.distElement.appendChild(N);this.setHandlers()}clear(){for(const v of this.items)this.parentElement.appendChild(v)}updateItems(v){this.removeHandlers(),this.distElement.innerHTML="";for(const w of v)this.distElement.appendChild(w);this.items=v,this.setHandlers()}update(){this.app.getRender().update()}}class k extends _{constructor(v,w,L){super(v,w,L),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=v.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const v=getComputedStyle(this.canvas),w=parseInt(v.getPropertyValue("width"),10),L=parseInt(v.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=L}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class P extends y{constructor(v,w,L){super(v,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=L,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const v=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let L=(100-w)*(2.5*v.pageWidth)/100+20;L>v.pageWidth&&(L=v.pageWidth);let C=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${L}px;
            height: ${v.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;C+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=C}drawHardOuterShadow(){const v=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*v.pageWidth)/100+20;w>v.pageWidth&&(w=v.pageWidth);let L=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${v.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;L+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=L}drawInnerShadow(){const v=this.getRect(),w=3*this.shadow.width/4,L=this.getDirection()===0?w:0,C=this.getDirection()===0?"to left":"to right",N=this.convertToGlobal(this.shadow.pos),E=this.shadow.angle+3*Math.PI/2,F=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let I="polygon( ";for(const $ of F){let U=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};U=c.GetRotatedPoint(U,{x:L,y:100},E),I+=U.x+"px "+U.y+"px, "}I=I.slice(0,-2),I+=")";const B=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*v.height}px;
            background: linear-gradient(${C},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${L}px 100px;
            transform: translate3d(${N.x-L}px, ${N.y-100}px, 0) rotate(${E}rad);
            clip-path: ${I};
            -webkit-clip-path: ${I};
        `;this.innerShadow.style.cssText=B}drawOuterShadow(){const v=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),L=this.shadow.angle+3*Math.PI/2,C=this.getDirection()===1?this.shadow.width:0,N=this.getDirection()===0?"to right":"to left",E=[{x:0,y:0},{x:v.pageWidth,y:0},{x:v.pageWidth,y:v.height},{x:0,y:v.height}];let F="polygon( ";for(const B of E)if(B!==null){let $=this.getDirection()===1?{x:-B.x+this.shadow.pos.x,y:B.y-this.shadow.pos.y}:{x:B.x-this.shadow.pos.x,y:B.y-this.shadow.pos.y};$=c.GetRotatedPoint($,{x:C,y:100},L),F+=$.x+"px "+$.y+"px, "}F=F.slice(0,-2),F+=")";const I=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*v.height}px;
            background: linear-gradient(${N}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${C}px 100px;
            transform: translate3d(${w.x-C}px, ${w.y-100}px, 0) rotate(${L}rad);
            clip-path: ${F};
            -webkit-clip-path: ${F};
        `;this.outerShadow.style.cssText=I}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const v=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(v))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const v of this.app.getPageCollection().getPages())v!==this.leftPage&&v!==this.rightPage&&v!==this.flippingPage&&v!==this.bottomPage&&(v.getElement().style.cssText="display: none"),v.getTemporaryCopy()!==this.flippingPage&&v.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class D{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(v){const w=this._default;if(Object.assign(w,v),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(A,v){v===void 0&&(v={});var w=v.insertAt;if(typeof document!="undefined"){var L=document.head||document.getElementsByTagName("head")[0],C=document.createElement("style");C.type="text/css",w==="top"&&L.firstChild?L.insertBefore(C,L.firstChild):L.appendChild(C),C.styleSheet?C.styleSheet.cssText=A:C.appendChild(document.createTextNode(A))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(A,v){return this.events.has(A)?this.events.get(A).push(v):this.events.set(A,[v]),this}off(A){this.events.delete(A)}trigger(A,v,w=null){if(this.events.has(A))for(const L of this.events.get(A))L({data:w,object:v})}}{constructor(A,v){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new D().getSettings(v),this.block=A}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(A){this.ui=new k(this.block,this,this.setting);const v=this.ui.getCanvas();this.render=new b(this,this.setting,v),this.flipController=new f(this.render,this),this.pages=new l(this,this.render,A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(A){this.ui=new S(this.block,this,this.setting,A),this.render=new P(this,this.setting,this.ui.getDistElement()),this.flipController=new f(this.render,this),this.pages=new h(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(A){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new l(this,this.render,A),this.pages.load(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}updateFromHtml(A){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new h(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.ui.updateItems(A),this.render.reload(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(A){this.pages.show(A)}flipNext(A="top"){this.flipController.flipNext(A)}flipPrev(A="top"){this.flipController.flipPrev(A)}flip(A,v="top"){this.flipController.flipToPage(A,v)}updateState(A){this.trigger("changeState",this,A)}updatePageIndex(A){this.trigger("flip",this,A)}updateOrientation(A){this.ui.setOrientationStyle(A),this.update(),this.trigger("changeOrientation",this,A)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(A){return this.pages.getPage(A)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(A){this.mousePosition=A,this.isUserTouch=!0,this.isUserMove=!1}userMove(A,v){this.isUserTouch||v||!this.setting.showPageCorners?this.isUserTouch&&c.GetDistanceBetweenTwoPoint(this.mousePosition,A)>5&&(this.isUserMove=!0,this.flipController.fold(A)):this.flipController.showCorner(A)}userStop(A,v=!1){this.isUserTouch&&(this.isUserTouch=!1,v||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(A)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(mh,mh.exports)),mh.exports}var wK=_K();const jK="_viewerRoot_hj39c_5",SK="_stage_hj39c_17",NK="_host_hj39c_43",kK="_hud_hj39c_91",CK="_hBtn_hj39c_125",TK="_hText_hj39c_153",AK="_title_hj39c_167",EK="_sep_hj39c_169",IK="_spacer_hj39c_171",RK="_errorBox_hj39c_175",Yr={viewerRoot:jK,stage:SK,host:NK,hud:kK,hBtn:CK,hText:TK,title:AK,sep:EK,spacer:IK,errorBox:RK},PK="/".endsWith("/")?"/":"//",nI=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${PK}${e}`.replace(/\/{2,}/g,"/")},LK=async t=>{const e=nI(`flipbooks/${t}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${t}"`);return n.json()},DK=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},MK=(t,e,n)=>Math.max(e,Math.min(n,t)),cn={hostEl:null,pf:null,slug:null},zi={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},FK=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function BK(t){for(const e of t)e&&(zi.cache.has(e)||zi.inFlight.has(e)||zi.queue.includes(e)||zi.queue.push(e));rI()}function rI(){FK(()=>{for(;zi.inFlight.size<zi.maxParallel&&zi.queue.length>0;){const t=zi.queue.shift();zi.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{zi.inFlight.delete(t),zi.cache.add(t),rI()},e.src=t}})}const $K=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:i=!0})=>{const a=T.useRef(null),l=T.useRef(null),[c,u]=T.useState(null),[h,m]=T.useState(null),f=T.useRef(),y=T.useRef(),b=T.useRef(e);T.useEffect(()=>{f.current=n},[n]),T.useEffect(()=>{y.current=r},[r]),T.useEffect(()=>{b.current=e},[e]);const _=T.useMemo(()=>nI(`flipbooks/${t}`),[t]),S=T.useCallback(A=>{var v,w;if((v=A.srcset)!=null&&v.length){const L=[...A.srcset].sort((N,E)=>N.width-E.width),C=(w=L.find(N=>N.width>=1600))!=null?w:L[L.length-1];return/^https?:\/\//i.test(C.src)||C.src.startsWith("/")?C.src:`${_}/${C.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(A.src)||A.src.startsWith("/")?A.src:`${_}/${A.src}`.replace(/\/{2,}/g,"/")},[_]);T.useEffect(()=>{let A=!0;return m(null),LK(t).then(v=>{A&&u(v)}).catch(v=>{A&&m(v.message||"Failed to load flipbook manifest.")}),()=>{A=!1}},[t]),T.useEffect(()=>{const A=l.current,v=a.current;if(!A||!v||!c||(cn.hostEl||(cn.hostEl=document.createElement("div"),cn.hostEl.className=Yr.host),cn.hostEl.parentElement!==A&&A.appendChild(cn.hostEl),!cn.hostEl.isConnected))return;if(!(!cn.pf||cn.slug!==t)){try{cn.pf.update()}catch($){}return}if(cn.pf){try{cn.pf.destroy()}catch($){}cn.pf=null}const L={width:c.pageWidth,height:c.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},C=new wK.PageFlip(cn.hostEl,L);cn.pf=C,cn.slug=t;const N=c.pages.map(S);C.loadFromImages(N);const E=$=>{const U=[],H=$+1,W=$+2;c.pages[H]&&U.push(S(c.pages[H])),c.pages[W]&&U.push(S(c.pages[W])),BK(U)},F=()=>{var U;const $=MK(b.current,1,c.pageCount)-1;C.turnToPage($,"hard"),setTimeout(()=>E($),220),(U=f.current)==null||U.call(f,C)};C.on("init",F),C.on("flip",$=>{var H;const U=$.data;(H=y.current)==null||H.call(y,U),setTimeout(()=>E(U),220)});const I=new ResizeObserver(()=>{var $;try{($=cn.pf)==null||$.update()}catch(U){}});I.observe(v);const B=$=>{var U,H;$.key==="ArrowLeft"&&($.preventDefault(),(U=cn.pf)==null||U.flipPrev()),$.key==="ArrowRight"&&($.preventDefault(),(H=cn.pf)==null||H.flipNext())};return window.addEventListener("keydown",B,{passive:!1}),()=>{window.removeEventListener("keydown",B),I.disconnect()}},[c,S,t]);const k=()=>{var A;return(A=cn.pf)==null?void 0:A.flipPrev()},P=()=>{var A;return(A=cn.pf)==null?void 0:A.flipNext()},D=()=>{var w;const A=a.current;if(!A)return;const v=A;(w=v.requestFullscreen||v.webkitRequestFullscreen||v.msRequestFullscreen)==null||w.call(v)};return h?s.jsxs("div",{className:Yr.errorBox,children:["Flipbook konnte nicht geladen werden: ",h]}):c?s.jsxs("div",{className:Yr.viewerRoot,ref:a,"aria-label":c.title,children:[s.jsx("div",{className:Yr.stage,ref:l}),s.jsxs("div",{className:Yr.hud,children:[s.jsx("button",{className:Yr.hBtn,onClick:k,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:Yr.hText,children:[s.jsx("span",{className:Yr.title,children:c.title}),s.jsx("span",{className:Yr.sep,children:""}),s.jsxs("span",{children:[c.pageCount," Seiten"]})]}),s.jsx("div",{className:Yr.spacer}),DK()&&s.jsx("button",{className:Yr.hBtn,onClick:D,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:Yr.hBtn,onClick:P,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:Yr.errorBox,children:"Lade Flipbook"})},OK=X.memo($K),VK={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},UK=()=>{const t="sf-history-book",[e,n]=T.useState(1),r=T.useRef(null),i=T.useMemo(()=>{var m;return(m=VK[e])!=null?m:[]},[e]),a=T.useCallback(m=>{r.current=m},[]),l=T.useCallback(m=>{n(m+1)},[]),c=T.useCallback(m=>{const f=r.current;if(f)try{f.turnToPage(Math.max(0,m-1))}catch(y){}},[]),u=T.useCallback(()=>{var m;return(m=r.current)==null?void 0:m.flipPrev()},[]),h=T.useCallback(()=>{var m;return(m=r.current)==null?void 0:m.flipNext()},[]);return s.jsx(Vt,{title:"SF History Book",children:s.jsxs("div",{className:Uo.pageWrap,children:[s.jsx("div",{className:Uo.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsxs("div",{className:Uo.viewerHost,children:[s.jsx(OK,{slug:t,initialPage:1,onReady:a,onPageChange:l,noSound:!0}),s.jsxs("div",{className:Uo.overlay,"aria-hidden":!0,children:[s.jsx("div",{className:Uo.dragZoneLeft,onClick:u}),s.jsx("div",{className:Uo.dragZoneRight,onClick:h}),i.map((m,f)=>{const y={"--t":`${m.t}%`,"--l":`${m.l}%`,"--w":`${m.w}%`,"--h":`${m.h}%`};return m.kind==="goto"?s.jsx("button",{className:Uo.inbookLink,style:y,"aria-label":m.label,onClick:()=>c(m.toPage)},f):s.jsx("a",{className:Uo.inbookLink,style:y,"aria-label":m.label,href:m.href,target:"_blank",rel:"noopener noreferrer"},f)})]})]})]})})},zK="_root_zvspc_1",HK="_hero_zvspc_15",GK="_eyebrow_zvspc_47",WK="_heading_zvspc_63",qK="_lead_zvspc_77",KK="_freshnessHint_zvspc_91",QK="_hintLabel_zvspc_105",XK="_hintText_zvspc_121",YK="_grid_zvspc_135",JK="_card_zvspc_147",ZK="_cardTitle_zvspc_163",eQ="_paragraph_zvspc_177",tQ="_list_zvspc_191",sQ="_listItem_zvspc_207",Rr={root:zK,hero:HK,eyebrow:GK,heading:WK,lead:qK,freshnessHint:KK,hintLabel:QK,hintText:XK,grid:YK,card:JK,cardTitle:ZK,paragraph:eQ,list:tQ,listItem:sQ},nQ=()=>{const{t}=wa(),e=t("help.dataFreshness.body").split(`

`),n=[{key:"intro",title:t("help.sections.intro.title"),paragraphs:[t("help.sections.intro.body1"),t("help.sections.intro.body2")]},{key:"actions",title:t("help.sections.actions.title"),bullets:[t("help.sections.actions.items.toplists"),t("help.sections.actions.items.profiles"),t("help.sections.actions.items.guides"),t("help.sections.actions.items.tools")]},{key:"freshness",title:t("help.dataFreshness.title"),paragraphs:e},{key:"login",title:t("help.sections.login.title"),paragraphs:[t("help.sections.login.body1"),t("help.sections.login.body2"),t("help.sections.login.body3"),t("help.sections.login.body4")]},{key:"legal",title:t("help.sections.legal.title"),paragraphs:[t("help.sections.legal.body1"),t("help.sections.legal.body2"),t("help.sections.legal.body3")],bullets:[t("help.sections.legal.items.tos"),t("help.sections.legal.items.privacy"),t("help.sections.legal.items.imprint")]}];return s.jsx(Vt,{title:t("help.title"),subtitle:t("help.subtitle"),centerFramed:!0,padded:!0,children:s.jsxs("div",{className:Rr.root,children:[s.jsxs("section",{className:Rr.hero,children:[s.jsxs("div",{children:[s.jsx("p",{className:Rr.eyebrow,children:t("help.hero.eyebrow")}),s.jsx("h1",{className:Rr.heading,children:t("help.hero.heading")}),s.jsx("p",{className:Rr.lead,children:t("help.hero.lead")})]}),s.jsxs("div",{className:Rr.freshnessHint,children:[s.jsx("div",{className:Rr.hintLabel,children:t("help.hero.freshnessLabel")}),s.jsx("p",{className:Rr.hintText,children:t("help.hero.freshnessBody")})]})]}),s.jsx("div",{className:Rr.grid,children:n.map(r=>{var a;const i=r.key==="login"?"linking":void 0;return s.jsxs("section",{id:i,className:Rr.card,children:[s.jsx("h2",{className:Rr.cardTitle,children:r.title}),(a=r.paragraphs)==null?void 0:a.map((l,c)=>s.jsx("p",{className:Rr.paragraph,children:l},`${r.key}-p-${c}`)),r.bullets&&s.jsx("ul",{className:Rr.list,children:r.bullets.map(l=>s.jsx("li",{className:Rr.listItem,children:l},`${r.key}-${l}`))})]},r.key)})})]})})},iI=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(iI.map(t=>[t.id,t]));const aI="TL_FILTERS_V2",Fr={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function rQ(){var t;try{const e=localStorage.getItem(aI);if(!e)return Fr;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,60,90].includes(n.days)?n.days:Fr.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:Fr.listView,a=["hud","sheet"].includes(n.filterMode)?n.filterMode:Fr.filterMode,l=typeof n.quickFav=="boolean"?n.quickFav:!!n.favoritesOnly,c=typeof n.quickActive=="boolean"?n.quickActive:!!n.activeOnly;return{...Fr,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:typeof n.favoritesOnly=="boolean"?n.favoritesOnly:l,activeOnly:typeof n.activeOnly=="boolean"?n.activeOnly:c,quickFav:l,quickActive:c,days:r,listView:i,filterMode:a,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Fr.sortBy,searchText:typeof n.searchText=="string"?n.searchText:Fr.searchText}}catch(e){return Fr}}function iQ(t){try{localStorage.setItem(aI,JSON.stringify(t))}catch(e){}}const oI=T.createContext(null),lk=t=>Array.from(new Set(t));function rf(t,e){return typeof t=="function"?t(e):t}function aQ({children:t}){const[e,n]=T.useState(()=>rQ());T.useEffect(()=>{iQ(e)},[e]);const r=N=>n(E=>({...E,servers:lk(rf(N,E.servers))})),i=N=>n(E=>{const F=new Set(E.servers);return F.has(N)?F.delete(N):F.add(N),{...E,servers:Array.from(F)}}),a=()=>n(N=>({...N,servers:[]})),l=N=>n(E=>({...E,classes:lk(rf(N,E.classes))})),c=N=>n(E=>{const F=new Set(E.classes);return F.has(N)?F.delete(N):F.add(N),{...E,classes:Array.from(F)}}),u=()=>n(N=>({...N,classes:[]})),h=N=>n(E=>({...E,days:N})),m=N=>h(N),f=N=>n(E=>({...E,sortBy:N||"level"})),y=N=>n(E=>({...E,favoritesOnly:!!N,quickFav:!!N})),b=N=>n(E=>({...E,activeOnly:!!N,quickActive:!!N})),_=N=>n(E=>({...E,searchText:N})),S=N=>n(E=>{const F=rf(N,E.quickFav);return{...E,quickFav:F,favoritesOnly:F}}),k=N=>n(E=>{const F=rf(N,E.quickActive);return{...E,quickActive:F,activeOnly:F}}),P=N=>n(E=>({...E,filterMode:N})),D=N=>n(E=>({...E,listView:N})),A=N=>n(E=>({...E,bottomFilterOpen:!!N})),v=N=>n(E=>({...E,serverSheetOpen:!!N})),w=()=>n(Fr),L=()=>w(),C=T.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:a,setClasses:l,toggleClass:c,clearClasses:u,setDays:h,setRange:m,setSortBy:f,setFavoritesOnly:y,setActiveOnly:b,setSearchText:_,setQuickFav:S,setQuickActive:k,setFilterMode:P,setListView:D,setBottomFilterOpen:A,setServerSheetOpen:v,resetFilters:w,resetAll:L}),[e]);return s.jsx(oI.Provider,{value:C,children:t})}function Sm(){const t=T.useContext(oI);return t||{...Fr,range:Fr.days,searchText:Fr.searchText,quickFav:Fr.quickFav,quickActive:Fr.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const oQ="_hudWrap_107o7_9",lQ="_hudBtn_107o7_11",cQ="_hudSubBtn_107o7_15",dQ="_iconRow_107o7_19",uQ="_segmented_107o7_21",hQ="_sortLabel_107o7_27",mQ="_sortSelect_107o7_29",pQ="_chip_107o7_31",fQ="_isActive_107o7_33",Pr={hudWrap:oQ,hudBtn:lQ,hudSubBtn:cQ,iconRow:dQ,segmented:uQ,sortLabel:hQ,sortSelect:mQ,chip:pQ,isActive:fQ};function gQ({active:t=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:a}){const l=Math.round(i*.7),c=X.useMemo(()=>{const P=[],D=aA(n,l*2,l*2,"contain");D&&P.push(D);const A=Ur(n,l*2);return A&&A!==D&&P.push(A),!P.length&&n&&P.push(n),P},[n,l]),[u,h]=X.useState(0),[m,f]=X.useState(!1),[y,b]=X.useState(!1);X.useEffect(()=>h(0),[c]);const _=c[u]||"",S={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:y||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};m&&(S.background="rgba(255,255,255,.04)"),t&&(S.outline="2px solid #5C8BC6");const k={display:"block",width:l,height:l,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:a,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onFocus:()=>b(!0),onBlur:()=>b(!1),style:S,children:_?s.jsx("img",{src:_,alt:e||"class",width:l,height:l,loading:"lazy",style:k,onError:()=>{h(P=>P+1<c.length?P+1:P)}}):s.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const xQ=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function vQ(){const{servers:t,classes:e,setClasses:n,range:r,setRange:i,sortBy:a,setSortBy:l,quickFav:c,setQuickFav:u,quickActive:h,setQuickActive:m,filterMode:f,setBottomFilterOpen:y,serverSheetOpen:b,setServerSheetOpen:_,resetAll:S}=Sm();return s.jsxs("div",{className:Pr.hudWrap,children:[s.jsxs("button",{type:"button",className:Pr.hudBtn,onClick:k=>{k.preventDefault(),k.stopPropagation(),_(!0)},"aria-haspopup":"dialog","aria-expanded":b||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),s.jsxs("div",{className:Pr.iconRow,children:[Rn.map(k=>s.jsx(gQ,{active:e.includes(k.key),title:k.label,iconUrl:k.iconUrl,fallback:k.fallback,size:40,onClick:()=>n(P=>P.includes(k.key)?P.filter(D=>D!==k.key):[...P,k.key])},k.key)),s.jsx("button",{type:"button",className:Pr.hudSubBtn,onClick:()=>n(Rn.map(k=>k.key)),children:"All"}),s.jsx("button",{type:"button",className:Pr.hudSubBtn,onClick:()=>n([]),children:"None"})]}),s.jsx("div",{className:Pr.segmented,role:"group","aria-label":"Range",children:xQ.map(k=>s.jsx("button",{type:"button","aria-pressed":r===k.value,onClick:()=>i(k.value),children:k.label},k.label))}),s.jsx("label",{className:Pr.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:a,onChange:k=>l(k.target.value),className:Pr.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"lastScan",children:"Last scan"})]}),s.jsx("button",{type:"button",className:`${Pr.chip} ${c?Pr.isActive:""}`,onClick:()=>u(k=>!k),children:" Favorites"}),s.jsx("button",{type:"button",className:`${Pr.chip} ${h?Pr.isActive:""}`,onClick:()=>m(k=>!k),children:" Active"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:Pr.hudSubBtn,onClick:S,children:"Reset"}),f==="sheet"&&s.jsx("button",{type:"button",className:Pr.hudBtn,onClick:k=>{k.preventDefault(),k.stopPropagation(),y(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const yQ=["EU","US","INT","Fusion"],Kn={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function bQ({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:a,onSelectAllInRegion:l,onClearAll:c}){const[u,h]=T.useState(""),m=T.useRef(null);T.useEffect(()=>{if(!t)return;const b=_=>{_.key==="Escape"&&e()};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[t,e]),T.useEffect(()=>{if(t&&m.current){const b=m.current.querySelector("#sheet-serversearch");b==null||b.focus()}},[t]);const f=yQ,y=b=>{const _=u.trim().toLowerCase();return _?b.toLowerCase().includes(_):!0};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:_Q,onClick:b=>{b.target===b.currentTarget&&e()},children:s.jsxs("div",{ref:m,style:n==="modal"?lI:wQ,className:"sf-server-sheet",children:[s.jsxs("div",{style:jQ,children:[s.jsx("h2",{id:"server-dialog-title",style:SQ,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:c,style:ck,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:IQ,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers...",value:u,onChange:b=>h(b.target.value),"aria-label":"Search servers",autoComplete:"off",style:kQ})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:f.map(b=>{const _=(r[b]||[]).filter(y);return s.jsxs("section",{"aria-labelledby":`region-${b}`,children:[s.jsxs("div",{style:CQ,children:[s.jsx("h3",{id:`region-${b}`,style:NQ,children:b}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:ck,onClick:()=>{l?l(b):_.filter(k=>!i.includes(k)).forEach(a)},children:"Select all"})})]}),s.jsxs("div",{style:TQ,children:[_.map(S=>{const k=i.includes(S);return s.jsx("button",{type:"button",onClick:()=>a(S),"aria-pressed":k,title:S,style:{...AQ,...k?EQ:null},children:S},S)}),_.length===0&&s.jsx("div",{style:{color:Kn.text2,fontSize:13,padding:"4px 2px"},children:"No servers found"})]})]},b)})})]})}):null}const _Q={position:"fixed",inset:0,background:Kn.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},lI={width:"min(900px, 100%)",background:Kn.tile,border:`1px solid ${Kn.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:Kn.text},wQ={...lI,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},jQ={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},SQ={fontSize:18,margin:0},NQ={fontSize:14,margin:0,color:Kn.text2},kQ={width:"100%",background:Kn.input,color:Kn.text,border:`1px solid ${Kn.line}`,borderRadius:12,padding:"10px 12px"},CQ={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},TQ={display:"flex",flexWrap:"wrap",gap:8},AQ={background:Kn.chip,border:`1px solid ${Kn.line}`,padding:"6px 10px",borderRadius:999,color:Kn.text},EQ={outline:`2px solid ${Kn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},IQ={background:"#25456B",color:Kn.text,border:`1px solid ${Kn.accent}`,borderRadius:10,padding:"8px 12px"},ck={background:"transparent",color:Kn.text,border:`1px solid ${Kn.line}`,borderRadius:10,padding:"8px 12px"},RQ=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=RQ,document.head.appendChild(e)}}const Wn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function PQ({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:a,sortBy:l,setSortBy:c,quickFav:u,setQuickFav:h,quickActive:m,setQuickActive:f}=Sm(),y=T.useRef(null);if(T.useEffect(()=>{if(!t)return;const _=S=>{S.key==="Escape"&&e()};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[t,e]),T.useEffect(()=>{if(t&&y.current){const _=y.current.querySelector("#sheet-search");_==null||_.focus()}},[t]),!t)return null;const b=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:LQ,onClick:_=>{_.target===_.currentTarget&&e()},children:s.jsxs("div",{ref:y,style:DQ,children:[s.jsxs("div",{style:MQ,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Wn.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:BQ,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:_=>r(_.target.value),"aria-label":"Search",autoComplete:"off",style:cI})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:Wn.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:b.map(_=>s.jsx("button",{type:"button","aria-pressed":i===_.value,onClick:()=>a(_.value),style:{...Fy,...i===_.value?By:null},children:_.label},_.label))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Wn.text2,fontSize:12},children:"Sort"}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:l,onChange:_=>c(_.target.value),"aria-label":"Sort",autoComplete:"off",style:FQ,children:[s.jsx("option",{value:"sum",children:"Base Sum"}),s.jsx("option",{value:"main",children:"Main Base Stat"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"delta",children:" Rank"}),s.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>h(_=>!_),"aria-pressed":u,style:{...Fy,...u?By:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>f(_=>!_),"aria-pressed":m,style:{...Fy,...m?By:null},children:" Active"})]})]})})}const LQ={position:"fixed",inset:0,background:Wn.backdrop,zIndex:60,display:"grid",alignItems:"end"},DQ={background:Wn.tile,borderTop:`1px solid ${Wn.line}`,borderLeft:`1px solid ${Wn.line}`,borderRight:`1px solid ${Wn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Wn.text,maxHeight:"80vh",overflow:"auto"},MQ={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},cI={width:"100%",background:Wn.input,color:Wn.text,border:`1px solid ${Wn.line}`,borderRadius:12,padding:"10px 12px"},FQ={...cI,appearance:"none"},Fy={background:"#14273E",border:`1px solid ${Wn.line}`,padding:"6px 10px",borderRadius:999,color:Wn.text},By={outline:`2px solid ${Wn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},BQ={background:"#25456B",color:Wn.text,border:`1px solid ${Wn.accent}`,borderRadius:10,padding:"8px 12px"},$Q=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=$Q,document.head.appendChild(e)}}function OQ(){var i;const t=Sm(),e=(i=t==null?void 0:t.listView)!=null?i:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(a=>{var l,c,u,h,m,f,y;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(l=a.name)!=null?l:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(c=a.server)!=null?c:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(u=a.class)!=null?u:""}),"  Lv ",(h=a.level)!=null?h:"","  Scrap ",(m=a.scrapbook)!=null?m:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx($y,{children:a.active?"Active":"Idle"}),a.favorite&&s.jsx($y,{children:" Fav"}),s.jsx($y,{children:`Scan ${(f=a.lastScanDays)!=null?f:"?"}d`})]})]},(y=a.id)!=null?y:`${a.name}-${a.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(a=>{var l,c,u,h;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[a.favorite&&" ",(l=a.name)!=null?l:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(c=a.server)!=null?c:"","  Lv ",(u=a.level)!=null?u:"",")"]})]},(h=a.id)!=null?h:`${a.name}-${a.server}`)})})]})}function $y({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const I_="stats_public",VQ="toplists_players_v1";async function UQ(){try{const t=await rn(Xt(ft,I_,"toplists_bundle_v1"));if(!t.exists())return{ok:!1,error:"not_found"};const n=(t.data()||{}).servers;let r=null;if(Array.isArray(n))r=n;else if(typeof n=="string")try{const a=JSON.parse(n);Array.isArray(a)?r=a:console.warn("[toplistsFirestore] Server bundle string is not an array after parse")}catch(a){console.warn("[toplistsFirestore] Failed to parse server bundle string",a)}if(!Array.isArray(r))return console.warn("[toplistsFirestore] Server bundle missing/invalid, falling back to static config"),{ok:!1,error:"decode_failed",detail:"servers missing or invalid"};const i=[];for(const a of r){if(typeof a!="string"){console.warn("[toplistsFirestore] Skipping non-string server entry",{entry:a});continue}const l=a.trim();l&&i.push(l)}return{ok:!0,servers:i}}catch(t){return console.error("[toplistsFirestore] Firestore error while loading toplist servers",t),{ok:!1,error:"firestore_error",detail:t==null?void 0:t.message}}}function v1(t){const e=a=>(a!=null?a:"").toString().trim().toLowerCase(),n=e(t.group)||"all",r=e(t.timeRange)||"all",i=e(t.sort)||"sum";return`${n}__${r}__${i}`}function zQ(t,e){const n=t.toUpperCase(),r=e.toUpperCase();return r==="ALL"?`${n}_all_sum`:`${n}_${r}_sum`}async function HQ(){try{const t=await rn(Xt(ft,I_,"toplists_meta_v1"));if(!t.exists())return null;const e=t.data();return!e||typeof e!="object"?null:e}catch(t){return console.error("[toplistsFirestore] meta decode failed",t),null}}const ei=t=>{if(typeof t=="number")return Number.isFinite(t)?t:null;if(typeof t=="string"){const e=Number(t);return Number.isFinite(e)?e:null}if(t instanceof Date)return Number.isFinite(t.getTime())?t.getTime():null;if(t&&typeof t.toMillis=="function"){const e=t.toMillis();return Number.isFinite(e)?e:null}return null},Hi=t=>typeof t=="string"?t:null,GQ=t=>{if(!t||typeof t!="object")return null;const e=Hi(t.server),n=Hi(t.name),r=Hi(t.class);return!e||!n||!r?null:{flag:Hi(t.flag),deltaRank:ei(t.deltaRank),server:e,name:n,class:r,level:ei(t.level),guild:Hi(t.guild),main:ei(t.main),con:ei(t.con),sum:ei(t.sum),ratio:ei(t.ratio),mine:ei(t.mine),treasury:ei(t.treasury),lastScan:Hi(t.lastScan),deltaSum:ei(t.deltaSum)}};async function dk(t){try{const e=await rn(Xt(ft,I_,VQ,"lists",t));if(!e.exists())return{ok:!1,error:"not_found"};const n=e.data()||{},r=Hi(n.entity)||"players",i=Hi(n.group),a=Hi(n.server),l=Hi(n.metric),c=Hi(n.timeRange),u=ei(n.limit),h=Array.isArray(n.rows)?n.rows:null;if(r!=="players"||!i||!a||!l||!c||u==null||!h)return console.error("[toplistsFirestore] Decode failed",{entity:r,group:i,server:a,metric:l,timeRange:c,limit:u,hasRowsArray:Array.isArray(n.rows)}),{ok:!1,error:"decode_error",detail:"missing required toplist fields"};const m=[];for(const y of h){const b=GQ(y);if(!b)return console.error("[toplistsFirestore] Row decode failed",y),{ok:!1,error:"decode_error",detail:"invalid row shape"};m.push(b)}return{ok:!0,list:{id:t,entity:"players",group:i,server:a,metric:l,timeRange:c,limit:u,updatedAt:ei(n.updatedAt),nextUpdateAt:n.nextUpdateAt!==void 0?ei(n.nextUpdateAt):void 0,ttlSec:n.ttlSec!==void 0?ei(n.ttlSec):void 0,rows:m}}}catch(e){return console.error("[toplistsFirestore] Firestore error",e),{ok:!1,error:"firestore_error",detail:e==null?void 0:e.message}}}async function WQ(t){const e=v1(t),n=await dk(e);if(n.ok&&n.list.rows&&n.list.rows.length>0||(t.group||"").toLowerCase()==="all")return n;const i={...t,group:"all"},a=v1(i),l=await dk(a);return l.ok?{ok:!0,list:{...l.list,group:t.group}}:n}const qQ={EU:[],US:[],INT:[],Fusion:[]},KQ=["EU","US","INT","Fusion"],QQ=t=>{const e=t.toUpperCase();return e.startsWith("EU")?"EU":e.startsWith("AM")||e.startsWith("US")||e.startsWith("NA")?"US":e.startsWith("F")?"Fusion":"INT"};function dI(t){const e={EU:new Set,US:new Set,INT:new Set,Fusion:new Set};t.forEach(r=>{if(typeof r!="string")return;const i=QQ(r);e[i].add(r)});const n={...qQ};return KQ.forEach(r=>{n[r]=Array.from(e[r]).sort((i,a)=>i.localeCompare(a,void 0,{numeric:!0,sensitivity:"base"}))}),n}const XQ="EU",Oy=dI(iI.map(t=>t.id).filter(t=>typeof t=="string"&&!!t)),uI=T.createContext(null),uk=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function YQ(t,e){return t.group===e.group&&t.timeRange===e.timeRange&&uk(t.servers,e.servers)&&uk(t.classes,e.classes)}function JQ(t,e){return t.key===e.key&&t.dir===e.dir}function ZQ({children:t}){const[e,n]=T.useState({group:XQ,servers:[],classes:[],timeRange:"all"}),[r,i]=T.useState({key:"level",dir:"desc"}),[a,l]=T.useState({rows:[],loading:!1,error:null,lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:null}),c=T.useRef(new Map),[u,h]=T.useState(null),[m,f]=T.useState(null),[y,b]=T.useState(Oy),_=T.useCallback(P=>{n(D=>{const A=typeof P=="function"?P(D):{...D,...P};return YQ(D,A)?D:A})},[]),S=T.useCallback(P=>{i(D=>{const A=typeof P=="function"?P(D):P;return JQ(D,A)?D:A})},[]);T.useEffect(()=>{let P=!1;return(async()=>{const D=await UQ();if(!P){if(D.ok){const A=dI(D.servers);if(Object.values(A).some(w=>w.length>0)){b(A);return}}b(Oy)}})().catch(D=>{P||(console.error("[ToplistsProvider] unexpected error while loading server list",D),b(Oy))}),()=>{P=!0}},[]),T.useEffect(()=>{let P=!1;return(async()=>{const D=await HQ();P||h(D)})().catch(D=>{P||console.error("[ToplistsProvider] unexpected meta error",D)}),()=>{P=!0}},[]),T.useEffect(()=>{var C,N,E;let P=!1;const D="sum",A=v1({group:e.group,timeRange:e.timeRange,sort:D}),v=c.current.get(A),w=(v==null?void 0:v.list.ttlSec)!=null?v.list.ttlSec*1e3:null,L=v?w==null||Date.now()-v.cachedAt<w:!1;return v&&L?(l({rows:v.list.rows,loading:!1,error:null,lastUpdatedAt:(C=v.list.updatedAt)!=null?C:null,nextUpdateAt:(N=v.list.nextUpdateAt)!=null?N:null,ttlSec:(E=v.list.ttlSec)!=null?E:null,listId:A}),()=>{P=!0}):(l(F=>({...F,listId:A,loading:!0,error:null})),(async()=>{var $,U,H;const F=await WQ({group:e.group,timeRange:e.timeRange,sort:D});if(P)return;if(F.ok){c.current.set(A,{list:F.list,cachedAt:Date.now()}),l({rows:F.list.rows,loading:!1,error:null,lastUpdatedAt:($=F.list.updatedAt)!=null?$:null,nextUpdateAt:(U=F.list.nextUpdateAt)!=null?U:null,ttlSec:(H=F.list.ttlSec)!=null?H:null,listId:A});return}const I=F.detail?` (${F.detail})`:"";let B="Firestore Fehler";F.error==="not_found"?B="Topliste nicht verfuegbar":F.error==="decode_error"&&(B="Fehler beim Lesen der Daten"),l({rows:[],loading:!1,error:`${B}${I}`,lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:A})})().catch(F=>{P||(console.error("[ToplistsProvider] unexpected error",F),l({rows:[],loading:!1,error:"Unerwarteter Fehler beim Laden",lastUpdatedAt:null,nextUpdateAt:null,ttlSec:null,listId:A}))}),()=>{P=!0})},[e.group,e.timeRange]),T.useEffect(()=>{var H,W;if(!u){f(null);return}const P=e.servers&&e.servers.length===1?e.servers[0]:"all",D=zQ(e.group||"ALL",P||"all"),A=(H=u.thresholds)==null?void 0:H.players,v=typeof(A==null?void 0:A.minChanges)=="number"?A.minChanges:100,w=typeof(A==null?void 0:A.maxAgeDays)=="number"?A.maxAgeDays:7,L=(W=u.scopeChange)==null?void 0:W[D],C=typeof(L==null?void 0:L.lastRebuildAtMs)=="number"?L.lastRebuildAtMs:null,N=typeof(L==null?void 0:L.lastChangeAtMs)=="number"?L.lastChangeAtMs:null,E=typeof(L==null?void 0:L.changedSinceLastRebuild)=="number"?L.changedSinceLastRebuild:0,F=C?new Date(C):null,I=N?new Date(N):null,B=C!=null?(Date.now()-C)/(1e3*60*60*24):1/0,$=v>0?Math.min(1,Math.max(0,E/v)):0,U=!!F&&(w==null||B<=w)&&(v==null||E<v);f({scopeId:D,lastRebuildAt:F,lastChangeAt:I,changesSinceLastRebuild:E,minChanges:v!=null?v:null,maxAgeDays:w!=null?w:null,progress:$,isFresh:U})},[u,e.group,e.servers]);const k=T.useMemo(()=>({player:a,playerRows:a.rows,playerLoading:a.loading,playerError:a.error,playerLastUpdatedAt:a.lastUpdatedAt,playerNextUpdateAt:a.nextUpdateAt,playerScopeStatus:m,serverGroups:y,filters:e,sort:r,setFilters:_,setSort:S}),[a,e,r,y,_,S,m]);return s.jsx(uI.Provider,{value:k,children:t})}function hI(){const t=T.useContext(uI);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function eX(t){switch(t){case"level":return{key:"level",dir:"desc"};case"main":return{key:"main",dir:"desc"};case"constitution":return{key:"con",dir:"desc"};case"sum":return{key:"sum",dir:"desc"};case"lastActivity":case"lastScan":return{key:"lastScan",dir:"desc"};case"name":return{key:"name",dir:"asc"};default:return{key:"level",dir:"desc"}}}function tX(t){const e=(t[0]||"").toUpperCase();return e.startsWith("EU")?"EU":e.startsWith("US")||e.startsWith("NA")||e.startsWith("AM")?"US":e.startsWith("F")?"FUSION":e?"INT":"EU"}function sX(){return s.jsx(ZQ,{children:s.jsx(nX,{})})}function nX(){const t=Sm(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:a,setBottomFilterOpen:l,serverSheetOpen:c,setServerSheetOpen:u,servers:h,setServers:m,classes:f,range:y,sortBy:b}=t,{serverGroups:_}=hI();return s.jsxs(s.Fragment,{children:[s.jsxs(Vt,{mode:"card",title:"Top Lists",actions:s.jsx(iX,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(vQ,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(OQ,{}),r==="table"&&s.jsx(rX,{servers:h!=null?h:[],classes:f!=null?f:[],range:y!=null?y:"all",sortKey:b!=null?b:"level"})]}),s.jsx(bQ,{mode:"modal",open:c,onClose:()=>u(!1),serversByRegion:_,selected:h,onToggle:S=>m(k=>k.includes(S)?k.filter(P=>P!==S):[...k,S]),onSelectAllInRegion:S=>{var k;return m((k=_[S])!=null?k:[])},onClearAll:()=>m([])}),s.jsx(PQ,{open:e==="sheet"&&a,onClose:()=>l(!1)})]})}function rX({servers:t,classes:e,range:n,sortKey:r}){var k,P,D;const{playerRows:i,playerLoading:a,playerError:l,playerLastUpdatedAt:c,playerScopeStatus:u,setFilters:h,setSort:m}=hI();T.useEffect(()=>{const A=n==="all"?"all":n===60?"30d":`${n}d`,v=tX(t);h({servers:t,classes:e,timeRange:A,group:v})},[t,e,n,h]),T.useEffect(()=>{const A=eX(r);m(A)},[r,m]);const f=A=>A==null?"":new Intl.NumberFormat("en").format(A),y=A=>{if(A==null)return"";const v=f(Math.abs(A));return v?A>0?`+${v}`:`-${v}`:String(A)},b=A=>{if(A==null)return null;const v=A<1e12?A*1e3:A;return new Date(v).toLocaleString()},_=A=>A?A.toLocaleString():"",S=i||[];return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[a?"Loading...":l?"Error":"Ready"," - ",S.length," rows"]}),s.jsx("div",{children:c?`Updated: ${b(c)}`:null})]}),u&&s.jsxs("div",{style:{opacity:.75,fontSize:12,display:"flex",flexWrap:"wrap",gap:8},children:[s.jsxs("span",{children:["Scope ",u.scopeId,"  ",u.changesSinceLastRebuild,"/",(k=u.minChanges)!=null?k:"?"," changes since last rebuild"]}),s.jsxs("span",{children:["Auto rebuild at ",(P=u.minChanges)!=null?P:"?"," changes or after ",(D=u.maxAgeDays)!=null?D:"?"," days"]}),s.jsxs("span",{children:["Last rebuild: ",_(u.lastRebuildAt)]})]}),l&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:l}),s.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Flag"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Delta Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),s.jsxs("tbody",{children:[S.map((A,v)=>{var w,L,C,N;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:v+1}),s.jsx("td",{style:{padding:"8px 6px"},children:(w=A.flag)!=null?w:""}),s.jsx("td",{style:{padding:"8px 6px"},children:y(A.deltaRank)}),s.jsx("td",{style:{padding:"8px 6px"},children:A.server}),s.jsx("td",{style:{padding:"8px 6px"},children:A.name}),s.jsx("td",{style:{padding:"8px 6px"},children:A.class}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:f(A.level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(L=A.guild)!=null?L:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:f(A.main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:f(A.con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:f(A.sum)}),s.jsx("td",{style:{padding:"8px 6px"},children:(C=A.ratio)!=null?C:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:f(A.mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:f(A.treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:(N=A.lastScan)!=null?N:""}),s.jsx("td",{style:{padding:"8px 6px"},children:y(A.deltaSum)})]},`${A.name}-${A.server}-${v}`)}),a&&S.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:16,style:{padding:12},children:"Loading..."})}),!a&&!l&&S.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:16,style:{padding:12},children:"No results"})})]})]})})]})}function iX(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:a}=Sm();return s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(hk,{to:"/toplists/players",label:"Players"}),s.jsx(hk,{to:"/toplists/guilds",label:"Guilds"})]}),s.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[s.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),s.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),s.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),s.jsx("button",{onClick:()=>a(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:"Servers"}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[s.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),s.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),s.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function hk({to:t,label:e}){return s.jsx(Ns,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const aX=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function oX(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),aX.map(t=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[s.jsxs("div",{children:["#",t.rank]}),s.jsxs("div",{children:[t.name,"  ",t.server]}),s.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),s.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function lX(t="players"){const e=ji(),{search:n,pathname:r}=Vr();return[new URLSearchParams(n).get("tab")||t,c=>{const u=new URLSearchParams(n);u.set("tab",c),e(`${r}?${u.toString()}`,{replace:!1})}]}function cX(){const[t]=lX("players");return s.jsx(aQ,{children:t==="players"?s.jsx(sX,{}):s.jsx(oX,{})})}function dX(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function uX(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function hX(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const mX="/assets/demo-avatar-special.png",mk={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!1,background:"gradient",frame:"",mirrorHorizontal:!0},pX={idle:"Portrait ldt ...",loading:"PortraitMaker wird initialisiert ...",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},Lr=(t,e)=>Math.min(Math.max(Math.round(t),0),e),fX=t=>{var n;const e={...mk,...t||{}};return{...e,class:Lr(e.class,15),race:Lr(e.race,8),mouth:Lr(e.mouth,30),hair:Lr(e.hair,40),hairColor:Lr(e.hairColor,12),horn:Lr(e.horn,10),hornColor:Lr(e.hornColor,10),brows:Lr(e.brows,10),eyes:Lr(e.eyes,20),beard:Lr(e.beard,15),nose:Lr(e.nose,10),ears:Lr(e.ears,10),extra:Lr(e.extra,20),special:Lr(e.special,200),showBorder:!1,background:"",frame:"",mirrorHorizontal:(n=e.mirrorHorizontal)!=null?n:mk.mirrorHorizontal,genderName:e.genderName==="female"?"female":"male"}};function mI({config:t,label:e,fallbackImage:n,fallbackLabel:r}){const i=T.useRef(null),a=T.useRef(null),[l,c]=T.useState("idle"),u=T.useMemo(()=>!t||Object.keys(t||{}).length===0?null:fX(t),[JSON.stringify(t||{})]);T.useEffect(()=>{let b=!1;if(!u){c("idle");return}c("loading");try{const _=i.current;if(!_){c("error");return}const S=new e3(_,u);a.current=S,c("ready")}catch(_){console.error("[PortraitMaker] failed to initialize",_),b||c("error")}return()=>{var _,S;b=!0;try{(S=(_=a.current)==null?void 0:_.dispose)==null||S.call(_)}catch(k){}a.current=null}},[u]);const h=u&&l!=="ready"?pX[l]:null,m=n||mX,f=r||e,y=!u||l==="error";return s.jsxs("div",{className:"avatar-portrait","aria-live":"polite",children:[s.jsxs("div",{className:"avatar-portrait__canvas-shell",children:[!y&&s.jsx("canvas",{ref:i,id:"PortraitCanvasPopOut",width:526,height:526,className:"avatar-portrait__canvas avatar-portrait__canvas--popout","aria-label":`Portrait von ${e}`}),y&&s.jsx("img",{src:m,alt:f,className:"avatar-portrait__fallback",draggable:!1,width:240,height:240})]}),h&&s.jsx("span",{className:"avatar-portrait__status",children:h})]})}const Vy=[{key:"str",label:"STR",name:"Strength"},{key:"dex",label:"DEX",name:"Dexterity"},{key:"int",label:"INT",name:"Intelligence"},{key:"con",label:"CON",name:"Constitution"},{key:"lck",label:"LCK",name:"Luck"}],gX=8,Uy=t=>typeof t=="number"&&Number.isFinite(t)?t.toLocaleString("de-DE"):"-",zy=(t,e)=>e<=0?0:Math.min(100,Math.max(0,t/e*100)),pk=t=>typeof t=="number"&&Number.isFinite(t);function xX({baseStats:t,totalStats:e,benchmarks:n,mode:r,onModeChange:i}){const[a,l]=T.useState("base"),[c,u]=T.useState(!1),[h,m]=T.useState(!1);T.useEffect(()=>{let v=null,w=null;return v=requestAnimationFrame(()=>{w=requestAnimationFrame(()=>u(!0))}),()=>{v!=null&&cancelAnimationFrame(v),w!=null&&cancelAnimationFrame(w)}},[]),T.useEffect(()=>{c&&!h&&m(!0)},[c,h]);const f=Vy.some(v=>pk(e==null?void 0:e[v.key])),b=(r!=null?r:a)==="total"&&f?"total":"base",_=v=>{v==="total"&&!f||(i?i(v):l(v))},S=Vy.map(v=>{const w=b==="total"?e:t,L=w==null?void 0:w[v.key];return pk(L)?L:0}),k=Math.max(...S,0),P=k>0?k*1.05:1,D=b==="base",A=b==="base"?"Base Stats":"Total Stats";return s.jsxs("div",{className:"player-profile__attribute-bars",children:[s.jsxs("div",{className:"player-profile__attribute-bars-head",children:[s.jsx("div",{className:"player-profile__card-label",children:A}),s.jsxs("div",{className:"player-profile__attribute-toggle",role:"group","aria-label":"Attribute Ansicht",children:[s.jsx("button",{type:"button",className:`player-profile__attribute-toggle-btn${b==="base"?" player-profile__attribute-toggle-btn--active":""}`,"aria-pressed":b==="base",onClick:()=>_("base"),children:"Base"}),s.jsx("button",{type:"button",className:`player-profile__attribute-toggle-btn${b==="total"?" player-profile__attribute-toggle-btn--active":""}`,"aria-pressed":b==="total",onClick:()=>_("total"),disabled:!f,children:"Total"})]})]}),s.jsx("div",{className:"player-profile__attribute-bars-list",children:Vy.map(v=>{var ne,z,Y;const w=b==="total"?e:t,L=Number(w==null?void 0:w[v.key])||0,C=D?(ne=n==null?void 0:n.serverAvg)==null?void 0:ne[v.key]:void 0,N=D?(z=n==null?void 0:n.guildAvg)==null?void 0:z[v.key]:void 0,E=D?(Y=n==null?void 0:n.scaleMax)==null?void 0:Y[v.key]:void 0,F=Number(C)||0,I=Number(N)||0,B=typeof E=="number"&&Number.isFinite(E),$=Math.max(B?Number(E):P,L,F,I,1),U=zy(L,$),H=zy(F,$),W=zy(I,$),K=Math.min(1,Math.max(0,U/100)),q=c?K:0,se=h?void 0:"500ms";return s.jsxs("div",{className:"player-profile__attribute-bar-row",children:[s.jsxs("div",{className:"player-profile__attribute-bar-label","aria-hidden":!0,children:[s.jsx("span",{className:"player-profile__attribute-bar-icon",children:v.label}),s.jsx("span",{className:"player-profile__attribute-bar-name",children:v.name})]}),s.jsxs("div",{className:"player-profile__attribute-bar-track",role:"presentation",children:[s.jsx("div",{className:"player-profile__attribute-bar-fill",style:{transform:`scaleX(${q})`,minWidth:L>0&&U<100?gX:void 0,transitionDuration:se},"aria-hidden":!0}),Number.isFinite(C)&&s.jsx("span",{className:"player-profile__attribute-bar-marker player-profile__attribute-bar-marker--server",style:{left:`${H}%`},"aria-hidden":!0}),Number.isFinite(N)&&s.jsx("span",{className:"player-profile__attribute-bar-marker player-profile__attribute-bar-marker--guild",style:{left:`${W}%`},"aria-hidden":!0})]}),s.jsxs("div",{className:"player-profile__attribute-bar-values",children:[s.jsx("div",{className:"player-profile__attribute-bar-value",children:Uy(L)}),Number.isFinite(C)&&s.jsxs("div",{className:"player-profile__attribute-bar-subvalue",children:["Server ",Uy(C)]}),Number.isFinite(N)&&s.jsxs("div",{className:"player-profile__attribute-bar-subvalue",children:["Gilde ",Uy(N)]})]})]},v.key)})})]})}const vX=t=>{if(t==null||!Number.isFinite(t))return{level:"unknown",label:"Unknown",hint:"Scan history unavailable"};const e=Math.max(0,Math.floor(t));return e===0?{level:0,label:"Scanned today",hint:"No rescan needed"}:e===1?{level:1,label:"Very fresh",hint:"No rescan needed"}:e<=3?{level:2,label:"Fresh",hint:"No rescan needed"}:e<=7?{level:3,label:"Recent",hint:"Rescan recommended"}:e<=14?{level:4,label:"Aging",hint:"Rescan recommended"}:e<=30?{level:5,label:"Outdated",hint:"Rescan strongly recommended"}:{level:6,label:"Stale",hint:"Rescan strongly recommended"}},yX=t=>{if(t==null||!Number.isFinite(t))return null;const e=Math.max(0,Math.floor(t));return e===0?"today":e===1?"1 day ago":`${e} days ago`};function bX({label:t,size:e=40}){const n=(t||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return s.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:n||"?"})}function _X({className:t,label:e,size:n=40}){const r=c=>c.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||""),a=Rn.find(c=>r(c.label)===i)||Rn.find(c=>r(c.label).startsWith(i)||i.startsWith(r(c.label))),l=a?Ur(a.iconUrl,n*2):null;return l?s.jsx("div",{className:"player-profile__class-avatar",style:{width:n,height:n},children:s.jsx("img",{src:l,alt:"",draggable:!1})}):s.jsx(bX,{label:e,size:n})}function wX({data:t,loading:e,onAction:n}){const[r,i]=T.useState("base"),a=_=>_.toLowerCase().replace(/[^a-z0-9]+/g,""),l=T.useMemo(()=>vX(t.lastScanDays),[t.lastScanDays]),c=T.useMemo(()=>{const _=[];t.lastScanAtLabel&&_.push(`Last scan: ${t.lastScanAtLabel}`);const S=yX(t.lastScanDays);return S&&_.push(`Age: ${S}`),l.hint&&_.push(l.hint),_.join(" | ")},[t.lastScanAtLabel,t.lastScanDays,l.hint]),u=Rn.find(_=>a(_.label)===a(t.className||""))||Rn.find(_=>a(_.label).startsWith(a(t.className||""))||a(t.className||"").startsWith(a(_.label))),h=t.portraitFallbackUrl||(u?Ur(u.iconUrl,420):void 0)||"/assets/demo-avatar-special.png",m=t.portraitFallbackLabel||t.className||t.playerName,f=t.hasPortrait===!1?void 0:t.portrait,y=_=>typeof _=="number"&&Number.isFinite(_)?_.toLocaleString("de-DE"):"-",b=T.useMemo(()=>t.metrics.map(_=>{if(_.label==="Total Base Stats"&&r==="total"){const S=t.totalStats;if(S){const k=(Number(S.str)||0)+(Number(S.dex)||0)+(Number(S.int)||0)+(Number(S.con)||0)+(Number(S.lck)||0);return{..._,label:"Total Stats",value:y(k)}}}return _}),[t.metrics,t.totalStats,r]);return s.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[s.jsxs("div",{className:"player-profile__hero-portrait",children:[s.jsxs("div",{className:"player-profile__identity player-profile__identity--overlay",children:[s.jsx(_X,{className:t.className,label:t.playerName,size:48}),s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__player-name",children:t.playerName}),s.jsxs("div",{className:"player-profile__player-meta",children:[s.jsx("span",{children:t.className||"Klasse ?"}),t.guild&&s.jsxs("span",{children:[" ",t.guild]}),t.server&&s.jsxs("span",{children:[" ",t.server]})]}),t.lastScanLabel&&s.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",t.lastScanLabel]}),s.jsxs("div",{className:"player-profile__freshness",title:c||void 0,children:[s.jsx("span",{"aria-hidden":!0,className:`player-profile__freshness-dot player-profile__freshness-dot--${l.level}`}),s.jsx("span",{className:"player-profile__freshness-label",children:l.label}),s.jsx("span",{"aria-hidden":!0,className:"player-profile__freshness-info",children:""})]})]})]}),s.jsx(mI,{config:f,label:t.playerName,fallbackImage:h,fallbackLabel:m})]}),s.jsxs("div",{className:"player-profile__hero-body",children:[s.jsx("div",{className:"player-profile__hero-metrics",children:b.map(_=>s.jsxs("div",{className:"player-profile__hero-metric",children:[s.jsx("div",{className:"player-profile__hero-metric-label",children:_.label}),s.jsx("div",{className:"player-profile__hero-metric-value",children:_.value}),_.hint&&s.jsx("div",{className:"player-profile__hero-metric-hint",children:_.hint})]},_.label))}),t.baseStats&&s.jsx(xX,{baseStats:t.baseStats,totalStats:t.totalStats,benchmarks:t.baseStatBenchmarks,mode:r,onModeChange:i}),t.badges.length>0&&s.jsx("div",{className:"player-profile__hero-badges",children:t.badges.map(_=>s.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${_.tone||"neutral"}`,title:_.hint,children:[_.icon&&s.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:_.icon}),s.jsx("span",{children:_.label}),s.jsx("strong",{children:_.value})]},_.label))}),t.actions.length>0&&s.jsx("div",{className:"player-profile__hero-actions",children:t.actions.map(_=>s.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||_.disabled,title:_.title,onClick:()=>n==null?void 0:n(_.key),children:_.label},_.key))})]})]})}const jX=X.memo(wX),Hy=600,Of=240,SX=[80,160,240,320,400,480,560],NX=[40,80,120,160,200],ld=40,kX=560,Gy=40,fk=200,af=Of,CX=(t,e,n)=>Math.max(e,Math.min(n,t));function TX({points:t,avgValue:e=null,showAvg:n=!0,showFill:r=!0,showDots:i=!0,showXLabels:a=!0,className:l}){const c=T.useId(),u=kX-ld,h=fk-Gy,{linePath:m,areaPath:f,dots:y,avgY:b,labels:_}=T.useMemo(()=>{if(!t.length)return{linePath:"",areaPath:"",dots:[],avgY:null,labels:[]};let S=Math.min(...t),k=Math.max(...t);const D=Math.max(1,k-S)*.1;S-=D,k+=D;const A=Math.max(1,k-S),v=B=>t.length>1?ld+B/(t.length-1)*u:ld,w=B=>CX(Gy+(1-(B-S)/A)*h,Gy,fk);if(t.length===1){const B=ld,$=ld+u*.1,U=w(t[0]),H=`${[`M${B},${U}`,`L${$},${U}`,`L${$},${af}`,`L${B},${af}`,"Z"].join(" ")}`;return{linePath:`M${B},${U} L${$},${U}`,areaPath:H,dots:i?[{x:(B+$)/2,y:U}]:[],avgY:n&&e!=null?w(e):null,labels:[{x:ld,text:"t0"}]}}const L=t.map((B,$)=>({x:v($),y:w(B)})),C=L.map((B,$)=>`${$===0?"M":"L"}${B.x},${B.y}`).join(" "),N=`${C} L${L[L.length-1].x},${af} L${L[0].x},${af} Z`,E=i?L:[],F=n&&e!=null?w(e):null,I=t.map((B,$)=>({x:v($),text:`t${$}`}));return{linePath:C,areaPath:N,dots:E,avgY:F,labels:I}},[t,e,n,i,u,h]);return s.jsxs("svg",{viewBox:`0 0 ${Hy} ${Of}`,preserveAspectRatio:"none",className:`player-profile__trend-chart ${l!=null?l:""}`.trim(),role:"img","aria-label":"Anchored trend",children:[s.jsxs("g",{className:"player-profile__trend-grid",opacity:"0.55",stroke:"rgba(43,76,115,0.55)",strokeWidth:1,children:[SX.map((S,k)=>s.jsx("line",{x1:S,x2:S,y1:0,y2:Of},`gv-${k}`)),NX.map((S,k)=>s.jsx("line",{x1:0,x2:Hy,y1:S,y2:S},`gh-${k}`))]}),n&&b!=null&&s.jsxs("g",{className:"player-profile__trend-avg",children:[s.jsx("text",{x:12,y:20,className:"player-profile__trend-avg-label",children:"Avg"}),s.jsx("line",{x1:0,x2:Hy,y1:b,y2:b})]}),r&&f&&s.jsx("defs",{children:s.jsxs("linearGradient",{id:c,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[s.jsx("stop",{offset:"0%",stopColor:"rgba(92, 139, 198, 0.28)"}),s.jsx("stop",{offset:"100%",stopColor:"rgba(92, 139, 198, 0)"})]})}),r&&f&&s.jsx("path",{d:f,className:"player-profile__trend-area",fill:`url(#${c})`}),m&&s.jsx("path",{d:m,className:"player-profile__trend-line",fill:"none"}),y.map((S,k)=>s.jsx("circle",{cx:S.x,cy:S.y,r:4,className:"player-profile__trend-dot"},`dot-${k}`)),a&&s.jsx("g",{className:"player-profile__trend-xlabels",children:_.map((S,k)=>s.jsx("text",{x:S.x,y:Of-8,textAnchor:"middle",children:S.text},`lbl-${k}`))})]})}const Wy=t=>t==null?"-":t.toLocaleString("de-DE");function AX({title:t,subtitle:e,badgeLabel:n="Line + Avg marker",series:r,className:i}){const{latest:a,start:l,delta:c,deltaPct:u,avg:h,xLabels:m}=T.useMemo(()=>{const y=Array.isArray(r.points)?r.points:[],b=y.length?y[y.length-1]:null,_=y.length?y[0]:null,S=b!=null&&_!=null?b-_:null,k=S!=null&&_&&Math.abs(_)>0?S/_*100:null,P=y.length?y.reduce((A,v)=>A+v,0)/y.length:null,D=y.map((A,v)=>`t${v}`);return{latest:b,start:_,delta:S,deltaPct:k,avg:P,xLabels:D}},[r.points]),f=u!=null?`${u>=0?"+":""}${u.toFixed(1)}%`:c!=null?`${c>=0?"+":""}${c.toLocaleString("de-DE")}`:"+0";return s.jsxs("article",{className:`anchored-card ${i!=null?i:""}`.trim(),children:[s.jsxs("header",{className:"anchored-card__header",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"anchored-card__title",children:[t,n&&s.jsx("span",{className:"anchored-card__badge",children:n})]}),e&&s.jsx("div",{className:"anchored-card__subtitle",children:e})]}),s.jsxs("div",{className:"anchored-card__delta anchored-card__delta--up","aria-label":"Delta",children:[" ",f]})]}),s.jsx("div",{className:"anchored-card__chart",children:s.jsx(TX,{points:r.points,avgValue:h,showAvg:!0,showDots:!0,showFill:!0,showXLabels:!0})}),s.jsxs("footer",{className:"anchored-card__footer",children:[s.jsxs("div",{className:"anchored-card__kpis",children:[s.jsxs("div",{className:"anchored-card__kpi",children:[s.jsx("strong",{children:Wy(a)}),s.jsx("span",{children:"Base Stats (latest)"})]}),s.jsxs("div",{className:"anchored-card__kpi",children:[s.jsx("strong",{children:Wy(l)}),s.jsx("span",{children:"Server  marker"})]}),s.jsxs("div",{className:"anchored-card__pill anchored-card__pill--up",children:[" ",Wy(c)]})]}),s.jsxs("div",{className:"anchored-card__legend",children:[s.jsxs("span",{children:[s.jsx("span",{className:"anchored-card__dot"})," Player"]}),s.jsxs("span",{children:[s.jsx("span",{className:"anchored-card__dot anchored-card__dot--muted"})," Average marker"]})]})]})]})}function EX({data:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__grid",children:t.summary.map(e=>s.jsxs("article",{className:"player-profile__card",children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&s.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),s.jsxs("div",{className:"player-profile__section",children:[s.jsxs("header",{className:"player-profile__section-head",children:[s.jsx("h3",{children:"Attribute"}),s.jsx("span",{children:"Basis vs. Gesamt"})]}),s.jsx("div",{className:"player-profile__attr-grid",children:t.attributes.map(e=>s.jsxs("div",{className:"player-profile__attr-card",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__attr-label",children:e.label}),s.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&s.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),s.jsxs("div",{className:"player-profile__split",children:[s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Resistenzen"})}),s.jsx("ul",{className:"player-profile__list",children:t.resistances.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]}),s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"konomie"})}),s.jsx("ul",{className:"player-profile__list",children:t.resources.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function IX({items:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>s.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[s.jsxs("div",{className:"player-profile__progress-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),s.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),s.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:s.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&s.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function RX({series:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>{var n;return s.jsx(AX,{title:e.label,subtitle:(n=e.subLabel)!=null?n:"Looks natural even when the values are high (no 0-baseline).",series:e},e.label)})})}function PX({rows:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Serververgleich"})}),s.jsx("div",{className:"player-profile__comparison-wrapper",children:s.jsxs("table",{className:"player-profile__comparison",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Kategorie"}),s.jsx("th",{children:"Spieler"}),s.jsx("th",{children:"Cluster"}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.label}),s.jsx("td",{children:e.playerValue}),s.jsx("td",{children:e.benchmark}),s.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function LX({entries:t}){return s.jsx("div",{className:"player-profile__tab-panel",children:s.jsx("ol",{className:"player-profile__timeline",children:t.map(e=>s.jsxs("li",{children:[s.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),s.jsxs("div",{className:"player-profile__timeline-card",children:[s.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),s.jsx("div",{className:"player-profile__timeline-title",children:e.title}),s.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}const DX={genderName:"male",class:1,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:1,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},Dr=(t,e,n=0)=>{if(!Array.isArray(t)||e<0)return n;const r=t[e],i=typeof r=="number"?r:Number(r);return Number.isFinite(i)?i:n},MX=t=>{switch(t){case 1:return"goldenFrame";case 2:return"twitchFrame";case 3:return"zenFrame";case 4:return"silverFrame";case 50:return"worldBossFrameGold";case 51:return"worldBossFrameSilver";case 52:return"worldBossFrameBronze";default:return""}};function gk(t){const e=Dr(t,18),n=Dr(t,21),r=Dr(t,25),i=Dr(t,705),a=Dr(t,28)&255,l=Math.floor(e/100),c=Math.max(l,1),u=Math.floor(e/100);return{...DX,genderName:a===1?"female":"male",class:Dr(t,29)&65535,race:Dr(t,27)&65535,mouth:Dr(t,17),hair:Math.max(e%100,0),brows:Math.max(Dr(t,19)%100,0),eyes:Dr(t,20),beard:Math.max(n%100,0),nose:Dr(t,22),ears:Dr(t,23),extra:Dr(t,24),horn:Math.max(r%100,0),special:Math.min(Dr(t,26),0),hairColor:c,hornColor:a===1?1:u===0?c:u,frame:MX(i)}}function FX(t){return typeof t!="string"||!t.trim()?[]:t.split("/").map(e=>{const n=Number(e.trim());return Number.isFinite(n)?n:0})}const BX={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:"",mirrorHorizontal:!0},gs=(t,e=0)=>{const n=typeof t=="number"?t:Number(t);return Number.isFinite(n)?n:e},$X=t=>t&&typeof t=="object"&&Object.values(t).some(e=>e!=null),xk=t=>{if(typeof t!="string")return[];const e=t.trim();if(!e)return[];const n=e.toLowerCase().replace(/sfgame/g,"").replace(/\./g,"_").replace(/__+/g,"_").replace(/^_|_$/g,"");return n?[n]:[]},Ku=new Map,vk="avatar-cache:",OX=1440*60*1e3,VX=async(t,e,n,r)=>{var D,A;const i=Number(t),a=String(t!=null?t:"").trim(),l=(D=xk(e)[0])!=null?D:"",c=typeof n=="string"&&n.trim()?n.trim():"",h=(v=>{if(!v)return"";const w=v.trim().toLowerCase();if(!w)return"";const L=w.split("/").filter(Boolean).pop()||w,[C,...N]=L.split("__"),E=N.join("__");if(C&&E){const F=xk(E)[0];if(F)return`${C}__${F}`}return a&&l?`${a}__${l}`:L.replace(/sfgame/g,"").replace(/\./g,"_").replace(/__+/g,"_").replace(/^_|_$/g,"")})(c)||(a&&l?`${a}__${l}`:"");if(!h)return null;const f=(()=>{var v;if(Ku.has(h))return(v=Ku.get(h))!=null?v:null;try{const w=typeof window!="undefined"?window.localStorage.getItem(`${vk}${h}`):null;if(!w)return null;const L=JSON.parse(w);return!(L!=null&&L.data)||typeof L.savedAt!="number"||!(Date.now()-L.savedAt<OX)?null:L.data}catch(w){return null}})();if(f)return Ku.set(h,f),f;const y=await K5(r!=null?r:null,Xt(ft,"linked_players","avatars","avatars",h),()=>rn(Xt(ft,"linked_players","avatars","avatars",h)));if(!y.exists())return Ku.set(h,null),null;const b=y.data(),_=(b==null?void 0:b.portrait)||{},S=$X(_),k={genderName:(_==null?void 0:_.genderName)==="female"?"female":"male",classId:gs(_==null?void 0:_.classId),raceId:gs(_==null?void 0:_.raceId),mouth:gs(_==null?void 0:_.mouth),hair:gs(_==null?void 0:_.hair),hairColor:gs(_==null?void 0:_.hairColor),horn:gs(_==null?void 0:_.horn),hornColor:gs(_==null?void 0:_.hornColor),brows:gs(_==null?void 0:_.brows),eyes:gs(_==null?void 0:_.eyes),beard:gs(_==null?void 0:_.beard),nose:gs(_==null?void 0:_.nose),ears:gs(_==null?void 0:_.ears),extra:gs(_==null?void 0:_.extra),special:gs(_==null?void 0:_.special),frameId:gs(_==null?void 0:_.frameId),frame:typeof(_==null?void 0:_.frame)=="string"?_.frame:void 0,background:typeof(_==null?void 0:_.background)=="string"?_.background:void 0,showBorder:typeof(_==null?void 0:_.showBorder)=="boolean"?_.showBorder:void 0,mirrorHorizontal:typeof(_==null?void 0:_.mirrorHorizontal)=="boolean"?_.mirrorHorizontal:void 0},P={playerId:gs(b==null?void 0:b.playerId,i),server:typeof(b==null?void 0:b.server)=="string"?b.server:e,portrait:k,updatedAt:(A=b==null?void 0:b.updatedAt)!=null?A:null,hasPortraitData:S};if(Ku.set(h,P),typeof window!="undefined")try{window.localStorage.setItem(`${vk}${h}`,JSON.stringify({data:P,savedAt:Date.now()}))}catch(v){}return P},UX=t=>{switch(t){case 1:return"goldenFrame";case 2:return"twitchFrame";case 3:return"zenFrame";case 4:return"silverFrame";case 50:return"worldBossFrameGold";case 51:return"worldBossFrameSilver";case 52:return"worldBossFrameBronze";default:return""}},zX=["","goldenFrame","twitchFrame","zenFrame","silverFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"],HX=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],GX=(t,e)=>{const n=(t==null?void 0:t.portrait)||{},r={...BX,...e||{}},i=UX(gs(n.frameId,0)),a=typeof n.frame=="string"&&zX.includes(n.frame)?n.frame:"",l=typeof n.background=="string"&&HX.includes(n.background)?n.background:r.background;return{...r,genderName:n.genderName==="female"?"female":r.genderName,class:gs(n.classId,r.class),race:gs(n.raceId,r.race),mouth:gs(n.mouth,r.mouth),hair:gs(n.hair,r.hair),hairColor:gs(n.hairColor,r.hairColor),horn:gs(n.horn,r.horn),hornColor:gs(n.hornColor,r.hornColor),brows:gs(n.brows,r.brows),eyes:gs(n.eyes,r.eyes),beard:gs(n.beard,r.beard),nose:gs(n.nose,r.nose),ears:gs(n.ears,r.ears),extra:gs(n.extra,r.extra),special:gs(n.special,r.special),frame:i||a||r.frame||"",background:l,showBorder:typeof n.showBorder=="boolean"?n.showBorder:r.showBorder,mirrorHorizontal:typeof n.mirrorHorizontal=="boolean"?n.mirrorHorizontal:r.mirrorHorizontal}},WX=["Statistiken","Charts","Fortschritt","Vergleich","Historie"],qX="player-profile-cache:",KX=900*1e3,QX="playerProfile:charts:monthly3:",XX=720*60*1e3,pI=3,qy="Last 3 months",y1="history_monthly",fI=["honor","ehre","honour","honorpoints","ehrepunkte"],gI=[{key:"str",label:"Strke",base:["Base Strength","Strke","basestrength"],total:["Strength"]},{key:"dex",label:"Geschick",base:["Base Dexterity","Geschick","basedexterity"],total:["Dexterity"]},{key:"int",label:"Intelligenz",base:["Base Intelligence","Intelligenz","baseintelligence"],total:["Intelligence"]},{key:"con",label:"Konstitution",base:["Base Constitution","Konstitution","baseconstitution"],total:["Constitution"]},{key:"lck",label:"Glck",base:["Base Luck","Glck","baseluck"],total:["Luck"]}];function YX(){const t=Fg(),e=t.id||t.pid||t.playerId||t.player||"",n=ji(),[r,i]=T.useState(!0),[a,l]=T.useState(null),[c,u]=T.useState(null),[h,m]=T.useState("Statistiken"),[f,y]=T.useState(null),[b,_]=T.useState(null),[,S]=T.useState(!1),[,k]=T.useState(null),[P,D]=T.useState(null),A=T.useRef(!1),v=T.useRef(null),w=T.useRef(null),L=T.useRef(null),C=T.useRef(null);T.useEffect(()=>{let U=!1;const H=Rd("PlayerProfile:load");async function W(){var ne,z,Y,le,ae,he,ye,Ie,Z,fe,oe,_e,ve,Ee,Ve,ze,st,at,mt,Ut,je,Je,Ke,yt,kt,Be,Le,He,tt,fs,vs;i(!0),l(null);const K=`${qX}${e}`,se=(()=>{try{const os=typeof window!="undefined"?window.localStorage.getItem(K):null;if(!os)return null;const ls=JSON.parse(os);return!(ls!=null&&ls.data)||typeof ls.timestamp!="number"||!(Date.now()-ls.timestamp<KX)?null:{data:ls.data,timestamp:ls.timestamp,version:typeof ls.version=="number"?ls.version:null}}catch(os){return null}})();if(se){u(se.data),la(H),i(!1);return}try{const os=(e||"").trim();if(!os)throw new Error("Kein Spieler ausgewhlt.");const ls=Xt(ft,`players/${os}/latest/latest`),Os=await K5(H,ls,()=>rn(ls));if(!Os.exists())throw new Error("Spieler nicht gefunden.");const _t=(ne=Os.data())!=null?ne:{},we=typeof _t.values=="object"&&_t.values?_t.values:{};_t.timestampRaw!=null&&we.timestampRaw==null&&(we.timestampRaw=_t.timestampRaw);const Ys=Array.isArray(_t.save)&&_t.save||Array.isArray(we==null?void 0:we.save)&&we.save||Array.isArray(_t.saveArray)&&_t.saveArray||Array.isArray(we==null?void 0:we.saveArray)&&we.saveArray||void 0,gt=typeof _t.save=="string"&&_t.save||typeof(we==null?void 0:we.save)=="string"&&we.save||typeof _t.saveString=="string"&&_t.saveString||typeof(we==null?void 0:we.saveString)=="string"&&we.saveString||void 0,J=(Y=_r((z=_t.level)!=null?z:we==null?void 0:we.Level))!=null?Y:null,$e=((ae=(le=_t.className)!=null?le:we==null?void 0:we.Class)!=null?ae:null)||null,Ge=((ye=(he=_t.guildName)!=null?he:we==null?void 0:we.Guild)!=null?ye:null)||null,nt=we["Guild Identifier"],lt=typeof nt=="string"&&nt.trim()||null,wt=we["Guild Joined"],ns=typeof wt=="string"&&wt.trim()||null,Ls=(Z=(Ie=_t.name)!=null?Ie:we==null?void 0:we.Name)!=null?Z:os,_n=(oe=(fe=_t.server)!=null?fe:we==null?void 0:we.Server)!=null?oe:null,Yn=typeof _n=="string"?_n.trim().toLowerCase().replace(/\./g,"_"):"",an=(Ve=(Ee=(ve=(_e=_t.avatarIdentifier)!=null?_e:_t.identifier)!=null?ve:we==null?void 0:we.avatarIdentifier)!=null?Ee:we==null?void 0:we.identifier)!=null?Ve:Yn?`${os}__${Yn}`:null,ai=(st=_r((ze=_t.totalStats)!=null?ze:we==null?void 0:we["Total Stats"]))!=null?st:null,hs=(tt=(He=(Le=(Be=(kt=(yt=(Ke=(Je=(je=(Ut=(mt=(at=_t.scrapbookPct)!=null?at:_t.scrapbook)!=null?mt:we==null?void 0:we.scrapbookPct)!=null?Ut:we==null?void 0:we.scrapbook)!=null?je:we==null?void 0:we["Scrapbook %"])!=null?Je:we==null?void 0:we.Scrapbook)!=null?Ke:we==null?void 0:we.Album)!=null?yt:we==null?void 0:we["Album %"])!=null?kt:we==null?void 0:we.AlbumPct)!=null?Be:we==null?void 0:we.AlbumPercent)!=null?Le:we==null?void 0:we.AlbumPercentage)!=null?He:we==null?void 0:we.AlbumCompletion)!=null?tt:we==null?void 0:we.AlbumProgress,Pn=(fs=_r(hs))!=null?fs:null,Js=(vs=_r(_t.timestamp))!=null?vs:_r(we==null?void 0:we.timestamp),lr=xI(Js),cr=typeof _t.portrait=="object"?_t.portrait:typeof _t.portraitOptions=="object"?_t.portraitOptions:typeof(we==null?void 0:we.portraitOptions)=="object"?we.portraitOptions:void 0,dr={id:os,name:Ls,className:$e,level:J,guild:Ge,guildIdentifier:lt,guildJoined:ns,server:_n,avatarIdentifier:an,scrapbookPct:Pn,totalStats:ai,lastScanDays:lr,values:we,portraitConfig:cr,saveArray:Ys,saveString:gt};if(typeof window!="undefined")try{window.localStorage.setItem(K,JSON.stringify({data:dr,timestamp:Date.now(),version:Js!=null?Js:null}))}catch(wn){}U||u(dr)}catch(os){U||(u(null),l((os==null?void 0:os.message)||"Unbekannter Fehler beim Laden."))}finally{la(H),U||i(!1)}}return W(),()=>{U=!0}},[e]),T.useEffect(()=>{D(null),A.current=!1,v.current=null,w.current=null},[e,c==null?void 0:c.server]),T.useEffect(()=>{L.current=P},[P]);const N=U=>{m(U)};T.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]),T.useEffect(()=>{let U=!1;return(async()=>{var q,se;const W=Rd("PlayerProfile:avatar");if(!(c!=null&&c.id)){_(null),S(!1),k(null),la(W);return}const K=_r(c.id);if(K==null){_(null),S(!1),k(null),la(W);return}S(!0),k(null);try{const ne=await VX(K,(q=c.server)!=null?q:"",(se=c.avatarIdentifier)!=null?se:void 0,W);U||_(ne)}catch(ne){U||(_(null),k(ne instanceof Error?ne:new Error("AvatarSnapshot failed")))}finally{la(W),U||S(!1)}})(),()=>{U=!0}},[c==null?void 0:c.id,c==null?void 0:c.server]),T.useEffect(()=>{if(h!=="Charts"||!(c!=null&&c.id))return;const U=`${yI(c.server)}:${c.id}`;if(A.current||w.current===U&&v.current&&L.current)return;const H=ZX(c.id,c.server),W=tY(H);if(W){const ne=Xy(W.months);D(z=>{const Y=of(z,ne);return Y||console.log(`[charts] load set from cache key=${U} months=${W.months.length}`),Y?z:ne}),L.current=Xy(W.months),v.current="cache",w.current=U;return}let K=!1;A.current=!0,console.log(`[charts] load start key=${U} source=firestore`);const q=Rd("PlayerProfile:charts");return(async()=>{try{const ne=xl(ft,`players/${c.id}/history_monthly`),z=nn(ne,Br(W$(),"desc"),mn(3)),le=(await Jo(q,{path:ne.path},()=>gn(z))).docs.map(he=>eY(he)).filter(he=>!!he);if(!le.length){if(Vf(H),!K){const he=yk(c);L.current=he,v.current="fallback",w.current=U,D(ye=>of(ye,he)?ye:he),console.log(`[charts] load done key=${U} months=0 (fallback)`)}return}const ae=Xy(le);K||(L.current=ae,v.current="monthly",w.current=U,D(he=>of(he,ae)?he:ae),sY(H,le),console.log(`[charts] load done key=${U} months=${le.length}`))}catch(ne){if(!K){const z=yk(c);L.current=z,v.current="fallback",w.current=U,D(Y=>of(Y,z)?Y:z),console.log(`[charts] load error key=${U}`,ne)}}finally{A.current=!1,la(q)}})(),()=>{K=!0}},[h,c==null?void 0:c.id,c==null?void 0:c.server]);const E=T.useMemo(()=>c?iY(c,b,P):null,[c,b,P]),F=T.useCallback(U=>{y(U),C.current&&clearTimeout(C.current),C.current=setTimeout(()=>y(null),3500)},[]),I=T.useCallback(async U=>{if(c){if(U==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const H=`${window.location.origin}/players/profile/${c.id}`;try{await navigator.clipboard.writeText(H),F("Profil-Link wurde kopiert.")}catch(W){F("Konnte Link nicht kopieren.")}}return}if(U==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:c.name,text:`Shakes & Fidget Charakter ${c.name}`,url:window.location.href}),F("Profil geteilt.")}catch(H){F("Teilen abgebrochen.")}return}if(U==="guild"){c.guildIdentifier&&n(`/guild/${c.guildIdentifier}`);return}if(U==="rescan"){F("Rescan-Queue folgt aktuell noch Platzhalter.");return}}},[n,F,c]),B=()=>{if(!E)return null;switch(h){case"Statistiken":return s.jsx(EX,{data:E.stats});case"Charts":return s.jsx(RX,{series:E.charts});case"Fortschritt":return s.jsx(IX,{items:E.progress});case"Vergleich":return s.jsx(PX,{rows:E.comparison});case"Historie":return s.jsx(LX,{entries:E.history});default:return null}},$=()=>s.jsxs("div",{className:"player-profile__loading",children:[s.jsx("p",{children:a!=null?a:"Spieler nicht gefunden."}),s.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>n("/"),style:{marginTop:12},children:"Zur Startseite"})]});return s.jsxs("div",{className:"player-profile",children:[r&&!c&&s.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!c||!E)&&$(),E&&s.jsxs(s.Fragment,{children:[s.jsx(jX,{data:E.hero,loading:r,onAction:I}),s.jsx(JX,{message:f}),s.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:WX.map(U=>{const H=h===U;return s.jsx("button",{type:"button",role:"tab","aria-selected":H,className:`player-profile__tab-button ${H?"player-profile__tab-button--active":""}`,onClick:()=>N(U),children:U},U)})}),B()]})]})}const JX=X.memo(({message:t})=>t?s.jsx("p",{className:"player-profile__hero-feedback",role:"status","aria-live":"polite",children:t}):null),_r=t=>{if(t==null||t==="")return null;if(typeof t=="number")return Number.isFinite(t)?t:null;const e=String(t).trim(),n=e.startsWith("-")?-1:1,r=e.replace(/^[+-]/,"").replace(/[\s%]/g,""),i=r.lastIndexOf(","),a=r.lastIndexOf("."),l=Math.max(i,a);let c="";if(l>-1){const h=r.slice(l+1).replace(/[^0-9]/g,""),m=r.slice(0,l).replace(/[^0-9]/g,"");h.length>0&&h.length<=2?c=`${m}.${h}`:c=(m+h).replace(/[^0-9]/g,"")}else c=r.replace(/[^0-9]/g,"");if(!c)return null;const u=Number(c)*n;return Number.isFinite(u)?u:null},xI=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},Ky=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),vI=t=>{const e=new Map;return Object.entries(t||{}).forEach(([n,r])=>e.set(Ky(n),r)),{number(n,r=null){for(const i of n){const a=_r(e.get(Ky(i)));if(a!=null)return a}return r},text(n,r=null){for(const i of n){const a=e.get(Ky(i));if(a!=null&&String(a).trim())return String(a).trim()}return r}}},yI=t=>typeof t!="string"?"unknown":t.trim().toLowerCase().replace(/\./g,"_")||"unknown",ZX=(t,e)=>`${QX}${yI(e)}:${t}`,to=t=>typeof t=="number"&&Number.isFinite(t)?t:0,Qy=(t,e=3)=>{var r;const n=t.map(i=>Number.isFinite(i)?i:0);for(n.length||n.push(0);n.length<e;)n.unshift((r=n[0])!=null?r:0);return n.slice(-e)},wg=(t,e,n)=>[{label:"Level Verlauf",points:Qy(t),unit:"",subLabel:qy},{label:"Total Stats",points:Qy(e),unit:"",subLabel:qy},{label:"Honor",points:Qy(n),unit:"",subLabel:qy}],bI=t=>{const e=vI(t||{}),n=e.number(["level"]),r=e.number(fI);let a=e.number(["totalstats","stats"]);if(a==null){let l=0,c=0;gI.forEach(u=>{var m;const h=(m=e.number(u.total))!=null?m:e.number(u.base);h!=null&&(l+=h,c++)}),a=c?l:null}return{level:n,totalStats:a,honor:r}},Xy=t=>{if(!t.length)return wg([],[],[]);const e=[...t].sort((a,l)=>a.monthId.localeCompare(l.monthId)),n=e.map(a=>to(a.values.level)),r=e.map(a=>to(a.values.totalStats)),i=e.map(a=>to(a.values.honor));return wg(n,r,i)},of=(t,e)=>{if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let n=0;n<t.length;n++){if(t[n].label!==e[n].label||t[n].unit!==e[n].unit||t[n].subLabel!==e[n].subLabel||t[n].points.length!==e[n].points.length)return!1;for(let r=0;r<t[n].points.length;r++)if(t[n].points[r]!==e[n].points[r])return!1}return!0},eY=t=>{var i,a,l;const e=typeof t.data=="function"?t.data():{},n=e!=null&&e.values&&typeof e.values=="object"?e.values:{},r=typeof(e==null?void 0:e.monthId)=="string"&&e.monthId?e.monthId:t.id;return r?{monthId:r,lastTs:(l=_r((a=(i=e==null?void 0:e.lastTs)!=null?i:e==null?void 0:e.lastTimestamp)!=null?a:e==null?void 0:e.lastTimestampRaw))!=null?l:null,values:bI(n)}:null},Vf=t=>{if(typeof window!="undefined")try{window.localStorage.removeItem(t)}catch(e){}},tY=t=>{if(typeof window=="undefined")return null;try{const e=window.localStorage.getItem(t);if(!e)return null;const n=JSON.parse(e),r=(n==null?void 0:n.source)===y1,i=typeof n.fetchedAt=="number"&&n.version===pI,a=i&&Date.now()-n.fetchedAt<=XX,l=Array.isArray(n.months)?n.months:null;if(!r||!i||!a||!l)return Vf(t),null;const c=l.map(u=>{var h,m,f,y,b,_;return!u||typeof u.monthId!="string"?null:{monthId:u.monthId,lastTs:typeof u.lastTs=="number"?u.lastTs:null,values:{level:(m=_r((h=u.values)==null?void 0:h.level))!=null?m:null,totalStats:(y=_r((f=u.values)==null?void 0:f.totalStats))!=null?y:null,honor:(_=_r((b=u.values)==null?void 0:b.honor))!=null?_:null}}}).filter(u=>!!u);return c.length<1?(Vf(t),null):{fetchedAt:n.fetchedAt,version:n.version,source:y1,months:c}}catch(e){return Vf(t),null}},sY=(t,e)=>{if(typeof window=="undefined"||e.length<1)return;const n={fetchedAt:Date.now(),version:pI,source:y1,months:e.map(r=>{var i,a,l;return{monthId:r.monthId,lastTs:r.lastTs,values:{level:(i=r.values.level)!=null?i:null,totalStats:(a=r.values.totalStats)!=null?a:null,honor:(l=r.values.honor)!=null?l:null}}})};try{window.localStorage.setItem(t,JSON.stringify(n))}catch(r){}},yk=t=>{var r,i,a,l,c;const e=bI(t.values||{}),n={level:(i=(r=e.level)!=null?r:t.level)!=null?i:null,totalStats:(l=(a=e.totalStats)!=null?a:t.totalStats)!=null?l:null,honor:(c=e.honor)!=null?c:null};return wg([to(n.level)],[to(n.totalStats)],[to(n.honor)])},nY=t=>{let e=2166136261;for(let n=0;n<t.length;n++)e^=t.charCodeAt(n),e=Math.imul(e,16777619);return()=>{e+=1831565813;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},Cn=(t,e="-")=>t==null?e:t.toLocaleString("de-DE"),Uf=t=>{if(t==null)return"-";const e=Math.floor(t*100)/100,n=e%1!==0;return`${e.toLocaleString("de-DE",{minimumFractionDigits:n?2:0,maximumFractionDigits:2})}%`},bk=t=>t==null?null:t===0?"heute":`${t} Tag${t===1?"":"e"} her`,_k=t=>{if(t==null)return null;const e=new Date(t*1e3);if(Number.isNaN(e.getTime()))return null;const n=r=>String(r).padStart(2,"0");return`${n(e.getDate())}.${n(e.getMonth()+1)}.${e.getFullYear()} ${n(e.getHours())}:${n(e.getMinutes())}`},rY=(t,e)=>{let n;const r=t.portraitConfig&&Object.keys(t.portraitConfig).length>0;if(Array.isArray(t.saveArray)&&t.saveArray.length>0)n=gk(t.saveArray);else if(t.saveString){const i=FX(t.saveString);n=i.length>0?gk(i):void 0}else r&&(n={...t.portraitConfig});return e!=null&&e.hasPortraitData?{config:GX(e,n),hasData:!0}:n?{config:n,hasData:!0}:{config:void 0,hasData:!1}},iY=(t,e,n)=>{var Ut,je,Je,Ke,yt,kt,Be,Le,He,tt,fs,vs,os,ls,Os,_t,we,Ys,gt;const r=t.values||{},i=vI(r),a=nY(t.id),l=rY(t,e),c=nA((Ut=t.className)!=null?Ut:void 0),u=Ur(c.url,420)||"/assets/demo-avatar-special.png",h=t.className?`Klassenbild ${t.className}`:"Portrait-Platzhalter",m=["album","album%","albumpct","albumpercent","albumpercentage","albumcompletion","albumprogress","scrapbook","scrapbook%","scrapbookpct","scrapbookpercent"],f=fI,y=["hofrank","halloffamerank","hofposition","halloffameposition","hofplatz","halloffame","hof"],b=["mount","reittier","mountname"],_=["mountpct","mountpercent","mountpercentage","mountspeed","mountbonus","mountvalue"],S=["guildrole","role","guildrank","gildenrolle"],k=(je=t.level)!=null?je:i.number(["level"]),P=(Je=t.scrapbookPct)!=null?Je:i.number(m),D=i.number(f),A=(Ke=t.totalStats)!=null?Ke:i.number(["totalstats","stats"]),v=gI,w={str:0,dex:0,int:0,con:0,lck:0},L={str:0,dex:0,int:0,con:0,lck:0};let C=!1,N=!1;v.forEach(J=>{const $e=i.number(J.base);$e!=null&&(w[J.key]=$e,C=!0);const Ge=i.number(J.total);Ge!=null&&(L[J.key]=Ge,N=!0)});const E=C?Object.values(w).reduce((J,$e)=>J+$e,0):null,F=P!=null?P:null,I=(yt=i.number(["fortresslevel","fortress"]))!=null?yt:Math.round(a()*20)+30,B=(kt=i.number(["underworld","underworldlevel"]))!=null?kt:Math.round(a()*10)+20,$=(Be=i.number(["tower","towerfloor"]))!=null?Be:Math.round(a()*90)+10,U=(Le=i.number(["pets","petprogress"]))!=null?Le:Math.round(a()*50)+25,H=(k!=null?k:0)*1200+(E!=null?E:0)+Math.round((P!=null?P:0)*3200),W=i.text(b),K=W&&/[a-zA-Z]/.test(W)||W&&/%/.test(W)?W:null,q=(os=(vs=(fs=(tt=(He=r==null?void 0:r["Mount %"])!=null?He:r==null?void 0:r["mount %"])!=null?tt:r==null?void 0:r.MountPct)!=null?fs:r==null?void 0:r.mountPct)!=null?vs:r==null?void 0:r.MountBonus)!=null?os:r==null?void 0:r.mountBonus,se=(ls=_r(q))!=null?ls:i.number(_),ne=K?_r((K.match(/(\d+)\s*%/)||[])[1]):null,z=se!=null?se:ne;let Y="-";K?Y=z!=null&&!/%/.test(K)?`${K} (${Math.round(z)}%)`:K:z!=null&&(Y=`${Math.round(z)}%`);const le=i.text(S),ae=_r(r==null?void 0:r.Rank),he=ae!=null?ae:i.number(y),ye=i.text(["timestampraw"]),Ie=i.number(["timestamp"]),Z=ye&&/^\s*\d+\s*$/.test(ye)?(Os=_k(_r(ye)))!=null?Os:ye:(_t=ye!=null?ye:_k(Ie))!=null?_t:"-",fe=(we=t.lastScanDays)!=null?we:Ie!=null?xI(Ie):null,oe=[{label:"Last Scan",value:Z},{label:"Level",value:k!=null?`Lvl ${Cn(k)}`:"-"},{label:"Scrapbook",value:Uf(F)},{label:"Total Base Stats",value:E!=null?Cn(E):"-"}],_e=[{label:"Mount",value:Y!=null?Y:"-",tone:"neutral"},{label:"Honor",value:Cn(D),tone:"success"},{label:"Gildenrolle",value:le!=null?le:"-",tone:"warning"},{label:"HoF",value:he!=null?`#${Cn(he)}`:"-",tone:"neutral"}],ve=C?w:void 0,Ee={playerName:t.name,className:t.className,guild:t.guild,server:t.server,guildIdentifier:t.guildIdentifier,guildJoined:t.guildJoined,levelLabel:k?`Level ${Cn(k)}`:void 0,lastScanLabel:(Ys=bk(fe))!=null?Ys:void 0,lastScanAtLabel:Z!=="-"?Z:void 0,lastScanDays:fe,status:fe!=null&&fe<=2?"online":"offline",metrics:oe,badges:_e,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!t.guildIdentifier,title:t.guildIdentifier?void 0:"No guild linked in latest scan."},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:l.hasData?l.config:void 0,hasPortrait:l.hasData,portraitFallbackUrl:u,portraitFallbackLabel:h,baseStats:ve,totalStats:N?L:void 0},Ve={summary:[{label:"Power Score",value:Cn(H),hint:"Level * SumBase"},{label:"Honor",value:Cn(D)},{label:"HoF Platz",value:he?`#${Cn(he)}`:"-"},{label:"Letzter Scan",value:(gt=bk(fe))!=null?gt:"-"}],attributes:v.map(J=>({label:J.label,baseLabel:Cn(i.number(J.base)),totalLabel:i.number(J.total)!=null?`Gesamt ${Cn(i.number(J.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(a()*40+40)}%`},{label:"Schatten",value:`${Math.round(a()*40+35)}%`},{label:"Frost",value:`${Math.round(a()*30+30)}%`},{label:"Licht",value:`${Math.round(a()*20+30)}%`}],resources:[{label:"Gold/h",value:`${Cn(Math.round((k!=null?k:1)*(a()*8+3)))}k`},{label:"XP/h",value:`${Cn(Math.round((k!=null?k:1)*(a()*5+2)))}k`},{label:"Mount Bonus",value:Y},{label:"Quest Slots",value:`${Math.round(a()*2)+3}`}]},ze=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(F!=null?F:0)/100),targetLabel:`${Uf(F)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:F!=null&&F>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,$/100),targetLabel:`Ebene ${Math.round($)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudebau",progress:Math.min(1,I/25),targetLabel:`Lvl ${Math.round(I)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,B/30),targetLabel:`Lvl ${Math.round(B)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,U/100),targetLabel:`${Math.round(U)} / 100`,meta:"Habitate offen"}],st=n!=null?n:wg([to(k)],[to(A)],[to(D)]),at=[{label:"Level",playerValue:k?`Lvl ${Cn(k)}`:"-",benchmark:k?`Lvl ${Cn(Math.round(k*.92))}`:"-",diffLabel:k?`+${Math.round(k*.08)}`:"-",trend:"up"},{label:"Power Score",playerValue:Cn(H),benchmark:Cn(Math.round(H*.9)),diffLabel:`+${Cn(Math.round(H*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:Uf(F),benchmark:`${Math.min(100,Math.round((F!=null?F:60)-8))}%`,diffLabel:F!=null?`+${Math.round(F-60)}%`:"-",trend:F!=null&&F>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(I)}`,benchmark:`Lvl ${Math.round(I-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(B)}`,benchmark:`Lvl ${Math.round(B-2)}`,diffLabel:"+2",trend:"neutral"}],mt=aY(t,i,a);return{hero:Ee,stats:Ve,progress:ze,charts:st,comparison:at,history:mt}},aY=(t,e,n)=>{var l,c;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:t.guild?`Joined ${t.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const a=e.text(["lastdungeon","lastfight"]);return a&&r.push({dateLabel:lf(Math.round(n()*15)+5),title:"Dungeon Clear",description:a,tag:"Dungeon"}),r.push({dateLabel:lf(2),title:"Level-Up",description:`Erreichte Level ${Cn(t.level)}`,tag:"Level"}),r.push({dateLabel:lf(10),title:"Scrapbook Meilenstein",description:`${Uf((l=t.scrapbookPct)!=null?l:Math.round(n()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:lf(18),title:"Festung",description:`Fortress Level ${Math.round((c=e.number(["fortress"],Math.round(n()*20+15)))!=null?c:0)}`,tag:"Festung"}),r},lf=t=>new Date(Date.now()-t*864e5).toLocaleDateString("de-DE");function Yy(){return s.jsx(Vt,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx(YX,{})})}function Qd(t,e=300){const[n,r]=X.useState(t);return X.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}function Xd(t){const e=X.useCallback(()=>typeof window=="undefined"?!1:window.matchMedia(t).matches,[t]),[n,r]=X.useState(()=>e());return X.useEffect(()=>{if(typeof window=="undefined")return;const i=window.matchMedia(t),a=l=>r(l.matches);return r(i.matches),i.addEventListener("change",a),()=>i.removeEventListener("change",a)},[t]),n}const oY='a[href], button:not([disabled]), textarea, input, select, details, summary, [tabindex]:not([tabindex="-1"])';function Yd(t,e){X.useEffect(()=>{var l;if(!e)return;const n=t.current;if(!n)return;const r=()=>n.querySelectorAll(oY);(l=r()[0])==null||l.focus();const a=c=>{if(c.key!=="Tab")return;const u=r();if(u.length===0)return;const h=u[0],m=u[u.length-1];c.shiftKey?document.activeElement===h&&(c.preventDefault(),m.focus()):document.activeElement===m&&(c.preventDefault(),h.focus())};return n.addEventListener("keydown",a),()=>n.removeEventListener("keydown",a)},[t,e])}const lY="_page_1jzf5_1",cY="_header_1jzf5_13",dY="_headerStack_1jzf5_25",uY="_kicker_1jzf5_37",hY="_title_1jzf5_53",mY="_subtitle_1jzf5_65",pY="_headerActions_1jzf5_79",fY="_secondaryAction_1jzf5_89",gY="_infoStrip_1jzf5_131",xY="_infoCard_1jzf5_143",vY="_infoLabel_1jzf5_163",yY="_inlineFilters_1jzf5_177",bY="_filterField_1jzf5_197",_Y="_select_1jzf5_227",wY="_searchInput_1jzf5_229",jY="_layout_1jzf5_249",SY="_selectionColumn_1jzf5_261",NY="_selectionCard_1jzf5_273",kY="_slotHeader_1jzf5_293",CY="_slotLabel_1jzf5_307",TY="_slotStatus_1jzf5_323",AY="_clearButton_1jzf5_335",EY="_slotBody_1jzf5_355",IY="_resultList_1jzf5_367",RY="_emptyResult_1jzf5_385",PY="_resultItem_1jzf5_397",LY="_resultName_1jzf5_421",DY="_resultMeta_1jzf5_433",MY="_selectButton_1jzf5_445",FY="_selectedCard_1jzf5_465",BY="_selectedName_1jzf5_479",$Y="_selectedMeta_1jzf5_489",OY="_selectedTagline_1jzf5_491",VY="_comparisonColumn_1jzf5_503",UY="_comparisonCard_1jzf5_515",zY="_comparisonHeader_1jzf5_535",HY="_sectionTitle_1jzf5_551",GY="_diffBadge_1jzf5_561",WY="_metricGrid_1jzf5_579",qY="_metricCard_1jzf5_591",KY="_metricLabel_1jzf5_611",QY="_metricValues_1jzf5_627",XY="_metricDivider_1jzf5_643",YY="_metricDelta_1jzf5_653",JY="_freshnessRow_1jzf5_665",ZY="_freshnessItem_1jzf5_677",eJ="_freshnessBadge_1jzf5_685",tJ="_freshnessPopover_1jzf5_733",sJ="_popoverTitle_1jzf5_757",nJ="_classCard_1jzf5_807",rJ="_classGrid_1jzf5_827",iJ="_classColumn_1jzf5_837",aJ="_classBar_1jzf5_857",oJ="_classSlice_1jzf5_873",lJ="_classLegend_1jzf5_907",cJ="_emptyState_1jzf5_931",dJ="_supportPanels_1jzf5_947",uJ="_checklistCard_1jzf5_959",hJ="_infoCardExtended_1jzf5_961",mJ="_checklist_1jzf5_959",pJ="_infoNote_1jzf5_1033",fJ="_sheetOverlay_1jzf5_1045",gJ="_sheetOpen_1jzf5_1073",xJ="_sheet_1jzf5_1045",vJ="_sheetHeader_1jzf5_1105",yJ="_sheetBody_1jzf5_1119",ce={page:lY,header:cY,headerStack:dY,kicker:uY,title:hY,subtitle:mY,headerActions:pY,secondaryAction:fY,infoStrip:gY,infoCard:xY,infoLabel:vY,inlineFilters:yY,filterField:bY,select:_Y,searchInput:wY,layout:jY,selectionColumn:SY,selectionCard:NY,slotHeader:kY,slotLabel:CY,slotStatus:TY,clearButton:AY,slotBody:EY,resultList:IY,emptyResult:RY,resultItem:PY,resultName:LY,resultMeta:DY,selectButton:MY,selectedCard:FY,selectedName:BY,selectedMeta:$Y,selectedTagline:OY,comparisonColumn:VY,comparisonCard:UY,comparisonHeader:zY,sectionTitle:HY,diffBadge:GY,metricGrid:WY,metricCard:qY,metricLabel:KY,metricValues:QY,metricDivider:XY,metricDelta:YY,freshnessRow:JY,freshnessItem:ZY,freshnessBadge:eJ,freshnessPopover:tJ,popoverTitle:sJ,classCard:nJ,classGrid:rJ,classColumn:iJ,classBar:aJ,classSlice:oJ,classLegend:lJ,emptyState:cJ,supportPanels:dJ,checklistCard:uJ,infoCardExtended:hJ,checklist:mJ,infoNote:pJ,sheetOverlay:fJ,sheetOpen:gJ,sheet:xJ,sheetHeader:vJ,sheetBody:yJ},_I=["Ari","Borin","Celeste","Doran","Lena","Nix"],bJ={open:"Offen",in_progress:"In Arbeit",done:"Erledigt",canceled:"Abgebrochen"},R_={raid:"Raid",event:"Event",task:"Task"},P_={f0:"F0 - < 1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - > 7d",unknown:"Unbekannt"},wk={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},jk={urgent:4,high:3,medium:2,low:1},_J={"7d":7,"30d":30,"90d":90,all:null},Jy={q:"",type:"all",status:"all",range:"30d",owner:[],sort:"dueAt",dir:"asc",page:1,pageSize:6},wJ=[{id:"planner-001",title:"Trial of Valor Raid",type:"raid",status:"open",owner:"Ari",assignees:["Ari","Celeste"],dueAt:Hl(5,20),createdAt:gr(2,14),updatedAt:gr(1,11),priority:"urgent",tags:["raid","fusion"],description:"Koordiniere die Vorbereitung fuer den Trial of Valor Raid. Stelle sicher, dass Elixiere und Edelsteine auf Lager sind und alle Tanks das neue Setup kennen.",freshness:"f2",lastScanAt:df(3),nextUpdateAt:cf(5)},{id:"planner-002",title:"Waitlist Sync - Woche 39",type:"task",status:"in_progress",owner:"Lena",assignees:["Lena","Nix"],dueAt:Hl(2,12),createdAt:gr(4,9),updatedAt:gr(1,8),priority:"high",tags:["waitlist","ops"],description:"Verifiziere offene Bewerbungen, aktualisiere Klassentargets und markiere Kandidaten mit kritischen Notizen.",freshness:"f3",lastScanAt:df(8),nextUpdateAt:cf(12)},{id:"planner-003",title:"Fusion Discovery Call",type:"event",status:"open",owner:"Celeste",assignees:["Celeste","Doran"],dueAt:Hl(7,17),createdAt:gr(1,10),updatedAt:gr(1,9),priority:"medium",tags:["fusion","negotiation"],description:'Vorbereitung auf das Discovery-Meeting mit Gilde "Astral Echoes". Fokus: Kulturabgleich und Zeitleiste.',freshness:"f4",lastScanAt:df(22),nextUpdateAt:cf(26)},{id:"planner-004",title:"Event: Ingame Jubilaeum",type:"event",status:"done",owner:"Borin",assignees:["Borin"],dueAt:gr(1,19),createdAt:gr(9,10),updatedAt:gr(1,21),priority:"low",tags:["community"],description:"Recap fertigstellen, Screenshots ins Archiv laden und Feedback-Umfrage versenden.",freshness:"f5",lastScanAt:gr(1,19),nextUpdateAt:Hl(3,9)},{id:"planner-005",title:"Raid Lead Rotation",type:"task",status:"open",owner:"Nix",assignees:["Nix","Doran"],dueAt:Hl(12,18),createdAt:gr(6,15),updatedAt:gr(2,13),priority:"medium",tags:["ops"],description:"Rotation vorbereiten, Onboarding-Dokument aktualisieren und Backup-Lead einarbeiten.",freshness:"f1",lastScanAt:df(1),nextUpdateAt:cf(8)},{id:"planner-006",title:"Recruitment Push EU-02",type:"task",status:"in_progress",owner:"Doran",assignees:["Doran","Ari"],dueAt:Hl(18,13),createdAt:gr(12,18),updatedAt:gr(3,8),priority:"high",tags:["recruiting"],description:"Discord Outreach finalisieren, Server-Werbung aktualisieren und Referal-Bonus ankuendigen.",freshness:"f6",lastScanAt:gr(2,16),nextUpdateAt:Hl(4,9)}];function Hl(t,e=12){const n=new Date;return n.setDate(n.getDate()+t),n.setHours(e,0,0,0),n.toISOString()}function cf(t){const e=new Date;return e.setHours(e.getHours()+t,e.getMinutes(),0,0),e.toISOString()}function gr(t,e=12){const n=new Date;return n.setDate(n.getDate()-t),n.setHours(e,0,0,0),n.toISOString()}function df(t){const e=new Date;return e.setHours(e.getHours()-t,e.getMinutes(),0,0),e.toISOString()}function Sk(t){return{...t,page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),owner:Array.from(new Set(t.owner))}}function jJ(t,e,n){const r=Date.now(),i=_J[e.range];return t.filter(a=>{const l=n===""||a.title.toLowerCase().includes(n.toLowerCase())||a.description.toLowerCase().includes(n.toLowerCase()),c=e.type==="all"||a.type===e.type,u=e.status==="all"||a.status===e.status,h=e.owner.length===0||e.owner.includes(a.owner)||a.assignees.some(f=>e.owner.includes(f));let m=!0;if(i!==null){const f=new Date(a.dueAt).getTime(),y=r+i*24*60*60*1e3;m=f<=y}return l&&c&&u&&h&&m})}function SJ(t,e,n){const r=[...t];return r.sort((i,a)=>{let l=0;switch(e){case"dueAt":l=new Date(i.dueAt).getTime()-new Date(a.dueAt).getTime();break;case"updatedAt":l=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break;case"priority":l=jk[i.priority]-jk[a.priority];break;case"title":l=i.title.localeCompare(a.title);break;default:l=0}return n==="asc"?l:-l}),r}function NJ(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function _a(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function Nm(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Yh(t,e){const n=new Date(t).getTime()-e;if(n<=0)return"faellig";const r=Math.floor(n/6e4);if(r<60)return`${r} min`;const i=Math.floor(r/60);return i<24?`${i} h`:`${Math.floor(i/24)} d`}function kJ(t){return t.length===0?null:t.reduce((e,n)=>e?wk[n.freshness]>wk[e.freshness]?n:e:n,null)}const b1=["EU-01","EU-02","US-01","US-02","ASIA-01"],Ch=new Intl.NumberFormat("de-DE");function CJ(){const t=Xd("(min-width: 768px)"),[e,n]=X.useState("all"),[r,i]=X.useState(null),[a,l]=X.useState(null),[c,u]=X.useState(null),[h,m]=X.useState(null),f=[r,a].filter(Boolean).length,y=X.useMemo(()=>{const I=[c,h].filter(Boolean);if(!I.length)return 0;const B=I.reduce(($,U)=>{var H;return $+((H=U.level)!=null?H:0)},0);return Math.round(B/I.length)},[c,h]),[b,_]=X.useState(null),[S,k]=X.useState(!1),P=X.useRef(null);Yd(P,S&&!t),X.useEffect(()=>{t&&k(!1)},[t]),X.useEffect(()=>{if(!b)return;const I=$=>{const U=$.target;U&&(U.closest(`.${ce.freshnessBadge}`)||U.closest(`.${ce.freshnessPopover}`)||_(null))},B=$=>{$.key==="Escape"&&_(null)};return document.addEventListener("pointerdown",I),document.addEventListener("keydown",B),()=>{document.removeEventListener("pointerdown",I),document.removeEventListener("keydown",B)}},[b]);const D=X.useMemo(()=>c?Yh(c.nextUpdateAt,Date.now()):"",[c]),A=X.useMemo(()=>h?Yh(h.nextUpdateAt,Date.now()):"",[h]),v=()=>k(!0),w=()=>k(!1),L=I=>{n(I)},C=(I,B)=>{I==="playerA"?(i(B.id),u(B)):(l(B.id),m(B))},N=I=>{I==="playerA"?(i(null),u(null)):(l(null),m(null))},E=I=>{_(B=>B===I?null:I)},F=c&&h;return s.jsxs(Vt,{title:"Players",subtitle:"Spielervergleich",centerFramed:!1,children:[s.jsxs("div",{className:ce.page,children:[s.jsxs("header",{className:ce.header,children:[s.jsxs("div",{className:ce.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:ce.kicker,children:"Players"}),s.jsx("h1",{className:ce.title,children:"Spieler vergleichen"}),s.jsx("p",{className:ce.subtitle,children:"Waehle zwei Charaktere aus, gleiche Level, Scrapbook und Freshness ab und finde die staerkere Option fuer dein Team oder deine Analyse."})]}),s.jsx("div",{className:ce.headerActions,children:!t&&s.jsx("button",{type:"button",className:ce.secondaryAction,onClick:v,children:"Filter"})})]}),s.jsxs("div",{className:ce.infoStrip,children:[s.jsxs("div",{className:ce.infoCard,children:[s.jsx("span",{className:ce.infoLabel,children:"Slots gefuellt"}),s.jsxs("strong",{children:[Ch.format(f)," Spieler"]})]}),s.jsxs("div",{className:ce.infoCard,children:[s.jsx("span",{className:ce.infoLabel,children:"Durchschnittslevel"}),s.jsx("strong",{children:Ch.format(y)})]}),s.jsxs("div",{className:ce.infoCard,children:[s.jsx("span",{className:ce.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:ce.inlineFilters,children:s.jsxs("label",{className:ce.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ce.select,value:e,onChange:I=>L(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),b1.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]}),s.jsxs("div",{className:ce.layout,children:[s.jsxs("section",{className:ce.selectionColumn,children:[s.jsx(Nk,{title:"Spieler A",slot:"playerA",selectedPlayer:c,excludeId:a,onSelect:C,onClear:N,serverFilter:e,onServerChange:L}),s.jsx(Nk,{title:"Spieler B",slot:"playerB",selectedPlayer:h,excludeId:r,onSelect:C,onClear:N,serverFilter:e,onServerChange:L})]}),s.jsxs("section",{className:ce.comparisonColumn,children:[s.jsxs("div",{className:ce.comparisonCard,children:[s.jsxs("div",{className:ce.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ce.kicker,children:"Vergleich"}),s.jsx("h2",{className:ce.sectionTitle,children:"Kennzahlen"})]}),F&&s.jsxs("span",{className:ce.diffBadge,children:["Delta Level: ",Ch.format(c.level-h.level)]})]}),F?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ce.metricGrid,children:[s.jsx(kk,{label:"Level",aValue:c.level,bValue:h.level}),s.jsx(kk,{label:"Scrapbook (%)",aValue:c.scrapbookPct,bValue:h.scrapbookPct,isDecimal:!0}),s.jsx(TJ,{playerA:c,playerB:h,countdownA:D,countdownB:A,activePopover:b,onToggle:E})]}),s.jsx(AJ,{playerA:c,playerB:h})]}):s.jsx("div",{className:ce.emptyState,children:s.jsx("p",{children:"Waehle zwei Spieler aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:ce.supportPanels,children:[s.jsx(EJ,{}),s.jsx(IJ,{})]})]})]})]}),!t&&s.jsx("div",{className:`${ce.sheetOverlay} ${S?ce.sheetOpen:""}`,children:s.jsxs("div",{className:ce.sheet,role:"dialog","aria-modal":"true",ref:P,children:[s.jsxs("header",{className:ce.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:ce.clearButton,onClick:w,children:"Schliessen"})]}),s.jsx("div",{className:ce.sheetBody,children:s.jsxs("label",{className:ce.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ce.select,value:e,onChange:I=>L(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),b1.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]})})]})}function Nk({title:t,slot:e,selectedPlayer:n,excludeId:r,onSelect:i,onClear:a,serverFilter:l,onServerChange:c}){const[u,h]=X.useState(""),m=Qd(u,300);X.useEffect(()=>{h("")},[n,l]);const{results:f,loading:y}=RJ(m,l,r);return s.jsxs("article",{className:ce.selectionCard,children:[s.jsxs("div",{className:ce.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ce.slotLabel,children:t}),s.jsx("p",{className:ce.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:ce.clearButton,onClick:()=>a(e),children:"Reset"})]}),s.jsxs("div",{className:ce.slotBody,children:[s.jsxs("label",{className:ce.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ce.select,value:l,onChange:b=>c(b.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),b1.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsxs("label",{className:ce.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:ce.searchInput,placeholder:"Spielernamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),s.jsxs("div",{className:ce.resultList,role:"list",children:[y&&s.jsx("div",{className:ce.emptyResult,children:"Lade..."}),!y&&f.length===0&&s.jsx("div",{className:ce.emptyResult,children:"Kein Spieler gefunden."}),!y&&f.map(b=>s.jsxs("div",{className:ce.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:ce.resultName,children:b.name}),s.jsxs("p",{className:ce.resultMeta,children:[b.server," - Level ",b.level," - ",b.className]})]}),s.jsx("button",{type:"button",className:ce.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),n&&s.jsxs("div",{className:ce.selectedCard,children:[s.jsx("p",{className:ce.selectedName,children:n.name}),s.jsxs("p",{className:ce.selectedMeta,children:[n.server," - Level ",n.level," - ",n.className," -"," ",n.guildName||"ohne Gilde"]}),s.jsx("p",{className:ce.selectedTagline,children:n.tagline})]})]})]})}function kk({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=c=>r?c.toFixed(1).replace(".",","):Ch.format(c),a=e-n;let l="gleich";if(a!==0){const c=r?Math.abs(a).toFixed(1).replace(".",","):Ch.format(Math.abs(a));l=a>0?`+${c}`:`-${c}`}return s.jsxs("div",{className:ce.metricCard,children:[s.jsx("p",{className:ce.metricLabel,children:t}),s.jsxs("div",{className:ce.metricValues,children:[s.jsx("span",{"aria-label":"Spieler A",children:i(e)}),s.jsx("span",{className:ce.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Spieler B",children:i(n)})]}),s.jsx("p",{className:ce.metricDelta,children:l})]})}function TJ({playerA:t,playerB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:a}){return s.jsxs("div",{className:ce.metricCard,children:[s.jsx("p",{className:ce.metricLabel,children:"Freshness"}),s.jsx("div",{className:ce.freshnessRow,children:[t,e].map(l=>{const c=l.id===t.id?n:r,u=`fresh-${l.id}`,h=i===u;return s.jsxs("div",{className:ce.freshnessItem,children:[s.jsxs("button",{type:"button",className:ce.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[s.jsx("span",{children:l.freshness.toUpperCase()}),s.jsx("small",{children:Nm(l.lastScanAt)})]}),h&&s.jsxs("div",{className:ce.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:ce.popoverTitle,children:l.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:P_[l.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:_a(l.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[_a(l.nextUpdateAt)," (",c,")"]})]})]})]})]},l.id)})})]})}function AJ({playerA:t,playerB:e}){const n=X.useMemo(()=>Array.from(new Set([...t.stats,...e.stats].map(i=>i.label))),[t.stats,e.stats]),r=i=>{const a=i.stats.length?i.stats:[{label:"Keine Daten",percent:100}];return s.jsxs("div",{className:ce.classColumn,children:[s.jsx("h3",{children:i.name}),s.jsx("div",{className:ce.classBar,"aria-label":`Statverteilung ${i.name}`,children:a.map(l=>s.jsxs("span",{style:{width:`${l.percent}%`},className:ce.classSlice,children:[s.jsx("small",{children:l.label}),s.jsxs("strong",{children:[l.percent,"%"]})]},`${i.id}-${l.label}`))})]})};return s.jsxs("div",{className:ce.classCard,children:[s.jsx("p",{className:ce.metricLabel,children:"Stat-Verteilung"}),s.jsx("div",{className:ce.classGrid,children:[t,e].map(r)}),n.length>0&&s.jsx("ul",{className:ce.classLegend,children:n.map(i=>s.jsx("li",{children:i},i))})]})}function EJ(){const t=["Build, Edelsteine und Attribute nebeneinander legen","Buff-Food und Potions fuer beide Spieler abstimmen","Scrapbook- und Sammelstatus pruefen","Letzten Scan aktualisieren und Screens hochladen","Server- oder Account-Konflikte frueh klaeren"];return s.jsxs("section",{className:ce.checklistCard,children:[s.jsx("h3",{children:"Vor dem Vergleich pruefen"}),s.jsx("ul",{className:ce.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function IJ(){return s.jsxs("section",{className:ce.infoCardExtended,children:[s.jsx("h3",{children:"Matchup-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/players/matchups/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:ce.infoNote,children:"Sammle jetzt schon Vergleichsmetriken (DPS, PvP, Arena), damit die spaetere Automatik sie direkt uebernehmen kann."}),s.jsx("button",{type:"button",className:ce.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function RJ(t,e,n){const[r,i]=X.useState([]),[a,l]=X.useState(!1);return X.useEffect(()=>{const c=t.trim();if(c.length===0){i([]),l(!1);return}let u=!1;async function h(){l(!0);try{const m=c.toLowerCase(),f=fm(ft,"latest"),y=await gn(nn(f,Br("nameFold"),Vi(m),Ui(m+""),mn(15))),b=await gn(nn(f,cl("nameNgrams","array-contains",m),mn(15))),_=new Set,S=[],k=P=>{var K,q,se,ne,z,Y,le,ae,he,ye,Ie,Z,fe,oe,_e,ve,Ee,Ve,ze,st,at,mt,Ut,je,Je,Ke,yt,kt,Be;const D=P.data(),v=(K=P.ref.parent)==null?void 0:K.parent,w=v==null?void 0:v.parent;if((w==null?void 0:w.id)!=="players")return;const C=(se=(q=v==null?void 0:v.id)!=null?q:D.playerIdentifier)!=null?se:P.id;if(!C||_.has(C)||n&&C===n)return;const N=(Y=(z=D.name)!=null?z:(ne=D.values)==null?void 0:ne.Name)!=null?Y:"Unbekannter Spieler",E=(he=(ae=D.server)!=null?ae:(le=D.values)==null?void 0:le.Server)!=null?he:"Unknown";if(e!=="all"&&E!==e)return;const F=(oe=(fe=(Ie=D.className)!=null?Ie:(ye=D.values)==null?void 0:ye.Class)!=null?fe:(Z=D.values)==null?void 0:Z.Class)!=null?oe:"Unbekannte Klasse",I=(Ee=(ve=D.guildName)!=null?ve:(_e=D.values)==null?void 0:_e.Guild)!=null?Ee:"",B=qo(D.level)||qo((Ve=D.values)==null?void 0:Ve.Level)||qo((ze=D.values)==null?void 0:ze.Level),$=qo(D.scrapbookPct)||qo((st=D.values)==null?void 0:st["Album %"])||qo((at=D.values)==null?void 0:at.AlbumPct)||qo((mt=D.values)==null?void 0:mt["Scrapbook %"]),U=(Je=(je=D.updatedAt)!=null?je:(Ut=D.values)==null?void 0:Ut.UpdatedAt)!=null?Je:D.timestamp?new Date(D.timestamp*1e3).toISOString():new Date().toISOString(),H=(Ke=D.nextUpdateAt)!=null?Ke:LJ(12),W=PJ((yt=D.values)!=null?yt:D.stats);_.add(C),S.push({id:C,name:N,tagline:(kt=D.tagline)!=null?kt:I?`Mitglied in ${I}`:F,server:E,className:F,guildName:I,level:B||0,scrapbookPct:$,lastScanAt:U,updatedAt:U,nextUpdateAt:H,freshness:(Be=D.freshness)!=null?Be:"unknown",stats:W})};y.forEach(k),b.forEach(k),u||(S.sort((P,D)=>P.name.localeCompare(D.name)),i(S))}catch(m){console.error("[Players Compare] player search failed",m),u||i([])}finally{u||l(!1)}}return h(),()=>{u=!0}},[t,e,n]),{results:r,loading:a}}const Ck={Strength:"Staerke",Dexterity:"Geschick",Intelligence:"Intelligenz",Constitution:"Konstitution"};function PJ(t={}){const e=Object.keys(Ck).map(r=>{var a;const i=(a=t==null?void 0:t[r])!=null?a:t==null?void 0:t[r.toLowerCase()];return{label:Ck[r],value:qo(i)}}).filter(r=>r.value>0),n=e.reduce((r,i)=>r+i.value,0);return n?e.map(r=>({label:r.label,percent:Math.max(1,Math.round(r.value/n*100))})):[]}function qo(t){const e=Number(t);return Number.isFinite(e)?e:0}function LJ(t){const e=new Date;return e.setHours(e.getHours()+t),e.toISOString()}function DJ(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Tk,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx(Tk,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function Tk({to:t,title:e,desc:n}){return s.jsxs(xs,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function MJ(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function FJ(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function BJ(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const $J={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function OJ(t){var n;const e=BJ(t);return(n=$J[e])!=null?n:null}function VJ(t,e=128){var a,l;const n=OJ(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(a=xc(n))!=null?a:null,i=r&&(l=Ur(r,e))!=null?l:null;return{id:n,url:r,thumb:i,fallback:""}}function Jh(t,e=128){return VJ(t,e).thumb}const Sc={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},_x=(t,e)=>({...t||{},...e||{}}),Ak=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},UJ=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),On=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function zJ(t){var y,b,_,S,k,P,D,A;const e=On(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=On(t==null?void 0:t.baseMain),r=On(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const i=(t==null?void 0:t.baseStats)||{},a=On(i==null?void 0:i.sumBaseTotal);if(a!=null)return a;const l=On(i==null?void 0:i.main),c=On(i==null?void 0:i.con);if(l!=null&&c!=null)return l+c;const u=(t==null?void 0:t.values)||{},h=(b=(y=On(u==null?void 0:u.SumBaseTotal))!=null?y:On(u==null?void 0:u.sumBaseTotal))!=null?b:On(u==null?void 0:u["Sum Base Total"]);if(h!=null)return h;const m=(k=(S=(_=On(u==null?void 0:u.Main))!=null?_:On(u==null?void 0:u.main))!=null?S:On(u==null?void 0:u.BaseMain))!=null?k:On(u==null?void 0:u.baseMain),f=(A=(D=(P=On(u==null?void 0:u.Con))!=null?P:On(u==null?void 0:u.con))!=null?D:On(u==null?void 0:u.ConBase))!=null?A:On(u==null?void 0:u.conBase);return m!=null&&f!=null?m+f:null}function Gl(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function HJ(t,e=56){if(!t)return;const n=Gl(t),r=Rn.find(i=>Gl(i.label)===n||Gl(i.key)===n)||Rn.find(i=>Gl(i.label).startsWith(n)||n.startsWith(Gl(i.label))||Gl(i.key).startsWith(n)||n.startsWith(Gl(i.key)));return r?Ur(r.iconUrl,e):void 0}function GJ({name:t,memberClass:e,online:n,theme:r=Sc}){const i=t.split("_").map(l=>l[0]).join("").slice(0,2).toUpperCase(),a=HJ(e,56);return s.jsxs("div",{className:"relative",children:[a?s.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:l=>{const c=l.currentTarget.parentElement;c&&(c.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const WJ={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},qJ=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(WJ[t]||""),children:t});function Ek(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function KJ(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function uf({label:t,value:e,theme:n=Sc}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function QJ({member:t,theme:e,actions:n,extraKPIs:r}){var m,f,y,b,_,S,k,P,D;if(!t)return null;const i=_x(Sc,e),a=t,l=Ek((f=(m=a.guildJoined)!=null?m:a.joinedAt)!=null?f:null,(y=a.guildJoinedMs)!=null?y:null),c=Ek((b=a.lastActivity)!=null?b:null,(_=a.lastActivityMs)!=null?_:typeof a.lastOnline=="number"?a.lastOnline:null),u=KJ(a),h=typeof a.totalStats=="number"?a.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(GJ,{name:t.name,memberClass:(P=(k=a.class)!=null?k:(S=a.values)==null?void 0:S.Class)!=null?P:null,online:a.online,theme:i})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),a.role&&s.jsx(qJ,{role:a.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[a.class||"",a.server?`  ${a.server}`:"","  Joined ",l,"  Last ",c]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(uf,{label:"Level",value:(D=a.level)!=null?D:"",theme:i}),typeof a.scrapbook=="number"&&s.jsx(uf,{label:"Scrapbook",value:`${a.scrapbook}%`,theme:i}),s.jsx(uf,{label:"Sum Base",value:u,theme:i}),s.jsx(uf,{label:"Total Stats",value:h,theme:i}),r]})]})}function Wl(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function XJ(t,e=40){if(!t)return;const n=Wl(t);let r=Rn.find(i=>Wl(i.label)===n||Wl(i.key)===n)||Rn.find(i=>Wl(i.label).startsWith(n)||n.startsWith(Wl(i.label))||Wl(i.key).startsWith(n)||n.startsWith(Wl(i.key)));return r?Ur(r.iconUrl,e):void 0}function YJ({name:t,memberClass:e,online:n,theme:r=Sc}){const i=t.split("_").map(l=>l[0]).join("").slice(0,2).toUpperCase(),a=XJ(e,40);return s.jsxs("div",{className:"relative",children:[a?s.jsx("img",{src:a,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:l=>{const c=l.currentTarget.parentElement;c&&(c.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const JJ=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function ZJ({rows:t,selId:e,onSelect:n,rightCols:r,theme:i}){const a=_x(Sc,i);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:a.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:a.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:a.header}}),t.map((l,c)=>{var u,h,m;return s.jsxs("button",{onClick:()=>n(l.id),"aria-pressed":l.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(c%2?"bg-slate-800/10":"")+(l.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx(YJ,{name:l.name,memberClass:(m=(h=l.class)!=null?h:(u=l.values)==null?void 0:u.Class)!=null?m:null,online:l.online,theme:a}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:l.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:a.sub},children:[l.class,l.server?`  ${l.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(JJ,{role:l.role})}),r(l)]},l.id)})]})]})}function ql(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function eZ(t,e=40){if(!t)return;const n=ql(t);let r=Rn.find(i=>ql(i.label)===n||ql(i.key)===n)||Rn.find(i=>ql(i.label).startsWith(n)||n.startsWith(ql(i.label))||ql(i.key).startsWith(n)||n.startsWith(ql(i.key)));return r?Ur(r.iconUrl,e):void 0}function tZ({rows:t,selId:e,onSelect:n,footer:r,theme:i}){const a=_x(Sc,i);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(l=>{var y,b,_,S,k,P,D,A,v;const c=l,u=l.name.slice(0,2).toUpperCase(),h=eZ((_=(b=c.class)!=null?b:(y=c.values)==null?void 0:y.Class)!=null?_:null,40),m=typeof c.level=="number"?c.level:typeof((S=c.values)==null?void 0:S.Level)=="number"?c.values.Level:"",f=typeof c.scrapbook=="number"?`${c.scrapbook}%`:typeof((k=c.values)==null?void 0:k.Scrapbook)=="number"?`${c.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(l.id),"aria-pressed":l.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(l.id===e?" ring-1":""),style:{borderColor:a.border,background:`linear-gradient(180deg, ${a.tile} 0%, ${a.tableBg} 100%)`,boxShadow:l.id===e?`0 12px 30px -12px ${a.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h?s.jsx("img",{src:h,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:a.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:w=>{const L=w.currentTarget.parentElement;L&&(L.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${a.tile};color:${a.title};border-color:${a.border}">${u}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:a.tile,color:a.title,borderColor:a.border},children:u}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:a.title},children:l.name}),s.jsxs("div",{className:"text-xs",style:{color:a.sub},children:[(A=(D=c.class)!=null?D:(P=c.values)==null?void 0:P.Class)!=null?A:"",c.server?`  ${c.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:a.border},children:(v=c.role)!=null?v:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:a.title},children:m})]}),f&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:a.title},children:f})]})]}),s.jsx("div",{className:"mt-3",children:r(l)})]},l.id)})})}const sZ=t=>{if(!t)return;const e={};return["main","con","sumBaseTotal"].forEach(n=>{const r=t[n];typeof r=="number"&&(e[n]=r)}),Object.keys(e).length?e:void 0};function nZ({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:a,onSelect:l,renderActions:c,renderKPIs:u,theme:h}){var F;const m=T.useMemo(()=>_x(Sc,h),[h]),[f,y]=T.useState(e),[b,_]=T.useState(n),[S,k]=T.useState(r.key),[P,D]=T.useState(r.dir),[A,v]=T.useState((F=t[0])==null?void 0:F.id),w=a!=null?a:A,L=I=>{a||v(I);const B=t.find($=>$.id===I);B&&l&&l(B)},C=T.useMemo(()=>{const I=b.trim().toLowerCase();return I?t.filter(B=>B.name.toLowerCase().includes(I)||B.class.toLowerCase().includes(I)||String(B.role).toLowerCase().includes(I)):t},[t,b]),N=T.useMemo(()=>{const I=P==="asc"?1:-1,B=$=>{var U,H;switch(S){case"sumBaseStats":{const W=zJ($);return W==null?-1/0:W}case"totalStats":return(H=(U=$.totalStats)!=null?U:UJ(sZ($.baseStats)))!=null?H:-1/0;default:return $[S]}};return[...C].sort(($,U)=>{const H=B($),W=B(U);return H===W?0:H>W?I:-I})},[C,S,P]),E=T.useMemo(()=>N.find(I=>I.id===w)||N[0],[N,w]);return s.jsxs("div",{children:[i&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:m.tile,borderColor:m.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:m.sub},children:"View"}),s.jsxs("select",{value:f,onChange:I=>y(I.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:m.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:m.sub},children:"Search"}),s.jsx("input",{value:b,onChange:I=>_(I.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:m.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:m.sub},children:"Sort by"}),s.jsxs("select",{value:String(S),onChange:I=>k(I.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:m.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>D(I=>I==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:m.border},children:P==="asc"?"":""})]})]}),s.jsx(QJ,{member:E,actions:E&&(c?c(E):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:m.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:m.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:m.border},children:"Message"})]})),extraKPIs:E&&u?u(E):null,theme:m}),f==="list"?s.jsx(ZJ,{rows:N,selId:w,onSelect:L,theme:m,rightCols:I=>{var B;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:(B=I.level)!=null?B:""}),s.jsx("div",{className:"text-right text-xs",style:{color:m.sub},children:Ak(I.lastOnline)})]})}}):s.jsx(tZ,{rows:N,selId:w,onSelect:L,theme:m,footer:I=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:m.sub},children:s.jsxs("span",{children:["Last ",Ak(I.lastOnline)]})})})]})}function rZ({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:a,totalPower:l,activity7d:c,topClasses:u,tickerItems:h,href:m,onClick:f,className:y}){const b=!!JE(),_=T.useMemo(()=>{if(!r)return null;const B=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(B/6e4));if($<60)return`${$}m`;const U=Math.floor($/60);return U<24?`${U}h`:`${Math.floor(U/24)}d`},[r]),S=hh(0),k=hh(0),P=hh(0),D=hh(0),A=tf(S,B=>Math.round(B).toString()),v=tf(k,B=>Math.round(B).toString()),w=tf(P,B=>Math.round(B).toLocaleString()),L=tf(D,B=>`${Math.round(B)}%`);T.useEffect(()=>{const B=b?0:.6;if(B===0){S.set(i),k.set(a),P.set(l!=null?l:0),D.set(c!=null?c:0);return}const $=[sf(S,i,{duration:B}),sf(k,a,{duration:B}),sf(P,l!=null?l:0,{duration:B}),sf(D,c!=null?c:0,{duration:B})];return()=>$.forEach(U=>U.stop())},[i,a,l,c,b]);const C=T.useRef(null);T.useEffect(()=>{if(b||!C.current)return;const B=C.current;let $=0,U=0;const H=()=>{U+=.016;const W=U*14%140-20;B.style.setProperty("--s-x",`${W}%`),$=requestAnimationFrame(H)};return $=requestAnimationFrame(H),()=>cancelAnimationFrame($)},[b]);const N={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},E=100,F=m?"a":"div",I=m?{href:m}:{onClick:f};return s.jsxs(F,{...I,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",y!=null?y:""].join(" "),style:{background:`linear-gradient(135deg, ${N.bgFrom}, ${N.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:C,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),_&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:N.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${N.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",_]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${E}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${E}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${E}deg, transparent 0 46px, ${N.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:N.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:N.soft,border:`1px solid ${N.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(hf,{label:"Members",value:A}),s.jsx(hf,{label:" Level",value:v}),s.jsx(hf,{label:"Total Power",value:w}),typeof c=="number"&&s.jsx(hf,{label:"Activity (7d)",value:L})]}),u!=null&&u.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:N.soft},children:"Top Classes"}),u.slice(0,3).map(B=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${N.border}`,color:N.text},children:[B.iconUrl?s.jsx("img",{src:B.iconUrl,alt:B.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:N.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[B.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round(B.percent),"%)"]})]})]},B.key))]}):null]})]})]}),h!=null&&h.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${N.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(iZ,{items:h,muted:b,color:N.soft})}):null]})}function hf({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(XE.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function iZ({items:t,muted:e,color:n}){const r=T.useRef(null);return T.useEffect(()=>{if(e||!r.current)return;const i=r.current;let a=0,l=0;const c=()=>{a+=.016;const u=a*40%(i.scrollWidth+60);i.style.transform=`translateX(${-u}px)`,l=requestAnimationFrame(c)};return l=requestAnimationFrame(c),()=>cancelAnimationFrame(l)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((i,a)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:i},a))})})}const aZ="_wrap_q5gkc_53",oZ="_banner_q5gkc_59",lZ="_bannerRowTop_q5gkc_61",cZ="_bannerStripe_q5gkc_71",dZ="_bannerTitle_q5gkc_79",uZ="_bannerRowBottom_q5gkc_93",hZ="_bannerSub_q5gkc_95",mZ="_monthPickerWrap_q5gkc_101",pZ="_monthPickerLabel_q5gkc_113",fZ="_monthPicker_q5gkc_101",gZ="_monthButton_q5gkc_131",xZ="_monthButtonText_q5gkc_159",vZ="_chev_q5gkc_161",yZ="_monthList_q5gkc_165",bZ="_monthOption_q5gkc_195",_Z="_monthBadge_q5gkc_221",wZ="_gridRow_q5gkc_237",jZ="_gridRowBottom_q5gkc_239",SZ="_sideImage_q5gkc_253",NZ="_sideImagePh_q5gkc_271",kZ="_emblemPanel_q5gkc_275",CZ="_emblemFrame_q5gkc_295",TZ="_emblemImg_q5gkc_297",AZ="_emblemPlaceholder_q5gkc_299",EZ="_emblemShimmer_q5gkc_307",IZ="_emblemCaption_q5gkc_315",RZ="_card_q5gkc_319",PZ="_cardHeader_q5gkc_331",LZ="_cardTitle_q5gkc_339",DZ="_cardSubtitle_q5gkc_341",MZ="_headerRight_q5gkc_343",FZ="_cardBody_q5gkc_345",BZ="_tableWrap_q5gkc_349",$Z="_tableTitle_q5gkc_351",OZ="_table_q5gkc_349",VZ="_th_q5gkc_355",UZ="_td_q5gkc_355",zZ="_tdEmpty_q5gkc_365",HZ="_sectionDivider_q5gkc_375",GZ="_sectionStripe_q5gkc_389",WZ="_sectionTitle_q5gkc_397",Pt={wrap:aZ,banner:oZ,bannerRowTop:lZ,bannerStripe:cZ,bannerTitle:dZ,bannerRowBottom:uZ,bannerSub:hZ,monthPickerWrap:mZ,monthPickerLabel:pZ,monthPicker:fZ,monthButton:gZ,monthButtonText:xZ,chev:vZ,monthList:yZ,monthOption:bZ,monthBadge:_Z,gridRow:wZ,gridRowBottom:jZ,sideImage:SZ,sideImagePh:NZ,emblemPanel:kZ,emblemFrame:CZ,emblemImg:TZ,emblemPlaceholder:AZ,emblemShimmer:EZ,emblemCaption:IZ,card:RZ,cardHeader:PZ,cardTitle:LZ,cardSubtitle:DZ,headerRight:MZ,cardBody:FZ,tableWrap:BZ,tableTitle:$Z,table:OZ,th:VZ,td:UZ,tdEmpty:zZ,sectionDivider:HZ,sectionStripe:GZ,sectionTitle:WZ};function qZ(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function Ik(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const Rk=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:Pt.card,children:[(t||e||r)&&s.jsxs("header",{className:Pt.cardHeader,children:[s.jsxs("div",{className:Pt.headerTitles,children:[t&&s.jsx("h3",{className:Pt.cardTitle,children:t}),e&&s.jsx("div",{className:Pt.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:Pt.headerRight,children:r})]}),s.jsx("div",{className:Pt.cardBody,children:n})]}),Pk=({block:t})=>{var r,i;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:Pt.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&s.jsx("div",{className:Pt.tableTitle,children:t.title}),s.jsxs("table",{className:Pt.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(a=>s.jsx("th",{className:Pt.th,style:{width:a.width},children:a.label},a.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:Pt.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((a,l)=>{var c;return s.jsx("tr",{children:e.map(u=>{var y;const h=a[u.key],m=typeof h=="number"||typeof h=="string"?h:"",f=u.format==="num"?qZ(m):m;return s.jsx("td",{className:Pt.td,"data-align":(y=u.align)!=null?y:"left",children:u.render?u.render(a):f},u.key)})},(c=a.id)!=null?c:l)})})]}),t.footer&&s.jsx("div",{className:Pt.tableFooter,children:t.footer})]})},KZ=(t,e)=>{T.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},QZ=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var m;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:Pt.bannerSub,children:r!=null?r:""});const a=T.useRef(null),[l,c]=T.useState(!1);KZ(a,()=>c(!1));const u=t.find(f=>f.key===e),h=u?`${Ik(u.fromISO)}${Ik(u.toISO)}  ${u.daysSpan}d${u.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:Pt.monthPickerWrap,children:[s.jsx("div",{className:Pt.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:Pt.monthPicker,ref:a,children:[s.jsxs("button",{type:"button",className:Pt.monthButton,onClick:()=>c(f=>!f),"aria-haspopup":"listbox","aria-expanded":l,children:[s.jsx("span",{className:Pt.monthButtonText,children:(m=u==null?void 0:u.label)!=null?m:""}),s.jsx("svg",{className:Pt.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),l&&s.jsx("ul",{className:Pt.monthList,role:"listbox",children:t.map(f=>s.jsx("li",{children:s.jsx("button",{type:"button",className:Pt.monthOption,onClick:()=>{c(!1),n==null||n(f.key)},role:"option","aria-selected":f.key===e,children:f.label})},f.key))})]}),h&&s.jsx("span",{className:Pt.monthBadge,children:h})]})},XZ=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>s.jsxs("div",{className:Pt.banner,children:[s.jsxs("div",{className:Pt.bannerRowTop,children:[s.jsx("div",{className:Pt.bannerStripe}),s.jsx("div",{className:Pt.bannerTitle,children:t}),s.jsx("div",{className:Pt.bannerStripe})]}),s.jsx("div",{className:Pt.bannerRowBottom,children:s.jsx(QZ,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),YZ=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:Pt.emblemPanel,children:[s.jsxs("div",{className:Pt.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:Pt.emblemImg}):s.jsx("div",{className:Pt.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:Pt.emblemShimmer})]}),e&&s.jsx("div",{className:Pt.emblemCaption,children:e})]}),Lk=({imgUrl:t,alt:e})=>s.jsx("div",{className:Pt.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:Pt.sideImagePh,children:"Image"})}),Zy=({children:t,className:e})=>s.jsx("div",{className:`${Pt.gridRow} ${e!=null?e:""}`,children:t}),JZ=({children:t})=>s.jsxs("div",{className:Pt.sectionDivider,children:[s.jsx("div",{className:Pt.sectionStripe}),s.jsx("div",{className:Pt.sectionTitle,children:t}),s.jsx("div",{className:Pt.sectionStripe})]}),ZZ=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:a}=t;return s.jsxs("div",{className:Pt.wrap,children:[s.jsx(XZ,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(Zy,{children:[s.jsx(Lk,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx(YZ,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(Lk,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(Zy,{children:i.map((l,c)=>s.jsx(Rk,{title:l.title,subtitle:l.subtitle,children:s.jsx(Pk,{block:l})},c))}),s.jsx(JZ,{children:"Guild Overview"}),s.jsx(Zy,{className:Pt.gridRowBottom,children:a.map((l,c)=>s.jsx(Rk,{title:l.title,subtitle:l.subtitle,children:s.jsx(Pk,{block:l})},c))})]})},eee=({guildId:t,guildName:e,guildServer:n})=>{const[r,i]=T.useState(!0),[a,l]=T.useState(null),[c,u]=T.useState(void 0),h=T.useRef({}),[m,f]=T.useState(()=>mf(e,n));T.useEffect(()=>{let b=!1;async function _(){var S,k,P,D,A;i(!0);try{const v=xl(ft,`guilds/${t}/history_monthly`),w=await gn(v),L=[];for(const E of w.docs){const F=E.id,I=E.data();if(!I)continue;h.current[F]=I;const B=(S=I==null?void 0:I.meta)!=null?S:{},$=B.fromISO||B.baselineISO||B.firstISO||"",U=B.toISO||B.latestISO||B.nowISO||"",H=Number((k=B.daysSpan)!=null?k:Math.floor((+new Date(U)-+new Date($))/864e5))||0,W=!!((D=(P=I==null?void 0:I.status)==null?void 0:P.available)!=null?D:$&&U&&H<=40),K=B.label||new Date(F+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});L.push({key:F,label:K,fromISO:$||new Date(F+"-01").toISOString(),toISO:U||new Date(F+"-28").toISOString(),daysSpan:H,available:W,reason:W||(A=I==null?void 0:I.status)==null?void 0:A.reason})}if(L.sort((E,F)=>E.key<F.key?1:-1),b)return;if(L.length===0){l(null),u(void 0),f(mf(e,n)),i(!1);return}l(L);const C=L[0].key;u(C);const N=h.current[C];f(Dk(N,{guildName:e,guildServer:n,currentMonthKey:C,months:L}))}catch(v){console.error(v),l(null),u(void 0),f(mf(e,n))}finally{b||i(!1)}}return _(),()=>{b=!0}},[t,e,n]);async function y(b){u(b);let _=h.current[b];if(!_)try{const S=Xt(ft,`guilds/${t}/history_monthly/${b}`),k=await rn(S);k.exists()?(_=k.data(),h.current[b]=_):_=null}catch(S){console.error(S),_=null}if(!_){f(mf(e,n,{currentMonthKey:b,months:a!=null?a:void 0}));return}f(Dk(_,{guildName:e,guildServer:n,currentMonthKey:b,months:a!=null?a:void 0}))}return s.jsx(ZZ,{data:m,onMonthChange:y})};function mf(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:Jh(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[Kl("Most Base Stats gained",e?`Server ${e}`:void 0),Kl("Sum Base Stats"),Kl("Highest Base Stats")],tablesBottom:[Kl("Main & Con"),Kl("Sum Base Stats"),Kl("Highest Base Stats"),Kl("Highest Total Stats")]}}function Kl(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function Dk(t,e){var l,c,u,h,m,f,y,b;(l=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:Jh(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((c=t==null?void 0:t.mostBaseGained)!=null?c:[]).map((_,S)=>{var k,P,D,A,v,w,L,C;return{id:(k=_.playerId)!=null?k:S,rank:S+1,name:(P=_.name)!=null?P:"-",level:(A=(D=_.levelLatest)!=null?D:_.level)!=null?A:null,base:(w=(v=_.baseLatest)!=null?v:_.base)!=null?w:null,delta:(C=(L=_.baseDelta)!=null?L:_.delta)!=null?C:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((u=t==null?void 0:t.sumBaseStats)!=null?u:[]).map((_,S)=>{var k,P,D,A,v,w,L;return{id:(k=_.playerId)!=null?k:S,rank:S+1,name:(P=_.name)!=null?P:"-",base:(D=_.base)!=null?D:null,stam:(v=(A=_.stamDelta)!=null?A:_.staminaDelta)!=null?v:null,sho:(L=(w=_.shoDelta)!=null?w:_.shootingDelta)!=null?L:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((h=t==null?void 0:t.highestBaseStats)!=null?h:[]).map((_,S)=>{var k,P,D,A,v;return{id:(k=_.playerId)!=null?k:S,rank:S+1,name:(P=_.name)!=null?P:"-",stats:(A=(D=_.stats)!=null?D:_.base)!=null?A:null,delta:(v=_.delta)!=null?v:null}})}],a=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((m=t==null?void 0:t.mainAndCon)!=null?m:[]).map((_,S)=>{var k,P,D,A,v,w;return{id:(k=_.playerId)!=null?k:S,rank:S+1,name:(P=_.name)!=null?P:"-",class:(A=(D=_.class)!=null?D:_.className)!=null?A:"",stats:(v=_.stats)!=null?v:null,delta:(w=_.delta)!=null?w:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((f=t==null?void 0:t.sumBaseStats)!=null?f:[]).map((_,S)=>{var k,P,D,A,v;return{id:(k=_.playerId)!=null?k:S,rank:S+1,name:(P=_.name)!=null?P:"-",base:(D=_.base)!=null?D:null,stam:(A=_.stamDelta)!=null?A:null,sho:(v=_.shoDelta)!=null?v:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((y=t==null?void 0:t.highestBaseStats)!=null?y:[]).map((_,S)=>{var k,P,D,A;return{id:(k=_.playerId)!=null?k:S,rank:S+1,name:(P=_.name)!=null?P:"-",stats:(D=_.stats)!=null?D:null,delta:(A=_.delta)!=null?A:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((b=t==null?void 0:t.highestTotalStats)!=null?b:[]).map((_,S)=>{var k,P,D,A;return{id:(k=_.playerId)!=null?k:S,rank:S+1,name:(P=_.name)!=null?P:"-",total:(D=_.total)!=null?D:null,delta:(A=_.delta)!=null?A:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:a}}const tee="_root_r1uj3_5",see="_sectionDivider_r1uj3_17",nee="_sectionStripe_r1uj3_31",ree="_sectionTitle_r1uj3_33",Qu={root:tee,sectionDivider:see,sectionStripe:nee,sectionTitle:ree},iee="_root_4jywc_1",aee="_accent_4jywc_31",Mk={root:iee,default:"_default_4jywc_29",accent:aee};function pl({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${Mk.root} ${Mk[e]} ${n!=null?n:""}`.trim(),children:t})}const oee="_card_vvv3s_3",lee="_wrap_vvv3s_31",cee="_divider_vvv3s_45",dee="_rows_vvv3s_77",uee="_row_vvv3s_77",hee="_left_vvv3s_109",mee="_label_vvv3s_111",pee="_avgHead_vvv3s_113",fee="_avgNum_vvv3s_115",gee="_top3_vvv3s_121",xee="_chip_vvv3s_123",vee="_badge_vvv3s_151",yee="_name_vvv3s_159",bee="_score_vvv3s_161",_ee="_headerSpacer_vvv3s_167",yr={card:oee,wrap:lee,divider:cee,rows:dee,row:uee,left:hee,label:mee,avgHead:pee,avgNum:fee,top3:gee,chip:xee,badge:vee,name:yee,score:bee,headerSpacer:_ee};function wee({name:t,value:e,classLabel:n,colors:r}){const i=Wb(n,64);return s.jsxs("div",{className:yr.chip,children:[s.jsx("span",{className:yr.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:yr.name,children:t!=null?t:""}),s.jsx("span",{className:yr.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function jee({snapshot:t,colors:e,title:n="Base Stats"}){var l;const r=(l=t==null?void 0:t.members)!=null?l:[],i=c=>[...r].filter(u=>typeof u[c]=="number").sort((u,h)=>{var m,f;return((m=h[c])!=null?m:0)-((f=u[c])!=null?f:0)}).slice(0,3),a=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:yr.card,children:[s.jsx(pl,{text:n}),s.jsx("div",{className:yr.headerSpacer}),s.jsxs("div",{className:yr.wrap,children:[s.jsx("div",{className:yr.divider}),s.jsx("div",{className:yr.rows,children:a.map((c,u)=>s.jsxs("div",{className:yr.row,children:[s.jsxs("div",{className:yr.left,children:[s.jsx("div",{className:yr.label,children:c.label}),s.jsx("div",{className:yr.avgHead,children:""}),s.jsx("div",{className:yr.avgNum,style:{color:e.title},children:typeof c.avg=="number"?c.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:yr.top3,children:c.list.map((h,m)=>s.jsx(wee,{name:h.name,value:h[c.key],classLabel:h.class,colors:e},m))})]},u))})]})]})}const See="_card_1enwc_1",Nee="_wrap_1enwc_1",kee="_divider_1enwc_1",Cee="_rows_1enwc_1",Tee="_row_1enwc_1",Aee="_left_1enwc_1",Eee="_label_1enwc_1",Iee="_avgHead_1enwc_1",Ree="_avgNum_1enwc_1",Pee="_top3_1enwc_1",Lee="_chip_1enwc_1",Dee="_badge_1enwc_1",Mee="_name_1enwc_1",Fee="_score_1enwc_1",Bee="_headerSpacer_1enwc_1",br={card:See,wrap:Nee,divider:kee,rows:Cee,row:Tee,left:Aee,label:Eee,avgHead:Iee,avgNum:Ree,top3:Pee,chip:Lee,badge:Dee,name:Mee,score:Fee,headerSpacer:Bee};function $ee({name:t,value:e,classLabel:n,colors:r}){const i=Wb(n,64);return s.jsxs("div",{className:br.chip,children:[s.jsx("span",{className:br.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:br.name,children:t!=null?t:""}),s.jsx("span",{className:br.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function Oee({snapshot:t,colors:e,title:n="Total Stats"}){var l;const r=(l=t==null?void 0:t.members)!=null?l:[],i=c=>[...r].filter(u=>typeof u[c]=="number").sort((u,h)=>{var m,f;return((m=h[c])!=null?m:0)-((f=u[c])!=null?f:0)}).slice(0,3),a=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:br.card,children:[s.jsx(pl,{text:n}),s.jsx("div",{className:br.headerSpacer}),s.jsxs("div",{className:br.wrap,children:[s.jsx("div",{className:br.divider}),s.jsx("div",{className:br.rows,children:a.map((c,u)=>s.jsxs("div",{className:br.row,children:[s.jsxs("div",{className:br.left,children:[s.jsx("div",{className:br.label,children:c.label}),s.jsx("div",{className:br.avgHead,children:""}),s.jsx("div",{className:br.avgNum,style:{color:e.title},children:typeof c.avg=="number"?c.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:br.top3,children:c.list.map((h,m)=>s.jsx($ee,{name:h.name,value:h[c.key],classLabel:h.class,colors:e},m))})]},u))})]})]})}function Vee({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(pl,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function Uee({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(pl,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function zee({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(pl,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function Hee({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(pl,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const Gee=T.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const a=i.icon,l=({text:c})=>s.jsxs("div",{className:Qu.sectionDivider,children:[s.jsx("div",{className:Qu.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}}),s.jsx("div",{className:Qu.sectionTitle,style:{color:i.soft},children:c}),s.jsx("div",{className:Qu.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${a}, transparent)`}})]});return s.jsxs("div",{className:Qu.root+" space-y-4",children:[s.jsx(l,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(l,{text:"AVERAGE PLAYER STATS"})}),s.jsx(Vee,{guild:e,snapshot:n,colors:i}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(jee,{snapshot:n,colors:i}),s.jsx(Oee,{snapshot:n,colors:i})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(Uee,{colors:i}),s.jsx(zee,{colors:i})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Hee,{colors:i})})]})}),Wee="_wrapper_zqchq_3",qee="_grid_zqchq_9",Kee="_tile_zqchq_13",Qee="_disabled_zqchq_37",Xee="_crestWrap_zqchq_41",Yee="_crest_zqchq_41",Jee="_ring_zqchq_53",Zee="_badge_zqchq_55",ete="_meta_zqchq_67",tte="_nameRow_zqchq_69",ste="_name_zqchq_69",nte="_share_zqchq_73",rte="_sub_zqchq_75",ite="_tileButton_zqchq_79",ate="_donutCard_zqchq_85",ote="_donutHeader_zqchq_87",lte="_legend_zqchq_91",cte="_legendItem_zqchq_93",dte="_legendSwatch_zqchq_95",ute="_legendRight_zqchq_97",hte="_centerLabel_zqchq_101",Hs={wrapper:Wee,grid:qee,tile:Kee,disabled:Qee,crestWrap:Xee,crest:Yee,ring:Jee,badge:Zee,meta:ete,nameRow:tte,name:ste,share:nte,sub:rte,tileButton:ite,donutCard:ate,donutHeader:ote,legend:lte,legendItem:cte,legendSwatch:dte,legendRight:ute,centerLabel:hte},_1=56;function jg(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function Fk(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const mte=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function pte(t){return t?/drive\.google\.com/.test(t):!1}function Bk(t,e=_1){if(t)return pte(t)?Ur(t,e):t}function fte(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function gte(t){var m,f,y,b,_,S;if(!t)return null;const e=t,n=t,r=(m=e.key)!=null?m:n.id,i=(f=e.label)!=null?f:n.name,a=(b=(y=n.crestUrl)!=null?y:e.iconUrl)!=null?b:n.iconUrl,l=(_=e.iconUrl)!=null?_:n.iconUrl,c=(S=e.fallback)!=null?S:n.fallback;if(!r||!i)return null;const u=Bk(a,_1),h=Bk(l,_1);return{id:r,name:String(i),crestUrl:u||h,iconUrl:h||u,fallback:c?String(c):void 0}}function wI(t,e){var m,f,y,b,_,S,k,P,D,A,v,w,L,C,N,E,F,I,B,$,U;const n={},r={},i={},a={},l=e.map(H=>H.id);for(const H of l)n[H]=0,r[H]=0,i[H]=0,a[H]=null;for(const H of Array.isArray(t)?t:[]){const W=(w=(A=(P=(S=(b=(y=(f=(m=H.classId)!=null?m:H.class)!=null?f:H.klass)!=null?y:H.playerClass)!=null?b:H.cls)!=null?S:(_=H.values)==null?void 0:_.Class)!=null?P:(k=H.values)==null?void 0:k.class)!=null?A:(D=H.values)==null?void 0:D.Klasse)!=null?w:(v=H.values)==null?void 0:v.klasse,K=fte(W);if(!K||!l.includes(K))continue;n[K]+=1;const q=mte((E=(C=H.level)!=null?C:(L=H.values)==null?void 0:L.Level)!=null?E:(N=H.values)==null?void 0:N.level);q!=null&&(r[K]+=q,i[K]+=1,(!a[K]||((I=(F=a[K])==null?void 0:F.level)!=null?I:-1/0)<q)&&(a[K]={id:H.id,name:(U=($=H.name)!=null?$:(B=H.values)==null?void 0:B.Name)!=null?U:null,level:q}))}const c=Object.values(n).reduce((H,W)=>H+W,0),u={},h={};return l.forEach(H=>{u[H]=c>0?n[H]/c*100:0,h[H]=i[H]>0?r[H]/i[H]:null}),{counts:n,shares:u,avg:h,top:a}}const xte=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:Hs.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},vte=({data:t,classMeta:e,onPickClass:n})=>{const[r,i]=T.useState({}),a=Array.isArray(t)?t:[],l=Array.isArray(e)?e:[],{counts:c,shares:u,avg:h,top:m}=T.useMemo(()=>wI(a,l),[a,l]);return s.jsx("section",{className:Hs.wrapper,children:s.jsx("div",{className:Hs.grid,style:{gridTemplateColumns:"1fr"},children:l.map(f=>{var D,A,v;const y=(D=c[f.id])!=null?D:0,b=(A=u[f.id])!=null?A:0,_=h[f.id],S=m[f.id],k=y<=0,P=r[f.id]?void 0:f.crestUrl||f.iconUrl;return s.jsxs("div",{className:`${Hs.tile} ${k?Hs.disabled:""}`,title:k?`${f.name}: kein Mitglied`:`${f.name}  ${Fk(y)}  ${jg(b)}${_?`   ${_.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:Hs.crestWrap,children:[P?s.jsx("img",{className:Hs.crest,src:P,alt:f.name,onError:()=>i(w=>({...w,[f.id]:!0}))}):s.jsx("div",{className:Hs.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(v=f.fallback)!=null?v:""}),s.jsx(xte,{valuePct:b}),s.jsx("div",{className:Hs.badge,children:Fk(y)})]}),s.jsxs("div",{className:Hs.meta,children:[s.jsxs("div",{className:Hs.nameRow,children:[s.jsx("div",{className:Hs.name,children:f.name}),s.jsx("div",{className:Hs.share,children:jg(b)})]}),s.jsxs("div",{className:Hs.sub,children:[_?` Lvl ${_.toFixed(1)}`:"",S?`  Top: ${S.name}${S.level?` (Lv ${S.level})`:""}`:""]})]}),!k&&n&&s.jsx("button",{className:Hs.tileButton,onClick:()=>n(f.id),"aria-label":`${f.name} filtern`})]},f.id)})})})},yte=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:a}=T.useMemo(()=>wI(n,r),[n,r]),l=T.useMemo(()=>Object.values(a).reduce((c,u)=>c+u,0),[a]);return s.jsxs("div",{className:Hs.donutCard,children:[s.jsxs("div",{className:Hs.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:Hs.legendRight,children:["Gesamt: ",l]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const f=Math.PI*2,y=r.map((_,S)=>{var k;return{id:_.id,pct:(k=i[_.id])!=null?k:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*S)} 60% 55%)`}});let b=0;return y.map(_=>{const S=(_.pct||0)/100;if(S<=0)return null;const k=b,P=b+f*S;b=P;const D=P-k>Math.PI?1:0,A=130+100*Math.cos(k),v=130+100*Math.sin(k),w=130+100*Math.cos(P),L=130+100*Math.sin(P),C=130+64*Math.cos(P),N=130+64*Math.sin(P),E=130+64*Math.cos(k),F=130+64*Math.sin(k),I=`M ${A} ${v} A 100 100 0 ${D} 1 ${w} ${L} L ${C} ${N} A 64 64 0 ${D} 0 ${E} ${F} Z`;return s.jsx("path",{d:I,fill:_.color,opacity:.95},_.id)})})()]}),s.jsx("div",{className:Hs.legend,children:r.map((c,u)=>{var f,y;const h=(f=i[c.id])!=null?f:0,m=(y=a[c.id])!=null?y:0;return s.jsxs("div",{className:Hs.legendItem,title:`${c.name}: ${m}  ${jg(h)}`,children:[s.jsx("span",{className:Hs.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*u)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:c.name}),s.jsxs("span",{className:Hs.legendRight,children:[m,"  ",jg(h)]})]},c.id)})})]}),s.jsx("div",{className:Hs.centerLabel,children:"Anteile je Klasse"})]})},hn={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},bte=t=>{var e,n,r,i,a,l,c,u,h,m,f,y,b,_,S;return{id:t.id,name:(e=t.name)!=null?e:"Unknown",class:(n=t.class)!=null?n:"Unknown",role:(r=t.role)!=null?r:"Unknown",level:(i=t.level)!=null?i:void 0,scrapbook:void 0,lastOnline:(a=t.lastActivityMs)!=null?a:null,server:null,baseStats:{main:(l=t.baseMain)!=null?l:void 0,con:(c=t.conBase)!=null?c:void 0,sumBaseTotal:(u=t.sumBaseTotal)!=null?u:void 0},totalStats:(h=t.totalStats)!=null?h:void 0,values:{treasury:(m=t.treasury)!=null?m:void 0,mine:(f=t.mine)!=null?f:void 0,attrTotal:(y=t.attrTotal)!=null?y:void 0,conTotal:(b=t.conTotal)!=null?b:void 0,lastScan:(_=t.lastScan)!=null?_:void 0,lastActivity:(S=t.lastActivity)!=null?S:void 0}}},e0=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},_te=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function jI({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:hn.tile,border:`1px solid ${hn.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:hn.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:hn.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function Xu({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:hn.title},children:e})]})}function wte({guild:t}){var n,r;const e=Jh(t.name,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(jI,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Xu,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),s.jsx(Xu,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),s.jsx(Xu,{k:"Server",v:(r=t.server)!=null?r:""}),s.jsx(Xu,{k:"Inaktiv",v:"0"}),s.jsx(Xu,{k:"Aktivitt",v:"100%"})]})})]})}function t0(){var k,P,D,A,v,w;const t=Fg(),e=t.id||t.gid||t.guildId||t.guild||"",n=ji(),[r,i]=T.useState(!0),[a,l]=T.useState(null),[c,u]=T.useState(null),[h,m]=T.useState(null),[f,y]=T.useState("grid"),b=T.useMemo(()=>(Array.isArray(Rn)?Rn:[]).map(gte).filter(Boolean),[]);T.useEffect(()=>{let L=!1;async function C(){var N,E,F,I,B,$,U,H,W,K,q,se,ne,z,Y,le,ae,he,ye,Ie,Z,fe,oe,_e,ve,Ee,Ve,ze,st,at,mt,Ut,je,Je,Ke,yt,kt;i(!0),l(null);try{const Be=e.trim();if(!Be){l("Keine Gilde gewhlt."),i(!1);return}const Le=Xt(ft,`guilds/${Be}/latest/latest`),He=await rn(Le);if(!He.exists()){l("Gilde nicht gefunden."),i(!1);return}const tt=He.data(),fs=(F=(E=tt.name)!=null?E:(N=tt.values)==null?void 0:N.Name)!=null?F:Be,vs=($=(B=tt.server)!=null?B:(I=tt.values)==null?void 0:I.Server)!=null?$:null,os=(q=e0((K=(H=tt.memberCount)!=null?H:(U=tt.values)==null?void 0:U["Guild Member Count"])!=null?K:(W=tt.values)==null?void 0:W.GuildMemberCount))!=null?q:null,ls=(Ie=e0((ye=(ae=(Y=(ne=tt.hofRank)!=null?ne:(se=tt.values)==null?void 0:se["Hall of Fame Rank"])!=null?Y:(z=tt.values)==null?void 0:z.HoF)!=null?ae:(le=tt.values)==null?void 0:le.Rank)!=null?ye:(he=tt.values)==null?void 0:he["Guild Rank"]))!=null?Ie:null,Os=_te(e0(tt.timestamp));L||u({id:Be,name:fs,server:vs,memberCount:os,hofRank:ls,lastScanDays:Os});const we=Xt(ft,`guilds/${Be}/snapshots/members_summary`),Ys=await rn(we);if(Ys.exists()&&!L){const gt=Ys.data(),J={guildId:String((Z=gt.guildId)!=null?Z:Be),updatedAt:String((_e=(oe=gt.updatedAt)!=null?oe:(fe=tt.values)==null?void 0:fe.Timestamp)!=null?_e:""),updatedAtMs:Number((Ee=(ve=gt.updatedAtMs)!=null?ve:tt.timestamp*1e3)!=null?Ee:0),count:Number((Ve=gt.count)!=null?Ve:0),hash:String((ze=gt.hash)!=null?ze:""),avgLevel:(st=gt.avgLevel)!=null?st:null,avgTreasury:(at=gt.avgTreasury)!=null?at:null,avgMine:(mt=gt.avgMine)!=null?mt:null,avgBaseMain:(Ut=gt.avgBaseMain)!=null?Ut:null,avgConBase:(je=gt.avgConBase)!=null?je:null,avgSumBaseTotal:(Je=gt.avgSumBaseTotal)!=null?Je:null,avgAttrTotal:(Ke=gt.avgAttrTotal)!=null?Ke:null,avgConTotal:(yt=gt.avgConTotal)!=null?yt:null,avgTotalStats:(kt=gt.avgTotalStats)!=null?kt:null,members:Array.isArray(gt.members)?gt.members:[]};m(J)}}catch(Be){L||l((Be==null?void 0:Be.message)||"Fehler beim Laden.")}finally{L||i(!1)}}return C(),()=>{L=!0}},[e]);const _=T.useMemo(()=>{var L;return((L=h==null?void 0:h.members)!=null?L:[]).map(C=>bte(C))},[h]);if(r)return s.jsx(Vt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:hn.soft},children:"Lade Gildenprofil"})});if(!c)return s.jsx(Vt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:hn.soft},children:[a!=null?a:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const S=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${hn.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:hn.tile,border:`1px solid ${hn.line}`,color:hn.title},children:(k=c.server)!=null?k:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:hn.title,fontSize:26,lineHeight:1.15},children:c.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:hn.soft},children:["Zuletzt aktualisiert:",h!=null&&h.updatedAt?h.updatedAt:""," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:hn.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(Vt,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[S,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(wte,{guild:c})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(Gee,{guild:c,snapshot:h,emblemUrl:Jh(c.name,512)||void 0,colors:hn}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(rZ,{guildName:c.name,server:(P=c.server)!=null?P:"",emblemUrl:Jh(c.name,512)||void 0,lastScanISO:h!=null&&h.updatedAtMs?new Date(h.updatedAtMs).toISOString():void 0,members:(D=c.memberCount)!=null?D:0,avgLevel:(A=h==null?void 0:h.avgLevel)!=null?A:0,totalPower:(v=h==null?void 0:h.avgTotalStats)!=null?v:void 0,tickerItems:h!=null&&h.updatedAt?[`Updated ${h.updatedAt}`,`Members ${(w=c.memberCount)!=null?w:0}`]:void 0})})}),s.jsx(jte,{members:_,guildId:c.id,guildName:c.name,guildServer:c.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>y("grid"),"aria-label":"Klassenbersicht",children:s.jsx(pl,{text:"Klassenbersicht",tone:f==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>y("donut"),"aria-label":"Klassenverteilung",children:s.jsx(pl,{text:"Klassenverteilung",tone:f==="donut"?"accent":"default"})})]}),f==="grid"?s.jsx(vte,{data:_,classMeta:b,onPickClass:L=>{const C=new URL(window.location.href);C.searchParams.set("tab","bersicht"),C.searchParams.set("class",L),window.location.href=C.toString()}}):s.jsx(yte,{data:_,classMeta:b})]})]})})]})}function jte({members:t,guildId:e,guildName:n,guildServer:r}){const[i,a]=T.useState("bersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:hn.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(l=>{const c=l===i;return s.jsx("button",{role:"tab","aria-selected":c,onClick:()=>a(l),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${c?hn.header:"transparent"}`,background:c?"rgba(45,78,120,0.35)":"transparent",color:hn.title},children:l},l)})}),s.jsxs(jI,{children:[i==="bersicht"&&s.jsx(nZ,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:hn.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&s.jsx(eee,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:hn.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function Ste(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx($k,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx($k,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function $k({to:t,title:e,desc:n}){return s.jsxs(xs,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function Nte(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function kte(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const Tn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function Ok({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function Cte({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function cd({label:t,value:e}){return s.jsxs("div",{style:{background:Tn.tileAlt,border:`1px solid ${Tn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:Tn.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:Tn.title,fontWeight:700},children:e})]})}function Tte(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),a=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let l="";const c=n.match(/^([A-Z]{2})(\d{1,3})$/);if(c){const u=c[1],h=String(parseInt(c[2],10)),m=u==="EU"?"eu":u==="US"?"us":u==="AM"?"net":u.toLowerCase();l=`s${h}.sfgame.${m}`}return Array.from(new Set([e,n,r,i,a,l].filter(Boolean)))}function s0(){var S,k,P,D;const t=Fg(),e=ji(),n=Vr(),r=t.id||t.sid||t.serverId||t.server||"",[i,a]=T.useState(!0),[l,c]=T.useState(null),[u,h]=T.useState(null),[m,f]=T.useState(null);T.useEffect(()=>{let A=!1;async function v(){a(!0),c(null),h(null),f(null);try{const w=r.trim();if(!w)throw new Error("Kein Server gewhlt.");const L=Xt(ft,`servers/${w}`),C=await rn(L);if(C.exists()){A||(h(C.id),f(C.data()));return}const N=xl(ft,"servers"),E=Tte(w),F=[];for(const U of E)F.push(gn(nn(N,cl("code","==",U),mn(1)))),F.push(gn(nn(N,cl("displayName","==",U),mn(1)))),F.push(gn(nn(N,cl("host","==",U),mn(1))));const I=await Promise.allSettled(F);let B=null,$=null;for(const U of I){if(U.status!=="fulfilled")continue;const H=U.value;if(!H.empty){const W=H.docs[0];B=W.id,$=W.data();break}}if(!B||!$)throw new Error("Server nicht gefunden.");A||(h(B),f($),B!==w&&e(`/server/${encodeURIComponent(B)}`,{replace:!0,state:{from:n.pathname}}))}catch(w){A||c((w==null?void 0:w.message)||"Fehler beim Laden.")}finally{A||a(!1)}}return v(),()=>{A=!0}},[r,e,n.pathname]);const y=T.useMemo(()=>s.jsxs("div",{style:{padding:24,color:Tn.textSoft},children:[l!=null?l:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:Tn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,e]);if(i)return s.jsx(Vt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:Tn.textSoft},children:"Lade Serverprofil"})});if(!m)return s.jsx(Vt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:y});const b=m.displayName||m.code||u||r,_=m.active===!0?"Aktiv":m.active===!1?"Inaktiv":"";return s.jsxs(Vt,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${Tn.line}`},children:s.jsxs(Ok,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(Cte,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:Tn.title,fontWeight:700},children:b}),s.jsxs("div",{style:{fontSize:12,color:Tn.textSoft},children:[m.host||"","  ",m.region||"","  ",((S=m.type)==null?void 0:S.toUpperCase())||""]})]})]})}),s.jsxs(Ok,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:Tn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${Tn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:Tn.title,fontSize:24,fontWeight:800},children:b}),s.jsxs("div",{style:{marginTop:6,color:Tn.textSoft,fontSize:13},children:[m.host||"","  ",m.region||"","  ",((k=m.type)==null?void 0:k.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:Tn.textSoft},children:["Status: ",_]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:m.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(cd,{label:"Code",value:m.code||""}),s.jsx(cd,{label:"Host",value:m.host||""}),s.jsx(cd,{label:"Region",value:m.region||""}),s.jsx(cd,{label:"Typ",value:((P=m.type)==null?void 0:P.toUpperCase())||""}),s.jsx(cd,{label:"Numeric ID",value:(D=m.numericId)!=null?D:""}),s.jsx(cd,{label:"Status",value:_})]}),s.jsxs("div",{style:{marginTop:16,background:Tn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${Tn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:Tn.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const Ate="_page_177kv_1",Ete="_sectionCard_177kv_15",Ite="_identityCard_177kv_29",Rte="_identityGrid_177kv_39",Pte="_profileName_177kv_63",Lte="_identityMeta_177kv_77",Dte="_mainCharacter_177kv_95",Mte="_characterHeader_177kv_117",Fte="_characterTitle_177kv_131",Bte="_characterSubtitle_177kv_143",$te="_classIcon_177kv_153",Ote="_metaGrid_177kv_181",Vte="_metaLabel_177kv_193",Ute="_metaValue_177kv_207",zte="_portrait_177kv_217",Hte="_sectionHeader_177kv_245",Gte="_sectionHint_177kv_265",Wte="_bioText_177kv_275",qte="_tagGroups_177kv_295",Kte="_tagGroupLabel_177kv_309",Qte="_tagList_177kv_323",Xte="_tag_177kv_295",Yte="_showcaseGrid_177kv_353",Jte="_characterCard_177kv_365",Zte="_characterCardHeader_177kv_385",ese="_characterName_177kv_399",tse="_badge_177kv_411",sse="_characterMeta_177kv_433",nse="_characterStats_177kv_449",rse="_statGrid_177kv_465",ise="_statTile_177kv_477",ase="_statLabel_177kv_491",ose="_statValue_177kv_505",lse="_statSubtext_177kv_519",cse="_emptyState_177kv_531",dse="_recordsHighlights_177kv_551",use="_highlightCard_177kv_565",hse="_recordType_177kv_579",mse="_recordTitle_177kv_593",pse="_timeline_177kv_607",fse="_timelineItem_177kv_625",gse="_timelineBullet_177kv_635",xse="_timelineContent_177kv_653",vse="_timelineTitle_177kv_661",yse="_timelineMeta_177kv_673",bse="_achievementsHighlights_177kv_685",_se="_achievementCard_177kv_699",wse="_achievementIcon_177kv_723",jse="_achievementName_177kv_747",Sse="_achievementDesc_177kv_759",Nse="_achievementTier_177kv_771",kse="_achievementDate_177kv_785",Cse="_achievementsGrid_177kv_795",Tse="_achievementBadge_177kv_807",Ase="_tierGold_177kv_831",Ese="_tierSilver_177kv_839",Ise="_tierBronze_177kv_847",Fe={page:Ate,sectionCard:Ete,identityCard:Ite,identityGrid:Rte,profileName:Pte,identityMeta:Lte,mainCharacter:Dte,characterHeader:Mte,characterTitle:Fte,characterSubtitle:Bte,classIcon:$te,metaGrid:Ote,metaLabel:Vte,metaValue:Ute,portrait:zte,sectionHeader:Hte,sectionHint:Gte,bioText:Wte,tagGroups:qte,tagGroupLabel:Kte,tagList:Qte,tag:Xte,showcaseGrid:Yte,characterCard:Jte,characterCardHeader:Zte,characterName:ese,badge:tse,characterMeta:sse,characterStats:nse,statGrid:rse,statTile:ise,statLabel:ase,statValue:ose,statSubtext:lse,emptyState:cse,recordsHighlights:dse,highlightCard:use,recordType:hse,recordTitle:mse,timeline:pse,timelineItem:fse,timelineBullet:gse,timelineContent:xse,timelineTitle:vse,timelineMeta:yse,achievementsHighlights:bse,achievementCard:_se,achievementIcon:wse,achievementName:jse,achievementDesc:Sse,achievementTier:Nse,achievementDate:kse,achievementsGrid:Cse,achievementBadge:Tse,tierGold:Ase,tierSilver:Ese,tierBronze:Ise},Rse={profileUser:{displayName:"Aurora Drake",languages:["en","de"],roles:["guildleader","tryhard"]},mainCharacter:{name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",lastScanAt:"2025-11-18T21:14:00.000Z"},bio:"Veteran guild leader focused on high-end fusion planning and experimental scrapbook routes. Available for collabs, raid clinics, and panel talks about SF scanning culture.",showcaseCharacters:[{id:"c1",name:"Aurora",class:"Mage",level:235,server:"S51  Neverwinter",guildName:"Starfall Syndicate",tag:"main",scrapbookPercent:92,highlightProgress:"Fortress 17"},{id:"c2",name:"Stardiver",class:"Scout",level:223,server:"S17  Blackwater",guildName:"Vault Seven",tag:"alt",scrapbookPercent:81,highlightProgress:"Dungeon 12"},{id:"c3",name:"Archivist Aria",class:"Warrior",level:210,server:"S09  Emerald Peak",guildName:"Heritage Keepers",tag:"archive",scrapbookPercent:68,highlightProgress:"Event Trophy 24"},{id:"c4",name:"Flux Operative",class:"Assassin",level:198,server:"S77  Quantum Vale",guildName:"Pulse Collective",tag:"event",scrapbookPercent:74,highlightProgress:"Festival Rank A"}],scanStats:{totalScans:1428,uniquePlayersScanned:613,uniqueGuildsScanned:108,scansLast30d:74,topServers:["S51 Neverwinter","S17 Blackwater","S77 Quantum Vale"],firstScanAt:"2022-07-12T10:00:00.000Z"},recordsAndMilestones:[{id:"r1",type:"record",title:"Fastest double fusion hand-in",when:"2024-05-09T00:00:00.000Z",context:"Guild Week  Starfall Syndicate"},{id:"r2",type:"record",title:"Scrapbook mentor program launched",when:"2023-11-14T00:00:00.000Z",context:"Community Scan Clinic"},{id:"r3",type:"milestone",title:"1000 scans uploaded",when:"2023-05-07T00:00:00.000Z",context:"SFDataHub milestone"},{id:"r4",type:"milestone",title:"Guest host at SF Magazine Live",when:"2022-10-19T00:00:00.000Z",context:"SFTV Stage"}],achievements:[{id:"a1",nameKey:"achievements.legendaryScout.name",descriptionKey:"achievements.legendaryScout.description",tier:"gold",unlockedAt:"2024-06-21T00:00:00.000Z"},{id:"a2",nameKey:"achievements.scanCoach.name",descriptionKey:"achievements.scanCoach.description",tier:"silver",unlockedAt:"2023-12-02T00:00:00.000Z"},{id:"a3",nameKey:"achievements.guildPulse.name",descriptionKey:"achievements.guildPulse.description",tier:"silver",unlockedAt:"2023-04-17T00:00:00.000Z"},{id:"a4",nameKey:"achievements.veteranArchivist.name",descriptionKey:"achievements.veteranArchivist.description",tier:"bronze",unlockedAt:"2022-12-28T00:00:00.000Z"},{id:"a5",nameKey:"achievements.eventStrategist.name",descriptionKey:"achievements.eventStrategist.description",tier:"bronze"}]},Pse=1e3*60*60*24,Vk={gold:3,silver:2,bronze:1};function Lse(t){const e=new Date(t).getTime();if(Number.isNaN(e))return null;const n=Date.now()-e;return n<0?0:Math.floor(n/Pse)}function pf(t){const e=new Date(t);return Number.isNaN(e.getTime())?Ct("profile.public.identity.dateUnknown"):new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"}).format(e)}function Dse(){const{profileId:t}=Fg(),e=Rse,n=Lse(e.mainCharacter.lastScanAt),r=new Intl.NumberFormat,i=e.recordsAndMilestones.filter(m=>m.type==="record").slice(0,3),a=[...e.achievements].sort((m,f)=>Vk[f.tier]-Vk[m.tier]).slice(0,3),l=[{label:Ct("profile.public.stats.totalScans"),value:r.format(e.scanStats.totalScans)},{label:Ct("profile.public.stats.uniquePlayers"),value:r.format(e.scanStats.uniquePlayersScanned)},{label:Ct("profile.public.stats.uniqueGuilds"),value:r.format(e.scanStats.uniqueGuildsScanned)},{label:Ct("profile.public.stats.last30d"),value:r.format(e.scanStats.scansLast30d)}],c=n==null?Ct("profile.public.identity.dateUnknown"):n===0?Ct("profile.public.identity.lastScanToday"):`${n} ${Ct("profile.public.identity.daysAgoSuffix")}`,u=Ct("profile.public.identity.portraitPlaceholder"),h=e.scanStats.topServers.length>0?e.scanStats.topServers.join(", "):Ct("profile.public.identity.unknownValue");return s.jsx(Vt,{title:Ct("profile.public.title"),subtitle:Ct("profile.public.subtitle"),centerFramed:!1,padded:!0,children:s.jsxs("div",{className:Fe.page,children:[s.jsx("section",{className:`${Fe.sectionCard} ${Fe.identityCard}`,children:s.jsxs("div",{className:Fe.identityGrid,children:[s.jsxs("div",{children:[s.jsx("h1",{className:Fe.profileName,children:e.profileUser.displayName}),s.jsxs("div",{className:Fe.identityMeta,children:[s.jsxs("span",{children:[Ct("profile.public.identity.profileIdLabel"),": ",t!=null?t:Ct("profile.public.identity.unknownValue")]}),s.jsxs("span",{children:[Ct("profile.public.identity.lastScanLabel"),": ",c]})]}),s.jsxs("article",{className:Fe.mainCharacter,children:[s.jsxs("div",{className:Fe.characterHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:Fe.metaLabel,children:Ct("profile.public.identity.mainCharacterLabel")}),s.jsx("div",{className:Fe.characterTitle,children:e.mainCharacter.name}),s.jsxs("div",{className:Fe.characterSubtitle,children:[e.mainCharacter.class,"  ",Ct("profile.public.identity.levelShort")," ",e.mainCharacter.level]})]}),s.jsx("div",{className:Fe.classIcon,children:e.mainCharacter.class.charAt(0)})]}),s.jsxs("div",{className:Fe.metaGrid,children:[s.jsxs("div",{children:[s.jsx("div",{className:Fe.metaLabel,children:Ct("profile.public.identity.serverLabel")}),s.jsx("div",{className:Fe.metaValue,children:e.mainCharacter.server})]}),s.jsxs("div",{children:[s.jsx("div",{className:Fe.metaLabel,children:Ct("profile.public.identity.guildLabel")}),s.jsx("div",{className:Fe.metaValue,children:e.mainCharacter.guildName})]})]})]})]}),s.jsx("div",{className:Fe.portrait,children:u})]})}),s.jsxs("section",{className:Fe.sectionCard,children:[s.jsx("div",{className:Fe.sectionHeader,children:s.jsx("span",{children:Ct("profile.public.bio.title")})}),s.jsx("p",{className:Fe.bioText,children:e.bio}),s.jsxs("div",{className:Fe.tagGroups,children:[s.jsxs("div",{children:[s.jsx("div",{className:Fe.tagGroupLabel,children:Ct("profile.public.bio.languagesLabel")}),s.jsx("div",{className:Fe.tagList,children:e.profileUser.languages.length>0?e.profileUser.languages.map(m=>s.jsx("span",{className:Fe.tag,children:m.toUpperCase()},m)):s.jsx("span",{className:Fe.tag,children:Ct("profile.public.identity.unknownValue")})})]}),s.jsxs("div",{children:[s.jsx("div",{className:Fe.tagGroupLabel,children:Ct("profile.public.bio.rolesLabel")}),s.jsx("div",{className:Fe.tagList,children:e.profileUser.roles.length>0?e.profileUser.roles.map(m=>s.jsx("span",{className:Fe.tag,children:Ct(`profile.public.roles.${m}`)},m)):s.jsx("span",{className:Fe.tag,children:Ct("profile.public.identity.unknownValue")})})]})]})]}),s.jsxs("section",{className:Fe.sectionCard,children:[s.jsxs("div",{className:Fe.sectionHeader,children:[s.jsx("span",{children:Ct("profile.public.showcase.title")}),s.jsx("span",{className:Fe.sectionHint,children:Ct("profile.public.showcase.subtitle")})]}),e.showcaseCharacters.length===0?s.jsx("div",{className:Fe.emptyState,children:Ct("profile.public.showcase.empty")}):s.jsx("div",{className:Fe.showcaseGrid,children:e.showcaseCharacters.map(m=>s.jsxs("article",{className:Fe.characterCard,children:[s.jsxs("div",{className:Fe.characterCardHeader,children:[s.jsxs("div",{children:[s.jsx("div",{className:Fe.characterName,children:m.name}),s.jsxs("div",{className:Fe.characterMeta,children:[s.jsx("span",{children:m.class}),s.jsxs("span",{children:[Ct("profile.public.identity.levelShort")," ",m.level]})]})]}),s.jsx("span",{className:Fe.badge,children:Ct(`profile.public.showcase.tags.${m.tag}`)})]}),s.jsxs("div",{className:Fe.characterMeta,children:[s.jsx("span",{children:m.server}),s.jsx("span",{children:m.guildName})]}),s.jsxs("div",{className:Fe.characterStats,children:[s.jsxs("span",{children:[Ct("profile.public.showcase.scrapbookLabel")," ",m.scrapbookPercent,"%"]}),s.jsxs("span",{children:[Ct("profile.public.showcase.highlightLabel"),": ",m.highlightProgress]})]})]},m.id))})]}),s.jsxs("section",{className:Fe.sectionCard,children:[s.jsx("div",{className:Fe.sectionHeader,children:s.jsx("span",{children:Ct("profile.public.stats.title")})}),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Fe.statGrid,children:l.map(m=>s.jsxs("article",{className:Fe.statTile,children:[s.jsx("div",{className:Fe.statLabel,children:m.label}),s.jsx("div",{className:Fe.statValue,children:m.value})]},m.label))}),s.jsxs("div",{className:Fe.statSubtext,children:[Ct("profile.public.stats.topServersLabel"),": ",h]}),s.jsxs("div",{className:Fe.statSubtext,children:[Ct("profile.public.stats.firstScanLabel"),": ",pf(e.scanStats.firstScanAt)]})]})]}),s.jsxs("section",{className:Fe.sectionCard,children:[s.jsx("div",{className:Fe.sectionHeader,children:s.jsx("span",{children:Ct("profile.public.records.title")})}),e.recordsAndMilestones.length===0?s.jsx("div",{className:Fe.emptyState,children:Ct("profile.public.records.empty")}):s.jsxs(s.Fragment,{children:[i.length>0&&s.jsx("div",{className:Fe.recordsHighlights,children:i.map(m=>s.jsxs("article",{className:Fe.highlightCard,children:[s.jsx("div",{className:Fe.recordType,children:Ct(`profile.public.records.type.${m.type}`)}),s.jsx("div",{className:Fe.recordTitle,children:m.title}),s.jsxs("div",{className:Fe.timelineMeta,children:[pf(m.when),"  ",m.context]})]},m.id))}),s.jsx("ul",{className:Fe.timeline,children:e.recordsAndMilestones.map(m=>s.jsxs("li",{className:Fe.timelineItem,children:[s.jsx("div",{className:Fe.timelineBullet}),s.jsxs("div",{className:Fe.timelineContent,children:[s.jsx("div",{className:Fe.timelineTitle,children:m.title}),s.jsxs("div",{className:Fe.timelineMeta,children:[pf(m.when),"  ",m.context]})]})]},m.id))})]})]}),s.jsxs("section",{className:Fe.sectionCard,children:[s.jsxs("div",{className:Fe.sectionHeader,children:[s.jsx("span",{children:Ct("profile.public.achievements.title")}),e.achievements.length>0&&s.jsx("span",{className:Fe.sectionHint,children:Ct("profile.public.achievements.highlights")})]}),e.achievements.length===0?s.jsx("div",{className:Fe.emptyState,children:Ct("profile.public.achievements.empty")}):s.jsxs(s.Fragment,{children:[a.length>0&&s.jsx("div",{className:Fe.achievementsHighlights,children:a.map(m=>s.jsxs("article",{className:Fe.achievementCard,children:[s.jsx("div",{className:[Fe.achievementIcon,m.tier==="gold"?Fe.tierGold:m.tier==="silver"?Fe.tierSilver:Fe.tierBronze].join(" "),children:m.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:Fe.achievementTier,children:Ct(`profile.public.achievements.tiers.${m.tier}`)}),s.jsx("div",{className:Fe.achievementName,children:Ct(m.nameKey)}),s.jsx("div",{className:Fe.achievementDesc,children:Ct(m.descriptionKey)}),m.unlockedAt&&s.jsx("div",{className:Fe.achievementDate,children:pf(m.unlockedAt)})]},m.id))}),s.jsx("div",{className:Fe.achievementsGrid,children:e.achievements.map(m=>s.jsxs("article",{className:Fe.achievementBadge,children:[s.jsx("div",{className:[Fe.achievementIcon,m.tier==="gold"?Fe.tierGold:m.tier==="silver"?Fe.tierSilver:Fe.tierBronze].join(" "),children:m.tier.charAt(0).toUpperCase()}),s.jsx("div",{className:Fe.achievementName,children:Ct(m.nameKey)}),s.jsx("div",{className:Fe.achievementDesc,children:Ct(m.descriptionKey)})]},m.id))})]})]})]})})}const Mse="_wrap_k6pqt_1",Fse="_centerLogoWrap_k6pqt_21",Bse="_centerLogoLink_k6pqt_37",$se="_centerLogo_k6pqt_21",Ose="_arc_k6pqt_55",Vse="_left_k6pqt_57",Use="_right_k6pqt_59",zse="_sub_k6pqt_61",Hse="_full_k6pqt_63",Gse="_arcItem_k6pqt_65",Wse="_iconBtn_k6pqt_71",qse="_active_k6pqt_125",Kse="_iconImg_k6pqt_135",Qse="_placeholderIcon_k6pqt_139",Xse="_placeholderText_k6pqt_157",Yse="_iconLabel_k6pqt_161",zn={wrap:Mse,centerLogoWrap:Fse,centerLogoLink:Bse,centerLogo:$se,arc:Ose,left:Vse,right:Use,sub:zse,full:Hse,arcItem:Gse,iconBtn:Wse,active:qse,iconImg:Kse,placeholderIcon:Qse,placeholderText:Xse,iconLabel:Yse},Jse=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Vr();let a=!1;try{const l=new URLSearchParams(i),c=l.get("tab"),u=l.get("sub"),h=l.get("sub2"),m=new URL(t,window.location.origin).searchParams,f=m.get("tab"),y=m.get("sub"),b=m.get("sub2");r==="main"?a=c===f:r==="sub"?a=c===f&&!!y&&u===y:a=c===f&&!!y&&u===y&&!!b&&h===b}catch(l){a=!1}return s.jsxs(xs,{to:t,"aria-label":e,className:[zn.iconBtn,a?zn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:zn.iconImg}):s.jsx("div",{className:zn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:zn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:zn.iconLabel,children:e})]})},ff=({items:t,side:e,anchorSide:n,compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:l=440,superOffset:c=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const u=T.useMemo(()=>{const f=t.length;if(f===0)return[];let y=-90,b=90;e==="left"?(y=90,b=270):e==="sub"||e==="sub2"?n==="left"?(y=90,b=270):(y=-90,b=90):e==="full"&&(y=0,b=360);const _=(b-y)/(f+1),S=r?190:250;return t.map((k,P)=>{const A=(y+_*(P+1))*Math.PI/180;return{it:k,x:Math.cos(A)*S,y:Math.sin(A)*S}})},[t,e,n,r]),h=(()=>{const f={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?f.left=`calc(50% - ${a}px)`:e==="right"?f.left=`calc(50% + ${a}px)`:e==="sub"?f.left=n==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`:e==="sub2"&&(f.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),f})(),m=e==="sub"?"sub":e==="sub2"?"sub2":"main";return s.jsx("div",{className:[zn.arc,e==="left"?zn.left:"",e==="right"?zn.right:"",e==="sub"?zn.sub:"",e==="sub2"?zn.sub2:"",e==="full"?zn.full:""].join(" "),style:h,children:u.map(({it:f,x:y,y:b})=>s.jsx("div",{className:zn.arcItem,style:{transform:`translate(${y}px, ${b}px)`},children:s.jsx(Jse,{to:f.to,label:f.label,icon:f.icon,variant:m})},f.key))})},Zse=({logoSrc:t,categories:e})=>{const[n]=fl(),r=n.get("tab")||null,i=n.get("sub")||null;n.get("sub2");const a=T.useMemo(()=>e.find(A=>A.key===r)||null,[e,r]),l=(a==null?void 0:a.sub)||[],c=T.useMemo(()=>l.find(A=>A.key===i)||null,[l,i]),u=(c==null?void 0:c.sub2)||[],h=(a==null?void 0:a.side)==="left"||(a==null?void 0:a.side)==="right"?a.side:"right",m=T.useRef(null),[f,y]=T.useState(!1),[b,_]=T.useState(220),[S,k]=T.useState(440),[P,D]=T.useState(660);return T.useLayoutEffect(()=>{(()=>{var F,I;const w=((I=(F=m.current)==null?void 0:F.getBoundingClientRect().width)!=null?I:380)/2,C=Math.round(w+60),N=Math.round(C+220),E=Math.round(N+220);_(C),k(N),D(E),y(!0)})()},[]),T.useEffect(()=>{let A=0,v=null,w={main:b,out:S,sup:P};const L=()=>{v!=null&&window.clearTimeout(v),v=window.setTimeout(()=>{A=requestAnimationFrame(()=>{var W,K;const N=((K=(W=m.current)==null?void 0:W.getBoundingClientRect().width)!=null?K:380)/2,F=Math.round(N+60),I=Math.round(F+220),B=Math.round(I+220),$=Math.abs(F-w.main),U=Math.abs(I-w.out),H=Math.abs(B-w.sup);$>1&&_(F),U>1&&k(I),H>1&&D(B),w={main:F,out:I,sup:B}})},120)};return window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L),v!=null&&window.clearTimeout(v),A&&cancelAnimationFrame(A)}},[b,S,P]),s.jsxs("div",{className:zn.wrap,children:[s.jsx("div",{className:zn.centerLogoWrap,children:s.jsx(xs,{to:"/guidehub",className:zn.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:m,src:t,alt:"Guide Hub",className:zn.centerLogo})})}),f&&s.jsxs(s.Fragment,{children:[s.jsx(ff,{items:e.filter(A=>A.side==="left").map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"left",variant:"main",arcOffset:b}),s.jsx(ff,{items:e.filter(A=>A.side==="right").map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"right",variant:"main",arcOffset:b}),h&&l.length>0&&s.jsx(ff,{items:l.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub",anchorSide:h,variant:"sub",outerOffset:S,compact:!0}),h&&u.length>0&&s.jsx(ff,{items:u.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub2",anchorSide:h,variant:"sub2",superOffset:P,compact:!0})]})]})},Uk=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],ene="_topWrap_1vr4p_1",tne="_divider_1vr4p_19",sne="_contentArea_1vr4p_53",nne="_placeholder_1vr4p_65",rne="_placeholderTitle_1vr4p_79",ine="_placeholderText_1vr4p_93",dd={topWrap:ene,divider:tne,contentArea:sne,placeholder:nne,placeholderTitle:rne,placeholderText:ine},ane="/assets/logo_guidehub-c4zKGdF-.png";function Nc({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const one=()=>s.jsx(Nc,{title:"Game Features"});function $s({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const lne=()=>s.jsx($s,{title:"Progression"}),cne=()=>s.jsx($s,{title:"Hellevator"}),dne=()=>s.jsx($s,{title:"Legendary Dungeon"}),une=()=>s.jsx($s,{title:"Events"}),hne="_card_1rxdx_21",mne="_hoverLift_1rxdx_51",pne="_title_1rxdx_63",fne="_body_1rxdx_89",gne="_iconStack_1rxdx_99",Yu={card:hne,hoverLift:mne,title:pne,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:fne,iconStack:gne};function xne({title:t,padding:e="md",hover:n=!0,className:r="",children:i}){return s.jsxs("div",{className:[Yu.card,Yu[`pad-${e}`],n?Yu.hoverLift:"",r].join(" "),children:[t?s.jsx("div",{className:Yu.title,children:t}):null,s.jsx("div",{className:Yu.body,children:i})]})}const vne=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],yne="_grid_1amcc_3",bne="_tileBtn_1amcc_45",_ne="_wrap_1amcc_87",wne="_headerBar_1amcc_99",jne="_title_1amcc_117",Ju={grid:yne,tileBtn:bne,wrap:_ne,headerBar:wne,title:jne};function Sne(){const[t,e]=fl(),n=r=>{const i=new URLSearchParams(t);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return s.jsxs("div",{className:Ju.wrap,children:[s.jsx("div",{className:Ju.headerBar,children:s.jsx("h2",{className:Ju.title,children:"Calculators"})}),s.jsx("div",{className:Ju.grid,children:vne.map(r=>s.jsx("button",{className:Ju.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:s.jsx(xne,{title:r.title,padding:"md",hover:!0,children:s.jsx(s.Fragment,{children:" "})})},r.slug))})]})}const Nne=()=>s.jsx($s,{title:"Infographics (Dropdown inside page)"}),kne=()=>s.jsx($s,{title:"Class book"}),Cne=()=>s.jsx($s,{title:"Dungeons"}),Tne=()=>s.jsx(Nc,{title:"Fortress"}),Ane=()=>s.jsx(Nc,{title:"Fortress Calculator"}),Ene="_wrap_1skhh_7",Ine="_headerBar_1skhh_21",Rne="_title_1skhh_39",Pne="_meta_1skhh_55",Lne="_description_1skhh_67",Dne="_contentWrapper_1skhh_83",Mne="_tableSection_1skhh_97",Fne="_table_1skhh_97",Bne="_infoBox_1skhh_151",$ne="_sectionTitle_1skhh_165",One="_divider_1skhh_181",Mr={wrap:Ene,headerBar:Ine,title:Rne,meta:Pne,description:Lne,contentWrapper:Dne,tableSection:Mne,table:Fne,infoBox:Bne,sectionTitle:$ne,divider:One};function Vne(){return s.jsxs("div",{className:Mr.wrap,children:[s.jsxs("div",{className:Mr.headerBar,children:[s.jsx("h2",{className:Mr.title,children:"Fortress Package skip order"}),s.jsx("span",{className:Mr.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:Mr.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:Mr.contentWrapper,children:[s.jsxs("section",{className:Mr.tableSection,children:[s.jsx("h3",{className:Mr.sectionTitle,children:"Fortress Build Order"}),s.jsxs("table",{className:Mr.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Building"}),s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Gold Cost"}),s.jsx("th",{children:"Shroom Cost"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"35"}),s.jsx("td",{children:"12"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"150"}),s.jsx("td",{children:"50"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"138"}),s.jsx("td",{children:"46"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"440"}),s.jsx("td",{children:"140"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"406"}),s.jsx("td",{children:"129"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,100"}),s.jsx("td",{children:"333"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,015"}),s.jsx("td",{children:"308"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,500"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,308"}),s.jsx("td",{children:"738"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"60"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"6,000"}),s.jsx("td",{children:"2,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"5,538"}),s.jsx("td",{children:"1,849"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"7"}),s.jsx("td",{children:"70"}),s.jsx("td",{children:"48"}),s.jsx("td",{children:"13,417"}),s.jsx("td",{children:"4,433"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"80"}),s.jsx("td",{children:"78"}),s.jsx("td",{children:"27,200"}),s.jsx("td",{children:"9,280"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"720"}),s.jsx("td",{children:"240"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"1,408"}),s.jsx("td",{children:"448"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"2,640"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Gem Mine"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"17"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Treasury"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"13"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"92"}),s.jsx("td",{children:"74"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"248"}),s.jsx("td",{children:"200"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"21"}),s.jsx("td",{children:"500"}),s.jsx("td",{children:"320"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"22"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"90"}),s.jsx("td",{children:"16"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"9"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"264"}),s.jsx("td",{children:"45"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"660"}),s.jsx("td",{children:"107"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"14"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"82"}),s.jsx("td",{children:"55"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Total cost"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"577"}),s.jsx("td",{children:"363"}),s.jsx("td",{children:"99,881"}),s.jsx("td",{children:"33,218"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress Pack ressources"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"300"}),s.jsx("td",{children:"100,000"}),s.jsx("td",{children:"50,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Left over"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-577"}),s.jsx("td",{children:"-63"}),s.jsx("td",{children:"119"}),s.jsx("td",{children:"16,782"})]})]})]})]}),s.jsxs("section",{className:Mr.infoBox,children:[s.jsx("h3",{className:Mr.sectionTitle,children:"Important"}),s.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Archery Guild"}),s.jsx("li",{children:"Mage's Tower"}),s.jsx("li",{children:"Fortifications"})]}),s.jsx("div",{className:Mr.divider}),s.jsx("h3",{className:Mr.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:Mr.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const Une=()=>s.jsx(Nc,{title:"Fortress attack duplication guide"}),zne=()=>s.jsx(Nc,{title:"Underworld"}),Hne=()=>s.jsx(Nc,{title:"Underworld Calculator"}),Gne=()=>s.jsx(Nc,{title:"Underworld Pro Package skip order"}),Wne=()=>s.jsx($s,{title:"Arena / AM"}),qne="_wrap_mm7x0_5",Kne="_headerBar_mm7x0_19",Qne="_title_mm7x0_37",Xne="_meta_mm7x0_51",Yne="_description_mm7x0_63",Jne="_controls_mm7x0_79",Zne="_search_mm7x0_83",ere="_tableWrap_mm7x0_119",tre="_table_mm7x0_119",sre="_thead_mm7x0_143",nre="_th_mm7x0_143",rre="_td_mm7x0_167",ire="_tierCell_mm7x0_179",are="_amountCell_mm7x0_181",ore="_bonusCell_mm7x0_183",lre="_tags_mm7x0_185",cre="_tierBox_mm7x0_191",dre="_tierIcon_mm7x0_193",ure="_tierTexts_mm7x0_203",hre="_tierName_mm7x0_205",mre="_badge_mm7x0_211",pre="_badgeMax_mm7x0_231",fre="_badgeAchiev_mm7x0_233",gre="_badgeX2_mm7x0_235",xre="_badgeX12_mm7x0_237",vre="_badgeX60_mm7x0_239",yre="_iconHead_mm7x0_245",bre="_achiev_mm7x0_261",_re="_achievImg_mm7x0_263",wre="_dataRow_mm7x0_291",jre="_tierCellHover_mm7x0_311",Ye={wrap:qne,headerBar:Kne,title:Qne,meta:Xne,description:Yne,controls:Jne,search:Zne,tableWrap:ere,table:tre,thead:sre,th:nre,td:rre,tierCell:ire,amountCell:are,bonusCell:ore,tags:lre,tierBox:cre,tierIcon:dre,tierTexts:ure,tierName:hre,badge:mre,badgeMax:pre,badgeAchiev:fre,badgeX2:gre,badgeX12:xre,badgeX60:vre,iconHead:yre,achiev:bre,achievImg:_re,dataRow:wre,tierCellHover:jre};function SI(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function Sre(t){const e=t.filter(Boolean).join(" ");return SI(e)}const Nre={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function kre(t){var n;const e=Array.isArray(t)?Sre(t):SI(t!=null?t:"");return(n=Nre[e])!=null?n:null}function wx(t,e=512){var a,l;const n=kre(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(a=xc(n))!=null?a:null,i=r&&(l=Ur(r,e))!=null?l:null;return{id:n,url:r,thumb:i,fallback:""}}function dc(t,e=512){return wx(t,e).thumb}const zo={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},zk={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function Ho({keyName:t,label:e}){const n=wx(t,36);return s.jsxs("div",{className:Ye.iconHead,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),s.jsx("span",{children:e})]})}function Cre({name:t}){const e=Object.keys(zk).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=wx(e?zk[e]:"achiev_generic",16);return s.jsxs("div",{className:Ye.achiev,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:Ye.achievImg}),s.jsx("span",{children:t})]})}const Sg=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function n0(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function Tre(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function Are(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const Hk={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},Ere="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function Ire(t){const e=t.trim().toLowerCase();return e?Sg.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Sg}function Rre(){const[t,e]=T.useState(""),[n,r]=T.useState(null),i=Ire(t),a=T.useMemo(()=>Math.max(...Sg.map(c=>n0(c.amount))),[]),l=T.useMemo(()=>{const c=new Map;for(const h of i)c.has(h.tier)||c.set(h.tier,[]),c.get(h.tier).push(h);const u=Array.from(new Set(Sg.map(h=>h.tier)));return Array.from(c.entries()).sort((h,m)=>u.indexOf(h[0])-u.indexOf(m[0]))},[i]);return s.jsxs("div",{className:Ye.wrap,children:[s.jsxs("div",{className:Ye.headerBar,children:[s.jsx("h2",{className:Ye.title,children:"Arena Manager  Rune bonuses"}),s.jsx("span",{className:Ye.meta,children:"last updated: 15.01.2025"})]}),s.jsx("p",{className:Ye.description,children:Ere}),s.jsx("div",{className:Ye.controls,children:s.jsx("input",{className:Ye.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:c=>e(c.target.value)})}),s.jsx("div",{className:Ye.tableWrap,children:s.jsxs("table",{className:Ye.table,children:[s.jsx("thead",{className:Ye.thead,children:s.jsxs("tr",{className:Ye.headRow,children:[s.jsx("th",{className:`${Ye.th} ${Ye.tierCell}`,children:"Tier"}),s.jsx("th",{className:`${Ye.th} ${Ye.amountCell}`,children:"Amount"}),s.jsx("th",{className:Ye.th,children:s.jsx(Ho,{keyName:zo.gold,label:"Gold Bonus"})}),s.jsx("th",{className:Ye.th,children:s.jsx(Ho,{keyName:zo.xp,label:"XP Bonus"})}),s.jsx("th",{className:Ye.th,children:s.jsx(Ho,{keyName:zo.hp,label:"HP Bonus"})}),s.jsx("th",{className:Ye.th,children:s.jsx(Ho,{keyName:zo.totalRes,label:"Total Resistance"})}),s.jsx("th",{className:Ye.th,children:s.jsx(Ho,{keyName:zo.singleRes,label:"Single Resistance"})}),s.jsx("th",{className:Ye.th,children:s.jsx(Ho,{keyName:zo.elem,label:"Elemental Damage"})}),s.jsx("th",{className:Ye.th,children:s.jsx(Ho,{keyName:zo.item,label:"Improved Item Quality"})}),s.jsx("th",{className:Ye.th,children:s.jsx(Ho,{keyName:zo.epics,label:"Chances of Epics"})}),s.jsx("th",{className:Ye.th,children:"Tags"})]})}),s.jsx("tbody",{children:l.map(([c,u])=>{const h=Math.max(...u.map(m=>n0(m.amount)));return u.map((m,f)=>{var _,S,k,P,D,A,v,w;const y=Math.abs(n0(m.amount)-a)<1e-6,b=Are(m.note);return s.jsxs("tr",{className:Ye.dataRow,onMouseEnter:()=>r(c),onMouseLeave:()=>r(null),children:[f===0&&s.jsx("td",{className:`${Ye.td} ${Ye.tierCell} ${Math.abs(h-a)<1e-6?Ye.tierMax:""} ${n===c?Ye.tierCellHover:""}`,rowSpan:u.length,children:s.jsxs("div",{className:Ye.tierBox,children:[s.jsx("div",{className:Ye.tierIcon,children:c.slice(0,1).toUpperCase()}),s.jsxs("div",{className:Ye.tierTexts,children:[s.jsx("div",{className:Ye.tierName,children:c}),Hk[c]&&s.jsx(Cre,{name:Hk[c]})]})]})}),s.jsx("td",{className:`${Ye.td} ${Ye.amountCell}`,children:m.amount}),s.jsx("td",{className:`${Ye.td} ${Ye.bonusCell}`,children:(_=m.gold)!=null?_:""}),s.jsx("td",{className:`${Ye.td} ${Ye.bonusCell}`,children:(S=m.xp)!=null?S:""}),s.jsx("td",{className:`${Ye.td} ${Ye.bonusCell}`,children:(k=m.hp)!=null?k:""}),s.jsx("td",{className:`${Ye.td} ${Ye.bonusCell}`,children:(P=m.totalRes)!=null?P:""}),s.jsx("td",{className:`${Ye.td} ${Ye.bonusCell}`,children:(D=m.singleRes)!=null?D:""}),s.jsx("td",{className:`${Ye.td} ${Ye.bonusCell}`,children:(A=m.elemDmg)!=null?A:""}),s.jsx("td",{className:`${Ye.td} ${Ye.bonusCell}`,children:(v=m.itemQuality)!=null?v:""}),s.jsx("td",{className:`${Ye.td} ${Ye.bonusCell}`,children:(w=m.epics)!=null?w:""}),s.jsxs("td",{className:`${Ye.td} ${Ye.tags}`,children:[y&&s.jsx("span",{className:`${Ye.badge} ${Ye.badgeMax}`,children:"MAX"}),Tre(m.note)&&s.jsx("span",{className:`${Ye.badge} ${Ye.badgeAchiev}`,children:"Achievement"}),b==="x2"&&s.jsx("span",{className:`${Ye.badge} ${Ye.badgeX2}`,children:"x2"}),b==="x12"&&s.jsx("span",{className:`${Ye.badge} ${Ye.badgeX12}`,children:"x12"}),b==="x60"&&s.jsx("span",{className:`${Ye.badge} ${Ye.badgeX60}`,children:"x60"}),b==="x8"&&s.jsx("span",{className:Ye.badge,children:"x8"})]})]},`${c}-${f}`)})})})]})})]})}const Pre="_wrap_zrza7_11",Lre="_headerBar_zrza7_15",Dre="_title_zrza7_31",Mre="_meta_zrza7_33",Fre="_centerCol_zrza7_37",Bre="_text_zrza7_53",$re="_imageBox_zrza7_55",Ore="_imageFallback_zrza7_57",Vre="_credit_zrza7_59",$a={wrap:Pre,headerBar:Lre,title:Dre,meta:Mre,centerCol:Fre,text:Bre,imageBox:$re,imageFallback:Ore,credit:Vre};function Ure(){const t=wx("ambuildorder"),e=T.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),n=T.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,i=e||n||r;return s.jsxs("div",{className:$a.wrap,children:[s.jsxs("div",{className:$a.headerBar,children:[s.jsx("h2",{className:$a.title,children:"Arena Manager  Build Order"}),s.jsx("span",{className:$a.meta,children:"Last updated: 30.11.2024"})]}),s.jsxs("div",{className:$a.centerCol,children:[s.jsxs("div",{className:$a.text,children:[s.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),s.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",s.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?s.jsx("div",{className:$a.imageBox,children:s.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):s.jsx("div",{className:$a.imageFallback,children:""}),s.jsxs("p",{className:$a.credit,children:["Credit to ",s.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const zre=()=>s.jsx($s,{title:"Hellevator Guide"}),Hre=()=>s.jsx($s,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),Gre=()=>s.jsx($s,{title:"Event List"}),Wre=()=>s.jsx($s,{title:"Event Cycle"}),qre="_foCalc_18a5w_3",Kre="_panel_18a5w_211",Qre="_panelHead_18a5w_227",Xre="_panelTitle_18a5w_241",Yre="_controls_18a5w_243",Jre="_ctrlLabel_18a5w_245",Zre="_ctrlSelect_18a5w_249",eie="_tableWrap_18a5w_291",tie="_table_18a5w_291",sie="_th_18a5w_305",nie="_td_18a5w_321",rie="_row_18a5w_333",iie="_note_18a5w_335",zs={foCalc:qre,panel:Kre,panelHead:Qre,panelTitle:Xre,controls:Yre,ctrlLabel:Jre,ctrlSelect:Zre,tableWrap:eie,table:tie,th:sie,td:nie,row:rie,note:iie},NI={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},en=(t,e=0)=>t*3600+e*60,ie=[en(0,15),en(0,31),en(1,6),en(2,20),en(5,0),en(8,0),en(11,25),en(18,27),en(40,0),en(87,16),en(190,46),en(320,0),en(480,0),en(615,33),en(800,0)],ts=[en(1054,17),en(1122,51),en(1245,42),en(1343,20),en(1440,0)],aie={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:ie[0]},{level:2,wood:150,stone:50,gold:20,timeSec:ie[1]},{level:3,wood:440,stone:140,gold:30,timeSec:ie[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:ie[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:ie[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:ie[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:ie[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:ie[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:ie[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:ie[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:ie[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:ie[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:ie[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:ie[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:ie[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:ts[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:ts[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:ts[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:ts[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:ts[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:ie[0]},{level:2,wood:138,stone:46,gold:10,timeSec:ie[1]},{level:3,wood:406,stone:129,gold:15,timeSec:ie[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:ie[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:ie[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:ie[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:ie[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:ie[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:ie[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:ie[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:ie[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:ie[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:ie[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:ie[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:ie[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:ie[0]},{level:2,wood:28,stone:37,gold:14,timeSec:ie[1]},{level:3,wood:81,stone:103,gold:21,timeSec:ie[2]},{level:4,wood:203,stone:246,gold:28,timeSec:ie[3]},{level:5,wood:462,stone:591,gold:35,timeSec:ie[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:ie[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:ie[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:ie[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:ie[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:ie[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:ie[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:ie[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:ie[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:ie[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:ie[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:ts[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:ts[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:ts[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:ts[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:ts[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:ie[0]},{level:2,wood:160,stone:53,gold:50,timeSec:ie[1]},{level:3,wood:469,stone:149,gold:75,timeSec:ie[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:ie[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:ie[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:ie[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:ie[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:ie[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:ie[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:ie[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:ie[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:ie[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:ie[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:ie[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:ie[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:ie[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:ie[0]},{level:2,wood:200,stone:67,gold:30,timeSec:ie[1]},{level:3,wood:587,stone:187,gold:45,timeSec:ie[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:ie[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:ie[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:ie[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:ie[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:ie[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:ie[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:ie[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:ie[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:ie[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:ie[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:ie[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:ie[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:ts[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:ts[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:ts[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:ts[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:ts[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:en(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:ie[0]},{level:2,wood:30,stone:20,gold:4,timeSec:ie[1]},{level:3,wood:88,stone:56,gold:6,timeSec:ie[2]},{level:4,wood:220,stone:133,gold:8,timeSec:ie[3]},{level:5,wood:500,stone:320,gold:10,timeSec:ie[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:ie[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:ie[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:ie[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:ie[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:ie[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:ie[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:ie[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:ie[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:ie[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:ie[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:ts[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:ts[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:ts[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:ts[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:ts[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:ie[0]},{level:2,wood:90,stone:16,gold:6,timeSec:ie[1]},{level:3,wood:264,stone:45,gold:9,timeSec:ie[2]},{level:4,wood:660,stone:107,gold:12,timeSec:ie[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:ie[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:ie[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:ie[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:ie[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:ie[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:ie[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:ie[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:ie[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:ie[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:ie[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:ie[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:ts[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:ts[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:ts[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:ts[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:ts[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:ie[0]},{level:2,wood:82,stone:55,gold:8,timeSec:ie[1]},{level:3,wood:240,stone:153,gold:12,timeSec:ie[2]},{level:4,wood:600,stone:364,gold:16,timeSec:ie[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:ie[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:ie[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:ie[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:ie[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:ie[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:ie[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:ie[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:ie[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:ie[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:ie[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:ie[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:ie[0]},{level:2,wood:100,stone:33,gold:8,timeSec:ie[1]},{level:3,wood:293,stone:93,gold:12,timeSec:ie[2]},{level:4,wood:733,stone:222,gold:16,timeSec:ie[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:ie[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:ie[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:ie[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:ie[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:ie[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:ie[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:ie[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:ie[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:ie[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:ie[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:ie[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:ts[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:ts[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:ts[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:ts[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:ts[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:ie[0]},{level:2,wood:240,stone:61,gold:12,timeSec:ie[1]},{level:3,wood:675,stone:205,gold:18,timeSec:ie[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:ie[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:ie[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:ie[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:ie[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:ie[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:ie[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:ie[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:ie[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:ie[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:ie[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:ie[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:ie[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:ie[0]},{level:2,wood:164,stone:27,gold:10,timeSec:ie[1]},{level:3,wood:480,stone:76,gold:15,timeSec:ie[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:ie[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:ie[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:ie[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:ie[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:ie[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:ie[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:ie[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:ie[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:ie[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:ie[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:ie[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:ie[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:ie[0]},{level:2,wood:120,stone:53,gold:30,timeSec:ie[1]},{level:3,wood:352,stone:149,gold:45,timeSec:ie[2]},{level:4,wood:880,stone:356,gold:60,timeSec:ie[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:ie[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:ie[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:ie[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:ie[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:ie[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:ie[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:ie[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:ie[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:ie[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:ie[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:ie[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:ts[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:ts[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:ts[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:ts[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:ts[4]}]}},oie=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],lie="fortress",cie={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function die(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function Gk(t){const e=Math.max(0,Math.round(t)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,a=l=>l.toString().padStart(2,"0");return`${a(n)}:${a(r)}:${a(i)}`}const uie=()=>{const[t,e]=T.useState(lie),[n,r]=T.useState(1),i=T.useMemo(()=>{var m;const c=cie[t],u=NI[c],h=(m=u==null?void 0:u.id)!=null?m:u;return xc.gifProxy(h)||xc.gif(h)||""},[t]),a=T.useMemo(()=>{var c,u;return(u=(c=aie[t])==null?void 0:c.costs)!=null?u:[]},[t]),l=T.useMemo(()=>die(n),[n]);return s.jsxs("div",{className:`${zs.foCalc}`,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:c=>e(c.target.value),children:oie.map(c=>s.jsx("option",{value:c.key,children:c.label},c.key))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:zs.panel,children:[s.jsxs("div",{className:zs.panelHead,children:[s.jsxs("div",{className:zs.panelTitle,children:["Fortress  ",t]}),s.jsxs("div",{className:zs.controls,children:[s.jsx("span",{className:zs.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{className:zs.ctrlSelect,value:n,onChange:c=>r(parseInt(c.target.value,10)),children:Array.from({length:16},(c,u)=>u).map(c=>s.jsx("option",{value:c,children:c},c))})]})]}),s.jsx("div",{className:zs.tableWrap,children:s.jsxs("table",{className:zs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:zs.th,children:"Level"}),s.jsx("th",{className:zs.th,children:"Wood"}),s.jsx("th",{className:zs.th,children:"Stone"}),s.jsx("th",{className:zs.th,children:"Build Time"}),s.jsx("th",{className:zs.th,children:"Build Time (L2)"}),s.jsx("th",{className:zs.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:a.map(c=>{var f,y,b,_,S,k,P;const u=(f=c.timeSec)!=null?f:0,h=Math.round(u*(1-l)),m=Math.ceil(Math.ceil(h/60)/10);return s.jsxs("tr",{className:zs.row,children:[s.jsx("td",{className:zs.td,children:c.level}),s.jsx("td",{className:zs.td,children:(_=(b=(y=c.wood)==null?void 0:y.toLocaleString)==null?void 0:b.call(y))!=null?_:c.wood}),s.jsx("td",{className:zs.td,children:(P=(k=(S=c.stone)==null?void 0:S.toLocaleString)==null?void 0:k.call(S))!=null?P:c.stone}),s.jsx("td",{className:zs.td,children:Gk(u)}),s.jsx("td",{className:zs.td,children:Gk(h)}),s.jsx("td",{className:zs.td,children:m.toLocaleString()})]},c.level)})})]})}),s.jsx("div",{className:zs.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},hie="_uwCalc_64lws_3",mie="_panel_64lws_211",pie="_panelHead_64lws_227",fie="_panelTitle_64lws_241",gie="_controls_64lws_243",xie="_ctrlLabel_64lws_245",vie="_ctrlSelect_64lws_251",yie="_tableWrap_64lws_295",bie="_table_64lws_295",_ie="_th_64lws_309",wie="_td_64lws_325",jie="_row_64lws_337",Sie="_note_64lws_339",Ps={uwCalc:hie,panel:mie,panelHead:pie,panelTitle:fie,controls:gie,ctrlLabel:xie,ctrlSelect:vie,tableWrap:yie,table:bie,th:_ie,td:wie,row:jie,note:Sie},Nie={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},kie={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function Cie(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function Tie(t){const e=Math.max(0,t),n=Math.round(e),r=Math.floor(n/3600),i=Math.floor(n%3600/60),a=n%60;return{h:r,m:i,s:a}}function Wk(t){const{h:e,m:n,s:r}=Tie(t),i=a=>String(a).padStart(2,"0");return`${i(e)}:${i(n)}:${i(r)}`}function Aie(t,e){var i,a;const n=Cie(e);return((a=(i=kie[t])==null?void 0:i.costs)!=null?a:[]).map(l=>{const c=l.timeSec*(1-n),u=Math.ceil(Math.ceil(c/60)/10);return{...l,timeAdjSec:c,skipMushroomsAdj:u}})}const Eie=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],Iie=()=>{const[t,e]=T.useState("hearthofdarkngif"),[n,r]=T.useState(1),i=T.useMemo(()=>{var h;const c=NI[t],u=(h=c==null?void 0:c.id)!=null?h:c;return xc.gifProxy(u)||xc.gif(u)||""},[t]),a=T.useMemo(()=>{var c;return(c=Nie[t])!=null?c:"hearthofdarkn"},[t]),l=T.useMemo(()=>Aie(a,n),[a,n]);return s.jsxs("div",{className:Ps.uwCalc,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:c=>e(c.target.value),children:Eie.map(c=>s.jsx("option",{value:c,children:c.replace(/gif$/i,"")},c))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:Ps.panel,children:[s.jsxs("div",{className:Ps.panelHead,children:[s.jsxs("div",{className:Ps.panelTitle,children:["Underworld  ",a]}),s.jsxs("div",{className:Ps.controls,children:[s.jsx("label",{htmlFor:"uw-l2",className:Ps.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{id:"uw-l2",className:Ps.ctrlSelect,value:n,onChange:c=>r(parseInt(c.target.value,10)),children:Array.from({length:15},(c,u)=>u+1).map(c=>s.jsx("option",{value:c,children:c},c))})]})]}),s.jsx("div",{className:Ps.tableWrap,children:s.jsxs("table",{className:Ps.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Ps.th,children:"Level"}),s.jsx("th",{className:Ps.th,children:"Soul"}),s.jsx("th",{className:Ps.th,children:"Gold"}),s.jsx("th",{className:Ps.th,children:"Build Time"}),s.jsx("th",{className:Ps.th,children:"Build Time (L2)"}),s.jsx("th",{className:Ps.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:l.length===0?s.jsx("tr",{className:Ps.row,children:s.jsx("td",{className:Ps.td,colSpan:6,children:"No data for this building yet."})}):l.map(c=>s.jsxs("tr",{className:Ps.row,children:[s.jsx("td",{className:Ps.td,children:c.level}),s.jsx("td",{className:Ps.td,children:c.soul}),s.jsx("td",{className:Ps.td,children:c.gold}),s.jsx("td",{className:Ps.td,children:Wk(c.timeSec)}),s.jsx("td",{className:Ps.td,children:Wk(c.timeAdjSec)}),s.jsx("td",{className:Ps.td,children:c.skipMushroomsAdj})]},c.level))})]})}),s.jsx("p",{className:Ps.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},Rie=()=>s.jsx($s,{title:"Max Item Stats Calculator"}),Pie="_wrap_mnr0g_1",Lie="_card_mnr0g_13",Die="_title_mnr0g_33",Mie="_form_mnr0g_45",Fie="_field_mnr0g_57",Bie="_input_mnr0g_71",$ie="_gemsRow_mnr0g_87",Oie="_gemBox_mnr0g_101",Vie="_disabled_mnr0g_127",Uie="_gemImg_mnr0g_135",zie="_gemFallback_mnr0g_149",Hie="_normalGem_mnr0g_165",Gie="_blackGem_mnr0g_173",Wie="_legendaryGem_mnr0g_181",qie="_gemLabel_mnr0g_189",Kie="_gemValue_mnr0g_199",Qie="_hint_mnr0g_211",ds={wrap:Pie,card:Lie,title:Die,form:Mie,field:Fie,input:Bie,gemsRow:$ie,gemBox:Oie,disabled:Vie,gemImg:Uie,gemFallback:zie,normalGem:Hie,blackGem:Gie,legendaryGem:Wie,gemLabel:qie,gemValue:Kie,hint:Qie},Xie={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},Yie=.25,Ng=t=>Math.round(Number.isFinite(t)?t:0);function Jie(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const k=e*Yie*(1+(n-1)*.25)+r/3;return Ng(k)}const{A:i,B:a,C:l,D:c,E:u,F:h,G:m,H:f,I:y,J:b}=Xie,S=i+a*e+l/n+c*e**2+u/n**2+h*e/n+m*e**3+f/n**3+y*e/n**2+b*e**2/n+r/3;return Ng(S)}function Zie(t){return Ng(t*(2/3))}function eae(t){return Ng(t)}const r0={char:1e3,mine:100,hok:1e3},kI=({initialState:t,onStateChange:e})=>{var S,k,P;const[n,r]=T.useState((S=t==null?void 0:t.charLevel)!=null?S:""),[i,a]=T.useState((k=t==null?void 0:t.mineLevel)!=null?k:""),[l,c]=T.useState((P=t==null?void 0:t.guildHoKLevel)!=null?P:""),u=(D,A,v)=>{e&&(typeof D!="number"||typeof A!="number"||typeof v!="number"||e({charLevel:D,mineLevel:A,guildHoKLevel:v}))},h=T.useMemo(()=>n===""||i===""||l===""?null:Jie({charLevel:Number(n),mineLevel:Number(i),guildHoK:Number(l)}),[n,i,l]),m=T.useMemo(()=>h==null?null:Zie(h),[h]),f=T.useMemo(()=>h==null?null:eae(h),[h]),y=dc("luckbig"),b=dc("blackbig"),_=dc("legendarybig");return s.jsx("div",{className:ds.wrap,children:s.jsxs("div",{className:ds.card,children:[s.jsx("h2",{className:ds.title,children:"Gem Calculator"}),s.jsxs("div",{className:ds.form,children:[s.jsxs("label",{className:ds.field,children:[s.jsx("span",{children:"Char Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:ds.input,placeholder:"e.g., 360",value:n,onChange:D=>{const A=D.currentTarget.value;if(A===""){r("");return}const v=Number(A),w=Number.isFinite(v)?v:"";r(w),u(w,i,l)},max:r0.char})]}),s.jsxs("label",{className:ds.field,children:[s.jsx("span",{children:"Mine Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:ds.input,placeholder:"e.g., 10",value:i,onChange:D=>{const A=D.currentTarget.value;if(A===""){a("");return}const v=Number(A),w=Number.isFinite(v)?v:"";a(w),u(n,w,l)},max:r0.mine})]}),s.jsxs("label",{className:ds.field,children:[s.jsx("span",{children:"Guild HoK"}),s.jsx("input",{type:"number",inputMode:"numeric",className:ds.input,placeholder:"e.g., 840",value:l,onChange:D=>{const A=D.currentTarget.value;if(A===""){c("");return}const v=Number(A),w=Number.isFinite(v)?v:"";c(w),u(n,i,w)},max:r0.hok})]})]}),s.jsxs("div",{className:ds.gemsRow,children:[s.jsxs("div",{className:`${ds.gemBox} ${h==null?ds.disabled:""}`,children:[y?s.jsx("img",{className:ds.gemImg,src:y,alt:"Normal Gem"}):s.jsx("div",{className:`${ds.gemFallback} ${ds.normalGem}`}),s.jsx("div",{className:ds.gemLabel,children:"Normal"}),s.jsx("div",{className:ds.gemValue,children:h!=null?h:"-"})]}),s.jsxs("div",{className:`${ds.gemBox} ${m==null?ds.disabled:""}`,children:[b?s.jsx("img",{className:ds.gemImg,src:b,alt:"Black Gem"}):s.jsx("div",{className:`${ds.gemFallback} ${ds.blackGem}`}),s.jsx("div",{className:ds.gemLabel,children:"Black"}),s.jsx("div",{className:ds.gemValue,children:m!=null?m:"-"})]}),s.jsxs("div",{className:`${ds.gemBox} ${f==null?ds.disabled:""}`,children:[_?s.jsx("img",{className:ds.gemImg,src:_,alt:"Legendary Gem"}):s.jsx("div",{className:`${ds.gemFallback} ${ds.legendaryGem}`}),s.jsx("div",{className:ds.gemLabel,children:"Legendary"}),s.jsx("div",{className:ds.gemValue,children:f!=null?f:"-"})]})]}),s.jsxs("p",{className:ds.hint,children:["The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},tae="_container_19zdf_1",sae="_headerBar_19zdf_13",nae="_title_19zdf_31",rae="_meta_19zdf_47",iae="_description_19zdf_59",Zu={container:tae,headerBar:sae,title:nae,meta:rae,description:iae},CI=({title:t,meta:e,description:n})=>s.jsxs("header",{className:Zu.container,children:[s.jsxs("div",{className:Zu.headerBar,children:[s.jsx("h2",{className:Zu.title,children:t}),e&&s.jsx("span",{className:Zu.meta,children:e})]}),n&&s.jsx("p",{className:Zu.description,children:n})]}),aae=()=>s.jsxs(s.Fragment,{children:[s.jsx(CI,{title:"Gem Calculator",meta:"last updated: 08.11.2024",description:s.jsxs(s.Fragment,{children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]})}),s.jsx(kI,{})]}),oae="_wrapper_67xyv_1",lae="_panel_67xyv_11",cae="_header_67xyv_27",dae="_title_67xyv_41",uae="_resetBtn_67xyv_53",hae="_table_67xyv_73",mae="_row_67xyv_99",pae="_name_67xyv_115",fae="_selectCell_67xyv_125",gae="_sumCell_67xyv_143",xae="_footer_67xyv_155",vae="_footerLine_67xyv_175",yae="_note_67xyv_187",tn={wrapper:oae,panel:lae,header:cae,title:dae,resetBtn:uae,table:hae,row:mae,name:pae,selectCell:fae,sumCell:gae,footer:xae,footerLine:vae,note:yae};function Th(t,e,n){var l;if(!Array.isArray(t)||e<=0||n<=0)return 0;const r=Math.min(e,n),i=Math.max(e,n);let a=0;for(let c=r;c<=i;c++)a+=(l=t[c])!=null?l:0;return a}function bae(t){const e=[0];for(let n=1;n<=t;n++)e.push(n);return e}function $t(t,e){const n=[0,...t.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const _ae=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:$t([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:$t([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:$t([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:$t([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:$t([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:$t([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:$t([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:$t([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:$t([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:$t([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:$t([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:$t([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:$t([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:$t([0,0,0,0,0,0,0,0,0,0],10)}],wae=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:$t([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:$t([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:$t([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:$t([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:$t([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:$t([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:$t([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:$t([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:$t([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:$t([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:$t([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:$t([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:$t([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:$t([0,0,0,0,0,0,0,0,0,0],10)}],qk=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],jae=(()=>{const t=[0,...qk],e=1e3-qk.length;for(let n=0;n<e;n++)t.push(3e7);return t})(),Sae=$t([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),Nae=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),Wa={light:_ae.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:wae.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:jae,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:Sae,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:Nae,specialType:"sandstorm"}]},kg=t=>t.toLocaleString("en-US");function Kk(){const t={},e={},n={};return Wa.light.forEach(r=>t[r.key]={from:0,to:0}),Wa.shadow.forEach(r=>e[r.key]={from:0,to:0}),Wa.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:t,shadow:e,special:n}}function TI({row:t,range:e,onChange:n}){var c,u;const r=T.useMemo(()=>bae(t.maxLevel),[t.maxLevel]),i=(c=e.from)!=null?c:0,a=(u=e.to)!=null?u:0,l=T.useMemo(()=>i===0||a===0?0:Th(t.levels,i,a),[t.levels,i,a]);return s.jsxs("tr",{className:tn.row,children:[s.jsx("td",{className:tn.name,children:t.name}),s.jsx("td",{className:tn.selectCell,children:s.jsx("select",{value:i,onChange:h=>n({from:Number(h.target.value),to:a}),children:r.map(h=>s.jsx("option",{value:h,children:h===0?"":h},h))})}),s.jsx("td",{className:tn.selectCell,children:s.jsx("select",{value:a,onChange:h=>n({from:i,to:Number(h.target.value)}),children:r.map(h=>s.jsx("option",{value:h,children:h===0?"":h},h))})}),s.jsxs("td",{className:tn.sumCell,children:[kg(l)," XP"]})]})}function Qk({title:t,rows:e,ranges:n,setRanges:r}){const i=T.useMemo(()=>e.reduce((a,l)=>{const c=n[l.key]||{from:0,to:0};return a+Th(l.levels,c.from,c.to)},0),[e,n]);return s.jsxs("div",{className:tn.panel,children:[s.jsx("div",{className:tn.header,children:s.jsx("div",{className:tn.title,children:t})}),s.jsxs("table",{className:tn.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum XP"})]})}),s.jsx("tbody",{children:e.map(a=>{var l;return s.jsx(TI,{row:a,range:(l=n[a.key])!=null?l:{from:0,to:0},onChange:c=>r(a.key,c)},a.key)})})]}),s.jsx("div",{className:tn.footer,children:s.jsxs("div",{className:tn.footerLine,children:[s.jsxs("span",{children:["Sum Total ",t]}),s.jsxs("span",{children:[kg(i)," XP"]})]})})]})}function AI({initialState:t,onStateChange:e}){var D,A,v;const n=T.useMemo(()=>Kk(),[]),[r,i]=T.useState((D=t==null?void 0:t.light)!=null?D:n.light),[a,l]=T.useState((A=t==null?void 0:t.shadow)!=null?A:n.shadow),[c,u]=T.useState((v=t==null?void 0:t.special)!=null?v:n.special),h=(w,L,C)=>{e&&e({light:w,shadow:L,special:C})},m=(w,L)=>{i(C=>{const N={...C,[w]:L};return h(N,a,c),N})},f=(w,L)=>{l(C=>{const N={...C,[w]:L};return h(r,N,c),N})},y=(w,L)=>{u(C=>{const N={...C,[w]:L};return h(r,a,N),N})};T.useEffect(()=>{var w,L,C;if(t){i((w=t.light)!=null?w:n.light),l((L=t.shadow)!=null?L:n.shadow),u((C=t.special)!=null?C:n.special);return}i(n.light),l(n.shadow),u(n.special)},[t,n]);const b=T.useMemo(()=>Wa.light.reduce((w,L)=>{const C=r[L.key];return w+(C?Th(L.levels,C.from,C.to):0)},0),[r]),_=T.useMemo(()=>Wa.shadow.reduce((w,L)=>{const C=a[L.key];return w+(C?Th(L.levels,C.from,C.to):0)},0),[a]),S=T.useMemo(()=>Wa.special.reduce((w,L)=>{const C=c[L.key];return w+(C?Th(L.levels,C.from,C.to):0)},0),[c]),k=b+_+S,P=()=>{const w=Kk();i(w.light),l(w.shadow),u(w.special),h(w.light,w.shadow,w.special)};return s.jsxs("div",{className:tn.wrapper,children:[s.jsx(Qk,{title:"Light World",rows:Wa.light,ranges:r,setRanges:m}),s.jsx(Qk,{title:"Shadow World",rows:Wa.shadow,ranges:a,setRanges:f}),s.jsxs("div",{className:tn.panel,children:[s.jsxs("div",{className:tn.header,children:[s.jsx("div",{className:tn.title,children:"Special Dungeons"}),s.jsx("button",{className:tn.resetBtn,onClick:P,children:"RESET"})]}),s.jsxs("table",{className:tn.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum"})]})}),s.jsx("tbody",{children:Wa.special.map(w=>{var L;return s.jsx(TI,{row:w,range:(L=c[w.key])!=null?L:{from:0,to:0},onChange:C=>y(w.key,C)},w.key)})})]}),s.jsxs("div",{className:tn.footer,children:[s.jsxs("div",{className:tn.footerLine,children:[s.jsx("span",{children:"Sum Total Special"}),s.jsxs("span",{children:[kg(S)," XP"]})]}),s.jsxs("div",{className:tn.footerLine,children:[s.jsx("span",{children:"Total XP"}),s.jsxs("span",{children:[kg(k)," XP"]})]}),s.jsxs("div",{className:tn.note,children:["Flle die XP-Arrays in ",s.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function kae(){return s.jsx("div",{style:{padding:12},children:s.jsx(AI,{})})}const Cae=()=>s.jsx($s,{title:"Progression  Early Game"}),Tae="_wrap_n2poq_31",Aae="_title_n2poq_33",Eae="_infoBox_n2poq_39",Iae="_infoTitle_n2poq_63",Rae="_infoList_n2poq_73",Pae="_section_n2poq_89",Lae="_h2_n2poq_101",Dae="_h3_n2poq_103",Mae="_intro_n2poq_105",Fae="_ul_n2poq_107",Bae="_img_n2poq_113",Ss={wrap:Tae,title:Aae,infoBox:Eae,infoTitle:Iae,infoList:Rae,section:Pae,h2:Lae,h3:Dae,intro:Mae,ul:Fae,img:Bae},$ae=()=>{fl();const t=[dc("first-weekend-guide-day1",900),dc("first-weekend-guide-day2",900),dc("first-weekend-guide-day3",900)];return s.jsxs("div",{className:Ss.wrap,children:[s.jsx("h1",{className:Ss.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:Ss.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:Ss.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:Ss.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:Ss.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:Ss.section,children:[s.jsx("h2",{className:Ss.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:Ss.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:Ss.section,children:[s.jsx("h2",{className:Ss.h2,children:"Day 1"}),s.jsx("h3",{className:Ss.h3,children:"Level 13"}),s.jsxs("ul",{className:Ss.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:Ss.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:Ss.section,children:[s.jsx("h3",{className:Ss.h3,children:"Level 410"}),s.jsxs("ul",{className:Ss.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:Ss.section,children:[s.jsx("h2",{className:Ss.h2,children:"Day 2"}),s.jsx("h3",{className:Ss.h3,children:"Level 1015"}),s.jsxs("ul",{className:Ss.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:Ss.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:Ss.section,children:[s.jsx("h2",{className:Ss.h2,children:"Day 3"}),s.jsx("h3",{className:Ss.h3,children:"Level 1520"}),s.jsxs("ul",{className:Ss.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:Ss.img,src:t[2],alt:"Day 3 overview"})]})]})},Oae=()=>s.jsx($s,{title:"Max Item Stats Calculator"}),Vae=()=>s.jsx($s,{title:"Fortress Package skip order (Early)"}),Uae=()=>s.jsx($s,{title:"Underworld Pro Package skip order (Early)"}),zae=()=>s.jsx($s,{title:"Gem Calculator (Early)"}),Hae=()=>s.jsx($s,{title:"Fortress attack duplication guide (Early)"}),Gae=()=>s.jsx($s,{title:"Progression  Mid Game"}),Wae="_wrap_1x7jo_31",qae="_header_1x7jo_35",Kae="_titles_1x7jo_55",Qae="_h1_1x7jo_57",Xae="_lead_1x7jo_59",Yae="_ctaRow_1x7jo_63",Jae="_cta_1x7jo_63",Zae="_section_1x7jo_85",eoe="_sectionGrid_1x7jo_87",toe="_card_1x7jo_99",soe="_h2_1x7jo_103",noe="_h3_1x7jo_105",roe="_p_1x7jo_107",ioe="_ul_1x7jo_111",aoe="_ol_1x7jo_111",ooe="_figure_1x7jo_117",loe="_figureNarrow_1x7jo_139",coe="_img_1x7jo_149",doe="_fallbackImg_1x7jo_151",uoe="_figCaption_1x7jo_159",hoe="_tableWrap_1x7jo_163",moe="_table_1x7jo_163",poe="_footer_1x7jo_217",foe="_tools_1x7jo_219",goe="_toolBtn_1x7jo_221",Yt={wrap:Wae,header:qae,titles:Kae,h1:Qae,lead:Xae,ctaRow:Yae,cta:Jae,section:Zae,sectionGrid:eoe,card:toe,h2:soe,h3:noe,p:roe,ul:ioe,ol:aoe,figure:ooe,figureNarrow:loe,img:coe,fallbackImg:doe,figCaption:uoe,tableWrap:hoe,table:moe,footer:poe,tools:foe,toolBtn:goe},xoe=1400;function voe(){const t=T.useMemo(()=>dc("goldxpcurve",xoe),[]);return s.jsxs("div",{className:Yt.wrap,children:[s.jsxs("header",{className:Yt.header,children:[s.jsxs("div",{className:Yt.titles,children:[s.jsx("h1",{className:Yt.h1,children:"Dungeon Pause"}),s.jsx("p",{className:Yt.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:Yt.ctaRow,children:[s.jsx(xs,{className:Yt.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(xs,{className:Yt.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:Yt.section,children:[s.jsx("h2",{className:Yt.h2,children:"Worum gehts?"}),s.jsxs("p",{className:Yt.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:Yt.section,children:[s.jsx("h3",{className:Yt.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${Yt.figure} ${Yt.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:Yt.img}):s.jsx("div",{className:Yt.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:Yt.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:Yt.sectionGrid,children:[s.jsxs("div",{className:Yt.card,children:[s.jsx("h3",{className:Yt.h3,children:"Start & Ende"}),s.jsxs("ul",{className:Yt.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:Yt.card,children:[s.jsx("h3",{className:Yt.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:Yt.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:Yt.section,children:[s.jsx("h3",{className:Yt.h3,children:"Vorgehen"}),s.jsxs("ol",{className:Yt.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:Yt.section,children:[s.jsx("h3",{className:Yt.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:Yt.tableWrap,children:s.jsxs("table",{className:Yt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:Yt.footer,children:s.jsxs("div",{className:Yt.tools,children:[s.jsx(xs,{className:Yt.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(xs,{className:Yt.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const yoe=()=>s.jsx($s,{title:"Dungeon Pause open XP Calculator"}),boe="_wrap_1uhww_3",_oe="_headerBar_1uhww_15",woe="_title_1uhww_33",joe="_meta_1uhww_45",Soe="_description_1uhww_55",Noe="_section_1uhww_69",koe="_sectionTitle_1uhww_77",Coe="_steps_1uhww_87",aa={wrap:boe,headerBar:_oe,title:woe,meta:joe,description:Soe,section:Noe,sectionTitle:koe,steps:Coe};function Toe(){return s.jsxs("div",{className:aa.wrap,children:[s.jsxs("div",{className:aa.headerBar,children:[s.jsx("h2",{className:aa.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:aa.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:aa.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:aa.section,children:[s.jsx("h3",{className:aa.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:aa.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:aa.section,children:[s.jsx("h3",{className:aa.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const Aoe=()=>s.jsx($s,{title:"Gem Calculator (Mid)"}),Eoe=()=>s.jsx($s,{title:"Calendar Skip"}),Ioe=()=>s.jsx($s,{title:"Progression  Late Game"}),Roe="_layout_13sgm_29",Poe="_side_13sgm_49",Loe="_sideHead_13sgm_61",Doe="_search_13sgm_71",Moe="_spotBtn_13sgm_89",Foe="_sideList_13sgm_109",Boe="_sideItem_13sgm_111",$oe="_active_13sgm_119",Ooe="_sideTitle_13sgm_121",Voe="_ico_13sgm_123",Uoe="_badge_13sgm_125",zoe="_detail_13sgm_139",Hoe="_detailInner_13sgm_141",Goe="_detailHead_13sgm_143",Woe="_detailTitle_13sgm_145",qoe="_empty_13sgm_147",Koe="_grid_13sgm_151",Qoe="_card_13sgm_157",Xoe="_cardHead_13sgm_175",Yoe="_btnGrid_13sgm_177",Joe="_itemBtn_13sgm_179",Zoe="_spotWrap_13sgm_203",ele="_spot_13sgm_89",tle="_spotHead_13sgm_227",sle="_spotSearch_13sgm_235",nle="_spotClose_13sgm_243",rle="_spotList_13sgm_253",ile="_spotItem_13sgm_255",ale="_spotItemEmpty_13sgm_259",ole="_spotCat_13sgm_261",lle="_spotLabel_13sgm_263",cle="_mark_13sgm_267",qt={layout:Roe,side:Poe,sideHead:Loe,search:Doe,spotBtn:Moe,sideList:Foe,sideItem:Boe,active:$oe,sideTitle:Ooe,ico:Voe,badge:Uoe,detail:zoe,detailInner:Hoe,detailHead:Goe,detailTitle:Woe,empty:qoe,grid:Koe,card:Qoe,cardHead:Xoe,btnGrid:Yoe,itemBtn:Joe,spotWrap:Zoe,spot:ele,spotHead:tle,spotSearch:sle,spotClose:nle,spotList:rle,spotItem:ile,spotItemEmpty:ale,spotCat:ole,spotLabel:lle,mark:cle};function dle(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function eh(t,e){if(!e)return t;const n=new RegExp(`(${dle(e)})`,"ig");return t.replace(n,`<mark class="${qt.mark}">$1</mark>`)}function Xk(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of n.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function ule(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const i of n.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(l=>l.sub2&&l.sub2.length))for(const l of i.sub2)if(l.sub2&&l.sub2.length)for(const c of l.sub2)e.push({full:`${r}  ${i.label}  ${l.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else e.push({full:`${r}  ${i.label}  ${l.label}`,catKey:n.key,subKey:i.key,sub2Key:l.key});else for(const l of i.sub2)e.push({full:`${r}  ${i.label}  ${l.label}`,catKey:n.key,subKey:i.key,sub2Key:l.key});else e.push({full:`${r}  ${i.label}`,catKey:n.key,subKey:i.key})}return e}function hle(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const mle=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,i]=T.useState(()=>{var D;return((D=t==null?void 0:t[0])==null?void 0:D.key)||""}),[a,l]=T.useState(""),[c,u]=T.useState(!1),h=T.useRef(null),m=T.useMemo(()=>{const D=a.trim().toLowerCase();if(!D)return t;const A=v=>v.toLowerCase().includes(D);return t.map(v=>{const w=A(v.label),L=[];for(const C of v.sub||[]){const N=A(C.label);if(C.sub2&&C.sub2.length)if(C.sub2.some(F=>F.sub2&&F.sub2.length)){const F=[];for(const I of C.sub2)if(I.sub2&&I.sub2.length){const B=I.sub2.filter($=>A($.label));B.length&&F.push({...I,sub2:B})}else A(I.label)&&F.push(I);(N||F.length)&&L.push({...C,sub2:F})}else{const F=C.sub2.filter(I=>A(I.label));(N||F.length)&&L.push({...C,sub2:F})}else N&&L.push(C)}return w||L.length?{...v,sub:L.length?L:v.sub}:null}).filter(Boolean)},[t,a]),f=T.useMemo(()=>{const D=m.length?m:t,A=hle(D,r);return D.find(v=>v.key===A)||D[0]||null},[m,t,r]),y=T.useMemo(()=>ule(t),[t]),[b,_]=T.useState(""),S=T.useMemo(()=>{const D=b.trim().toLowerCase();return D?y.filter(A=>A.full.toLowerCase().includes(D)):y},[y,b]);T.useEffect(()=>{const D=A=>{const v=A.key.toLowerCase()==="k";(A.metaKey||A.ctrlKey)&&v&&(A.preventDefault(),u(!0),setTimeout(()=>{var w;return(w=h.current)==null?void 0:w.focus()},0)),A.key==="Escape"&&u(!1)};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[]);const k=T.useRef(null);T.useEffect(()=>{var D;n&&((D=k.current)==null||D.focus())},[n]);const P=()=>{var L;const D=a.trim().toLowerCase(),A=(D?y.find(C=>C.full.toLowerCase().includes(D)):y[0])||null;if(A){e({tab:A.catKey,sub:A.subKey,sub2:A.sub2Key});return}const v=f,w=(L=v==null?void 0:v.sub)==null?void 0:L[0];if(!(!v||!w))if(w.sub2&&w.sub2.length)if(w.sub2.some(N=>N.sub2&&N.sub2.length)){const N=w.sub2[0];N.sub2&&N.sub2.length?e({tab:v.key,sub:w.key,sub2:N.sub2[0].key}):e({tab:v.key,sub:w.key,sub2:N.key})}else e({tab:v.key,sub:w.key,sub2:w.sub2[0].key});else e({tab:v.key,sub:w.key})};return s.jsxs("div",{className:qt.layout,children:[s.jsxs("div",{className:qt.side,children:[s.jsxs("div",{className:qt.sideHead,children:[s.jsx("input",{ref:k,className:qt.search,type:"search",placeholder:"Suche",value:a,onChange:D=>l(D.target.value),onKeyDown:D=>{D.key==="Enter"&&P()}}),s.jsx("button",{className:qt.spotBtn,type:"button",onClick:()=>{u(!0),setTimeout(()=>{var D;return(D=h.current)==null?void 0:D.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:qt.sideList,children:(m.length?m:t).map(D=>s.jsxs("div",{className:`${qt.sideItem} ${(f==null?void 0:f.key)===D.key?qt.active:""}`,onClick:()=>i(D.key),children:[s.jsxs("span",{className:qt.sideTitle,children:[D.icon?s.jsx("span",{className:qt.ico,"aria-hidden":!0,children:D.icon}):null,D.label]}),s.jsx("span",{className:qt.badge,children:Xk(D.sub)})]},D.key))})]}),s.jsx("div",{className:qt.detail,children:f?s.jsxs("div",{className:qt.detailInner,children:[s.jsxs("div",{className:qt.detailHead,children:[s.jsxs("h3",{className:qt.detailTitle,children:[f.icon?s.jsx("span",{className:qt.ico,"aria-hidden":!0,children:f.icon}):null,f.label]}),s.jsxs("div",{className:qt.badge,children:[Xk(f.sub)," Eintrge"]})]}),s.jsx("div",{className:qt.grid,children:(f.sub||[]).map(D=>{const A=D.sub2&&D.sub2.length>0,v=A&&D.sub2.some(w=>w.sub2&&w.sub2.length);return s.jsxs("div",{className:qt.card,children:[s.jsx("div",{className:qt.cardHead,dangerouslySetInnerHTML:{__html:eh(D.label,a)}}),A?s.jsx("div",{className:qt.btnGrid,children:v?D.sub2.flatMap(w=>w.sub2&&w.sub2.length?w.sub2.map(L=>s.jsx("button",{className:qt.itemBtn,onClick:()=>e({tab:f.key,sub:D.key,sub2:L.key}),dangerouslySetInnerHTML:{__html:eh(`${w.label}  ${L.label}`,a)}},`${w.key}__${L.key}`)):[s.jsx("button",{className:qt.itemBtn,onClick:()=>e({tab:f.key,sub:D.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:eh(w.label,a)}},w.key)]):D.sub2.map(w=>s.jsx("button",{className:qt.itemBtn,onClick:()=>e({tab:f.key,sub:D.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:eh(w.label,a)}},w.key))}):s.jsx("div",{className:qt.btnGrid,children:s.jsx("button",{className:qt.itemBtn,onClick:()=>e({tab:f.key,sub:D.key}),dangerouslySetInnerHTML:{__html:eh(D.label,a)}})})]},D.key)})}),a&&f.sub&&f.sub.length>0&&f.sub.every(D=>!D.sub2||!D.sub2.length?!D.label.toLowerCase().includes(a.trim().toLowerCase()):D.sub2.some(v=>v.sub2&&v.sub2.length)?D.sub2.every(v=>v.sub2&&v.sub2.length?v.sub2.every(w=>!w.label.toLowerCase().includes(a.trim().toLowerCase())):!v.label.toLowerCase().includes(a.trim().toLowerCase())):D.sub2.every(v=>!v.label.toLowerCase().includes(a.trim().toLowerCase())))?s.jsxs("div",{className:qt.empty,children:["Keine Treffer in ",f.label,"."]}):null]}):s.jsx("div",{className:qt.empty,children:"Keine Kategorie gefunden."})}),c&&s.jsx("div",{className:qt.spotWrap,onClick:()=>u(!1),children:s.jsxs("div",{className:qt.spot,onClick:D=>D.stopPropagation(),children:[s.jsxs("div",{className:qt.spotHead,children:[s.jsx("input",{ref:h,className:qt.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:b,onChange:D=>_(D.target.value)}),s.jsx("button",{className:qt.spotClose,onClick:()=>u(!1),children:"Esc"})]}),s.jsx("div",{className:qt.spotList,children:S.length===0?s.jsx("div",{className:qt.spotItemEmpty,children:"Keine Treffer"}):S.map((D,A)=>s.jsxs("div",{className:qt.spotItem,onClick:()=>{u(!1),e({tab:D.catKey,sub:D.subKey,sub2:D.sub2Key})},children:[s.jsx("div",{className:qt.spotCat,children:D.catKey}),s.jsx("div",{className:qt.spotLabel,children:D.full})]},A))})]})})]})},ple={gamefeatures:one,progression:lne,hellevator:cne,"legendary-dungeon":dne,events:une,calculators:Sne,infographics:Nne,"class-book":kne,dungeons:Cne},Yk={gamefeatures:{fortress:Tne,underworld:zne,arenaam:Wne},hellevator:{"hellevator-guide":zre},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":Hre},events:{"event-list":Gre,"event-cycle":Wre},calculators:{"fortress-calculator":uie,"underworld-calculator":Iie,"max-item-stats-calculator":Rie,"gem-calculator":aae,"dungeon-pause-open-xp-calculator":kae},progression:{early:Cae,mid:Gae,late:Ioe}},i0={gamefeatures:{arenaam:{"am-rune-bonuses":Rre,"am-build-order":Ure},underworld:{"underworld-calculator":Hne,"underworld-pro-package-skip-order":Gne},fortress:{"fortress-calculator":Ane,"fortress-package-skip-order":Vne,"fortress-attack-duplication":Une}},progression:{early:{"first-weekend-guide":$ae,"max-item-stats-calculator":Oae,"fortress-package-skip-order":Vae,"underworld-pro-package-skip-order":Uae,"gem-calculator":zae,"fortress-attack-duplication":Hae},mid:{"dungeon-pause":voe,"dungeon-pause-open-xp-calculator":yoe,"dungeon-pause-exit":Toe,"gem-calculator":Aoe,"calendar-skip":Eoe}}};function fle(){const[t,e]=fl(),n=t.get("tab")||"",r=t.get("sub")||"",i=t.get("sub2")||"";let a=null;n?n&&!r?a=ple[n]||null:n&&r&&!i?a=Yk[n]&&Yk[n][r]||null:n&&r&&i&&(a=i0[n]&&i0[n][r]&&i0[n][r][i]||null):a=null;const l=c=>{const u=new URLSearchParams(t);u.set("tab",c.tab),c.sub?u.set("sub",c.sub):u.delete("sub"),c.sub2?u.set("sub2",c.sub2):u.delete("sub2"),e(u,{replace:!1})};return s.jsxs(Vt,{children:[s.jsx("div",{className:dd.topWrap,children:s.jsx(Zse,{logoSrc:ane,categories:Uk,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:dd.divider}),s.jsx("div",{className:dd.contentArea,children:a?s.jsx(a,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:dd.placeholder,children:[s.jsx("h2",{className:dd.placeholderTitle,children:"Guides"}),s.jsx("p",{className:dd.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(mle,{categories:Uk,onNavigate:l,autoFocusSearch:!1})]})})]})}const gle="_wrap_1353r_1",xle="_centerLogoWrap_1353r_21",vle="_centerLogoLink_1353r_37",yle="_centerLogo_1353r_21",ble="_arc_1353r_71",_le="_left_1353r_73",wle="_right_1353r_75",jle="_sub_1353r_77",Sle="_full_1353r_79",Nle="_arcItem_1353r_81",kle="_iconBtn_1353r_87",Cle="_active_1353r_141",Tle="_iconImg_1353r_151",Ale="_placeholderIcon_1353r_155",Ele="_placeholderText_1353r_173",Ile="_iconLabel_1353r_177",Hn={wrap:gle,centerLogoWrap:xle,centerLogoLink:vle,centerLogo:yle,arc:ble,left:_le,right:wle,sub:jle,full:Sle,arcItem:Nle,iconBtn:kle,active:Cle,iconImg:Tle,placeholderIcon:Ale,placeholderText:Ele,iconLabel:Ile},Rle=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Vr();let a=!1;try{const l=new URLSearchParams(i),c=l.get("tab"),u=l.get("sub"),m=new URL(t,window.location.origin).searchParams,f=m.get("tab"),y=m.get("sub");a=r==="sub"?c===f&&!!y&&u===y:c===f}catch(l){a=!1}return s.jsxs(xs,{to:t,"aria-label":e,className:[Hn.iconBtn,r==="sub"?Hn.muted:"",a?Hn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Hn.iconImg}):s.jsx("div",{className:Hn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Hn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Hn.iconLabel,children:e})]})},a0=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:a=220,outerOffset:l=440})=>{const c=T.useMemo(()=>{const h=t.length;if(h===0)return[];let m=-90,f=90;e==="left"?(m=90,f=270):e==="sub"?n==="left"?(m=90,f=270):(m=-90,f=90):e==="full"&&(m=0,f=360);const y=(f-m)/(h+1),b=r?190:250;return t.map((_,S)=>{const P=(m+y*(S+1))*Math.PI/180;return{it:_,x:Math.cos(P)*b,y:Math.sin(P)*b}})},[t,e,n,r]),u=(()=>{const h={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?h.left=`calc(50% - ${a}px)`:e==="right"?h.left=`calc(50% + ${a}px)`:e==="sub"&&(h.left=n==="left"?`calc(50% - ${l}px)`:`calc(50% + ${l}px)`),h})();return s.jsx("div",{className:[Hn.arc,e==="left"?Hn.left:"",e==="right"?Hn.right:"",e==="sub"?Hn.sub:"",e==="full"?Hn.full:""].join(" "),style:u,children:c.map(({it:h,x:m,y:f})=>s.jsx("div",{className:Hn.arcItem,style:{transform:`translate(${m}px, ${f}px)`},children:s.jsx(Rle,{to:h.to,label:h.label,icon:h.icon,variant:i})},h.key))})},Ple=["creators","scans","predictions","news","records","feedback"],w1=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"records",label:"Records",to:"/community?tab=records",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],Lle={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}],records:[]},Dle=new Set(Ple),Mle=w1.reduce((t,e)=>(t[e.key]=e,t),{}),Fle=t=>typeof t=="string"&&Dle.has(t),Ble=({logoSrc:t})=>{const[e]=fl(),n=e.get("tab")||null,r=T.useMemo(()=>w1.filter(b=>b.side==="left"),[]),i=T.useMemo(()=>w1.filter(b=>b.side==="right"),[]),a=Fle(n)?n:null,l=a?Lle[a]:[],c=a?Mle[a].side:"right",u=T.useRef(null),[h,m]=T.useState(220),[f,y]=T.useState(440);return T.useEffect(()=>{const b=()=>{var A,v;const S=((v=(A=u.current)==null?void 0:A.offsetWidth)!=null?v:380)/2,P=Math.round(S+60),D=Math.round(P+220);m(P),y(D)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),s.jsxs("div",{className:Hn.wrap,children:[s.jsx("div",{className:Hn.centerLogoWrap,children:s.jsx(xs,{to:"/community",className:Hn.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:u,src:t,alt:"Community Hub",className:Hn.centerLogo})})}),s.jsx(a0,{items:r.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"left",variant:"main",arcOffset:h}),s.jsx(a0,{items:i.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"right",variant:"main",arcOffset:h}),l.length>0&&s.jsx(a0,{items:l.map(b=>({key:b.key,to:b.to,label:b.label,icon:b.icon})),side:"sub",anchorSide:c,compact:!0,variant:"sub",outerOffset:f})]})},$le="_topWrap_1rivx_1",Ole="_divider_1rivx_19",Vle="_contentArea_1rivx_53",Ule="_placeholder_1rivx_63",zle="_placeholderTitle_1rivx_77",Hle="_placeholderText_1rivx_91",ud={topWrap:$le,divider:Ole,contentArea:Vle,placeholder:Ule,placeholderTitle:zle,placeholderText:Hle},Gle="/assets/logo_communityhub-LVMLHRD6.png",Wle=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function EI(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function qle(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,i,a]=e.map(l=>parseInt(l,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(a))return new Date(a,i-1,r).toISOString()}const n=new Date(t);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function o0(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function Kle(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function Qle(t){return t.avatar?t.avatar:`/avatars/${EI(t.code||t.name||"creator")}.png`}function Xle(t){const e=EI(t.code||t.name||"creator"),n=[],r=o0(t.youtube);r&&n.push({type:"YouTube",url:r});const i=o0(t.twitch);i&&n.push({type:"Twitch",url:i});const a=o0(t.discord);return a&&n.push({type:"Discord",url:a}),{id:`sheet-${e}`,name:t.name,avatar:Qle(t),description:Kle(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:qle(t.latestActivity),platforms:n}}function Yle(t){var n,r,i;const e=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];return{generatedAt:(n=t==null?void 0:t.generatedAt)!=null?n:new Date().toISOString(),data:e,warnings:(i=(r=t==null?void 0:t.warnings)!=null?r:t==null?void 0:t.errors)!=null?i:[],stats:t==null?void 0:t.stats}}function II(t="/data/creators-live.json"){const[e,n]=T.useState(null),[r,i]=T.useState(""),[a,l]=T.useState(!1),[c,u]=T.useState(0);return T.useEffect(()=>{let h=!1;async function m(){l(!0),i("");try{const f=await fetch(t,{cache:"no-store"});if(!f.ok)throw new Error(`HTTP ${f.status}`);const y=await f.json();h||n(Yle(y))}catch(f){h||(i((f==null?void 0:f.message)||"Failed to load creator snapshot"),n(null))}finally{h||l(!1)}}return m(),()=>{h=!0}},[t,c]),{snapshot:e,error:r,loading:a,refresh:()=>u(h=>h+1)}}const Jle=Wle,Zle=Jle.map(Xle),ece=[...Zle];function RI(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function tl(t,e,n=RI){if(t<=0)return"";const r=n(t);return e?`${r} ${e}`:r}function Zh(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function tce(t,e){const n=e==="asc"?1:-1;return(r,i)=>{switch(t){case"subs":return(r.subscribers-i.subscribers)*n;case"views":return(r.totalViews-i.totalViews)*n;case"activity":return(Zh(r.lastActive)-Zh(i.lastActive))*n*-1;case"language":return r.language.localeCompare(i.language)*n;default:return 0}}}function sce(t){const e={width:16,height:16};switch(t){case"YouTube":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[s.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),s.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[s.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),s.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),s.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[s.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),s.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),s.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),s.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),s.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function Jk({c:t}){return s.jsxs("article",{className:"cc-card",children:[s.jsxs("header",{className:"cc-card-head",children:[s.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const n=e.currentTarget;n.onerror=null,n.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),s.jsxs("div",{className:"cc-card-title",children:[s.jsx("h3",{className:"cc-name",children:t.name}),s.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[sce(e.type),s.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),s.jsx("p",{className:"cc-desc",children:t.description}),s.jsxs("div",{className:"cc-stats",children:[s.jsx("span",{title:"Subscribers",children:tl(t.subscribers,"subs")}),s.jsx("span",{title:"Total views",children:tl(t.totalViews,"views")}),s.jsx("span",{title:"Weekly views",children:tl(t.weeklyViews,"/wk")}),s.jsx("span",{title:"Weekly posts",children:tl(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),s.jsxs("footer",{className:"cc-meta",children:[s.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),s.jsxs("span",{className:"cc-meta-right",children:["active ",Zh(t.lastActive),"d ago"]})]})]},t.id)}function nce({data:t}){return s.jsx("div",{className:"cc-table-wrap",children:s.jsxs("table",{className:"cc-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Lang"}),s.jsx("th",{children:"Subs"}),s.jsx("th",{children:"Total Views"}),s.jsx("th",{children:"Weekly Views"}),s.jsx("th",{children:"Weekly Posts"}),s.jsx("th",{children:"Active"})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"cc-table-name",children:[s.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),s.jsx("span",{children:e.name})]})}),s.jsx("td",{children:e.language.toUpperCase()}),s.jsx("td",{children:tl(e.subscribers)}),s.jsx("td",{children:tl(e.totalViews)}),s.jsx("td",{children:tl(e.weeklyViews)}),s.jsx("td",{children:tl(e.weeklyPosts,void 0,n=>`${n}`)}),s.jsxs("td",{children:[Zh(e.lastActive),"d"]})]},e.id))})]})})}function PI(){var Y,le;const[t,e]=T.useState("static"),[n,r]=T.useState("cards"),[i,a]=T.useState("subs"),[l,c]=T.useState("desc"),[u,h]=T.useState("all"),[m,f]=T.useState("all"),[y,b]=T.useState(0),[_,S]=T.useState(365),[k,P]=T.useState(null),[D,A]=T.useState(""),[v,w]=T.useState(!1),[L,C]=T.useState(""),[N,E]=T.useState(null),{snapshot:F,error:I}=II(),B=(Y=F==null?void 0:F.data)!=null&&Y.length?F.data:null,$=B!=null?B:ece,U=t==="static"?$:(le=N!=null?N:B)!=null?le:[],H=T.useMemo(()=>{const ae=new Set(U.map(he=>he.language));return Array.from(ae).sort()},[U]),W=T.useMemo(()=>U.filter(ae=>u==="all"?!0:ae.language===u).filter(ae=>m==="all"?!0:ae.platforms.some(he=>he.type===m)).filter(ae=>ae.subscribers>=y).filter(ae=>Zh(ae.lastActive)<=_).slice().sort(tce(i,l)),[U,u,m,y,_,i,l]);T.useEffect(()=>{if(!k&&W.length){const ae=W[Math.floor(Math.random()*W.length)];P(ae.id)}},[W,k]);const K=T.useMemo(()=>W.find(ae=>ae.id===k)||null,[W,k]),q=T.useMemo(()=>W.slice().sort((ae,he)=>he.weeklyViews-ae.weeklyViews).slice(0,5),[W]),se=T.useMemo(()=>W.slice().sort((ae,he)=>he.weeklyPosts-ae.weeklyPosts).slice(0,5),[W]);async function ne(){C(""),w(!0);try{const ae=await fetch(D,{headers:{Accept:"application/json"}});if(!ae.ok)throw new Error(`HTTP ${ae.status}`);const he=await ae.json(),ye=Array.isArray(he)?he:Array.isArray(he==null?void 0:he.data)?he.data:[];E(ye)}catch(ae){C((ae==null?void 0:ae.message)||"Fetch failed")}finally{w(!1)}}const z=W.length===0;return s.jsxs("section",{className:"cc-wrap",children:[s.jsxs("div",{className:"cc-heading",children:[s.jsx("h1",{children:"Content Creator Hub"}),s.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),F&&s.jsxs("p",{className:"cc-sync",children:[s.jsxs("span",{children:["Live stats synced ",new Date(F.generatedAt).toLocaleString()]}),s.jsxs("span",{children:[F.data.length," profiles"]})]}),I&&s.jsx("p",{className:"cc-sync-error",children:I})]}),s.jsxs("div",{className:"cc-toolbar",children:[s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Data"}),s.jsxs("select",{value:t,onChange:ae=>e(ae.target.value),children:[s.jsx("option",{value:"static",children:"Static"}),s.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"View"}),s.jsxs("select",{value:n,onChange:ae=>r(ae.target.value),children:[s.jsx("option",{value:"cards",children:"Cards"}),s.jsx("option",{value:"table",children:"Table"}),s.jsx("option",{value:"json",children:"JSON"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Sort by"}),s.jsxs("select",{value:i,onChange:ae=>a(ae.target.value),children:[s.jsx("option",{value:"subs",children:"Subs"}),s.jsx("option",{value:"views",children:"Views"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"language",children:"Language"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Dir"}),s.jsxs("select",{value:l,onChange:ae=>c(ae.target.value),children:[s.jsx("option",{value:"desc",children:"Desc"}),s.jsx("option",{value:"asc",children:"Asc"})]})]})]}),s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Language"}),s.jsxs("select",{value:u,onChange:ae=>h(ae.target.value),children:[s.jsx("option",{value:"all",children:"All"}),H.map(ae=>s.jsx("option",{value:ae,children:ae.toUpperCase()},ae))]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Platform"}),s.jsxs("select",{value:m,onChange:ae=>f(ae.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"TikTok",children:"TikTok"}),s.jsx("option",{value:"Discord",children:"Discord"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Min subs"}),s.jsx("input",{type:"number",min:0,value:y,onChange:ae=>b(Number(ae.target.value||0)),placeholder:"0"})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Active within"}),s.jsxs("select",{value:_,onChange:ae=>S(Number(ae.target.value)),children:[s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:90,children:"90 days"}),s.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&s.jsxs("div",{className:"cc-api",children:[s.jsxs("div",{className:"cc-api-ctrls",children:[s.jsxs("label",{className:"cc-field cc-field-grow",children:[s.jsx("span",{children:"API URL"}),s.jsx("input",{type:"url",value:D,onChange:ae=>A(ae.target.value),placeholder:"https://api.example.com/creators"})]}),s.jsx("button",{className:"cc-btn",onClick:ne,disabled:!D||v,children:v?"Loading":"Fetch"})]}),L&&s.jsx("div",{className:"cc-api-error",children:L}),s.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),K&&s.jsxs("div",{className:"cc-spotlight",children:[s.jsxs("div",{className:"cc-spot-head",children:[s.jsx("h2",{children:"Random CC Spotlight"}),s.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!W.length)return;const ae=W[Math.floor(Math.random()*W.length)];P(ae.id)},children:"Shuffle"})]}),s.jsx(Jk,{c:K})]}),s.jsxs("div",{className:"cc-main",children:[s.jsxs("div",{className:"cc-main-left",children:[z&&s.jsxs("div",{className:"cc-empty",children:[s.jsx("h3",{children:"No creators match the filters"}),s.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!z&&n==="cards"&&s.jsx("div",{className:"cc-grid",children:W.map(ae=>s.jsx(Jk,{c:ae},ae.id))}),!z&&n==="table"&&s.jsx(nce,{data:W}),n==="json"&&s.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(W,null,2)})]}),s.jsxs("aside",{className:"cc-main-right",children:[s.jsxs("div",{className:"cc-side",children:[s.jsx("h3",{children:"Weekly Toplists"}),s.jsxs("div",{className:"cc-toplist",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Views"}),s.jsx("ol",{children:q.map(ae=>s.jsxs("li",{children:[s.jsx("span",{children:ae.name}),s.jsx("span",{className:"cc-top-val",children:RI(ae.weeklyViews)})]},ae.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Posts"}),s.jsx("ol",{children:se.map(ae=>s.jsxs("li",{children:[s.jsx("span",{children:ae.name}),s.jsx("span",{className:"cc-top-val",children:ae.weeklyPosts})]},ae.id))})]})]})]}),s.jsxs("div",{className:"cc-side cc-legal",children:[s.jsx("h3",{children:"Legal & Disclaimer"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Only public data; no embedding without permission."}),s.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),s.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function LI(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function DI(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function MI(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function FI(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const rce=[{category:"Level",record:"Level 300",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x",previousDays:"9",previousName:"Renervate"},{category:"Level",record:"Level 300",classType:"Warrior",days:"11",playerName:"MelendezTV",server:"w60.sfgame.net",release:"x"},{category:"Level",record:"Level 300",classType:"Scout",days:"9",playerName:"Tepakad",server:"s8.sfgame.eu",release:"x",previousDays:"16",previousName:"Se7en"},{category:"Level",record:"Level 300",classType:"Mage",days:"12",playerName:"Frieren",server:"s20.sfgame.eu",release:"x",previousDays:"17",previousName:"Pablo Escobar"},{category:"Level",record:"Level 300",classType:"Assassin",days:"10",playerName:"scharffe",server:"s8.sfgame.eu",release:"x",previousDays:"11",previousName:"Cartn"},{category:"Level",record:"Level 300",classType:"Battlemage",days:"11",playerName:"Vaaz",server:"s8.sfgame.eu",release:"x",previousDays:"21",previousName:"Pikatchu"},{category:"Level",record:"Level 300",classType:"Berserker",days:"10",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"11",previousName:"RaketenPeter"},{category:"Level",record:"Level 300",classType:"Demonhunter",days:"9",playerName:"Renervate",server:"s8.sfgame.eu",release:"x",previousDays:"10",previousName:"Spadedix Pururyk"},{category:"Level",record:"Level 300",classType:"Druid",days:"11",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"15",previousName:"LokaiX"},{category:"Level",record:"Level 300",classType:"Bard",days:"10",playerName:"Reckless",server:"s8.sfgame.eu",release:"x",previousDays:"12",previousName:"halo"},{category:"Level",record:"Level 300",classType:"Necromancer",days:"10",playerName:"Datalyzed",server:"s20.sfgame.eu",release:"x",previousDays:"12",previousName:"StehSeidl"},{category:"Level",record:"Level 300",classType:"Paladin",days:"8",playerName:"Turor",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 400",classType:"Any",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"115",previousName:"fake COCA"},{category:"Level",record:"Level 400",classType:"Warrior",days:"166",playerName:"fearofgod",server:"w57.sfgame.net",release:"x",previousDays:"175",previousName:"F1reFly"},{category:"Level",record:"Level 400",classType:"Scout",days:"149",playerName:"Casino Dobi",server:"s7.sfgame.eu",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Level",record:"Level 400",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",release:"x",previousDays:"161",previousName:"Zouzi10"},{category:"Level",record:"Level 400",classType:"Assassin",days:"160",playerName:"xTypischAndy",server:"w54.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Battlemage",days:"148",playerName:"Klifek",server:"w60.sfgame.net",release:"x",previousDays:"186",previousName:"Enduu"},{category:"Level",record:"Level 400",classType:"Berserker",days:"109",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",release:"x",previousDays:"135",previousName:"Canyonek"},{category:"Level",record:"Level 400",classType:"Demonhunter",days:"118",playerName:"Zouzi10",server:"s11.sfgame.eu",release:"x",previousDays:"150",previousName:"THEmaskedMAN"},{category:"Level",record:"Level 400",classType:"Druid",days:"128",playerName:"Marksman",server:"s1.sfgame.eu",release:"x",previousDays:"163",previousName:"Pikatchu"},{category:"Level",record:"Level 400",classType:"Bard",days:"115",playerName:"fake COCA",server:"w58.sfgame.net",release:"x"},{category:"Level",record:"Level 400",classType:"Necromancer",days:"141",playerName:"CoeVoe",server:"s11.sfgame.eu",release:"x",previousDays:"197",previousName:"Freewa"},{category:"Level",record:"Level 400",classType:"Paladin",days:"151",playerName:"MaG Snaaptos",server:"s17.sfgame.eu",release:"x"},{category:"Level",record:"Level 500",classType:"Any",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz & LoKaiX"},{category:"Level",record:"Level 500",classType:"Warrior",days:"540",playerName:"relaxo",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Scout",days:"541",playerName:"Landlord",server:"s10.sfgame.eu",release:"x",previousDays:"548",previousName:"Chrollo & Black Lotus"},{category:"Level",record:"Level 500",classType:"Mage",days:"540",playerName:"NicNag",server:"s10.sfgame.eu",release:"x",previousDays:"572",previousName:"Eyliaz"},{category:"Level",record:"Level 500",classType:"Assassin",days:"555",playerName:"Hardiy",server:"s10.sfgame.eu",release:"x",previousDays:"582",previousName:"Zeraffim"},{category:"Level",record:"Level 500",classType:"Battlemage",days:"542",playerName:"LsJabedias",server:"s10.sfgame.eu",release:"x",previousDays:"547",previousName:"Vaaz"},{category:"Level",record:"Level 500",classType:"Berserker",days:"538",playerName:"LoKaiX",server:"s10.sfgame.eu",release:"x",previousDays:"580",previousName:"Earl Koyar"},{category:"Level",record:"Level 500",classType:"Demonhunter",days:"540",playerName:"DeadUtility & Mirama",server:"s10.sfgame.eu",notes:"Both Players at the same time",release:"x",previousDays:"547",previousName:"LoKaiX"},{category:"Level",record:"Level 500",classType:"Druid",days:"542",playerName:"Odin",server:"s10.sfgame.eu",release:"x",previousDays:"570",previousName:"dex0n"},{category:"Level",record:"Level 500",classType:"Bard",days:"540",playerName:"ElonMuskow",server:"s10.sfgame.eu",release:"x",previousDays:"554",previousName:"Reckless"},{category:"Level",record:"Level 500",classType:"Necromancer",days:"542",playerName:"THEmaskedMAN",server:"s10.sfgame.eu",notes:"#ch",release:"x",previousDays:"554",previousName:"StehSeidl"},{category:"Level",record:"Level 500",classType:"Paladin",days:"",playerName:"",server:""},{category:"Fortress",record:"Knighthall 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"9",previousName:"Spadedix Pururyk"},{category:"Fortress",record:"Knighthall 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"23",previousName:"Kronikus"},{category:"Fortress",record:"Fortress 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"18",previousName:"NeverStealMyName"},{category:"Fortress",record:"Mine 20",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"29",previousName:"Apo"},{category:"Fortress",record:"Mine 100",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"30",previousName:"Apo"},{category:"Fortress",record:"Max Fortress",classType:"Any",days:"18",playerName:"Canys",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"31",previousName:"Apo"},{category:"Underworld",record:"Heart 15",classType:"Any",days:"8",playerName:"Turor",server:"s17.sfgame.eu",notes:"No Trading Partner (LD)",release:"x",previousDays:"19",previousName:"Uwe"},{category:"Dungeon",record:"Demon Portal finished",classType:"Solo",days:"82",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 392 (Berserker)",release:"x",previousDays:"90",previousName:"fake COCA"},{category:"Guild",record:"Demon Portal finished",classType:"Guild",days:"97",playerName:"Imbiss 69",server:"s20.sfgame.eu",notes:"LvL: 367",previousDays:"114",previousName:"Royal Guard"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Any",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"7",previousName:"xTypischAndy"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Warrior",days:"10",playerName:"MelendezTV",server:"w60.sfgame.net",notes:"Lvl:285",release:"x"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Scout",days:"6",playerName:"CoeVoe",server:"s22.sfgame.eu",notes:"LvL: 260",release:"x",previousDays:"7",previousName:"Turor Poziom"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Mage",days:"10",playerName:"Frieren",server:"s20.sfgame.eu",notes:"LvL:",release:"x",previousDays:"13",previousName:"Pablo Escobar"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Assassin",days:"3",playerName:"Kugy",server:"s16.sfgame.eu",notes:"LvL: 261",release:"x",previousDays:"8",previousName:"Cartn"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Battlemage",days:"10",playerName:"Vaaz",server:"s8.sfgame.eu",notes:"Lvl:295",release:"x",previousDays:"18",previousName:"Miloo"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Berserker",days:"9",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"Lvl: 274",release:"x",previousDays:"10",previousName:"RaketenPeter"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Demonhunter",days:"7",playerName:"xTypischAndy",server:"s10.sfgame.eu",notes:"LvL: 268",release:"x",previousDays:"8",previousName:"Spadedix Pururyk"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Druid",days:"10",playerName:"BahamasVoe",server:"s20.sfgame.eu",release:"x",previousDays:"13",previousName:"LokaiX"},{category:"Dungeon",record:"Jack the Hammerer",classType:"Bard",days:"9",playerName:"halo",server:"w60.sfgame.net",notes:"LvL: 266",release:"x"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Necromancer",days:"8",playerName:"AmR",server:"s22.sfgame.eu",notes:"LvL: 270",previousDays:"9",previousName:"Zouzi10_Twitch"},{category:"Dungeon",record:"Jack The Hammerer",classType:"Paladin",days:"8",playerName:"Misuk",server:"s17.sfgame.eu",notes:"LvL: 273",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Any",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"92",previousName:"fake COCA"},{category:"Dungeon",record:"Twister finished",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"LvL: 400",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Scout",days:"162",playerName:"Casino Dobi",server:"s7.sfgame.eu",notes:"LvL: 403",release:"x",previousDays:"163",previousName:"Flacko"},{category:"Dungeon",record:"Twister finished",classType:"Mage",days:"121",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"LvL: 399",release:"x",previousDays:"146",previousName:"Zouzi10"},{category:"Dungeon",record:"Twister finished",classType:"Assassin",days:"177",playerName:"xTypischAndy",server:"w54.sfgame.net",notes:"Lvl: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Battlemage",days:"324",playerName:"Wilhelm Tell",server:"s42.sfgame.net",notes:"LvL: 426 (Zsombey w54 270 days)",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Berserker",days:"71",playerName:"Sheikh Marksman",server:"s2.sfgame.eu",notes:"LvL: 389",release:"x",previousDays:"113",previousName:"Apocalypto3"},{category:"Dungeon",record:"Twister finished",classType:"Demonhunter",days:"79",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 388",release:"x",previousDays:"141",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Twister finished",classType:"Druid",days:"93",playerName:"Marksman",server:"s1.sfgame.eu",notes:"LvL: 390",release:"x",previousDays:"120",previousName:"Turor"},{category:"Dungeon",record:"Twister finished",classType:"Bard",days:"92",playerName:"fake COCA",server:"w58.sfgame.net",notes:"LvL: 392",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Necromancer",days:"150",playerName:"CoeVoe",server:"s11.sfgame.eu",notes:"LvL: 403",release:"x"},{category:"Dungeon",record:"Twister finished",classType:"Paladin",days:"",playerName:"",server:""},{category:"Guild",record:"Raid 50",classType:"Guild",days:"25",playerName:"Asylum",server:"s1.sfgame.eu",notes:"Average LvL: ~261",release:"x",previousDays:"26",previousName:"ApplePay"},{category:"IHOF",record:"IHOF #1",classType:"Any",days:"2313",playerName:"Strider",server:"s10.sfgame.us",release:"X"},{category:"Arena Manager",record:"E100",classType:"Any",days:"92",playerName:"Incrementare",server:"w50.sfgame.net",notes:"https://prnt.sc/1vcjt94",release:"x"},{category:"Guild",record:"Hall of Knights 1000",classType:"Guild",days:"134",playerName:"FREEDOM",server:"s8.sfgame.eu",release:"x",previousDays:"156",previousName:"Tavernenflotte"},{category:"Dungeon",record:"Marv",classType:"Scout",days:"127",playerName:"profii123",server:"s19.sfgame.eu",notes:"LvL: 372",release:"x",previousDays:"173",previousName:"lenni"},{category:"Dungeon",record:"Marv",classType:"Berserker",days:"40",playerName:"Sheikh Marksman",server:"eu2.sfgame.net",notes:"Lvl: 365",release:"x",previousDays:"79",previousName:"Halogen"},{category:"Dungeon",record:"Marv",classType:"Warrior",days:"176",playerName:"Kriegerherz",server:"w50.sfgame.net",notes:"Lvl:396",release:"x"},{category:"Dungeon",record:"Marv",classType:"Battlemage",days:"211",playerName:"Enduu",server:"w52.sfgame.net",notes:"Lvl:404",release:"x"},{category:"Dungeon",record:"Marv",classType:"Mage",days:"101",playerName:"CoeVoe",server:"s15.sfgame.eu",notes:"Lvl: 388",release:"x",previousDays:"106",previousName:"Zouzi10"},{category:"Dungeon",record:"Marv",classType:"Demonhunter",days:"176",playerName:"Zouzi10",server:"s11.sfgame.eu",notes:"LvL: 411",release:"x",previousDays:"205",previousName:"THEmaskedMAN"},{category:"Dungeon",record:"Marv",classType:"Assassin",days:"127",playerName:"ElonMuskow",server:"s20.sfgame.eu",notes:"LvL: 381",release:"x",previousDays:"262",previousName:"xTypischAndy"},{category:"Dungeon",record:"Marv",classType:"Druid",days:"162",playerName:"Turor",server:"w47.sfgame.net",notes:"LvL: 398",release:"x"},{category:"Dungeon",record:"Marv",classType:"Bard",days:"97",playerName:"fake COCA",server:"w58.sfgame.net",notes:"Lvl: 394",release:"x"},{category:"Dungeon",record:"Marv",classType:"Necromancer",days:"99",playerName:"Datalyzed",server:"s20.sfgame.eu",notes:"LvL: 375",release:"x",previousDays:"150",previousName:"CoeVoe"},{category:"Dungeon",record:"Marv",classType:"Paladin",days:"115",playerName:"Turor",server:"s17.sfgame.eu",notes:"LvL 382",release:"x"}],l0=[{category:"Level",achievement:"Level 100",date:"12/08/2009",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light Black Skull Fortress",date:"28/11/2009",name:"Ashyria",server:"s1de",notes:"Scout",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 200",date:"01/01/2010",name:"Kasimal",server:"s1de",notes:"Mage",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 300",date:"14/07/2011",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Stats",achievement:"10M Gold Skillcost",date:"23/01/2012",name:"Gumb",server:"s1de",notes:"Warrior, Renamed to Dvarin Dampfhammer",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Dungeons",achievement:"Light 13th floor",date:"02/09/2012",name:"Paepster",server:"s5de",notes:"Scout, Lvl 328",source:"https://youtu.be/uelXuIa2or4?t=45"},{category:"Level",achievement:"Level 350",date:"13/08/2013",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://forum.sfgame.de/node/59657?t=57681"},{category:"Guild",achievement:"50 Raids",date:"10/01/2014",name:"Die Wusels",server:"s1de",notes:"Best Players in 1 guild, Lvl ~342",source:"https://forum.sfgame.de/node/60939?t=58916"},{category:"Level",achievement:"Level 400",date:"25/11/2015",name:"Lichti82",server:"buffed de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/669559780961345538"},{category:"Dungeons",achievement:"Light Easteros",date:"30/07/2016",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 417, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/strategy-tactics-aa/1040-uk-s1-progress-easteros-dungeon-cleared-30-07-2016-world-s-2-to-clear-it/page4?postcount=49#post70158"},{category:"Dungeons",achievement:"Twister",date:"20/03/2017",name:"GeorgeKen",server:"s1co.uk",notes:"Scout, Lvl 449, Char deleted",source:"https://forum-int.sfgame.net/forum/board-archives/archive-game-support/general-aa/7008-twister-cleared-20-3-2017-world-first?t=6207"},{category:"Guild",achievement:"Hall of Knights 1000",date:"09/10/2017",name:"Game Masters",server:"s33pl",source:"https://www.youtube.com/watch?v=0FGtFJZWk90"},{category:"Level",achievement:"Level 500",date:"15/02/2018",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://twitter.com/sfgameofficial/status/964180787917664256"},{category:"Dungeons",achievement:"Shadow Easteros",date:"30/07/2018",name:"Manchurian",server:"s1de",notes:"Scout, Lvl 465",source:"https://forum.sfgame.de/node/77384?p=1217755#post1217755"},{category:"Features finished",achievement:"Gem Mine 100",date:"19/05/2019",name:"Strider",server:"s10us",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=85775#post85775"},{category:"Guild",achievement:"100 Raids",date:"26/09/2019",name:"Phoenix",server:"s1de",notes:"Beat it twice due to Rollback",source:"https://forum.sfgame.de/node/80544?p=1244699#post1244699"},{category:"Dungeons",achievement:"Shadow Magic School",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Dungeons",achievement:"Shadow Hemorridor",date:"07/10/2019",name:"Kay",server:"s5de",notes:"Mage, Lvl 518, Char deleted",source:"https://forum.sfgame.de/node/77384?p=1245463#post1245463"},{category:"Features finished",achievement:"Gold Pit 100",date:"28/09/2020",name:"Strider",server:"s10us",notes:"C-Spec s1de (deleted) was first",source:"https://forum-int.sfgame.net/forum/game-support/general/4640-s-f-tavern-talk?p=88447#post88447"},{category:"Level",achievement:"Level 500 Assassin",date:"18/10/2020",name:"Abaddon",server:"w23",source:"Char Description"},{category:"Features finished",achievement:"Arena Manager E151",date:"09/11/2020",name:"Strider",server:"s10us",source:"https://discord.com/channels/551152314329858048/626446099326173196/775491861712338954"},{category:"Level",achievement:"Level 600",date:"07/12/2020",name:"Don Serapio",server:"s7de",notes:"Warrior",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 600 Warrior",date:"07/12/2020",name:"Don Serapio",server:"s7de",source:"https://forum.sfgame.de/node/75904?p=1278383#post1278383"},{category:"Level",achievement:"Level 500 Battle Mage",date:"16/02/2021",name:"The Dark Mage",server:"s8cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/786608824219336754/811013527661838346"},{category:"Level",achievement:"Level 600 Scout",date:"20/03/2021",name:"DonZeus",server:"s6de",source:"https://forum.sfgame.de/node/75904?p=1290334#post1290334"},{category:"Level",achievement:"Level 600 Mage",date:"28/03/2021",name:"Kruemeline/boboline",server:"s14/s2de",notes:"Same day due to calendar lvlup",source:"https://forum.sfgame.de/node/75904?p=1290820#post1290820"},{category:"Stats",achievement:"300k Total Main",date:"08/04/2021",name:"Suichiro",server:"s1de",notes:"Mage, Lvl 565",source:"https://discord.com/channels/551152314329858048/551833536663912468/829749687241670697"},{category:"Stats",achievement:"200k Total Con",date:"01/05/2021",name:"Strider",server:"s10us",notes:"Scout, Lvl 566, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/837822110973165588"},{category:"Level",achievement:"Level 500 Berserker",date:"23/05/2021",name:"Borisz",server:"w32",notes:"Started 1 month after Berserker release",source:"https://discord.com/channels/551152314329858048/786608824219336754/846153839191130152"},{category:"Dungeons",achievement:"Shadow Olymp",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Dungeons",achievement:"Shadow Olymp (Mage)",date:"17/12/2021",name:"Nachteule",server:"s13de",notes:"Lvl 611",source:"https://youtu.be/FsFry82VFKo"},{category:"Level",achievement:"Level 500 Demon Hunter",date:"07/02/2022",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/786608824219336754/940212953544810526"},{category:"Dungeons",achievement:"Hellevator Stage 500",date:"04/03/2022",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 619",source:"https://discord.com/channels/551152314329858048/551833536663912468/949343121433583616"},{category:"Guild",achievement:"6 Million Helltokens",date:"13/03/2022",name:"Ritter des Anduril",server:"s1de",notes:"First Hellevator, easier stages",source:"https://fasy0901-s1-sfgame.jimdofree.com/infos-tipps-und-tricks/hellevator/"},{category:"Stats",achievement:"400k Total Main",date:"13/03/2022",name:"CHRISTIN",server:"s1de",notes:"Mage, Lvl 615",source:"https://discord.com/channels/551152314329858048/551833536663912468/952699439108210728"},{category:"Guild",achievement:"Hydra 20",date:"06/04/2022",name:"Phoenix",server:"s1de",notes:"Ritter des Anduril 1 day later",source:"https://forum.sfgame.de/node/81973?p=1493286#post1493286"},{category:"Dungeons",achievement:"Shadow Olymp (Warrior)",date:"11/05/2022",name:"Furaken",server:"s2fr",notes:"Lvl 641",source:"https://www.youtube.com/watch?v=_lPHtZzphj8"},{category:"Stats",achievement:"300k Total Con",date:"28/05/2022",name:"Strider",server:"s10us",notes:"Scout, Lvl 607, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/980011674729861150"},{category:"Level",achievement:"Level 500 Druid",date:"13/06/2022",name:"Incrementare",server:"s42de",source:"https://discord.com/channels/551152314329858048/786608824219336754/985673065436414002"},{category:"Dungeons",achievement:"Shadow Olymp (Scout)",date:"28/06/2022",name:"Strider",server:"s10us",notes:"Lvl 610",source:"https://discord.com/channels/551152314329858048/551833536663912468/991116241026687027"},{category:"Guild",achievement:"115 Raids",date:"10/08/2022",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=_QqMuwTR1Y8"},{category:"Level",achievement:"Level 600 Assassin",date:"29/10/2022",name:"Valadur",server:"s6cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1035857114771501157"},{category:"Guild",achievement:"Average Level 600",date:"31/10/2022",name:"Phoenix",server:"s1de",source:"https://discord.com/channels/551152314329858048/551833536663912468/1036553223944814682"},{category:"Level",achievement:"Level 600 Battle Mage",date:"25/11/2022",name:"The Dark Mage",server:"s8cz",notes:"Started on old server"},{category:"Stats",achievement:"500k Total Main",date:"19/02/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 647",source:"https://discord.com/channels/551152314329858048/551833536663912468/1077752082628624494"},{category:"Level",achievement:"Level 700",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Mage, DoktorDarm 2 days later, Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Mage",date:"18/05/2023",name:"Atzee",server:"s18de",notes:"Char deleted",source:"https://discord.com/channels/551152314329858048/551833536663912468/1108518595820011520"},{category:"Level",achievement:"Level 700 Warrior",date:"20/05/2023",name:"DoktorDarm",server:"s4de",source:"https://discord.com/channels/551152314329858048/551831352421515288/1109362315431780362"},{category:"Level",achievement:"Level 600 Berserker",date:"11/06/2023",name:"Masha",server:"s1cz",notes:"Started on old server",source:"https://discord.com/channels/551152314329858048/551833536663912468/1117502022653055026"},{category:"Stats",achievement:"400k Total Con",date:"01/07/2023",name:"Strider",server:"s10us",notes:"Scout, Lvl 653, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1124523597701074984"},{category:"Dungeons",achievement:"Shadow Monster Grotto 5/10",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Mage, Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Mage)",date:"10/09/2023",name:"Nachteule",server:"s13de",notes:"Lvl 682",source:"https://discord.com/channels/551152314329858048/551833536663912468/1150379615735513238"},{category:"Guild",achievement:"120 Raids",date:"17/09/2023",name:"Ritter des Anduril",server:"s1de",source:"https://www.youtube.com/watch?v=MX6Vw-oaq44"},{category:"Stats",achievement:"600k Total Main",date:"19/09/2023",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 666",source:"https://discord.com/channels/551152314329858048/551833536663912468/1154156886829047839"},{category:"Level",achievement:"Level 700 Scout",date:"06/10/2023",name:"DeTermit",server:"s6cz",source:"https://discord.com/channels/551152314329858048/551833536663912468/1159725534452924416"},{category:"Dungeons",achievement:"Shadow Olymp (Assassin)",date:"24/11/2023",name:"Caesar",server:"w23",notes:"Lvl 641",source:"https://discord.com/channels/551152314329858048/551833536663912468/1177590059516559420"},{category:"Level",achievement:"Level 600 Demon Hunter",date:"31/12/2023",name:" Bombay",server:"s41de",source:"https://discord.com/channels/551152314329858048/626446099326173196/1190798297800122499"},{category:"Guild",achievement:"Average Level 650",date:"13/01/2024",name:"ENDGEGNER",server:"f8",notes:"1 day after Fusion Server 8 launch",source:"https://discord.com/channels/551152314329858048/551833536663912468/1195718336760266853"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Warrior)",date:"05/02/2024",name:"Furaken",server:"f6",notes:"Lvl 706",source:"https://discord.com/channels/551152314329858048/551833536663912468/1204126538816299058"},{category:"Guild",achievement:"125 Raids",date:"28/02/2024",name:"GODS of LIGHT",server:"f8",source:"https://discord.com/channels/551152314329858048/551833536663912468/1212290444554412034"},{category:"Guild",achievement:"7 Million Helltokens",date:"01/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time 1 day faster",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213032961864372224"},{category:"Guild",achievement:"8 Million Helltokens",date:"02/03/2024",name:"Horizon",server:"f9",notes:"1 day advantage, GODS of LIGHT & Mirror of Time same time",source:"https://discord.com/channels/551152314329858048/551833536663912468/1213551211798855750"},{category:"Level",achievement:"Level 500 Bard",date:"10/03/2024",name:"Shinu",server:"w58",source:"https://discord.com/channels/551152314329858048/551833536663912468/1216228374457090171"},{category:"Stats",achievement:"700k Total Main",date:"04/04/2024",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1225904618844717129"},{category:"Level",achievement:"Level 600 Druid",date:"07/05/2024",name:"Incrementare",server:"s42de"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Scout)",date:"11/05/2024",name:"Strider",server:"f1",notes:"Lvl 681"},{category:"Dungeons",achievement:"Shadow Monster Grotto",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Mage, Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Dungeons",achievement:"Shadow MG (Mage)",date:"24/05/2024",name:"Nachteule",server:"f11de",notes:"Lvl 707, Dexterity Potion",source:"https://discord.com/channels/551152314329858048/551833536663912468/1243517823448252466"},{category:"Guild",achievement:"9 Million Helltokens",date:"01/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks, GODS of LIGHT same day",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246224670878076948"},{category:"Guild",achievement:"10 Million Helltokens",date:"02/06/2024",name:"ENDGEGNER",server:"f8",notes:"First Hellevator with Hell Attacks",source:"https://discord.com/channels/551152314329858048/551833536663912468/1246793059971235941"},{category:"Stats",achievement:"1 Million Total Stats",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Stats",achievement:"500k Total Con",date:"21/06/2024",name:"Strider",server:"f1",notes:"Scout, Lvl 685, 1:1 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Guild",achievement:"Average Level 675",date:"30/06/2024",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow Olymp (Battle Mage)",date:"29/08/2024",name:"DORZER",server:"f21",notes:"Lvl 651"},{category:"Stats",achievement:"800k Total Main",date:"07/09/2024",name:"Sturmhexe",server:"w11",notes:"Mage, Lvl 698",source:"https://discord.com/channels/551152314329858048/551833536663912468/1253778697304150138"},{category:"Dungeons",achievement:"Shadow MG (Warrior)",date:"09/09/2024",name:"Deinnachbar",server:"f8de",notes:"Lvl 726, Strength Potion, Live on twitch"},{category:"Dungeons",achievement:"Shadow MG (Scout)",date:"05/10/2024",name:"Manchurian",server:"f17de",notes:"Lvl 699",source:"https://discord.com/channels/551152314329858048/551833536663912468/1292160621609222236"},{category:"Guild",achievement:"130 Raids",date:"08/12/2024",name:"ENDGEGNER Alpha",server:"f11",notes:"48 players needed, avrg level 685",source:"https://youtu.be/O7Ss5jrRDiI?si=W8FpRXQdHVzWz6Rq"},{category:"Dungeons",achievement:"Shadow Olymp (Berserker)",date:"12/12/2024",name:"Rollin",server:"f22",notes:"Lvl 635",source:"https://discord.com/channels/551152314329858048/551833536663912468/1316735644604694609"},{category:"Level",achievement:"Level 750",date:"15/12/2024",name:"DoktorDarm",server:"f17de",notes:"Warrior"},{category:"Dungeons",achievement:"Shadow Olymp (Demon Hunter)",date:"05/01/2025",name:"Charles7",server:"f23",notes:"Lvl 612",source:"https://discord.com/channels/551152314329858048/551833536663912468/1325562596220338360"},{category:"Dungeons",achievement:"Sandstorm Stage 700",date:"24/01/2025",name:"Strider",server:"f1",notes:"Scout, Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Scout)",date:"24/01/2025",name:"Strider",server:"f1",notes:"Lvl 718"},{category:"Dungeons",achievement:"Sandstorm 700 (Mage)",date:"25/01/2025",name:"Nachteule",server:"f11",notes:"Lvl 742, No glove enchantment"},{category:"Guild",achievement:"Average Level 700",date:"26/01/2025",name:"ENDGEGNER",server:"f8",notes:"7 level lead",source:"https://discord.com/channels/551152314329858048/551833536663912468/1333157631195611188"},{category:"Stats",achievement:"900k Total Main",date:"25/02/2025",name:"Sturmhexe",server:"f20",notes:"Mage, Lvl 720",source:"https://discord.com/channels/551152314329858048/551833536663912468/1344054938518421554"},{category:"Guild",achievement:"11 Million Helltokens",date:"02/03/2025",name:"ENDGEGNER",server:"f8"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Assassin)",date:"05/03/2025",name:"Caesar",server:"f21",notes:"Lvl 688"},{category:"Level",achievement:"Level 700 Assassin",date:"07/03/2025",name:"Valadur",server:"f16"},{category:"Dungeons",achievement:"Sandstorm 700 (Warrior)",date:"06/04/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 758",source:"https://discord.com/channels/551152314329858048/551833536663912468/1358533675234623530"},{category:"Level",achievement:"Level 500 Necromancer",date:"21/04/2025",name:"Waldemar Meister",server:"f9",notes:"Started on old server"},{category:"Guild",achievement:"135 Raids",date:"11/05/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"47 players needed, avrg level 705",source:"https://youtu.be/6CrTYD_Mwa4?si=8UM2QOEtNbrwP_Qj&t=361"},{category:"Dungeons",achievement:"Shadow MG (Assassin)",date:"24/05/2025",name:"Hedges",server:"f21",notes:"Lvl 690, On a projector",source:"https://discord.com/channels/551152314329858048/551833536663912468/1375924629205418015"},{category:"Dungeons",achievement:"Sandstorm Stage 800",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Dungeons",achievement:"Sandstorm 800 (Scout)",date:"31/05/2025",name:"Strider",server:"maerwynn",notes:"Lvl 731",source:"https://www.youtube.com/watch?v=uPf9aHO9EkA"},{category:"Guild",achievement:"140 Raids",date:"16/06/2025",name:"ENDGEGNER Alpha",server:"f11",notes:"50 players needed, avrg level 708, 8 raids ahead",source:"https://youtu.be/_2DC8xYMaLI?si=kRY6C6HUROMq_IlC&t=418"},{category:"Stats",achievement:"600k Total Con",date:"28/06/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 736, 36:64 ratio",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389390871228846205"},{category:"Level",achievement:"Level 700 Battle Mage",date:"30/06/2025",name:"The Dark Mage",server:"f16",source:"https://discord.com/channels/551152314329858048/551833536663912468/1389084514977845309"},{category:"Stats",achievement:"1 Mio any Stat",date:"05/08/2025",name:"Sturmhexe",server:"f20",notes:"Intelligence",source:"https://discord.com/channels/551152314329858048/551833536663912468/1402067370918543500"},{category:"Dungeons",achievement:"Sandstorm 800 (Mage)",date:"16/08/2025",name:"Nachteule",server:"f11",notes:"Lvl 778"},{category:"Dungeons",achievement:"Shadow MG 5/10 (Berserker)",date:"21/09/2025",name:"Rollin",server:"f22",notes:"Lvl 684",source:"https://discord.com/channels/551152314329858048/551833536663912468/1419310679776825485"},{category:"Level",achievement:"Level 700 Berserker",date:"27/09/2025",name:"ch4rlie",server:"f22",source:"https://discord.com/channels/551152314329858048/551833536663912468/1421262001052844133"},{category:"Dungeons",achievement:"Sandstorm Stage 900",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Scout, Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 900 (Scout)",date:"28/09/2025",name:"Strider",server:"maerwynn",notes:"Lvl 760"},{category:"Dungeons",achievement:"Sandstorm 800 (Warrior)",date:"03/10/2025",name:"Deinnachbar",server:"f8",notes:"Lvl 792",source:"https://discord.com/channels/551152314329858048/551833536663912468/1423475693043453952"},{category:"Level",achievement:"Level 600 Bard",date:"18/10/2025",name:"Shinu",server:"f27",notes:"From w58"},{category:"Stats",achievement:"700k Total Con",date:"05/11/2025",name:"Taranin",server:"f18",notes:"Warrior, Lvl 767, 36:64 ratio"}],ice={infoCard:"1LpjOIafDHg1m6Il1H37gnujPph8tR6CY"},ace=t=>ice[t],oce=(t,e=64)=>{var i;const n=ace(t),r=xc(n);return r&&(i=Ur(r,e))!=null?i:null},lce="_recordsPage_kdw96_1",cce="_navArea_kdw96_15",dce="_tabList_kdw96_27",uce="_tabButton_kdw96_55",hce="_tabButtonActive_kdw96_101",mce="_sectionContent_kdw96_115",pce="_placeholderPanel_kdw96_127",fce="_placeholderTitle_kdw96_143",gce="_placeholderText_kdw96_157",xce="_milestoneSection_kdw96_171",vce="_sectionHeader_kdw96_183",yce="_filterBar_kdw96_197",bce="_filterButtons_kdw96_231",_ce="_filterButton_kdw96_231",wce="_filterButtonActive_kdw96_295",jce="_filterSelectWrapper_kdw96_309",Sce="_filterLabel_kdw96_321",Nce="_filterSelect_kdw96_309",kce="_emptyFilterMessage_kdw96_355",Cce="_currentSection_kdw96_369",Tce="_currentGrid_kdw96_381",Ace="_currentCard_kdw96_393",Ece="_categoryLabel_kdw96_419",Ice="_recordTitle_kdw96_433",Rce="_currentDetails_kdw96_445",Pce="_notes_kdw96_457",Lce="_infoPanel_kdw96_469",Dce="_infoCard_kdw96_481",Mce="_disclaimerCard_kdw96_483",Fce="_infoHeader_kdw96_525",Bce="_infoAuthor_kdw96_539",$ce="_authorName_kdw96_557",Oce="_authorBadge_kdw96_565",Vce="_infoAuthorIcon_kdw96_591",Uce="_infoDate_kdw96_623",zce="_infoBody_kdw96_633",Hce="_infoTitle_kdw96_645",Gce="_infoLink_kdw96_665",Wce="_milestoneGrid_kdw96_719",qce="_milestoneCard_kdw96_731",Kce="_milestoneCategory_kdw96_757",Qce="_milestoneTitle_kdw96_771",Xce="_milestoneDetails_kdw96_785",Yce="_detailRow_kdw96_797",Jce="_detailLabel_kdw96_809",Zce="_detailValue_kdw96_823",ede="_sourceLink_kdw96_833",tde="_emptyState_kdw96_855",Qe={recordsPage:lce,navArea:cce,tabList:dce,tabButton:uce,tabButtonActive:hce,sectionContent:mce,placeholderPanel:pce,placeholderTitle:fce,placeholderText:gce,milestoneSection:xce,sectionHeader:vce,filterBar:yce,filterButtons:bce,filterButton:_ce,filterButtonActive:wce,filterSelectWrapper:jce,filterLabel:Sce,filterSelect:Nce,emptyFilterMessage:kce,currentSection:Cce,currentGrid:Tce,currentCard:Ace,categoryLabel:Ece,recordTitle:Ice,currentDetails:Rce,notes:Pce,infoPanel:Lce,infoCard:Dce,disclaimerCard:Mce,infoHeader:Fce,infoAuthor:Bce,authorName:$ce,authorBadge:Oce,infoAuthorIcon:Vce,infoDate:Uce,infoBody:zce,infoTitle:Hce,infoLink:Gce,milestoneGrid:Wce,milestoneCard:qce,milestoneCategory:Kce,milestoneTitle:Qce,milestoneDetails:Xce,detailRow:Yce,detailLabel:Jce,detailValue:Zce,sourceLink:ede,emptyState:tde},sde=[{key:"current",label:"Current Records"},{key:"broken",label:"Broken Records"},{key:"milestones",label:"Milestones"}],nde={current:{title:"Current Records",description:"Live records that keep evolving with every community session. We will surface the verified winners and their stats here.",hint:"Stay tuned for the data rollout in the next update."},broken:{title:"Broken Records",description:"Historical benchmarks that were overtaken or retired. We keep them for reference and celebration.",hint:"If you have a record to archive, ping the Community team."}},rde=({title:t,description:e,hint:n})=>s.jsxs("article",{className:Qe.placeholderPanel,children:[s.jsx("h2",{className:Qe.placeholderTitle,children:t}),s.jsx("p",{className:Qe.placeholderText,children:e}),n&&s.jsx("p",{className:Qe.emptyState,children:n})]}),ide=()=>{const[t,e]=T.useState("all"),n=T.useMemo(()=>{const a=new Set,l=[];for(const c of l0)a.has(c.category)||(a.add(c.category),l.push(c.category));return["all",...l]},[]),r=t==="all"?l0:l0.filter(a=>a.category===t),i=a=>{e(a)};return s.jsxs("section",{className:Qe.milestoneSection,"aria-label":"Records milestones",children:[s.jsxs("div",{className:Qe.sectionHeader,children:[s.jsx("p",{children:"Milestones"}),s.jsx("h2",{children:"First-to achievements the community still celebrates"})]}),s.jsxs("div",{className:Qe.filterBar,children:[s.jsx("div",{className:Qe.filterButtons,children:n.map(a=>s.jsx("button",{type:"button",className:[Qe.filterButton,t===a&&Qe.filterButtonActive].filter(Boolean).join(" "),onClick:()=>i(a),"aria-pressed":t===a,children:a==="all"?"All Categories":a},a))}),s.jsxs("label",{className:Qe.filterSelectWrapper,children:[s.jsx("span",{className:Qe.filterLabel,children:"Category"}),s.jsx("select",{value:t,onChange:a=>i(a.target.value),className:Qe.filterSelect,children:n.map(a=>s.jsx("option",{value:a,children:a==="all"?"All Categories":a},a))})]})]}),r.length===0?s.jsx("p",{className:Qe.emptyFilterMessage,children:"No milestones fall into this category yet."}):s.jsx("div",{className:Qe.milestoneGrid,children:r.map(a=>s.jsxs("article",{className:Qe.milestoneCard,children:[s.jsx("span",{className:Qe.milestoneCategory,children:a.category}),s.jsx("h3",{className:Qe.milestoneTitle,children:a.achievement}),s.jsxs("div",{className:Qe.milestoneDetails,children:[s.jsxs("div",{className:Qe.detailRow,children:[s.jsx("span",{className:Qe.detailLabel,children:"Name"}),s.jsx("span",{className:Qe.detailValue,children:a.name})]}),s.jsxs("div",{className:Qe.detailRow,children:[s.jsx("span",{className:Qe.detailLabel,children:"Server"}),s.jsx("span",{className:Qe.detailValue,children:a.server})]}),s.jsxs("div",{className:Qe.detailRow,children:[s.jsx("span",{className:Qe.detailLabel,children:"Date"}),s.jsx("span",{className:Qe.detailValue,children:a.date})]}),a.notes&&s.jsx("p",{className:Qe.notes,children:a.notes}),a.source&&s.jsx("a",{href:a.source,target:"_blank",rel:"noreferrer",className:Qe.sourceLink,children:"Source"})]})]},`${a.achievement}-${a.name}`))})]})},ade=()=>s.jsxs("section",{className:Qe.currentSection,"aria-label":"Current community records",children:[s.jsxs("div",{className:Qe.sectionHeader,children:[s.jsx("p",{children:"Current Records"}),s.jsx("h2",{children:"The latest verified achievements"})]}),s.jsx("div",{className:Qe.currentGrid,children:rce.map((t,e)=>s.jsxs("article",{className:Qe.currentCard,children:[s.jsx("span",{className:Qe.categoryLabel,children:t.category}),s.jsx("h3",{className:Qe.recordTitle,children:t.record}),s.jsxs("div",{className:Qe.currentDetails,children:[s.jsxs("div",{className:Qe.detailRow,children:[s.jsx("span",{className:Qe.detailLabel,children:"Class"}),s.jsx("span",{className:Qe.detailValue,children:t.classType})]}),s.jsxs("div",{className:Qe.detailRow,children:[s.jsx("span",{className:Qe.detailLabel,children:"Player"}),s.jsx("span",{className:Qe.detailValue,children:t.playerName})]}),s.jsxs("div",{className:Qe.detailRow,children:[s.jsx("span",{className:Qe.detailLabel,children:"Server"}),s.jsx("span",{className:Qe.detailValue,children:t.server})]}),s.jsxs("div",{className:Qe.detailRow,children:[s.jsx("span",{className:Qe.detailLabel,children:"Days"}),s.jsx("span",{className:Qe.detailValue,children:t.days})]}),t.release&&s.jsxs("div",{className:Qe.detailRow,children:[s.jsx("span",{className:Qe.detailLabel,children:"Release"}),s.jsx("span",{className:Qe.detailValue,children:t.release})]}),(t.previousDays||t.previousName)&&s.jsxs("p",{className:Qe.notes,children:["Previous: ",t.previousDays?`${t.previousDays} days`:""," ",t.previousName?`(${t.previousName})`:""]}),t.notes&&s.jsx("p",{className:Qe.notes,children:t.notes})]})]},`${t.category}-${t.playerName}-${e}`))})]}),th={title:"Record board",paragraphs:["This is an unofficial collection of records achieved in Shakes and Fidget.","Due to the fact that we need to verify all records the posted days are the days between the release of the server and the achieving of the record. Records that are obtained with a new char on an old server are not counted.","If you achieved a record that you want to have listed and verified please message @aszu or @Zeraffim on Discord."],linkLabel:"Link to the record board:",linkUrl:"https://cutt.ly/2hTSpso"};function BI(){const[t,e]=T.useState("current"),n=oce("infoCard",32),r=()=>{if(t==="current")return s.jsx(ade,{});if(t==="milestones")return s.jsx(ide,{});const i=nde[t];return s.jsx(rde,{title:i.title,description:i.description,hint:i.hint})};return s.jsxs("section",{className:Qe.recordsPage,children:[s.jsx(CI,{title:"Records",meta:"Community Hub",description:"Current benchmarks, past triumphs and milestone-firsts from our community."}),s.jsxs("div",{className:Qe.infoPanel,children:[s.jsxs("div",{className:Qe.infoCard,children:[s.jsxs("div",{className:Qe.infoHeader,children:[s.jsxs("div",{className:Qe.infoAuthor,children:[n?s.jsx("img",{src:n,alt:"Community Data",className:Qe.infoAuthorIcon}):null,s.jsx("span",{className:Qe.authorName,children:"S&F Tavern Info"}),s.jsx("a",{href:"https://discord.gg/sftavern",target:"_blank",rel:"noreferrer",className:Qe.authorBadge,children:"Discord"})]}),s.jsx("span",{className:Qe.infoDate,children:"11.12.2020 14:08"})]}),s.jsxs("div",{className:Qe.infoBody,children:[s.jsx("h3",{className:Qe.infoTitle,children:th.title}),th.paragraphs.map(i=>s.jsx("p",{children:i},i))]}),s.jsxs("div",{className:Qe.infoLink,children:[s.jsx("span",{children:th.linkLabel}),s.jsx("a",{href:th.linkUrl,target:"_blank",rel:"noreferrer",children:th.linkUrl})]})]}),s.jsxs("div",{className:Qe.disclaimerCard,children:[s.jsx("h3",{className:Qe.infoTitle,children:"Disclaimer"}),s.jsx("p",{children:"The milestone data is sourced from the shared Milestones (First to) Google Sheet and curated by the Community Data Stewards. If you spot missing entries or have a verified source, please ping the Community Hub team so we can keep the list accurate."})]})]}),s.jsx("div",{className:Qe.navArea,children:s.jsx("nav",{className:Qe.tabList,"aria-label":"Records navigation",children:sde.map(i=>s.jsx("button",{type:"button",className:`${Qe.tabButton} ${t===i.key?Qe.tabButtonActive:""}`,"aria-pressed":t===i.key,onClick:()=>e(i.key),children:i.label},i.key))})}),s.jsx("div",{className:Qe.sectionContent,children:r()})]})}const ode={creators:PI,scans:LI,predictions:DI,news:MI,records:BI,feedback:FI};function lde(){const[t]=fl(),e=t.get("tab")||"",n=ode[e];return s.jsxs(Vt,{children:[s.jsx("div",{className:ud.topWrap,children:s.jsx(Ble,{logoSrc:Gle})}),s.jsx("div",{className:ud.divider}),s.jsx("div",{className:ud.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:ud.placeholder,children:[s.jsx("h2",{className:ud.placeholderTitle,children:"Community"}),s.jsx("p",{className:ud.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function cde(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(xs,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(xs,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Aeltere Scans & Verlauf"})]}),s.jsxs(xs,{to:"/upload-center",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Upload Center"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"CSV Import & lokale Vorschau (Spieler & Gilden)"})]})]})]})}function dde(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function ude(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function hde(){return s.jsx(Vt,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(mde,{}),right:s.jsx(pde,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Waehle links einen Bereich (Planner, Fusion, Waitlist, etc.) oder nutze unten die Kacheln."}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsx(xs,{to:"/guild-hub/fusion-planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"linear-gradient(135deg, rgba(43, 109, 224, 0.22), rgba(43, 109, 224, 0.08))",border:"1px solid #2B6DE0",color:"#F5F9FF"},children:"Zum Fusion Planner"}),s.jsx(xs,{to:"/guild-hub/planner",className:"rounded-xl px-3 py-2 text-xs font-semibold no-underline",style:{background:"#152A42",border:"1px solid #2B4C73",color:"#F5F9FF"},children:"Guild Planner oeffnen"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(gf,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(gf,{to:"/guild-hub/fusion-planner",title:"Fusion Planner",desc:"Setups & Szenarien"}),s.jsx(gf,{to:"/guild-hub/compare-guilds",title:"Gildenvergleich",desc:"Kennzahlen nebeneinander legen"}),s.jsx(gf,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function mde(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(sh,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(sh,{to:"/guild-hub/fusion-planner",children:"Fusion Planner"}),s.jsx(sh,{to:"/guild-hub/compare-guilds",children:"Gildenvergleich"}),s.jsx(sh,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(sh,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function pde(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spaeter hier gesteuert."})]})}function gf({to:t,title:e,desc:n}){return s.jsxs(xs,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function sh({to:t,children:e}){return s.jsx(Ns,{to:t,className:({isActive:n})=>`block rounded-lg border px-3 py-2 no-underline ${n?"font-semibold":""}`,style:({isActive:n})=>({borderColor:n?"#2B6DE0":"#2B4C73",background:n?"#1C3554":"#152A42",color:"#FFFFFF",boxShadow:n?"0 0 0 1px rgba(43, 109, 224, 0.4)":void 0}),children:e})}const fde="_page_1mlmy_1",gde="_header_1mlmy_13",xde="_headerStack_1mlmy_25",vde="_kicker_1mlmy_37",yde="_title_1mlmy_53",bde="_headerActions_1mlmy_65",_de="_primaryAction_1mlmy_77",wde="_secondaryAction_1mlmy_79",jde="_infoStrip_1mlmy_127",Sde="_infoBlock_1mlmy_147",Nde="_infoLabel_1mlmy_161",kde="_freshnessWrapper_1mlmy_181",Cde="_freshnessBadge_1mlmy_189",Tde="_badge_f0_1mlmy_213",Ade="_badge_f1_1mlmy_215",Ede="_badge_f2_1mlmy_217",Ide="_badge_f3_1mlmy_219",Rde="_badge_f4_1mlmy_221",Pde="_badge_f5_1mlmy_223",Lde="_badge_f6_1mlmy_225",Dde="_badge_f7_1mlmy_227",Mde="_badge_unknown_1mlmy_229",Fde="_popover_1mlmy_233",Bde="_popoverLabel_1mlmy_265",$de="_filterToolbar_1mlmy_275",Ode="_filterSheetButton_1mlmy_285",Vde="_inlineFilters_1mlmy_303",Ude="_searchInput_1mlmy_315",zde="_select_1mlmy_317",Hde="_ownerGroup_1mlmy_335",Gde="_ownerChip_1mlmy_347",Wde="_ownerChipActive_1mlmy_365",qde="_sortGroup_1mlmy_375",Kde="_sortLabel_1mlmy_387",Qde="_directionButton_1mlmy_397",Xde="_listBody_1mlmy_415",Yde="_tableWrapper_1mlmy_427",Jde="_table_1mlmy_427",Zde="_stickyColumn_1mlmy_481",eue="_rowTitleButton_1mlmy_495",tue="_tableStatus_1mlmy_513",sue="_cardList_1mlmy_533",nue="_card_1mlmy_533",rue="_cardHeader_1mlmy_565",iue="_cardTitle_1mlmy_577",aue="_cardMeta_1mlmy_595",oue="_cardDescription_1mlmy_611",lue="_cardFooter_1mlmy_623",cue="_cardLabel_1mlmy_639",due="_scanBadge_1mlmy_649",uue="_emptyState_1mlmy_665",hue="_sheetBackdrop_1mlmy_681",mue="_sheet_1mlmy_681",pue="_sheetHandle_1mlmy_721",fue="_sheetBody_1mlmy_739",gue="_sheetLabel_1mlmy_755",xue="_sheetActions_1mlmy_793",vue="_overlay_1mlmy_807",yue="_panel_1mlmy_825",bue="_modal_1mlmy_851",_ue="_drawer_1mlmy_861",wue="_panelHeader_1mlmy_869",jue="_panelControls_1mlmy_883",Sue="_panelDescription_1mlmy_913",Nue="_detailGrid_1mlmy_925",kue="_panelFooter_1mlmy_957",Cue="_formOverlay_1mlmy_969",Tue="_formPanel_1mlmy_991",Aue="_formGrid_1mlmy_1017",Eue="_menuWrapper_1mlmy_1029",Iue="_dotsButton_1mlmy_1037",Rue="_menu_1mlmy_1029",Pue="_pagination_1mlmy_1109",Ce={page:fde,header:gde,headerStack:xde,kicker:vde,title:yde,headerActions:bde,primaryAction:_de,secondaryAction:wde,infoStrip:jde,infoBlock:Sde,infoLabel:Nde,freshnessWrapper:kde,freshnessBadge:Cde,badge_f0:Tde,badge_f1:Ade,badge_f2:Ede,badge_f3:Ide,badge_f4:Rde,badge_f5:Pde,badge_f6:Lde,badge_f7:Dde,badge_unknown:Mde,popover:Fde,popoverLabel:Bde,filterToolbar:$de,filterSheetButton:Ode,inlineFilters:Vde,searchInput:Ude,select:zde,ownerGroup:Hde,ownerChip:Gde,ownerChipActive:Wde,sortGroup:qde,sortLabel:Kde,directionButton:Qde,listBody:Xde,tableWrapper:Yde,table:Jde,stickyColumn:Zde,rowTitleButton:eue,tableStatus:tue,cardList:sue,card:nue,cardHeader:rue,cardTitle:iue,cardMeta:aue,cardDescription:oue,cardFooter:lue,cardLabel:cue,scanBadge:due,emptyState:uue,sheetBackdrop:hue,sheet:mue,sheetHandle:pue,sheetBody:fue,sheetLabel:gue,sheetActions:xue,overlay:vue,panel:yue,modal:bue,drawer:_ue,panelHeader:wue,panelControls:jue,panelDescription:Sue,detailGrid:Nue,panelFooter:kue,formOverlay:Cue,formPanel:Tue,formGrid:Aue,menuWrapper:Eue,dotsButton:Iue,menu:Rue,pagination:Pue};function Lue(){var ne;const[t,e]=X.useState(wJ),[n,r]=X.useState(Jy),[i,a]=X.useState(Jy),l=Qd(n.q,300),c=X.useMemo(()=>{const z=jJ(t,n,l);return SJ(z,n.sort,n.dir)},[t,n,l]),u=X.useMemo(()=>NJ(c,n.page,n.pageSize),[c,n.page,n.pageSize]),h=Math.max(1,Math.ceil(c.length/n.pageSize)),m=X.useMemo(()=>Array.from(new Set(t.map(z=>z.owner))),[t]),f=Xd("(min-width: 768px)"),y=Xd("(min-width: 1024px)"),[b,_]=X.useState(!1),[S,k]=X.useState(null),P=(ne=t.find(z=>z.id===S))!=null?ne:null,D=X.useRef(null);Yd(D,!!P&&!y);const[A,v]=X.useState(null),[w,L]=X.useState(!1),C=X.useRef(null);Yd(C,w);const N=X.useMemo(()=>kJ(t),[t]),E=X.useMemo(()=>N?Yh(N.nextUpdateAt,Date.now()):"",[N]),F=f,I=y,B=s.jsxs("div",{className:Ce.headerActions,children:[s.jsx("button",{type:"button",className:Ce.primaryAction,onClick:()=>{v(null),L(!0)},children:"Neuer Eintrag"}),!f&&s.jsx("button",{type:"button",className:Ce.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>_(!0),children:"Filter"})]}),$=z=>{const Y=Sk(z);r(Y),a(Y)},U=(z,Y)=>{const le=Sk({...n,[z]:Y,page:z==="page"||z==="pageSize"?Y:1});$(le)},H=()=>{$(i),_(!1)},W=()=>{$(Jy),_(!1)},K=(z,Y=!1)=>{if(Y)a(le=>{const he=le.owner.includes(z)?le.owner.filter(ye=>ye!==z):[...le.owner,z];return{...le,owner:he}});else{const ae=n.owner.includes(z)?n.owner.filter(he=>he!==z):[...n.owner,z];U("owner",ae)}},q=(z,Y)=>{e(le=>le.map(ae=>ae.id===z?{...ae,status:Y,updatedAt:new Date().toISOString()}:ae))},se=z=>{e(Y=>Y.some(ae=>ae.id===z.id)?Y.map(ae=>ae.id===z.id?z:ae):[z,...Y]),L(!1)};return s.jsxs(Vt,{title:"Guild Hub",subtitle:"Planner",centerFramed:!1,children:[s.jsxs("div",{className:Ce.page,children:[s.jsxs("header",{className:Ce.header,children:[s.jsxs("div",{className:Ce.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ce.kicker,children:"Deployment"}),s.jsx("h1",{className:Ce.title,children:"Planer"})]}),B]}),s.jsxs("div",{className:Ce.infoStrip,children:[s.jsxs("div",{className:Ce.infoBlock,children:[s.jsx("span",{className:Ce.infoLabel,children:"Offen"}),s.jsx("strong",{children:c.filter(z=>z.status==="open").length})]}),s.jsxs("div",{className:Ce.infoBlock,children:[s.jsx("span",{className:Ce.infoLabel,children:"In Arbeit"}),s.jsx("strong",{children:c.filter(z=>z.status==="in_progress").length})]}),N&&s.jsx(Due,{code:N.freshness,label:P_[N.freshness],updatedAt:N.lastScanAt,nextUpdateAt:N.nextUpdateAt,countdown:E})]})]}),s.jsx("section",{className:Ce.filterToolbar,children:f?s.jsx(Mue,{filters:n,owners:m,onChange:U,onOwnerToggle:z=>K(z,!1)}):s.jsx("button",{type:"button",className:Ce.filterSheetButton,onClick:()=>_(!0),"aria-haspopup":"dialog",children:"Filter & Sortierung"})}),s.jsx("section",{className:Ce.listBody,children:F?s.jsx(Fue,{items:u,sort:n.sort,dir:n.dir,onSortChange:z=>{const Y=n.sort===z&&n.dir==="asc"?"desc":"asc";U("sort",z),U("dir",Y)},onSelect:z=>k(z.id),onStatusChange:q,onEdit:z=>{v(z),L(!0)}}):s.jsx(Bue,{items:u,onSelect:z=>k(z.id),onStatusChange:q,onEdit:z=>{v(z),L(!0)}})}),s.jsx(Oue,{page:n.page,totalPages:h,onChange:z=>U("page",z)})]}),b&&s.jsx($ue,{filters:i,owners:m,onChange:a,onOwnerToggle:z=>K(z,!0),onClose:()=>_(!1),onApply:H,onReset:W}),P&&s.jsx(OI,{ref:D,item:P,mode:I?"drawer":"modal",onClose:()=>k(null),onEdit:()=>{v(P),L(!0),k(null)},onStatusChange:q}),w&&s.jsx(VI,{ref:C,owners:m.length?m:_I,item:A,onClose:()=>L(!1),onSubmit:se})]})}function Due({code:t,label:e,updatedAt:n,nextUpdateAt:r,countdown:i}){var c;const[a,l]=X.useState(!1);return s.jsxs("div",{className:Ce.freshnessWrapper,children:[s.jsx("button",{type:"button",className:`${Ce.freshnessBadge} ${(c=Ce[`badge_${t}`])!=null?c:""}`,"aria-label":`Freshness ${e}`,onClick:()=>l(u=>!u),children:e}),a&&s.jsxs("div",{className:Ce.popover,role:"dialog","aria-label":"Freshness Details",children:[s.jsxs("div",{children:[s.jsx("span",{className:Ce.popoverLabel,children:"Zuletzt gescannt"}),s.jsx("strong",{children:_a(n)})]}),s.jsxs("div",{children:[s.jsx("span",{className:Ce.popoverLabel,children:"Naechster Scan"}),s.jsx("strong",{children:_a(r)})]}),s.jsxs("div",{children:[s.jsx("span",{className:Ce.popoverLabel,children:"Countdown"}),s.jsx("strong",{children:i})]})]})]})}function Mue({filters:t,owners:e,onChange:n,onOwnerToggle:r}){return s.jsxs("div",{className:Ce.inlineFilters,children:[s.jsx("input",{type:"search",name:"plannerSearch","aria-label":"Planner Suche",className:Ce.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>n("q",i.target.value)}),s.jsxs("select",{className:Ce.select,name:"plannerType","aria-label":"Planner Typ",value:t.type,onChange:i=>n("type",i.target.value),children:[s.jsx("option",{value:"all",children:"Typ (alle)"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]}),s.jsxs("select",{className:Ce.select,name:"plannerStatus","aria-label":"Planner Status",value:t.status,onChange:i=>n("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("select",{className:Ce.select,name:"plannerRange","aria-label":"Planner Zeitraum",value:t.range,onChange:i=>n("range",i.target.value),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]}),s.jsx("div",{className:Ce.ownerGroup,children:e.map(i=>{const a=t.owner.includes(i);return s.jsx("button",{type:"button",className:`${Ce.ownerChip} ${a?Ce.ownerChipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:Ce.sortGroup,children:[s.jsx("label",{htmlFor:"planner-sort",className:Ce.sortLabel,children:"Sortieren"}),s.jsxs("select",{id:"planner-sort",name:"plannerSort",className:Ce.select,value:t.sort,onChange:i=>n("sort",i.target.value),children:[s.jsx("option",{value:"dueAt",children:"Faelligkeitsdatum"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"}),s.jsx("option",{value:"priority",children:"Prioritaet"}),s.jsx("option",{value:"title",children:"Titel"})]}),s.jsx("button",{type:"button","aria-label":"Sortierrichtung wechseln",className:Ce.directionButton,onClick:()=>n("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"":""})]})]})}function Fue({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:a,onEdit:l}){const c=u=>e===u?n==="asc"?" ":" ":"";return t.length===0?s.jsx($I,{}):s.jsx("div",{className:Ce.tableWrapper,children:s.jsxs("table",{className:Ce.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:Ce.stickyColumn,onClick:()=>r("title"),children:["Titel",c("title")]}),s.jsx("th",{children:"Typ"}),s.jsx("th",{children:"Owner"}),s.jsxs("th",{onClick:()=>r("dueAt"),children:["Termin",c("dueAt")]}),s.jsx("th",{children:"Status"}),s.jsxs("th",{onClick:()=>r("updatedAt"),children:["Aktualisiert",c("updatedAt")]}),s.jsx("th",{})]})}),s.jsx("tbody",{children:t.map(u=>s.jsxs("tr",{children:[s.jsx("td",{className:Ce.stickyColumn,children:s.jsx("button",{type:"button",className:Ce.rowTitleButton,onClick:()=>i(u),children:u.title})}),s.jsx("td",{children:R_[u.type]}),s.jsx("td",{children:u.owner}),s.jsx("td",{children:_a(u.dueAt)}),s.jsx("td",{children:s.jsxs("select",{name:`plannerStatus-${u.id}`,"aria-label":`Status fuer ${u.title}`,className:Ce.tableStatus,value:u.status,onChange:h=>a(u.id,h.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})}),s.jsx("td",{children:Nm(u.updatedAt)}),s.jsx("td",{children:s.jsx(UI,{onEdit:()=>l(u),onComplete:()=>a(u.id,"done")})})]},u.id))})]})})}function Bue({items:t,onSelect:e,onStatusChange:n,onEdit:r}){return t.length===0?s.jsx($I,{}):s.jsx("div",{className:Ce.cardList,children:t.map(i=>s.jsxs("article",{className:Ce.card,children:[s.jsxs("div",{className:Ce.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:Ce.cardTitle,onClick:()=>e(i),children:i.title}),s.jsxs("div",{className:Ce.cardMeta,children:[s.jsx("span",{children:R_[i.type]}),s.jsx("span",{children:bJ[i.status]}),s.jsxs("span",{children:["Due ",_a(i.dueAt)]})]})]}),s.jsx(UI,{onEdit:()=>r(i),onComplete:()=>n(i.id,"done")})]}),s.jsx("p",{className:Ce.cardDescription,children:i.description}),s.jsxs("div",{className:Ce.cardFooter,children:[s.jsxs("div",{children:[s.jsx("span",{className:Ce.cardLabel,children:"Owner"}),s.jsx("strong",{children:i.owner})]}),s.jsxs("select",{name:`plannerCardStatus-${i.id}`,"aria-label":`Status fuer ${i.title}`,className:Ce.tableStatus,value:i.status,onChange:a=>n(i.id,a.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]}),s.jsxs("span",{className:Ce.scanBadge,children:["Letzter Scan ",Nm(i.lastScanAt)]})]})]},i.id))})}function $I(){return s.jsx("div",{className:Ce.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function $ue({filters:t,owners:e,onChange:n,onOwnerToggle:r,onClose:i,onApply:a,onReset:l}){return s.jsx("div",{className:Ce.sheetBackdrop,role:"presentation",onClick:i,children:s.jsxs("div",{className:Ce.sheet,role:"dialog","aria-label":"Filter",onClick:c=>c.stopPropagation(),children:[s.jsx("div",{className:Ce.sheetHandle}),s.jsxs("div",{className:Ce.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:Ce.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"plannerSheetSearch",value:t.q,onChange:c=>n(u=>({...u,q:c.target.value}))})]}),s.jsxs("label",{className:Ce.sheetLabel,children:["Typ",s.jsxs("select",{name:"plannerSheetType",value:t.type,onChange:c=>n(u=>({...u,type:c.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{className:Ce.sheetLabel,children:["Status",s.jsxs("select",{name:"plannerSheetStatus",value:t.status,onChange:c=>n(u=>({...u,status:c.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{className:Ce.sheetLabel,children:["Zeitraum",s.jsxs("select",{name:"plannerSheetRange",value:t.range,onChange:c=>n(u=>({...u,range:c.target.value})),children:[s.jsx("option",{value:"7d",children:"7 Tage"}),s.jsx("option",{value:"30d",children:"30 Tage"}),s.jsx("option",{value:"90d",children:"90 Tage"}),s.jsx("option",{value:"all",children:"Alle"})]})]}),s.jsxs("div",{className:Ce.sheetLabel,children:["Owner",s.jsx("div",{className:Ce.ownerGroup,children:e.map(c=>{const u=t.owner.includes(c);return s.jsx("button",{type:"button",className:`${Ce.ownerChip} ${u?Ce.ownerChipActive:""}`,onClick:()=>r(c),children:c},c)})})]})]}),s.jsxs("div",{className:Ce.sheetActions,children:[s.jsx("button",{type:"button",onClick:l,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:Ce.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const OI=X.forwardRef(({item:t,mode:e,onClose:n,onEdit:r,onStatusChange:i},a)=>s.jsx("div",{className:Ce.overlay,children:s.jsxs("div",{ref:a,className:`${Ce.panel} ${e==="drawer"?Ce.drawer:Ce.modal}`,children:[s.jsxs("header",{className:Ce.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ce.cardLabel,children:R_[t.type]}),s.jsx("h2",{children:t.title})]}),s.jsx("button",{type:"button",className:Ce.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("div",{className:Ce.panelControls,children:[s.jsxs("label",{children:["Status",s.jsxs("select",{value:t.status,onChange:l=>i(t.id,l.target.value),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{disabled:!0,value:t.priority,children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsx("p",{className:Ce.panelDescription,children:t.description}),s.jsxs("dl",{className:Ce.detailGrid,children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Owner"}),s.jsx("dd",{children:t.owner})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Assignees"}),s.jsx("dd",{children:t.assignees.join(", ")})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Termin"}),s.jsx("dd",{children:_a(t.dueAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt aktualisiert"}),s.jsx("dd",{children:Nm(t.updatedAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Erstellt"}),s.jsx("dd",{children:_a(t.createdAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Tags"}),s.jsx("dd",{children:t.tags.join(", ")})]})]}),s.jsxs("div",{className:Ce.panelFooter,children:[s.jsx("button",{type:"button",className:Ce.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:Ce.primaryAction,onClick:()=>i(t.id,"done"),children:"Als erledigt markieren"})]})]})}));OI.displayName="DetailPanel";const VI=X.forwardRef(({owners:t,item:e,onClose:n,onSubmit:r},i)=>{const[a,l]=X.useState(()=>{var h;return e!=null?e:{id:`planner-${Date.now()}`,title:"",type:"task",status:"open",owner:(h=t[0])!=null?h:_I[0],assignees:[],dueAt:new Date().toISOString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),priority:"medium",tags:[],description:"",freshness:"unknown",lastScanAt:new Date().toISOString(),nextUpdateAt:new Date().toISOString()}});X.useEffect(()=>{e&&l(e)},[JSON.stringify(e)]);const c=h=>{h.preventDefault(),a.title.trim()&&r({...a,updatedAt:new Date().toISOString()})},u=h=>{l(m=>{const y=m.tags.includes(h)?m.tags.filter(b=>b!==h):[...m.tags,h];return{...m,tags:y}})};return s.jsx("div",{className:Ce.formOverlay,children:s.jsxs("form",{ref:i,className:Ce.formPanel,onSubmit:c,children:[s.jsxs("header",{className:Ce.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ce.cardLabel,children:e?"Eintrag bearbeiten":"Neuer Eintrag"}),s.jsx("h2",{children:e?e.title:"Planner Task"})]}),s.jsx("button",{type:"button",className:Ce.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("label",{className:Ce.sheetLabel,children:["Titel",s.jsx("input",{name:"plannerFormTitle",value:a.title,onChange:h=>l(m=>({...m,title:h.target.value})),required:!0})]}),s.jsxs("label",{className:Ce.sheetLabel,children:["Beschreibung",s.jsx("textarea",{name:"plannerFormDescription",value:a.description,onChange:h=>l(m=>({...m,description:h.target.value})),rows:4})]}),s.jsxs("div",{className:Ce.formGrid,children:[s.jsxs("label",{children:["Typ",s.jsxs("select",{name:"plannerFormType",value:a.type,onChange:h=>l(m=>({...m,type:h.target.value})),children:[s.jsx("option",{value:"raid",children:"Raid"}),s.jsx("option",{value:"event",children:"Event"}),s.jsx("option",{value:"task",children:"Task"})]})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"plannerFormStatus",value:a.status,onChange:h=>l(m=>({...m,status:h.target.value})),children:[s.jsx("option",{value:"open",children:"Offen"}),s.jsx("option",{value:"in_progress",children:"In Arbeit"}),s.jsx("option",{value:"done",children:"Erledigt"}),s.jsx("option",{value:"canceled",children:"Abgebrochen"})]})]}),s.jsxs("label",{children:["Owner",s.jsx("select",{name:"plannerFormOwner",value:a.owner,onChange:h=>l(m=>({...m,owner:h.target.value})),children:t.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("label",{children:["Prioritaet",s.jsxs("select",{name:"plannerFormPriority",value:a.priority,onChange:h=>l(m=>({...m,priority:h.target.value})),children:[s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"high",children:"Hoch"}),s.jsx("option",{value:"medium",children:"Mittel"}),s.jsx("option",{value:"low",children:"Niedrig"})]})]})]}),s.jsxs("label",{className:Ce.sheetLabel,children:["Termin",s.jsx("input",{type:"datetime-local",name:"plannerFormDueAt",value:a.dueAt.slice(0,16),onChange:h=>l(m=>({...m,dueAt:new Date(h.target.value).toISOString()}))})]}),s.jsxs("div",{className:Ce.sheetLabel,children:["Tags",s.jsx("div",{className:Ce.ownerGroup,children:["raid","fusion","ops","community","recruiting"].map(h=>{const m=a.tags.includes(h);return s.jsx("button",{type:"button",className:`${Ce.ownerChip} ${m?Ce.ownerChipActive:""}`,onClick:()=>u(h),children:h},h)})})]}),s.jsxs("footer",{className:Ce.panelFooter,children:[s.jsx("button",{type:"button",className:Ce.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:Ce.primaryAction,children:"Speichern"})]})]})})});VI.displayName="PlannerFormOverlay";function UI({onEdit:t,onComplete:e}){const[n,r]=X.useState(!1),i=X.useRef(null);return X.useEffect(()=>{if(!n)return;const a=l=>{var c;(c=i.current)!=null&&c.contains(l.target)||r(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[n]),s.jsxs("div",{className:Ce.menuWrapper,ref:i,children:[s.jsx("button",{type:"button",className:Ce.dotsButton,"aria-haspopup":"menu","aria-expanded":n,onClick:()=>r(a=>!a),children:"..."}),n&&s.jsxs("div",{className:Ce.menu,role:"menu",children:[s.jsx("button",{type:"button",onClick:()=>t(),children:"Bearbeiten"}),s.jsx("button",{type:"button",onClick:()=>e(),children:"Als erledigt"}),s.jsx("button",{type:"button",onClick:()=>r(!1),children:"Mehr"})]})]})}function Oue({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:Ce.pagination,children:[s.jsx("button",{type:"button",className:Ce.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:Ce.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const Vue="_page_1cvuk_1",Uue="_header_1cvuk_13",zue="_headerLeading_1cvuk_29",Hue="_backLink_1cvuk_41",Gue="_headerStack_1cvuk_77",Wue="_kicker_1cvuk_89",que="_title_1cvuk_105",Kue="_subtitle_1cvuk_117",Que="_headerActions_1cvuk_129",Xue="_plannerNotice_1cvuk_141",Yue="_noticeItem_1cvuk_163",Jue="_noticeWarning_1cvuk_185",Zue="_noticeDot_1cvuk_197",ehe="_tabSection_1cvuk_213",the="_tabBar_1cvuk_225",she="_tabItem_1cvuk_239",nhe="_tabItemActive_1cvuk_279",rhe="_tabLabel_1cvuk_291",ihe="_tabHelper_1cvuk_301",ahe="_tabPanel_1cvuk_311",ohe="_tabBadge_1cvuk_331",lhe="_primaryAction_1cvuk_1331",che="_secondaryAction_1cvuk_1333",dhe="_infoStrip_1cvuk_1383",uhe="_infoBlock_1cvuk_1403",hhe="_infoLabel_1cvuk_1415",mhe="_infoHint_1cvuk_1441",phe="_stageGrid_1cvuk_1453",fhe="_panel_1cvuk_1465",ghe="_panelHeader_1cvuk_1487",xhe="_panelKicker_1cvuk_1501",vhe="_panelTitle_1cvuk_1517",yhe="_panelLead_1cvuk_1529",bhe="_badge_1cvuk_1541",_he="_panelBody_1cvuk_1563",whe="_placeholderGrid_1cvuk_1575",jhe="_placeholderCard_1cvuk_1587",She="_placeholderTitle_1cvuk_1609",Nhe="_placeholderText_1cvuk_1619",khe="_helperSection_1cvuk_1631",Che="_helperCard_1cvuk_1639",The="_helperKicker_1cvuk_1661",Ahe="_helperTitle_1cvuk_1677",Ehe="_helperText_1cvuk_1689",Ihe="_helperActions_1cvuk_1701",ut={page:Vue,header:Uue,headerLeading:zue,backLink:Hue,headerStack:Gue,kicker:Wue,title:que,subtitle:Kue,headerActions:Que,plannerNotice:Xue,noticeItem:Yue,noticeWarning:Jue,noticeDot:Zue,tabSection:ehe,tabBar:the,tabItem:she,tabItemActive:nhe,tabLabel:rhe,tabHelper:ihe,tabPanel:ahe,tabBadge:ohe,primaryAction:lhe,secondaryAction:che,infoStrip:dhe,infoBlock:uhe,infoLabel:hhe,infoHint:mhe,stageGrid:phe,panel:fhe,panelHeader:ghe,panelKicker:xhe,panelTitle:vhe,panelLead:yhe,badge:bhe,panelBody:_he,placeholderGrid:whe,placeholderCard:jhe,placeholderTitle:She,placeholderText:Nhe,helperSection:khe,helperCard:Che,helperKicker:The,helperTitle:Ahe,helperText:Ehe,helperActions:Ihe},Rhe="_setupGrid_rdp6l_1",Phe="_setupLeft_rdp6l_13",Lhe="_setupRight_rdp6l_15",Dhe="_card_rdp6l_27",Mhe="_cardHeader_rdp6l_49",Fhe="_cardKicker_rdp6l_61",Bhe="_cardTitle_rdp6l_77",$he="_cardText_rdp6l_89",Ohe="_toggleGroup_rdp6l_101",Vhe="_toggleButton_rdp6l_113",Uhe="_toggleButtonActive_rdp6l_143",zhe="_modeHint_rdp6l_155",Hhe="_formGrid_rdp6l_167",Ghe="_formField_rdp6l_179",Whe="_formLabel_rdp6l_191",qhe="_input_rdp6l_201",Khe="_suggestions_rdp6l_231",Qhe="_suggestionBtn_rdp6l_257",Xhe="_suggestionName_rdp6l_297",Yhe="_suggestionMeta_rdp6l_305",Jhe="_partnerActions_rdp6l_315",Zhe="_primaryAction_rdp6l_329",eme="_secondaryAction_rdp6l_331",tme="_partnerList_rdp6l_381",sme="_partnerRow_rdp6l_393",nme="_partnerName_rdp6l_413",rme="_partnerMeta_rdp6l_423",ime="_removeButton_rdp6l_433",ame="_emptyState_rdp6l_463",ome="_previewBlock_rdp6l_473",lme="_previewLabel_rdp6l_485",cme="_previewValue_rdp6l_499",dme="_previewCard_rdp6l_509",ume="_previewTitle_rdp6l_523",hme="_previewMeta_rdp6l_533",mme="_previewList_rdp6l_543",pme="_previewItem_rdp6l_555",fme="_setupInfo_rdp6l_569",gme="_setupWarning_rdp6l_593",xme="_setupInfoIcon_rdp6l_605",vme="_setupInfoTitle_rdp6l_629",yme="_setupInfoText_rdp6l_639",Oe={setupGrid:Rhe,setupLeft:Phe,setupRight:Lhe,card:Dhe,cardHeader:Mhe,cardKicker:Fhe,cardTitle:Bhe,cardText:$he,toggleGroup:Ohe,toggleButton:Vhe,toggleButtonActive:Uhe,modeHint:zhe,formGrid:Hhe,formField:Ghe,formLabel:Whe,input:qhe,suggestions:Khe,suggestionBtn:Qhe,suggestionName:Xhe,suggestionMeta:Yhe,partnerActions:Jhe,primaryAction:Zhe,secondaryAction:eme,partnerList:tme,partnerRow:sme,partnerName:nme,partnerMeta:rme,removeButton:ime,emptyState:ame,previewBlock:ome,previewLabel:lme,previewValue:cme,previewCard:dme,previewTitle:ume,previewMeta:hme,previewList:mme,previewItem:pme,setupInfo:fme,setupWarning:gme,setupInfoIcon:xme,setupInfoTitle:vme,setupInfoText:yme};function bme({setupState:t,onChangeMode:e,onChangeBaseGuild:n,onAddPartnerGuild:r,onRemovePartnerGuild:i}){var k,P,D,A,v,w,L,C,N,E;const[a,l]=X.useState(()=>{var F,I,B,$;return{name:(I=(F=t.baseGuild)==null?void 0:F.name)!=null?I:"",server:($=(B=t.baseGuild)==null?void 0:B.server)!=null?$:""}}),[c,u]=X.useState({id:void 0,name:"",server:""}),h=Qd(a.name,250),m=Qd(c.name,250),f=Zk(h,a.server||"all"),y=Zk(m,c.server||"all"),b=!!((P=(k=t.baseGuild)==null?void 0:k.name)!=null&&P.trim()&&((A=(D=t.baseGuild)==null?void 0:D.server)!=null&&A.trim())),_=t.partnerGuilds.length>0;X.useEffect(()=>{var I,B,$,U;const F={name:(B=(I=t.baseGuild)==null?void 0:I.name)!=null?B:"",server:(U=($=t.baseGuild)==null?void 0:$.server)!=null?U:""};(F.name!==a.name||F.server!==a.server)&&l(F)},[(v=t.baseGuild)==null?void 0:v.name,(w=t.baseGuild)==null?void 0:w.server]);const S=()=>{!c.name.trim()||!c.server.trim()||(r(c),u({id:void 0,name:"",server:""}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Oe.setupGrid,children:[s.jsxs("div",{className:Oe.setupLeft,children:[s.jsxs("div",{className:Oe.card,children:[s.jsx("div",{className:Oe.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Oe.cardKicker,children:"Modus"}),s.jsx("h3",{className:Oe.cardTitle,children:"Scan-based oder manuell"}),s.jsx("p",{className:Oe.cardText,children:"Waehle, ob bestehende Scans genutzt oder alle Angaben manuell erfasst werden."})]})}),s.jsxs("div",{className:Oe.toggleGroup,role:"group","aria-label":"Setup Modus",children:[s.jsx("button",{type:"button",className:`${Oe.toggleButton} ${t.mode==="scan"?Oe.toggleButtonActive:""}`,onClick:()=>e("scan"),children:"Scan-based"}),s.jsx("button",{type:"button",className:`${Oe.toggleButton} ${t.mode==="manual"?Oe.toggleButtonActive:""}`,onClick:()=>e("manual"),children:"Manual"})]}),s.jsx("p",{className:Oe.modeHint,children:t.mode==="scan"?"Use existing scan data (empfohlen, wenn aktuelle Scans vorliegen).":"Enter guild information manually if no scans are available."})]}),s.jsxs("div",{className:Oe.card,children:[s.jsx("div",{className:Oe.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Oe.cardKicker,children:"Base Guild"}),s.jsx("h3",{className:Oe.cardTitle,children:"Stammdaten"}),s.jsx("p",{className:Oe.cardText,children:"Lege die Basisgilde fest, die fuer die Fusion verwendet wird."})]})}),s.jsxs("div",{className:Oe.formGrid,children:[s.jsxs("label",{className:Oe.formField,children:[s.jsx("span",{className:Oe.formLabel,children:"Guild name"}),s.jsx("input",{type:"text",className:Oe.input,value:a.name,onChange:F=>{const I=F.target.value;l(B=>({...B,name:I}))},onBlur:()=>n({name:a.name}),placeholder:"z.B. Solaris"}),f.length>0&&s.jsx("div",{className:Oe.suggestions,children:f.map(F=>s.jsxs("button",{type:"button",className:Oe.suggestionBtn,onClick:()=>{l({name:F.name,server:F.server}),n({id:F.id,name:F.name,server:F.server})},children:[s.jsx("span",{className:Oe.suggestionName,children:F.name}),s.jsx("span",{className:Oe.suggestionMeta,children:F.server})]},F.id))})]}),s.jsxs("label",{className:Oe.formField,children:[s.jsx("span",{className:Oe.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:Oe.input,value:a.server,onChange:F=>{const I=F.target.value;l(B=>({...B,server:I}))},onBlur:()=>n({server:a.server}),placeholder:"z.B. EU-01"})]})]})]}),s.jsxs("div",{className:Oe.card,children:[s.jsx("div",{className:Oe.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Oe.cardKicker,children:"Partner Guilds"}),s.jsx("h3",{className:Oe.cardTitle,children:"Partner hinzufuegen"}),s.jsx("p",{className:Oe.cardText,children:"Fuege eine oder mehrere Partnergilden hinzu, die an der Fusion beteiligt sind."})]})}),s.jsxs("div",{className:Oe.formGrid,children:[s.jsxs("label",{className:Oe.formField,children:[s.jsx("span",{className:Oe.formLabel,children:"Name"}),s.jsx("input",{type:"text",className:Oe.input,value:c.name,onChange:F=>u(I=>({...I,name:F.target.value})),placeholder:"z.B. Nova Alliance"}),y.length>0&&s.jsx("div",{className:Oe.suggestions,children:y.map(F=>s.jsxs("button",{type:"button",className:Oe.suggestionBtn,onClick:()=>u({id:F.id,name:F.name,server:F.server}),children:[s.jsx("span",{className:Oe.suggestionName,children:F.name}),s.jsx("span",{className:Oe.suggestionMeta,children:F.server})]},F.id))})]}),s.jsxs("label",{className:Oe.formField,children:[s.jsx("span",{className:Oe.formLabel,children:"Server"}),s.jsx("input",{type:"text",className:Oe.input,value:c.server,onChange:F=>u(I=>({...I,server:F.target.value})),placeholder:"z.B. EU-02"})]})]}),s.jsxs("div",{className:Oe.partnerActions,children:[s.jsx("button",{type:"button",className:Oe.primaryAction,onClick:S,children:"Add partner guild"}),s.jsx("button",{type:"button",className:Oe.secondaryAction,onClick:()=>u({name:"",server:""}),children:"Reset fields"})]}),s.jsx("div",{className:Oe.partnerList,children:t.partnerGuilds.length===0?s.jsx("div",{className:Oe.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(F=>s.jsxs("div",{className:Oe.partnerRow,children:[s.jsxs("div",{children:[s.jsx("div",{className:Oe.partnerName,children:F.name||"Unbenannt"}),s.jsx("div",{className:Oe.partnerMeta,children:F.server||"Server n/a"})]}),s.jsx("button",{type:"button",className:Oe.removeButton,onClick:()=>i(F.id),children:"Remove"})]},F.id))})]})]}),s.jsx("aside",{className:Oe.setupRight,children:s.jsxs("div",{className:Oe.card,children:[s.jsx("div",{className:Oe.cardHeader,children:s.jsxs("div",{children:[s.jsx("p",{className:Oe.cardKicker,children:"Preview"}),s.jsx("h3",{className:Oe.cardTitle,children:"Uebersicht"}),s.jsx("p",{className:Oe.cardText,children:"Zusammenfassung der aktuellen Auswahl, bevor weitere Daten geladen werden."})]})}),s.jsxs("div",{className:Oe.previewBlock,children:[s.jsx("div",{className:Oe.previewLabel,children:"Modus"}),s.jsx("div",{className:Oe.previewValue,children:t.mode==="scan"?"Scan-based":"Manual"})]}),s.jsxs("div",{className:Oe.previewBlock,children:[s.jsx("div",{className:Oe.previewLabel,children:"Base Guild"}),s.jsx("div",{className:Oe.previewCard,children:(L=t.baseGuild)!=null&&L.name||(C=t.baseGuild)!=null&&C.server?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Oe.previewTitle,children:((N=t.baseGuild)==null?void 0:N.name)||"Unbenannt"}),s.jsx("div",{className:Oe.previewMeta,children:((E=t.baseGuild)==null?void 0:E.server)||"Server n/a"})]}):s.jsx("div",{className:Oe.emptyState,children:"No base guild selected yet."})})]}),s.jsxs("div",{className:Oe.previewBlock,children:[s.jsx("div",{className:Oe.previewLabel,children:"Partner Guilds"}),s.jsx("div",{className:Oe.previewList,children:t.partnerGuilds.length===0?s.jsx("div",{className:Oe.emptyState,children:"No partner guilds added yet."}):t.partnerGuilds.map(F=>s.jsxs("div",{className:Oe.previewItem,children:[s.jsx("div",{className:Oe.previewTitle,children:F.name||"Unbenannt"}),s.jsx("div",{className:Oe.previewMeta,children:F.server||"Server n/a"})]},F.id))})]})]})})]}),b?_?null:s.jsxs("div",{className:Oe.setupInfo,role:"status","aria-live":"polite",children:[s.jsx("span",{className:Oe.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:Oe.setupInfoTitle,children:"Optional: add partner guilds."}),s.jsx("p",{className:Oe.setupInfoText,children:"You can add partner guilds to compare multi-guild fusion scenarios later."})]})]}):s.jsxs("div",{className:`${Oe.setupInfo} ${Oe.setupWarning}`,role:"status","aria-live":"polite",children:[s.jsx("span",{className:Oe.setupInfoIcon,"aria-hidden":!0,children:"i"}),s.jsxs("div",{children:[s.jsx("div",{className:Oe.setupInfoTitle,children:"No base guild selected yet."}),s.jsx("p",{className:Oe.setupInfoText,children:"Please choose a base guild (name and server) to plan a fusion with real members."})]})]})]})}function Zk(t,e){const[n,r]=X.useState([]);return X.useEffect(()=>{const i=t.trim().toLowerCase();if(!i){r([]);return}let a=!1;async function l(){try{const c=fm(ft,"latest"),u=await gn(nn(c,Br("nameFold"),Vi(i),Ui(i+""),mn(12))),h=await gn(nn(c,cl("nameNgrams","array-contains",i),mn(12))),m=new Set,f=[],y=b=>{var w,L,C,N,E,F,I,B,$,U;const _=b.data(),k=(w=b.ref.parent)==null?void 0:w.parent;if(((L=k==null?void 0:k.parent)==null?void 0:L.id)!=="guilds")return;const D=(N=(C=k==null?void 0:k.id)!=null?C:_.guildIdentifier)!=null?N:b.id;if(!D||m.has(D))return;const A=(I=(F=_.server)!=null?F:(E=_.values)==null?void 0:E.Server)!=null?I:"Unknown";if(e!=="all"&&A!==e)return;const v=(U=($=_.name)!=null?$:(B=_.values)==null?void 0:B.Name)!=null?U:"Unbekannte Gilde";m.add(D),f.push({id:D,name:v,server:A})};u.forEach(y),h.forEach(y),a||(f.sort((b,_)=>b.name.localeCompare(_.name)),r(f))}catch(c){console.error("[FusionPlanner] guild search failed",c),a||r([])}}return l(),()=>{a=!0}},[t,e]),n}const _me="_membersContainer_1ctw8_1",wme="_scenarioSwitcher_1ctw8_13",jme="_scenarioButton_1ctw8_25",Sme="_scenarioButtonActive_1ctw8_63",Nme="_scenarioButtonName_1ctw8_75",kme="_scenarioButtonDesc_1ctw8_83",Cme="_setupInfo_1ctw8_93",Tme="_setupInfoHeader_1ctw8_113",Ame="_setupInfoTitle_1ctw8_127",Eme="_setupInfoMode_1ctw8_139",Ime="_setupInfoRow_1ctw8_163",Rme="_setupInfoLabel_1ctw8_175",Pme="_setupInfoValue_1ctw8_189",Lme="_setupInfoMeta_1ctw8_199",Dme="_setupInfoPartners_1ctw8_209",Mme="_setupInfoBadge_1ctw8_221",Fme="_setupInfoEmpty_1ctw8_245",Bme="_membersSummary_1ctw8_255",$me="_membersSummaryItem_1ctw8_275",Ome="_membersSummaryLabel_1ctw8_287",Vme="_membersSummaryValue_1ctw8_301",Ume="_maxSlotsInput_1ctw8_313",zme="_membersTable_1ctw8_331",Hme="_membersRow_1ctw8_349",Gme="_membersHead_1ctw8_375",Wme="_membersCell_1ctw8_385",qme="_memberName_1ctw8_395",Kme="_memberBadge_1ctw8_403",Qme="_assignmentCell_1ctw8_427",Xme="_assignmentBadge_1ctw8_439",Yme="_assignmentBadgeMain_1ctw8_463",Jme="_assignmentBadgePartner_1ctw8_475",Zme="_assignmentBadgeWatch_1ctw8_487",epe="_assignmentBadgeIdle_1ctw8_499",tpe="_assignmentActions_1ctw8_507",spe="_assignmentButton_1ctw8_519",npe="_assignmentButtonActive_1ctw8_551",rpe="_decisionGroup_1ctw8_563",ipe="_decisionButton_1ctw8_575",ape="_decisionButtonActive_1ctw8_607",ope="_emptyWrap_1ctw8_619",lpe="_emptyTitle_1ctw8_633",cpe="_emptyText_1ctw8_641",dpe="_contextMenuBackdrop_1ctw8_651",upe="_contextMenu_1ctw8_651",hpe="_contextMenuItem_1ctw8_693",mpe="_partnerPickerCell_1ctw8_725",ppe="_partnerLabel_1ctw8_737",fpe="_partnerSelect_1ctw8_751",Pe={membersContainer:_me,scenarioSwitcher:wme,scenarioButton:jme,scenarioButtonActive:Sme,scenarioButtonName:Nme,scenarioButtonDesc:kme,setupInfo:Cme,setupInfoHeader:Tme,setupInfoTitle:Ame,setupInfoMode:Eme,setupInfoRow:Ime,setupInfoLabel:Rme,setupInfoValue:Pme,setupInfoMeta:Lme,setupInfoPartners:Dme,setupInfoBadge:Mme,setupInfoEmpty:Fme,membersSummary:Bme,membersSummaryItem:$me,membersSummaryLabel:Ome,membersSummaryValue:Vme,maxSlotsInput:Ume,membersTable:zme,membersRow:Hme,membersHead:Gme,membersCell:Wme,memberName:qme,memberBadge:Kme,assignmentCell:Qme,assignmentBadge:Xme,assignmentBadgeMain:Yme,assignmentBadgePartner:Jme,assignmentBadgeWatch:Zme,assignmentBadgeIdle:epe,assignmentActions:tpe,assignmentButton:spe,assignmentButtonActive:npe,decisionGroup:rpe,decisionButton:ipe,decisionButtonActive:ape,emptyWrap:ope,emptyTitle:lpe,emptyText:cpe,contextMenuBackdrop:dpe,contextMenu:upe,contextMenuItem:hpe,partnerPickerCell:mpe,partnerLabel:ppe,partnerSelect:fpe};function gpe({members:t,scenario:e,onChangeScenarioDecision:n,onChangeScenarioTargetGuild:r,onChangeScenarioMaxSlots:i,setupState:a}){var C,N,E,F,I,B;const[l,c]=X.useState(null),u=X.useRef(null),h=a.partnerGuilds.length>0?a.partnerGuilds.map(($,U)=>({id:$.id,label:$.name||`Partner ${U+1}`})):[{id:"partner-default",label:"Partner guild"}],m=X.useCallback(($,U)=>{c({memberId:$,...U})},[]),f=X.useCallback(()=>{c(null)},[]),y=X.useCallback(()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},[]),b=X.useCallback(($,U,H)=>{y(),u.current=window.setTimeout(()=>{m($,{x:U,y:H})},550)},[y,m]);X.useEffect(()=>()=>y(),[y]);const _=X.useCallback(($,U,H)=>{if(U==="main")n($,"take"),r($,"main");else if(U==="partner"){const W=H?`partner:${H}`:"partner";n($,"take"),r($,W)}else n($,"bench"),r($,"none");f()},[f,n,r]),S=X.useCallback(($,U)=>{n($,U),U==="take"?r($,"main"):r($,"none")},[n,r]);if(!!!((N=(C=a.baseGuild)==null?void 0:C.name)!=null&&N.trim()&&((F=(E=a.baseGuild)==null?void 0:E.server)!=null&&F.trim())))return s.jsxs("div",{className:Pe.emptyWrap,children:[s.jsx("h3",{className:Pe.emptyTitle,children:"No base guild configured"}),s.jsx("p",{className:Pe.emptyText,children:"Please configure a base guild in the Setup tab before assigning members."})]});if(!e)return s.jsxs("div",{className:Pe.emptyWrap,children:[s.jsx("h3",{className:Pe.emptyTitle,children:"Members & Slots"}),s.jsx("p",{className:Pe.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t||t.length===0)return s.jsxs("div",{className:Pe.emptyWrap,children:[s.jsx("h3",{className:Pe.emptyTitle,children:"No members found"}),s.jsx("p",{className:Pe.emptyText,children:"No members found for the selected guild. Check if scans are available or try again later."})]});const P=(I=e.decisions)!=null?I:{},D=(B=e.targetGuildAssignments)!=null?B:{},A=t.filter($=>P[$.id]==="take").length,v=t.filter($=>P[$.id]==="bench").length,w=t.filter($=>P[$.id]==="drop").length,L=Math.max(0,e.maxSlots-e.reservedSlots-A);return s.jsxs("div",{className:Pe.membersContainer,children:[s.jsx("div",{className:Pe.scenarioSwitcher,children:s.jsxs("div",{className:`${Pe.scenarioButton} ${Pe.scenarioButtonActive}`,children:[s.jsx("span",{className:Pe.scenarioButtonName,children:e.name}),e.description?s.jsx("span",{className:Pe.scenarioButtonDesc,children:e.description}):null]})}),s.jsxs("div",{className:Pe.setupInfo,children:[s.jsxs("div",{className:Pe.setupInfoHeader,children:[s.jsx("div",{className:Pe.setupInfoTitle,children:"Planning for"}),s.jsx("span",{className:Pe.setupInfoMode,children:a.mode==="scan"?"Scan":"Manual"})]}),a.baseGuild?s.jsxs("div",{className:Pe.setupInfoRow,children:[s.jsx("span",{className:Pe.setupInfoLabel,children:"Base Guild"}),s.jsxs("span",{className:Pe.setupInfoValue,children:[a.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:Pe.setupInfoMeta,children:["(",a.baseGuild.server||"Server n/a",")"]})]})]}):s.jsx("div",{className:Pe.setupInfoEmpty,children:"No base guild selected in Setup tab."}),s.jsxs("div",{className:Pe.setupInfoRow,children:[s.jsx("span",{className:Pe.setupInfoLabel,children:"Partner Guilds"}),a.partnerGuilds.length?s.jsx("div",{className:Pe.setupInfoPartners,children:a.partnerGuilds.map($=>s.jsxs("span",{className:Pe.setupInfoBadge,children:[$.name||"Unbenannt",s.jsxs("span",{className:Pe.setupInfoMeta,children:[" (",$.server||"Server n/a",")"]})]},$.id))}):s.jsx("span",{className:Pe.setupInfoEmpty,children:"No partner guilds added yet."})]})]}),s.jsxs("div",{className:Pe.membersSummary,children:[s.jsxs("div",{className:Pe.membersSummaryItem,children:[s.jsx("div",{className:Pe.membersSummaryLabel,children:"Selected"}),s.jsxs("div",{className:Pe.membersSummaryValue,children:[A," / ",e.maxSlots]})]}),s.jsxs("div",{className:Pe.membersSummaryItem,children:[s.jsx("div",{className:Pe.membersSummaryLabel,children:"Free slots"}),s.jsx("div",{className:Pe.membersSummaryValue,children:L})]}),s.jsxs("div",{className:Pe.membersSummaryItem,children:[s.jsx("div",{className:Pe.membersSummaryLabel,children:"Bench"}),s.jsx("div",{className:Pe.membersSummaryValue,children:v})]}),s.jsxs("div",{className:Pe.membersSummaryItem,children:[s.jsx("div",{className:Pe.membersSummaryLabel,children:"Drop"}),s.jsx("div",{className:Pe.membersSummaryValue,children:w})]}),s.jsxs("div",{className:Pe.membersSummaryItem,children:[s.jsx("div",{className:Pe.membersSummaryLabel,children:"Reserved"}),s.jsx("div",{className:Pe.membersSummaryValue,children:e.reservedSlots})]}),s.jsxs("div",{className:Pe.membersSummaryItem,children:[s.jsx("div",{className:Pe.membersSummaryLabel,children:"Max slots"}),s.jsx("input",{type:"number",className:Pe.maxSlotsInput,value:e.maxSlots,min:0,onChange:$=>i(Number($.target.value))})]})]}),s.jsxs("div",{className:Pe.membersTable,children:[s.jsxs("div",{className:`${Pe.membersRow} ${Pe.membersHead}`,children:[s.jsx("div",{className:Pe.membersCell,children:"Name"}),s.jsx("div",{className:Pe.membersCell,children:"Level"}),s.jsx("div",{className:Pe.membersCell,children:"Guild"}),s.jsx("div",{className:Pe.membersCell,children:"Class"}),s.jsx("div",{className:Pe.membersCell,children:"Plan"}),s.jsx("div",{className:Pe.membersCell,children:"Decision"}),s.jsx("div",{className:Pe.membersCell,children:"Partner"})]}),t.map($=>{var ne,z,Y,le,ae,he,ye,Ie,Z;const U=(ne=P[$.id])!=null?ne:"undecided",H=(z=D[$.id])!=null?z:"none",W=H&&H.toString().startsWith("partner:")?H.split(":")[1]:null,K=(he=(Y=h.find(fe=>fe.id===W))==null?void 0:Y.label)!=null?he:H==="partner"?(ae=(le=h[0])==null?void 0:le.label)!=null?ae:"Partner guild":null,q=U==="take"&&H==="main"?"main":U==="take"&&(H==="partner"||W)?"partner":U==="bench"?"watch":"unassigned",se=q==="main"?"Main guild":q==="partner"?K||"Partner guild":q==="watch"?"Watchlist":"Not planned";return s.jsxs("div",{className:Pe.membersRow,onContextMenu:fe=>{fe.preventDefault(),m($.id,{x:fe.clientX,y:fe.clientY})},onTouchStart:fe=>{const oe=fe.touches[0];oe&&b($.id,oe.clientX,oe.clientY)},onTouchEnd:y,onTouchCancel:y,children:[s.jsx("div",{className:Pe.membersCell,children:s.jsx("div",{className:Pe.memberName,children:$.name})}),s.jsx("div",{className:Pe.membersCell,children:s.jsxs("span",{className:Pe.memberBadge,children:["Lvl ",$.level]})}),s.jsx("div",{className:Pe.membersCell,children:$.guildName}),s.jsx("div",{className:Pe.membersCell,children:(Ie=(ye=$.className)!=null?ye:$.class)!=null?Ie:"?"}),s.jsxs("div",{className:`${Pe.membersCell} ${Pe.assignmentCell}`,children:[s.jsx("span",{className:`${Pe.assignmentBadge} ${q==="main"?Pe.assignmentBadgeMain:q==="partner"?Pe.assignmentBadgePartner:q==="watch"?Pe.assignmentBadgeWatch:Pe.assignmentBadgeIdle}`,children:se}),s.jsxs("div",{className:Pe.assignmentActions,role:"group","aria-label":"Target guild selection",children:[s.jsx("button",{type:"button",className:`${Pe.assignmentButton} ${q==="main"?Pe.assignmentButtonActive:""}`,onClick:()=>_($.id,"main"),children:"Main"}),s.jsx("button",{type:"button",className:`${Pe.assignmentButton} ${q==="watch"?Pe.assignmentButtonActive:""}`,onClick:()=>_($.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",className:`${Pe.assignmentButton} ${q==="partner"?Pe.assignmentButtonActive:""}`,onClick:()=>_($.id,"partner"),children:"Partner"})]})]}),s.jsx("div",{className:Pe.membersCell,children:s.jsx("div",{className:Pe.decisionGroup,role:"group","aria-label":"Decision",children:["take","bench","drop","undecided"].map(fe=>s.jsx("button",{type:"button",className:`${Pe.decisionButton} ${U===fe?Pe.decisionButtonActive:""}`,onClick:()=>S($.id,fe),children:fe==="take"?"Take":fe==="bench"?"Bench":fe==="drop"?"Drop":"?"},fe))})}),s.jsxs("div",{className:`${Pe.membersCell} ${Pe.partnerPickerCell}`,children:[s.jsx("label",{className:Pe.partnerLabel,htmlFor:`partner-select-${$.id}`,children:"Partner"}),s.jsx("select",{id:`partner-select-${$.id}`,className:Pe.partnerSelect,value:W!=null?W:(Z=h[0])==null?void 0:Z.id,onChange:fe=>_($.id,"partner",fe.target.value),children:h.map(fe=>s.jsx("option",{value:fe.id,children:fe.label},fe.id))})]})]},$.id)})]}),l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Pe.contextMenuBackdrop,onClick:f}),s.jsxs("div",{className:Pe.contextMenu,style:{top:l.y,left:l.x},children:[s.jsx("button",{type:"button",className:Pe.contextMenuItem,onClick:()=>_(l.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:Pe.contextMenuItem,onClick:()=>_(l.memberId,"watch"),children:"Move to Watchlist"}),h.map($=>s.jsxs("button",{type:"button",className:Pe.contextMenuItem,onClick:()=>_(l.memberId,"partner",$.id),children:["Move to ",$.label]},$.id))]})]}):null]})}const xpe="_overview_6ytw3_1",vpe="_contextBox_6ytw3_15",ype="_contextKicker_6ytw3_35",bpe="_contextTitle_6ytw3_51",_pe="_contextText_6ytw3_61",wpe="_contextDetails_6ytw3_71",jpe="_detailItem_6ytw3_85",Spe="_detailLabel_6ytw3_99",Npe="_detailValue_6ytw3_113",kpe="_kpiGrid_6ytw3_121",Cpe="_kpiCard_6ytw3_133",Tpe="_kpiLabel_6ytw3_153",Ape="_kpiValue_6ytw3_167",Epe="_columnsWrapper_6ytw3_177",Ipe="_column_6ytw3_177",Rpe="_columnDropTarget_6ytw3_213",Ppe="_columnHeader_6ytw3_223",Lpe="_columnKicker_6ytw3_235",Dpe="_columnTitle_6ytw3_251",Mpe="_columnCount_6ytw3_259",Fpe="_columnBody_6ytw3_281",Bpe="_memberCard_6ytw3_293",$pe="_memberTop_6ytw3_337",Ope="_memberName_6ytw3_349",Vpe="_memberMeta_6ytw3_357",Upe="_memberBadge_6ytw3_369",zpe="_memberBottom_6ytw3_395",Hpe="_memberGuild_6ytw3_409",Gpe="_memberServer_6ytw3_419",Wpe="_memberActions_6ytw3_427",qpe="_emptyList_6ytw3_469",Kpe="_emptyWrap_6ytw3_487",Qpe="_emptyTitle_6ytw3_501",Xpe="_emptyText_6ytw3_509",Ype="_addPartnerCard_6ytw3_519",Jpe="_contextMenuBackdrop_6ytw3_559",Zpe="_contextMenu_6ytw3_559",efe="_contextMenuItem_6ytw3_601",ot={overview:xpe,contextBox:vpe,contextKicker:ype,contextTitle:bpe,contextText:_pe,contextDetails:wpe,detailItem:jpe,detailLabel:Spe,detailValue:Npe,kpiGrid:kpe,kpiCard:Cpe,kpiLabel:Tpe,kpiValue:Ape,columnsWrapper:Epe,column:Ipe,columnDropTarget:Rpe,columnHeader:Ppe,columnKicker:Lpe,columnTitle:Dpe,columnCount:Mpe,columnBody:Fpe,memberCard:Bpe,memberTop:$pe,memberName:Ope,memberMeta:Vpe,memberBadge:Upe,memberBottom:zpe,memberGuild:Hpe,memberServer:Gpe,memberActions:Wpe,emptyList:qpe,emptyWrap:Kpe,emptyTitle:Qpe,emptyText:Xpe,addPartnerCard:Ype,contextMenuBackdrop:Jpe,contextMenu:Zpe,contextMenuItem:efe};function tfe({members:t,scenario:e,setupState:n,onChangeScenarioDecision:r,onChangeScenarioTargetGuild:i,onAddPartnerGuild:a}){var H,W,K;const l=(H=e==null?void 0:e.decisions)!=null?H:{},c=(W=e==null?void 0:e.targetGuildAssignments)!=null?W:{},u=n.partnerGuilds.length>0?n.partnerGuilds.map((q,se)=>({id:q.id,label:q.name||`Partner ${se+1}`})):[{id:"partner-default",label:"Partner guild"}],h=t.filter(q=>l[q.id]==="take"&&c[q.id]==="main"),m=t.filter(q=>l[q.id]==="bench"),f=u.reduce((q,se)=>(q[se.id]=t.filter(ne=>{const z=c[ne.id];return l[ne.id]==="take"&&(z===`partner:${se.id}`||z==="partner")}),q),{}),y=t.filter(q=>!h.includes(q)&&!m.includes(q)&&!Object.values(f).some(se=>se.includes(q))),[b,_]=X.useState(null),[S,k]=X.useState(null),P=X.useRef(null),D=t.length,A=h.length,v=m.length,w=Object.values(f).reduce((q,se)=>q+se.length,0),L=e&&typeof e.maxSlots=="number"?Math.max(0,e.maxSlots-A-w):0,C=X.useCallback((q,se,ne)=>{q&&(se==="main"?(r(q,"take"),i(q,"main")):se==="partner"?(r(q,"take"),i(q,ne?`partner:${ne}`:"partner")):se==="unassigned"?(r(q,"undecided"),i(q,"none")):(r(q,"bench"),i(q,"none")),k(null))},[r,i]),N=X.useCallback((q,se)=>ne=>{ne.preventDefault();const z=ne.dataTransfer.getData("text/plain");z&&C(z,q,se),_(null)},[C]),E=X.useCallback(q=>se=>{se.preventDefault(),_(q)},[]),F=X.useCallback(()=>_(null),[]),I=X.useCallback((q,se)=>{k({memberId:q,...se})},[]),B=X.useCallback(()=>{P.current!==null&&(window.clearTimeout(P.current),P.current=null)},[]),$=X.useCallback((q,se,ne)=>{B(),P.current=window.setTimeout(()=>{I(q,{x:se,y:ne})},550)},[B,I]);if(X.useEffect(()=>()=>B(),[B]),!e)return s.jsxs("div",{className:ot.emptyWrap,children:[s.jsx("h3",{className:ot.emptyTitle,children:"Overview"}),s.jsx("p",{className:ot.emptyText,children:"Kein Szenario aktiv. Lege einen Plan an."})]});if(!t.length)return s.jsxs("div",{className:ot.emptyWrap,children:[s.jsx("h3",{className:ot.emptyTitle,children:"No members loaded"}),s.jsx("p",{className:ot.emptyText,children:"Lade ein Setup mit Mitgliedern, um die Uebersicht zu nutzen."})]});const U=(q,se,ne,z,Y)=>s.jsxs("div",{className:`${ot.column} ${b===q?ot.columnDropTarget:""}`,onDragOver:E(q),onDragEnter:E(q),onDragLeave:F,onDrop:N(q,Y),children:[s.jsxs("div",{className:ot.columnHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ot.columnKicker,children:ne}),s.jsx("h4",{className:ot.columnTitle,children:se})]}),s.jsx("span",{className:ot.columnCount,children:z.length})]}),s.jsx("div",{className:ot.columnBody,children:z.length?z.map(le=>{var ae,he,ye,Ie;return s.jsxs("div",{className:ot.memberCard,draggable:!0,onDragStart:Z=>Z.dataTransfer.setData("text/plain",le.id),onContextMenu:Z=>{Z.preventDefault(),I(le.id,{x:Z.clientX,y:Z.clientY})},onTouchStart:Z=>{const fe=Z.touches[0];fe&&$(le.id,fe.clientX,fe.clientY)},onTouchEnd:B,onTouchCancel:B,children:[s.jsxs("div",{className:ot.memberTop,children:[s.jsxs("div",{children:[s.jsx("div",{className:ot.memberName,children:le.name}),s.jsxs("p",{className:ot.memberMeta,children:[(he=(ae=le.className)!=null?ae:le.class)!=null?he:"Unknown","  ",(ye=le.role)!=null?ye:"Unknown"]})]}),s.jsxs("span",{className:ot.memberBadge,children:["Lvl ",(Ie=le.level)!=null?Ie:"?"]})]}),s.jsxs("div",{className:ot.memberBottom,children:[s.jsxs("span",{className:ot.memberGuild,children:[le.guildName," ",s.jsxs("span",{className:ot.memberServer,children:["(",le.server||"Server n/a",")"]})]}),s.jsxs("div",{className:ot.memberActions,children:[s.jsx("button",{type:"button",onClick:()=>C(le.id,"main"),children:"Main"}),s.jsx("button",{type:"button",onClick:()=>C(le.id,"watch"),children:"Watch"}),s.jsx("button",{type:"button",onClick:()=>C(le.id,"partner"),children:"Partner"})]})]})]},le.id)}):s.jsx("div",{className:ot.emptyList,children:"No players in this list yet."})})]});return s.jsxs("div",{className:ot.overview,children:[s.jsxs("div",{className:ot.contextBox,children:[s.jsxs("div",{children:[s.jsx("p",{className:ot.contextKicker,children:"Setup"}),s.jsx("h3",{className:ot.contextTitle,children:"Fusion Overview"}),s.jsx("p",{className:ot.contextText,children:"Ziehe Spieler zwischen den Listen oder nutze das Kontextmenue."})]}),s.jsxs("div",{className:ot.contextDetails,children:[s.jsxs("div",{className:ot.detailItem,children:[s.jsx("span",{className:ot.detailLabel,children:"Base Guild"}),s.jsx("strong",{className:ot.detailValue,children:((K=n.baseGuild)==null?void 0:K.name)||"Unbenannt"})]}),s.jsxs("div",{className:ot.detailItem,children:[s.jsx("span",{className:ot.detailLabel,children:"Partner Guilds"}),s.jsx("strong",{className:ot.detailValue,children:n.partnerGuilds.length})]}),s.jsxs("div",{className:ot.detailItem,children:[s.jsx("span",{className:ot.detailLabel,children:"Max Slots"}),s.jsx("strong",{className:ot.detailValue,children:e.maxSlots})]})]})]}),s.jsxs("div",{className:ot.kpiGrid,children:[s.jsxs("div",{className:ot.kpiCard,children:[s.jsx("span",{className:ot.kpiLabel,children:"Total players"}),s.jsx("strong",{className:ot.kpiValue,children:D})]}),s.jsxs("div",{className:ot.kpiCard,children:[s.jsx("span",{className:ot.kpiLabel,children:"Main guild"}),s.jsx("strong",{className:ot.kpiValue,children:A})]}),s.jsxs("div",{className:ot.kpiCard,children:[s.jsx("span",{className:ot.kpiLabel,children:"Watchlist"}),s.jsx("strong",{className:ot.kpiValue,children:v})]}),s.jsxs("div",{className:ot.kpiCard,children:[s.jsx("span",{className:ot.kpiLabel,children:"Partner guild"}),s.jsx("strong",{className:ot.kpiValue,children:w})]}),s.jsxs("div",{className:ot.kpiCard,children:[s.jsx("span",{className:ot.kpiLabel,children:"Free slots"}),s.jsx("strong",{className:ot.kpiValue,children:L})]})]}),s.jsxs("div",{className:ot.columnsWrapper,children:[U("unassigned","Unassigned","Noch ohne Planung",y),U("main","Main guild","Take & Assign main",h),U("watch","Watchlist","Bench for review",m),u.map(q=>{var se;return U("partner",q.label,"Take & Assign partner",(se=f[q.id])!=null?se:[],q.id)}),s.jsx("button",{type:"button",className:ot.addPartnerCard,onClick:()=>a(`Partner ${u.length+1}`),children:"+ Partner guild"})]}),S?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:ot.contextMenuBackdrop,onClick:()=>k(null)}),s.jsxs("div",{className:ot.contextMenu,style:{top:S.y,left:S.x},children:[s.jsx("button",{type:"button",className:ot.contextMenuItem,onClick:()=>C(S.memberId,"main"),children:"Move to Main guild"}),s.jsx("button",{type:"button",className:ot.contextMenuItem,onClick:()=>C(S.memberId,"watch"),children:"Move to Watchlist"}),u.map(q=>s.jsxs("button",{type:"button",className:ot.contextMenuItem,onClick:()=>C(S.memberId,"partner",q.id),children:["Move to ",q.label]},q.id))]})]}):null]})}const sfe="_scenariosTab_3v4iw_1",nfe="_scenariosHeader_3v4iw_13",rfe="_scenariosTitle_3v4iw_35",ife="_scenariosText_3v4iw_45",afe="_scenarioInfo_3v4iw_57",ofe="_headerActions_3v4iw_71",lfe="_createButton_3v4iw_81",cfe="_scenarioList_3v4iw_115",dfe="_scenarioCard_3v4iw_127",ufe="_scenarioCardActive_3v4iw_147",hfe="_scenarioCardTop_3v4iw_157",mfe="_cardKicker_3v4iw_169",pfe="_cardTitle_3v4iw_185",ffe="_cardText_3v4iw_197",gfe="_scenarioActiveBadge_3v4iw_209",xfe="_scenarioMeta_3v4iw_231",vfe="_scenarioMetaLabel_3v4iw_243",yfe="_scenarioMetaValue_3v4iw_259",bfe="_scenarioStats_3v4iw_269",_fe="_scenarioStatItem_3v4iw_281",wfe="_scenarioStatLabel_3v4iw_295",jfe="_scenarioStatValue_3v4iw_311",Sfe="_scenarioActions_3v4iw_321",Nfe="_scenarioActionButton_3v4iw_337",kfe="_scenarioActionActive_3v4iw_367",Cfe="_scenarioActionGroup_3v4iw_377",Tfe="_secondaryActionButton_3v4iw_389",Afe="_deleteActionButton_3v4iw_391",Efe="_deleteActionDisabled_3v4iw_443",Ot={scenariosTab:sfe,scenariosHeader:nfe,scenariosTitle:rfe,scenariosText:ife,scenarioInfo:afe,headerActions:ofe,createButton:lfe,scenarioList:cfe,scenarioCard:dfe,scenarioCardActive:ufe,scenarioCardTop:hfe,cardKicker:mfe,cardTitle:pfe,cardText:ffe,scenarioActiveBadge:gfe,scenarioMeta:xfe,scenarioMetaLabel:vfe,scenarioMetaValue:yfe,scenarioStats:bfe,scenarioStatItem:_fe,scenarioStatLabel:wfe,scenarioStatValue:jfe,scenarioActions:Sfe,scenarioActionButton:Nfe,scenarioActionActive:kfe,scenarioActionGroup:Cfe,secondaryActionButton:Tfe,deleteActionButton:Afe,deleteActionDisabled:Efe};function Ife({scenarios:t,activeScenarioId:e,onSetActiveScenario:n,onCreateScenario:r,onDuplicateScenario:i,onRenameScenario:a,onDeleteScenario:l}){const c=X.useCallback(m=>{const f=Object.values(m.decisions),y=f.filter(k=>k==="take").length,b=f.filter(k=>k==="bench").length,_=f.filter(k=>k==="drop").length,S=Math.max(0,m.maxSlots-m.reservedSlots-y);return{selected:y,bench:b,drop:_,free:S}},[]),u=m=>{const f=window.prompt("Neuer Szenario-Name",m.name);f!==null&&a(m.id,f)},h=m=>{if(t.length<=1){window.alert("You need at least one scenario. Create a new scenario before deleting this one.");return}window.confirm("Are you sure you want to delete this scenario?")&&l(m.id)};return s.jsxs("div",{className:Ot.scenariosTab,children:[s.jsxs("div",{className:Ot.scenariosHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ot.cardKicker,children:"Scenarios"}),s.jsx("h3",{className:Ot.scenariosTitle,children:"Fusion Plans verwalten"}),s.jsx("p",{className:Ot.scenariosText,children:"Plane Varianten mit eigenen Slot-Einstellungen und Entscheidungen pro Mitglied."})]}),s.jsx("div",{className:Ot.headerActions,children:s.jsx("button",{type:"button",className:Ot.createButton,onClick:r,children:"Neues Szenario"})})]}),s.jsx("p",{className:Ot.scenarioInfo,children:"Scenarios allow you to compare different fusion plans (slots & decisions) with the same members."}),s.jsx("div",{className:Ot.scenarioList,children:t.map(m=>{const f=c(m),y=m.id===e,b=t.length<=1;return s.jsxs("article",{className:`${Ot.scenarioCard} ${y?Ot.scenarioCardActive:""}`,children:[s.jsxs("div",{className:Ot.scenarioCardTop,children:[s.jsxs("div",{children:[s.jsx("p",{className:Ot.cardKicker,children:"Scenario"}),s.jsx("h3",{className:Ot.cardTitle,children:m.name}),m.description?s.jsx("p",{className:Ot.cardText,children:m.description}):null]}),y?s.jsx("span",{className:Ot.scenarioActiveBadge,children:"Active"}):null]}),s.jsxs("div",{className:Ot.scenarioMeta,children:[s.jsxs("div",{children:[s.jsx("span",{className:Ot.scenarioMetaLabel,children:"Max slots"}),s.jsx("span",{className:Ot.scenarioMetaValue,children:m.maxSlots})]}),s.jsxs("div",{children:[s.jsx("span",{className:Ot.scenarioMetaLabel,children:"Reserved"}),s.jsx("span",{className:Ot.scenarioMetaValue,children:m.reservedSlots})]})]}),s.jsxs("div",{className:Ot.scenarioStats,children:[s.jsxs("div",{className:Ot.scenarioStatItem,children:[s.jsx("span",{className:Ot.scenarioStatLabel,children:"Selected"}),s.jsx("strong",{className:Ot.scenarioStatValue,children:f.selected})]}),s.jsxs("div",{className:Ot.scenarioStatItem,children:[s.jsx("span",{className:Ot.scenarioStatLabel,children:"Free"}),s.jsx("strong",{className:Ot.scenarioStatValue,children:f.free})]}),s.jsxs("div",{className:Ot.scenarioStatItem,children:[s.jsx("span",{className:Ot.scenarioStatLabel,children:"Bench"}),s.jsx("strong",{className:Ot.scenarioStatValue,children:f.bench})]}),s.jsxs("div",{className:Ot.scenarioStatItem,children:[s.jsx("span",{className:Ot.scenarioStatLabel,children:"Drop"}),s.jsx("strong",{className:Ot.scenarioStatValue,children:f.drop})]})]}),s.jsxs("div",{className:Ot.scenarioActions,children:[s.jsx("button",{type:"button",className:`${Ot.scenarioActionButton} ${y?Ot.scenarioActionActive:""}`,onClick:()=>n(m.id),children:"Set active"}),s.jsxs("div",{className:Ot.scenarioActionGroup,children:[s.jsx("button",{type:"button",className:Ot.secondaryActionButton,onClick:()=>i(m.id),children:"Duplicate"}),s.jsx("button",{type:"button",className:Ot.secondaryActionButton,onClick:()=>u(m),children:"Rename"}),s.jsx("button",{type:"button",className:`${Ot.deleteActionButton} ${b?Ot.deleteActionDisabled:""}`,onClick:()=>h(m),disabled:b,children:"Delete"})]})]})]},m.id)})})]})}const Rfe="_resultWrap_179wi_1",Pfe="_emptyState_179wi_13",Lfe="_emptyTitle_179wi_35",Dfe="_emptyText_179wi_43",Mfe="_resultHeader_179wi_55",Ffe="_resultKicker_179wi_79",Bfe="_resultTitle_179wi_95",$fe="_resultText_179wi_107",Ofe="_emptyNote_179wi_119",Vfe="_setupSummary_179wi_131",Ufe="_setupSummaryTitle_179wi_149",zfe="_setupSummaryRow_179wi_159",Hfe="_setupSummaryLabel_179wi_171",Gfe="_setupSummaryValue_179wi_185",Wfe="_setupSummaryMeta_179wi_195",qfe="_setupSummaryTags_179wi_205",Kfe="_setupSummaryTag_179wi_205",Qfe="_classDistribution_179wi_241",Xfe="_resultStats_179wi_253",Yfe="_resultStatBadge_179wi_267",Jfe="_resultStatBadgeMuted_179wi_269",Zfe="_group_179wi_307",ege="_groupHeader_179wi_327",tge="_groupTitle_179wi_341",sge="_groupHint_179wi_351",nge="_groupBadge_179wi_361",rge="_badgeSuccess_179wi_387",ige="_badgeMuted_179wi_399",age="_badgeDanger_179wi_409",oge="_groupEmpty_179wi_421",lge="_groupTable_179wi_437",cge="_groupRow_179wi_455",dge="_groupHead_179wi_327",uge="_groupCell_179wi_491",hge="_memberName_179wi_501",mge="_memberBadge_179wi_509",dt={resultWrap:Rfe,emptyState:Pfe,emptyTitle:Lfe,emptyText:Dfe,resultHeader:Mfe,resultKicker:Ffe,resultTitle:Bfe,resultText:$fe,emptyNote:Ofe,setupSummary:Vfe,setupSummaryTitle:Ufe,setupSummaryRow:zfe,setupSummaryLabel:Hfe,setupSummaryValue:Gfe,setupSummaryMeta:Wfe,setupSummaryTags:qfe,setupSummaryTag:Kfe,classDistribution:Qfe,resultStats:Xfe,resultStatBadge:Yfe,resultStatBadgeMuted:Jfe,group:Zfe,groupHeader:ege,groupTitle:tge,groupHint:sge,groupBadge:nge,badgeSuccess:rge,badgeMuted:ige,badgeDanger:age,groupEmpty:oge,groupTable:lge,groupRow:cge,groupHead:dge,groupCell:uge,memberName:hge,memberBadge:mge};function pge({members:t,scenario:e,setupState:n}){var _;if(!e)return s.jsxs("div",{className:dt.emptyState,children:[s.jsx("h3",{className:dt.emptyTitle,children:"No scenario selected"}),s.jsx("p",{className:dt.emptyText,children:"Please create or select a scenario in the Scenarios tab to see the planned result."})]});if(!t||t.length===0)return s.jsxs("div",{className:dt.emptyState,children:[s.jsx("h3",{className:dt.emptyTitle,children:"No members available"}),s.jsx("p",{className:dt.emptyText,children:"No members available for this plan yet. Configure a base guild with scan data in the Setup tab."})]});const{takeMembers:r,benchMembers:i,dropMembers:a,undecidedMembers:l}=X.useMemo(()=>{const S=[],k=[],P=[],D=[];return t.forEach(A=>{var w;const v=(w=e.decisions[A.id])!=null?w:"undecided";v==="take"?S.push(A):v==="bench"?k.push(A):v==="drop"?P.push(A):D.push(A)}),{takeMembers:S,benchMembers:k,dropMembers:P,undecidedMembers:D}},[t,e.decisions]),c=r.length,u=i.length,h=a.length,m=Math.max(0,e.maxSlots-c),f=e.maxSlots?Math.round(c/e.maxSlots*100):0,y=X.useMemo(()=>{const S=r.reduce((P,D)=>{var v,w;const A=(v=D.className)!=null?v:D.class;return A&&(P[A]=((w=P[A])!=null?w:0)+1),P},{});return Object.entries(S).map(([P,D])=>`${P}: ${D}`).join(" | ")},[r]),b=(S,k,P,D)=>s.jsxs("div",{className:dt.group,children:[s.jsxs("div",{className:dt.groupHeader,children:[s.jsxs("div",{children:[s.jsx("h4",{className:dt.groupTitle,children:S}),s.jsx("span",{className:dt.groupHint,children:k})]}),s.jsx("span",{className:`${dt.groupBadge} ${D}`,children:P.length})]}),P.length===0?s.jsx("div",{className:dt.groupEmpty,children:"No players in this group."}):s.jsxs("div",{className:dt.groupTable,role:"table",children:[s.jsxs("div",{className:`${dt.groupRow} ${dt.groupHead}`,role:"row",children:[s.jsx("div",{className:dt.groupCell,role:"columnheader",children:"Name"}),s.jsx("div",{className:dt.groupCell,role:"columnheader",children:"Level"}),s.jsx("div",{className:dt.groupCell,role:"columnheader",children:"Guild"}),s.jsx("div",{className:dt.groupCell,role:"columnheader",children:"Class"})]}),P.map(A=>{var v,w;return s.jsxs("div",{className:dt.groupRow,role:"row",children:[s.jsx("div",{className:dt.groupCell,role:"cell",children:s.jsx("span",{className:dt.memberName,children:A.name})}),s.jsx("div",{className:dt.groupCell,role:"cell",children:s.jsxs("span",{className:dt.memberBadge,children:["Lvl ",A.level]})}),s.jsx("div",{className:dt.groupCell,role:"cell",children:A.guildName}),s.jsx("div",{className:dt.groupCell,role:"cell",children:(w=(v=A.className)!=null?v:A.class)!=null?w:"-"})]},A.id)})]})]});return s.jsxs("div",{className:dt.resultWrap,children:[s.jsxs("div",{className:dt.resultHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:dt.resultKicker,children:"Final Plan"}),s.jsx("h3",{className:dt.resultTitle,children:e.name}),s.jsx("p",{className:dt.resultText,children:(_=e.description)!=null?_:"Zusammenfassung des aktuellen Plans."}),r.length===0?s.jsx("p",{className:dt.emptyNote,children:"No players selected for this scenario yet. Use the Members tab to mark players as 'take'."}):null,y?s.jsxs("p",{className:dt.classDistribution,children:["Class distribution: ",y]}):null,s.jsxs("div",{className:dt.setupSummary,children:[s.jsx("div",{className:dt.setupSummaryTitle,children:"Fusion plan between"}),n.baseGuild?s.jsxs("div",{className:dt.setupSummaryRow,children:[s.jsx("span",{className:dt.setupSummaryLabel,children:"Base"}),s.jsxs("span",{className:dt.setupSummaryValue,children:[n.baseGuild.name||"Unbenannt"," ",s.jsxs("span",{className:dt.setupSummaryMeta,children:["(",n.baseGuild.server||"Server n/a",")"]})]})]}):s.jsxs("div",{className:dt.setupSummaryRow,children:[s.jsx("span",{className:dt.setupSummaryLabel,children:"Base"}),s.jsx("span",{className:dt.setupSummaryMeta,children:"No base guild selected."})]}),s.jsxs("div",{className:dt.setupSummaryRow,children:[s.jsx("span",{className:dt.setupSummaryLabel,children:"Partners"}),n.partnerGuilds.length?s.jsx("div",{className:dt.setupSummaryTags,children:n.partnerGuilds.map(S=>s.jsxs("span",{className:dt.setupSummaryTag,children:[S.name||"Unbenannt"," ",s.jsxs("span",{className:dt.setupSummaryMeta,children:["(",S.server||"Server n/a",")"]})]},S.id))}):s.jsx("span",{className:dt.setupSummaryMeta,children:"No partner guilds added."})]})]})]}),s.jsxs("div",{className:dt.resultStats,children:[s.jsxs("span",{className:dt.resultStatBadge,children:["Members selected: ",c," / ",e.maxSlots]}),s.jsxs("span",{className:dt.resultStatBadge,children:["Bench: ",u]}),s.jsxs("span",{className:dt.resultStatBadge,children:["Drop: ",h]}),s.jsxs("span",{className:dt.resultStatBadge,children:["Free slots: ",m]}),s.jsxs("span",{className:dt.resultStatBadge,children:["Utilization: ",f,"%"]}),l.length>0?s.jsxs("span",{className:dt.resultStatBadgeMuted,children:["Undecided: ",l.length]}):null]})]}),b("Final roster (selected)","Take",r,dt.badgeSuccess),b("Bench (waiting list)","Bench",i,dt.badgeMuted),b("Not included","Drop",a,dt.badgeDanger)]})}const xf=[{id:"m1",name:"Liora",class:"Mage",role:"DPS",level:125,guildName:"Solaris",server:"EU-01"},{id:"m2",name:"Korben",class:"Warrior",role:"Tank",level:118,guildName:"Nova Alliance",server:"EU-02"},{id:"m3",name:"Sable",class:"Assassin",role:"DPS",level:122,guildName:"Eclipse",server:"EU-03"},{id:"m4",name:"Nyx",class:"Priest",role:"Support",level:119,guildName:"Helios",server:"EU-04"},{id:"m5",name:"Rowan",class:"Scout",role:"DPS",level:117,guildName:"Solaris",server:"EU-01"},{id:"m6",name:"Vex",class:"Berserker",role:"DPS",level:121,guildName:"Nova Alliance",server:"EU-02"},{id:"m7",name:"Elara",class:"Druid",role:"Healer",level:116,guildName:"Eclipse",server:"EU-03"}],eC=t=>t.reduce((e,n)=>(e[n.id]="undecided",e),{}),tC=t=>t.reduce((e,n)=>(e[n.id]="none",e),{}),fge=(t,e,n)=>{var r,i,a,l,c,u,h,m,f,y,b,_,S,k,P,D;return{id:t.id,name:(r=t.name)!=null?r:"Unknown",class:(i=t.class)!=null?i:"Unknown",className:(a=t.class)!=null?a:void 0,role:(l=t.role)!=null?l:"Unknown",level:(c=t.level)!=null?c:void 0,guildName:e,server:n,scrapbook:void 0,lastOnline:(u=t.lastActivityMs)!=null?u:null,baseStats:{main:(h=t.baseMain)!=null?h:void 0,con:(m=t.conBase)!=null?m:void 0,sumBaseTotal:(f=t.sumBaseTotal)!=null?f:void 0},totalStats:(y=t.totalStats)!=null?y:void 0,values:{treasury:(b=t.treasury)!=null?b:void 0,mine:(_=t.mine)!=null?_:void 0,attrTotal:(S=t.attrTotal)!=null?S:void 0,conTotal:(k=t.conTotal)!=null?k:void 0,lastScan:(P=t.lastScan)!=null?P:void 0,lastActivity:(D=t.lastActivity)!=null?D:void 0}}},gge=t=>{var r,i;if(!t)return null;const e=(r=t.id)==null?void 0:r.trim();if(e&&!e.startsWith("base-"))return e;const n=(i=t.name)==null?void 0:i.trim();return n||null},sC=()=>`plan-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,6)}`,nC=[{key:"setup",label:"Setup",helper:"Grundlage und Partner definieren"},{key:"members",label:"Members & Slots",helper:"Slots zaehlen, Intake planen"},{key:"overview",label:"Overview",helper:"Main/Partner/Watch verwalten"},{key:"scenarios",label:"Scenarios",helper:"Plan A/B/C vergleichen"},{key:"result",label:"Result",helper:"Finalen Merge-Plan festhalten"}],xge=[{key:"setup",step:"01 - Setup",title:"Rahmen definieren",description:"Server, Regeln und Zeitleiste festlegen, bevor Daten gesammelt werden.",badge:"Entwurf",placeholders:["Server & Regeln","Zeitleiste","Owner & Stakeholder"]},{key:"members",step:"02 - Members & Slots",title:"Teams zusammenstellen",description:"Slot-Planung und Kapazitaeten mit den beteiligten Gilden abstimmen.",badge:"Platzhalter",placeholders:["Member Intake","Slot Matrix","Risiken & Offene Punkte"]},{key:"scenarios",step:"03 - Scenarios",title:"Varianten durchspielen",description:"Szenarien vergleichen, um die beste Aufstellung fuer die Fusion zu finden.",badge:"Coming soon",placeholders:["Baseline","Optimistic","Risk-Adjusted"]},{key:"result",step:"04 - Result",title:"Ergebnis fixieren",description:"Finalen Merge-Plan, KPIs und Kommunikationsplan zusammenfassen.",badge:"Review",placeholders:["KPIs & Metrics","Timeline","Go/No-Go Check"]}];function vge(){var $;const[t,e]=X.useState("setup"),[n,r]=X.useState(xf),[i,a]=X.useState(!1),[l,c]=X.useState({mode:"scan",baseGuild:void 0,partnerGuilds:[]}),[u,h]=X.useState(()=>[{id:"plan-a",name:"Plan A",description:"Baseline Variante",maxSlots:50,reservedSlots:0,decisions:eC(xf),targetGuildAssignments:tC(xf),isDefault:!0}]),[m,f]=X.useState("plan-a"),y=X.useMemo(()=>{var U,H;return(H=(U=u.find(W=>W.id===m))!=null?U:u[0])!=null?H:null},[m,u]),b=X.useMemo(()=>{var K,q;const U=l.baseGuild,H=(K=U==null?void 0:U.name)==null?void 0:K.trim(),W=(q=U==null?void 0:U.server)==null?void 0:q.trim();return!!(H&&W)},[l.baseGuild]),_=X.useMemo(()=>n.length>0,[n.length]),S=X.useMemo(()=>u.length>0,[u.length]),k=X.useMemo(()=>{const U=[];return b||U.push("Setup incomplete - no base guild selected."),b&&!_&&U.push("No members loaded yet. Check scans or setup."),S||U.push("No scenarios defined yet. Create at least one plan in the Scenarios tab."),U},[b,_,S]),P=(U,H)=>{h(W=>W.map(K=>K.id===m?{...K,decisions:{...K.decisions,[U]:H}}:K))},D=(U,H)=>{h(W=>W.map(K=>{var q;return K.id===m?{...K,targetGuildAssignments:{...(q=K.targetGuildAssignments)!=null?q:{},[U]:H}}:K}))},A=U=>{const H=Number(U)||0;h(W=>W.map(K=>K.id===m?{...K,maxSlots:Math.max(0,H)}:K))},v=()=>{h(U=>{const H={id:sC(),name:`Plan ${U.length+1}`,description:"Neue Variante",maxSlots:50,reservedSlots:0,decisions:eC(n),targetGuildAssignments:tC(n)};return f(H.id),[...U,H]})},w=U=>{h(H=>{var q;const W=H.find(se=>se.id===U);if(!W)return H;const K={...W,id:sC(),name:`${W.name} Copy`,isDefault:!1,createdAt:Date.now(),decisions:{...W.decisions},targetGuildAssignments:{...(q=W.targetGuildAssignments)!=null?q:{}}};return f(K.id),[...H,K]})},L=(U,H)=>{const W=H.trim();W&&h(K=>K.map(q=>q.id===U?{...q,name:W}:q))},C=U=>{h(H=>{if(H.length<=1)return H;const W=H.filter(K=>K.id!==U);return W.length?(m===U&&f(W[0].id),W):H})};X.useEffect(()=>{if(l.mode!=="scan"){a(!1),r(xf);return}const U=[l.baseGuild,...l.partnerGuilds].filter(Boolean);if(U.length===0){a(!1),r([]);return}let H=!1;async function W(){var K,q,se,ne,z,Y,le,ae,he,ye;a(!0);try{const Ie=[];for(const Z of U){const fe=gge(Z);if(!fe)continue;const oe=Xt(ft,`guilds/${fe}/latest/latest`),_e=await rn(oe),ve=_e.exists()?_e.data():null,Ee=(z=(ne=(q=(K=Z.name)==null?void 0:K.trim())!=null?q:ve==null?void 0:ve.name)!=null?ne:(se=ve==null?void 0:ve.values)==null?void 0:se.Name)!=null?z:fe,Ve=(ye=(he=(le=(Y=Z.server)==null?void 0:Y.trim())!=null?le:ve==null?void 0:ve.server)!=null?he:(ae=ve==null?void 0:ve.values)==null?void 0:ae.Server)!=null?ye:null,ze=Xt(ft,`guilds/${fe}/snapshots/members_summary`),st=await rn(ze);if(!st.exists())continue;const at=st.data();(Array.isArray(at.members)?at.members:[]).forEach(Ut=>{Ie.push(fge(Ut,Ee,Ve))})}H||r(Ie)}catch(Ie){console.error("[FusionPlanner] Failed to load members",Ie),H||r([])}finally{H||a(!1)}}return r([]),W(),()=>{H=!0}},[l.baseGuild,l.partnerGuilds,l.mode]),X.useEffect(()=>{i||h(U=>U.map(H=>{var se;const W=new Set(n.map(ne=>ne.id)),K={...H.decisions},q={...(se=H.targetGuildAssignments)!=null?se:{}};return n.forEach(ne=>{K[ne.id]||(K[ne.id]="undecided"),q[ne.id]||(q[ne.id]="none")}),Object.keys(K).forEach(ne=>{W.has(ne)||delete K[ne]}),Object.keys(q).forEach(ne=>{W.has(ne)||delete q[ne]}),{...H,decisions:K,targetGuildAssignments:q}}))},[n,i]);const N=U=>{c(H=>({...H,mode:U}))},E=U=>{c(H=>{var K,q,se;const W=(K=H.baseGuild)!=null?K:{id:"base-1",kind:"base",name:"",server:""};return{...H,baseGuild:{...W,...U.id?{id:U.id}:{},name:(q=U.name)!=null?q:W.name,server:(se=U.server)!=null?se:W.server}}})},F=U=>{var q;if(!U.name.trim()||!U.server.trim())return;const H=U.name.trim(),W=U.server.trim(),K=(q=U.id)==null?void 0:q.trim();c(se=>({...se,partnerGuilds:[...se.partnerGuilds,{id:K&&!K.startsWith("partner-")?K:`partner-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,5)}`,name:H,server:W,kind:"partner"}]}))},I=U=>{c(H=>({...H,partnerGuilds:H.partnerGuilds.filter(W=>W.id!==U)}))},B=()=>{switch(t){case"setup":return s.jsx(bme,{setupState:l,onChangeMode:N,onChangeBaseGuild:E,onAddPartnerGuild:F,onRemovePartnerGuild:I});case"members":return s.jsx(gpe,{members:n,scenario:y,onChangeScenarioDecision:P,onChangeScenarioTargetGuild:D,onChangeScenarioMaxSlots:A,setupState:l});case"overview":return s.jsx(tfe,{members:n,scenario:y,setupState:l,onChangeScenarioDecision:P,onChangeScenarioTargetGuild:D,onAddPartnerGuild:U=>F({name:U,server:"tbd"})});case"scenarios":return s.jsx(Ife,{scenarios:u,activeScenarioId:m,onSetActiveScenario:f,onCreateScenario:v,onDuplicateScenario:w,onRenameScenario:L,onDeleteScenario:C});case"result":return s.jsx(pge,{members:n,scenario:y,setupState:l});default:return null}};return s.jsx(Vt,{title:"Guild Hub",subtitle:"Fusion Planner",centerFramed:!1,children:s.jsxs("div",{className:ut.page,children:[s.jsxs("header",{className:ut.header,children:[s.jsxs("div",{className:ut.headerLeading,children:[s.jsx(xs,{to:"/guild-hub",className:ut.backLink,children:"Back to Guild Hub"}),s.jsxs("div",{className:ut.headerStack,children:[s.jsx("p",{className:ut.kicker,children:"Guild Hub"}),s.jsx("h1",{className:ut.title,children:"Fusion Planner"}),s.jsx("p",{className:ut.subtitle,children:"Plan guild merges with slots, scenarios and results."})]})]}),s.jsxs("div",{className:ut.headerActions,children:[s.jsx("button",{type:"button",className:ut.primaryAction,children:"Neues Setup"}),s.jsx("button",{type:"button",className:ut.secondaryAction,children:"Checkliste"})]})]}),k.length?s.jsx("div",{className:ut.plannerNotice,role:"status","aria-live":"polite",children:k.map(U=>s.jsxs("div",{className:`${ut.noticeItem} ${U.toLowerCase().includes("no base guild")?ut.noticeWarning:""}`,children:[s.jsx("span",{className:ut.noticeDot,"aria-hidden":!0}),s.jsx("span",{children:U})]},U))}):null,s.jsxs("section",{className:ut.tabSection,"aria-label":"Fusion Planner Tabs",children:[s.jsx("div",{className:ut.tabBar,children:nC.map(U=>{const H=U.key===t;return s.jsxs("button",{type:"button",className:`${ut.tabItem} ${H?ut.tabItemActive:""}`,onClick:()=>e(U.key),"aria-pressed":H,children:[s.jsx("span",{className:ut.tabLabel,children:U.label}),s.jsx("span",{className:ut.tabHelper,children:U.helper})]},U.key)})}),s.jsxs("div",{className:ut.tabPanel,children:[s.jsx("span",{className:ut.tabBadge,children:($=nC.find(U=>U.key===t))==null?void 0:$.label}),B()]})]}),s.jsxs("section",{className:ut.infoStrip,children:[s.jsxs("div",{className:ut.infoBlock,children:[s.jsx("span",{className:ut.infoLabel,children:"Status"}),s.jsx("strong",{children:"Entwurf"}),s.jsx("p",{className:ut.infoHint,children:"Bereit fuer weitere Eingaben."})]}),s.jsxs("div",{className:ut.infoBlock,children:[s.jsx("span",{className:ut.infoLabel,children:"Slots geplant"}),s.jsx("strong",{children:"0 / 40"}),s.jsx("p",{className:ut.infoHint,children:"Platzhalter fuer spaeteres Slot-Mapping."})]}),s.jsxs("div",{className:ut.infoBlock,children:[s.jsx("span",{className:ut.infoLabel,children:"Szenarien"}),s.jsx("strong",{children:"3"}),s.jsx("p",{className:ut.infoHint,children:"Baseline, Optimistic, Risiko."})]}),s.jsxs("div",{className:ut.infoBlock,children:[s.jsx("span",{className:ut.infoLabel,children:"Letztes Update"}),s.jsx("strong",{children:"vor wenigen Minuten"}),s.jsx("p",{className:ut.infoHint,children:"Dummy-Text wird spaeter dynamisch ersetzt."})]})]}),s.jsx("section",{className:ut.stageGrid,children:xge.map(U=>s.jsxs("article",{className:ut.panel,children:[s.jsxs("div",{className:ut.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ut.panelKicker,children:U.step}),s.jsx("h2",{className:ut.panelTitle,children:U.title}),s.jsx("p",{className:ut.panelLead,children:U.description})]}),U.badge?s.jsx("span",{className:ut.badge,children:U.badge}):null]}),s.jsx("div",{className:ut.panelBody,children:s.jsx("div",{className:ut.placeholderGrid,children:U.placeholders.map(H=>s.jsxs("div",{className:ut.placeholderCard,children:[s.jsx("div",{className:ut.placeholderTitle,children:H}),s.jsx("p",{className:ut.placeholderText,children:"Strukturierte Flaeche fuer spaetere Eingaben."})]},H))})})]},U.key))}),s.jsx("section",{className:ut.helperSection,children:s.jsxs("div",{className:ut.helperCard,children:[s.jsxs("div",{children:[s.jsx("p",{className:ut.helperKicker,children:"Result"}),s.jsx("h3",{className:ut.helperTitle,children:"Finaler Merge-Plan"}),s.jsx("p",{className:ut.helperText,children:"Zusammenfassung fuer Freigaben, inklusive KPIs, Risiken und Kommunikationsplan."})]}),s.jsxs("div",{className:ut.helperActions,children:[s.jsx("button",{type:"button",className:ut.secondaryAction,children:"Teilen"}),s.jsx("button",{type:"button",className:ut.primaryAction,children:"Review starten"})]})]})})]})})}const j1=["EU-01","EU-02","US-01","US-02","ASIA-01"],Ah=new Intl.NumberFormat("de-DE");function yge(){const t=Xd("(min-width: 768px)"),[e,n]=X.useState("all"),[r,i]=X.useState(null),[a,l]=X.useState(null),[c,u]=X.useState(null),[h,m]=X.useState(null),f=[r,a].filter(Boolean).length,y=X.useMemo(()=>{const I=[c,h].filter(Boolean);if(!I.length)return 0;const B=I.reduce(($,U)=>{var H;return $+((H=U.members)!=null?H:0)},0);return Math.round(B/I.length)},[c,h]),[b,_]=X.useState(null),[S,k]=X.useState(!1),P=X.useRef(null);Yd(P,S&&!t),X.useEffect(()=>{t&&k(!1)},[t]),X.useEffect(()=>{if(!b)return;const I=$=>{const U=$.target;U&&(U.closest(`.${ce.freshnessBadge}`)||U.closest(`.${ce.freshnessPopover}`)||_(null))},B=$=>{$.key==="Escape"&&_(null)};return document.addEventListener("pointerdown",I),document.addEventListener("keydown",B),()=>{document.removeEventListener("pointerdown",I),document.removeEventListener("keydown",B)}},[b]);const D=X.useMemo(()=>c?Yh(c.nextUpdateAt,Date.now()):"",[c]),A=X.useMemo(()=>h?Yh(h.nextUpdateAt,Date.now()):"",[h]),v=()=>k(!0),w=()=>k(!1),L=I=>{n(I)},C=(I,B)=>{I==="guildA"?(i(B.id),u(B)):(l(B.id),m(B))},N=I=>{I==="guildA"?(i(null),u(null)):(l(null),m(null))},E=I=>{_(B=>B===I?null:I)},F=c&&h;return s.jsxs(Vt,{title:"Guild Hub",subtitle:"Gildenvergleich",centerFramed:!1,children:[s.jsxs("div",{className:ce.page,children:[s.jsxs("header",{className:ce.header,children:[s.jsxs("div",{className:ce.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:ce.kicker,children:"Guild Hub"}),s.jsx("h1",{className:ce.title,children:"Gilden vergleichen"}),s.jsx("p",{className:ce.subtitle,children:"Waehle zwei Gilden, gleiche Kennzahlen ab und sichere Risiken ab, bevor du dich fuer oder gegen einen Zusammenschluss entscheidest."})]}),s.jsx("div",{className:ce.headerActions,children:!t&&s.jsx("button",{type:"button",className:ce.secondaryAction,onClick:v,children:"Filter"})})]}),s.jsxs("div",{className:ce.infoStrip,children:[s.jsxs("div",{className:ce.infoCard,children:[s.jsx("span",{className:ce.infoLabel,children:"Pool"}),s.jsxs("strong",{children:[Ah.format(f)," Gilden"]})]}),s.jsxs("div",{className:ce.infoCard,children:[s.jsx("span",{className:ce.infoLabel,children:"Durchschnitt Mitglieder"}),s.jsx("strong",{children:Ah.format(y)})]}),s.jsxs("div",{className:ce.infoCard,children:[s.jsx("span",{className:ce.infoLabel,children:"Serverfilter"}),s.jsx("strong",{children:e==="all"?"Alle":e})]})]}),t&&s.jsx("div",{className:ce.inlineFilters,children:s.jsxs("label",{className:ce.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ce.select,value:e,onChange:I=>L(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),j1.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]}),s.jsxs("div",{className:ce.layout,children:[s.jsxs("section",{className:ce.selectionColumn,children:[s.jsx(rC,{title:"Gilde A",slot:"guildA",selectedGuild:c,excludeId:a,onSelect:C,onClear:N,serverFilter:e,onServerChange:L}),s.jsx(rC,{title:"Gilde B",slot:"guildB",selectedGuild:h,excludeId:r,onSelect:C,onClear:N,serverFilter:e,onServerChange:L})]}),s.jsxs("section",{className:ce.comparisonColumn,children:[s.jsxs("div",{className:ce.comparisonCard,children:[s.jsxs("div",{className:ce.comparisonHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ce.kicker,children:"Vergleich"}),s.jsx("h2",{className:ce.sectionTitle,children:"Kennzahlen"})]}),F&&s.jsxs("span",{className:ce.diffBadge,children:["Delta Mitglieder:"," ",Ah.format(c.members-h.members)]})]}),F?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ce.metricGrid,children:[s.jsx(iC,{label:"Mitglieder",aValue:c.members,bValue:h.members}),s.jsx(iC,{label:"Durchschnittslevel",aValue:c.avgLevel,bValue:h.avgLevel,isDecimal:!0}),s.jsx(bge,{guildA:c,guildB:h,countdownA:D,countdownB:A,activePopover:b,onToggle:E})]}),s.jsx(_ge,{guildA:c,guildB:h})]}):s.jsx("div",{className:ce.emptyState,children:s.jsx("p",{children:"Waehle zwei Gilden aus, um den direkten Vergleich zu starten."})})]}),s.jsxs("div",{className:ce.supportPanels,children:[s.jsx(wge,{}),s.jsx(jge,{})]})]})]})]}),!t&&s.jsx("div",{className:`${ce.sheetOverlay} ${S?ce.sheetOpen:""}`,children:s.jsxs("div",{className:ce.sheet,role:"dialog","aria-modal":"true",ref:P,children:[s.jsxs("header",{className:ce.sheetHeader,children:[s.jsx("h3",{children:"Filter"}),s.jsx("button",{type:"button",className:ce.clearButton,onClick:w,children:"Schliessen"})]}),s.jsx("div",{className:ce.sheetBody,children:s.jsxs("label",{className:ce.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ce.select,value:e,onChange:I=>L(I.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),j1.map(I=>s.jsx("option",{value:I,children:I},I))]})]})})]})})]})}function rC({title:t,slot:e,selectedGuild:n,excludeId:r,onSelect:i,onClear:a,serverFilter:l,onServerChange:c}){const[u,h]=X.useState(""),m=Qd(u,300);X.useEffect(()=>{h("")},[n,l]);const{results:f,loading:y}=Sge(m,l,r);return s.jsxs("article",{className:ce.selectionCard,children:[s.jsxs("div",{className:ce.slotHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:ce.slotLabel,children:t}),s.jsx("p",{className:ce.slotStatus,children:n?"Ausgewaehlt":"Noch keine Auswahl"})]}),n&&s.jsx("button",{type:"button",className:ce.clearButton,onClick:()=>a(e),children:"Reset"})]}),s.jsxs("div",{className:ce.slotBody,children:[s.jsxs("label",{className:ce.filterField,children:[s.jsx("span",{children:"Server"}),s.jsxs("select",{className:ce.select,value:l,onChange:b=>c(b.target.value),children:[s.jsx("option",{value:"all",children:"Alle Server"}),j1.map(b=>s.jsx("option",{value:b,children:b},b))]})]}),s.jsxs("label",{className:ce.filterField,children:[s.jsx("span",{children:"Suchen"}),s.jsx("input",{className:ce.searchInput,placeholder:"Gildennamen eingeben",value:u,onChange:b=>h(b.target.value)})]}),s.jsxs("div",{className:ce.resultList,role:"list",children:[y&&s.jsx("div",{className:ce.emptyResult,children:"Lade..."}),!y&&f.length===0&&s.jsx("div",{className:ce.emptyResult,children:"Keine Gilde gefunden."}),!y&&f.map(b=>s.jsxs("div",{className:ce.resultItem,children:[s.jsxs("div",{children:[s.jsx("p",{className:ce.resultName,children:b.name}),s.jsxs("p",{className:ce.resultMeta,children:[b.server," - ",b.members," Mitglieder"]})]}),s.jsx("button",{type:"button",className:ce.selectButton,onClick:()=>i(e,b),children:"Waehlen"})]},b.id))]}),n&&s.jsxs("div",{className:ce.selectedCard,children:[s.jsx("p",{className:ce.selectedName,children:n.name}),s.jsxs("p",{className:ce.selectedMeta,children:[n.server," - ",n.members," Mitglieder - Durchschnittslevel"," ",n.avgLevel.toFixed(1)]}),s.jsx("p",{className:ce.selectedTagline,children:n.tagline})]})]})]})}function iC({label:t,aValue:e,bValue:n,isDecimal:r=!1}){const i=c=>r?c.toFixed(1).replace(".",","):Ah.format(c),a=e-n;let l="gleich";if(a!==0){const c=r?Math.abs(a).toFixed(1).replace(".",","):Ah.format(Math.abs(a));l=a>0?`+${c}`:`-${c}`}return s.jsxs("div",{className:ce.metricCard,children:[s.jsx("p",{className:ce.metricLabel,children:t}),s.jsxs("div",{className:ce.metricValues,children:[s.jsx("span",{"aria-label":"Gilde A",children:i(e)}),s.jsx("span",{className:ce.metricDivider,children:"vs"}),s.jsx("span",{"aria-label":"Gilde B",children:i(n)})]}),s.jsx("p",{className:ce.metricDelta,children:l})]})}function bge({guildA:t,guildB:e,countdownA:n,countdownB:r,activePopover:i,onToggle:a}){return s.jsxs("div",{className:ce.metricCard,children:[s.jsx("p",{className:ce.metricLabel,children:"Freshness"}),s.jsx("div",{className:ce.freshnessRow,children:[t,e].map(l=>{const c=l.id===t.id?n:r,u=`fresh-${l.id}`,h=i===u;return s.jsxs("div",{className:ce.freshnessItem,children:[s.jsxs("button",{type:"button",className:ce.freshnessBadge,"aria-haspopup":"dialog","aria-expanded":h,onClick:()=>a(u),children:[s.jsx("span",{children:l.freshness.toUpperCase()}),s.jsx("small",{children:Nm(l.lastScanAt)})]}),h&&s.jsxs("div",{className:ce.freshnessPopover,role:"dialog",children:[s.jsx("p",{className:ce.popoverTitle,children:l.name}),s.jsxs("dl",{children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:P_[l.freshness]})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Zuletzt gescannt"}),s.jsx("dd",{children:_a(l.lastScanAt)})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Naechstes Update"}),s.jsxs("dd",{children:[_a(l.nextUpdateAt)," (",c,")"]})]})]})]})]},l.id)})})]})}function _ge({guildA:t,guildB:e}){const n=X.useMemo(()=>Array.from(new Set([...t.classes,...e.classes].map(r=>r.label))),[t.classes,e.classes]);return s.jsxs("div",{className:ce.classCard,children:[s.jsx("p",{className:ce.metricLabel,children:"Klassenverteilung"}),s.jsx("div",{className:ce.classGrid,children:[t,e].map(r=>s.jsxs("div",{className:ce.classColumn,children:[s.jsx("h3",{children:r.name}),s.jsx("div",{className:ce.classBar,"aria-label":`Klassenverteilung ${r.name}`,children:r.classes.map(i=>s.jsxs("span",{style:{width:`${i.percent}%`},className:ce.classSlice,children:[s.jsx("small",{children:i.label}),s.jsxs("strong",{children:[i.percent,"%"]})]},i.label))})]},r.id))}),s.jsx("ul",{className:ce.classLegend,children:n.map(r=>s.jsx("li",{children:r},r))})]})}function wge(){const t=["Audit der Rollenabdeckung (Tank/Heal/Support)","Loot-Regeln angleichen und dokumentieren","Raid-Kalender synchronisieren","Kommunikationskanaele zusammenfuehren","Server-Transfers und Namenskonflikte pruefen"];return s.jsxs("section",{className:ce.checklistCard,children:[s.jsx("h3",{children:"Vor dem Vergleich pruefen"}),s.jsx("ul",{className:ce.checklist,children:t.map(e=>s.jsx("li",{children:e},e))})]})}function jge(){return s.jsxs("section",{className:ce.infoCardExtended,children:[s.jsx("h3",{children:"Transfers-Diff"}),s.jsxs("p",{children:["Hier erscheint spaeter die Auswertung aus ",s.jsx("code",{children:"lib/guilds/transfers/"}),". Aktuell nur eine Info-Box, damit der Slot sichtbar bleibt."]}),s.jsx("p",{className:ce.infoNote,children:"Bereite schon jetzt deine Kriterien vor, damit die spaetere Automatik direkt Daten aufnehmen kann."}),s.jsx("button",{type:"button",className:ce.secondaryAction,disabled:!0,children:"Modul folgt"})]})}function Sge(t,e,n){const[r,i]=X.useState([]),[a,l]=X.useState(!1);return X.useEffect(()=>{const c=t.trim();if(c.length===0){i([]),l(!1);return}let u=!1;async function h(){l(!0);try{const m=c.toLowerCase(),f=fm(ft,"latest"),y=await gn(nn(f,Br("nameFold"),Vi(m),Ui(m+""),mn(15))),b=await gn(nn(f,cl("nameNgrams","array-contains",m),mn(15))),_=new Set,S=[],k=P=>{var B,$,U,H,W,K,q,se,ne,z,Y,le,ae,he,ye,Ie,Z,fe,oe,_e,ve;const D=P.data(),v=(B=P.ref.parent)==null?void 0:B.parent,w=v==null?void 0:v.parent;if((w==null?void 0:w.id)!=="guilds")return;const C=(U=($=v==null?void 0:v.id)!=null?$:D.guildIdentifier)!=null?U:P.id;if(!C||_.has(C)||n&&C===n)return;const N=(K=(W=D.name)!=null?W:(H=D.values)==null?void 0:H.Name)!=null?K:"Unbekannte Gilde",E=(ne=(se=D.server)!=null?se:(q=D.values)==null?void 0:q.Server)!=null?ne:"Unknown";if(e!=="all"&&E!==e)return;const F=(he=(ae=(Y=D.memberCount)!=null?Y:(z=D.values)==null?void 0:z["Guild Member Count"])!=null?ae:(le=D.values)==null?void 0:le.GuildMemberCount)!=null?he:0,I=(Z=(Ie=D.updatedAt)!=null?Ie:(ye=D.values)==null?void 0:ye.UpdatedAt)!=null?Z:D.timestamp?new Date(D.timestamp*1e3).toISOString():new Date().toISOString();_.add(C),S.push({id:C,name:N,tagline:(fe=D.tagline)!=null?fe:"",server:E,members:F,avgLevel:(ve=(_e=D.avgLevel)!=null?_e:(oe=D.values)==null?void 0:oe.AvgLevel)!=null?ve:0,lastScanAt:I,updatedAt:I,nextUpdateAt:I,freshness:"unknown",classes:[]})};y.forEach(k),b.forEach(k),u||(S.sort((P,D)=>P.name.localeCompare(D.name)),i(S))}catch(m){console.error("[GuildHub CompareGuilds] guild search failed",m),u||i([])}finally{u||l(!1)}}return h(),()=>{u=!0}},[t,e,n]),{results:r,loading:a}}const Nge="_page_o27vc_1",kge="_header_o27vc_13",Cge="_headerStack_o27vc_25",Tge="_kicker_o27vc_37",Age="_title_o27vc_53",Ege="_headerActions_o27vc_65",Ige="_primaryAction_o27vc_77",Rge="_secondaryAction_o27vc_79",Pge="_infoStrip_o27vc_109",Lge="_infoPill_o27vc_129",Dge="_freshnessWrapper_o27vc_163",Mge="_freshnessBadge_o27vc_171",Fge="_popover_o27vc_191",Bge="_popoverLabel_o27vc_221",$ge="_filterToolbar_o27vc_231",Oge="_filterSheetButton_o27vc_241",Vge="_inlineFilters_o27vc_259",Uge="_searchInput_o27vc_271",zge="_select_o27vc_273",Hge="_chipGroup_o27vc_295",Gge="_chip_o27vc_295",Wge="_chipActive_o27vc_325",qge="_levelRow_o27vc_335",Kge="_sortControls_o27vc_363",Qge="_sortLabel_o27vc_375",Xge="_directionButton_o27vc_385",Yge="_listBody_o27vc_403",Jge="_tableWrapper_o27vc_415",Zge="_table_o27vc_415",exe="_cardFooter_o27vc_459",txe="_panel_o27vc_461",sxe="_formPanel_o27vc_463",nxe="_statusSelect_o27vc_481",rxe="_stickyColumn_o27vc_515",ixe="_rowButton_o27vc_529",axe="_scanBadge_o27vc_545",oxe="_cardList_o27vc_561",lxe="_card_o27vc_459",cxe="_cardHeader_o27vc_593",dxe="_cardTitle_o27vc_605",uxe="_cardMeta_o27vc_623",hxe="_cardNotes_o27vc_635",mxe="_emptyState_o27vc_659",pxe="_sheetBackdrop_o27vc_675",fxe="_sheet_o27vc_675",gxe="_sheetHandle_o27vc_717",xxe="_sheetBody_o27vc_733",vxe="_sheetLabel_o27vc_749",yxe="_sheetActions_o27vc_785",bxe="_overlay_o27vc_797",_xe="_drawer_o27vc_837",wxe="_modal_o27vc_845",jxe="_panelHeader_o27vc_853",Sxe="_section_o27vc_867",Nxe="_tagRow_o27vc_899",kxe="_historyList_o27vc_913",Cxe="_panelFooter_o27vc_943",Txe="_formOverlay_o27vc_955",Axe="_formGrid_o27vc_1003",Exe="_warning_o27vc_1015",Ixe="_pagination_o27vc_1033",Te={page:Nge,header:kge,headerStack:Cge,kicker:Tge,title:Age,headerActions:Ege,primaryAction:Ige,secondaryAction:Rge,infoStrip:Pge,infoPill:Lge,freshnessWrapper:Dge,freshnessBadge:Mge,popover:Fge,popoverLabel:Bge,filterToolbar:$ge,filterSheetButton:Oge,inlineFilters:Vge,searchInput:Uge,select:zge,chipGroup:Hge,chip:Gge,chipActive:Wge,levelRow:qge,sortControls:Kge,sortLabel:Qge,directionButton:Xge,listBody:Yge,tableWrapper:Jge,table:Zge,cardFooter:exe,panel:txe,formPanel:sxe,statusSelect:nxe,stickyColumn:rxe,rowButton:ixe,scanBadge:axe,cardList:oxe,card:lxe,cardHeader:cxe,cardTitle:dxe,cardMeta:uxe,cardNotes:hxe,emptyState:mxe,sheetBackdrop:pxe,sheet:fxe,sheetHandle:gxe,sheetBody:xxe,sheetLabel:vxe,sheetActions:yxe,overlay:bxe,drawer:_xe,modal:wxe,panelHeader:jxe,section:Sxe,tagRow:Nxe,historyList:kxe,panelFooter:Cxe,formOverlay:Txe,formGrid:Axe,warning:Exe,pagination:Ixe},Cg=["Warrior","Mage","Scout","Assassin","Battle Mage","Druid","Bard"],Tg=["EU-01","EU-02","US-01","US-02","ASIA-01"],L_={f0:"F0 - <1h",f1:"F1 - 1-4h",f2:"F2 - 4-12h",f3:"F3 - 12-24h",f4:"F4 - 1-2d",f5:"F5 - 2-4d",f6:"F6 - 4-7d",f7:"F7 - >7d",unknown:"Unbekannt"},aC={f0:0,f1:1,f2:2,f3:3,f4:4,f5:5,f6:6,f7:7,unknown:8},c0={q:"",status:"all",classes:[],servers:[],lvMin:1,lvMax:200,sort:"updatedAt",dir:"desc",page:1,pageSize:6},Rxe=[{id:"wl-001",name:"Lyra Ashwood",classRole:"Mage",level:192,server:"EU-01",status:"in_review",notes:"Hohe Aktivitaet, bringt Raid-Heal mit. Hat Interesse an Support-Rollen. Discord verifiziert.",contact:"Discord: lyra#0291",source:"Community Waitlist",tags:["raid","support"],lastScanAt:Go(2),updatedAt:Go(3),freshness:"f1",history:[{date:Jr(1),message:"Interview abgeschlossen"},{date:Jr(3),message:"Profil angelegt"}]},{id:"wl-002",name:"Torren Vale",classRole:"Warrior",level:185,server:"EU-02",status:"new",notes:"Tank fuer Abend-Raids, bisher ohne Gilde. Gute Logs, keine Streaming-Praesenz.",contact:"Email: torren@example.com",source:"Offline Bewerbungsformular",tags:["tank"],lastScanAt:Go(10),updatedAt:Go(11),freshness:"f3",history:[{date:Jr(2),message:"Wartet auf Erstgespraech"}]},{id:"wl-003",name:"Seris Bloom",classRole:"Druid",level:178,server:"US-01",status:"accepted",notes:"Healer + Flex-Scout. Bereits auf dem Discord. Benoetigt Transferhilfe.",contact:"Discord: seris#0177",source:"Guild Referral",tags:["healer","flex"],lastScanAt:Go(20),updatedAt:Go(5),freshness:"f4",history:[{date:Jr(4),message:"Probe erfolgreich"},{date:Jr(6),message:"Bewerbung angenommen"}]},{id:"wl-004",name:"Draxen Holt",classRole:"Scout",level:165,server:"US-02",status:"declined",notes:"PvP Spieler, konnte Raid-Pflichten nicht sicherstellen. Freundlich verabschiedet.",contact:"Discord: draxen#0901",source:"Seasonal Event",tags:["pvp"],lastScanAt:Jr(2),updatedAt:Jr(2),freshness:"f5",history:[{date:Jr(2),message:"Absage gesendet"}]},{id:"wl-005",name:"Mira Lios",classRole:"Battle Mage",level:188,server:"EU-01",status:"withdrawn",notes:"Hat ein anderes Angebot angenommen. Moegliche Rueckkehr offen lassen.",contact:"Email: mira@example.com",source:"Discord DM",tags:["backup"],lastScanAt:Jr(3),updatedAt:Jr(1),freshness:"f6",history:[{date:Jr(1),message:"Bewerbung zurueckgezogen"},{date:Jr(5),message:"Interview geplant"}]},{id:"wl-006",name:"Kael Thorn",classRole:"Assassin",level:190,server:"ASIA-01",status:"new",notes:"Fokus auf Mythic Dungeons. Gute Logs, benoetigt Uebergangshilfe.",contact:"Discord: kael#4488",source:"Community Waitlist",tags:["mythic"],lastScanAt:Go(5),updatedAt:Go(5),freshness:"f2",history:[{date:Jr(1),message:"Profil verifiziert"}]}];function oC(t){return{...t,lvMin:Math.max(1,t.lvMin),lvMax:Math.max(t.lvMin,Math.min(200,t.lvMax)),page:Math.max(1,t.page),pageSize:Math.min(25,Math.max(4,t.pageSize)),classes:Array.from(new Set(t.classes)),servers:Array.from(new Set(t.servers))}}function Pxe(t,e,n){const r=n.toLowerCase();return t.filter(i=>{const a=r===""||i.name.toLowerCase().includes(r)||i.notes.toLowerCase().includes(r)||i.server.toLowerCase().includes(r),l=e.status==="all"||i.status===e.status,c=e.classes.length===0||e.classes.includes(i.classRole),u=e.servers.length===0||e.servers.includes(i.server),h=i.level>=e.lvMin&&i.level<=e.lvMax;return a&&l&&c&&u&&h})}function Lxe(t,e,n){const r=[...t];return r.sort((i,a)=>{let l=0;switch(e){case"name":l=i.name.localeCompare(a.name);break;case"level":l=i.level-a.level;break;case"status":l=i.status.localeCompare(a.status);break;case"lastScan":l=new Date(i.lastScanAt).getTime()-new Date(a.lastScanAt).getTime();break;case"updatedAt":default:l=new Date(i.updatedAt).getTime()-new Date(a.updatedAt).getTime();break}return n==="asc"?l:-l}),r}function Dxe(t,e,n){const r=(e-1)*n;return t.slice(r,r+n)}function zf(t){return new Date(t).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}function Mxe(t){const e=Date.now()-new Date(t).getTime(),n=Math.round(e/6e4);if(n<60)return`${n} min`;const r=Math.round(n/60);return r<48?`${r} h`:`${Math.round(r/24)} d`}function Fxe(t){return t.length?t.reduce((e,n)=>e?aC[n.freshness]>aC[e.freshness]?n:e:n,null):null}function Jr(t){const e=new Date;return e.setDate(e.getDate()-t),e.toISOString()}function Go(t){const e=new Date;return e.setHours(e.getHours()-t),e.toISOString()}function Bxe(){var H;const[t,e]=X.useState(Rxe),[n,r]=X.useState(c0),[i,a]=X.useState(c0),l=Qd(n.q,300),c=X.useMemo(()=>{const W=Pxe(t,n,l);return Lxe(W,n.sort,n.dir)},[t,n,l]),u=X.useMemo(()=>Dxe(c,n.page,n.pageSize),[c,n.page,n.pageSize]),h=Math.max(1,Math.ceil(c.length/n.pageSize)),m=Xd("(min-width: 768px)"),f=Xd("(min-width: 1024px)"),[y,b]=X.useState(!1),[_,S]=X.useState(null),k=(H=t.find(W=>W.id===_))!=null?H:null,P=X.useRef(null);Yd(P,!!k&&!f);const[D,A]=X.useState(null),[v,w]=X.useState(!1),L=X.useRef(null);Yd(L,v);const C=X.useMemo(()=>Fxe(t),[t]),N=C&&C.lastScanAt?Mxe(C.lastScanAt):"unbekannt",E=W=>{const K=oC(W);r(K),a(K)},F=(W,K)=>{const q=oC({...n,[W]:K,page:W==="page"?K:1});E(q)},I=()=>{E(i),b(!1)},B=()=>{E(c0),b(!1)},$=(W,K)=>{e(q=>q.map(se=>se.id===W?{...se,status:K,updatedAt:new Date().toISOString()}:se))},U=W=>{e(K=>K.some(se=>se.id===W.id)?K.map(se=>se.id===W.id?W:se):[W,...K]),w(!1)};return s.jsxs(Vt,{title:"Guild Hub",subtitle:"Waitlist",centerFramed:!1,children:[s.jsxs("div",{className:Te.page,children:[s.jsxs("header",{className:Te.header,children:[s.jsxs("div",{className:Te.headerStack,children:[s.jsxs("div",{children:[s.jsx("p",{className:Te.kicker,children:"Recruiting"}),s.jsx("h1",{className:Te.title,children:"Waitlist"})]}),s.jsxs("div",{className:Te.headerActions,children:[s.jsx("button",{type:"button",className:Te.primaryAction,onClick:()=>{A(null),w(!0)},children:"Neuer Eintrag"}),!m&&s.jsx("button",{type:"button",className:Te.secondaryAction,"aria-label":"Filter oeffnen",onClick:()=>b(!0),children:"Filter"})]})]}),s.jsxs("div",{className:Te.infoStrip,children:[s.jsx(d0,{label:"Neu",value:c.filter(W=>W.status==="new").length}),s.jsx(d0,{label:"In Review",value:c.filter(W=>W.status==="in_review").length}),s.jsx(d0,{label:"Zugesagt",value:c.filter(W=>W.status==="accepted").length}),C&&s.jsx($xe,{label:L_[C.freshness],updatedAt:C.lastScanAt,countdown:N})]})]}),s.jsx("section",{className:Te.filterToolbar,children:m?s.jsx(Oxe,{filters:n,onChange:F,onToggleClass:W=>{const K=n.classes.includes(W)?n.classes.filter(q=>q!==W):[...n.classes,W];F("classes",K)},onToggleServer:W=>{const K=n.servers.includes(W)?n.servers.filter(q=>q!==W):[...n.servers,W];F("servers",K)}}):s.jsx("button",{type:"button",className:Te.filterSheetButton,onClick:()=>b(!0),children:"Filter & Sortierung"})}),s.jsx("section",{className:Te.listBody,children:m?s.jsx(Vxe,{items:u,sort:n.sort,dir:n.dir,onSortChange:W=>{const K=n.sort===W&&n.dir==="asc"?"desc":"asc";F("sort",W),F("dir",K)},onSelect:S,onStatusChange:$}):s.jsx(Uxe,{items:u,onSelect:S,onStatusChange:$})}),s.jsx(Hxe,{page:n.page,totalPages:h,onChange:W=>F("page",W)})]}),y&&s.jsx(zxe,{filters:i,onChange:a,onToggleClass:W=>a(K=>({...K,classes:K.classes.includes(W)?K.classes.filter(q=>q!==W):[...K.classes,W]})),onToggleServer:W=>a(K=>({...K,servers:K.servers.includes(W)?K.servers.filter(q=>q!==W):[...K.servers,W]})),onClose:()=>b(!1),onApply:I,onReset:B}),k&&s.jsx(HI,{ref:P,item:k,mode:f?"drawer":"modal",onClose:()=>S(null),onEdit:()=>{A(k),w(!0),S(null)}}),v&&s.jsx(GI,{ref:L,item:D,entries:t,onClose:()=>w(!1),onSubmit:U})]})}function d0({label:t,value:e}){return s.jsxs("div",{className:Te.infoPill,children:[s.jsx("span",{children:t}),s.jsx("strong",{children:e})]})}function $xe({label:t,updatedAt:e,countdown:n}){const[r,i]=X.useState(!1);return s.jsxs("div",{className:Te.freshnessWrapper,children:[s.jsx("button",{type:"button",className:Te.freshnessBadge,onClick:()=>i(a=>!a),"aria-expanded":r,children:t}),r&&s.jsxs("div",{className:Te.popover,children:[s.jsxs("div",{children:[s.jsx("span",{className:Te.popoverLabel,children:"Letzter Scan"}),s.jsx("strong",{children:zf(e)})]}),s.jsxs("div",{children:[s.jsx("span",{className:Te.popoverLabel,children:"Aktualisiert"}),s.jsx("strong",{children:n})]})]})]})}function Oxe({filters:t,onChange:e,onToggleClass:n,onToggleServer:r}){return s.jsxs("div",{className:Te.inlineFilters,children:[s.jsx("input",{type:"search",name:"waitlistSearch","aria-label":"Waitlist Suche",className:Te.searchInput,placeholder:"Suchen...",value:t.q,onChange:i=>e("q",i.target.value)}),s.jsxs("select",{name:"waitlistStatus","aria-label":"Waitlist Status",className:Te.select,value:t.status,onChange:i=>e("status",i.target.value),children:[s.jsx("option",{value:"all",children:"Status (alle)"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("div",{className:Te.chipGroup,children:Cg.map(i=>{const a=t.classes.includes(i);return s.jsx("button",{type:"button",className:`${Te.chip} ${a?Te.chipActive:""}`,onClick:()=>n(i),children:i},i)})}),s.jsx("div",{className:Te.chipGroup,children:Tg.map(i=>{const a=t.servers.includes(i);return s.jsx("button",{type:"button",className:`${Te.chip} ${a?Te.chipActive:""}`,onClick:()=>r(i),children:i},i)})}),s.jsxs("div",{className:Te.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistLvMin","aria-label":"Level Minimum",value:t.lvMin,min:1,max:t.lvMax,onChange:i=>e("lvMin",Number(i.target.value))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistLvMax","aria-label":"Level Maximum",value:t.lvMax,min:t.lvMin,max:200,onChange:i=>e("lvMax",Number(i.target.value))})]})]}),s.jsxs("div",{className:Te.sortControls,children:[s.jsx("label",{className:Te.sortLabel,children:"Sortieren"}),s.jsxs("select",{value:t.sort,name:"waitlistSort","aria-label":"Sortierung",onChange:i=>e("sort",i.target.value),children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"status",children:"Status"}),s.jsx("option",{value:"lastScan",children:"Letzter Scan"}),s.jsx("option",{value:"updatedAt",children:"Aktualisiert"})]}),s.jsx("button",{type:"button",className:Te.directionButton,onClick:()=>e("dir",t.dir==="asc"?"desc":"asc"),children:t.dir==="asc"?"ASC":"DESC"})]})]})}function Vxe({items:t,sort:e,dir:n,onSortChange:r,onSelect:i,onStatusChange:a}){const l=c=>e===c?n==="asc"?" ":" ":"";return t.length?s.jsx("div",{className:Te.tableWrapper,children:s.jsxs("table",{className:Te.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{className:Te.stickyColumn,onClick:()=>r("name"),children:["Name",l("name")]}),s.jsx("th",{children:"Klasse"}),s.jsxs("th",{onClick:()=>r("level"),children:["Level",l("level")]}),s.jsx("th",{children:"Server"}),s.jsxs("th",{onClick:()=>r("status"),children:["Status",l("status")]}),s.jsx("th",{children:"Notizen"}),s.jsxs("th",{onClick:()=>r("lastScan"),children:["Letzter Scan",l("lastScan")]})]})}),s.jsx("tbody",{children:t.map(c=>s.jsxs("tr",{children:[s.jsx("td",{className:Te.stickyColumn,children:s.jsx("button",{type:"button",className:Te.rowButton,onClick:()=>i(c.id),children:c.name})}),s.jsx("td",{children:c.classRole}),s.jsx("td",{children:c.level}),s.jsx("td",{children:c.server}),s.jsx("td",{children:s.jsxs("select",{className:Te.statusSelect,name:`waitlistStatus-${c.id}`,"aria-label":`Status fuer ${c.name}`,value:c.status,onChange:u=>a(c.id,u.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})}),s.jsxs("td",{children:[c.notes.slice(0,64),"..."]}),s.jsx("td",{children:s.jsx("span",{className:Te.scanBadge,children:L_[c.freshness]})})]},c.id))})]})}):s.jsx(zI,{})}function Uxe({items:t,onSelect:e,onStatusChange:n}){return t.length?s.jsx("div",{className:Te.cardList,children:t.map(r=>s.jsxs("article",{className:Te.card,children:[s.jsxs("div",{className:Te.cardHeader,children:[s.jsxs("div",{children:[s.jsx("button",{type:"button",className:Te.cardTitle,onClick:()=>e(r.id),children:r.name}),s.jsxs("p",{className:Te.cardMeta,children:[r.classRole," - Lv ",r.level," - ",r.server]})]}),s.jsx("span",{className:Te.scanBadge,children:L_[r.freshness]})]}),s.jsxs("p",{className:Te.cardNotes,children:[r.notes.slice(0,160),"..."]}),s.jsxs("div",{className:Te.cardFooter,children:[s.jsxs("select",{className:Te.statusSelect,name:`waitlistStatusCard-${r.id}`,"aria-label":`Status fuer ${r.name}`,value:r.status,onChange:i=>n(r.id,i.target.value),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]}),s.jsx("button",{type:"button",className:Te.secondaryAction,onClick:()=>e(r.id),children:"Details"})]})]},r.id))}):s.jsx(zI,{})}function zI(){return s.jsx("div",{className:Te.emptyState,children:s.jsx("p",{children:"Keine Eintraege fuer die aktuellen Filter."})})}function zxe({filters:t,onChange:e,onToggleClass:n,onToggleServer:r,onClose:i,onApply:a,onReset:l}){return s.jsx("div",{className:Te.sheetBackdrop,onClick:i,children:s.jsxs("div",{className:Te.sheet,onClick:c=>c.stopPropagation(),children:[s.jsx("div",{className:Te.sheetHandle}),s.jsxs("div",{className:Te.sheetBody,children:[s.jsx("h2",{children:"Filter"}),s.jsxs("label",{className:Te.sheetLabel,children:["Suche",s.jsx("input",{type:"search",name:"waitlistSheetSearch","aria-label":"Waitlist Suche",value:t.q,onChange:c=>e(u=>({...u,q:c.target.value}))})]}),s.jsxs("label",{className:Te.sheetLabel,children:["Status",s.jsxs("select",{name:"waitlistSheetStatus","aria-label":"Waitlist Status",value:t.status,onChange:c=>e(u=>({...u,status:c.target.value})),children:[s.jsx("option",{value:"all",children:"Alle"}),s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]}),s.jsxs("div",{className:Te.sheetLabel,children:["Klassen",s.jsx("div",{className:Te.chipGroup,children:Cg.map(c=>{const u=t.classes.includes(c);return s.jsx("button",{type:"button",className:`${Te.chip} ${u?Te.chipActive:""}`,"aria-label":`Klasse ${c}`,onClick:()=>n(c),children:c},c)})})]}),s.jsxs("div",{className:Te.sheetLabel,children:["Server",s.jsx("div",{className:Te.chipGroup,children:Tg.map(c=>{const u=t.servers.includes(c);return s.jsx("button",{type:"button",className:`${Te.chip} ${u?Te.chipActive:""}`,"aria-label":`Server ${c}`,onClick:()=>r(c),children:c},c)})})]}),s.jsxs("div",{className:Te.levelRow,children:[s.jsxs("label",{children:["Lv min",s.jsx("input",{type:"number",name:"waitlistSheetLvMin","aria-label":"Level Minimum",value:t.lvMin,onChange:c=>e(u=>({...u,lvMin:Number(c.target.value)}))})]}),s.jsxs("label",{children:["Lv max",s.jsx("input",{type:"number",name:"waitlistSheetLvMax","aria-label":"Level Maximum",value:t.lvMax,onChange:c=>e(u=>({...u,lvMax:Number(c.target.value)}))})]})]})]}),s.jsxs("div",{className:Te.sheetActions,children:[s.jsx("button",{type:"button",onClick:l,children:"Zuruecksetzen"}),s.jsx("button",{type:"button",className:Te.primaryAction,onClick:a,children:"Anwenden"})]})]})})}const HI=X.forwardRef(({item:t,mode:e,onClose:n,onEdit:r},i)=>s.jsx("div",{className:Te.overlay,children:s.jsxs("div",{ref:i,className:`${Te.panel} ${e==="drawer"?Te.drawer:Te.modal}`,children:[s.jsxs("header",{className:Te.panelHeader,children:[s.jsxs("div",{children:[s.jsxs("p",{className:Te.cardMeta,children:[t.classRole," - Lv ",t.level," - ",t.server]}),s.jsx("h2",{children:t.name})]}),s.jsx("button",{type:"button",className:Te.secondaryAction,onClick:n,children:"Schliessen"})]}),s.jsxs("section",{className:Te.section,children:[s.jsx("h3",{children:"Kontakt"}),s.jsx("p",{children:t.contact}),s.jsxs("p",{children:["Quelle: ",t.source]})]}),s.jsxs("section",{className:Te.section,children:[s.jsx("h3",{children:"Notizen"}),s.jsx("p",{children:t.notes})]}),s.jsxs("section",{className:Te.section,children:[s.jsx("h3",{children:"Tags"}),s.jsx("div",{className:Te.tagRow,children:t.tags.length?t.tags.map(a=>s.jsx("span",{children:a},a)):s.jsx("span",{children:"Keine"})})]}),s.jsxs("section",{className:Te.section,children:[s.jsx("h3",{children:"Historie"}),s.jsx("ul",{className:Te.historyList,children:t.history.map(a=>s.jsxs("li",{children:[s.jsx("span",{children:zf(a.date)}),s.jsx("p",{children:a.message})]},`${a.date}-${a.message}`))})]}),s.jsxs("section",{className:Te.section,children:[s.jsx("h3",{children:"Scan-Infos"}),s.jsxs("p",{children:["Letzter Scan: ",zf(t.lastScanAt)]}),s.jsxs("p",{children:["Aktualisiert: ",zf(t.updatedAt)]})]}),s.jsxs("footer",{className:Te.panelFooter,children:[s.jsx("button",{type:"button",className:Te.secondaryAction,onClick:r,children:"Bearbeiten"}),s.jsx("button",{type:"button",className:Te.primaryAction,onClick:n,children:"Schliessen"})]})]})}));HI.displayName="DetailPanel";const GI=X.forwardRef(({item:t,entries:e,onClose:n,onSubmit:r},i)=>{const[a,l]=X.useState(()=>t!=null?t:{id:`wl-${Date.now()}`,name:"",classRole:Cg[0],level:1,server:Tg[0],status:"new",notes:"",contact:"",source:"",tags:[],lastScanAt:new Date().toISOString(),updatedAt:new Date().toISOString(),freshness:"unknown",history:[]});X.useEffect(()=>{t&&l(t)},[JSON.stringify(t)]);const c=h=>{h.preventDefault(),r({...a,updatedAt:new Date().toISOString()})},u=e.some(h=>h.id!==a.id&&h.name.toLowerCase()===a.name.toLowerCase()&&h.server===a.server);return s.jsx("div",{className:Te.formOverlay,children:s.jsxs("form",{ref:i,className:Te.formPanel,onSubmit:c,children:[s.jsxs("header",{className:Te.panelHeader,children:[s.jsxs("div",{children:[s.jsx("p",{className:Te.cardMeta,children:t?"Bearbeiten":"Neu"}),s.jsx("h2",{children:t?t.name:"Neuer Bewerber"})]}),s.jsx("button",{type:"button",className:Te.secondaryAction,onClick:n,children:"Schliessen"})]}),u&&s.jsx("div",{className:Te.warning,children:"Hinweis: moegliche Dublette (Name+Server)."}),s.jsxs("label",{className:Te.sheetLabel,children:["Name",s.jsx("input",{name:"waitlistFormName",value:a.name,onChange:h=>l(m=>({...m,name:h.target.value}))})]}),s.jsxs("div",{className:Te.formGrid,children:[s.jsxs("label",{children:["Klasse",s.jsx("select",{name:"waitlistFormClass",value:a.classRole,onChange:h=>l(m=>({...m,classRole:h.target.value})),children:Cg.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("label",{children:["Level",s.jsx("input",{type:"number",name:"waitlistFormLevel",value:a.level,min:1,max:200,onChange:h=>l(m=>({...m,level:Number(h.target.value)}))})]}),s.jsxs("label",{children:["Server",s.jsx("select",{name:"waitlistFormServer",value:a.server,onChange:h=>l(m=>({...m,server:h.target.value})),children:Tg.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("label",{children:["Status",s.jsxs("select",{name:"waitlistFormStatus",value:a.status,onChange:h=>l(m=>({...m,status:h.target.value})),children:[s.jsx("option",{value:"new",children:"Neu"}),s.jsx("option",{value:"in_review",children:"In Review"}),s.jsx("option",{value:"accepted",children:"Zugesagt"}),s.jsx("option",{value:"declined",children:"Abgelehnt"}),s.jsx("option",{value:"withdrawn",children:"Zurueckgezogen"})]})]})]}),s.jsxs("label",{className:Te.sheetLabel,children:["Kontakt",s.jsx("input",{name:"waitlistFormContact",value:a.contact,onChange:h=>l(m=>({...m,contact:h.target.value}))})]}),s.jsxs("label",{className:Te.sheetLabel,children:["Quelle",s.jsx("input",{name:"waitlistFormSource",value:a.source,onChange:h=>l(m=>({...m,source:h.target.value}))})]}),s.jsxs("label",{className:Te.sheetLabel,children:["Notizen",s.jsx("textarea",{name:"waitlistFormNotes",value:a.notes,onChange:h=>l(m=>({...m,notes:h.target.value})),rows:4})]}),s.jsxs("footer",{className:Te.panelFooter,children:[s.jsx("button",{type:"button",className:Te.secondaryAction,onClick:n,children:"Abbrechen"}),s.jsx("button",{type:"submit",className:Te.primaryAction,children:"Speichern"})]})]})})});GI.displayName="WaitlistForm";function Hxe({page:t,totalPages:e,onChange:n}){return s.jsxs("div",{className:Te.pagination,children:[s.jsx("button",{type:"button",className:Te.secondaryAction,onClick:()=>n(Math.max(1,t-1)),disabled:t===1,children:"Zurueck"}),s.jsxs("span",{children:["Seite ",t," / ",e]}),s.jsx("button",{type:"button",className:Te.secondaryAction,onClick:()=>n(Math.min(e,t+1)),disabled:t===e,children:"Weiter"})]})}const Gxe=["tab","sub","sub2","q","sort","dir","page","pageSize"];function lu(t=[]){const[e,n]=fl(),r=X.useMemo(()=>[...t].sort().join("|"),[t]),i=X.useMemo(()=>{const m=new Set([...Gxe]);return t.forEach(f=>m.add(f)),Array.from(m)},[r]),a=X.useMemo(()=>{const m={};return i.forEach(f=>{const y=e.get(f);y!==null&&(m[f]=y)}),m},[e,i]),l=X.useCallback((m,f)=>{var b;const y=new URLSearchParams(e);Object.entries(m).forEach(([_,S])=>{S==null||S===""?y.delete(_):y.set(_,String(S))}),n(y,{replace:(b=f==null?void 0:f.replace)!=null?b:!1})},[e,n]),c=X.useCallback(m=>{const f=new URLSearchParams(e);(m&&m.length>0?m:i).forEach(b=>f.delete(b)),n(f,{replace:!0})},[e,n,i]),u=X.useCallback((m,f="")=>{var y;return(y=a[m])!=null?y:f},[a]),h=X.useCallback((m,f=0)=>{const y=a[m],b=y?Number(y):NaN;return Number.isFinite(b)?b:f},[a]);return{params:a,getParam:u,getNumberParam:h,writeParams:l,resetParams:c}}function Wxe(){return lu(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Activity"})})}function qxe(){return lu(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Imports"})})}function Kxe(){return lu(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Announcements"})})}function Qxe(){return lu(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Events"})})}function Xxe(){return lu(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Roles"})})}function Yxe(){return lu(),s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub - Settings"})})}const Jxe=[{icon:s.jsx(Vg,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:s.jsx(TD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:s.jsx(vD,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],Zxe=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],eve=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function tve(){return s.jsx(Vt,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(xs,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:s.jsx(sve,{}),right:s.jsx(nve,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:Jxe.map(t=>s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),s.jsx(xs,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),s.jsx("ul",{className:"space-y-3",children:Zxe.map(t=>s.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[s.jsx(G1,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),s.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),s.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function sve(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[s.jsx(xs,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),s.jsx(xs,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),s.jsx(xs,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),s.jsx(xs,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[s.jsx("li",{children:" Pager rotation: Ops Team"}),s.jsx("li",{children:" Slack channel: #sf-alerts"}),s.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function nve(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),s.jsx("ul",{className:"mt-3 space-y-2",children:eve.map(t=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),s.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),s.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const rve=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function ive(){return s.jsx(Vt,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:s.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Time"}),s.jsx("span",{children:"Service"}),s.jsx("span",{className:"text-right",children:"Severity"})]}),s.jsx("ul",{children:rve.map(t=>s.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),s.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:ave(t.severity)},children:t.severity})]},t.id))})]})})}function ave(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const Gi={background:"#152A42",borderColor:"#2B4C73"},Sd={background:"#1A2F4A",borderColor:"#2B4C73"},u0=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function ove(){const{data:t,loading:e,refreshing:n,error:r,refresh:i}=uve(),a=X.useMemo(()=>[{label:"Total uploads",value:vi(t.metrics.totalUploads),hint:`${vi(t.metrics.last24h)} in the last 24h`,icon:s.jsx($6,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:em(t.metrics.successRate),hint:`${vi(t.metrics.failed)} failed`,icon:s.jsx(C6,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?h0(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${h0(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:s.jsx(F6,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:lC(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:s.jsx(z6,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:vi(t.metrics.uniqueUploaders),hint:`${vi(t.metrics.uniqueGuilds)} guilds represented`,icon:s.jsx(Vg,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:vi(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:s.jsx(C3,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return s.jsx(Vt,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:s.jsx(lve,{breakdown:t.statusBreakdown,onRefresh:i,loading:e,refreshing:n}),right:s.jsx(cve,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:a.map(l=>s.jsxs("article",{className:"rounded-2xl border p-4",style:Gi,children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[l.icon,l.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:l.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:l.hint})]},l.label))}),s.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:Gi,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(l=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Sd,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Nd(l.status)},"aria-hidden":"true"}),D_(l.status)]}),s.jsx("span",{className:"font-semibold",children:vi(l.count)})]}),s.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:s.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(l.share*100,100).toFixed(1)}%`,backgroundColor:Nd(l.status)}})}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[em(l.share)," of window"]})]},l.status))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Gi,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(l=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Sd,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-semibold",children:l.hourLabel}),s.jsxs("span",{children:[vi(l.total)," uploads"]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Nd("success")},"aria-hidden":"true"}),"Success ",vi(l.success)]}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Nd("failed")},"aria-hidden":"true"}),"Failed ",vi(l.failed)]})]})]},l.hourLabel))})]})]}),s.jsxs("section",{className:"rounded-2xl border",style:Gi,children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(nl,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?s.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[s.jsx(G1,{className:"h-3.5 w-3.5"}),r]}):s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(y6,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),s.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Status"}),s.jsx("span",{children:"Uploader"}),s.jsx("span",{children:"Guild"}),s.jsx("span",{className:"text-right",children:"Processing"}),s.jsx("span",{className:"text-right",children:"File size"})]}),s.jsx("ul",{children:t.recentUploads.map(l=>{var c,u,h,m;return s.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:l.id}),s.jsx("span",{children:s.jsx(dve,{status:l.status})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(u=(c=l.uploaderName)!=null?c:l.uploaderId)!=null?u:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:l.uploadedAt?l.uploadedAt.toLocaleString():"Timestamp missing"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(m=(h=l.guildName)!=null?h:l.guildId)!=null?m:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:l.errorCode?`Issue: ${l.errorCode}`:"Healthy"})]}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:l.processingMs?h0(l.processingMs):"Pending"}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:l.fileSizeBytes?lC(l.fileSizeBytes):""})]},l.id)})})]})]})})}function lve({breakdown:t,onRefresh:e,loading:n,refreshing:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"rounded-2xl border p-4",style:Gi,children:[s.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[s.jsx("span",{children:"Controls"}),s.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[s.jsx(Og,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),s.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:Gi,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(i=>s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Nd(i.status)},"aria-hidden":"true"}),D_(i.status)]}),s.jsx("span",{children:em(i.share)})]},i.status))}),n&&s.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[s.jsx(nl,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:Gi,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),s.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Nf,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Nf,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Nf,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function cve({issues:t,failures:e,uploaders:n,guilds:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:Gi,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(C3,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),s.jsx("span",{children:"Top failure signatures"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(i=>s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Sd,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{children:i.code}),s.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Gi,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(G1,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("span",{children:"Latest failed uploads"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var a;return s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Sd,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),s.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(a=i.errorCode)!=null?a:"No error code provided"})]},i.id)})})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Gi,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(Vg,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Uploader leaderboard"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:n.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Sd,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",em(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:vi(i.count)})]},i.id))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Gi,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(W6,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Guild spotlight"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Sd,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",em(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:vi(i.count)})]},i.id))})]})]})}function dve({status:t}){const e=Nd(t);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[s.jsx(Nf,{className:"h-3 w-3","aria-hidden":"true"}),D_(t)]})}function uve(){const[t,e]=X.useState(u0),[n,r]=X.useState(!0),[i,a]=X.useState(!1),[l,c]=X.useState(null),u=X.useCallback(async(m=!1)=>{m?a(!0):r(!0);try{const f=xl(ft,"scanUploads"),y=nn(f,Br("uploadedAt","desc"),mn(100)),_=(await gn(y)).docs.map(S=>hve(S.id,S.data()));_.length>0?(e(_),c(null)):(e(u0),c("No uploads in window  showing fallback snapshot"))}catch(f){console.error("[ScansUploaded] Failed to load Firestore data",f),c("Live data unavailable  fallback snapshot active"),e(u0)}finally{m?a(!1):r(!1)}},[]);X.useEffect(()=>{u(!1)},[u]);const h=X.useMemo(()=>pve(t),[t]);return{loading:n,refreshing:i,error:l,data:h,refresh:X.useCallback(()=>u(!0),[u])}}function hve(t,e){const n=mve(e.status);return{id:t,status:n,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof Xs?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function mve(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function pve(t){var E,F;const e=new Map,n=new Map,r=new Map,i=new Map,a=[];let l=0,c=0;const h=Date.now()-1440*60*1e3,m=new Map;t.forEach(I=>{var H,W,K,q,se,ne,z,Y,le,ae,he,ye,Ie,Z,fe,oe,_e;const B=(H=e.get(I.status))!=null?H:0;if(e.set(I.status,B+1),I.uploadedAt&&I.uploadedAt.getTime()>=h&&(c+=1),I.processingMs!=null&&a.push(I.processingMs),I.fileSizeBytes!=null&&(l+=I.fileSizeBytes),I.status==="failed"&&I.errorCode){const ve=(W=n.get(I.errorCode))!=null?W:{count:0,lastSeen:null};n.set(I.errorCode,{count:ve.count+1,lastSeen:!ve.lastSeen||I.uploadedAt&&ve.lastSeen<I.uploadedAt?I.uploadedAt:ve.lastSeen})}const $=(q=(K=I.uploaderId)!=null?K:I.uploaderName)!=null?q:`anon-${I.id}`,U=(z=r.get($))!=null?z:{name:(ne=(se=I.uploaderName)!=null?se:I.uploaderId)!=null?ne:"Unknown",success:0,total:0};if(r.set($,{name:(le=(Y=I.uploaderName)!=null?Y:I.uploaderId)!=null?le:"Unknown",success:U.success+(I.status==="success"?1:0),total:U.total+1}),I.guildId||I.guildName){const ve=(he=(ae=I.guildId)!=null?ae:I.guildName)!=null?he:`guild-${I.id}`,Ee=(Z=i.get(ve))!=null?Z:{name:(Ie=(ye=I.guildName)!=null?ye:I.guildId)!=null?Ie:"Unknown",success:0,total:0};i.set(ve,{name:(oe=(fe=I.guildName)!=null?fe:I.guildId)!=null?oe:"Unknown",success:Ee.success+(I.status==="success"?1:0),total:Ee.total+1})}if(I.uploadedAt){const ve=new Date(I.uploadedAt);ve.setMinutes(0,0,0);const Ee=ve.toISOString(),Ve=(_e=m.get(Ee))!=null?_e:{hourLabel:gve(ve),timestamp:ve,total:0,success:0,failed:0};m.set(Ee,{hourLabel:Ve.hourLabel,timestamp:Ve.timestamp,total:Ve.total+1,success:Ve.success+(I.status==="success"?1:0),failed:Ve.failed+(I.status==="failed"?1:0)})}});const f=t.length,y=(E=e.get("success"))!=null?E:0,b=(F=e.get("failed"))!=null?F:0,_=a.length?a.reduce((I,B)=>I+B,0)/a.length:null,S=a.length?fve(a,95):null,k=r.size,P=i.size,D=Array.from(e.entries()).map(([I,B])=>({status:I,count:B,share:f?B/f:0})).sort((I,B)=>B.count-I.count),A=Array.from(m.values()).sort((I,B)=>B.timestamp.getTime()-I.timestamp.getTime()).slice(0,12),v=Array.from(n.entries()).map(([I,B])=>({code:I,...B})).sort((I,B)=>B.count-I.count).slice(0,6),w=[...t].sort((I,B)=>{var $,U,H,W;return((U=($=B.uploadedAt)==null?void 0:$.getTime())!=null?U:0)-((W=(H=I.uploadedAt)==null?void 0:H.getTime())!=null?W:0)}).slice(0,12),L=t.filter(I=>I.status==="failed").sort((I,B)=>{var $,U,H,W;return((U=($=B.uploadedAt)==null?void 0:$.getTime())!=null?U:0)-((W=(H=I.uploadedAt)==null?void 0:H.getTime())!=null?W:0)}),C=Array.from(r.entries()).map(([I,B])=>({id:I,name:B.name,count:B.total,successRate:B.total?B.success/B.total:0})).sort((I,B)=>B.count-I.count).slice(0,5),N=Array.from(i.entries()).map(([I,B])=>({id:I,name:B.name,count:B.total,successRate:B.total?B.success/B.total:0})).sort((I,B)=>B.count-I.count).slice(0,5);return{metrics:{totalUploads:f,last24h:c,successRate:f?y/f:0,failed:b,avgProcessingMs:_,p95ProcessingMs:S,uniqueUploaders:k,uniqueGuilds:P,totalFileSizeBytes:l},statusBreakdown:D,timeline:A,issues:v,recentFailures:L,recentUploads:w,topUploaders:C,topGuilds:N}}function fve(t,e){const n=[...t].sort((c,u)=>c-u);if(n.length===0)return 0;const r=e/100*(n.length-1),i=Math.floor(r),a=Math.ceil(r);if(i===a)return n[i];const l=r-i;return n[i]*(1-l)+n[a]*l}function vi(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function em(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function h0(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function lC(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10?0:1)} ${e[r]}`}function Nd(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function D_(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function gve(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function m0({label:t,value:e,hint:n}){return s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t}),s.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),n&&s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:n})]})}function xve(){var c,u,h,m,f,y;const{snapshot:t,error:e,loading:n,refresh:r}=II(),i=(c=t==null?void 0:t.warnings)!=null?c:[],a=(h=(u=t==null?void 0:t.data)==null?void 0:u.length)!=null?h:0,l=(m=t==null?void 0:t.stats)!=null?m:{};return s.jsx(Vt,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:n,children:n?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(m0,{label:"Last successful sync",value:t!=null&&t.generatedAt?new Date(t.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),s.jsx(m0,{label:"Creators tracked",value:a?a.toString():"0"}),s.jsx(m0,{label:"API lookups",value:`${(f=l.youtubeLookups)!=null?f:0}  ${(y=l.twitchLookups)!=null?y:0}`,hint:"YouTube  Twitch"})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?s.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):s.jsx("ul",{className:"space-y-2",children:i.map((b,_)=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[b.creator,"  ",b.scope]}),s.jsx("div",{className:"text-xs text-[#B0C4D9]",children:b.message}),b.source&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:b.source})]},`${b.scope}-${_}`))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),s.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{children:["Add the following environment variables (e.g. in ",s.jsx("code",{children:".env.local"}),"):",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),s.jsxs("li",{children:["Execute the sync script:",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),s.jsxs("li",{children:["Commit/deploy the generated ",s.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&s.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}const jx=`${ja}/admin/users`,vve=25,M_=()=>{if(!jx)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},cC=t=>typeof t!="number"?null:Xs.fromMillis(t),F_=t=>{var e;return{id:t.id,userId:t.userId,displayName:t.displayName,avatarUrl:t.avatarUrl,primaryProvider:(e=t.primaryProvider)!=null?e:"discord",roles:t.roles,providers:t.providers,profile:t.profile,createdAt:cC(t.createdAt),lastLoginAt:cC(t.lastLoginAt),status:t.status,notes:t.notes}},yve=t=>{var r;const e=new URLSearchParams;e.set("pageSize",String((r=t.pageSize)!=null?r:vve)),t.cursor&&e.set("cursor",t.cursor),t.role&&e.set("role",t.role),t.status&&e.set("status",t.status),t.provider&&e.set("provider",t.provider),t.search&&e.set("search",t.search);const n=e.toString();return n?`?${n}`:""},B_=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function dC(t={}){var r;M_();const e=yve(t),n=`${jx}${e}`;try{const i=await fetch(n,{credentials:"include"});if(!i.ok)throw await B_(i);const a=await i.json();return{users:a.users.map(F_),nextPageCursor:(r=a.nextPageCursor)!=null?r:null}}catch(i){throw console.error("[AdminUsers] listAdminUsers failed",i),i instanceof Error?i:new Error("Failed to load admin users")}}async function bve(t){M_();const e=await fetch(`${jx}/${encodeURIComponent(t)}`,{credentials:"include"});if(!e.ok)throw await B_(e);const n=await e.json();return F_(n.user)}async function _ve(t,e){M_();const n=await fetch(`${jx}/${encodeURIComponent(t)}`,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw await B_(n);const r=await n.json();return F_(r.user)}const WI=`${ja}/admin/audit-events`,wve=50,jve=()=>{if(!WI)throw new Error("Admin API base URL missing (set VITE_AUTH_BASE_URL).")},Sve=t=>typeof t!="number"?null:Xs.fromMillis(t),Nve=t=>{var e,n;return{id:t.id,createdAt:Sve(t.createdAt),actorUserId:t.actorUserId,actorDisplayName:(e=t.actorDisplayName)!=null?e:null,targetUserId:t.targetUserId,action:t.action,summary:t.summary,changes:(n=t.changes)!=null?n:{},context:t.context}},kve=t=>{var r;const e=new URLSearchParams;e.set("limit",String((r=t.limit)!=null?r:wve)),t.cursor&&e.set("cursor",t.cursor),t.actorUserId&&e.set("actorUserId",t.actorUserId),t.targetUserId&&e.set("targetUserId",t.targetUserId),t.action&&e.set("action",t.action);const n=e.toString();return n?`?${n}`:""},Cve=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function S1(t={}){var i;jve();const e=`${WI}${kve(t)}`,n=await fetch(e,{credentials:"include"});if(!n.ok)throw await Cve(n);const r=await n.json();return{events:r.events.map(Nve),nextPageCursor:(i=r.nextPageCursor)!=null?i:null}}async function Tve(t,e=10){return S1({targetUserId:t,limit:e})}const Ave=20,Eve=50,Eh={borderColor:"#2B4C73",background:"#152A42"},qI={background:"#1A2F4A"};function Ive(){var c;const{status:t,user:e}=fo(),n=(c=e==null?void 0:e.roles)!=null?c:[],r=n.includes("admin"),i=r||n.includes("mod"),[a,l]=T.useState("users");return t==="loading"||t==="idle"?s.jsx(Vt,{title:"Admin Users",subtitle:"Checking permissions",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full items-center justify-center text-[#B0C4D9]",children:[s.jsx(nl,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating session..."]})}):i?s.jsx(Vt,{title:"Admin user management",subtitle:"Moderate accounts, roles, and audit events",centerFramed:!0,mode:"page",actions:s.jsxs("div",{className:"flex items-center rounded-full border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:[s.jsx(bc,{className:"mr-2 h-3.5 w-3.5 text-[#5C8BC6]"}),r?"Admin":"Moderator"," access"]}),stickyTopbar:!0,subheader:s.jsx(Rve,{activeTab:a,onChange:l}),children:a==="users"?s.jsx(Pve,{isAdmin:r}):s.jsx(Lve,{isAdmin:r,onSelectUser:u=>{l("users"),typeof window!="undefined"&&window.dispatchEvent(new CustomEvent("sf-admin-open-user",{detail:{userId:u}}))}})}):s.jsx(Vt,{title:"Admin Users",subtitle:"Control panel access",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#B0C4D9]",children:[s.jsx(T3,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("p",{className:"text-base font-semibold text-white",children:"Access restricted"}),s.jsxs("p",{children:["You need at least the ",s.jsx("strong",{children:"mod"})," role to view this section."]})]})})}function Rve({activeTab:t,onChange:e}){const n=[{key:"users",label:"Users",icon:s.jsx(Vg,{className:"h-4 w-4"})},{key:"audit",label:"Audit Log",icon:s.jsx(fD,{className:"h-4 w-4"})}];return s.jsx("div",{className:"flex gap-2",children:n.map(r=>s.jsxs("button",{type:"button",onClick:()=>e(r.key),className:`flex items-center gap-2 rounded-2xl border px-3 py-1.5 text-xs transition ${t===r.key?"bg-[#1F3A59] text-white":"text-[#B0C4D9]"}`,style:{borderColor:"#2B4C73"},"aria-pressed":t===r.key,children:[r.icon,r.label]},r.key))})}function Pve({isAdmin:t}){const[e,n]=T.useState({role:"all",status:"all",provider:"all",search:""}),[r,i]=T.useState(""),a=k1(r,350);T.useEffect(()=>{n(oe=>oe.search===a?oe:{...oe,search:a})},[a]);const[l,c]=T.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[u,h]=T.useState(0),m=T.useMemo(()=>({pageSize:Ave,role:e.role==="all"?void 0:e.role,status:e.status==="all"?void 0:e.status,provider:e.provider==="all"?void 0:e.provider,search:e.search}),[e]);T.useEffect(()=>{let oe=!1;return c(_e=>({..._e,loading:!0,error:null})),dC(m).then(_e=>{oe||c({items:_e.users,cursor:_e.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(_e=>{oe||c(ve=>({...ve,loading:!1,loadingMore:!1,error:_e instanceof Error?_e.message:"Failed to load users"}))}),()=>{oe=!0}},[m,u]);const f=()=>h(oe=>oe+1),y=async()=>{if(l.cursor){c(oe=>({...oe,loadingMore:!0,error:null}));try{const oe=await dC({...m,cursor:l.cursor});c(_e=>({items:[..._e.items,...oe.users],cursor:oe.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(oe){c(_e=>{var ve;return{..._e,loadingMore:!1,error:(ve=oe==null?void 0:oe.message)!=null?ve:"Failed to load additional users"}})}}},[b,_]=T.useState(null),[S,k]=T.useState(null),[P,D]=T.useState(!1),[A,v]=T.useState(null),[w,L]=T.useState(""),[C,N]=T.useState(!1),[E,F]=T.useState(null),[I,B]=T.useState(!1),[$,U]=T.useState(!1),[H,W]=T.useState([]),[K,q]=T.useState(!1),[se,ne]=T.useState(null),z=T.useRef(null);T.useEffect(()=>{z.current=b},[b]);const Y=T.useRef(!1);T.useEffect(()=>{Y.current=C},[C]);const le=T.useCallback(async oe=>{var _e;q(!0),ne(null);try{const ve=await Tve(oe,12);z.current===oe&&W(ve.events)}catch(ve){z.current===oe&&ne((_e=ve==null?void 0:ve.message)!=null?_e:"Failed to load audit history")}finally{z.current===oe&&q(!1)}},[]);T.useEffect(()=>{var Ee;if(!b){k(null),L(""),N(!1),W([]),ne(null),U(!1);return}const oe=b,_e=l.items.find(Ve=>Ve.id===oe);_e?(k(_e),L((Ee=_e.notes)!=null?Ee:"")):(k(null),L("")),N(!1),D(!0),v(null);let ve=!1;return bve(oe).then(Ve=>{var ze;ve||z.current!==oe||(k(Ve),L((ze=Ve.notes)!=null?ze:""),N(!1),D(!1))}).catch(Ve=>{var ze;ve||z.current!==oe||(D(!1),v((ze=Ve==null?void 0:Ve.message)!=null?ze:"Failed to load user"))}),le(oe),()=>{ve=!0}},[b,l.items,le]),T.useEffect(()=>{var _e;if(!b)return;const oe=l.items.find(ve=>ve.id===b);oe&&(k(ve=>ve&&ve.id===oe.id?{...ve,...oe}:oe),Y.current||L((_e=oe.notes)!=null?_e:""))},[l.items,b]);const ae=T.useCallback(oe=>{c(_e=>({..._e,items:_e.items.map(ve=>ve.id===oe.id?oe:ve)}))},[]),he=T.useCallback(async oe=>{var _e,ve;if(S){B(!0),F(null);try{const Ee=await _ve(S.id,oe);k(Ee),ae(Ee),"notes"in oe&&(N(!1),L((_e=Ee.notes)!=null?_e:"")),await le(Ee.id)}catch(Ee){F((ve=Ee==null?void 0:Ee.message)!=null?ve:"Failed to update user")}finally{B(!1)}}},[S,le,ae]),ye=oe=>{if(!S||!t||oe==="user")return;const _e=new Set(S.roles);_e.has(oe)?_e.delete(oe):_e.add(oe),_e.add("user"),he({roles:Array.from(_e)})},Ie=oe=>{!S||!t||N1(S.status)===oe||oe==="banned"&&!window.confirm(`Ban ${Ih(S)}? They will lose access to the control panel.`)||he({status:oe})},Z=oe=>{L(oe),N(!0)},fe=()=>{!S||!t||!C||he({notes:w.trim().length?w:null})};return T.useEffect(()=>{if(typeof window=="undefined")return;const oe=_e=>{const ve=_e.detail;ve!=null&&ve.userId&&_(ve.userId)};return window.addEventListener("sf-admin-open-user",oe),()=>{window.removeEventListener("sf-admin-open-user",oe)}},[]),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:Eh,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(R0,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Search user id or name",value:r,onChange:oe=>i(oe.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(Hf,{label:"Role",value:e.role,onChange:oe=>n(_e=>({..._e,role:oe})),options:[{value:"all",label:"All"},{value:"admin",label:"Admin"},{value:"mod",label:"Mod"},{value:"creator",label:"Creator"},{value:"user",label:"User"}]}),s.jsx(Hf,{label:"Status",value:e.status,onChange:oe=>n(_e=>({..._e,status:oe})),options:[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"suspended",label:"Suspended"},{value:"banned",label:"Banned"}]}),s.jsx(Hf,{label:"Provider",value:e.provider,onChange:oe=>n(_e=>({..._e,provider:oe})),options:[{value:"all",label:"All"},{value:"discord",label:"Discord"},{value:"google",label:"Google"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:f,className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(Og,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-[minmax(0,1fr)_360px]",children:[s.jsxs("div",{className:"rounded-2xl border",style:Eh,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#B0C4D9]",children:[l.items.length," users ",e.search?"filtered":""]}),l.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(nl,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:qI,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"User ID"}),s.jsx("th",{className:"px-4 py-2",children:"Display name"}),s.jsx("th",{className:"px-4 py-2",children:"Role"}),s.jsx("th",{className:"px-4 py-2",children:"Status"}),s.jsx("th",{className:"px-4 py-2",children:"Providers"}),s.jsx("th",{className:"px-4 py-2",children:"Created"}),s.jsx("th",{className:"px-4 py-2",children:"Last login"})]})}),s.jsx("tbody",{children:l.items.map(oe=>{var ve,Ee,Ve;const _e=oe.id===b;return s.jsxs("tr",{onClick:()=>_(oe.id),className:`cursor-pointer border-t text-xs transition hover:bg-[#1F3652] ${_e?"bg-[#1F3652]":""}`,style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 font-mono text-[#8AA5C4]",children:oe.userId}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(QI,{url:JI(oe),name:Ih(oe)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm",children:Ih(oe)}),(ve=oe.profile)!=null&&ve.displayName&&oe.profile.displayName!==oe.displayName?s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:oe.profile.displayName}):null]})]})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(XI,{role:YI(oe.roles)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(Mve,{status:N1(oe.status)})}),s.jsx("td",{className:"px-4 py-2",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Ag,{provider:"discord",active:!!((Ee=oe.providers)!=null&&Ee.discord)}),s.jsx(Ag,{provider:"google",active:!!((Ve=oe.providers)!=null&&Ve.google)})]})}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:Pd(oe.createdAt)}),s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:Pd(oe.lastLoginAt)})]},oe.id)})})]}),!l.loading&&!l.items.length&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No users match these filters."})]}),l.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(fh,{className:"h-3.5 w-3.5"}),l.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:l.cursor?"More users available":"End of list"}),s.jsx("button",{type:"button",onClick:y,disabled:!l.cursor||l.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:l.loadingMore?"Loading...":"Load more"})]})]}),s.jsx("aside",{className:"rounded-2xl border p-3",style:Eh,children:S?s.jsx(Dve,{user:S,isAdmin:t,detailLoading:P,detailError:A,notesValue:w,notesDirty:C,onNotesChange:Z,onNotesSave:fe,onRoleToggle:ye,onStatusChange:Ie,actionError:E,actionPending:I,auditEntries:H,auditLoading:K,auditError:se,onRefreshAudit:()=>S&&le(S.id),showRawJson:$,toggleRawJson:()=>U(oe=>!oe)}):s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-[#8AA5C4]",children:[s.jsx(D6,{className:"h-10 w-10 text-[#5C8BC6]"}),"Select a user to see details."]})})]})]})}function Lve({isAdmin:t,onSelectUser:e}){const[n,r]=T.useState({actor:"",target:"",action:"all"}),[i,a]=T.useState(""),[l,c]=T.useState(""),u=k1(i,350),h=k1(l,350);T.useEffect(()=>{r(P=>P.actor===u&&P.target===h?P:{...P,actor:u,target:h})},[u,h]);const[m,f]=T.useState({items:[],cursor:null,loading:!0,loadingMore:!1,error:null}),[y,b]=T.useState(0),_=T.useMemo(()=>{const P=n.action==="all"?void 0:n.action,D=n.actor.includes(":")?n.actor:void 0,A=n.target.includes(":")?n.target:void 0;return{limit:Eve,action:P,actorUserId:D,targetUserId:A}},[n]);T.useEffect(()=>{let P=!1;return f(D=>({...D,loading:!0,error:null})),S1(_).then(D=>{P||f({items:D.events,cursor:D.nextPageCursor,loading:!1,loadingMore:!1,error:null})}).catch(D=>{P||f(A=>{var v;return{...A,loading:!1,loadingMore:!1,error:(v=D==null?void 0:D.message)!=null?v:"Failed to load audit log"}})}),()=>{P=!0}},[_,y]);const S=async()=>{if(m.cursor){f(P=>({...P,loadingMore:!0,error:null}));try{const P=await S1({..._,cursor:m.cursor});f(D=>({items:[...D.items,...P.events],cursor:P.nextPageCursor,loading:!1,loadingMore:!1,error:null}))}catch(P){f(D=>{var A;return{...D,loadingMore:!1,error:(A=P==null?void 0:P.message)!=null?A:"Failed to load more events"}})}}},k=T.useMemo(()=>{const P=n.actor.trim().toLowerCase(),D=n.target.trim().toLowerCase();return m.items.filter(A=>{var L;const v=!P||A.actorUserId.toLowerCase().includes(P)||((L=A.actorDisplayName)!=null?L:"").toLowerCase().includes(P),w=!D||A.targetUserId.toLowerCase().includes(D);return v&&w})},[m.items,n.actor,n.target]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"flex flex-wrap items-center gap-3 rounded-2xl border p-3 text-xs",style:Eh,children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(R0,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Actor (id or name)",value:i,onChange:P=>a(P.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border px-3 py-1",style:{borderColor:"#2B4C73"},children:[s.jsx(R0,{className:"h-4 w-4 text-[#5C8BC6]"}),s.jsx("input",{type:"text",placeholder:"Target user id",value:l,onChange:P=>c(P.target.value),className:"w-48 bg-transparent text-sm text-white placeholder:text-[#6E86A6] focus:outline-none"})]}),s.jsx(Hf,{label:"Action",value:n.action,onChange:P=>r(D=>({...D,action:P})),options:[{value:"all",label:"All"},{value:"user.role.update",label:"Role update"},{value:"user.status.update",label:"Status update"},{value:"user.notes.update",label:"Notes update"}]}),s.jsx("div",{className:"ml-auto flex items-center gap-2",children:s.jsxs("button",{type:"button",onClick:()=>b(P=>P+1),className:"flex items-center gap-1 rounded-full border px-3 py-1 text-xs text-[#B0C4D9]",style:{borderColor:"#2B4C73"},children:[s.jsx(Og,{className:"h-3.5 w-3.5"}),"Refresh"]})})]}),s.jsxs("div",{className:"rounded-2xl border",style:Eh,children:[s.jsxs("header",{className:"flex items-center justify-between border-b px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsxs("span",{className:"text-[#8AA5C4]",children:[k.length," events"]}),m.loading&&s.jsxs("span",{className:"flex items-center gap-2 text-[#B0C4D9]",children:[s.jsx(nl,{className:"h-3 w-3 animate-spin"})," Loading"]})]}),s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"min-w-full text-left text-sm text-white",children:[s.jsx("thead",{style:qI,children:s.jsxs("tr",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:[s.jsx("th",{className:"px-4 py-2",children:"Time"}),s.jsx("th",{className:"px-4 py-2",children:"Actor"}),s.jsx("th",{className:"px-4 py-2",children:"Target User"}),s.jsx("th",{className:"px-4 py-2",children:"Action"}),s.jsx("th",{className:"px-4 py-2",children:"Summary"})]})}),s.jsx("tbody",{children:k.map(P=>{var D;return s.jsxs("tr",{className:"border-t text-xs text-[#E4ECF5]",style:{borderColor:"#203650"},children:[s.jsx("td",{className:"px-4 py-2 text-[#8AA5C4]",children:Pd(P.createdAt)}),s.jsxs("td",{className:"px-4 py-2",children:[s.jsx("div",{className:"text-white",children:(D=P.actorDisplayName)!=null?D:"N/A"}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:P.actorUserId})]}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("button",{type:"button",className:"text-left font-mono text-[#5C8BC6] underline-offset-2 hover:underline",onClick:()=>e(P.targetUserId),children:P.targetUserId})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(KI,{action:P.action})}),s.jsx("td",{className:"px-4 py-2 text-[#C8D6EC]",children:P.summary})]},P.id)})})]}),!k.length&&!m.loading&&s.jsx("div",{className:"px-4 py-6 text-center text-sm text-[#8AA5C4]",children:"No audit events match these filters."})]}),m.error&&s.jsxs("div",{className:"flex items-center gap-2 border-t px-4 py-3 text-xs text-[#FFB347]",style:{borderColor:"#203650"},children:[s.jsx(fh,{className:"h-3.5 w-3.5"}),m.error]}),s.jsxs("footer",{className:"flex items-center justify-between border-t px-4 py-3 text-xs",style:{borderColor:"#203650"},children:[s.jsx("span",{className:"text-[#8AA5C4]",children:m.cursor?"More events available":"End of audit log"}),s.jsx("button",{type:"button",onClick:S,disabled:!m.cursor||m.loadingMore,className:"rounded-full border px-3 py-1 text-[#B0C4D9] disabled:opacity-40",style:{borderColor:"#2B4C73"},children:m.loadingMore?"Loading...":"Load more"})]})]}),!t&&s.jsx("div",{className:"rounded-2xl border px-4 py-3 text-xs text-[#8AA5C4]",style:{borderColor:"#2B4C73"},children:"You are viewing the audit log in read-only mode."})]})}function Dve({user:t,isAdmin:e,detailLoading:n,detailError:r,notesValue:i,notesDirty:a,onNotesChange:l,onNotesSave:c,onRoleToggle:u,onStatusChange:h,actionError:m,actionPending:f,auditEntries:y,auditLoading:b,auditError:_,onRefreshAudit:S,showRawJson:k,toggleRawJson:P}){var A,v;const D=YI(t.roles);return s.jsxs("div",{className:"space-y-4 text-xs text-[#E4ECF5]",children:[n&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border px-3 py-2",style:{borderColor:"#2B4C73"},children:[s.jsx(nl,{className:"h-3 w-3 animate-spin"}),"Loading user..."]}),r&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-[#F9A825] bg-[#3A2B0F] px-3 py-2 text-[#FFD55F]",children:[s.jsx(fh,{className:"h-3.5 w-3.5"}),r]}),s.jsx("div",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(QI,{url:JI(t),name:Ih(t),size:56}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"truncate text-base text-white",children:Ih(t)}),s.jsx("div",{className:"font-mono text-[11px] text-[#8AA5C4]",children:t.userId}),s.jsxs("div",{className:"mt-1 flex gap-1",children:[s.jsx(XI,{role:D}),s.jsx(Ag,{provider:"discord",active:!!((A=t.providers)!=null&&A.discord)}),s.jsx(Ag,{provider:"google",active:!!((v=t.providers)!=null&&v.google)})]})]})]})}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Roles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["admin","mod","creator","user"].map(w=>s.jsx("button",{type:"button",onClick:()=>u(w),disabled:!e||w==="user",className:`rounded-full px-3 py-1 text-xs ${t.roles.includes(w)?"bg-[#1F3A59] text-white":"bg-[#122033] text-[#6E86A6]"} disabled:opacity-50`,children:w},w))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsx("h3",{className:"mb-3 text-sm font-semibold text-white",children:"Status"}),s.jsx("div",{className:"flex gap-2",children:["active","suspended","banned"].map(w=>s.jsx("button",{type:"button",onClick:()=>h(w),disabled:!e,className:`rounded-full border px-3 py-1 text-xs capitalize ${N1(t.status)===w?"border-[#5C8BC6] text-white":"border-[#2B4C73] text-[#8AA5C4]"} disabled:opacity-50`,children:w},w))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notes"}),!e&&s.jsx("span",{className:"text-[11px] text-[#8AA5C4]",children:"Read-only"})]}),s.jsx("textarea",{value:i,onChange:w=>l(w.target.value),className:"h-24 w-full rounded-xl border bg-[#0F1B2A] p-2 text-sm text-white placeholder:text-[#5C6E89] focus:outline-none disabled:opacity-60",style:{borderColor:"#2B4C73"},placeholder:"Add context for moderators",disabled:!e}),s.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-[#8AA5C4]",children:[f&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(nl,{className:"h-3 w-3 animate-spin"}),"Saving..."]}),a&&e&&s.jsx("button",{type:"button",onClick:c,className:"ml-auto rounded-full border px-3 py-1 text-xs text-white",style:{borderColor:"#2B4C73"},children:"Save notes"})]}),m&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(fh,{className:"h-3 w-3"}),m]})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Audit log"}),s.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-1 rounded-full border px-2 py-1 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsx(Og,{className:"h-3 w-3"}),"Refresh"]})]}),b&&s.jsxs("div",{className:"flex items-center gap-2 text-[#8AA5C4]",children:[s.jsx(nl,{className:"h-3 w-3 animate-spin"})," Loading entries..."]}),_&&s.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-[#F9A825] bg-[#3A2B0F] px-2 py-1 text-[11px] text-[#FFD55F]",children:[s.jsx(fh,{className:"h-3 w-3"}),_]}),!b&&!y.length&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:"No actions logged."}),s.jsx("ul",{className:"space-y-2",children:y.map(w=>{var L;return s.jsxs("li",{className:"rounded-xl border px-3 py-2 text-[11px]",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"flex items-center justify-between text-[#8AA5C4]",children:[s.jsx("span",{children:Pd(w.createdAt)}),s.jsx(KI,{action:w.action})]}),s.jsx("div",{className:"mt-1 text-white",children:(L=w.actorDisplayName)!=null?L:w.actorUserId}),s.jsx("div",{className:"text-[#C8D6EC]",children:w.summary})]},w.id)})})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-semibold text-white",children:"Meta"}),s.jsxs("button",{type:"button",onClick:P,className:"flex items-center gap-1 text-[11px] text-[#5C8BC6]",children:[s.jsx(RD,{className:"h-3 w-3"}),k?"Hide raw JSON":"Show raw JSON"]})]}),s.jsxs("dl",{className:"space-y-1 text-[11px] text-[#C8D6EC]",children:[s.jsx(vf,{label:"Created",value:Pd(t.createdAt)}),s.jsx(vf,{label:"Last login",value:Pd(t.lastLoginAt)}),s.jsx(vf,{label:"Primary provider",value:t.primaryProvider}),s.jsx(vf,{label:"Roles",value:t.roles.join(", ")})]}),k&&s.jsx("pre",{className:"mt-3 max-h-48 overflow-auto rounded-xl bg-[#0F1B2A] p-3 text-[11px] text-[#8AA5C4]",children:JSON.stringify(t,null,2)})]})]})}function KI({action:t}){const e=t==="user.role.update"?"Role update":t==="user.status.update"?"Status update":"Notes update";return s.jsx("span",{className:"rounded-full border px-2 py-0.5 text-[11px]",style:{borderColor:"#2B4C73",color:"#B0C4D9"},children:e})}function vf({label:t,value:e}){return e?s.jsxs("div",{className:"flex justify-between gap-2",children:[s.jsx("span",{className:"text-[#6E86A6]",children:t}),s.jsx("span",{className:"text-white",children:e})]}):null}function Hf({label:t,value:e,options:n,onChange:r}){return s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[#8AA5C4]",children:t}),s.jsx("select",{value:e,onChange:i=>r(i.target.value),className:"rounded-xl border bg-[#0F1B2A] px-3 py-1 text-xs text-white focus:outline-none",style:{borderColor:"#2B4C73"},children:n.map(i=>s.jsx("option",{value:i.value,children:i.label},i.value))})]})}function QI({url:t,name:e,size:n=32}){return t?s.jsx("img",{src:t,alt:"",className:"rounded-full border object-cover",style:{width:n,height:n,borderColor:"#2B4C73"}}):s.jsx("div",{className:"flex items-center justify-center rounded-full border bg-[#0F1B2A] text-xs text-[#8AA5C4]",style:{width:n,height:n,borderColor:"#2B4C73"},children:e.slice(0,2).toUpperCase()})}function XI({role:t}){const e=t==="admin"?"#F87171":t==="mod"?"#FBBF24":t==="creator"?"#34D399":"#93C5FD";return s.jsx("span",{className:"rounded-full px-2 py-0.5 text-[11px] capitalize",style:{background:"rgba(255,255,255,0.08)",color:e},children:t})}function Mve({status:t}){const e={active:{label:"Active",color:"#5CC689",icon:s.jsx(R6,{className:"h-3 w-3"})},suspended:{label:"Suspended",color:"#F9A825",icon:s.jsx(bc,{className:"h-3 w-3"})},banned:{label:"Banned",color:"#FF6B6B",icon:s.jsx(_6,{className:"h-3 w-3"})}},{label:n,color:r,icon:i}=e[t];return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-[11px]",style:{color:r,background:"rgba(255,255,255,0.06)"},children:[i,n]})}function Ag({provider:t,active:e}){const n=t==="discord"?"D":"G";return s.jsx("span",{className:`inline-flex h-6 w-6 items-center justify-center rounded-full text-[11px] ${e?"bg-[#1F3A59] text-white":"bg-[#0F1B2A] text-[#55637B]"}`,title:t,children:n})}function YI(t){const e=["admin","mod","creator","user"];for(const n of e)if(t.includes(n))return n;return"user"}function Ih(t){var e,n,r,i,a,l,c,u,h;return(h=(u=(a=(n=t.displayName)!=null?n:(e=t.profile)==null?void 0:e.displayName)!=null?a:(i=(r=t.providers)==null?void 0:r.discord)==null?void 0:i.displayName)!=null?u:(c=(l=t.providers)==null?void 0:l.google)==null?void 0:c.displayName)!=null?h:t.userId}function JI(t){var e,n,r,i,a,l,c;return(c=(l=(r=t.avatarUrl)!=null?r:(n=(e=t.providers)==null?void 0:e.discord)==null?void 0:n.avatarUrl)!=null?l:(a=(i=t.providers)==null?void 0:i.google)==null?void 0:a.avatarUrl)!=null?c:null}function N1(t){return t!=null?t:"active"}function Pd(t){if(!t)return"";const e=t.toDate();return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(e)}function k1(t,e){const[n,r]=T.useState(t);return T.useEffect(()=>{const i=window.setTimeout(()=>r(t),e);return()=>window.clearTimeout(i)},[t,e]),n}function Fve(){return s.jsx(Vt,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:s.jsx("div",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const Bve="_page_rpt6g_1",$ve="_tabs_rpt6g_17",Ove="_tab_rpt6g_17",Vve="_tabActive_rpt6g_71",Uve="_banner_rpt6g_87",zve="_bannerSuccess_rpt6g_101",Hve="_bannerError_rpt6g_113",Gve="_card_rpt6g_125",Wve="_cardTitle_rpt6g_145",qve="_settingsForm_rpt6g_159",Kve="_formRow_rpt6g_173",Qve="_selectInput_rpt6g_185",Xve="_checkboxRow_rpt6g_203",Yve="_settingsFooter_rpt6g_227",Jve="_inlineStatus_rpt6g_245",Zve="_helperText_rpt6g_259",eye="_secondaryButton_rpt6g_271",tye="_cardSubtitle_rpt6g_297",sye="_identityHeader_rpt6g_309",nye="_identityAvatar_rpt6g_323",rye="_identityName_rpt6g_337",iye="_identityProvider_rpt6g_351",aye="_identityForm_rpt6g_363",oye="_nameInputWrap_rpt6g_379",lye="_nameLabel_rpt6g_395",cye="_nameInput_rpt6g_379",dye="_nameSaveButton_rpt6g_427",uye="_feedbackError_rpt6g_471",hye="_feedbackSuccess_rpt6g_483",mye="_metaGrid_rpt6g_495",pye="_metaItem_rpt6g_507",fye="_metaLabel_rpt6g_521",gye="_metaValue_rpt6g_535",xye="_serviceList_rpt6g_549",vye="_serviceRow_rpt6g_559",yye="_serviceName_rpt6g_587",bye="_serviceStatus_rpt6g_601",_ye="_serviceAction_rpt6g_613",wye="_securityText_rpt6g_645",jye="_securityNote_rpt6g_657",Sye="_logoutButton_rpt6g_669",Nye="_loadingState_rpt6g_701",kye="_emptyState_rpt6g_703",Cye="_emptyStateTitle_rpt6g_721",Tye="_emptyStateText_rpt6g_733",Aye="_primaryButton_rpt6g_745",Me={page:Bve,tabs:$ve,tab:Ove,tabActive:Vve,banner:Uve,bannerSuccess:zve,bannerError:Hve,card:Gve,cardTitle:Wve,settingsForm:qve,formRow:Kve,selectInput:Qve,checkboxRow:Xve,settingsFooter:Yve,inlineStatus:Jve,helperText:Zve,secondaryButton:eye,cardSubtitle:tye,identityHeader:sye,identityAvatar:nye,identityName:rye,identityProvider:iye,identityForm:aye,nameInputWrap:oye,nameLabel:lye,nameInput:cye,nameSaveButton:dye,feedbackError:uye,feedbackSuccess:hye,metaGrid:mye,metaItem:pye,metaLabel:fye,metaValue:gye,serviceList:xye,serviceRow:vye,serviceName:yye,serviceStatus:bye,serviceAction:_ye,securityText:wye,securityNote:jye,logoutButton:Sye,loadingState:Nye,emptyState:kye,emptyStateTitle:Cye,emptyStateText:Tye,primaryButton:Aye},Eye="_header_t1aqh_1",Iye="_headerTexts_t1aqh_17",Rye="_tableWrap_t1aqh_31",Pye="_table_t1aqh_31",Lye="_tableRow_t1aqh_87",Dye="_dateCell_t1aqh_95",Mye="_actionsHeader_t1aqh_103",Fye="_actionCell_t1aqh_111",Bye="_unlinkButton_t1aqh_119",$ye="_unlinkIcon_t1aqh_175",Oye="_muted_t1aqh_185",Vye="_emptyState_t1aqh_193",Uye="_emptyTitle_t1aqh_209",zye="_emptyDescription_t1aqh_221",Hye="_emptyCta_t1aqh_233",Gye="_helpAccordion_t1aqh_277",Wye="_helpToggle_t1aqh_291",qye="_helpToggleOpen_t1aqh_331",Kye="_helpToggleAction_t1aqh_339",Qye="_helpBody_t1aqh_351",Xye="_helpList_t1aqh_359",Yye="_helpListItem_t1aqh_377",Jye="_helpFootnote_t1aqh_385",Zye="_confirmBackdrop_t1aqh_397",e0e="_confirmDialog_t1aqh_419",t0e="_confirmTitle_t1aqh_443",s0e="_confirmText_t1aqh_457",n0e="_confirmName_t1aqh_473",r0e="_confirmMeta_t1aqh_483",i0e="_errorText_t1aqh_491",a0e="_confirmActions_t1aqh_503",o0e="_cancelButton_t1aqh_517",l0e="_confirmButton_t1aqh_519",Jt={header:Eye,headerTexts:Iye,tableWrap:Rye,table:Pye,tableRow:Lye,dateCell:Dye,actionsHeader:Mye,actionCell:Fye,unlinkButton:Bye,unlinkIcon:$ye,muted:Oye,emptyState:Vye,emptyTitle:Uye,emptyDescription:zye,emptyCta:Hye,helpAccordion:Gye,helpToggle:Wye,helpToggleOpen:qye,helpToggleAction:Kye,helpBody:Qye,helpList:Xye,helpListItem:Yye,helpFootnote:Jye,confirmBackdrop:Zye,confirmDialog:e0e,confirmTitle:t0e,confirmText:s0e,confirmName:n0e,confirmMeta:r0e,errorText:i0e,confirmActions:a0e,cancelButton:o0e,confirmButton:l0e},c0e=t=>{if(!t)return"-";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()},p0=t=>{var n;const e=(n=t.name)==null?void 0:n.trim();return e||(t.playerId!==void 0&&t.playerId!==null?`#${t.playerId}`:"-")},d0e=({user:t,refreshSession:e,openHelp:n=!1})=>{const{t:r}=wa(),i=T.useMemo(()=>{var E;return(E=t.linkedPlayers)!=null?E:[]},[t.linkedPlayers]),[a,l]=T.useState(!1),[c,u]=T.useState(!1),[h,m]=T.useState(null),[f,y]=T.useState(null),[b,_]=T.useState(()=>n||i.length===0),S=T.useMemo(()=>`${ja}/user/unlink-character`,[]);X.useEffect(()=>{n&&_(!0)},[n]),X.useEffect(()=>{i.length===0&&_(!0)},[i.length]);const k=async()=>{l(!0);try{await e({silent:!0})}catch(E){console.error("[Account] Failed to refresh linked players",E)}finally{l(!1)}},P=E=>{m(E),y(null)},D=()=>{c||(m(null),y(null))},A=async()=>{var E;if(h){if(!S){y(r("account.connectedCharacters.errors.serviceUnavailable","Auth service is not configured for unlinking."));return}u(!0),l(!0),y(null);try{const F=await fetch(S,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:h.playerId,server:h.server})});if(!F.ok){const I=await F.json().catch(()=>null),B=(I==null?void 0:I.error)||(I==null?void 0:I.message)||r("account.connectedCharacters.errors.unlink","Could not unlink character.");throw new Error(B)}await e({silent:!0}),m(null)}catch(F){const I=(E=F==null?void 0:F.message)!=null?E:r("account.connectedCharacters.errors.unlink","Could not unlink character.");y(I)}finally{u(!1),l(!1)}}},v=E=>E?E.startsWith("discord_")?r("account.connectedCharacters.method.discord","Discord bot"):E:"-",w=T.useMemo(()=>[r("account.connectedCharacters.help.steps.link",'Link a character via the Discord bot using the "!connect char" command.'),r("account.connectedCharacters.help.steps.verify","We match the character to your latest verified scan; keep your game data up to date."),r("account.connectedCharacters.help.steps.refresh","After linking, click Refresh here to sync the latest characters from the auth service."),r("account.connectedCharacters.help.steps.unlink","You can unlink any character in the Actions column; the source column shows how it was linked.")],[r]),L=()=>{const E="connected-characters-help";return s.jsxs("div",{className:Jt.helpAccordion,children:[s.jsxs("button",{type:"button",className:`${Jt.helpToggle} ${b?Jt.helpToggleOpen:""}`,"aria-expanded":b,"aria-controls":E,onClick:()=>_(F=>!F),children:[s.jsx("span",{children:r("account.connectedCharacters.help.title","How does linking work?")}),s.jsx("span",{className:Jt.helpToggleAction,children:b?r("account.connectedCharacters.help.hide","Hide"):r("account.connectedCharacters.help.show","Show")})]}),b&&s.jsxs("div",{id:E,className:Jt.helpBody,children:[s.jsx("ul",{className:Jt.helpList,children:w.map((F,I)=>s.jsx("li",{className:Jt.helpListItem,children:F},`help-step-${I}`))}),s.jsx("p",{className:Jt.helpFootnote,children:r("account.connectedCharacters.help.footnote","Tip: Click Refresh after linking or unlinking to update this table.")})]})]})},C=()=>s.jsx("div",{className:Jt.tableWrap,children:s.jsxs("table",{className:Jt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:r("account.connectedCharacters.columns.character","Character")}),s.jsx("th",{children:r("account.connectedCharacters.columns.server","Server")}),s.jsx("th",{children:r("account.connectedCharacters.columns.playerId","Player ID")}),s.jsx("th",{children:r("account.connectedCharacters.columns.class","Class")}),s.jsx("th",{children:r("account.connectedCharacters.columns.level","Level")}),s.jsx("th",{children:r("account.connectedCharacters.columns.guild","Guild")}),s.jsx("th",{children:r("account.connectedCharacters.columns.lastVerified","Last linked")}),s.jsx("th",{children:r("account.connectedCharacters.columns.source","Source")}),s.jsx("th",{className:Jt.actionsHeader,children:r("account.connectedCharacters.columns.actions","Actions")})]})}),s.jsx("tbody",{children:i.map((E,F)=>{var W,K,q,se;const I=`${(W=E.server)!=null?W:"unknown"}-${(K=E.playerId)!=null?K:F}`,B=(q=E.level)!=null?q:"-",$=E.guildName||"-",U=E.class||"-",H=v(E.method);return s.jsxs("tr",{className:Jt.tableRow,children:[s.jsx("td",{children:p0(E)}),s.jsx("td",{children:E.server||"-"}),s.jsx("td",{children:(se=E.playerId)!=null?se:"-"}),s.jsx("td",{className:E.class?void 0:Jt.muted,children:U}),s.jsx("td",{className:typeof E.level!="number"?Jt.muted:void 0,children:B}),s.jsx("td",{className:E.guildName?void 0:Jt.muted,children:$}),s.jsx("td",{className:Jt.dateCell,children:c0e(E.verifiedAt)}),s.jsx("td",{className:E.method?void 0:Jt.muted,children:H}),s.jsx("td",{className:Jt.actionCell,children:s.jsx("button",{type:"button",className:Jt.unlinkButton,onClick:()=>P(E),title:r("account.connectedCharacters.actions.unlink","Disconnect character"),"aria-label":`${r("account.connectedCharacters.actions.unlink","Disconnect character")} ${p0(E)}`,disabled:c||a,children:s.jsx("svg",{className:Jt.unlinkIcon,viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false",children:s.jsx("path",{fill:"currentColor",d:"M9 4h6a1 1 0 0 1 1 1v2h5v2h-2.1l-1.05 11.2A2 2 0 0 1 15.86 22H8.14a2 2 0 0 1-1.99-1.8L5.1 9H3V7h5V5a1 1 0 0 1 1-1Zm5 2V6H10v2h4Zm-6.93 3 1.02 10.8a1 1 0 0 0 1 .9h7.72a1 1 0 0 0 1-.9L18.83 9ZM10 11v7h2v-7Zm4 0v7h2v-7Z"})})})})]},I)})})]})}),N=()=>{var F;if(!h)return null;const E="unlink-dialog-title";return s.jsx("div",{className:Jt.confirmBackdrop,role:"dialog","aria-modal":"true","aria-labelledby":E,children:s.jsxs("div",{className:Jt.confirmDialog,children:[s.jsx("h3",{id:E,className:Jt.confirmTitle,children:r("account.connectedCharacters.confirmation.title","Are you sure you want to unlink this character?")}),s.jsxs("p",{className:Jt.confirmText,children:[s.jsx("span",{className:Jt.confirmName,children:p0(h)}),s.jsxs("span",{className:Jt.confirmMeta,children:[h.server||"-"," - #",(F=h.playerId)!=null?F:"-"]})]}),f&&s.jsx("p",{className:Jt.errorText,children:f}),s.jsxs("div",{className:Jt.confirmActions,children:[s.jsx("button",{type:"button",className:Jt.cancelButton,onClick:D,disabled:c,children:r("account.connectedCharacters.confirmation.cancel","Cancel")}),s.jsx("button",{type:"button",className:Jt.confirmButton,onClick:A,disabled:c,children:c?r("account.connectedCharacters.confirmation.confirming","Unlinking..."):r("account.connectedCharacters.confirmation.confirm","Yes, unlink")})]})]})})};return t?s.jsxs("section",{className:Me.card,children:[s.jsxs("div",{className:Jt.header,children:[s.jsxs("div",{className:Jt.headerTexts,children:[s.jsx("h2",{className:Me.cardTitle,children:r("account.connectedCharacters.title","Connected characters")}),s.jsx("p",{className:Me.cardSubtitle,children:r("account.connectedCharacters.subtitle","These game characters are linked to your SFDataHub account.")})]}),s.jsx("button",{type:"button",className:Me.secondaryButton,onClick:k,disabled:a,children:a?r("account.connectedCharacters.actions.refreshing","Refreshing..."):r("account.connectedCharacters.actions.refresh","Refresh")})]}),a&&s.jsx("p",{className:Me.helperText,children:r("account.connectedCharacters.loading","Refreshing characters...")}),L(),!a&&i.length===0&&s.jsxs("div",{className:Jt.emptyState,children:[s.jsx("p",{className:Jt.emptyTitle,children:r("account.connectedCharacters.empty.title","No characters linked yet")}),s.jsx("p",{className:Jt.emptyDescription,children:r("account.connectedCharacters.empty.description",'Use the "!connect char" command in Discord to link your characters, then click "Refresh" here.')}),s.jsx("button",{type:"button",className:Jt.emptyCta,onClick:()=>_(!0),children:r("account.connectedCharacters.empty.cta","Click to learn how linking works")})]}),i.length>0&&C(),N()]}):null},ZI="user_settings";async function uC(t){if(!t)return null;try{const e=Xt(ft,ZI,t),n=await rn(e);if(!n.exists())return null;const r=n.data();return r!=null?r:null}catch(e){return console.warn("[UserSettings] Failed to load settings",e),null}}async function u0e(t,e){if(t)try{const n=Xt(ft,ZI,t);await co(n,e,{merge:!0})}catch(n){throw console.error("[UserSettings] Failed to update settings",n),n}}const e4="user_tools_state";async function h0e(t){var e;if(!t)return null;try{const n=Xt(ft,e4,t),r=await rn(n);return r.exists()&&(e=r.data())!=null?e:null}catch(n){return console.warn("[UserToolsSettings] Failed to load tools settings",n),null}}async function m0e(t,e){if(t)try{const n=Xt(ft,e4,t),r={...e,updatedAt:new Date().toISOString()};await co(n,r,{merge:!0})}catch(n){throw console.error("[UserToolsSettings] Failed to save tools settings",n),n}}const p0e="https://i.pravatar.cc/72",yf=`${ja}/auth/account/profile`,f0=`${ja}/auth/google/link/start`,hC=3,mC=32,f0e=["overview","settings","tools","connected-characters"],pC=t=>{if(!t)return;const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toLocaleString()},g0e=()=>{const{status:t,user:e,logout:n,refreshSession:r}=fo(),i=ji(),a=Vr(),{t:l,i18n:c}=wa(),[u,h]=T.useState("overview"),[m,f]=T.useState(null),[y,b]=T.useState(null),[_,S]=T.useState(!1),[k,P]=T.useState(null),[D,A]=T.useState(!1),[v,w]=T.useState(!1),[L,C]=T.useState(null),[N,E]=T.useState(null),[F,I]=T.useState(!0),[B,$]=T.useState(!1),[U,H]=T.useState(null),[W,K]=T.useState(!1),q=T.useMemo(()=>{const Be=new URLSearchParams(a.search);return Be.get("linked")==="google"?{type:"success",message:"Google successfully connected."}:Be.get("error")==="google_already_linked"?{type:"error",message:"This Google account is already linked to another SFDataHub account."}:null},[a.search]),se=t==="loading"||t==="idle",ne=t==="authenticated"&&!!e,z=e==null?void 0:e.id,Y=T.useMemo(()=>new URLSearchParams(a.search),[a.search]),le=Y.get("tab"),ae=Y.get("openHelp")==="1",he=T.useMemo(()=>({language:c.language==="de"?"de":"en",defaultSection:"home",compactTables:!1,showExperimentalFeatures:!1}),[c.language]);T.useEffect(()=>{if(!z){f(null),b(null),P(null),S(!1),C(null),E(null),I(!1),$(!1),H(null),K(!1);return}let Be=!0;return(async()=>{S(!0),P(null),w(!1);try{const He=await uC(z),tt=He?{...he,...He}:he;if(!Be)return;f(tt),b(tt)}catch(He){if(!Be)return;P(l("account.settings.error","Could not load settings."))}finally{Be&&S(!1)}})(),()=>{Be=!1}},[z,he,l]),T.useEffect(()=>{if(!z)return;let Be=!0;const Le={defaultSetId:null,showToolsIntro:!0,enableExperimentalTools:!1};return(async()=>{I(!0),H(null),K(!1);try{const tt=await h0e(z);if(!Be)return;const fs=tt?{...Le,...tt}:Le;C(fs),E(fs)}catch(tt){if(!Be)return;H(l("account.tools.loadError","Could not load tools settings."))}finally{Be&&I(!1)}})(),()=>{Be=!1}},[z,l]),T.useEffect(()=>{le&&f0e.includes(le)&&le!==u&&h(le)},[le,u]);const ye=(Be,Le)=>{const He=new URLSearchParams(a.search);He.set("tab",Be),Le!=null&&Le.openHelp?He.set("openHelp","1"):He.delete("openHelp");const tt=He.toString();i({pathname:a.pathname,search:tt?`?${tt}`:""},{replace:!0})},Ie=()=>{i("/login")},Z=async()=>{await n(),i("/")},fe=()=>{if(!f0){window.alert("Auth service is not configured for Google linking.");return}window.location.href=f0},oe=()=>s.jsx("div",{className:Me.loadingState,children:"Checking session..."}),_e=()=>s.jsxs("div",{className:Me.emptyState,children:[s.jsx("p",{className:Me.emptyStateTitle,children:"You are not signed in."}),s.jsx("p",{className:Me.emptyStateText,children:"Use the sign-in page to connect your Discord or Google account and unlock settings."}),s.jsx("button",{type:"button",className:Me.primaryButton,onClick:Ie,children:"Go to sign-in"})]}),ve=()=>{if(!q)return null;const Be=q.type==="success"?`${Me.banner} ${Me.bannerSuccess}`:`${Me.banner} ${Me.bannerError}`;return s.jsx("div",{className:Be,children:q.message})},Ee=()=>{var ls,Os,_t;if(!e)return null;const Be=(ls=e.providers)==null?void 0:ls.discord,Le=(Os=e.providers)==null?void 0:Os.google,He=!!Be,tt=!!Le,fs=!!f0,vs=fs?tt?Le!=null&&Le.displayName?`Connected as ${Le.displayName}`:"Connected":"Not connected":"Auth service not configured",os=[{key:"discord",name:"Discord",status:He?`Connected as ${(_t=Be==null?void 0:Be.displayName)!=null?_t:e.displayName}`:"Not connected",actionLabel:He?"Connected":"Connect",disabled:!0},{key:"google",name:"Google",status:vs,actionLabel:tt?"Connected":"Connect",disabled:tt||!fs,onClick:tt||!fs?void 0:fe},{key:"twitch",name:"Twitch",status:"Planned",actionLabel:"Soon",disabled:!0},{key:"youtube",name:"YouTube",status:"Planned",actionLabel:"Soon",disabled:!0}];return s.jsxs("section",{className:Me.card,children:[s.jsx("h2",{className:Me.cardTitle,children:"Connected services"}),s.jsx("p",{className:Me.cardSubtitle,children:"Manage which social logins are linked to your SFDataHub identity."}),s.jsx("div",{className:Me.serviceList,children:os.map(we=>s.jsxs("div",{className:Me.serviceRow,children:[s.jsxs("div",{children:[s.jsx("p",{className:Me.serviceName,children:we.name}),s.jsx("p",{className:Me.serviceStatus,children:we.status})]}),s.jsx("button",{type:"button",className:Me.serviceAction,disabled:we.disabled,onClick:we.onClick,children:we.actionLabel})]},we.key))})]})},Ve=()=>s.jsxs("section",{className:Me.card,children:[s.jsx("h2",{className:Me.cardTitle,children:"Security & session"}),s.jsx("p",{className:Me.securityText,children:"We only store your SFDataHub user ID, display name, avatar URL and provider identifiers (like your Discord ID). We never see or store your Discord or Google password."}),s.jsx("p",{className:Me.securityNote,children:"Logging out here only clears your SFDataHub session cookie. Your Discord or Google account stays signed in separately."}),s.jsx("button",{type:"button",className:Me.logoutButton,onClick:Z,children:"Log out from this device"}),s.jsx("p",{className:Me.securityNote,children:"To fully revoke access, remove SFDataHub Auth from your Discord applications page."})]}),ze=(Be,Le)=>{m&&(f(He=>({...He!=null?He:he,[Be]:Le})),w(!1))},st=!!(m&&y&&JSON.stringify(m)!==JSON.stringify(y)),at=!!(L&&N&&JSON.stringify(L)!==JSON.stringify(N)),mt=async()=>{if(!(!z||!m||D||!st))try{A(!0),P(null),await u0e(z,m),b(m),w(!0)}catch(Be){P(l("account.settings.saveError","Could not save settings. Please try again."))}finally{A(!1)}},Ut=(Be,Le)=>{L&&(C(He=>({...He!=null?He:{},[Be]:Le})),K(!1))},je=async()=>{if(!(!z||!L||B||!at))try{$(!0),H(null),await m0e(z,L),E(L),K(!0)}catch(Be){H(l("account.tools.save.error","Could not save settings. Please try again."))}finally{$(!1)}},Je=()=>{var Be,Le;return s.jsxs("section",{className:Me.card,children:[s.jsx("h2",{className:Me.cardTitle,children:l("account.settings.title","Settings")}),s.jsx("p",{className:Me.cardSubtitle,children:l("account.settings.subtitle","Configure your personal preferences.")}),_&&s.jsx("p",{className:Me.helperText,children:l("account.settings.loading","Loading settings...")}),k&&s.jsxs("div",{className:Me.feedbackError,children:[s.jsx("p",{children:k}),s.jsx("button",{type:"button",className:Me.secondaryButton,onClick:()=>{z&&(P(null),w(!1),S(!0),uC(z).then(He=>{const tt=He?{...he,...He}:he;f(tt),b(tt)}).catch(()=>{P(l("account.settings.error","Could not load settings."))}).finally(()=>S(!1)))},children:l("account.settings.retry","Retry")})]}),m&&!_&&s.jsxs("div",{className:Me.settingsForm,children:[s.jsxs("div",{className:Me.formRow,children:[s.jsx("label",{className:Me.nameLabel,htmlFor:"settings-language",children:l("account.settings.language.label","Preferred language")}),s.jsxs("select",{id:"settings-language",className:Me.selectInput,value:(Be=m.language)!=null?Be:he.language,onChange:He=>ze("language",He.target.value),children:[s.jsx("option",{value:"en",children:l("topbar.lang_en","English")}),s.jsx("option",{value:"de",children:l("topbar.lang_de","Deutsch")})]})]}),s.jsxs("div",{className:Me.formRow,children:[s.jsx("label",{className:Me.nameLabel,htmlFor:"settings-section",children:l("account.settings.defaultSection.label","Default section")}),s.jsxs("select",{id:"settings-section",className:Me.selectInput,value:(Le=m.defaultSection)!=null?Le:he.defaultSection,onChange:He=>ze("defaultSection",He.target.value),children:[s.jsx("option",{value:"home",children:l("nav.home","Home")}),s.jsx("option",{value:"toplists",children:l("nav.toplists","Top Lists")}),s.jsx("option",{value:"guilds",children:l("nav.guilds","Guilds")}),s.jsx("option",{value:"tools",children:l("nav.tools","Tools")}),s.jsx("option",{value:"community",children:l("nav.community","Community")})]})]}),s.jsxs("label",{className:Me.checkboxRow,children:[s.jsx("input",{type:"checkbox",checked:!!m.compactTables,onChange:He=>ze("compactTables",He.target.checked)}),s.jsx("span",{children:l("account.settings.compactTables.label","Use compact table layout")})]}),s.jsxs("label",{className:Me.checkboxRow,children:[s.jsx("input",{type:"checkbox",checked:!!m.showExperimentalFeatures,onChange:He=>ze("showExperimentalFeatures",He.target.checked)}),s.jsx("span",{children:l("account.settings.experimental.label","Enable experimental features")})]})]}),s.jsxs("div",{className:Me.settingsFooter,children:[s.jsxs("div",{className:Me.inlineStatus,children:[v?s.jsx("span",{className:Me.feedbackSuccess,children:l("account.settings.saved","Settings saved.")}):st?null:s.jsx("span",{className:Me.helperText,children:l("account.settings.noChanges","No changes to save.")}),D&&s.jsx("span",{className:Me.helperText,children:l("account.settings.saving","Saving...")})]}),s.jsx("button",{type:"button",className:Me.primaryButton,disabled:!st||D||!m,onClick:mt,children:l("account.settings.save","Save settings")})]})]})},Ke=()=>{const Be=[{key:"overview",label:l("account.tabs.overview","Overview")},{key:"settings",label:l("account.tabs.settings","Settings")},{key:"tools",label:l("account.tabs.tools","Tools")},{key:"connected-characters",label:l("account.tabs.connectedCharacters","Connected characters")}];return s.jsx("div",{className:Me.tabs,role:"tablist","aria-label":"Account sections",children:Be.map(Le=>{const He=u===Le.key;return s.jsx("button",{type:"button",className:`${Me.tab} ${He?Me.tabActive:""}`,onClick:()=>{h(Le.key),ye(Le.key,{openHelp:Le.key==="connected-characters"&&ae})},role:"tab","aria-selected":He,children:Le.label},Le.key)})})},yt=()=>{var Be;if(!e)return null;switch(u){case"overview":return s.jsxs(s.Fragment,{children:[s.jsx(x0e,{user:e,refreshSession:r}),Ee(),Ve()]});case"settings":return Je();case"tools":return s.jsxs("section",{className:Me.card,children:[s.jsx("h2",{className:Me.cardTitle,children:l("account.tools.title","Tools settings")}),s.jsx("p",{className:Me.cardSubtitle,children:l("account.tools.subtitle","Configure how tools behave for your account.")}),F&&s.jsx("p",{className:Me.helperText,children:l("account.tools.loading","Loading tools settings...")}),U&&s.jsx("p",{className:Me.feedbackError,children:U}),L&&!F&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Me.settingsForm,children:[s.jsxs("div",{className:Me.formRow,children:[s.jsx("label",{className:Me.nameLabel,htmlFor:"tools-default-set",children:l("account.tools.defaultSet.label","Default set ID")}),s.jsx("input",{id:"tools-default-set",type:"text",className:Me.nameInput,value:(Be=L.defaultSetId)!=null?Be:"",onChange:Le=>Ut("defaultSetId",Le.target.value),placeholder:l("account.tools.defaultSet.placeholder","Enter a default set ID")})]}),s.jsxs("label",{className:Me.checkboxRow,children:[s.jsx("input",{type:"checkbox",checked:!!L.showToolsIntro,onChange:Le=>Ut("showToolsIntro",Le.target.checked)}),s.jsx("span",{children:l("account.tools.showIntro.label","Show tools intro")})]}),s.jsxs("label",{className:Me.checkboxRow,children:[s.jsx("input",{type:"checkbox",checked:!!L.enableExperimentalTools,onChange:Le=>Ut("enableExperimentalTools",Le.target.checked)}),s.jsx("span",{children:l("account.tools.experimental.label","Enable experimental tools")})]})]}),s.jsxs("div",{className:Me.settingsFooter,children:[s.jsxs("div",{className:Me.inlineStatus,children:[W?s.jsx("span",{className:Me.feedbackSuccess,children:l("account.tools.save.success","Settings saved.")}):at?null:s.jsx("span",{className:Me.helperText,children:l("account.tools.save.noChanges","No changes to save.")}),B&&s.jsx("span",{className:Me.helperText,children:l("account.tools.save.saving","Saving...")})]}),s.jsx("button",{type:"button",className:Me.primaryButton,disabled:F||B||!at||!L,onClick:je,children:l("account.tools.save.cta","Save settings")})]})]})]});case"connected-characters":return s.jsx(d0e,{user:e,refreshSession:r,openHelp:ae});default:return null}},kt=()=>se?oe():ne?s.jsxs(s.Fragment,{children:[Ke(),yt()]}):_e();return s.jsx(Vt,{title:"Account & Profile",subtitle:"Manage your SFDataHub identity and connected services.",centerFramed:!0,children:s.jsxs("div",{className:Me.page,children:[ve(),kt()]})})};function x0e({user:t,refreshSession:e}){var L;const[n,r]=T.useState(()=>{var C;return(C=t==null?void 0:t.displayName)!=null?C:""}),[i,a]=T.useState(!1),[l,c]=T.useState(null),[u,h]=T.useState(!1),m=(t==null?void 0:t.avatarUrl)||p0e,f=(t==null?void 0:t.provider)==="google"?"Google":"Discord",y=(L=t==null?void 0:t.displayName)!=null?L:"",b=n.trim(),_=b.length===0||b.length>=hC&&b.length<=mC,S=!!t&&b.length>0&&b!==y,k=!!(yf&&_&&S&&!i),P=b.length>0&&!_?`Name must be between ${hC} and ${mC} characters.`:null;T.useEffect(()=>{var C;r((C=t==null?void 0:t.displayName)!=null?C:""),h(!1),c(null)},[t==null?void 0:t.id,t==null?void 0:t.displayName]);const D=T.useMemo(()=>{var C;return t?[{label:"SFDataHub ID",value:t.id},(C=t.roles)!=null&&C.length?{label:"Roles",value:t.roles.join(", ")}:null,t.createdAt?{label:"Created at",value:pC(t.createdAt)}:null,t.lastLoginAt?{label:"Last login",value:pC(t.lastLoginAt)}:null].filter(N=>!!(N!=null&&N.value)):[]},[t]),A=async()=>{var C,N;if(!k||!yf){yf||c("Auth service is not configured.");return}try{a(!0),c(null),h(!1);const E=await fetch(yf,{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({displayName:b})});if(!E.ok){const F=await E.json().catch(()=>null);throw new Error((C=F==null?void 0:F.error)!=null?C:"Failed to update name.")}await e(),h(!0),r(b)}catch(E){const F=(N=E==null?void 0:E.message)!=null?N:"Failed to update name.";c(F)}finally{a(!1)}},v=C=>{C.key==="Enter"&&(C.preventDefault(),k&&A())},w=()=>{k&&A()};return t?s.jsxs("section",{className:Me.card,children:[s.jsxs("div",{className:Me.identityHeader,children:[s.jsx("img",{src:m,alt:"",className:Me.identityAvatar}),s.jsxs("div",{children:[s.jsx("p",{className:Me.identityName,children:t.displayName||"Unbenannter Nutzer"}),s.jsxs("p",{className:Me.identityProvider,children:[f," sign-in"]})]}),s.jsx("span",{className:Me.statusBadge,children:"Verified"})]}),s.jsxs("div",{className:Me.identityForm,children:[s.jsxs("div",{className:Me.nameInputWrap,children:[s.jsx("label",{className:Me.nameLabel,children:"Display name"}),s.jsx("input",{type:"text",className:Me.nameInput,value:n,onChange:C=>r(C.target.value),onKeyDown:v,onBlur:w,placeholder:"Enter your display name"})]}),s.jsx("button",{type:"button",className:Me.nameSaveButton,disabled:!k,onClick:A,children:i?"Saving...":"Save"})]}),P&&s.jsx("p",{className:Me.feedbackError,children:P}),l&&s.jsx("p",{className:Me.feedbackError,children:l}),u&&s.jsx("p",{className:Me.feedbackSuccess,children:"Name updated."}),D.length>0&&s.jsx("div",{className:Me.metaGrid,children:D.map(C=>s.jsxs("div",{className:Me.metaItem,children:[s.jsx("span",{className:Me.metaLabel,children:C.label}),s.jsx("span",{className:Me.metaValue,children:C.value})]},C.label))})]}):null}const Bt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function v0e(){const{t}=wa();return s.jsx("div",{style:Bt.wrap,children:s.jsxs("div",{style:Bt.grid,children:[s.jsxs("aside",{style:Bt.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:Bt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:Bt.groupLabel,children:"Allgemein"}),s.jsx(Ns,{to:"list-views",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"List-View Switcher"}),s.jsx(Ns,{to:"rescan-widget",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(Ns,{to:"upload-sim",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"Upload Simulator"}),s.jsx(Ns,{to:"hud/game-buttons",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"HUD  Game Buttons"}),s.jsx(Ns,{to:"theme-maker",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"Theme / Template Maker"}),s.jsx(Ns,{to:"theme-maker-pro",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx(Ns,{to:"gamified",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:t("playground.tabs.gamified",{defaultValue:"Gamified"})}),s.jsx(Ns,{to:"gamified-2",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:t("playground.tabs.gamified2",{defaultValue:"Gamified 2"})}),s.jsx(Ns,{to:"gamified-3",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:t("playground.tabs.gamified3",{defaultValue:"Gamified 3"})}),s.jsx("div",{style:Bt.groupLabel,children:"Templates"}),s.jsx(Ns,{to:"templates/content-shell",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"ContentShell Template"}),s.jsx(Ns,{to:"templates/blank",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"Leere Vorlage"}),s.jsx(Ns,{to:"templates/blank-alt",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"Leere Vorlage (Neu)"}),s.jsx(Ns,{to:"templates/blank-layout-2",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"Leere Vorlage  Layout 2"}),s.jsx(Ns,{to:"templates/blank-layout-3",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"Leere Vorlage  Layout 3"}),s.jsx(Ns,{to:"templates/blank-layout-4",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"Leere Vorlage  Layout 4"}),s.jsx("div",{style:Bt.groupLabel,children:"Guide Hub Demos"}),s.jsx(Ns,{to:"am-rune-bonuses-demos",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),s.jsx("div",{style:Bt.groupLabel,children:"Graphics / Portraits"}),s.jsx(Ns,{to:"portrait-maker",style:({isActive:e})=>({...Bt.link,...e?Bt.active:{}}),children:"PortraitMaker Demo"})]})]}),s.jsx("section",{style:Bt.tile,children:s.jsx(x3,{})})]})})}const y0e="_page_1kokx_1",b0e="_topBar_1kokx_17",_0e="_tabs_1kokx_31",w0e="_tab_1kokx_31",j0e="_tabActive_1kokx_63",S0e="_searchWrap_1kokx_73",N0e="_input_1kokx_85",k0e="_stickyIcons_1kokx_105",C0e="_iconBtn_1kokx_129",T0e="_tableWrap_1kokx_161",A0e="_table_1kokx_161",E0e="_th_1kokx_181",I0e="_td_1kokx_181",R0e="_row_1kokx_201",P0e="_chips_1kokx_219",L0e="_chip_1kokx_219",D0e="_badges_1kokx_249",M0e="_badge_1kokx_249",F0e="_badgeMax_1kokx_275",B0e="_badgeAchiev_1kokx_277",$0e="_badgeX2_1kokx_279",O0e="_badgeX12_1kokx_281",V0e="_badgeX60_1kokx_283",U0e="_section_1kokx_289",z0e="_sectionHeader_1kokx_297",H0e="_cardList_1kokx_315",G0e="_card_1kokx_315",W0e="_cardMax_1kokx_353",q0e="_iconXL_1kokx_355",K0e="_split_1kokx_369",Q0e="_left_1kokx_379",X0e="_leftBtn_1kokx_399",Y0e="_leftBtnActive_1kokx_411",J0e="_detail_1kokx_413",Z0e="_grid_1kokx_433",e1e="_tile_1kokx_443",t1e="_drawer_1kokx_457",s1e="_timeline_1kokx_487",n1e="_node_1kokx_493",r1e="_dot_1kokx_501",jt={page:y0e,topBar:b0e,tabs:_0e,tab:w0e,tabActive:j0e,searchWrap:S0e,input:N0e,stickyIcons:k0e,iconBtn:C0e,tableWrap:T0e,table:A0e,th:E0e,td:I0e,row:R0e,chips:P0e,chip:L0e,badges:D0e,badge:M0e,badgeMax:F0e,badgeAchiev:B0e,badgeX2:$0e,badgeX12:O0e,badgeX60:V0e,section:U0e,sectionHeader:z0e,cardList:H0e,card:G0e,cardMax:W0e,iconXL:q0e,split:K0e,left:Q0e,leftBtn:X0e,leftBtnActive:Y0e,detail:J0e,grid:Z0e,tile:e1e,drawer:t1e,timeline:s1e,node:n1e,dot:r1e},fC=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function bi(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function i1e(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function a1e(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function Eg({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:jt.iconBtn,title:t||"Rune",children:e})}function $_({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:jt.iconXL,title:t||"Rune",children:e})}function o1e(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function km({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:jt.chips,children:e.map((n,r)=>s.jsx("span",{className:jt.chip,children:n},r))})}function Cm({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:jt.badgeMax}),i1e(t)&&n.push({label:"Achievement",cls:jt.badgeAchiev});const r=a1e(t);return r==="x2"&&n.push({label:"x2",cls:jt.badgeX2}),r==="x12"&&n.push({label:"x12",cls:jt.badgeX12}),r==="x60"&&n.push({label:"x60",cls:jt.badgeX60}),n.length===0?null:s.jsx("div",{className:jt.badges,children:n.map((i,a)=>{var l;return s.jsx("span",{className:`${jt.badge} ${(l=i.cls)!=null?l:""}`,children:i.label},a)})})}function l1e(t){const e=t.trim().toLowerCase();return e?fC.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):fC}function c1e({data:t}){const e=Math.max(...t.map(i=>bi(i.amount))),n=T.useMemo(()=>Array.from(new Set(t.map(i=>i.tier||"(no tier)"))),[t]);function r(i){const a=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);a&&a.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:jt.stickyIcons,children:n.map((i,a)=>s.jsx("div",{onClick:()=>r(i),children:s.jsx(Eg,{label:i||"(no tier)"})},a))}),s.jsx("div",{className:jt.tableWrap,children:s.jsxs("table",{className:jt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:jt.th,style:{width:42}}),s.jsx("th",{className:jt.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:jt.th,children:"Bonuses"}),s.jsx("th",{className:jt.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((i,a)=>{const l=Math.abs(bi(i.amount)-e)<1e-6;return s.jsxs("tr",{className:jt.row,"data-tier":i.tier||"(no tier)",children:[s.jsx("td",{className:jt.td,children:s.jsx(Eg,{label:i.tier||""})}),s.jsx("td",{className:jt.td,children:i.amount}),s.jsx("td",{className:jt.td,children:s.jsx(km,{r:i})}),s.jsx("td",{className:jt.td,children:s.jsx(Cm,{r:i,isMax:l})})]},a)})})]})})]})}function d1e({data:t}){const e=o1e(t),n=Math.max(...t.map(r=>bi(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,i])=>s.jsxs("section",{className:jt.section,children:[s.jsx("div",{className:jt.sectionHeader,children:r}),s.jsx("div",{className:jt.cardList,children:i.map((a,l)=>{const c=Math.abs(bi(a.amount)-n)<1e-6;return s.jsxs("div",{className:`${jt.card} ${c?jt.cardMax:""}`,children:[s.jsx($_,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:a.amount}),s.jsx(Cm,{r:a,isMax:c})]}),s.jsx(km,{r:a})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},l)})})]},r))})}function u1e({data:t}){var l;const e=Array.from(new Set(t.map(c=>c.tier||"(no tier)"))),[n,r]=T.useState((l=e[0])!=null?l:""),i=t.filter(c=>(c.tier||"(no tier)")===n),a=Math.max(...t.map(c=>bi(c.amount)));return s.jsxs("div",{className:jt.split,children:[s.jsx("div",{className:jt.left,children:e.map(c=>s.jsxs("button",{className:`${jt.leftBtn} ${c===n?jt.leftBtnActive:""}`,onClick:()=>r(c),children:[s.jsx(Eg,{label:c}),s.jsx("span",{children:c})]},c))}),s.jsxs("div",{className:jt.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx($_,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((c,u)=>{const h=Math.abs(bi(c.amount)-a)<1e-6;return s.jsxs("div",{className:jt.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:c.amount}),s.jsx(Cm,{r:c,isMax:h})]}),s.jsx(km,{r:c})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},u)})]})]})}function h1e({data:t}){const[e,n]=T.useState(null),r=Math.max(...t.map(i=>bi(i.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:jt.grid,children:t.map((i,a)=>s.jsx("div",{className:jt.tile,onClick:()=>n(i),title:i.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(Eg,{label:i.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},a))}),e&&s.jsxs("div",{className:jt.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx($_,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:jt.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(Cm,{r:e,isMax:Math.abs(bi(e.amount)-r)<1e-6})}),s.jsx(km,{r:e})]})]})}function m1e({data:t}){const e=Math.max(...t.map(r=>bi(r.amount))),n=[...t].sort((r,i)=>bi(r.amount)-bi(i.amount));return s.jsx("div",{className:jt.timeline,children:n.map((r,i)=>{const a=Math.abs(bi(r.amount)-e)<1e-6;return s.jsxs("div",{className:jt.node,children:[s.jsx("div",{className:jt.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(Cm,{r,isMax:a})]}),s.jsx(km,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const p1e=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function f1e(){const[t,e]=T.useState("A: Compact Table"),[n,r]=T.useState(""),i=l1e(n);return s.jsxs("div",{className:jt.page,children:[s.jsxs("div",{className:jt.topBar,children:[s.jsx("div",{className:jt.tabs,children:p1e.map(a=>s.jsx("button",{onClick:()=>e(a),className:`${jt.tab} ${t===a?jt.tabActive:""}`,children:a},a))}),s.jsx("div",{className:jt.searchWrap,children:s.jsx("input",{className:jt.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:a=>r(a.target.value)})})]}),t==="A: Compact Table"&&s.jsx(c1e,{data:i}),t==="B: Card Track"&&s.jsx(d1e,{data:i}),t==="C: Two-Pane"&&s.jsx(u1e,{data:i}),t==="D: Icon Grid + Drawer"&&s.jsx(h1e,{data:i}),t==="E: Timeline"&&s.jsx(m1e,{data:i})]})}function g1e(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(Ns,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const Se={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},x1e=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),nc={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function v1e(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function cu(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",v1e(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function t4(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},a={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},l={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},c={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},u={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},h={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},m={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},f={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},y={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},b={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:a,gold:l,obsidian:c,neon:u,plasma:h,aurora:m,satin:f,matte:y,holo:b}[t.material]}function yl(t){const e={color:Se.title,borderColor:Se.border,...t4(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const Tm=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function du({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function y1e({fx:t,children:e}){const n=cu(t),r=yl(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx(du,{fx:t,clip:i}),t.withIcon&&s.jsx(S3,{size:16,className:"relative z-10"}),s.jsx(Tm,{children:e})]})}function b1e({fx:t,children:e}){const n=cu(t),r=yl(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(du,{fx:t,clip:i}),t.withIcon&&s.jsx(N3,{size:16,className:"relative z-10"}),s.jsx(Tm,{children:e})]})}function _1e({fx:t,children:e}){const n=cu(t),r=yl(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(du,{fx:t,clip:i}),t.withIcon&&s.jsx(bc,{size:16,className:"relative z-10"}),s.jsx(Tm,{children:e})]})}function w1e({fx:t,children:e}){const n=cu(t),r=yl(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${Se.tile}, ${Se.active})`}}),s.jsx(du,{fx:t,clip:i}),t.withIcon&&s.jsx(k3,{size:16,className:"relative z-10"}),s.jsx(Tm,{children:e})]})}function j1e({fx:t,children:e}){const n=cu(t),r=yl(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx(du,{fx:t}),t.withIcon&&s.jsx($g,{size:16,className:"relative z-10"}),s.jsx(Tm,{children:e})]})}function S1e({fx:t,tabs:e}){const[n,r]=T.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:Se.tile,border:t.baseBorder?`1px solid ${Se.border}`:"0 solid transparent"},children:e.map((i,a)=>s.jsxs("button",{onClick:()=>r(a),className:`px-4 py-2 rounded-lg text-sm transition-colors ${a===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:a===n?Se.active:"transparent",border:a===n&&t.baseBorder?`1px solid ${Se.border}`:"0 solid transparent"},children:[t.withIcon&&a===n&&s.jsx($g,{size:14,className:"inline mr-1"}),i]},a))})}function N1e({fx:t}){const e=cu(t),n=yl(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(A3,{})})}const C1={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function k1e({fx:t,setFx:e}){const n=(c,u)=>e(h=>({...h,[c]:u})),r=c=>e(u=>({...u,[c]:!u[c]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],a=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],l=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:Se.tile,border:t.baseBorder?`1px solid ${Se.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${Se.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:Se.title},children:"Presets"}),Object.keys(C1).map(c=>s.jsx("button",{onClick:()=>e(u=>C1[c](u)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:Se.btn,borderColor:Se.border,color:Se.title},children:c},c))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${Se.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:Se.title},children:"Material"}),i.map(c=>s.jsx("button",{onClick:()=>n("material",c),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===c?"":"opacity-70"}`,style:{backgroundColor:t.material===c?Se.active:Se.btn,borderColor:Se.border,color:Se.title},children:c},c)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:Se.title},children:"Size"}),["sm","md","lg"].map(c=>s.jsx("button",{onClick:()=>n("size",c),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===c?"":"opacity-70"}`,style:{backgroundColor:t.size===c?Se.active:Se.btn,borderColor:Se.border,color:Se.title},children:c.toUpperCase()},c)),s.jsx("button",{onClick:()=>e(c=>({...c,withIcon:!c.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?Se.active:Se.btn,borderColor:Se.border,color:Se.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(c=>({...c,disabled:!c.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?Se.active:Se.btn,borderColor:Se.border,color:Se.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${Se.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:Se.title},children:"Core FX"}),a.map(([c,u])=>s.jsx("button",{onClick:()=>r(c),className:`px-2.5 py-1 rounded-md border text-xs ${t[c]?"":"opacity-70"}`,style:{backgroundColor:t[c]?Se.active:Se.btn,borderColor:Se.border,color:Se.title},children:u},c))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:Se.title},children:"Advanced"}),l.map(([c,u])=>s.jsx("button",{onClick:()=>r(c),className:`px-2.5 py-1 rounded-md border text-xs ${t[c]?"":"opacity-70"}`,style:{backgroundColor:t[c]?Se.active:Se.btn,borderColor:Se.border,color:Se.title},children:u},c))]}),s.jsx("button",{onClick:()=>e(nc),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:Se.btn,borderColor:Se.border,color:Se.title},children:"Reset"})]})}function As({fx:t,className:e="",style:n={},children:r,clip:i}){const a=yl(t);return s.jsxs("div",{className:`relative ${e}`,style:{...a,...n},children:[s.jsx(du,{fx:t,clip:i}),s.jsx("div",{className:"relative z-10",children:r})]})}function wr({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:Se.tile,border:t.baseBorder?`1px solid ${Se.border}`:"0 solid transparent"},children:n})}function C1e({fx:t}){const[e,n]=T.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(wr,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const a=e.includes(i);return s.jsx(As,{fx:t,className:`rounded-full border ${a?"":"opacity-80"}`,style:{borderColor:Se.border},children:s.jsx("button",{onClick:()=>n(l=>a?l.filter(c=>c!==i):[...l,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function T1e({fx:t}){return s.jsxs(wr,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:Se.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(As,{fx:t,className:"rounded-xl border p-2",style:{borderColor:Se.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(A3,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function A1e({fx:t}){return s.jsxs(As,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${Se.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(As,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:Se.border},children:e},e))})]})}function E1e({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(wr,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(As,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:Se.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function I1e({fx:t}){const[e,n]=T.useState(.66);return s.jsxs(wr,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"Meter / Energy Bar"}),s.jsx(As,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:Se.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(As,{fx:t,className:"rounded-md border",style:{borderColor:Se.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function R1e({fx:t}){return s.jsxs(wr,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:Se.title},children:"Badge / Medal"}),s.jsxs(As,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:Se.border},children:[s.jsx(bc,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function P1e({fx:t}){const[e,n]=T.useState(!1);return s.jsxs(wr,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:Se.title},children:"Toast / Notification"}),s.jsx(As,{fx:t,className:"rounded-md border",style:{borderColor:Se.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(As,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:Se.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function L1e({fx:t}){const[e,n]=T.useState(!0);return s.jsxs(wr,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:Se.title},children:"Toggle Switch"}),s.jsxs(As,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:Se.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function D1e({fx:t}){const[e,n]=T.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(wr,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"Dropdown HUD"}),s.jsx(As,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:Se.border},children:s.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(As,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:Se.border},children:r.map(i=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function M1e({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(wr,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${Se.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,a=56,l=56+Math.cos(i)*a,c=56+Math.sin(i)*a;return s.jsx(As,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:l,top:c,borderColor:Se.border},children:n},n)}),s.jsx(As,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:Se.border},children:"Menu"})]})]})}function F1e({fx:t}){const e=[1,2,3,4,5],[n,r]=T.useState(2);return s.jsxs(wr,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>s.jsx(As,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:Se.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function B1e({fx:t}){const[e,n]=T.useState(!1);return s.jsxs(wr,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:Se.title},children:"Modal HUD"}),s.jsx(As,{fx:t,className:"rounded-md border",style:{borderColor:Se.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(As,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:Se.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(As,{fx:t,className:"rounded-md border",style:{borderColor:Se.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(As,{fx:t,className:"rounded-md border",style:{borderColor:Se.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function $1e({fx:t}){const[e,n]=T.useState("");return s.jsxs(wr,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"Search HUD"}),s.jsx(As,{fx:t,className:"rounded-lg border p-2",style:{borderColor:Se.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function O1e({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=T.useState("Bravo");return s.jsxs(wr,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(i=>s.jsx(As,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:Se.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function V1e({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=T.useState(1);return s.jsxs(wr,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((i,a)=>s.jsxs(X.Fragment,{children:[s.jsx(As,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${a<=n?"":"opacity-70"}`,style:{borderColor:Se.border},children:a+1}),a<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(As,{fx:t,className:"rounded-md border",style:{borderColor:Se.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(As,{fx:t,className:"rounded-md border",style:{borderColor:Se.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function U1e({fx:t}){const e=["","","","","",""];return s.jsxs(wr,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:Se.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(As,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:Se.border},children:n},r))})]})}function z1e(){const[t,e]=T.useState(nc);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:Se.bg,color:Se.txt},children:[s.jsx(x1e,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tD,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:Se.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:Se.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx(k1e,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:Se.tile,border:t.baseBorder?`1px solid ${Se.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:Se.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(y1e,{fx:t,children:[s.jsx(S3,{size:16})," Diamond"]}),s.jsxs(b1e,{fx:t,children:[s.jsx(N3,{size:16})," Hex"]}),s.jsxs(_1e,{fx:t,children:[s.jsx(bc,{size:16})," Octagon/Shield"]}),s.jsxs(w1e,{fx:t,children:[s.jsx(k3,{size:16})," Shard"]}),s.jsxs(j1e,{fx:t,children:[s.jsx($g,{size:16})," Pill/Chip"]}),s.jsx(N1e,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:Se.tile,border:t.baseBorder?`1px solid ${Se.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:Se.title},children:"Tabs"}),s.jsx(S1e,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:Se.tile,border:t.baseBorder?`1px solid ${Se.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:Se.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(C1e,{fx:t}),s.jsx(T1e,{fx:t}),s.jsx(A1e,{fx:t}),s.jsx(E1e,{fx:t}),s.jsx(I1e,{fx:t}),s.jsx(R1e,{fx:t}),s.jsx(P1e,{fx:t}),s.jsx(L1e,{fx:t}),s.jsx(D1e,{fx:t}),s.jsx(M1e,{fx:t}),s.jsx(F1e,{fx:t}),s.jsx(B1e,{fx:t}),s.jsx($1e,{fx:t}),s.jsx(O1e,{fx:t}),s.jsx(V1e,{fx:t}),s.jsx(U1e,{fx:t})]})]})}),s.jsx(H1e,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:Se.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function H1e(){return T.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(nc.material),"Material type present");const e=yl(nc);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=t4({...nc,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof nc[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(C1).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const a=i({...nc});console.assert(a&&typeof a=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const Rh={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},gC={Arcade:{...Rh,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...Rh,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},hd={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},s4={display:"grid",gap:8,alignItems:"center"};function Oa({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...s4,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function g0({label:t,value:e,min:n,max:r,onChange:i}){return s.jsxs("label",{style:{...s4,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:a=>i(parseInt(a.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:a=>i(parseInt(a.target.value||"0"))})]})}function xC(){const[t,e]=X.useState(Rh),n=X.useRef(null),r=u=>{const h=n.current;h&&(h.style.setProperty("--page",u.page),h.style.setProperty("--tile",u.tile),h.style.setProperty("--tile-hover",u.tileHover),h.style.setProperty("--nav",u.nav),h.style.setProperty("--active",u.active),h.style.setProperty("--text",u.text),h.style.setProperty("--text-soft",u.textSoft),h.style.setProperty("--title",u.title),h.style.setProperty("--line",u.line),h.style.setProperty("--radius",`${u.radius}px`),h.style.setProperty("--shadow",`0 8px ${u.shadow}px rgba(0,0,0,0.25)`),h.style.setProperty("--gap",`${u.gap}px`))};X.useEffect(()=>{r(t)},[t]);const i=u=>e(gC[u]),a=()=>e(Rh),l=()=>{const u=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),h=document.createElement("a");h.href=URL.createObjectURL(u),h.download="sfdatahub-theme.json",h.click()},c=async u=>{const h=await u.text();e({...Rh,...JSON.parse(h)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(gC).map(u=>s.jsx("button",{style:hd,onClick:()=>i(u),children:u},u)),s.jsx("button",{style:hd,onClick:a,children:"Default"}),s.jsx("button",{style:hd,onClick:l,children:"Export JSON"}),s.jsxs("label",{style:{...hd,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:u=>u.target.files&&c(u.target.files[0]),style:{display:"none"}})]})]}),s.jsx(Oa,{label:"Page",value:t.page,onChange:u=>e(h=>({...h,page:u}))}),s.jsx(Oa,{label:"Tile",value:t.tile,onChange:u=>e(h=>({...h,tile:u}))}),s.jsx(Oa,{label:"Tile Hover",value:t.tileHover,onChange:u=>e(h=>({...h,tileHover:u}))}),s.jsx(Oa,{label:"Nav",value:t.nav,onChange:u=>e(h=>({...h,nav:u}))}),s.jsx(Oa,{label:"Active",value:t.active,onChange:u=>e(h=>({...h,active:u}))}),s.jsx(Oa,{label:"Text",value:t.text,onChange:u=>e(h=>({...h,text:u}))}),s.jsx(Oa,{label:"Text Soft",value:t.textSoft,onChange:u=>e(h=>({...h,textSoft:u}))}),s.jsx(Oa,{label:"Title",value:t.title,onChange:u=>e(h=>({...h,title:u}))}),s.jsx(Oa,{label:"Line",value:t.line,onChange:u=>e(h=>({...h,line:u}))}),s.jsx(g0,{label:"Radius",value:t.radius,min:8,max:28,onChange:u=>e(h=>({...h,radius:u}))}),s.jsx(g0,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:u=>e(h=>({...h,shadow:u}))}),s.jsx(g0,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:u=>e(h=>({...h,gap:u}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{...hd,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:hd,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((u,h)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",h+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},h))})]})]})]})}const T1={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},vC={"SFDataHub (Default)":{...T1},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},Sx={display:"grid",gap:8,alignItems:"center"},Ql={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},Xl={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function gi({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...Sx,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Va({label:t,value:e,min:n,max:r,step:i=1,onChange:a,suffix:l}){return s.jsxs("label",{style:{...Sx,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:c=>a(parseFloat(c.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:c=>a(parseFloat(c.target.value||"0"))})]})}function G1e({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{...Sx,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function yC(){const[t,e]=X.useState(T1),n=X.useRef(null),r=h=>{const m=n.current;m&&(m.style.setProperty("--page",h.page),m.style.setProperty("--tile",h.tile),m.style.setProperty("--tile-hover",h.tileHover),m.style.setProperty("--nav",h.nav),m.style.setProperty("--active",h.active),m.style.setProperty("--text",h.text),m.style.setProperty("--text-soft",h.textSoft),m.style.setProperty("--title",h.title),m.style.setProperty("--line",h.line),m.style.setProperty("--accent",h.accent),m.style.setProperty("--success",h.success),m.style.setProperty("--warning",h.warning),m.style.setProperty("--danger",h.danger),m.style.setProperty("--radius",`${h.radius}px`),m.style.setProperty("--border",`${h.border}px`),m.style.setProperty("--gap",`${h.gap}px`),m.style.setProperty("--shadow",`0 10px ${h.shadow}px rgba(0,0,0,0.30)`),m.style.setProperty("--surface-opacity",`${h.surfaceOpacity}%`),m.style.setProperty("--noise",`${h.noise}%`),m.style.setProperty("--font",h.fontFamily),m.style.setProperty("--font-size",`${h.fontSize}px`),m.style.setProperty("--heading-tight",h.headingsTight?"1.1":"1.3"),m.style.setProperty("--glow",`${h.glow}`),m.style.setProperty("--scanlines",`${h.scanlines}`))};X.useEffect(()=>{r(t)},[t]);const i=(h,m)=>e(f=>({...f,[h]:m})),a=h=>e(m=>({...m,...vC[h]})),l=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(h),m.download="sfdatahub-theme-pro.json",m.click()},c=async h=>{try{const m=await h.text(),f=JSON.parse(m);e({...t,...f})}catch(m){}},u={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(vC).map(h=>s.jsx("button",{style:Ql,onClick:()=>a(h),children:h},h)),s.jsx("button",{style:Ql,onClick:()=>e(T1),children:"Reset"}),s.jsx("button",{style:Ql,onClick:l,children:"Export"}),s.jsxs("label",{style:{...Ql,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:h=>h.target.files&&c(h.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(gi,{label:"Page",value:t.page,onChange:h=>i("page",h)}),s.jsx(gi,{label:"Tile",value:t.tile,onChange:h=>i("tile",h)}),s.jsx(gi,{label:"Tile Hover",value:t.tileHover,onChange:h=>i("tileHover",h)}),s.jsx(gi,{label:"Active",value:t.active,onChange:h=>i("active",h)}),s.jsx(gi,{label:"Text",value:t.text,onChange:h=>i("text",h)}),s.jsx(gi,{label:"Text Soft",value:t.textSoft,onChange:h=>i("textSoft",h)}),s.jsx(gi,{label:"Title",value:t.title,onChange:h=>i("title",h)}),s.jsx(gi,{label:"Line",value:t.line,onChange:h=>i("line",h)}),s.jsx(gi,{label:"Accent",value:t.accent,onChange:h=>i("accent",h)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(gi,{label:"Success",value:t.success,onChange:h=>i("success",h)}),s.jsx(gi,{label:"Warning",value:t.warning,onChange:h=>i("warning",h)}),s.jsx(gi,{label:"Danger",value:t.danger,onChange:h=>i("danger",h)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Va,{label:"Radius",min:0,max:28,value:t.radius,onChange:h=>i("radius",h)}),s.jsx(Va,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:h=>i("border",h)}),s.jsx(Va,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:h=>i("gap",h)}),s.jsx(Va,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:h=>i("shadow",h)}),s.jsx(Va,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:h=>i("surfaceOpacity",h),suffix:"%"}),s.jsx(Va,{label:"Noise",min:0,max:20,value:t.noise,onChange:h=>i("noise",h),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{...Sx,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:h=>i("fontFamily",h.target.value)})]}),s.jsx(Va,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:h=>i("fontSize",h)}),s.jsx(G1e,{label:"Headings tighter",checked:t.headingsTight,onChange:h=>i("headingsTight",h)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Va,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:h=>i("glow",h)}),s.jsx(Va,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:h=>i("scanlines",h)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:Xl,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...Xl,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...Xl,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...Xl,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:Xl,children:["Radius: ",t.radius]}),s.jsxs("span",{style:Xl,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:Xl,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:u.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[u.className,"  ",u.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",u.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:u.level,pct:u.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:u.scrapbook+"%",pct:u.scrapbook/100,color:"var(--success)"},{label:"Power",value:u.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:u.activity+"%",pct:u.activity/100,color:"var(--accent)"}].map((h,m)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:h.label}),s.jsx("span",{style:{color:"var(--title)"},children:h.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(h.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${h.color} 75%, transparent), ${h.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${h.color} 40%, transparent)`}})})]},m))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...Ql,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...Ql,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((h,m)=>s.jsx("button",{style:{...Ql,background:m===0?"var(--tile-hover)":"transparent",borderColor:m===0?"var(--active)":"var(--line)",boxShadow:m===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:h},h))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((h,m)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:h.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:h.v}),s.jsx("div",{style:{fontSize:12,color:h.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:h.trend})]},m))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((h,m)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:m%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:h[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:h[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:h[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:h[2]})]},m))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const Lt={wrap:{color:"#F5F9FF"},intro:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,marginBottom:14},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:14},card:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)",minHeight:160,display:"flex",flexDirection:"column",gap:10},header:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},sub:{color:"#B0C4D9",fontSize:13,lineHeight:1.4},badgeRow:{display:"flex",gap:6,flexWrap:"wrap"}},Oi=(t,e="#1E3A5C")=>s.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"2px 8px",fontSize:11,borderRadius:999,background:e,border:"1px solid rgba(255,255,255,.12)",color:"#D9E7FF",textTransform:"uppercase",letterSpacing:.4},children:t}),Zr=()=>s.jsxs("div",{style:Lt.badgeRow,children:[Oi("mock"),Oi("concept","#234569"),Oi("ui","#1F4D67")]}),bC={common:"#1f3b5d",rare:"#234f7a",epic:"#3c2f6d",legendary:"#6b3b0f"};function W1e(){const t=[{title:"Data Whisperer",rarity:"epic",status:"Unlocked"},{title:"Perfect Sync",rarity:"rare",status:"Unlocked"},{title:"Zero Downtime",rarity:"legendary",status:"Locked"},{title:"Scout Elite",rarity:"common",status:"Unlocked"},{title:"API Ranger",rarity:"rare",status:"Locked"},{title:"Schema Sleuth",rarity:"epic",status:"Unlocked"}],e=[{title:"Scan 10 servers",status:"Done",reward:"+250 XP"},{title:"Fix 3 warnings",status:"In progress",reward:"+1 reroll"},{title:"Share a dashboard",status:"Ready",reward:"Title shard"},{title:"Hit uptime streak",status:"Locked",reward:"Glow badge"}],n=[{tier:"Mythic",delta:"+2",trend:"up"},{tier:"Diamond",delta:"-1",trend:"down"},{tier:"Platinum",delta:"+4",trend:"up"},{tier:"Gold",delta:"0",trend:"flat"}],r=[{label:"Level 12",done:!0},{label:"Sync Master",done:!0},{label:"API Adept",done:!1},{label:"Data Virtuoso",done:!1}],i=[{level:1,reward:"Theme Skin",unlocked:!0},{level:4,reward:"Badge Token",unlocked:!0},{level:7,reward:"Loot Cache",unlocked:!1},{level:10,reward:"Mythic Frame",unlocked:!1}],a=[{label:"Common",value:32,color:"#1e3b5d"},{label:"Rare",value:28,color:"#1f5d77"},{label:"Epic",value:22,color:"#3c2f6d"},{label:"Legendary",value:18,color:"#6b3b0f"}],l=[{name:"Link Speed",state:"active"},{name:"Alert Vision",state:"active"},{name:"Schema Insight",state:"locked"},{name:"API Armor",state:"active"},{name:"Sync Surge",state:"active"},{name:"Data Forge",state:"locked"},{name:"Audit Ghost",state:"locked"},{name:"Chronicle",state:"locked"}];return s.jsxs("div",{style:Lt.wrap,children:[s.jsxs("div",{style:Lt.intro,children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:"#F5F9FF"},children:"Gamified Visuals"}),s.jsx("p",{style:Lt.sub,children:"Static showcase of badges, streaks, ladders, and tracks in SFDataHub styling."})]}),Zr()]}),s.jsxs("div",{style:Lt.grid,children:[s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Achievement Badges"}),s.jsx("div",{style:Lt.sub,children:"Unlocked vs. locked set with rarity color tags."})]}),Zr()]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:10},children:t.map(c=>s.jsxs("div",{style:{border:"1px dashed rgba(255,255,255,.15)",borderRadius:12,padding:10,background:"rgba(255,255,255,.02)"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:6},children:c.title}),s.jsxs("div",{style:Lt.badgeRow,children:[Oi(c.status,c.status==="Unlocked"?"#1f4f62":"#422b2b"),Oi(c.rarity,bC[c.rarity])]})]},c.title))})]}),s.jsxs("div",{style:{...Lt.card,background:"linear-gradient(145deg, #143257, #0f243d)"},children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Scan Streak"}),s.jsx("div",{style:Lt.sub,children:"Keep the flame alive with consistent daily scans."})]}),Zr()]}),s.jsxs("div",{style:{background:"rgba(0,0,0,.25)",borderRadius:12,padding:12,border:"1px solid rgba(255,255,255,.06)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Current streak"}),s.jsx("div",{style:{fontSize:32,fontWeight:800},children:"12 days "})]}),s.jsxs("div",{style:{textAlign:"right"},children:[s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Best streak"}),s.jsx("div",{style:{fontWeight:700},children:"21 days"}),s.jsx("div",{style:{marginTop:6,background:"#0e1e33",borderRadius:999,padding:"4px 10px"},children:"+3d buffer"})]})]}),s.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Next reward: Ember Frame at 14 days."})]}),s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Quest Log"}),s.jsx("div",{style:Lt.sub,children:"Short mission stack with rewards."})]}),Zr()]}),s.jsx("div",{style:{display:"grid",gap:8},children:e.map(c=>s.jsxs("div",{style:{borderRadius:10,padding:10,background:"rgba(255,255,255,.03)",border:"1px solid rgba(255,255,255,.08)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:c.title}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:c.reward})]}),Oi(c.status,c.status==="Done"?"#1f4f62":c.status==="In progress"?"#4f3b1f":"#3a2f4f")]},c.title))})]}),s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Trophy Podium"}),s.jsx("div",{style:Lt.sub,children:"Top 3 snapshot with podium heights."})]}),Zr()]}),s.jsx("div",{style:{display:"flex",alignItems:"flex-end",gap:10,justifyContent:"space-around",paddingTop:8},children:[{rank:2,height:60},{rank:1,height:90},{rank:3,height:45}].map(c=>s.jsxs("div",{style:{textAlign:"center"},children:[s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["#",c.rank]}),s.jsxs("div",{style:{width:70,height:c.height,background:c.rank===1?"linear-gradient(180deg,#f5d26b,#b87b1a)":"linear-gradient(180deg,#345a8a,#203752)",borderRadius:10,border:"1px solid rgba(255,255,255,.2)",display:"grid",placeItems:"center",fontWeight:800,color:c.rank===1?"#1a1a1a":"#F5F9FF"},children:["S",c.rank]}),s.jsxs("div",{style:{marginTop:4,fontSize:12},children:["Squad ",c.rank]})]},c.rank))})]}),s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Rank Ladder"}),s.jsx("div",{style:Lt.sub,children:"League rungs with movement delta."})]}),Zr()]}),s.jsx("div",{style:{display:"grid",gap:8},children:n.map(c=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",borderRadius:10,border:"1px solid rgba(255,255,255,.08)",background:"rgba(255,255,255,.02)"},children:[s.jsx("div",{style:{fontWeight:700},children:c.tier}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:c.delta}),s.jsx("span",{style:{color:c.trend==="up"?"#5AD8A6":c.trend==="down"?"#E06C75":"#B0C4D9"},children:c.trend==="up"?"":c.trend==="down"?"":""})]})]},c.tier))})]}),s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Milestone Timeline"}),s.jsx("div",{style:Lt.sub,children:"Linear track with unlocked markers."})]}),Zr()]}),s.jsxs("div",{style:{position:"relative",padding:"10px 4px 0"},children:[s.jsx("div",{style:{position:"absolute",top:22,left:0,right:0,height:2,background:"rgba(255,255,255,.12)"}}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${r.length}, 1fr)`,gap:6,position:"relative"},children:r.map(c=>s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{width:22,height:22,margin:"0 auto",borderRadius:"50%",background:c.done?"#2d7f5f":"#2f415e",border:"2px solid rgba(255,255,255,.1)",display:"grid",placeItems:"center",fontSize:11,fontWeight:700},children:c.done?"":""}),s.jsx("div",{style:{marginTop:6,fontSize:12},children:c.label})]},c.label))})]})]}),s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Collection Ring"}),s.jsx("div",{style:Lt.sub,children:"Donut visualization for scrapbook completion."})]}),Zr()]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"50%",background:"conic-gradient(#3c7bd9 0% 68%, #1d3051 68% 100%)",display:"grid",placeItems:"center",border:"1px solid rgba(255,255,255,.08)"},children:s.jsx("div",{style:{width:78,height:78,borderRadius:"50%",background:"#0f1e33",display:"grid",placeItems:"center",color:"#F5F9FF",fontWeight:800},children:"68%"})}),s.jsxs("div",{style:{flex:1},children:[s.jsxs("div",{style:Lt.badgeRow,children:[Oi("Unlocked 45/66","#1f4f62"),Oi("Sets: 6","#2a3f68")]}),s.jsx("div",{style:{marginTop:10,fontSize:12,color:"#B0C4D9"},children:"Next reward at 75%: Chronicle stencil frame."})]})]})]}),s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Boss HP  Goal Bar"}),s.jsx("div",{style:Lt.sub,children:"Progress toward the next major unlock."})]}),Zr()]}),s.jsxs("div",{style:{background:"#0f1f33",borderRadius:12,padding:10,border:"1px solid rgba(255,255,255,.08)"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"#B0C4D9"},children:[s.jsx("span",{children:"Phase 2/3"}),s.jsx("span",{children:"82% to go"})]}),s.jsx("div",{style:{height:22,borderRadius:10,overflow:"hidden",marginTop:6,border:"1px solid rgba(255,255,255,.1)"},children:s.jsx("div",{style:{width:"18%",height:"100%",background:"linear-gradient(90deg, #d95f5f, #f2a45d)",boxShadow:"0 0 12px rgba(242,164,93,.4)"}})}),s.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Next shield break at 25% HP."})]})]}),s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Skill Tree Mini"}),s.jsx("div",{style:Lt.sub,children:"Node states with locked paths."})]}),Zr()]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0,1fr))",gap:8},children:l.map(c=>s.jsxs("div",{style:{background:"rgba(255,255,255,.03)",borderRadius:10,border:`1px solid ${c.state==="active"?"rgba(90,216,166,.4)":"rgba(255,255,255,.08)"}`,padding:10,boxShadow:c.state==="active"?"0 0 12px rgba(90,216,166,.25)":"none"},children:[s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:c.state==="active"?"Unlocked":"Locked"}),s.jsx("div",{style:{fontWeight:700,marginTop:4},children:c.name})]},c.name))}),s.jsx("div",{style:{marginTop:6,fontSize:12,color:"#B0C4D9"},children:"Path glow = active; darker cells stay locked."})]}),s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Season Pass Track"}),s.jsx("div",{style:Lt.sub,children:"Horizontal progression with staged rewards."})]}),Zr()]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginTop:4},children:[s.jsx("div",{style:{flex:1,height:10,borderRadius:999,background:"#0f1f33",position:"relative",overflow:"hidden"},children:s.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:"45%",background:"linear-gradient(90deg,#2a7bbd,#54c9e7)"}})}),Oi("45%","#1f4f62")]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:10,overflowX:"auto"},children:i.map(c=>s.jsxs("div",{style:{minWidth:120,background:"rgba(255,255,255,.03)",borderRadius:12,padding:10,border:`1px solid ${c.unlocked?"rgba(84,201,231,.4)":"rgba(255,255,255,.08)"}`},children:[s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Level ",c.level]}),s.jsx("div",{style:{fontWeight:700},children:c.reward}),s.jsx("div",{style:{marginTop:6},children:Oi(c.unlocked?"Claimed":"Locked",c.unlocked?"#1f4f62":"#2f2f4f")})]},c.level))})]}),s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Title Plates"}),s.jsx("div",{style:Lt.sub,children:"Unlockable nameplates with rarity glow."})]}),Zr()]}),s.jsx("div",{style:{display:"grid",gap:10},children:[{name:"Data Pioneer",tone:"linear-gradient(90deg,#2f5b90,#1f3d68)",rarity:"rare"},{name:"Mythic Cartographer",tone:"linear-gradient(90deg,#6b3b0f,#b87b1a)",rarity:"legendary"},{name:"Night Runner",tone:"linear-gradient(90deg,#28354f,#1a2335)",rarity:"common"}].map(c=>s.jsxs("div",{style:{borderRadius:12,padding:12,background:c.tone,border:"1px solid rgba(255,255,255,.12)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:800},children:c.name}),Oi(c.rarity,bC[c.rarity]||"#234569")]},c.name))})]}),s.jsxs("div",{style:Lt.card,children:[s.jsxs("div",{style:Lt.header,children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:"Loot / Rarity Mix"}),s.jsx("div",{style:Lt.sub,children:"Stacked distribution snapshot."})]}),Zr()]}),s.jsx("div",{style:{height:24,borderRadius:12,overflow:"hidden",display:"flex",border:"1px solid rgba(255,255,255,.08)"},children:a.map(c=>s.jsxs("div",{style:{width:`${c.value}%`,background:c.color,display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,color:"#DAE8FF",borderRight:"1px solid rgba(255,255,255,.05)"},children:[c.value,"%"]},c.label))}),s.jsx("div",{style:Lt.badgeRow,children:a.map(c=>s.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"2px 8px",borderRadius:999,background:"rgba(255,255,255,.04)",border:"1px solid rgba(255,255,255,.08)",fontSize:12},children:[s.jsx("span",{style:{width:10,height:10,borderRadius:"50%",background:c.color,display:"inline-block"}}),c.label]},c.label))})]})]})]})}const _C=[{id:"quests",title:"Quests & Objectives",description:"Logs, chains, rewards, and difficulty chips.",items:[{id:"11",categoryId:"quests",title:"Quest Log (3 steps)",subtitle:"Ordered checklist",tags:["mock"],previewId:"pv_quest_steps"},{id:"12",categoryId:"quests",title:"Daily Objectives Board",subtitle:"Checkbox grid",tags:["ui"],previewId:"pv_daily_checklist"},{id:"13",categoryId:"quests",title:"Weekly Contract Card",subtitle:"Timer + tear edge",tags:["concept"],previewId:"pv_contract_timer"},{id:"14",categoryId:"quests",title:"Bounty Card",subtitle:"Target + reward tag",tags:["mock"],previewId:"pv_bounty_target"},{id:"15",categoryId:"quests",title:"Multi-Objective Chips",subtitle:"3 tagged goals",tags:["ui"],previewId:"pv_objective_chips"},{id:"16",categoryId:"quests",title:"Quest Chain Path",subtitle:"Linked nodes",tags:["mock"],previewId:"pv_quest_chain_nodes"},{id:"17",categoryId:"quests",title:"Reward Preview Panel",subtitle:"XP + coins bundle",tags:["ui"],previewId:"pv_reward_bundle"},{id:"18",categoryId:"quests",title:"Side Quest Mini",subtitle:"Compact lane",tags:["mock"],previewId:"pv_sidequest_compact"},{id:"19",categoryId:"quests",title:"Claim Reward States",subtitle:"Enabled vs locked",tags:["ui"],previewId:"pv_claim_states"},{id:"20",categoryId:"quests",title:"Difficulty Tags",subtitle:"Easy / Hard / Insane",tags:["mock"],previewId:"pv_difficulty_tags"}]},{id:"progress",title:"Progress Bars & Gauges",description:"Boss phases, dual progress, rings, and risk arcs.",items:[{id:"21",categoryId:"progress",title:"Boss HP Goal Bar",subtitle:"Segmented phases",tags:["mock"],previewId:"pv_boss_hp_segmented"},{id:"22",categoryId:"progress",title:"Dual Progress vs Avg",subtitle:"Overlay marker",tags:["ui"],previewId:"pv_dual_progress_marker"},{id:"23",categoryId:"progress",title:"Segmented Track (10)",subtitle:"10 stops rail",tags:["concept"],previewId:"pv_segment_track_10"},{id:"24",categoryId:"progress",title:"Donut Completion",subtitle:"Ring percent",tags:["mock"],previewId:"pv_donut_completion"},{id:"25",categoryId:"progress",title:"Battery Gauge",subtitle:"Energy level",tags:["ui"],previewId:"pv_battery_gauge"},{id:"26",categoryId:"progress",title:"Thermometer Vertical",subtitle:"Heat column",tags:["mock"],previewId:"pv_thermo_vertical"},{id:"27",categoryId:"progress",title:"Level XP Bar + ticks",subtitle:"Micro ticks",tags:["ui"],previewId:"pv_xp_ticks"},{id:"28",categoryId:"progress",title:"Multi-Stat Mini Bars",subtitle:"STR/DEX/INT/CON/LCK",tags:["mock"],previewId:"pv_multibar_stats5"},{id:"29",categoryId:"progress",title:"Risk Meter",subtitle:"Arc pointer",tags:["concept"],previewId:"pv_risk_meter"},{id:"30",categoryId:"progress",title:"Perfect Run Bar",subtitle:"Checklist + bar",tags:["ui"],previewId:"pv_perfect_run"}]},{id:"rankings",title:"Rankings & Leagues",description:"Podiums, ladders, deltas, and history.",items:[{id:"31",categoryId:"rankings",title:"Trophy Podium Top 3",subtitle:"Height podium",tags:["mock"],previewId:"pv_podium_top3"},{id:"32",categoryId:"rankings",title:"Rank Ladder Rungs",subtitle:"Rung climb",tags:["ui"],previewId:"pv_ladder_rungs"},{id:"33",categoryId:"rankings",title:"League Tier Card",subtitle:"Bronze -> Diamond",tags:["concept"],previewId:"pv_league_tiers"},{id:"34",categoryId:"rankings",title:"Rank Delta Chip",subtitle:"Up/down pill",tags:["ui"],previewId:"pv_delta_chip"},{id:"35",categoryId:"rankings",title:"Percentile Gauge",subtitle:"Needle gauge",tags:["mock"],previewId:"pv_percentile_gauge"},{id:"36",categoryId:"rankings",title:"Rival Slot (nearest)",subtitle:"You vs nearest",tags:["concept"],previewId:"pv_rival_slot"},{id:"37",categoryId:"rankings",title:"Promotion Zone Highlight",subtitle:"Green band",tags:["ui"],previewId:"pv_promo_zone"},{id:"38",categoryId:"rankings",title:"Relegation Warning",subtitle:"Red band",tags:["mock"],previewId:"pv_relegation_zone"},{id:"39",categoryId:"rankings",title:"Top 5 Mini List",subtitle:"Ranked list",tags:["ui"],previewId:"pv_top5_list"},{id:"40",categoryId:"rankings",title:"Rank History Step",subtitle:"Step chart",tags:["mock"],previewId:"pv_rank_step_history"}]},{id:"duels",title:"Comparisons & Duels",description:"Splits, overlays, and matchup meters.",items:[{id:"41",categoryId:"duels",title:"Stat Split Compare",subtitle:"Two columns",tags:["mock"],previewId:"pv_split_compare"},{id:"42",categoryId:"duels",title:"You vs Avg Bars",subtitle:"Overlay bars",tags:["ui"],previewId:"pv_you_vs_avg_bars"},{id:"43",categoryId:"duels",title:"Best of 3 Dots",subtitle:"Round tracker",tags:["mock"],previewId:"pv_bestof3_dots"},{id:"44",categoryId:"duels",title:"Duel Outcome Card",subtitle:"Win/Loss plate",tags:["ui"],previewId:"pv_duel_outcome"},{id:"45",categoryId:"duels",title:"Advantage Meter",subtitle:"Arrow to winner",tags:["concept"],previewId:"pv_advantage_meter"},{id:"46",categoryId:"duels",title:"KPI Side-by-side",subtitle:"Four KPI tiles",tags:["mock"],previewId:"pv_kpi_tiles_4"},{id:"47",categoryId:"duels",title:"Delta Breakdown Chips",subtitle:"Pos/neg split",tags:["ui"],previewId:"pv_delta_chips_breakdown"},{id:"48",categoryId:"duels",title:"Mirror Match",subtitle:"Symmetric view",tags:["mock"],previewId:"pv_mirror_neutral"},{id:"49",categoryId:"duels",title:"Radar Mock",subtitle:"Polygon radar",tags:["concept"],previewId:"pv_radar_polygon"},{id:"50",categoryId:"duels",title:"Gap to Next",subtitle:"Distance marker",tags:["ui"],previewId:"pv_gap_to_next"}]},{id:"guild",title:"Guild & Social",description:"Roles, readiness, and alliance visuals.",items:[{id:"61",categoryId:"guild",title:"Guild Role Badges",subtitle:"Role chips",tags:["mock"],previewId:"pv_guild_roles"},{id:"62",categoryId:"guild",title:"Contribution Per Member",subtitle:"Member bars",tags:["ui"],previewId:"pv_contrib_bars"},{id:"63",categoryId:"guild",title:"Member Spotlight",subtitle:"Highlight lane",tags:["concept"],previewId:"pv_spotlight_card"},{id:"64",categoryId:"guild",title:"Guild Power Composite",subtitle:"Gauge blend",tags:["mock"],previewId:"pv_guild_power_meter"},{id:"65",categoryId:"guild",title:"Recruitment Slots",subtitle:"Open vs filled",tags:["ui"],previewId:"pv_slots_open_filled"},{id:"66",categoryId:"guild",title:"War Readiness Panel",subtitle:"Status chips",tags:["mock"],previewId:"pv_war_readiness"},{id:"67",categoryId:"guild",title:"Activity Pulse Spark",subtitle:"Pulse waveform",tags:["concept"],previewId:"pv_activity_pulse"},{id:"68",categoryId:"guild",title:"Alliance Link Card",subtitle:"Linked hubs",tags:["mock"],previewId:"pv_alliance_link"},{id:"69",categoryId:"guild",title:"Pinned Announcement",subtitle:"Pinned note",tags:["ui"],previewId:"pv_pinned_announcement"},{id:"70",categoryId:"guild",title:"Trophy Shelf",subtitle:"Shelf icons",tags:["mock"],previewId:"pv_trophy_shelf"}]}],zt=({label:t})=>s.jsx("span",{className:"g2-pill",children:t}),Tt=({width:t,tone:e="accent",height:n=8})=>s.jsx("div",{className:`g2-bar tone-${e}`,style:{width:t,height:n}}),wC={pv_quest_steps:()=>s.jsx("div",{className:"g2-preview g2-steps",children:[1,2,3].map(t=>s.jsxs("div",{className:"g2-step-row",children:[s.jsx("span",{className:"g2-step-dot"}),s.jsx(Tt,{width:`${70-t*10}%`,tone:t===3?"muted":"accent"})]},t))}),pv_daily_checklist:()=>s.jsx("div",{className:"g2-preview g2-checklist",children:["Login","Scan","Share","Claim"].map((t,e)=>s.jsxs("div",{className:"g2-check-row",children:[s.jsx("span",{className:`g2-checkbox ${e<2?"checked":""}`}),s.jsx("span",{className:"g2-check-label",children:t}),s.jsx(Tt,{width:`${40+e*10}%`,tone:"accent",height:5})]},t))}),pv_contract_timer:()=>s.jsxs("div",{className:"g2-preview g2-contract",children:[s.jsxs("div",{className:"g2-contract-top",children:[s.jsx(Tt,{width:"80%",tone:"accent"}),s.jsx(zt,{label:"7d"})]}),s.jsxs("div",{className:"g2-contract-body",children:[s.jsx(Tt,{width:"100%",tone:"muted",height:6}),s.jsx(Tt,{width:"65%",tone:"warning",height:6})]}),s.jsx("div",{className:"g2-contract-tear"})]}),pv_bounty_target:()=>s.jsxs("div",{className:"g2-preview g2-row",children:[s.jsxs("div",{className:"g2-target",children:[s.jsx("div",{className:"g2-target-ring"}),s.jsx("div",{className:"g2-target-dot"})]}),s.jsxs("div",{className:"g2-col",children:[s.jsx(Tt,{width:"60%",tone:"accent"}),s.jsx(Tt,{width:"45%",tone:"success"}),s.jsx(zt,{label:"Reward"})]})]}),pv_objective_chips:()=>s.jsxs("div",{className:"g2-preview g2-chip-stack",children:[s.jsx(zt,{label:"Win 2 matches"}),s.jsx(zt,{label:"Scan 3"}),s.jsx(zt,{label:"Share once"})]}),pv_quest_chain_nodes:()=>s.jsx("div",{className:"g2-preview g2-node-chain",children:[0,1,2,3,4].map(t=>s.jsxs(X.Fragment,{children:[s.jsx("div",{className:`g2-node ${t<3?"active":""}`}),t<4?s.jsx("div",{className:"g2-node-connector"}):null]},t))}),pv_reward_bundle:()=>s.jsxs("div",{className:"g2-preview g2-row g2-space-between",children:[s.jsx("div",{className:"g2-loot g2-loot-gem"}),s.jsx("div",{className:"g2-loot g2-loot-coin"}),s.jsxs("div",{className:"g2-col",children:[s.jsx(Tt,{width:"70%",tone:"accent"}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(zt,{label:"+250 XP"}),s.jsx(zt,{label:"+2 keys"})]})]})]}),pv_sidequest_compact:()=>s.jsxs("div",{className:"g2-preview g2-row g2-sidequest",children:[s.jsx("div",{className:"g2-sidequest-tag",children:"Side"}),s.jsxs("div",{className:"g2-col",children:[s.jsx(Tt,{width:"60%",tone:"accent"}),s.jsx(Tt,{width:"35%",tone:"muted"})]}),s.jsx("div",{className:"g2-arrow-right"})]}),pv_claim_states:()=>s.jsxs("div",{className:"g2-preview g2-claims",children:[s.jsx("div",{className:"g2-claim-btn enabled",children:"Claim"}),s.jsx("div",{className:"g2-claim-btn disabled",children:"Locked"})]}),pv_difficulty_tags:()=>s.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[s.jsx(zt,{label:"Easy"}),s.jsx(zt,{label:"Hard"}),s.jsx(zt,{label:"Insane"}),s.jsxs("div",{className:"g2-col",children:[s.jsx(Tt,{width:"40%",tone:"success"}),s.jsx(Tt,{width:"60%",tone:"warning"}),s.jsx(Tt,{width:"80%",tone:"danger"})]})]}),pv_boss_hp_segmented:()=>s.jsxs("div",{className:"g2-preview g2-bossbar",children:[[0,1,2,3].map(t=>s.jsx("div",{className:`g2-boss-segment ${t<3?"filled":""}`},t)),s.jsx("div",{className:"g2-marker",style:{left:"72%"}})]}),pv_dual_progress_marker:()=>s.jsxs("div",{className:"g2-preview g2-col g2-gap-xs",children:[s.jsx(Tt,{width:"85%",tone:"accent",height:10}),s.jsxs("div",{className:"g2-dual-overlay",children:[s.jsx(Tt,{width:"60%",tone:"success",height:8}),s.jsx("div",{className:"g2-marker",style:{left:"60%"}}),s.jsx("div",{className:"g2-marker muted",style:{left:"85%"}})]})]}),pv_segment_track_10:()=>s.jsx("div",{className:"g2-preview g2-segment-track",children:Array.from({length:10}).map((t,e)=>s.jsx("div",{className:`g2-segment ${e<6?"active":""}`},e))}),pv_donut_completion:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsxs("div",{className:"g2-donut",children:[s.jsx("div",{className:"g2-donut-fill"}),s.jsx("div",{className:"g2-donut-hole",children:"72%"})]}),s.jsxs("div",{className:"g2-col",children:[s.jsx(Tt,{width:"50%",tone:"accent"}),s.jsx(Tt,{width:"40%",tone:"muted"})]})]}),pv_battery_gauge:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsxs("div",{className:"g2-battery",children:[s.jsx("div",{className:"g2-battery-cap"}),s.jsx("div",{className:"g2-battery-fill"})]}),s.jsxs("div",{className:"g2-col",children:[s.jsx(zt,{label:"82%"}),s.jsx(Tt,{width:"70%",tone:"accent"})]})]}),pv_thermo_vertical:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsx("div",{className:"g2-thermo",children:s.jsx("div",{className:"g2-thermo-fill"})}),s.jsxs("div",{className:"g2-col",children:[s.jsx(Tt,{width:"40%",tone:"warning"}),s.jsx(Tt,{width:"30%",tone:"muted"})]})]}),pv_xp_ticks:()=>s.jsxs("div",{className:"g2-preview g2-col",children:[s.jsxs("div",{className:"g2-xpbar",children:[s.jsx("div",{className:"g2-xp-fill"}),Array.from({length:8}).map((t,e)=>s.jsx("span",{className:"g2-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),s.jsx(zt,{label:"Level 42"})]}),pv_multibar_stats5:()=>s.jsx("div",{className:"g2-preview g2-stats5",children:["STR","DEX","INT","CON","LCK"].map((t,e)=>s.jsxs("div",{className:"g2-stat-row",children:[s.jsx("span",{className:"g2-stat-label",children:t}),s.jsx(Tt,{width:`${40+e*10}%`,tone:e%2===0?"accent":"success",height:6})]},t))}),pv_risk_meter:()=>s.jsxs("div",{className:"g2-preview g2-risk",children:[s.jsx("div",{className:"g2-risk-arc",children:s.jsx("div",{className:"g2-risk-pointer"})}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(zt,{label:"Risk"}),s.jsx(zt,{label:"68%"})]})]}),pv_perfect_run:()=>s.jsxs("div",{className:"g2-preview g2-perfect",children:[s.jsx(Tt,{width:"100%",tone:"success",height:12}),s.jsx("div",{className:"g2-checklist tiny",children:["No deaths","No errors","All chests"].map(t=>s.jsxs("div",{className:"g2-check-row",children:[s.jsx("span",{className:"g2-checkbox checked"}),s.jsx("span",{className:"g2-check-label",children:t})]},t))})]}),pv_podium_top3:()=>s.jsx("div",{className:"g2-preview g2-podium",children:[{h:50,tone:"silver"},{h:70,tone:"gold"},{h:40,tone:"bronze"}].map((t,e)=>s.jsxs("div",{className:`g2-podium-col ${t.tone}`,style:{height:t.h},children:["#",e+1]},e))}),pv_ladder_rungs:()=>s.jsx("div",{className:"g2-preview g2-ladder",children:Array.from({length:6}).map((t,e)=>s.jsx("div",{className:`g2-rung ${e===2?"active":""}`},e))}),pv_league_tiers:()=>s.jsxs("div",{className:"g2-preview g2-row g2-league",children:[s.jsx("div",{className:"g2-league-shield"}),s.jsxs("div",{className:"g2-col",children:[s.jsx(Tt,{width:"70%",tone:"accent"}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(zt,{label:"Bronze"}),s.jsx(zt,{label:"Diamond"})]})]})]}),pv_delta_chip:()=>s.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[s.jsx(zt,{label:"^ +12"}),s.jsx(zt,{label:"v -3"}),s.jsx(Tt,{width:"50%",tone:"accent"})]}),pv_percentile_gauge:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsx("div",{className:"g2-percent-gauge",children:s.jsx("div",{className:"g2-percent-needle"})}),s.jsxs("div",{className:"g2-col",children:[s.jsx(zt,{label:"Top 5%"}),s.jsx(Tt,{width:"40%",tone:"accent"})]})]}),pv_rival_slot:()=>s.jsxs("div",{className:"g2-preview g2-rival",children:[s.jsxs("div",{className:"g2-vs-block",children:[s.jsx(Tt,{width:"60%",tone:"accent"}),s.jsx(zt,{label:"You"})]}),s.jsx("div",{className:"g2-vs-mid",children:"VS"}),s.jsxs("div",{className:"g2-vs-block rival",children:[s.jsx(Tt,{width:"55%",tone:"warning"}),s.jsx(zt,{label:"Rival"})]})]}),pv_promo_zone:()=>s.jsxs("div",{className:"g2-preview g2-zone promo",children:[s.jsx("div",{className:"g2-zone-band"}),s.jsx("div",{className:"g2-zone-label",children:"Promotion Zone"})]}),pv_relegation_zone:()=>s.jsxs("div",{className:"g2-preview g2-zone danger",children:[s.jsx("div",{className:"g2-zone-band"}),s.jsx("div",{className:"g2-zone-label",children:"Relegation"})]}),pv_top5_list:()=>s.jsx("div",{className:"g2-preview g2-list",children:["Alpha","Bravo","Charlie","Delta","Echo"].map((t,e)=>s.jsxs("div",{className:"g2-list-row",children:[s.jsx("span",{className:"g2-list-num",children:e+1}),s.jsx(Tt,{width:`${70-e*8}%`,tone:e<2?"accent":"muted",height:6})]},t))}),pv_rank_step_history:()=>s.jsxs("div",{className:"g2-preview g2-rank-history",children:[Array.from({length:6}).map((t,e)=>s.jsx("div",{className:"g2-rank-node",style:{bottom:`${e*8}%`,left:`${e*16}%`}},e)),s.jsx("div",{className:"g2-rank-line"})]}),pv_split_compare:()=>s.jsxs("div",{className:"g2-preview g2-split",children:[s.jsxs("div",{className:"g2-col",children:[s.jsx(Tt,{width:"70%",tone:"accent"}),s.jsx(Tt,{width:"40%",tone:"accent"})]}),s.jsxs("div",{className:"g2-col",children:[s.jsx(Tt,{width:"60%",tone:"warning"}),s.jsx(Tt,{width:"50%",tone:"warning"})]})]}),pv_you_vs_avg_bars:()=>s.jsxs("div",{className:"g2-preview g2-col",children:[s.jsxs("div",{className:"g2-overlay-bars",children:[s.jsx(Tt,{width:"80%",tone:"accent",height:10}),s.jsx(Tt,{width:"55%",tone:"muted",height:10})]}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(zt,{label:"You"}),s.jsx(zt,{label:"Server Avg"})]})]}),pv_bestof3_dots:()=>s.jsx("div",{className:"g2-preview g2-row g2-gap-sm",children:[0,1,2].map(t=>s.jsx("div",{className:`g2-round-dot ${t<2?"won":""}`},t))}),pv_duel_outcome:()=>s.jsxs("div",{className:"g2-preview g2-duel",children:[s.jsx("div",{className:"g2-shield win",children:"Win"}),s.jsx("div",{className:"g2-shield loss",children:"Loss"})]}),pv_advantage_meter:()=>s.jsxs("div",{className:"g2-preview g2-meter",children:[s.jsxs("div",{className:"g2-meter-track",children:[s.jsx("div",{className:"g2-meter-fill"}),s.jsx("div",{className:"g2-meter-pointer",style:{left:"62%"}})]}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(zt,{label:"Advantage"}),s.jsx(zt,{label:"+12%"})]})]}),pv_kpi_tiles_4:()=>s.jsx("div",{className:"g2-preview g2-kpi-grid",children:["KPI","CTR","UPT","LTV"].map((t,e)=>s.jsxs("div",{className:"g2-kpi-tile",children:[s.jsx("div",{className:"g2-kpi-label",children:t}),s.jsx(Tt,{width:`${40+e*10}%`,tone:"accent"})]},t))}),pv_delta_chips_breakdown:()=>s.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[s.jsx(zt,{label:"+18"}),s.jsx(zt,{label:"-5"}),s.jsx(zt,{label:"+2"}),s.jsx(zt,{label:"-1"})]}),pv_mirror_neutral:()=>s.jsxs("div",{className:"g2-preview g2-mirror",children:[s.jsx("div",{className:"g2-mirror-half",children:s.jsx(Tt,{width:"60%",tone:"accent"})}),s.jsx("div",{className:"g2-divider"}),s.jsx("div",{className:"g2-mirror-half",children:s.jsx(Tt,{width:"60%",tone:"warning"})})]}),pv_radar_polygon:()=>s.jsx("div",{className:"g2-preview g2-radar",children:s.jsxs("svg",{viewBox:"0 0 120 120",children:[s.jsx("polygon",{points:"60,15 100,50 90,105 30,105 20,50",className:"g2-radar-bg"}),s.jsx("polygon",{points:"60,30 90,55 80,90 40,90 30,55",className:"g2-radar-fill"})]})}),pv_gap_to_next:()=>s.jsxs("div",{className:"g2-preview g2-gap-bar",children:[s.jsx(Tt,{width:"80%",tone:"accent",height:8}),s.jsx("div",{className:"g2-marker",style:{left:"65%"}}),s.jsx("div",{className:"g2-gap-label",children:"Gap: 12 pts"})]}),pv_guild_roles:()=>s.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[s.jsx(zt,{label:"Leader"}),s.jsx(zt,{label:"Officer"}),s.jsx(zt,{label:"Member"})]}),pv_contrib_bars:()=>s.jsx("div",{className:"g2-preview g2-col g2-gap-xs",children:["Ava","Ben","Caro"].map((t,e)=>s.jsxs("div",{className:"g2-contrib-row",children:[s.jsx("span",{className:"g2-contrib-name",children:t}),s.jsx(Tt,{width:`${50+e*15}%`,tone:"accent",height:6})]},t))}),pv_spotlight_card:()=>s.jsxs("div",{className:"g2-preview g2-spotlight",children:[s.jsx("div",{className:"g2-spotlight-glow"}),s.jsx(Tt,{width:"70%",tone:"accent"}),s.jsx(zt,{label:"Spotlight"})]}),pv_guild_power_meter:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsx("div",{className:"g2-power-donut",children:s.jsx("div",{className:"g2-power-fill"})}),s.jsxs("div",{className:"g2-col",children:[s.jsx(Tt,{width:"60%",tone:"success"}),s.jsx(Tt,{width:"40%",tone:"warning"})]})]}),pv_slots_open_filled:()=>s.jsx("div",{className:"g2-preview g2-slots",children:[0,1,2,3].map(t=>s.jsx("div",{className:`g2-slot-card ${t<2?"open":"filled"}`},t))}),pv_war_readiness:()=>s.jsxs("div",{className:"g2-preview g2-row g2-gap-sm",children:[s.jsx(zt,{label:"Ready"}),s.jsx(zt,{label:"Armor"}),s.jsx(zt,{label:"Supplies"}),s.jsx(Tt,{width:"50%",tone:"accent"})]}),pv_activity_pulse:()=>s.jsx("div",{className:"g2-preview g2-pulse",children:Array.from({length:14}).map((t,e)=>s.jsx("div",{className:"g2-pulse-bar",style:{height:`${10+e%5*8}px`}},e))}),pv_alliance_link:()=>s.jsxs("div",{className:"g2-preview g2-row g2-center",children:[s.jsx("div",{className:"g2-link-node"}),s.jsx("div",{className:"g2-link-chain"}),s.jsx("div",{className:"g2-link-node"})]}),pv_pinned_announcement:()=>s.jsxs("div",{className:"g2-preview g2-pinned",children:[s.jsx("div",{className:"g2-pin"}),s.jsx(Tt,{width:"70%",tone:"accent"}),s.jsx(Tt,{width:"40%",tone:"muted"})]}),pv_trophy_shelf:()=>s.jsxs("div",{className:"g2-preview g2-shelf",children:[s.jsx("div",{className:"g2-trophies",children:[0,1,2].map(t=>s.jsx("div",{className:"g2-trophy"},t))}),s.jsx("div",{className:"g2-shelf-wood"})]})},q1e=t=>wC[t]?wC[t]():s.jsx("div",{className:"g2-preview",children:s.jsx(Tt,{width:"60%",tone:"accent"})});function K1e(){return s.jsxs("div",{className:"g2-root",children:[s.jsxs("header",{className:"g2-intro",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Gamified 2"}),s.jsx("p",{className:"g2-sub",children:"50 unique mock widgets mapped to the original playground list. All static and scoped."})]}),s.jsxs("div",{className:"g2-pill-row",children:[s.jsx(zt,{label:"mock"}),s.jsx(zt,{label:"concept"}),s.jsx(zt,{label:"ui"})]})]}),s.jsx("nav",{className:"g2-toc",children:_C.map(t=>s.jsx("a",{href:`#${t.id}`,className:"g2-toc-link",children:t.title},t.id))}),s.jsx("div",{className:"g2-sections",children:_C.map(t=>s.jsxs("details",{className:"g2-section",open:!0,id:t.id,children:[s.jsxs("summary",{className:"g2-section-header",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g2-section-title",children:t.title}),s.jsx("div",{className:"g2-section-sub",children:t.description})]}),s.jsxs("span",{className:"g2-summary-line",children:[t.items.length," items"]})]}),s.jsx("div",{className:"g2-grid",children:t.items.map(e=>s.jsxs("div",{className:"g2-card",children:[s.jsxs("div",{className:"g2-card-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g2-card-title",children:e.title}),s.jsx("div",{className:"g2-card-sub",children:e.subtitle})]}),s.jsx("div",{className:"g2-pill-row",children:(e.tags||["mock"]).map(n=>s.jsx(zt,{label:n},n))})]}),q1e(e.previewId)]},e.id))})]},t.id))})]})}const jC=[{id:"badges",title:"Badges & Titles",description:"Unlocks, nameplates, and medal visuals.",items:[{id:"1",categoryId:"badges",title:"Achievement Unlocked",subtitle:"Shimmer check",tags:["mock","ui"],previewId:"g3_badge_unlock_ring"},{id:"2",categoryId:"badges",title:"Locked Badge Mask",subtitle:"Silhouette lock",tags:["mock"],previewId:"g3_badge_lock_mask"},{id:"3",categoryId:"badges",title:"Rarity Fan",subtitle:"Common to mythic fan",tags:["concept"],previewId:"g3_rarity_fan"},{id:"4",categoryId:"badges",title:"Mastery Tiers",subtitle:"I-V concentric",tags:["ui"],previewId:"g3_mastery_tiers"},{id:"5",categoryId:"badges",title:"Title Plate Frame",subtitle:"Nameplate glow",tags:["mock"],previewId:"g3_title_plate"},{id:"6",categoryId:"badges",title:"Medal Banner",subtitle:"Bronze/Silver/Gold bar",tags:["ui"],previewId:"g3_medal_banner"},{id:"7",categoryId:"badges",title:"Badge Glow Card",subtitle:"Starburst pop",tags:["concept"],previewId:"g3_badge_glow"},{id:"8",categoryId:"badges",title:"Approved Stamp",subtitle:"Circular stamp",tags:["mock"],previewId:"g3_stamp_card"},{id:"9",categoryId:"badges",title:"Showcase Strip",subtitle:"Static carousel",tags:["ui"],previewId:"g3_showcase_strip"},{id:"10",categoryId:"badges",title:"First Scan Popover",subtitle:"Speech bubble",tags:["mock"],previewId:"g3_first_popover"}]},{id:"progress",title:"Progress & Gauges",description:"Bars, gauges, and segmented tracks.",items:[{id:"11",categoryId:"progress",title:"Boss Segments",subtitle:"Phase chunks",tags:["mock"],previewId:"g3_boss_segments"},{id:"12",categoryId:"progress",title:"Dual Progress",subtitle:"You vs avg marker",tags:["ui"],previewId:"g3_dual_progress"},{id:"13",categoryId:"progress",title:"Segment Rail",subtitle:"10-block rail",tags:["concept"],previewId:"g3_segment_rail"},{id:"14",categoryId:"progress",title:"Donut Completion",subtitle:"Ring percent",tags:["mock"],previewId:"g3_donut_completion"},{id:"15",categoryId:"progress",title:"Battery Meter",subtitle:"Energy cell",tags:["ui"],previewId:"g3_battery_meter"},{id:"16",categoryId:"progress",title:"Thermo Column",subtitle:"Vertical fill",tags:["mock"],previewId:"g3_thermo_column"},{id:"17",categoryId:"progress",title:"XP With Ticks",subtitle:"Micro ticks",tags:["ui"],previewId:"g3_xp_ticks"},{id:"18",categoryId:"progress",title:"Stat Stack",subtitle:"Five attributes",tags:["mock"],previewId:"g3_stat_stack"},{id:"19",categoryId:"progress",title:"Risk Arc",subtitle:"Arc meter",tags:["concept"],previewId:"g3_risk_arc"},{id:"20",categoryId:"progress",title:"Perfect Run",subtitle:"Checklist + bar",tags:["ui"],previewId:"g3_perfect_run"}]},{id:"rankings",title:"Rankings & Competitive",description:"Podiums, ladders, deltas, and rivals.",items:[{id:"21",categoryId:"rankings",title:"Podium Trio",subtitle:"Top 3 heights",tags:["mock"],previewId:"g3_podium_trio"},{id:"22",categoryId:"rankings",title:"Ladder Rungs",subtitle:"Rung climb",tags:["ui"],previewId:"g3_ladder_rungs"},{id:"23",categoryId:"rankings",title:"League Shield",subtitle:"Tier shield",tags:["concept"],previewId:"g3_league_shield"},{id:"24",categoryId:"rankings",title:"Delta Chips",subtitle:"Up/Down pills",tags:["ui"],previewId:"g3_delta_chips"},{id:"25",categoryId:"rankings",title:"Percent Gauge",subtitle:"Needle gauge",tags:["mock"],previewId:"g3_percent_gauge"},{id:"26",categoryId:"rankings",title:"Rival Split",subtitle:"You vs rival",tags:["concept"],previewId:"g3_rival_split"},{id:"27",categoryId:"rankings",title:"Promotion Band",subtitle:"Green band",tags:["ui"],previewId:"g3_promo_band"},{id:"28",categoryId:"rankings",title:"Relegation Band",subtitle:"Red band",tags:["mock"],previewId:"g3_relegation_band"},{id:"29",categoryId:"rankings",title:"Top Five Rows",subtitle:"Ranked rows",tags:["ui"],previewId:"g3_top_five"},{id:"30",categoryId:"rankings",title:"Rank Steps",subtitle:"Step chart",tags:["mock"],previewId:"g3_rank_steps"}]},{id:"collections",title:"Collections & Inventory",description:"Binders, stickers, and milestones.",items:[{id:"31",categoryId:"collections",title:"Binder Slots",subtitle:"Grid slots",tags:["mock"],previewId:"g3_binder_slots"},{id:"32",categoryId:"collections",title:"Set Progress",subtitle:"3 of 5 lit",tags:["ui"],previewId:"g3_set_progress"},{id:"33",categoryId:"collections",title:"Missing Checklist",subtitle:"Remaining shards",tags:["mock"],previewId:"g3_missing_list"},{id:"34",categoryId:"collections",title:"Rarity Rows",subtitle:"Tier lines",tags:["concept"],previewId:"g3_rarity_rows"},{id:"35",categoryId:"collections",title:"Legendary Spread",subtitle:"Book spread",tags:["ui"],previewId:"g3_legendary_spread"},{id:"36",categoryId:"collections",title:"Pet Album",subtitle:"Avatar minis",tags:["mock"],previewId:"g3_pet_album"},{id:"37",categoryId:"collections",title:"Sticker Sheet",subtitle:"Sticker grid",tags:["concept"],previewId:"g3_sticker_sheet"},{id:"38",categoryId:"collections",title:"Duplicate Dial",subtitle:"Count dial",tags:["ui"],previewId:"g3_duplicate_dial"},{id:"39",categoryId:"collections",title:"Trade/Lock Tags",subtitle:"State chips",tags:["mock"],previewId:"g3_trade_lock"},{id:"40",categoryId:"collections",title:"Collection Timeline",subtitle:"Milestone nodes",tags:["ui"],previewId:"g3_collection_timeline"}]},{id:"micro",title:"Micro Interactions",description:"Toasts, tabs, ribbons, and overlays.",items:[{id:"41",categoryId:"micro",title:"Unlock Glow",subtitle:"Glowing card",tags:["mock"],previewId:"g3_unlock_glow"},{id:"42",categoryId:"micro",title:"Inspect Tooltip",subtitle:"Hover tip",tags:["ui"],previewId:"g3_inspect_tooltip"},{id:"43",categoryId:"micro",title:"Confetti Burst",subtitle:"Sprinkled dots",tags:["concept"],previewId:"g3_confetti_burst"},{id:"44",categoryId:"micro",title:"Corner Ribbon",subtitle:"New ribbon",tags:["mock"],previewId:"g3_corner_ribbon"},{id:"45",categoryId:"micro",title:"Locked Blur",subtitle:"Frosted overlay",tags:["ui"],previewId:"g3_locked_blur"},{id:"46",categoryId:"micro",title:"Pulse Progress",subtitle:"Animated pulse",tags:["concept"],previewId:"g3_pulse_progress"},{id:"47",categoryId:"micro",title:"Mini Tabs",subtitle:"Inline tab pills",tags:["ui"],previewId:"g3_mini_tabs"},{id:"48",categoryId:"micro",title:"Expandable Block",subtitle:"Details reveal",tags:["mock"],previewId:"g3_expand_block"},{id:"49",categoryId:"micro",title:"Toast Message",subtitle:"Inline toast",tags:["ui"],previewId:"g3_toast_message"},{id:"50",categoryId:"micro",title:"Quest Failed",subtitle:"Warning slab",tags:["mock"],previewId:"g3_quest_failed"}]}],An=({label:t})=>s.jsx("span",{className:"g3-pill",children:t}),us=({width:t,tone:e="accent",height:n=8})=>s.jsx("div",{className:`g3-bar tone-${e}`,style:{width:t,height:n}}),bf=({tone:t="accent",size:e=8})=>s.jsx("span",{className:`g3-dot tone-${t}`,style:{width:e,height:e}}),Q1e=t=>{const e=X1e[t];return e?e():s.jsx("div",{className:"g3-preview g3-fallback"})},X1e={g3_badge_unlock_ring:()=>s.jsxs("div",{className:"g3-preview g3-row",children:[s.jsx("div",{className:"g3-icon ring success",children:s.jsx("span",{className:"g3-checkmark"})}),s.jsxs("div",{className:"g3-col",children:[s.jsx(us,{width:"80%",tone:"success"}),s.jsxs("div",{className:"g3-pill-row",children:[s.jsx(An,{label:"Unlocked"}),s.jsx(An,{label:"+150 XP"})]})]})]}),g3_badge_lock_mask:()=>s.jsxs("div",{className:"g3-preview g3-row",children:[s.jsx("div",{className:"g3-icon ring muted",children:s.jsx("div",{className:"g3-lock-hole"})}),s.jsxs("div",{className:"g3-col",children:[s.jsx("div",{className:"g3-mask-figure"}),s.jsx(us,{width:"60%",tone:"muted"})]})]}),g3_rarity_fan:()=>s.jsx("div",{className:"g3-preview g3-row g3-gap-sm",children:["muted","accent","success","warning","danger"].map(t=>s.jsx("div",{className:`g3-diamond tone-${t}`},t))}),g3_mastery_tiers:()=>s.jsxs("div",{className:"g3-preview g3-row",children:[s.jsx("div",{className:"g3-ring-stack",children:[1,2,3].map(t=>s.jsx("div",{className:`g3-ring-${t}`},t))}),s.jsxs("div",{className:"g3-col",children:[s.jsx(us,{width:"65%"}),s.jsxs("div",{className:"g3-dot-row",children:[s.jsx(bf,{}),s.jsx(bf,{tone:"success"}),s.jsx(bf,{tone:"warning"})]})]})]}),g3_title_plate:()=>s.jsxs("div",{className:"g3-preview g3-plate",children:[s.jsx("div",{className:"g3-plate-left"}),s.jsx("div",{className:"g3-plate-text",children:"Title"}),s.jsx("div",{className:"g3-plate-right"})]}),g3_medal_banner:()=>s.jsxs("div",{className:"g3-preview g3-row g3-space-between",children:[s.jsx("div",{className:"g3-medal bronze"}),s.jsx("div",{className:"g3-medal silver"}),s.jsx("div",{className:"g3-medal gold"})]}),g3_badge_glow:()=>s.jsxs("div",{className:"g3-preview g3-row",children:[s.jsx("div",{className:"g3-starburst"}),s.jsxs("div",{className:"g3-col",children:[s.jsx(us,{width:"70%"}),s.jsx(us,{width:"45%",tone:"success"})]})]}),g3_stamp_card:()=>s.jsxs("div",{className:"g3-preview g3-stamp-card",children:[s.jsx("div",{className:"g3-stamp-ring",children:"APPROVED"}),s.jsx(us,{width:"60%"})]}),g3_showcase_strip:()=>s.jsxs("div",{className:"g3-preview g3-carousel",children:[[0,1,2,3].map(t=>s.jsx("div",{className:`g3-slide ${t===1?"active":""}`},t)),s.jsx("div",{className:"g3-dot-row",children:[0,1,2,3].map(t=>s.jsx(bf,{tone:t===1?"accent":"muted"},t))})]}),g3_first_popover:()=>s.jsxs("div",{className:"g3-preview g3-pop",children:[s.jsxs("div",{className:"g3-pop-bubble",children:[s.jsx("div",{className:"g3-pop-title",children:"First scan"}),s.jsx(us,{width:"70%"})]}),s.jsx("div",{className:"g3-pop-arrow"})]}),g3_boss_segments:()=>s.jsxs("div",{className:"g3-preview g3-bossbar",children:[[0,1,2,3].map(t=>s.jsx("div",{className:`g3-boss-segment ${t<3?"filled":""}`},t)),s.jsx("div",{className:"g3-marker",style:{left:"72%"}})]}),g3_dual_progress:()=>s.jsxs("div",{className:"g3-preview g3-col",children:[s.jsx(us,{width:"85%"}),s.jsxs("div",{className:"g3-dual",children:[s.jsx(us,{width:"60%",tone:"success",height:8}),s.jsx("div",{className:"g3-marker",style:{left:"60%"}}),s.jsx("div",{className:"g3-marker muted",style:{left:"85%"}})]})]}),g3_segment_rail:()=>s.jsx("div",{className:"g3-preview g3-rail",children:Array.from({length:10}).map((t,e)=>s.jsx("div",{className:`g3-rail-segment ${e<6?"active":""}`},e))}),g3_donut_completion:()=>s.jsxs("div",{className:"g3-preview g3-row g3-center",children:[s.jsxs("div",{className:"g3-donut",children:[s.jsx("div",{className:"g3-donut-fill"}),s.jsx("div",{className:"g3-donut-hole",children:"72%"})]}),s.jsx(us,{width:"50%"})]}),g3_battery_meter:()=>s.jsxs("div",{className:"g3-preview g3-row g3-center",children:[s.jsxs("div",{className:"g3-battery",children:[s.jsx("div",{className:"g3-battery-cap"}),s.jsx("div",{className:"g3-battery-fill"})]}),s.jsx(An,{label:"82%"})]}),g3_thermo_column:()=>s.jsxs("div",{className:"g3-preview g3-row g3-center",children:[s.jsx("div",{className:"g3-thermo",children:s.jsx("div",{className:"g3-thermo-fill"})}),s.jsxs("div",{className:"g3-col",children:[s.jsx(us,{width:"40%",tone:"warning"}),s.jsx(us,{width:"30%",tone:"muted"})]})]}),g3_xp_ticks:()=>s.jsxs("div",{className:"g3-preview g3-col",children:[s.jsxs("div",{className:"g3-xpbar",children:[s.jsx("div",{className:"g3-xp-fill"}),Array.from({length:8}).map((t,e)=>s.jsx("span",{className:"g3-xp-tick",style:{left:`${(e+1)*10}%`}},e))]}),s.jsx(An,{label:"Lvl 42"})]}),g3_stat_stack:()=>s.jsx("div",{className:"g3-preview g3-stats",children:["STR","DEX","INT","CON","LCK"].map((t,e)=>s.jsxs("div",{className:"g3-stat-row",children:[s.jsx("span",{className:"g3-stat-label",children:t}),s.jsx(us,{width:`${40+e*10}%`,tone:e%2===0?"accent":"success"})]},t))}),g3_risk_arc:()=>s.jsxs("div",{className:"g3-preview g3-risk",children:[s.jsx("div",{className:"g3-risk-arc",children:s.jsx("div",{className:"g3-risk-pointer"})}),s.jsx(An,{label:"68%"})]}),g3_perfect_run:()=>s.jsxs("div",{className:"g3-preview g3-perfect",children:[s.jsx(us,{width:"100%",tone:"success"}),s.jsx("div",{className:"g3-checklist tiny",children:["No deaths","No errors","All chests"].map(t=>s.jsxs("div",{className:"g3-check-row",children:[s.jsx("span",{className:"g3-checkbox checked"}),s.jsx("span",{className:"g3-check-label",children:t})]},t))})]}),g3_podium_trio:()=>s.jsx("div",{className:"g3-preview g3-podium",children:[{h:50,tone:"silver"},{h:70,tone:"gold"},{h:40,tone:"bronze"}].map((t,e)=>s.jsxs("div",{className:`g3-podium-col ${t.tone}`,style:{height:t.h},children:["#",e+1]},e))}),g3_ladder_rungs:()=>s.jsx("div",{className:"g3-preview g3-ladder",children:Array.from({length:6}).map((t,e)=>s.jsx("div",{className:`g3-rung ${e===2?"active":""}`},e))}),g3_league_shield:()=>s.jsxs("div",{className:"g3-preview g3-row g3-league",children:[s.jsx("div",{className:"g3-league-shield"}),s.jsx(us,{width:"70%"})]}),g3_delta_chips:()=>s.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[s.jsx(An,{label:"^ +12"}),s.jsx(An,{label:"v -3"}),s.jsx(us,{width:"50%"})]}),g3_percent_gauge:()=>s.jsxs("div",{className:"g3-preview g3-row g3-center",children:[s.jsx("div",{className:"g3-percent",children:s.jsx("div",{className:"g3-percent-needle"})}),s.jsx(An,{label:"Top 5%"})]}),g3_rival_split:()=>s.jsxs("div",{className:"g3-preview g3-rival",children:[s.jsxs("div",{className:"g3-vs",children:[s.jsx(us,{width:"60%"}),s.jsx(An,{label:"You"})]}),s.jsx("div",{className:"g3-vs-mid",children:"VS"}),s.jsxs("div",{className:"g3-vs rival",children:[s.jsx(us,{width:"55%",tone:"warning"}),s.jsx(An,{label:"Rival"})]})]}),g3_promo_band:()=>s.jsxs("div",{className:"g3-preview g3-zone promo",children:[s.jsx("div",{className:"g3-zone-band"}),s.jsx("div",{className:"g3-zone-label",children:"Promotion"})]}),g3_relegation_band:()=>s.jsxs("div",{className:"g3-preview g3-zone danger",children:[s.jsx("div",{className:"g3-zone-band"}),s.jsx("div",{className:"g3-zone-label",children:"Relegation"})]}),g3_top_five:()=>s.jsx("div",{className:"g3-preview g3-list",children:["Alpha","Bravo","Charlie","Delta","Echo"].map((t,e)=>s.jsxs("div",{className:"g3-list-row",children:[s.jsx("span",{className:"g3-list-num",children:e+1}),s.jsx(us,{width:`${70-e*8}%`,tone:e<2?"accent":"muted"})]},t))}),g3_rank_steps:()=>s.jsxs("div",{className:"g3-preview g3-rank-steps",children:[Array.from({length:6}).map((t,e)=>s.jsx("div",{className:"g3-step-dot",style:{bottom:`${e*8}%`,left:`${e*16}%`}},e)),s.jsx("div",{className:"g3-step-line"})]}),g3_binder_slots:()=>s.jsx("div",{className:"g3-preview g3-grid-cards",children:Array.from({length:6}).map((t,e)=>s.jsx("div",{className:`g3-slot ${e<3?"filled":""}`},e))}),g3_set_progress:()=>s.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[Array.from({length:5}).map((t,e)=>s.jsx("div",{className:`g3-piece ${e<3?"active":""}`},e)),s.jsx(An,{label:"3 / 5"})]}),g3_missing_list:()=>s.jsx("div",{className:"g3-preview g3-checklist",children:["Shard A","Shard B","Shard C"].map((t,e)=>s.jsxs("div",{className:"g3-check-row",children:[s.jsx("span",{className:`g3-checkbox ${e===2?"":"checked"}`}),s.jsx("span",{className:"g3-check-label",children:t})]},t))}),g3_rarity_rows:()=>s.jsxs("div",{className:"g3-preview g3-col g3-gap-xs",children:[s.jsx(us,{width:"90%",tone:"muted"}),s.jsx(us,{width:"70%",tone:"accent"}),s.jsx(us,{width:"50%",tone:"success"}),s.jsx(us,{width:"40%",tone:"warning"}),s.jsx(us,{width:"30%",tone:"danger"})]}),g3_legendary_spread:()=>s.jsxs("div",{className:"g3-preview g3-book",children:[s.jsx("div",{className:"g3-book-page left"}),s.jsx("div",{className:"g3-book-page right"})]}),g3_pet_album:()=>s.jsx("div",{className:"g3-preview g3-pet-grid",children:Array.from({length:6}).map((t,e)=>s.jsxs("div",{className:"g3-pet-avatar",children:[s.jsx("span",{className:"g3-pet-ear"}),s.jsx("span",{className:"g3-pet-ear"})]},e))}),g3_sticker_sheet:()=>s.jsx("div",{className:"g3-preview g3-sticker-sheet",children:Array.from({length:4}).map((t,e)=>s.jsx("div",{className:"g3-sticker"},e))}),g3_duplicate_dial:()=>s.jsxs("div",{className:"g3-preview g3-row g3-center",children:[s.jsx("div",{className:"g3-counter",children:s.jsx("div",{className:"g3-counter-needle"})}),s.jsx(An,{label:"x4"})]}),g3_trade_lock:()=>s.jsxs("div",{className:"g3-preview g3-row g3-gap-sm",children:[s.jsx(An,{label:"Tradeable"}),s.jsx(An,{label:"Locked"}),s.jsx(us,{width:"40%"})]}),g3_collection_timeline:()=>s.jsxs("div",{className:"g3-preview g3-timeline",children:[[10,25,50,100].map((t,e)=>s.jsx("div",{className:"g3-timeline-node",style:{left:`${e*25}%`},children:s.jsx("span",{className:"g3-timeline-label",children:t})},t)),s.jsx("div",{className:"g3-timeline-line"})]}),g3_unlock_glow:()=>s.jsx("div",{className:"g3-preview g3-glow-card",children:s.jsx(us,{width:"60%",tone:"success"})}),g3_inspect_tooltip:()=>s.jsxs("div",{className:"g3-preview g3-tooltip-card",children:[s.jsx("div",{className:"g3-tooltip-box",children:"Inspect"}),s.jsx("div",{className:"g3-tooltip-tail"})]}),g3_confetti_burst:()=>s.jsx("div",{className:"g3-preview g3-confetti",children:Array.from({length:12}).map((t,e)=>s.jsx("div",{className:"g3-confetti-dot"},e))}),g3_corner_ribbon:()=>s.jsxs("div",{className:"g3-preview g3-corner",children:[s.jsx("div",{className:"g3-corner-ribbon",children:"New"}),s.jsx(us,{width:"60%"})]}),g3_locked_blur:()=>s.jsxs("div",{className:"g3-preview g3-locked",children:[s.jsx("div",{className:"g3-locked-mask"}),s.jsx("div",{className:"g3-lock-hole"})]}),g3_pulse_progress:()=>s.jsx("div",{className:"g3-preview g3-pulse-bar",children:s.jsx("div",{className:"g3-pulse-fill"})}),g3_mini_tabs:()=>s.jsxs("div",{className:"g3-preview g3-col g3-gap-xs",children:[s.jsxs("div",{className:"g3-tabs",children:[s.jsx("div",{className:"g3-tab active",children:"One"}),s.jsx("div",{className:"g3-tab",children:"Two"}),s.jsx("div",{className:"g3-tab",children:"Three"})]}),s.jsx(us,{width:"70%"})]}),g3_expand_block:()=>s.jsxs("div",{className:"g3-preview g3-details",children:[s.jsx("div",{className:"g3-details-summary",children:"Details"}),s.jsxs("div",{className:"g3-details-body",children:[s.jsx(us,{width:"60%",tone:"muted"}),s.jsx(us,{width:"40%",tone:"muted"})]})]}),g3_toast_message:()=>s.jsxs("div",{className:"g3-preview g3-toast",children:[s.jsx("div",{className:"g3-toast-dot"}),s.jsx(us,{width:"70%"})]}),g3_quest_failed:()=>s.jsxs("div",{className:"g3-preview g3-failed",children:[s.jsx("div",{className:"g3-warning-icon"}),s.jsxs("div",{className:"g3-col",children:[s.jsx(us,{width:"60%",tone:"danger"}),s.jsx(us,{width:"40%",tone:"muted"})]})]})};function Y1e(){return s.jsxs("div",{className:"g3-root",children:[s.jsxs("header",{className:"g3-intro",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Gamified 3"}),s.jsx("p",{className:"g3-sub",children:"50 unique mock previews across 5 categories. All static and scoped to this page."})]}),s.jsxs("div",{className:"g3-pill-row",children:[s.jsx(An,{label:"mock"}),s.jsx(An,{label:"concept"}),s.jsx(An,{label:"ui"})]})]}),s.jsx("nav",{className:"g3-toc",children:jC.map(t=>s.jsx("a",{href:`#${t.id}`,className:"g3-toc-link",children:t.title},t.id))}),s.jsx("div",{className:"g3-sections",children:jC.map(t=>s.jsxs("details",{className:"g3-section",open:!0,id:t.id,children:[s.jsxs("summary",{className:"g3-section-header",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g3-section-title",children:t.title}),s.jsx("div",{className:"g3-section-sub",children:t.description})]}),s.jsxs("span",{className:"g3-summary-line",children:[t.items.length," items"]})]}),s.jsx("div",{className:"g3-grid",children:t.items.map(e=>s.jsxs("div",{className:"g3-card",children:[s.jsxs("div",{className:"g3-card-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"g3-card-title",children:e.title}),s.jsx("div",{className:"g3-card-sub",children:e.subtitle})]}),s.jsx("div",{className:"g3-pill-row",children:(e.tags||["mock"]).map(n=>s.jsx(An,{label:n},n))})]}),Q1e(e.previewId)]},e.id))})]},t.id))})]})}const SC=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function J1e(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:SC[n%SC.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const x0={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function NC(){const[t,e]=T.useState("rows"),[n,r]=T.useState(0),[i,a]=T.useState(""),[l,c]=T.useState(60),u=T.useMemo(()=>J1e(240),[]),h=T.useMemo(()=>u.filter(m=>m.level>=n).filter(m=>m.name.toLowerCase().includes(i.toLowerCase())).slice(0,l),[u,n,i,l]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:m=>e(m.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:i,onChange:m=>a(m.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:m=>r(parseInt(m.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:l,onChange:m=>c(parseInt(m.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{...x0,padding:0,overflow:"hidden"},children:h.map(m=>{var f;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[m.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:m.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",m.level," ",m.guild?` ${m.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(f=m.kpi)==null?void 0:f.toFixed(1)})]})]},m.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(m=>{var f;return s.jsxs("div",{style:x0,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:m.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:m.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",m.level," ",m.guild?` ${m.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(f=m.kpi)==null?void 0:f.toFixed(1)})]})]},m.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:h.map(m=>s.jsxs("div",{style:{...x0,height:140+parseInt(m.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:m.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:m.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",m.level," ",m.guild?` ${m.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},m.id))})]})}function kC(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function CC(){const[t,e]=T.useState(120),[n,r]=T.useState(()=>kC(24));T.useEffect(()=>{const a=setInterval(()=>{r(l=>{if(!l.length)return l;const c=Math.floor(Math.random()*l.length),u=[...l];return u[c]={...u[c],lastScanMinsAgo:0},u})},5e3);return()=>clearInterval(a)},[]),T.useEffect(()=>{const a=setInterval(()=>{r(l=>l.map(c=>({...c,lastScanMinsAgo:c.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(a)},[]);const i=T.useMemo(()=>n.filter(a=>a.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:a=>e(parseInt(a.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(kC(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(a=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[a.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:a.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[a.lastScanMinsAgo," min ago"]})]},a.id)),i.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function Z1e(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function TC(){const[t,e]=T.useState("idle"),[n,r]=T.useState(null),[i,a]=T.useState(!1),l=T.useCallback(async c=>{var h;c.preventDefault(),a(!1);const u=(h=c.dataTransfer.files)==null?void 0:h[0];if(u){e("validating");try{const m=await u.text(),{isHar:f,isSf:y}=Z1e(m);if(e("parsing"),await new Promise(b=>setTimeout(b,600)),!f&&!y){e("error"),r({isHar:f,isSf:y,sizeKB:Math.round(u.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:f,isSf:y,sizeKB:Math.round(u.size/1024),summary:`Detected: ${f?"HAR":y?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(m.length/2500)} (rough).`})}catch(m){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(m==null?void 0:m.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:c=>{c.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:l,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const ebe="_wrap_hxkkn_3",tbe="_left_hxkkn_17",sbe="_right_hxkkn_25",nbe="_canvasCard_hxkkn_33",rbe="_hint_hxkkn_83",ibe="_panel_hxkkn_95",abe="_panelTitle_hxkkn_109",obe="_panelBody_hxkkn_121",Ua={wrap:ebe,left:tbe,right:sbe,canvasCard:nbe,hint:rbe,panel:ibe,panelTitle:abe,panelBody:obe},lbe=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],cbe=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function dbe(){const[t,e]=T.useState("Canvas ist vorbereitet (526526)."),n=T.useRef(null),[r,i]=T.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[a,l]=T.useState(!0);T.useEffect(()=>{const m=document.getElementById("PortraitCanvas");if(!m){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(b){}let f=console.error;a&&(console.error=(...b)=>{var S;const _=String((S=b==null?void 0:b[0])!=null?S:"");_.includes("Failed to load URL")&&_.includes("PortraitMaker-res/portraits/")||f(...b)});let y=null;try{y=new e3(m,{...r}),n.current=y,e("Rendering")}catch(b){a&&(console.error=f),f("Error initializing PortraitMaker:",b),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return y&&(y.onFinish=()=>{a&&(console.error=f),e("Fertig gerendert.")}),()=>{try{y&&typeof y.dispose=="function"&&y.dispose()}finally{a&&(console.error=f)}}},[r,a]);const c=()=>{const m=document.getElementById("PortraitCanvas");if(!m)return;const f=m.toDataURL("image/png"),y=document.createElement("a");y.href=f,y.download="portrait.png",y.click()},u=m=>{i(f=>({...f,genderName:m,beard:m==="female"?0:f.beard}))},h=r.special!==0;return s.jsxs("div",{className:Ua.wrap,children:[s.jsx("div",{className:Ua.left,children:s.jsxs("div",{className:Ua.canvasCard,children:[s.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),s.jsx("div",{className:Ua.hint,children:t})]})}),s.jsx("div",{className:Ua.right,children:s.jsxs("div",{className:Ua.panel,children:[s.jsx("h2",{className:Ua.panelTitle,children:"Controls"}),s.jsx("div",{className:Ua.panelBody,children:s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",s.jsx("input",{type:"number",value:r.special,onChange:m=>i(f=>({...f,special:Number(m.target.value||0)})),style:{width:100}})]}),s.jsxs("fieldset",{disabled:h,style:{border:0,padding:0,margin:0},children:[s.jsxs("label",{children:["Gender:",s.jsxs("select",{value:r.genderName,onChange:m=>u(m.target.value),children:[s.jsx("option",{value:"male",children:"male"}),s.jsx("option",{value:"female",children:"female"})]})]}),s.jsxs("label",{children:["Class:",s.jsx("input",{type:"number",min:1,value:r.class,onChange:m=>i(f=>({...f,class:Number(m.target.value||0)})),style:{width:80}})]}),s.jsxs("label",{children:["Race:",s.jsx("input",{type:"number",min:1,value:r.race,onChange:m=>i(f=>({...f,race:Number(m.target.value||0)})),style:{width:80}})]})]}),s.jsxs("label",{children:["Background:",s.jsx("select",{value:r.background,onChange:m=>i(f=>({...f,background:m.target.value})),children:lbe.map(m=>s.jsx("option",{value:m,children:m===""?"transparent":m},m))})]}),s.jsxs("label",{children:["Frame:",s.jsx("select",{value:r.frame,onChange:m=>i(f=>({...f,frame:m.target.value})),children:cbe.map(m=>s.jsx("option",{value:m,children:m===""?"none":m},m))})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:m=>i(f=>({...f,showBorder:m.target.checked}))}),"showBorder"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:a,onChange:m=>l(m.target.checked)}),"Mute 404 logs (Playground)"]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:s.jsx("button",{onClick:c,children:"Export PNG"})}),h&&s.jsxs("div",{className:Ua.hint,children:["Hinweis: Bei ",s.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const ube=[{id:"hero",title:"Hero Panel",description:"Ein optionaler Einstieg mit Titel und Actions."},{id:"overview",title:"Overview Blocks",description:"Kurze KPIs oder Status-Kacheln."},{id:"details",title:"Detail Cards",description:"Sections fuer tiefergehende Inhalte oder Tabellen."}],hbe=[{label:"Last Update",value:"vor 2 Stunden"},{label:"Owner",value:"Playground Team"},{label:"Status",value:"Prototype"}],mbe=["Review Datenbindung fuer API","UI mit Live-Daten verdrahten","Validierung & Edge-Cases definieren"];function pbe(){return s.jsx(Vt,{title:"ContentShell Template",subtitle:"Basislayout fuer neue Playground-Seiten",leftWidth:260,rightWidth:260,centerFramed:!0,left:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Outline"}),s.jsx("ul",{className:"mt-2 space-y-2",children:ube.map(t=>s.jsxs("li",{className:"rounded-xl border border-slate-600/60 bg-slate-800/50 p-3",children:[s.jsx("div",{className:"font-semibold text-slate-50",children:t.title}),s.jsx("p",{className:"text-xs text-slate-400",children:t.description})]},t.id))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Checks"}),s.jsxs("ul",{className:"mt-2 list-disc space-y-1 pl-4 text-xs",children:[s.jsx("li",{children:"Viewport-Anpassung -> Desktop/Mobile"}),s.jsx("li",{children:"Dark-Mode Farben auf Konsistenz pruefen"}),s.jsx("li",{children:"Rail Inhalte sticky halten"})]})]})]}),right:s.jsxs("div",{className:"space-y-4 text-sm text-slate-200",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Quick Stats"}),s.jsx("dl",{className:"mt-3 space-y-3 text-sm",children:hbe.map(t=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("dt",{className:"text-xs text-slate-400",children:t.label}),s.jsx("dd",{className:"font-semibold",children:t.value})]},t.label))})]}),s.jsxs("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/5 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Next up"}),s.jsx("ul",{className:"mt-3 list-disc space-y-1 pl-4 text-xs text-emerald-100/90",children:mbe.map(t=>s.jsx("li",{children:t},t))})]})]}),children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("section",{id:"hero",className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-6",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:"Hero"}),s.jsx("h2",{className:"mt-1 text-2xl font-semibold text-slate-50",children:"Willkommen im Template"}),s.jsx("p",{className:"text-sm text-slate-300",children:"Nutze diesen Bereich, um Kontext oder KPIs zu platzieren."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"rounded-xl border border-slate-500/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200",children:"Secondary"}),s.jsx("button",{className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-950",children:"Primary Action"})]})]})}),s.jsx("section",{id:"overview",className:"grid gap-4 md:grid-cols-3",children:["Snapshot","Pipelines","Open Topics"].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/40 p-4",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:t}),s.jsx("p",{className:"mt-2 text-3xl font-semibold text-white",children:"42"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Platzhalter fuer Inhalte oder KPIs."})]},t))}),s.jsx("section",{id:"details",className:"space-y-4",children:[1,2].map(t=>s.jsxs("article",{className:"rounded-2xl border border-slate-600/60 bg-slate-900/60 p-5",children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:["Detail Section ",t]}),s.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Modul ",t]})]}),s.jsx("button",{className:"rounded-lg border border-slate-500/50 px-3 py-1 text-xs text-slate-200",children:"Configure"})]}),s.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Dieser Bereich ist bewusst leer gehalten, damit schnell Komponenten, Tabellen oder Diagramme eingefuegt werden koennen."})]},t))})]})})}const fbe={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"",frame:"",mirrorHorizontal:!0};function gbe(){return s.jsx(Vt,{title:"Leere Template-Seite",subtitle:"Noch kein Inhalt hinterlegt",centerFramed:!0,children:s.jsx("div",{className:"flex w-full justify-center pt-10",children:s.jsx(mI,{config:fbe,label:"Playground Avatar"})})})}const xbe=Array.from({length:4},(t,e)=>({id:e+1,label:e===0?"Leere Vorlage (Neu)":`Kopie ${e+1}`,note:e===0?"Basisbereich zum Sammeln von Modulen und Ideen.":"Kopiertes Layout zum Testen weiterer Varianten."}));function vbe(){return s.jsx(Vt,{title:"Leere Template-Seite - Neu",subtitle:"Starte hier mit deinem eigenen Layout.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"grid w-full max-w-5xl grid-cols-1 gap-6 sm:grid-cols-2",children:xbe.map(t=>s.jsxs("div",{className:"flex h-full flex-col items-stretch gap-4 rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("span",{className:"text-xs font-semibold uppercase tracking-[0.3em]",style:{color:"#86A0C7"},children:t.label}),s.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-white/30 px-3 text-center text-sm text-slate-300",style:{background:"rgba(20, 40, 70, 0.4)"},children:"Noch keine Inhalte. Ziehe Komponenten aus dem Hub und teste Layoutideen."})]}),s.jsx("p",{className:"text-[11px] text-slate-400",children:t.note})]},t.id))})})})}const ybe="_avatarFrameMask_1pzs8_5",bbe="_avatarFrameOverlay_1pzs8_7",AC={avatarFrameMask:ybe,avatarFrameOverlay:bbe},_be=[{title:"Header",detail:"Groer Hero-Bereich"},{title:"CTA-Row",detail:"Zentrale Aktion mit zwei Buttons"},{title:"Preview",detail:"Groes Portrait, ready to replace with real block"},{title:"Log",detail:"Beobachte Logs oder Hinweise hier"}];function wbe(){return s.jsx(Vt,{title:"Leere Template-Seite  Layout 2",subtitle:"Whle einzelne Bereiche und teste ihre Kombination.",centerFramed:!0,children:s.jsxs("div",{className:"flex w-full flex-col gap-6 pt-10",children:[s.jsx("div",{className:"grid w-full gap-6 md:grid-cols-2",children:_be.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsx("span",{className:"text-sm font-semibold text-white",children:t.title}),s.jsx("p",{className:"mt-2 text-xs text-slate-300",children:t.detail}),s.jsx("div",{className:"mt-4 h-24 flex-1 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.title))}),s.jsxs("section",{className:"mt-10 flex w-full flex-col gap-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 1  Radialer Mask-Fade (Avatar-Hintergrund blendet weich aus)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Das Avatarbild wird mit einer Maskierung in der Mitte komplett sichtbar gehalten und zu den Rndern hin transparent, sodass der Card-Hintergrund durchscheint."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:AC.avatarFrameMask,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Mask Fade"})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-white",children:"Variante 2  Overlay-Gradient (Rand verschmilzt mit Hintergrund)"}),s.jsx("p",{className:"mt-1 text-xs text-slate-300",children:"Hier bleibt das Avatarbild unverndert, aber ein Overlay-Gradient frbt die Rnder in deine Hintergrundfarbe ein. Dadurch wird der harte Avatar-Hintergrund aufgeweicht."}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:AC.avatarFrameOverlay,children:s.jsx("img",{src:"/assets/demo-avatar-special.png",alt:"Avatar Demo  Overlay Fade"})})})]})]})]})})}const jbe=[{label:"Sektion A",info:"Intro + Hinweise"},{label:"Sektion B",info:"Visuelle Tester"},{label:"Sektion C",info:"Varianten-Log"}];function Sbe(){return s.jsx(Vt,{title:"Leere Template-Seite  Layout 3",subtitle:"bersichtliche Spalten lassen sich schnell mit Komponenten fllen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-8 pt-10",children:s.jsx("div",{className:"flex w-full flex-col gap-4",children:jbe.map(t=>s.jsxs("div",{className:"flex flex-col rounded-2xl border border-white/10 bg-slate-900/60 p-5",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs uppercase tracking-[0.4em]",style:{color:"#7EA0D4"},children:[t.label,s.jsx("span",{children:"Leer"})]}),s.jsx("p",{className:"mt-2 text-sm text-slate-300",children:t.info}),s.jsx("div",{className:"mt-4 h-32 rounded-2xl border border-dashed border-white/30 bg-white/5"})]},t.label))})})})}function Nbe(){return s.jsx(Vt,{title:"Leere Template-Seite  Layout 4",subtitle:"Groformatiger Workspace fr experimentelle Kompositionen.",centerFramed:!0,children:s.jsx("div",{className:"flex w-full flex-col gap-6 pt-10",children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.4em]",style:{color:"#A5B7DB"},children:"Bereich 1"}),s.jsx("div",{className:"mt-4 h-40 rounded-2xl border border-dashed border-white/30 bg-gradient-to-b from-white/5 to-transparent"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 2"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]}),s.jsxs("div",{className:"rounded-2xl border border-white/10 bg-slate-900/60 p-6",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.35em]",style:{color:"#A5B7DB"},children:"Bereich 3"}),s.jsx("div",{className:"mt-4 h-28 rounded-2xl border border-dashed border-white/30 bg-white/5"})]})]})]})})})}const te={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},kbe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Cbe={maxWidth:1200,margin:"0 auto"},Tbe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Abe(){return s.jsx("div",{style:kbe,children:s.jsxs("div",{style:Cbe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Tbe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${te.line}`,borderRadius:12,padding:24,textAlign:"center",background:te.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const Ebe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Ibe={maxWidth:1200,margin:"0 auto"},Rbe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Pbe(){return s.jsx("div",{style:Ebe,children:s.jsxs("div",{style:Ibe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Rbe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const Lbe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Dbe={maxWidth:1200,margin:"0 auto"},Mbe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Fbe(){return s.jsx("div",{style:Lbe,children:s.jsxs("div",{style:Dbe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Mbe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:te.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const Bbe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},$be={maxWidth:1200,margin:"0 auto"},Obe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Vbe(){return s.jsx("div",{style:Bbe,children:s.jsxs("div",{style:$be,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Obe,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${te.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:te.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const Ube={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},zbe={maxWidth:1200,margin:"0 auto"},Hbe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Gbe(){return s.jsx("div",{style:Ube,children:s.jsxs("div",{style:zbe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Hbe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:te.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:te.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const Wbe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},qbe={maxWidth:1200,margin:"0 auto"},Kbe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Qbe(){return s.jsx("div",{style:Wbe,children:s.jsxs("div",{style:qbe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Kbe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:te.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const Xbe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Ybe={maxWidth:1200,margin:"0 auto"},Jbe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Zbe(){return s.jsx("div",{style:Xbe,children:s.jsxs("div",{style:Ybe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Jbe,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${te.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${te.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:te.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const e_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},t_e={maxWidth:1200,margin:"0 auto"},s_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function n_e(){return s.jsx("div",{style:e_e,children:s.jsxs("div",{style:t_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:s_e,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const r_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},i_e={maxWidth:1200,margin:"0 auto"},a_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function o_e(){return s.jsx("div",{style:r_e,children:s.jsxs("div",{style:i_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:a_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${te.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const l_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},c_e={maxWidth:1200,margin:"0 auto"},d_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function u_e(){return s.jsx("div",{style:l_e,children:s.jsxs("div",{style:c_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:d_e,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:te.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:te.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const h_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},m_e={maxWidth:1200,margin:"0 auto"},p_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function f_e(){return s.jsx("div",{style:h_e,children:s.jsxs("div",{style:m_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:p_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const g_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},x_e={maxWidth:1200,margin:"0 auto"},v_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function y_e(){return s.jsx("div",{style:g_e,children:s.jsxs("div",{style:x_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:v_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:te.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const b_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},__e={maxWidth:1200,margin:"0 auto"},w_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function j_e(){return s.jsx("div",{style:b_e,children:s.jsxs("div",{style:__e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:w_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:te.text,border:`1px solid ${te.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:te.text,border:`1px solid ${te.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${te.line}`,borderRadius:10},children:"Send"})]})})]})})}const S_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},N_e={maxWidth:1200,margin:"0 auto"},k_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function C_e(){return s.jsx("div",{style:S_e,children:s.jsxs("div",{style:N_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:k_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const T_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},A_e={maxWidth:1200,margin:"0 auto"},E_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function I_e(){return s.jsx("div",{style:T_e,children:s.jsxs("div",{style:A_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:E_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const R_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},P_e={maxWidth:1200,margin:"0 auto"},L_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function D_e(){return s.jsx("div",{style:R_e,children:s.jsxs("div",{style:P_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:L_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${te.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const M_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},F_e={maxWidth:1200,margin:"0 auto"},B_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function $_e(){return s.jsx("div",{style:M_e,children:s.jsxs("div",{style:F_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:B_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const O_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},V_e={maxWidth:1200,margin:"0 auto"},U_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function z_e(){return s.jsx("div",{style:O_e,children:s.jsxs("div",{style:V_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:U_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${te.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const H_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},G_e={maxWidth:1200,margin:"0 auto"},W_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function q_e(){return s.jsx("div",{style:H_e,children:s.jsxs("div",{style:G_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:W_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${te.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const K_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Q_e={maxWidth:1200,margin:"0 auto"},X_e={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Y_e(){return s.jsx("div",{style:K_e,children:s.jsxs("div",{style:Q_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:X_e,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const J_e={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Z_e={maxWidth:1200,margin:"0 auto"},ewe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function twe(){return s.jsx("div",{style:J_e,children:s.jsxs("div",{style:Z_e,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ewe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${te.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:te.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const swe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},nwe={maxWidth:1200,margin:"0 auto"},rwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function iwe(){return s.jsx("div",{style:swe,children:s.jsxs("div",{style:nwe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:rwe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:te.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const awe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},owe={maxWidth:1200,margin:"0 auto"},lwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function cwe(){return s.jsx("div",{style:awe,children:s.jsxs("div",{style:owe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:lwe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const dwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},uwe={maxWidth:1200,margin:"0 auto"},hwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function mwe(){return s.jsx("div",{style:dwe,children:s.jsxs("div",{style:uwe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:hwe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:te.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:te.tileAlt,border:`1px solid ${te.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:te.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const pwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},fwe={maxWidth:1200,margin:"0 auto"},gwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function xwe(){return s.jsx("div",{style:pwe,children:s.jsxs("div",{style:fwe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:gwe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${te.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const vwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},ywe={maxWidth:1200,margin:"0 auto"},bwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function _we(){return s.jsx("div",{style:vwe,children:s.jsxs("div",{style:ywe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:bwe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const wwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},jwe={maxWidth:1200,margin:"0 auto"},Swe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Nwe(){return s.jsx("div",{style:wwe,children:s.jsxs("div",{style:jwe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Swe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const kwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Cwe={maxWidth:1200,margin:"0 auto"},Twe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Awe(){return s.jsx("div",{style:kwe,children:s.jsxs("div",{style:Cwe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Twe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const Ewe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Iwe={maxWidth:1200,margin:"0 auto"},Rwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Pwe(){return s.jsx("div",{style:Ewe,children:s.jsxs("div",{style:Iwe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Rwe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${te.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const Lwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},Dwe={maxWidth:1200,margin:"0 auto"},Mwe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Fwe(){return s.jsx("div",{style:Lwe,children:s.jsxs("div",{style:Dwe,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Mwe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${te.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const Bwe={minHeight:"100vh",background:te.page,color:te.text,padding:"24px 16px"},$we={maxWidth:1200,margin:"0 auto"},Owe={background:te.tile,border:`1px solid ${te.line}`,borderRadius:12,padding:12};function Vwe(){return s.jsx("div",{style:Bwe,children:s.jsxs("div",{style:$we,children:[s.jsx("h1",{style:{color:te.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Owe,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const Uwe=t=>t?t instanceof Date?t.getTime():typeof t=="string"?new Date(t).getTime():typeof t=="number"?t:null:null;function zwe({isLoggedIn:t,hasUnsyncedChanges:e,lastSyncedAt:n,cooldownUntil:r,onSyncClick:i,isSaving:a,syncError:l}){const{t:c}=wa(),[u,h]=T.useState(null);T.useEffect(()=>{const P=Uwe(r);if(!P){h(null);return}const D=()=>{const v=Date.now(),w=Math.max(0,Math.floor((P-v)/1e3));h(w)};D();const A=window.setInterval(D,1e3);return()=>window.clearInterval(A)},[r]);const m=u!==null&&u>0,f=!t||a||!e||m,y=T.useMemo(()=>{if(u===null||u<=0)return null;const P=Math.floor(u/60),D=u%60;return`${String(P).padStart(2,"0")}:${String(D).padStart(2,"0")}`},[u]),b=a?c("tools.sync.saving"):y?c("tools.sync.cooldownLabel",{time:y}):c("tools.sync.buttonSave"),_=T.useMemo(()=>c(e?"tools.sync.statusUnsynced":n?"tools.sync.statusSynced":"tools.sync.statusNever"),[e,n,c]),S=T.useMemo(()=>{if(e)return null;if(n){const P=typeof n=="string"?new Date(n):n;return`${c("tools.sync.lastSyncLabel")}: ${P.toLocaleTimeString()}`}return c("tools.sync.noChanges")},[e,n,c]),k=["rounded-xl border px-4 py-2 text-sm font-semibold uppercase tracking-wide transition focus:outline-none focus:ring-2 focus:ring-emerald-400/70",f?"cursor-not-allowed border-slate-700/70 bg-slate-800/70 text-slate-500":"border-emerald-400/60 bg-emerald-500/10 text-emerald-50 hover:border-emerald-300 hover:bg-emerald-500/20"].join(" ");return s.jsx("div",{className:"mt-4 rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4",children:s.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between",children:[s.jsx("button",{type:"button",disabled:f,onClick:i,className:k,children:b}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:_}),S&&s.jsx("p",{className:"text-sm text-slate-200",children:S}),l&&s.jsx("p",{className:"text-sm text-rose-400",children:l})]})]})})}const _f=3,n4="sfdatahub.tools.sets.v1",EC=[{id:"set-main-dh",name:"Main DH",classLabel:"Demon Hunter",serverLabel:"DE-55"},{id:"set-twink-mage",name:"Twink Mage",classLabel:"Mage",serverLabel:"US-12"}],md=[{id:"gemSim",labelKey:"tools.labels.gemSim",defaultLabel:"Gem Simulator",descriptionKey:"tools.descriptions.gemSim",defaultDescription:"Placeholder fuer kuenftige Gem-Berechnungen."},{id:"dungeonPauseOpenXP",labelKey:"tools.labels.dungeonPause",defaultLabel:"Dungeon Pause",descriptionKey:"tools.descriptions.dungeonPause",defaultDescription:"Dummy-Ansicht fuer Dungeon-Pausen-Tools."},{id:"xpDungeon",labelKey:"tools.labels.xpDungeon",defaultLabel:"XP Dungeon",descriptionKey:"tools.descriptions.xpDungeon",defaultDescription:"Slide fuer XP-Lauf-Planung als Platzhalter."}],Hwe=300*1e3;async function Gwe(t,e){const n=Xt(xl(ft,"user_tools_state"),t);console.log("[ToolsSync] userId param:",t,"doc path:",n.path);const r={version:1,updatedAt:Bi(),sets:e.sets,activeSetId:e.activeSetId,activeToolId:e.activeToolId};await co(n,r,{merge:!1})}const Wwe=()=>{if(typeof window=="undefined")return null;try{const t=window.localStorage.getItem(n4);if(!t)return null;const e=JSON.parse(t);return!e||e.version!==1||e.type!=="toolSet"||!Array.isArray(e.sets)?null:e}catch(t){return console.warn("Failed to parse persisted tools state",t),null}};function qwe(){var mt,Ut;const{t}=wa(),{user:e,status:n,loginWithDiscord:r}=fo(),i=n==="authenticated"&&!!e,a=T.useMemo(()=>Wwe(),[]),l=T.useMemo(()=>{var je;return(je=a==null?void 0:a.sets)!=null&&je.length?a.sets.slice(0,_f):EC},[a]),c=T.useMemo(()=>{var Je,Ke,yt,kt;const je=a==null?void 0:a.activeSetId;return je&&l.some(Be=>Be.id===je)?je:(kt=(yt=(Je=l[0])==null?void 0:Je.id)!=null?yt:(Ke=EC[0])==null?void 0:Ke.id)!=null?kt:"set-main-dh"},[a,l]),u=T.useMemo(()=>{var Je,Ke;const je=a==null?void 0:a.activeToolId;return je&&md.some(yt=>yt.id===je)?je:(Ke=(Je=md[0])==null?void 0:Je.id)!=null?Ke:"gemSim"},[a]),[h,m]=T.useState(l),[f,y]=T.useState(c),[b,_]=T.useState(u),[S,k]=T.useState(null),[P,D]=T.useState(""),[A,v]=T.useState(""),[w,L]=T.useState(!1),[C,N]=T.useState(null),[E,F]=T.useState(null),[I,B]=T.useState(!1),[$,U]=T.useState(null),H=T.useRef(null),W=T.useRef(!0);T.useEffect(()=>{if(typeof window!="undefined")try{const je={version:1,type:"toolSet",sets:h,activeSetId:f!=null?f:null,activeToolId:b};window.localStorage.setItem(n4,JSON.stringify(je))}catch(je){console.warn("Failed to persist tools state",je)}},[h,f,b]),T.useEffect(()=>{if(!i){L(!1),W.current=!0;return}if(W.current){W.current=!1;return}L(!0)},[i,h,f,b]);const K=T.useMemo(()=>{var je;return(je=h.find(Je=>Je.id===f))!=null?je:h[0]},[f,h]),q=T.useMemo(()=>{var je;return(je=md.find(Je=>Je.id===b))!=null?je:md[0]},[b]),se=(mt=K==null?void 0:K.tools)==null?void 0:mt.gemSim,ne=(Ut=K==null?void 0:K.tools)==null?void 0:Ut.dungeonPauseOpenXP,z=h.length,Y=z>=_f,le=()=>{if(Y)return;const je=z+1,Je=t("tools.sets.defaultName","New Set"),Ke={id:`set-${Date.now()}`,name:`${Je} ${je}`,classLabel:"Class TBD",serverLabel:"Server TBD"};m(yt=>[...yt,Ke]),y(Ke.id)},ae=()=>{r()},he=()=>{if(!K){console.warn("No active set to export.");return}const je={version:1,type:"toolSet",set:K},Je=new Blob([JSON.stringify(je,null,2)],{type:"application/json"}),Ke=URL.createObjectURL(Je),yt=document.createElement("a"),kt=K.name.toLowerCase().replace(/\s+/g,"-");yt.href=Ke,yt.download=`sfdatahub-set-${kt}.json`,yt.click(),URL.revokeObjectURL(Ke)},ye=()=>{var je;(je=H.current)==null||je.click()},Ie=je=>{var Be,Le;if(h.length<=1){alert(t("tools.sets.deleteLastForbidden"));return}const Je=t("tools.sets.deleteConfirmTitle"),Ke=t("tools.sets.deleteConfirmText");if(!window.confirm(`${Je}

${Ke}`))return;const yt=h.filter(He=>He.id!==je),kt=je===f?(Le=(Be=yt[0])==null?void 0:Be.id)!=null?Le:null:f;m(yt),kt&&y(kt)},Z=je=>{const Je=h.find(Ke=>Ke.id===je);Je&&(k(je),D(Je.name),v(""))},fe=()=>{k(null),D(""),v("")},oe=()=>{if(!S)return;const je=P.trim();if(!je){v(t("tools.sets.renameErrorEmpty"));return}m(Je=>Je.map(Ke=>Ke.id===S?{...Ke,name:je}:Ke)),k(null),D(""),v("")},_e=async je=>{var Ke,yt;const Je=(yt=(Ke=je.target)==null?void 0:Ke.files)==null?void 0:yt[0];if(Je)try{if(h.length>=_f){alert(t("tools.sets.importErrorMaxReached"));return}const kt=await Je.text(),Be=JSON.parse(kt);if((Be==null?void 0:Be.version)!==1||(Be==null?void 0:Be.type)!=="toolSet"||typeof(Be==null?void 0:Be.set)!="object")throw new Error("invalid payload");const{set:Le}=Be;if(typeof(Le==null?void 0:Le.name)!="string"||typeof(Le==null?void 0:Le.classLabel)!="string"||typeof(Le==null?void 0:Le.serverLabel)!="string")throw new Error("invalid set");const He={...Le,id:`imported-${Date.now()}`,name:Le.name,classLabel:Le.classLabel,serverLabel:Le.serverLabel};m(tt=>[...tt,He]),y(He.id)}catch(kt){console.error("Failed to import set",kt),alert(t("tools.sets.importErrorInvalid"))}finally{je.target.value=""}},ve=je=>{f&&(m(Je=>Je.map(Ke=>{var kt;if(Ke.id!==f)return Ke;const yt={...(kt=Ke.tools)!=null?kt:{},gemSim:je};return{...Ke,tools:yt}})),L(!0))},Ee=je=>{f&&(m(Je=>Je.map(Ke=>{var kt;if(Ke.id!==f)return Ke;const yt={...(kt=Ke.tools)!=null?kt:{},dungeonPauseOpenXP:je};return{...Ke,tools:yt}})),L(!0))},Ve=`${z}/${_f}`,ze=t(q.labelKey,q.defaultLabel),st=t(q.descriptionKey,q.defaultDescription),at=async()=>{if(!i)return;const je=e==null?void 0:e.id;if(!(!je||I||E!==null&&E>Date.now())&&w){B(!0),U(null);try{await Gwe(je,{sets:h,activeSetId:f,activeToolId:b});const Ke=Date.now(),yt=Ke+Hwe;L(!1),N(new Date(Ke)),F(yt)}catch(Ke){console.error("Failed to sync tools state",Ke),U(t("tools.sync.error"))}finally{B(!1)}}};return s.jsx(Vt,{title:"Tools",subtitle:"Sets & Dummy-Tools",centerFramed:!1,children:s.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/60 p-4 md:p-5",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Sets"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Waehle dein aktives Char-Set (max. 3 Slots)"})]}),s.jsx("span",{className:"text-xs text-slate-400",children:Ve})]}),s.jsxs("div",{className:"flex items-stretch gap-3 overflow-x-auto pb-1",children:[h.map(je=>{const Je=je.id===f;return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{type:"button",onClick:()=>y(je.id),className:["flex min-w-[180px] flex-col gap-1 rounded-2xl border px-4 py-3 text-left transition duration-150 ease-out focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Je?"border-emerald-400/80 bg-emerald-500/10 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.6)]":"border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:bg-slate-800/80"].join(" "),children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"text-sm font-semibold text-slate-50",children:je.name}),s.jsx("span",{role:"button",tabIndex:0,onClick:Ke=>{Ke.stopPropagation(),Z(je.id)},onKeyDown:Ke=>{(Ke.key==="Enter"||Ke.key===" ")&&(Ke.preventDefault(),Ke.stopPropagation(),Z(je.id))},"aria-label":t("tools.sets.rename"),className:"rounded-full border border-transparent p-1 text-slate-300 transition hover:border-slate-500 hover:text-white",children:s.jsx(lD,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"text-xs text-emerald-200/90",children:je.classLabel}),s.jsx("div",{className:"text-xs text-slate-400",children:je.serverLabel}),Je&&s.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-wide text-emerald-300",children:"Aktiv"})]}),h.length>1&&s.jsx("button",{type:"button",onClick:Ke=>{Ke.stopPropagation(),Ie(je.id)},className:"absolute bottom-2 right-2 rounded-full border border-slate-600/60 bg-slate-900/80 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-widest text-slate-200 transition hover:border-slate-400 hover:text-white",children:t("tools.sets.delete")})]},je.id)}),s.jsxs("button",{type:"button",onClick:le,disabled:Y,className:["flex h-full min-w-[140px] flex-col items-center justify-center gap-2 rounded-2xl border border-dashed px-4 py-3 text-sm font-semibold transition",Y?"cursor-not-allowed border-slate-700/70 bg-slate-800/40 text-slate-500":"border-emerald-400/60 bg-emerald-500/5 text-emerald-200 hover:border-emerald-400 hover:bg-emerald-500/10"].join(" "),children:[s.jsx("span",{className:"text-lg",children:"+"}),s.jsx("span",{children:h.length>=3?"Max erreicht":"Neues Set"})]})]}),s.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-between gap-2",children:[s.jsx("button",{type:"button",onClick:he,className:"rounded-xl border border-slate-600/70 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400/80 hover:bg-slate-800/60",children:t("tools.sets.exportActive")}),s.jsx("button",{type:"button",onClick:ye,className:"rounded-xl border border-emerald-400/50 bg-emerald-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-200 transition hover:border-emerald-300 hover:bg-emerald-500/20",children:t("tools.sets.import")})]}),s.jsx("input",{ref:H,type:"file",accept:"application/json",className:"hidden",onChange:_e})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:[s.jsx("div",{className:"mb-3 flex items-center justify-between gap-3",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-slate-50",children:"Tools"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Dummy-Tools, die das aktive Set verwenden"})]})}),s.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-1",children:md.map(je=>{const Je=je.id===b,Ke=t(je.labelKey,je.defaultLabel);return s.jsxs("button",{type:"button",onClick:()=>_(je.id),className:["flex flex-shrink-0 items-center gap-2 rounded-xl border px-4 py-2 text-sm font-semibold transition duration-150 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",Je?"border-emerald-400/80 bg-emerald-500/10 text-emerald-100 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/70 text-slate-200 hover:border-emerald-400/60 hover:text-emerald-100"].join(" "),children:[s.jsx("span",{className:"text-base","aria-hidden":!0,children:"*"}),s.jsx("span",{children:Ke})]},je.id)})})]}),s.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:i?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.2fr_1fr] md:items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:t("tools.banner.accountComingSoon")}),s.jsx("h3",{className:"mt-1 text-lg font-semibold text-slate-50",children:t("tools.banner.accountTitle")})]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-3",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(je=>s.jsxs("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/5 p-3 text-sm text-emerald-50 shadow-[0_12px_45px_-30px_rgba(16,185,129,0.8)]",children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-emerald-200/90",children:t("tools.banner.accountComingSoon")}),s.jsx("div",{className:"mt-1 leading-snug text-emerald-50/90",children:je})]},je))})]}),s.jsx(zwe,{isLoggedIn:i,hasUnsyncedChanges:w,lastSyncedAt:C,cooldownUntil:E,onSyncClick:at,isSaving:I,syncError:$})]}):s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:t("tools.banner.guestTitle")}),s.jsx("p",{className:"text-sm text-slate-400",children:t("tools.banner.guestDescription")}),s.jsx("ul",{className:"text-sm text-slate-300",children:[t("tools.banner.featureSetComparison"),t("tools.banner.featureIntegration"),t("tools.banner.featureCloudSync")].map(je=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-400","aria-hidden":!0}),s.jsx("span",{children:je})]},je))})]}),s.jsx("div",{className:"flex gap-3 md:flex-col md:items-end",children:s.jsx("button",{type:"button",onClick:ae,className:"rounded-xl border border-emerald-400/60 bg-emerald-500/10 px-4 py-2 text-sm font-semibold text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/70",children:t("tools.banner.guestLoginCta")})})]})}),s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-5 md:p-6",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Aktives Tool"}),s.jsx("h3",{className:"text-xl font-semibold text-slate-50",children:ze}),s.jsxs("p",{className:"text-sm text-slate-400",children:["Aktives Set: ",(K==null?void 0:K.name)||"kein Set"]})]}),s.jsx("div",{className:"flex gap-2",children:md.map(je=>s.jsx("div",{className:["h-2 w-8 rounded-full transition",b===je.id?"bg-emerald-400":"bg-slate-700"].join(" "),"aria-hidden":!0},je.id))})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-[2fr_1fr]",children:[s.jsxs("div",{className:"rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsx("div",{className:"text-sm text-slate-300",children:st}),s.jsx("div",{className:"mt-4",children:b==="gemSim"?s.jsx(kI,{initialState:se,onStateChange:ve}):b==="dungeonPauseOpenXP"?s.jsx(AI,{initialState:ne,onStateChange:Ee},f):s.jsxs("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-900/60 p-4 text-center text-sm text-slate-400",children:["Placeholder fuer kuenftige Tool-Komponente",s.jsx("br",{}),"(z. B. ",ze,")"]})})]}),s.jsxs("div",{className:"space-y-3 rounded-2xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Set-Details"}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-100",children:K==null?void 0:K.name}),s.jsx("div",{className:"text-sm text-emerald-200/90",children:K==null?void 0:K.classLabel}),s.jsx("div",{className:"text-xs text-slate-400",children:K==null?void 0:K.serverLabel})]}),s.jsxs("div",{className:"rounded-2xl border border-dashed border-emerald-400/40 bg-emerald-500/5 p-3 text-xs text-emerald-100",children:["Lokaler State only - keine Firestore-Anbindung.",s.jsx("br",{}),"Slides wechseln, wenn du oben ein Tool auswaehlst."]})]})]})]}),S&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:fe}),s.jsxs("div",{className:"relative z-10 w-full max-w-md rounded-2xl border border-slate-700/80 bg-slate-900/95 p-6 shadow-2xl",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:t("tools.sets.renameTitle")}),s.jsx("label",{className:"mt-4 block text-xs uppercase tracking-[0.3em] text-slate-400",children:t("tools.sets.renameLabel")}),s.jsx("input",{value:P,onChange:je=>D(je.target.value),autoFocus:!0,className:"mt-2 w-full rounded-xl border border-slate-700/70 bg-slate-900/60 px-4 py-2 text-sm text-slate-50 outline-none transition focus:border-emerald-400",placeholder:t("tools.sets.renamePlaceholder")}),A&&s.jsx("p",{className:"mt-2 text-xs text-rose-400",children:A}),s.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:fe,className:"rounded-xl border border-slate-600/80 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-slate-200 transition hover:border-slate-400 hover:bg-slate-800/60",children:t("tools.sets.renameCancel")}),s.jsx("button",{type:"button",onClick:oe,className:"rounded-xl border border-emerald-400/60 bg-emerald-500 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-emerald-50 transition hover:border-emerald-300 hover:bg-emerald-500/80",children:t("tools.sets.renameSave")})]})]})]})]})})}const v0=50,Kwe=3,Qwe=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),y0=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function Xwe(){var w,L;const[t]=fl(),e=(L=(w=t.get("q"))==null?void 0:w.trim())!=null?L:"",n=Qwe(e),[r,i]=X.useState([]),[a,l]=X.useState([]),[c,u]=X.useState(null),[h,m]=X.useState(null),[f,y]=X.useState(!1),[b,_]=X.useState(!1),[S,k]=X.useState(!1),[P,D]=X.useState(null),A=async C=>{const N=Rd("Search:results");try{const E=nn(fm(ft,"latest"),Br("nameFold"),Vi(n),Ui(n+""),...C?[tO(C)]:[],mn(v0)),F=await Jo(N,{},()=>gn(E)),I=F.docs.length?F.docs[F.docs.length-1]:null,B=[],$=[];F.forEach(U=>{var se,ne,z,Y,le,ae,he,ye,Ie,Z,fe,oe,_e,ve,Ee,Ve,ze,st,at,mt,Ut,je,Je,Ke,yt,kt,Be,Le,He,tt,fs,vs;const H=U.data(),W=(se=U.ref.parent)==null?void 0:se.parent,K=(ne=W==null?void 0:W.parent)==null?void 0:ne.id,q=(z=W==null?void 0:W.id)!=null?z:U.id;K==="players"?B.push({id:q,name:(ae=(le=H.name)!=null?le:(Y=H.values)==null?void 0:Y.Name)!=null?ae:null,server:(Ie=(ye=H.server)!=null?ye:(he=H.values)==null?void 0:he.Server)!=null?Ie:null,className:(oe=(fe=H.className)!=null?fe:(Z=H.values)==null?void 0:Z.Class)!=null?oe:null,level:y0((ve=H.level)!=null?ve:(_e=H.values)==null?void 0:_e.Level)}):K==="guilds"&&$.push({id:q,name:(ze=(Ve=H.name)!=null?Ve:(Ee=H.values)==null?void 0:Ee.Name)!=null?ze:null,server:(mt=(at=H.server)!=null?at:(st=H.values)==null?void 0:st.Server)!=null?mt:null,memberCount:y0((Ke=(je=H.memberCount)!=null?je:(Ut=H.values)==null?void 0:Ut["Guild Member Count"])!=null?Ke:(Je=H.values)==null?void 0:Je.GuildMemberCount),hofRank:y0((vs=(tt=(Le=(kt=H.hofRank)!=null?kt:(yt=H.values)==null?void 0:yt["Hall of Fame Rank"])!=null?Le:(Be=H.values)==null?void 0:Be.HoF)!=null?tt:(He=H.values)==null?void 0:He.Rank)!=null?vs:(fs=H.values)==null?void 0:fs["Guild Rank"])})}),i(U=>[...U,...B]),l(U=>[...U,...$]),u(I),m(I),y(F.docs.length===v0),_(F.docs.length===v0)}finally{la(N)}};X.useEffect(()=>{if(n.length<Kwe){D("Type at least 3 characters to search.");return}D(null),i([]),l([]),u(null),m(null),y(!1),_(!1),k(!0),A().catch(C=>D((C==null?void 0:C.message)||"Search failed")).finally(()=>k(!1))},[n]);const v=()=>{S||(k(!0),A(c||h).catch(C=>D((C==null?void 0:C.message)||"Search failed")).finally(()=>k(!1)))};return s.jsxs(Vt,{title:"Search",subtitle:e?`Results for ${e}`:"",children:[P&&s.jsx("p",{style:{color:"#ff9c9c",marginBottom:12},children:P}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[s.jsxs("section",{children:[s.jsx("h3",{children:"Players"}),r.map(C=>{var N,E,F;return s.jsxs("div",{style:{padding:8,border:"1px solid #1f3248",borderRadius:8,marginBottom:8},children:[s.jsx("div",{style:{fontWeight:700},children:(N=C.name)!=null?N:C.id}),s.jsxs("div",{style:{opacity:.8},children:[(E=C.className)!=null?E:"?","  ",(F=C.server)!=null?F:"?","  ",C.level!=null?`Lvl ${C.level}`:"Lvl ?"]})]},C.id)})]}),s.jsxs("section",{children:[s.jsx("h3",{children:"Guilds"}),a.map(C=>{var N,E;return s.jsxs("div",{style:{padding:8,border:"1px solid #1f3248",borderRadius:8,marginBottom:8},children:[s.jsx("div",{style:{fontWeight:700},children:(N=C.name)!=null?N:C.id}),s.jsxs("div",{style:{opacity:.8},children:[(E=C.server)!=null?E:"?"," "," ",C.memberCount!=null?`${C.memberCount} members`:"Members ?"," "," ",C.hofRank!=null?`HoF #${C.hofRank}`:"HoF ?"]})]},C.id)})]})]}),(f||b)&&s.jsx("div",{style:{marginTop:16},children:s.jsx("button",{type:"button",onClick:v,disabled:S,style:{padding:"10px 14px"},children:S?"Loading":"Load more"})})]})}const Ywe="_backdrop_19xh2_1",Jwe="_panel_19xh2_19",Zwe="_header_19xh2_43",e2e="_tabs_19xh2_63",t2e="_tabBtn_19xh2_75",s2e="_tabActive_19xh2_97",n2e="_closeBtn_19xh2_101",r2e="_content_19xh2_123",oa={backdrop:Ywe,panel:Jwe,header:Zwe,tabs:e2e,tabBtn:t2e,tabActive:s2e,closeBtn:n2e,content:r2e},da=t=>{if(typeof t=="number")return t;if(t==null)return 0;let e=String(t).trim();if(!e||e==="-"||e.toLowerCase()==="nan")return 0;e=e.replace(/\s+/g,"").replace(/\.(?=\d{3}\b)/g,"").replace(/,/g,".");const n=Number(e);return Number.isFinite(n)?n:0},i2e=t=>{if(!t)return{group:"ALL",serverKey:"all"};const e=String(t).toUpperCase();let n=e.match(/S?(\d+)[._-]?EU|S(\d+)\.SFGAME\.EU/);return n?{group:"EU",serverKey:`EU${n[1]||n[2]}`}:e.includes("AM1")||e.includes("S1.SFGAME.US")?{group:"US",serverKey:"AM1"}:e.includes("MAERWYNN")?{group:"INT",serverKey:"MAERWYNN"}:(n=e.match(/F(\d+)/),n?{group:"FUSION",serverKey:`F${n[1]}`}:{group:"ALL",serverKey:"all"})},a2e={Warrior:"Base Strength",Berserker:"Base Strength",Paladin:"Base Strength",Scout:"Base Dexterity",Assassin:"Base Dexterity","Demon Hunter":"Base Dexterity",Bard:"Base Dexterity",Mage:"Base Intelligence","Battle Mage":"Base Intelligence",Necromancer:"Base Intelligence",Druid:"Base Intelligence"},Zo=(t,e)=>t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0,o2e=t=>{const e={str:da(Zo(t,"Base Strength")),dex:da(Zo(t,"Base Dexterity")),intl:da(Zo(t,"Base Intelligence")),con:da(Zo(t,"Base Constitution")),luck:da(Zo(t,"Base Luck"))},n=e.str+e.dex+e.intl+e.con+e.luck;return{...e,sum:n}},l2e=(t,e)=>{var N,E;const{playerId:n,name:r,className:i,level:a,server:l,guildIdentifier:c,guildName:u,timestamp:h,updatedAt:m,values:f={}}=t||{},y=da(a),{group:b,serverKey:_}=i2e(l),S=o2e(f),k=(N=a2e[String(i)])!=null?N:"Base Intelligence",P=da(Zo(f,k)),D=S.sum,A=S.con,v=y>0?D/y:0,w=da(Zo(f,"Gem Mine")),L=da(Zo(f,"Treasury")),C=e?e():null;return{playerId:String(n!=null?n:""),name:String(r!=null?r:""),class:String(i!=null?i:""),level:y,group:b,serverKey:_,guildId:c?String(c):"",guildName:u?String(u):"",sum:D,main:P,con:A,ratio:v,mine:w,treasury:L,timestamp:da(h),updatedAtFromLatest:(E=m!=null?m:C)!=null?E:null}},yi=t=>String(t!=null?t:"").trim(),r4=t=>yi(t).toUpperCase(),Qt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),IC=t=>t<10?`0${t}`:String(t),c2e=t=>{const e=t?new Date(t*1e3):new Date;return+`${e.getFullYear()}${IC(e.getMonth()+1)}${IC(e.getDate())}`},Gf=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),RC=t=>{const e=Gf(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},PC=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},LC=t=>{var n;const e=String((n=t==null?void 0:t.code)!=null?n:"").toLowerCase();return e.includes("permission")||e.includes("already")||e.includes("failed-precondition")},A1=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},DC=t=>{const e=A1(t);return Number.isFinite(e!=null?e:NaN)?Math.trunc(e):null},d2e=t=>{const e=Qt(t);for(const[n,r]of Object.entries(i4))if(Qt(r)===e)return Number(n);return null},MC=t=>{var a;const e=t==null?"":String(t).trim();if(!e)return{classId:null,className:null};const n=Number(e);if(Number.isInteger(n)&&!Number.isNaN(n)){const l=n;return{classId:l,className:(a=i4[l])!=null?a:String(l)}}return{classId:d2e(e),className:e}},Ts={PLAYERS:{IDENTIFIER:Qt("Identifier"),PID:Qt("ID"),GUILD_IDENTIFIER:Qt("Guild Identifier"),SERVER:Qt("Server"),NAME:Qt("Name"),TIMESTAMP:Qt("Timestamp"),LEVEL:Qt("Level"),CLASS:Qt("Class"),GUILD:Qt("Guild")},GUILDS:{GUILD_IDENTIFIER:Qt("Guild Identifier"),SERVER:Qt("Server"),NAME:Qt("Name"),MEMBER_COUNT:Qt("Guild Member Count"),TIMESTAMP:Qt("Timestamp"),HOF:Qt("Hall of Fame Rank"),HOF_ALT:Qt("HoF"),RANK:Qt("Rank"),GUILD_RANK:Qt("Guild Rank")}},i4={1:"Warrior",2:"Mage",3:"Scout",4:"Assassin",5:"Battle Mage",6:"Berserker",7:"Demon Hunter",8:"Bard"},a4=[Ts.PLAYERS.LEVEL,Qt("Level"),Qt("Lvl"),Qt("Stufe")],o4=[Ts.PLAYERS.CLASS,Qt("Class"),Qt("ClassID"),Qt("Class ID"),Qt("CharClass"),Qt("Klasse")],l4=t=>{const e=new Map;return t.forEach(n=>{const r=Qt(n);e.has(r)||e.set(r,n)}),e},kd=t=>{const e=new Set;for(const n of t)Object.keys(n).forEach(r=>e.add(r));return Array.from(e)},ti=(t,e,n)=>{const r=e.get(n);return r&&Object.prototype.hasOwnProperty.call(t,r)?t[r]:Ga(t,n)},E1=(t,e,n)=>n.map(r=>ti(t,e,r)).find(r=>r!=null&&String(r)!==""),u2e=new Set([Qt("Strength"),Qt("Dexterity"),Qt("Intelligence"),Qt("Constitution"),Qt("Luck"),Qt("Attribute")]),h2e=["equipment"],m2e=t=>u2e.has(t)||h2e.some(e=>t.includes(e)),Ga=(t,e)=>{for(const n of Object.keys(t))if(Qt(n)===e)return t[n]};function Ig(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),a=Number(n[2])-1,l=Number(n[3]),c=Number(n[4]),u=Number(n[5]),h=n[6]?Number(n[6]):0,m=new Date(l,a,i,c,u,h);if(!Number.isNaN(m.getTime()))return Math.floor(m.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function FC(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),a=Math.ceil(((+n-+i)/864e5+1)/7),l=n.getUTCFullYear(),c=a.toString().padStart(2,"0");return`${l}-W${c}`}function BC(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),a=i+7*86400-1;return{start:i,end:a}}function $C(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function OC(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function p2e(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const a=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(n=i,r=a)}return n}function Rg(t){var u;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=p2e((u=n[0])!=null?u:""),i=h=>{const m=[];let f="",y=!1;for(let b=0;b<h.length;b++){const _=h[b];_==='"'?y&&h[b+1]==='"'?(f+='"',b++):y=!y:_===r&&!y?(m.push(f),f=""):f+=_}return m.push(f),m},l=(n[0]?i(n[0]).map(yi):[]).map((h,m)=>h||`col${m}`),c=[];for(let h=1;h<n.length;h++){if(!n[h])continue;const m=i(n[h]);if(m.every(y=>yi(y)===""))continue;const f={};for(let y=0;y<l.length;y++)f[l[y]]=m[y]!=null?yi(m[y]):"";c.push(f)}return{headers:l,rows:c}}function f2e(t){const e={};for(let n=0;n<t.length;n++){const r=Qt(t[n]);a4.includes(r)&&e.levelIndex==null&&(e.levelIndex=n),o4.includes(r)&&e.classIndex==null&&(e.classIndex=n)}if(e.levelIndex==null){const n=t.findIndex(r=>r.trim()==="Level");n>=0&&(e.levelIndex=n)}if(e.classIndex==null){const n=t.findIndex(r=>r.trim()==="Class");n>=0&&(e.classIndex=n)}return e}function c4(t,e){var c;const n=e&&e.length?e:kd(t),r=l4(n),i={missingIdentifier:0,badTimestamp:0,missingServer:0},a=[],l=f2e(n);for(const u of t){const h=(c=ti(u,r,Ts.PLAYERS.PID))!=null?c:ti(u,r,Ts.PLAYERS.IDENTIFIER),m=yi(h);if(!m){i.missingIdentifier++;continue}const f=Ig(ti(u,r,Ts.PLAYERS.TIMESTAMP));if(f==null){i.badTimestamp++;continue}const y=ti(u,r,Ts.PLAYERS.SERVER),b=y&&yi(y)!==""?r4(y):void 0;if(!b){i.missingServer++;continue}const _=ti(u,r,Ts.PLAYERS.NAME),S=_!=null&&yi(_)!==""?String(_):null,k=ti(u,r,Ts.PLAYERS.GUILD_IDENTIFIER),P=k!=null&&yi(k)!==""?String(k):null,D=ti(u,r,Ts.PLAYERS.GUILD),A=D!=null&&yi(D)!==""?String(D):null,v=l.levelIndex!=null?DC(u[n[l.levelIndex]]):DC(E1(u,r,a4)),w=l.classIndex!=null?MC(u[n[l.classIndex]]):MC(E1(u,r,o4));a.push({playerId:m,server:b,name:S,timestampSec:f,guildIdentifier:P,guildName:A,level:v,classId:w.classId,className:w.className,raw:u})}return{rows:a,stats:i,headers:n}}function d4(t,e){const n=e&&e.length?e:kd(t),r=l4(n),i={missingIdentifier:0,badTimestamp:0,missingServer:0},a=[];for(const l of t){const c=ti(l,r,Ts.GUILDS.GUILD_IDENTIFIER),u=yi(c);if(!u){i.missingIdentifier++;continue}const h=Ig(ti(l,r,Ts.GUILDS.TIMESTAMP));if(h==null){i.badTimestamp++;continue}const m=ti(l,r,Ts.GUILDS.SERVER),f=m&&yi(m)!==""?r4(m):void 0;if(!f){i.missingServer++;continue}const y=ti(l,r,Ts.GUILDS.NAME),b=y!=null&&yi(y)!==""?String(y):null,_=A1(ti(l,r,Ts.GUILDS.MEMBER_COUNT)),S=A1(E1(l,r,[Ts.GUILDS.HOF,Ts.GUILDS.HOF_ALT,Ts.GUILDS.RANK,Ts.GUILDS.GUILD_RANK]));a.push({guildIdentifier:u,server:f,name:b,timestampSec:h,memberCount:_,hofRank:S,raw:l})}return{rows:a,stats:i,headers:n}}function g2e(t){const e=Rg(t);return c4(e.rows,e.headers).rows}function x2e(t){const e=Rg(t);return d4(e.rows,e.headers).rows}const VC="stats_cache_player_derived",v2e="stats_index_players_daily_compact",Wf=40,UC=120;async function Ld(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let i=0;i<t.length;i+=e){const a=oO(ft),l=t.slice(i,i+e);for(const c of l)c(a);r==null||r({phase:"write",current:Math.min(i+l.length,t.length),total:t.length,pass:n}),await a.commit(),await new Promise(c=>setTimeout(c,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}async function zC(t,e,n){var m,f,y;const r=[];if(!t.length)return r;let i=0,a=0,l=0,c=0;const u=b=>{e==null||e({phase:b,current:b==="done"?t.length:i,total:t.length,pass:"scans",created:a,duplicate:l,error:c,kind:n})};u("prepare");const h=ft.bulkWriter;if(typeof h=="function"){const b=h.call(ft,{throttling:!0}),_=()=>{i++,u("write")};for(const{ref:S,data:k,key:P}of t)b.create(S,k).then(()=>{a++,r.push({key:P,status:"created"}),_()}).catch(D=>{var v,w;const A=String((v=D==null?void 0:D.code)!=null?v:"").toLowerCase();A.includes("already")&&A.includes("exist")?(l++,r.push({key:P,status:"duplicate"})):(c++,r.push({key:P,status:"error",message:String((w=D==null?void 0:D.message)!=null?w:D)})),_()});try{await b.close()}catch(S){console.warn("[ImportCsv] bulkWriter close with errors",{error:S})}return u("done"),r}for(const{ref:b,data:_,key:S}of t){try{await co(b,_),a++,r.push({key:S,status:"created"})}catch(k){const P=String((m=k==null?void 0:k.code)!=null?m:"").toLowerCase();P.includes("permission")||P.includes("already")?(l++,r.push({key:S,status:"duplicate",message:String((f=k==null?void 0:k.message)!=null?f:k)})):(c++,r.push({key:S,status:"error",message:String((y=k==null?void 0:k.message)!=null?y:k)}))}i++,u("write")}return u("done"),r}async function y2e(t,e,n,r){if(!t.length&&!e.length&&!n.length)return;const i=t.length+e.length+n.length,a=ft.bulkWriter;if(typeof a=="function"){const h=a.call(ft,{throttling:!0});r==null||r({phase:"prepare",current:0,total:i,pass:"latest"});for(const{ref:m,data:f}of t)h.set(m,f,{merge:!0});for(const{pid:m,data:f}of e)h.set(Xt(ft,`${VC}/${m}`),f,{merge:!0});for(const{ref:m,data:f}of n)h.set(m,f,{merge:!0});r==null||r({phase:"write",current:i,total:i,pass:"latest"}),await h.close(),r==null||r({phase:"done",current:1,total:1,pass:"latest"});return}const l=t.map(({ref:h,data:m})=>f=>f.set(h,m,{merge:!0})),c=e.map(({pid:h,data:m})=>f=>f.set(Xt(ft,`${VC}/${h}`),m,{merge:!0})),u=n.map(({ref:h,data:m})=>f=>f.set(h,m,{merge:!0}));await Ld(l,Wf,"latest",r),await Ld(c,Wf,"latest",r),await Ld(u,Wf,"latest",r)}function wf(t,e){const n={};for(const r of e){const i=Qt(r);if(m2e(i)){let a=null,l;for(const c of t){const u=c.row[r];if(u==null||u==="")continue;const h=Number(String(u).replace(/[^0-9.-]/g,""));Number.isNaN(h)||(a==null||h>a)&&(a=h,l=u)}n[r]=l!=null?l:""}else{let a="";for(let l=t.length-1;l>=0;l--){const c=t[l].row[r];if(c!=null&&String(c)!==""){a=c;break}}n[r]=a}}return n}async function HC(t){var i;const e=await rn(t);if(!e.exists())return 0;const n=e.data();if(((i=n==null?void 0:n.values)==null?void 0:i.Timestamp)!=null){const a=Ig(n.values.Timestamp);if(a!=null)return a}if((n==null?void 0:n.timestampRaw)!=null){const a=Ig(n.timestampRaw);if(a!=null)return a}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const a=Date.parse(r);return Number.isFinite(a)?Math.floor(a/1e3):0}return 0}async function GC(t,e){var m,f,y,b,_,S,k;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],a={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0},l=[],c=[];if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');const u=e.onProgress?(P=>{var D;return(D=e.onProgress)==null?void 0:D.call(e,{...P,kind:e.kind})}):void 0;if(e.kind==="players"){const P=[],D=[],A=[],v=new Map,w=[];let L=[],C=[];if(e.rows&&Array.isArray(e.rows))L=e.rows,C=kd(L);else if(e.raw&&typeof e.raw=="string"){const H=Rg(e.raw);L=H.rows,C=H.headers}else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const{rows:N,stats:E,headers:F}=c4(L,C);a.skippedMissingIdentifier+=E.missingIdentifier,a.skippedBadTs+=E.badTimestamp,a.skippedMissingServer+=E.missingServer;const I=F.length?F:kd(L),B=new Map;for(const H of N){const W=`${H.playerId}__${H.server}__${H.timestampSec}`;P.push({key:W,ref:Xt(ft,`players/${H.playerId}/scans/${H.timestampSec}`),data:{playerId:H.playerId,server:H.server,timestamp:H.timestampSec,timestampRaw:Ga(H.raw,Ts.PLAYERS.TIMESTAMP),name:H.name,values:H.raw,createdAt:Bi()}}),B.has(H.playerId)||B.set(H.playerId,[]),B.get(H.playerId).push({row:H.raw,ts:H.timestampSec,parsed:H})}const $=await zC(P,u,"players");l.push(...$),a.writtenScanPlayers=$.filter(H=>H.status==="created").length;for(const[H,W]of B){W.sort((ve,Ee)=>ve.ts-Ee.ts);const K=W[W.length-1],q=K.parsed,se=q.server,ne=q.name,z=(m=q.level)!=null?m:null,Y=(f=q.className)!=null?f:null,le=(y=q.guildName)!=null?y:null,ae=q.guildIdentifier,he=ne!=null?ne:"",ye=RC(he),Ie=PC(ye),Z=Xt(ft,`players/${H}/latest/latest`),fe=await HC(Z);if(K.ts>fe){const ve=Bi();D.push({ref:Z,data:{playerId:H,server:se,timestamp:K.ts,timestampRaw:Ga(K.row,Ts.PLAYERS.TIMESTAMP),name:ne,values:K.row,updatedAt:ve,nameFold:Gf(he),nameTokens:ye,nameNgrams:Ie,level:z,className:Y,guildName:le,guildNameFold:le?Gf(le):null}});const Ee={playerId:H,name:ne,className:Y,level:z,server:se,guildIdentifier:ae||void 0,guildName:le||void 0,values:K.row,timestamp:K.ts,updatedAt:ve},Ve=l2e(Ee,Bi);A.push({pid:H,data:Ve});const ze=c2e(K.ts),st=[{scopeId:"all_all_sum",group:"ALL",serverKey:"all"},{scopeId:`${Ve.group||"ALL"}_all_sum`,group:Ve.group||"ALL",serverKey:"all"}];Ve.serverKey&&Ve.serverKey!=="all"&&st.push({scopeId:`${Ve.group||"ALL"}_${Ve.serverKey}_sum`,group:Ve.group||"ALL",serverKey:Ve.serverKey});for(const at of st){const mt=`${ze}__${at.scopeId}`;v.has(mt)||v.set(mt,{dateKey:ze,scopeId:at.scopeId,group:at.group,serverKey:at.serverKey,ids:[],vals:[]});const Ut=v.get(mt);Ut.ids.push(H),Ut.vals.push(Number((b=Ve.sum)!=null?b:0))}a.writtenLatestPlayers++}const oe=new Map,_e=new Map;for(const ve of W){const Ee=FC(ve.ts),Ve=$C(ve.ts);oe.has(Ee)||oe.set(Ee,[]),_e.has(Ve)||_e.set(Ve,[]),oe.get(Ee).push(ve),_e.get(Ve).push(ve)}for(const[ve,Ee]of oe){Ee.sort((at,mt)=>at.ts-mt.ts);const Ve=wf(Ee,I),ze=BC(Ee[Ee.length-1].ts),st=Ee[Ee.length-1];w.push(at=>{const mt=Xt(ft,`players/${H}/history_weekly/${ve}`);at.set(mt,{playerId:H,weekId:ve,periodStartSec:ze.start,periodEndSec:ze.end,lastTs:st.ts,lastTimestampRaw:Ga(st.row,Ts.PLAYERS.TIMESTAMP),server:st.parsed.server,name:st.parsed.name,values:Ve,updatedAt:Bi()},{merge:!0})}),a.writtenWeeklyPlayers++}for(const[ve,Ee]of _e){Ee.sort((at,mt)=>at.ts-mt.ts);const Ve=wf(Ee,I),ze=OC(Ee[Ee.length-1].ts),st=Ee[Ee.length-1];w.push(at=>{const mt=Xt(ft,`players/${H}/history_monthly/${ve}`);at.set(mt,{playerId:H,monthId:ve,periodStartSec:ze.start,periodEndSec:ze.end,lastTs:st.ts,lastTimestampRaw:Ga(st.row,Ts.PLAYERS.TIMESTAMP),server:st.parsed.server,name:st.parsed.name,values:Ve,updatedAt:Bi()},{merge:!0})}),a.writtenMonthlyPlayers++}}const U=[];for(const{dateKey:H,scopeId:W,group:K,serverKey:q,ids:se,vals:ne}of v.values()){const z=se.map((he,ye)=>{var Ie;return{id:he,val:(Ie=ne[ye])!=null?Ie:0}});z.sort((he,ye)=>ye.val-he.val);const Y=z.map(he=>he.id),le=z.map(he=>he.val),ae=z.map((he,ye)=>ye+1);U.push({ref:Xt(ft,`${v2e}/${H}__${W}`),data:{n:z.length,ids:Y,vals:le,ranks:ae,generatedAt:Date.now(),group:K,serverKey:q,metric:"sum",dateKey:H}})}await y2e(D,A,U,u),await Ld(w,UC,"history",u)}if(e.kind==="guilds"){const P=[],D=[],A=[];let v=[],w=[];if(e.rows&&Array.isArray(e.rows))v=e.rows,w=kd(v);else if(e.raw&&typeof e.raw=="string"){const B=Rg(e.raw);v=B.rows,w=B.headers}else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const{rows:L,stats:C,headers:N}=d4(v,w);a.skippedMissingGuildIdentifier+=C.missingIdentifier,a.skippedBadTsGuild+=C.badTimestamp,a.skippedMissingServer+=C.missingServer;const E=N.length?N:kd(v),F=new Map;for(const B of L){const $=`${B.guildIdentifier}__${B.server}__${B.timestampSec}`;P.push({key:$,ref:Xt(ft,`guilds/${B.guildIdentifier}/scans/${B.timestampSec}`),data:{guildIdentifier:B.guildIdentifier,server:B.server,timestamp:B.timestampSec,timestampRaw:Ga(B.raw,Ts.GUILDS.TIMESTAMP),name:B.name,values:B.raw,createdAt:Bi()}}),F.has(B.guildIdentifier)||F.set(B.guildIdentifier,[]),F.get(B.guildIdentifier).push({row:B.raw,ts:B.timestampSec,parsed:B})}const I=await zC(P,u,"guilds");c.push(...I),a.writtenScanGuilds=I.filter(B=>B.status==="created").length;for(const[B,$]of F){$.sort((he,ye)=>he.ts-ye.ts);const U=$[$.length-1],H=U.parsed,W=(_=H.name)!=null?_:"",K=RC(W),q=PC(K),se=(S=H.memberCount)!=null?S:null,ne=(k=H.hofRank)!=null?k:null,z=Xt(ft,`guilds/${B}/latest/latest`),Y=await HC(z);U.ts>Y&&(D.push(he=>{he.set(z,{guildIdentifier:B,server:H.server,timestamp:U.ts,timestampRaw:Ga(U.row,Ts.GUILDS.TIMESTAMP),name:H.name,values:U.row,updatedAt:Bi(),nameFold:Gf(W),nameTokens:K,nameNgrams:q,memberCount:se,hofRank:ne},{merge:!0})}),a.writtenLatestGuilds++);const le=new Map,ae=new Map;for(const he of $){const ye=FC(he.ts),Ie=$C(he.ts);le.has(ye)||le.set(ye,[]),ae.has(Ie)||ae.set(Ie,[]),le.get(ye).push(he),ae.get(Ie).push(he)}for(const[he,ye]of le){ye.sort((oe,_e)=>oe.ts-_e.ts);const Ie=wf(ye,E),Z=BC(ye[ye.length-1].ts),fe=ye[ye.length-1];A.push(oe=>{const _e=Xt(ft,`guilds/${B}/history_weekly/${he}`);oe.set(_e,{guildIdentifier:B,weekId:he,periodStartSec:Z.start,periodEndSec:Z.end,lastTs:fe.ts,lastTimestampRaw:Ga(fe.row,Ts.GUILDS.TIMESTAMP),server:fe.parsed.server,name:fe.parsed.name,values:Ie,updatedAt:Bi()},{merge:!0})}),a.writtenWeeklyGuilds++}for(const[he,ye]of ae){ye.sort((oe,_e)=>oe.ts-_e.ts);const Ie=wf(ye,E),Z=OC(ye[ye.length-1].ts),fe=ye[ye.length-1];A.push(oe=>{const _e=Xt(ft,`guilds/${B}/history_monthly/${he}`);oe.set(_e,{guildIdentifier:B,monthId:he,periodStartSec:Z.start,periodEndSec:Z.end,lastTs:fe.ts,lastTimestampRaw:Ga(fe.row,Ts.GUILDS.TIMESTAMP),server:fe.parsed.server,name:fe.parsed.name,values:Ie,updatedAt:Bi()},{merge:!0})}),a.writtenMonthlyGuilds++}}try{await Ld(D,Wf,"latest",u)}catch(B){if(LC(B))console.warn("[ImportCsv] guild latest write skipped (duplicate/permission)",{error:B});else throw B}try{await Ld(A,UC,"history",u)}catch(B){if(LC(B))console.warn("[ImportCsv] guild history write skipped (duplicate/permission)",{error:B});else throw B}}const h=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:a,errors:r,warnings:i,durationMs:h-n,playerResults:l,guildResults:c}}const Dt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),b2e=t=>String(t!=null?t:"").trim(),I1=t=>b2e(t).toUpperCase(),R1=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function ir(t,e){for(const n of Object.keys(t))if(Dt(n)===e)return t[n]}function za(t,e){for(const n of e){const r=ir(t,n);if(r!=null&&String(r)!=="")return r}}function Yl(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function Dd(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),a=Number(n[2])-1,l=Number(n[3]),c=Number(n[4]),u=Number(n[5]),h=n[6]?Number(n[6]):0,m=new Date(l,a,i,c,u,h);if(!Number.isNaN(m.getTime()))return Math.floor(m.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const un={GUILD_IDENTIFIER:Dt("Guild Identifier"),SERVER:Dt("Server"),NAME:Dt("Name"),TIMESTAMP:Dt("Timestamp"),LEVEL:Dt("Level"),CLASS:Dt("Class"),GUILD:Dt("Guild"),GUILD_ROLE:[Dt("Role"),Dt("Guild Role")],TREASURY:[Dt("Treasury"),Dt("Fortress Treasury"),Dt("Treasury Level"),Dt("Festungsschatzkammer")],MINE:[Dt("Mine"),Dt("Gem Mine"),Dt("Mine Level"),Dt("Festungsmine")],BASE_MAIN:[Dt("Base"),Dt("Base Attribute"),Dt("BaseMain"),Dt("Basis Attribut")],CON_BASE:[Dt("Con Base"),Dt("Constitution Base"),Dt("Base Constitution"),Dt("Basis Konstitution"),Dt("conbase")],ATTR_TOT:[Dt("Attribute"),Dt("Attr Total"),Dt("Attribut"),Dt("Attribut Gesamt")],CON_TOT:[Dt("Constitution"),Dt("Constitution Total"),Dt("Konstitution"),Dt("Konstitution Gesamt")],LAST_ACTIVE:[Dt("Last Active"),Dt("LastActivity"),Dt("Letzte Aktivitt")],GUILD_JOINED:[Dt("Guild Joined"),Dt("Joined Guild"),Dt("Gildenbeitritt")]},qf={GUILD_IDENTIFIER:Dt("Guild Identifier"),SERVER:Dt("Server"),NAME:Dt("Name")};function WC(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function _2e(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function w2e(t){var n;const e=new Map;for(const r of t){const i=String((n=ir(r,qf.GUILD_IDENTIFIER))!=null?n:"").trim(),a=ir(r,qf.SERVER),l=ir(r,qf.NAME);if(!i||!a||!l)continue;const c=`${I1(a)}__${R1(String(l))}`;e.set(c,i)}return e}function j2e(t){var A,v;const e=ir(t,un.TIMESTAMP),n=Dd(e),r=za(t,un.LAST_ACTIVE),i=Dd(r),a=za(t,un.GUILD_JOINED),l=Dd(a),c=Yl(ir(t,un.LEVEL)),u=(()=>{const w=ir(t,un.CLASS);return w!=null&&String(w).trim()!==""?String(w):null})(),h=(()=>{const w=za(t,un.GUILD_ROLE);return w!=null&&String(w).trim()!==""?String(w):null})(),m=Yl(za(t,un.TREASURY)),f=Yl(za(t,un.MINE)),y=Yl(za(t,un.BASE_MAIN)),b=Yl(za(t,un.CON_BASE)),_=Yl(za(t,un.ATTR_TOT)),S=Yl(za(t,un.CON_TOT)),k=y!=null&&b!=null?y+b:null,P=_!=null&&S!=null?_+S:null,D=(()=>{const w=ir(t,un.NAME);return w!=null&&String(w).trim()!==""?String(w):null})();return{id:String((v=(A=t==null?void 0:t.ID)!=null?A:t==null?void 0:t.Identifier)!=null?v:""),name:D,class:u,role:h,level:c,treasury:m,mine:f,baseMain:y,conBase:b,sumBaseTotal:k,attrTotal:_,conTotal:S,totalStats:P,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:a!=null?String(a):null,guildJoinedMs:l!=null?l*1e3:null}}function Ha(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}const S2e=t=>{const e=t==null?void 0:t.code;if(!e)return!1;const n=String(e).toLowerCase();return n==="permission-denied"||n==="already-exists"||n==="failed-precondition"};async function N2e(t){var l,c,u;const e=Xt(ft,`guilds/${t}/latest/latest`),n=await rn(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(u=(c=r.timestampRaw)!=null?c:(l=r.values)==null?void 0:l.Timestamp)!=null?u:null;let a=null;return typeof r.timestamp=="number"?a=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(a=Dd(i)),{sec:a,raw:i}}async function k2e(t){const e=Xt(ft,`guilds/${t}/snapshots/members_summary`),n=await rn(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=Dd(r.updatedAt);if(i!=null)return i}return 0}async function C2e(t,e){var l,c,u,h,m,f,y;const n=w2e(e||[]),r=new Set;for(const b of e||[]){const _=String((l=ir(b,qf.GUILD_IDENTIFIER))!=null?l:"").trim();_&&r.add(_)}for(const b of t||[]){const _=ir(b,un.SERVER);let S=String((c=ir(b,un.GUILD_IDENTIFIER))!=null?c:"").trim();if(!S){const k=(u=ir(b,un.GUILD))!=null?u:b.Guild;if(k&&_){const P=`${I1(_)}__${R1(String(k))}`,D=n.get(P);D&&(S=D)}}S&&r.add(S)}let i=0,a=null;for(const b of r){const{sec:_,raw:S}=await N2e(b);if(_==null)continue;const k=await k2e(b);if(_<=k)continue;const P=new Map;for(const W of t||[]){const K=ir(W,un.SERVER);let q=String((h=ir(W,un.GUILD_IDENTIFIER))!=null?h:"").trim();if(!q){const z=(m=ir(W,un.GUILD))!=null?m:W.Guild;if(z&&K){const Y=`${I1(K)}__${R1(String(z))}`,le=n.get(Y);le&&(q=le)}}if(q!==b)continue;const se=Dd(ir(W,un.TIMESTAMP));if(se==null||se!==_)continue;const ne=String((y=(f=W==null?void 0:W.ID)!=null?f:W==null?void 0:W.Identifier)!=null?y:"").trim();ne&&(P.has(ne)||P.set(ne,W))}const D=Array.from(P.values()),A=[];for(const W of D)A.push(j2e(W));A.sort((W,K)=>{var ne,z;const q=WC(W.role),se=WC(K.role);return q!==se?q-se:((ne=W.name)!=null?ne:"").toLowerCase().localeCompare(((z=K.name)!=null?z:"").toLowerCase())});const v=Ha(A,"level"),w=Ha(A,"treasury"),L=Ha(A,"mine"),C=Ha(A,"baseMain"),N=Ha(A,"conBase"),E=Ha(A,"sumBaseTotal"),F=Ha(A,"attrTotal"),I=Ha(A,"conTotal"),B=Ha(A,"totalStats"),$=JSON.stringify({gid:b,tsSec:_,members:A.map(W=>{var K,q,se,ne,z,Y,le,ae,he,ye,Ie,Z,fe;return{id:W.id,name:(K=W.name)!=null?K:"",class:(q=W.class)!=null?q:"",role:(se=W.role)!=null?se:"",level:(ne=W.level)!=null?ne:null,treasury:(z=W.treasury)!=null?z:null,mine:(Y=W.mine)!=null?Y:null,baseMain:(le=W.baseMain)!=null?le:null,conBase:(ae=W.conBase)!=null?ae:null,sumBaseTotal:(he=W.sumBaseTotal)!=null?he:null,attrTotal:(ye=W.attrTotal)!=null?ye:null,conTotal:(Ie=W.conTotal)!=null?Ie:null,totalStats:(Z=W.totalStats)!=null?Z:null,guildJoinedMs:(fe=W.guildJoinedMs)!=null?fe:null}})}),U=_2e($),H=Xt(ft,`guilds/${b}/snapshots/members_summary`);try{await co(H,{guildId:b,count:A.length,updatedAt:S!=null?S:String(_),updatedAtMs:_*1e3,hash:U,avgLevel:v,avgTreasury:w,avgMine:L,avgBaseMain:C,avgConBase:N,avgSumBaseTotal:E,avgAttrTotal:F,avgConTotal:I,avgTotalStats:B,members:A,updatedAtServer:Bi()},{merge:!0}),i++}catch(W){if(S2e(W)){console.warn("[ImportSelectionToDb] writeGuildSnapshotsFromRows duplicate/permission",{gid:b,error:W});continue}console.error("[ImportSelectionToDb] writeGuildSnapshotsFromRows fatal",{gid:b,error:W}),a=a||W}}if(a)throw a;return{guildsProcessed:r.size,snapshotsWritten:i}}function T2e(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function A2e(t,e,n,r){var u,h,m;const i=Xt(ft,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),a=await rn(i);if(!a.exists())return await co(i,n,{merge:!1}),{first:n,firstTsMs:(u=n.updatedAtMs)!=null?u:n.timestamp?n.timestamp*1e3:r};const l=a.data(),c=(h=l.updatedAtMs)!=null?h:l.timestamp?l.timestamp*1e3:r;return r<c?(await co(i,n,{merge:!1}),{first:n,firstTsMs:(m=n.updatedAtMs)!=null?m:n.timestamp?n.timestamp*1e3:r}):{first:l,firstTsMs:c}}async function E2e(t,e,n){const r=Xt(ft,`guilds/${t}/history_monthly/${e}`);await co(r,n,{merge:!0})}function I2e(t){var D,A,v,w,L,C,N,E,F,I,B,$,U;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:a,latest:l,latestTsMs:c}=t,u=a!=null?Math.floor((c-a)/864e5):null,h=u!=null&&u<=40,m={available:h};h||(m.reason=u==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const f={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:a?new Date(a).toISOString():null,toISO:new Date(c).toISOString(),fromTs:a?Math.floor(a/1e3):null,toTs:Math.floor(c/1e3),daysSpan:u,guildId:e,server:r!=null?r:null},status:m};if(!h||!i)return f;const y=new Map;for(const H of i.members||[])H.playerId&&y.set(H.playerId,H);const b=[],_=[],S=[],k=[],P=[];for(const H of l.members||[]){if(!H.playerId)continue;const W=y.get(H.playerId)||null,K=(D=H.sumBaseTotal)!=null?D:null,q=(A=W==null?void 0:W.sumBaseTotal)!=null?A:null,se=K!=null&&q!=null?K-q:0,ne=(v=H.totalStats)!=null?v:null,z=(w=W==null?void 0:W.totalStats)!=null?w:null,Y=ne!=null&&z!=null?ne-z:0;b.push({playerId:H.playerId,name:(L=H.name)!=null?L:null,class:(C=H.class)!=null?C:null,levelLatest:(N=H.level)!=null?N:null,baseLatest:K,baseDelta:se}),_.push({playerId:H.playerId,name:(E=H.name)!=null?E:null,base:K,stamDelta:null,shoDelta:null}),S.push({playerId:H.playerId,name:(F=H.name)!=null?F:null,stats:K,delta:se}),k.push({playerId:H.playerId,name:(I=H.name)!=null?I:null,total:ne,delta:Y}),P.push({playerId:H.playerId,name:(B=H.name)!=null?B:null,class:($=H.class)!=null?$:null,stats:(U=H.baseMain)!=null?U:null,delta:(W==null?void 0:W.baseMain)!=null&&H.baseMain!=null?H.baseMain-W.baseMain:0})}return b.sort((H,W)=>{var K,q;return((K=W.baseDelta)!=null?K:-1/0)-((q=H.baseDelta)!=null?q:-1/0)}),S.sort((H,W)=>{var K,q;return((K=W.stats)!=null?K:-1/0)-((q=H.stats)!=null?q:-1/0)}),k.sort((H,W)=>{var K,q;return((K=W.total)!=null?K:-1/0)-((q=H.total)!=null?q:-1/0)}),_.sort((H,W)=>{var K,q;return((K=W.base)!=null?K:-1/0)-((q=H.base)!=null?q:-1/0)}),P.sort((H,W)=>{var K,q;return((K=W.stats)!=null?K:-1/0)-((q=H.stats)!=null?q:-1/0)}),{...f,mostBaseGained:b.slice(0,50),sumBaseStats:_.slice(0,50),highestBaseStats:S.slice(0,50),highestTotalStats:k.slice(0,50),mainAndCon:P.slice(0,50)}}const P1=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),qC=(t,e)=>{for(const n of Object.keys(t))if(P1(n)===e)return t[n]};async function u4(t,e){var m,f;const{playersRows:n,guildsRows:r}=t,i=[];let a=[],l=[],c=!0;const u=e!=null&&e.onProgress?(y,b)=>{var _;return(_=e.onProgress)==null?void 0:_.call(e,{...y,kind:b})}:void 0;try{const y=await GC(null,{kind:"guilds",rows:r,onProgress:u?b=>u(b,"guilds"):void 0});i.push(y),Array.isArray(y.guildResults)&&(l=y.guildResults)}catch(y){console.error("[ImportSelectionToDb] guild import error",y),c=!1}try{const y=await GC(null,{kind:"players",rows:n,onProgress:u?b=>u(b,"players"):void 0});i.push(y),Array.isArray(y.playerResults)&&(a=y.playerResults)}catch(y){console.error("[ImportSelectionToDb] player import error",y),c=!1}try{await C2e(n,r)}catch(y){console.warn("[ImportSelectionToDb] writeGuildSnapshotsFromRows skipped",y),c=!1}const h=new Set;for(const y of r){const b=qC(y,P1("Guild Identifier"));b&&h.add(String(b))}for(const y of n){const b=qC(y,P1("Guild Identifier"));b&&h.add(String(b))}for(const y of h){const b=Xt(ft,`guilds/${y}/snapshots/members_summary`),_=await rn(b);if(!_.exists())continue;const S=_.data(),k=Number((m=S.updatedAtMs)!=null?m:S.timestamp?S.timestamp*1e3:Date.now()),P=T2e(k);let D=null,A=null;try{const w=await A2e(y,P,S,k);D=w.first,A=w.firstTsMs}catch(w){console.warn("[ImportSelectionToDb] ensureFirstOfMonth skipped",{guildId:y,monthKey:P,error:w})}const v=I2e({guildId:y,monthKey:P,server:(f=S.server)!=null?f:null,first:D,firstTsMs:A,latest:S,latestTsMs:k});try{await E2e(y,P,v)}catch(w){console.warn("[ImportSelectionToDb] writeMonthlyDoc skipped",{guildId:y,monthKey:P,error:w})}}return{ok:c,players:a,guilds:l,reports:i}}const b0=t=>String(t!=null?t:"").trim(),vr=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function R2e(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const a=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;a>r&&(n=i,r=a)}return n}function L1(t){var u;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=R2e((u=n[0])!=null?u:""),i=h=>{const m=[];let f="",y=!1;for(let b=0;b<h.length;b++){const _=h[b];_==='"'?y&&h[b+1]==='"'?(f+='"',b++):y=!y:_===r&&!y?(m.push(f),f=""):f+=_}return m.push(f),m},l=(n[0]?i(n[0]).map(b0):[]).map((h,m)=>h||`col${m}`),c=[];for(let h=1;h<n.length;h++){if(!n[h])continue;const m=i(n[h]);if(m.every(y=>b0(y)===""))continue;const f={};for(let y=0;y<l.length;y++)f[l[y]]=m[y]!=null?b0(m[y]):"";c.push(f)}return{headers:l,rows:c,delimiter:r}}const pn={PLAYERS:{IDENTIFIER:vr("Identifier"),PID:vr("ID"),GUILD_IDENTIFIER:vr("Guild Identifier"),TIMESTAMP:vr("Timestamp"),NAME:vr("Name"),SERVER:vr("Server"),OWN:vr("Own")},GUILDS:{GUILD_IDENTIFIER:vr("Guild Identifier"),GUILD_MEMBER_COUNT:vr("Guild Member Count"),NAME:vr("Name"),TIMESTAMP:vr("Timestamp"),SERVER:vr("Server")}},h4=(t,e)=>{const n=new Set(t.map(vr));return e.every(r=>n.has(r))},ca=(t,e)=>{for(const n of Object.keys(t))if(vr(n)===e)return t[n]};function P2e(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function KC(t){const e=t.map(vr),n=a=>e.includes(a);let r=0,i=0;return n(pn.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(pn.PLAYERS.IDENTIFIER)&&(r+=2),n(pn.PLAYERS.TIMESTAMP)&&(r+=1),n(pn.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(pn.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(pn.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(pn.PLAYERS.IDENTIFIER)?"players":"guilds"}function D1(t,e){const n=P2e(t);if(n!=="unknown"){const i=KC(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=KC(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function m4(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function L2e(t,e){var r;const n=[];if(!h4(e,[pn.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of t){const a=ca(i,pn.PLAYERS.GUILD_IDENTIFIER);if(!a)continue;const l=ca(i,pn.PLAYERS.SERVER),c=l&&String(l).trim()!==""?String(l).trim().toUpperCase():void 0;n.push({guildIdentifier:String(a),id:ca(i,pn.PLAYERS.IDENTIFIER)||void 0,name:ca(i,pn.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(ca(i,pn.PLAYERS.OWN)).toLowerCase()),server:c,tsSec:(r=m4(ca(i,pn.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function D2e(t,e){const n=[];if(!h4(e,[pn.GUILDS.GUILD_IDENTIFIER,pn.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const i=ca(r,pn.GUILDS.GUILD_IDENTIFIER),a=Number(ca(r,pn.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(a))continue;const l=m4(ca(r,pn.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:ca(r,pn.GUILDS.NAME)||void 0,memberCount:a,tsSec:l!=null?l:void 0})}return n}function p4(t){var c,u,h,m,f,y,b,_;let e=[],n=[];for(const S of t){const k=L1(S.text),{kind:P}=D1(S.name,k.headers);P==="players"?e=e.concat(g2e(S.text)):P==="guilds"&&(n=n.concat(x2e(S.text)))}const r=[],i=new Map,a=new Map;for(const S of e){const k={playerId:S.playerId,name:(c=S.name)!=null?c:"",server:S.server,guildId:(u=S.guildIdentifier)!=null?u:void 0,level:(h=S.level)!=null?h:void 0,className:(m=S.className)!=null?m:void 0,scanTimestampSec:S.timestampSec};r.push(k),S.guildIdentifier&&(i.has(S.guildIdentifier)||i.set(S.guildIdentifier,[]),i.get(S.guildIdentifier).push(k),a.has(S.guildIdentifier)||a.set(S.guildIdentifier,S.server))}const l=[];for(const S of n){const k=(f=i.get(S.guildIdentifier))!=null?f:[];l.push({guildId:S.guildIdentifier,name:(y=S.name)!=null?y:S.guildIdentifier,server:S.server,memberCount:(b=S.memberCount)!=null?b:k.length,scanTimestampSec:S.timestampSec,members:k.map(P=>({playerId:P.playerId,name:P.name,level:P.level,className:P.className}))}),i.delete(S.guildIdentifier)}for(const[S,k]of i.entries()){if(!k.length)continue;const P=a.get(S);if(!P)continue;const D=k.reduce((A,v)=>Math.max(A,v.scanTimestampSec),k[0].scanTimestampSec);l.push({guildId:S,name:S,server:P,memberCount:k.length,scanTimestampSec:D,members:k.map(A=>({playerId:A.playerId,name:A.name,level:A.level,className:A.className}))})}return{filename:(_=t[0])==null?void 0:_.name,players:r,guilds:l}}function M2e(t,e){var k,P,D,A,v,w;const n=[],r=new Map;for(const L of t){const C=L.id||"",N=(k=L.server)==null?void 0:k.toUpperCase();if(C){const E=`${N!=null?N:"NO"}::${C}`;r.has(E)||r.set(E,{server:N,id:C,name:L.name||"",own:!!L.own})}}const i=r.size,a=t.length,l=Array.from(r.values()).filter(L=>L.own).length,c=new Map;for(const L of r.values())L.server&&c.set(L.server,((P=c.get(L.server))!=null?P:0)+1);const u=Array.from(c.entries()).map(([L,C])=>({server:L,players:C})).sort((L,C)=>C.players-L.players),h=u.length,m=new Map;for(const L of t)m.set(L.guildIdentifier,((D=m.get(L.guildIdentifier))!=null?D:0)+1);const f=new Set,y=new Map;for(const L of e)f.add(L.guildIdentifier),y.set(L.guildIdentifier,{name:L.name||"",declared:L.memberCount});for(const L of m.keys())f.add(L);let b=0;const _=[];for(const L of f){const C=(A=y.get(L))==null?void 0:A.declared,N=(v=m.get(L))!=null?v:0,E=C!=null&&N===C;E&&b++,_.push({id:L,name:((w=y.get(L))==null?void 0:w.name)||"",declaredCount:C!=null?C:0,playersCount:N,full:E})}[...y.values()].some(L=>Number.isFinite(L.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),_.sort((L,C)=>L.name?L.name.localeCompare(C.name):L.id.localeCompare(C.id));const S=Array.from(r.values()).sort((L,C)=>(L.server||"")===(C.server||"")?L.name.localeCompare(C.name):(L.server||"").localeCompare(C.server||""));return{totalPlayers:a,uniquePlayerIds:i,ownPlayers:l,servers:h,perServer:u,guildsRepresented:f.size,fullyScannedGuilds:b,notes:n,playersList:S,guildsList:_}}function f4({mode:t="db",onBuildUploadSession:e}){const[n,r]=T.useState([]),[i,a]=T.useState(null),[l,c]=T.useState(!1),[u,h]=T.useState(null),[m,f]=T.useState(!1),[y,b]=T.useState(null),[_,S]=T.useState([]),[k,P]=T.useState(null);T.useEffect(()=>{const I=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=I}},[]);const D=T.useCallback(async I=>{var B;c(!0),h(null),a(null),S([]),b(null);try{const $=Array.from(I).slice(0,2),U=[];let H=[],W=[];for(const K of $){const q=K,se=await q.text(),ne=L1(se),{kind:z,warn:Y}=D1(q.name,ne.headers);U.push({name:q.name,size:q.size||se.length,rows:ne.rows.length,delimiter:ne.delimiter,text:se,kind:z,warn:Y}),z==="players"?H=H.concat(L2e(ne.rows,ne.headers)):z==="guilds"&&(W=W.concat(D2e(ne.rows,ne.headers)))}r(U),a(M2e(H,W))}catch($){h(String((B=$==null?void 0:$.message)!=null?B:$))}finally{c(!1)}},[]),A=T.useCallback(async I=>{!I||I.length===0||await D(I)},[D]),v=T.useCallback(async I=>{I.preventDefault();const B=I.dataTransfer.files;!B||!B.length||await D(B)},[D]),w=T.useCallback(()=>{const I=n.map(B=>({name:B.name,text:B.text}));return p4(I)},[n]);async function L(){var I;if(n.length){f(!0),P({phase:"prepare",current:0,total:0}),b(null),S([]);try{let B=[],$=[];for(const H of n){const W=L1(H.text),{kind:K}=D1(H.name,W.headers);K==="players"&&(B=B.concat(W.rows)),K==="guilds"&&($=$.concat(W.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!B.length,hasGuildsCsv:!!$.length,playersRows:B.length,guildsRows:$.length}),!$.length)throw new Error('Guilds-CSV mit "Guild Identifier" + "Guild Member Count" + "Timestamp" nicht gefunden.');if(!B.length)throw new Error('Players-CSV mit "Guild Identifier" nicht gefunden.');const U=await u4({playersRows:B,guildsRows:$},{onProgress:H=>P(H)});P({phase:"done",current:1,total:1}),S(U.reports),b("Import abgeschlossen.")}catch(B){console.error("[UploadCenter] Import error:",B),b(`Fehler beim Import: ${(I=B==null?void 0:B.message)!=null?I:B}`)}finally{f(!1),setTimeout(()=>P(null),1200)}}}const C=T.useCallback(async()=>{var I;if(!(t!=="session"||!e||!n.length)){f(!0),b(null),S([]),h(null),P(null);try{const B=w();e(B),b("Session prepared locally.")}catch(B){console.error("[UploadCenter] Session build error:",B),b(`Fehler beim Import: ${(I=B==null?void 0:B.message)!=null?I:B}`)}finally{f(!1)}}},[t,e,n,w]),N=T.useMemo(()=>n.map(I=>`${I.name} (${I.rows} rows, ${I.delimiter}, ${I.kind}${I.warn?" ":""})`),[n]),E=T.useMemo(()=>n.reduce((I,B)=>I+B.rows,0),[n]),F=k?Math.floor(100*k.current/Math.max(1,k.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[N.map((I,B)=>s.jsx("span",{className:"uc-chip",title:n[B].warn||"",children:I},B)),n.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",E," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[k&&t==="db"&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${F}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[F,"%"]})]}),s.jsx("button",{onClick:t==="session"?C:L,disabled:!n.length||!i||m||t==="session"&&!e,className:"uc-btn",children:m?"Loading":t==="session"?"Add as Upload Session":"Load to DB"}),y&&s.jsx("span",{style:{color:y.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:y})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:I=>A(I.target.files),disabled:l})]}),s.jsx("div",{onDragOver:I=>I.preventDefault(),onDrop:v,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),l&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),u&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",u]}),i&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(nh,{label:"Eigene Charaktere (unique IDs)",value:i.ownPlayers}),s.jsx(nh,{label:"Spieler in Datei (eindeutige IDs)",value:i.uniquePlayerIds,hint:`Total (mit ID): ${i.totalPlayers}`}),s.jsx(nh,{label:"Vertretene Gilden (mit ID)",value:i.guildsRepresented}),s.jsx(nh,{label:"Vollstndig gescannte Gilden",value:i.fullyScannedGuilds}),s.jsx(nh,{label:"Verschiedene Server",value:i.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:i.perServer.map(I=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:I.server}),s.jsx("td",{style:{textAlign:"right"},children:I.players})]},I.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",i.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:i.playersList.map((I,B)=>{var $,U;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:($=I.server)!=null?$:""}),s.jsx("td",{children:I.id}),s.jsx("td",{children:I.name||""}),s.jsx("td",{children:I.own?"":""})]},`${(U=I.server)!=null?U:"NO"}-${I.id}-${B}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",i.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:i.guildsList.map((I,B)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:I.id}),s.jsx("td",{children:I.name||""}),s.jsx("td",{style:{textAlign:"right"},children:I.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:I.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:I.full?"":""})]},`${I.id}-${B}`))})]})})]})]}),!!i.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:i.notes.map((I,B)=>s.jsx("li",{children:I},B))})]})]})]})}function nh({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function F2e(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function B2e(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:i}=Hb();return!t||!i?null:s.jsx("div",{className:oa.backdrop,onClick:e,children:s.jsxs("div",{className:oa.panel,onClick:a=>a.stopPropagation(),children:[s.jsxs("div",{className:oa.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:oa.tabs,children:[s.jsx("button",{type:"button",className:`${oa.tabBtn} ${n==="csv"?oa.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${oa.tabBtn} ${n==="json"?oa.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:oa.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:oa.content,children:n==="csv"?s.jsx(f4,{mode:"db"}):s.jsx(F2e,{})})]})})}const g4="sfdatahub_upload_sessions_v1",_0={sessions:[],activeSessionId:null},$2e=()=>{var t,e,n,r,i,a;if(typeof window=="undefined")return _0;try{const l=window.localStorage.getItem(g4);if(!l)return _0;const c=JSON.parse(l);if(c&&typeof c=="object"){if("version"in c&&(c==null?void 0:c.version)===1&&c.type==="uploadCenter.sessions"&&Array.isArray(c.sessions)){const u=c;return{sessions:u.sessions,activeSessionId:(n=(e=u.activeSessionId)!=null?e:(t=u.sessions[0])==null?void 0:t.id)!=null?n:null}}if(Array.isArray(c.sessions)){const u=c;return{sessions:u.sessions,activeSessionId:(a=(i=u.activeSessionId)!=null?i:(r=u.sessions[0])==null?void 0:r.id)!=null?a:null}}}}catch(l){console.warn("[UploadCenterSessions] Failed to parse persisted state",l)}return _0},x4=T.createContext(null);function O2e({children:t}){const e=T.useMemo(()=>$2e(),[]),[n,r]=T.useState(()=>e.sessions),[i,a]=T.useState(()=>e.activeSessionId),l=T.useCallback(A=>({...A,players:A.players.map(v=>({...v,status:"pending"})),guilds:A.guilds.map(v=>({...v,status:"pending"}))}),[]);T.useEffect(()=>{if(typeof window!="undefined")try{const A={version:1,type:"uploadCenter.sessions",sessions:n,activeSessionId:i};window.localStorage.setItem(g4,JSON.stringify(A))}catch(A){console.warn("[UploadCenterSessions] Failed to persist state",A)}},[n,i]);const c=T.useCallback(A=>{const v=l(A);r(w=>[...w,v]),a(v.id)},[l]),u=T.useCallback(A=>{a(A)},[]),h=T.useCallback(A=>{r(v=>{const w=v.filter(L=>L.id!==A);return a(L=>{var C,N;return L===A?(N=(C=w[0])==null?void 0:C.id)!=null?N:null:L}),w})},[]),m=T.useCallback(()=>{r([]),a(null)},[]),f=T.useCallback((A,v,w,L)=>{r(C=>C.map(N=>{if(N.id!==A)return N;if(v==="player"){const F=N.players.map(I=>I.key===w?{...I,selected:L}:I);return{...N,players:F}}const E=N.guilds.map(F=>F.key===w?{...F,selected:L}:F);return{...N,guilds:E}}))},[]),y=T.useCallback((A,v,w)=>{r(L=>L.map(C=>{if(C.id!==A)return C;if(v==="player"){const E=C.players.map(F=>({...F,selected:w}));return{...C,players:E}}const N=C.guilds.map(E=>({...E,selected:w}));return{...C,guilds:N}}))},[]),b=T.useCallback((A,v,w)=>{r(L=>L.map(C=>{if(C.id!==A)return C;const N=C.guilds.find(B=>B.key===v);if(!N)return C;const E=N.guildId,F=C.players.map(B=>B.guildId===E?{...B,selected:w}:B),I=C.guilds.map(B=>B.key===v?{...B,selected:w}:B);return{...C,players:F,guilds:I}}))},[]),_=T.useCallback((A,v,w)=>{r(L=>L.map(C=>{if(C.id!==A)return C;let N;const E=C.players.map($=>$.key!==v?$:(N=$.guildId,{...$,selected:w}));if(!N)return{...C,players:E};const F=E.filter($=>$.guildId===N),I=F.length>0&&F.every($=>$.selected),B=C.guilds.map($=>$.guildId!==N?$:w===!1?{...$,selected:!1}:I?{...$,selected:!0}:$);return{...C,players:E,guilds:B}}))},[]),S=T.useCallback((A,v)=>{r(w=>w.map(L=>{if(L.id!==A)return L;const C=L.players.map(E=>({...E,selected:v})),N=L.guilds.map(E=>{if(!v)return{...E,selected:!1};const F=C.filter(B=>B.guildId===E.guildId),I=F.length>0&&F.every(B=>B.selected);return{...E,selected:I}});return{...L,players:C,guilds:N}}))},[]),k=T.useCallback((A,v)=>{r(w=>w.map(L=>{if(L.id!==A)return L;const C=L.guilds.map(E=>({...E,selected:v})),N=L.players.map(E=>v&&E.guildId?{...E,selected:!0}:!v&&E.guildId?{...E,selected:!1}:E);return{...L,guilds:C,players:N}}))},[]),P=T.useCallback((A,v,w,L)=>{console.log("[UploadSessions] setRecordStatus",{sessionId:A,kind:v,recordKey:w,status:L}),r(C=>C.map(N=>{if(N.id!==A)return N;if(v==="player"){const F=N.players.map(I=>I.key===w?{...I,status:L}:I);return{...N,players:F}}const E=N.guilds.map(F=>F.key===w?{...F,status:L}:F);return{...N,guilds:E}}))},[]),D=T.useMemo(()=>({sessions:n,activeSessionId:i,addSession:c,setActiveSession:u,removeSession:h,clearAllSessions:m,toggleRecordSelection:f,selectAllInSession:y,selectGuildWithPlayers:b,updateGuildSelectionFromPlayer:_,selectAllPlayersWithGuilds:S,selectAllGuildsWithPlayers:k,setRecordStatus:P}),[n,i,c,u,h,m,f,y,b,_,S,k,P]);return s.jsx(x4.Provider,{value:D,children:t})}function V2e(){const t=T.useContext(x4);if(!t)throw new Error("useUploadCenterSessions must be used within UploadCenterSessionsProvider");return t}function U2e({route:t,featureId:e,fallback:n=null,children:r}){var y;const{isLoading:i}=fo(),{resolveRule:a,canAccessFeature:l,canAccessRule:c,loading:u}=ux(),h=(y=e!=null?e:t)!=null?y:"/",m=X.useMemo(()=>a(h),[a,h]);X.useEffect(()=>{m||console.debug(`[FeatureGate] No rule found for target "${h}", allowing by default.`)},[m,h]);const f=X.useMemo(()=>!e&&!t?!0:m?c(m):l(h),[l,c,e,t,m,h]);return i||u?null:f?s.jsx(s.Fragment,{children:r}):s.jsx(s.Fragment,{children:n})}const QC="pending";function XC(t,e,n){const r=t.players.map(a=>{var c;return{key:`${a.playerId}__${a.server}__${a.scanTimestampSec}`,playerId:a.playerId,name:a.name,server:a.server,scanTimestampSec:a.scanTimestampSec,guildId:(c=a.guildId)!=null?c:void 0,level:a.level,className:a.className,selected:!0,status:QC}}),i=t.guilds.map(a=>{var u;const l=`${a.guildId}__${a.server}__${a.scanTimestampSec}`,c=a.members.map(h=>({key:`${h.playerId}__${a.server}__${a.scanTimestampSec}`,playerId:h.playerId,name:h.name,level:h.level,className:h.className}));return{key:l,guildId:a.guildId,name:a.name,server:a.server,memberCount:(u=a.memberCount)!=null?u:a.members.length,scanTimestampSec:a.scanTimestampSec,members:c,selected:!0,status:QC}});return{id:e,createdAt:n,sourceFilename:t.filename,scanUploadId:void 0,players:r,guilds:i}}const Kf=()=>{const t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`};async function z2e(t){var n,r,i,a;if(!t)return console.warn("[UploadCenterUsage] Missing userId, returning empty usage."),{date:null,guilds:0,players:0};const e=Xt(ft,"users",t);try{const l=await rn(e);if(!l.exists())return console.warn("[UploadCenterUsage] User document does not exist.",{userId:t}),{date:null,guilds:0,players:0};const c=(n=l.data())==null?void 0:n.uploadCenter,u=(r=c==null?void 0:c.usage)!=null?r:{};return{date:typeof(u==null?void 0:u.date)=="string"?u.date:null,guilds:Number((i=u==null?void 0:u.guilds)!=null?i:0)||0,players:Number((a=u==null?void 0:u.players)!=null?a:0)||0}}catch(l){return console.error("[UploadCenterUsage] Failed to fetch usage data.",{userId:t,error:l}),{date:null,guilds:0,players:0}}}async function H2e(t,e,n){var b,_,S;if(!t){console.warn("[UploadCenterUsage] Missing userId, skipping usage update.");return}const r=Kf(),i=Xt(ft,"users",t);let a;try{a=await rn(i)}catch(k){console.error("[UploadCenterUsage] Failed to fetch user document.",{userId:t,error:k});return}if(!a.exists()){console.warn("[UploadCenterUsage] User document does not exist.",{userId:t});return}const l=(b=a.data())==null?void 0:b.uploadCenter,c=l==null?void 0:l.usage,u=(c==null?void 0:c.date)===r,h=u?Number((_=c==null?void 0:c.guilds)!=null?_:0):0,m=u?Number((S=c==null?void 0:c.players)!=null?S:0):0,f=h+Number(e!=null?e:0),y=m+Number(n!=null?n:0);try{await co(i,{uploadCenter:{...l!=null?l:{},usage:{date:r,guilds:f,players:y}}},{merge:!0})}catch(k){console.error("[UploadCenterUsage] Failed to update usage data.",{userId:t,error:k})}}const sl={enabled:!0,dailyGuildLimit:9999,dailyPlayerLimit:999999},Pg=t=>{if(t==null||typeof t=="boolean"||typeof t=="string"&&t.trim()==="")return null;const e=Number(t);return Number.isFinite(e)&&e>=0?e:null},G2e=t=>{if(!t||typeof t!="object")return;const e={};return Object.entries(t).forEach(([n,r])=>{if(!r||typeof r!="object")return;const i=r,a=Pg(i.dailyGuildLimit),l=Pg(i.dailyPlayerLimit),c=i.enabled,u={};typeof c=="boolean"&&(u.enabled=c),a!==null&&(u.dailyGuildLimit=a),l!==null&&(u.dailyPlayerLimit=l),Object.keys(u).length>0&&(e[n]=u)}),Object.keys(e).length>0?e:void 0};async function W2e(t){const e=Xt(ft,"upload_quota_config","default");try{const n=await rn(e);if(!n.exists())return console.warn("[UploadQuota] Missing config document. Using defaults."),sl;const r=n.data(),i=Pg(r==null?void 0:r.dailyGuildLimit),a=Pg(r==null?void 0:r.dailyPlayerLimit),l=G2e(r==null?void 0:r.roles),c={dailyGuildLimit:i!=null?i:sl.dailyGuildLimit,dailyPlayerLimit:a!=null?a:sl.dailyPlayerLimit};typeof(r==null?void 0:r.enabled)=="boolean"&&(c.enabled=r.enabled),l&&(c.roles=l);const u=r&&Object.prototype.hasOwnProperty.call(r,"dailyGuildLimit")&&i===null,h=r&&Object.prototype.hasOwnProperty.call(r,"dailyPlayerLimit")&&a===null;return(u||h)&&console.warn("[UploadQuota] Invalid config payload. Using defaults.",{data:r}),c}catch(n){return console.error("[UploadQuota] Failed to load quota config.",{userId:t==null?void 0:t.id,error:n}),sl}}function q2e(t,e){var a,l,c;const n=Array.isArray(e)?e.filter(u=>typeof u=="string"&&u.length>0):[],r=Number.isFinite(t.dailyGuildLimit)?t.dailyGuildLimit:sl.dailyGuildLimit,i=Number.isFinite(t.dailyPlayerLimit)?t.dailyPlayerLimit:sl.dailyPlayerLimit;for(const u of n){const h=(a=t.roles)==null?void 0:a[u];if(!h||h.enabled===!1)continue;const m=(l=h.dailyGuildLimit)!=null?l:r,f=(c=h.dailyPlayerLimit)!=null?c:i;return console.debug("[UploadQuota] Applying role override for upload limits.",{role:u,guildLimit:m,playerLimit:f}),{dailyGuildLimit:m,dailyPlayerLimit:f}}return{dailyGuildLimit:r,dailyPlayerLimit:i}}async function YC(t){var u,h,m;const e=(u=t==null?void 0:t.id)!=null?u:null,n=(m=(h=t==null?void 0:t.uploadCenter)==null?void 0:h.usage)!=null?m:{date:null,guilds:0,players:0},r=Array.isArray(t==null?void 0:t.roles)?t.roles:[],[i,a]=await Promise.all([W2e(t),e?z2e(e):Promise.resolve(null)]),l=q2e(i,r);return{config:{...i,dailyGuildLimit:l.dailyGuildLimit,dailyPlayerLimit:l.dailyPlayerLimit},usage:a!=null?a:n}}const K2e=(t,e)=>`${ja}/scan-uploads/${encodeURIComponent(t)}/${e}.csv`,Q2e=async t=>{let e=`Request failed (${t.status})`;try{const n=await t.json();n!=null&&n.error&&(e=n.error)}catch(n){}return new Error(e)};async function JC(t,e){const n=K2e(t,e);console.log(`[scan-uploads] Fetching ${e} CSV for scanId=${t}`);const r=await fetch(n,{method:"GET",credentials:"include",headers:{Accept:"text/csv"}});if(!r.ok)throw console.error(`[scan-uploads] Failed to fetch ${e} CSV for scanId=${t} (status ${r.status})`),await Q2e(r);const i=await r.text();return console.log(`[scan-uploads] Fetched ${e} CSV for scanId=${t} (${i.length} chars)`),i}const X2e=t=>{const[e,n]=T.useState([]),[r,i]=T.useState(!1),[a,l]=T.useState(null);return T.useEffect(()=>{if(!t){n([]),i(!1),l(null);return}let c=!0;return(async()=>{i(!0),l(null);try{const h=xl(ft,"scan_uploads"),m=nn(h,cl("discordUserId","==",t),Br("uploadedAt","desc")),f=await gn(m);if(!c)return;const y=f.docs.map(b=>({id:b.id,...b.data()}));console.log(`[upload-center] Loaded ${y.length} scan_uploads for current user (remote sessions)`),n(y)}catch(h){if(!c)return;console.error("[upload-center] Failed to load scan_uploads for current user",h),l(h instanceof Error?h:new Error("Failed to load scan uploads")),n([])}finally{c&&i(!1)}})(),()=>{c=!1}},[t]),{items:e,loading:r,error:a}},v4="sfdatahub_upload_quota_v1",y4=t=>{var e,n;return{date:typeof(t==null?void 0:t.date)=="string"?t.date:null,guilds:Number((e=t==null?void 0:t.guilds)!=null?e:0)||0,players:Number((n=t==null?void 0:t.players)!=null?n:0)||0}},w0=(t,e)=>{if(typeof window=="undefined")return;const n={version:1,config:t,usage:y4(e),storedAt:new Date().toISOString()};try{window.localStorage.setItem(v4,JSON.stringify(n))}catch(r){console.warn("[UploadQuotaStorage] Failed to persist quota data",r)}},Y2e=()=>{var t,e;if(typeof window=="undefined")return null;try{const n=window.localStorage.getItem(v4);if(!n)return null;const r=JSON.parse(n);return!r||typeof r!="object"||r.version!==1||typeof((t=r.config)==null?void 0:t.dailyGuildLimit)!="number"||typeof((e=r.config)==null?void 0:e.dailyPlayerLimit)!="number"?null:{version:1,config:{dailyGuildLimit:Number(r.config.dailyGuildLimit)||0,dailyPlayerLimit:Number(r.config.dailyPlayerLimit)||0},usage:y4(r.usage),storedAt:typeof r.storedAt=="string"?r.storedAt:""}}catch(n){return console.warn("[UploadQuotaStorage] Failed to read quota data",n),null}},Lg=(t,e)=>Math.max(t-e,0),ZC=(t,e,n)=>{var l,c,u;const r=e.date===n,i=r&&(l=e.guilds)!=null?l:0,a=r&&(c=e.players)!=null?c:0;return{config:t,usageDate:(u=e.date)!=null?u:null,usedGuildsToday:i,usedPlayersToday:a,remainingGuilds:Lg(t.dailyGuildLimit,i),remainingPlayers:Lg(t.dailyPlayerLimit,a),today:n}},J2e=({className:t})=>{if(!t)return s.jsx("span",{title:"Unknown class",className:"text-xs text-center text-zinc-400 block",children:"Unknown"});const{url:e,fallback:n}=nA(t),r=e?Ur(e,28):void 0;return r?s.jsx("img",{src:r,alt:t,title:t,className:"mx-auto h-6 w-6 rounded-full object-contain",draggable:!1}):n?s.jsx("span",{title:t,className:"mx-auto text-center text-sm leading-none",style:{display:"block"},children:n}):s.jsx("span",{title:t,className:"text-xs text-center text-zinc-400 block",children:t})};function Z2e(){return s.jsx(Vt,{title:"Upload Center",subtitle:"Import CSV scans locally, review all players and guilds, then upload only the records you want to store.",centerFramed:!1,children:s.jsx(eje,{})},"upload-center-shell")}function eje(){var fs,vs,os,ls,Os,_t,we,Ys,gt;const{sessions:t,activeSessionId:e,addSession:n,setActiveSession:r,removeSession:i,selectGuildWithPlayers:a,updateGuildSelectionFromPlayer:l,selectAllPlayersWithGuilds:c,selectAllGuildsWithPlayers:u,setRecordStatus:h}=V2e(),{t:m}=wa(),{user:f}=fo(),y=(os=(vs=(fs=f==null?void 0:f.providers)==null?void 0:fs.discord)==null?void 0:vs.id)!=null?os:(f==null?void 0:f.provider)==="discord"?f.id:null,{items:b,loading:_,error:S}=X2e(y),k=!!y,P=t.find(J=>J.id===e)||null,D=T.useMemo(()=>new Set(t.map(J=>J.scanUploadId).filter(J=>!!J)),[t]),[A,v]=X.useState(new Set),[w,L]=T.useState({phase:"idle",processed:0,total:0,created:0,duplicate:0,error:0}),[C,N]=T.useState("all"),[E,F]=T.useState("all"),[I,B]=T.useState(!1),[$,U]=T.useState(!1),[H,W]=T.useState(null),[K,q]=T.useState(null),[se,ne]=T.useState(()=>ZC(sl,{date:null,guilds:0,players:0},Kf())),[z,Y]=T.useState(null),le=T.useCallback((J,$e)=>{const Ge=Kf();ne(ZC(J,$e,Ge)),Y(null)},[]),ae=T.useCallback(async()=>{try{const J=await YC(f!=null?f:null);le(J.config,J.usage),w0(J.config,J.usage)}catch(J){console.error("[UploadCenter] Failed to refresh upload quota",J),Y("Could not refresh upload quota. Using last known values.")}},[le,f]);T.useEffect(()=>{var nt,lt;let J=!0;Kf();const $e=(lt=(nt=f==null?void 0:f.uploadCenter)==null?void 0:nt.usage)!=null?lt:{date:null,guilds:0,players:0};le(sl,$e);const Ge=Y2e();return Ge&&le(Ge.config,Ge.usage),(async()=>{try{const wt=await YC(f!=null?f:null);if(!J)return;le(wt.config,wt.usage),w0(wt.config,wt.usage)}catch(wt){console.error("[UploadCenter] Failed to refresh upload quota",wt),J&&Y("Could not refresh upload quota. Using last known values.")}})(),()=>{J=!1}},[f,(Os=(ls=f==null?void 0:f.uploadCenter)==null?void 0:ls.usage)==null?void 0:Os.date,(we=(_t=f==null?void 0:f.uploadCenter)==null?void 0:_t.usage)==null?void 0:we.guilds,(gt=(Ys=f==null?void 0:f.uploadCenter)==null?void 0:Ys.usage)==null?void 0:gt.players,le]);const he=T.useCallback(J=>{const $e=`csv_${Date.now()}`,Ge=new Date().toISOString(),nt=XC(J,$e,Ge);n(nt),r($e)},[n,r]),ye=J=>{const $e=new Date(J);return Number.isNaN($e.getTime())?"Unknown date":$e.toLocaleString()},Ie=J=>{v($e=>{const Ge=new Set($e);return Ge.has(J)?Ge.delete(J):Ge.add(J),Ge})},Z=J=>{var lt,wt;const $e="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide",Ge={pending:"bg-slate-800 text-slate-200 border border-slate-600/70",created:"bg-emerald-500/10 text-emerald-100 border border-emerald-400/60",duplicate:"bg-amber-500/10 text-amber-100 border border-amber-400/60",error:"bg-rose-500/10 text-rose-100 border border-rose-400/60"},nt={pending:"PENDING",created:"UPLOADED",duplicate:"IN DB",error:"ERROR"};return s.jsx("span",{className:`${$e} ${(lt=Ge[J])!=null?lt:Ge.pending}`,children:(wt=nt[J])!=null?wt:J})},fe=J=>{if(!J)return"Unknown date";try{if(typeof J.toDate=="function")return J.toDate().toLocaleString()}catch($e){}return"Unknown date"},oe=J=>{var wt,ns,Ls;const $e="inline-flex items-center rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide",Ge={pending:"bg-slate-800 text-slate-200 border border-slate-600/70",stored:"bg-emerald-500/10 text-emerald-100 border border-emerald-400/60",received:"bg-sky-500/10 text-sky-100 border border-sky-400/60",error:"bg-rose-500/10 text-rose-100 border border-rose-400/60"},nt={pending:"PENDING",stored:"STORED",received:"RECEIVED",error:"ERROR"},lt=(wt=J==null?void 0:J.toLowerCase())!=null?wt:"pending";return s.jsx("span",{className:`${$e} ${(ns=Ge[lt])!=null?ns:Ge.pending}`,children:(Ls=nt[lt])!=null?Ls:J||"PENDING"})},_e=T.useCallback((J,$e,Ge)=>{const nt=J==="created"||J==="duplicate";return Ge&&nt?!1:$e==="all"?!0:$e==="pending"?J==="pending":$e==="inDb"?nt:$e==="error"?J==="error":!0},[]),ve=T.useMemo(()=>P?P.players.filter(J=>_e(J.status,C,I)):[],[P,_e,C,I]),Ee=T.useMemo(()=>P?P.guilds.filter(J=>_e(J.status,E,$)):[],[P,_e,E,$]),Ve=T.useCallback(async J=>{if(J!=null&&J.id){q(null),W(J.id);try{const $e=[],Ge=J.queueId||J.scanId||J.id,nt=J.hasPlayersCsv!==!1,lt=J.hasGuildsCsv!==!1;if(nt){const an=await JC(J.id,"players");$e.push({name:`players.scan-${Ge}.csv`,text:an})}if(lt){const an=await JC(J.id,"guilds");$e.push({name:`guilds.scan-${Ge}.csv`,text:an})}if(!$e.length)throw new Error("No CSV data available for this scan.");const wt=p4($e);wt.filename=Ge||wt.filename;const ns=`scan_${J.id}_${Date.now()}`,Ls=new Date().toISOString(),Yn={...XC(wt,ns,Ls),scanUploadId:J.id};n(Yn),r(ns),console.log(`[upload-center] Loaded remote scan session for scanId=${J.id} (session ${ns})`)}catch($e){console.error(`[upload-center] Failed to load remote scan session for scanId=${J==null?void 0:J.id}`,$e),q($e instanceof Error?$e.message:"Failed to load remote scan session.")}finally{W(null)}}},[n,r]),ze=T.useMemo(()=>{if(!P)return!1;const J=P.players.some(Ge=>Ge.selected),$e=P.guilds.some(Ge=>Ge.selected);return J||$e},[P]),st=w.phase==="uploading"||w.phase==="finalizing",at=()=>{if(!P)return null;const J=P.players.filter(lt=>lt.selected),$e=P.guilds.filter(lt=>lt.selected);if(!J.length&&!$e.length)return null;const Ge=J.map(lt=>{var wt,ns,Ls;return{Identifier:lt.playerId,"Guild Identifier":(wt=lt.guildId)!=null?wt:"",Timestamp:lt.scanTimestampSec,Server:lt.server,Name:lt.name,Class:(ns=lt.className)!=null?ns:"",Level:(Ls=lt.level)!=null?Ls:""}}),nt=$e.map(lt=>{var wt;return{"Guild Identifier":lt.guildId,"Guild Member Count":(wt=lt.memberCount)!=null?wt:lt.members.length,Timestamp:lt.scanTimestampSec,Name:lt.name,Server:lt.server}});return{playersRows:Ge,guildsRows:nt}},mt=T.useCallback((J,$e)=>{ne(Ge=>{const nt=Ge.usedGuildsToday+J,lt=Ge.usedPlayersToday+$e,wt={...Ge,usedGuildsToday:nt,usedPlayersToday:lt,remainingGuilds:Lg(Ge.config.dailyGuildLimit,nt),remainingPlayers:Lg(Ge.config.dailyPlayerLimit,lt),usageDate:Ge.today};return w0(Ge.config,{date:Ge.today,guilds:nt,players:lt}),wt})},[]),Ut=T.useMemo(()=>se.usageDate?se.usageDate===se.today?"Today":se.usageDate:"No uploads yet",[se.today,se.usageDate]),je=se.config.dailyPlayerLimit===0,Je=se.config.dailyGuildLimit===0,Ke=je?m("uploadCenter.quota.unlimited"):se.config.dailyPlayerLimit,yt=Je?m("uploadCenter.quota.unlimited"):se.config.dailyGuildLimit,kt=je?m("uploadCenter.quota.unlimited"):`${Ke} limit today`,Be=Je?m("uploadCenter.quota.unlimited"):`${yt} limit today`,Le=je?m("uploadCenter.quota.unlimited"):se.remainingPlayers,He=Je?m("uploadCenter.quota.unlimited"):se.remainingGuilds,tt=async()=>{var cr,dr,wn;if(!P)return;const J=at();if(!J)return;const $e=P.players.filter(rs=>rs.selected),Ge=P.guilds.filter(rs=>rs.selected),nt=$e.length+Ge.length;if(!nt)return;const lt=(cr=f==null?void 0:f.id)!=null?cr:null,{config:wt,usedGuildsToday:ns,usedPlayersToday:Ls}=se,_n=ns+Ge.length,Yn=Ls+$e.length,an=_n>wt.dailyGuildLimit,ai=Yn>wt.dailyPlayerLimit;if(an||ai){Y(`Daily quota exceeded: You can import up to ${wt.dailyGuildLimit} guilds / ${wt.dailyPlayerLimit} players per day. Today you already imported ${ns} guilds / ${Ls} players. This selection would bring you to ${_n} guilds / ${Yn} players.`);return}Y(null),L({phase:"uploading",processed:0,total:nt,created:0,duplicate:0,error:0});const hs={processed:0,created:0,duplicate:0,error:0},Pn={processed:0,created:0,duplicate:0,error:0},Js=()=>{const rs=Math.min(hs.processed+Pn.processed,nt),ws=rs>=nt&&nt>0?"finalizing":"uploading";L({phase:ws,processed:rs,total:nt,created:hs.created+Pn.created,duplicate:hs.duplicate+Pn.duplicate,error:hs.error+Pn.error})},lr=rs=>ws=>{var zr;if((ws==null?void 0:ws.pass)!=="scans")return;const Ln=rs==="players"?hs:Pn;typeof ws.current=="number"&&(Ln.processed=Math.min(ws.current,(zr=ws.total)!=null?zr:ws.current)),typeof ws.created=="number"&&(Ln.created=ws.created),typeof ws.duplicate=="number"&&(Ln.duplicate=ws.duplicate),typeof ws.error=="number"&&(Ln.error=ws.error),Js()};try{console.log("[UploadCenter] starting selection upload",{players:$e.length,guilds:Ge.length});const rs=await u4(J,{onProgress:Gt=>{(Gt==null?void 0:Gt.kind)==="players"?lr("players")(Gt):(Gt==null?void 0:Gt.kind)==="guilds"&&lr("guilds")(Gt)}}),ws=P.id;let Ln=!1,zr=!1;if(console.log("[UploadCenter] importSelectionToDb result",{playersSample:(dr=rs==null?void 0:rs.players)==null?void 0:dr.slice(0,5),guildsSample:(wn=rs==null?void 0:rs.guilds)==null?void 0:wn.slice(0,5),selectedPlayerKeys:$e.slice(0,5).map(Gt=>Gt.key),selectedGuildKeys:Ge.slice(0,5).map(Gt=>Gt.key)}),((rs==null?void 0:rs.players)||[]).forEach(Gt=>{Ln=!0,h(ws,"player",Gt.key,Gt.status)}),((rs==null?void 0:rs.guilds)||[]).forEach(Gt=>{zr=!0,h(ws,"guild",Gt.key,Gt.status)}),!Ln&&!zr&&($e.forEach(Gt=>h(ws,"player",Gt.key,"created")),Ge.forEach(Gt=>h(ws,"guild",Gt.key,"created"))),$e.length||Ge.length){if(mt(Ge.length,$e.length),!lt)console.warn("[UploadCenter] Cannot persist upload usage because the user ID is missing.");else try{await H2e(lt,Ge.length,$e.length)}catch(Gt){console.error("[UploadCenter] Failed to record upload usage.",Gt)}await ae()}}catch(rs){console.error("[UploadCenter] Failed to upload selection",rs)}finally{L(rs=>({...rs,phase:"done"}))}};return s.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[s.jsxs("section",{className:"rounded-2xl border border-emerald-400/40 bg-emerald-500/5 p-4 md:p-5",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-emerald-200/80",children:"Local-only until you upload"}),s.jsx("h2",{className:"mt-1 text-lg font-semibold text-emerald-50",children:"Review first, then opt-in to store data"}),s.jsx("p",{className:"mt-2 text-sm text-emerald-50/80",children:"CSV files are parsed in your browser. Nothing is written to SFDataHub until you pick records and trigger the upload."})]}),s.jsxs("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/80 p-4 md:p-5",children:[s.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Upload quota"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Daily limits & usage"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Values are cached locally in your browser so you can resume uploads across page reloads."})]}),s.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800/80 px-3 py-2 text-xs text-slate-200",children:["Last upload: ",Ut]})]}),s.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-xl border border-emerald-400/40 bg-emerald-500/5 p-3",children:[s.jsx("div",{className:"text-xs uppercase tracking-[0.14em] text-emerald-200/80",children:"Players"}),s.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[s.jsx("span",{className:"text-2xl font-semibold text-emerald-50",children:Le}),s.jsx("span",{className:"text-sm text-emerald-100/80",children:"remaining"})]}),s.jsxs("div",{className:"mt-1 text-xs text-emerald-100/70",children:[se.usedPlayersToday," used / ",kt]})]}),s.jsxs("div",{className:"rounded-xl border border-sky-400/40 bg-sky-500/5 p-3",children:[s.jsx("div",{className:"text-xs uppercase tracking-[0.14em] text-sky-200/80",children:"Guilds"}),s.jsxs("div",{className:"mt-1 flex items-baseline gap-2",children:[s.jsx("span",{className:"text-2xl font-semibold text-sky-50",children:He}),s.jsx("span",{className:"text-sm text-sky-100/80",children:"remaining"})]}),s.jsxs("div",{className:"mt-1 text-xs text-sky-100/70",children:[se.usedGuildsToday," used / ",Be]})]})]}),z&&s.jsx("div",{className:"mt-3 rounded-xl border border-amber-400/60 bg-amber-500/10 px-3 py-2 text-sm text-amber-50",children:z})]}),s.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Sessions"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Import Sessions"}),s.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-3 md:p-4",children:[s.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-100",children:"Import CSV"}),s.jsx(f4,{mode:"session",onBuildUploadSession:he})]}),s.jsx("p",{className:"text-sm text-slate-400",children:"Here you will see your locally imported CSV sessions (filename, date, player/guild counts)."}),t.length===0?s.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Placeholder - once CSV imports are wired up, recent sessions will appear here with quick actions to resume, inspect, or discard them."}):s.jsx("div",{className:"flex flex-col gap-3",children:t.map(J=>{const $e=J.id===e;return s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>r(J.id),onKeyDown:Ge=>{(Ge.key==="Enter"||Ge.key===" ")&&(Ge.preventDefault(),r(J.id))},className:["w-full rounded-xl border px-4 py-3 text-left transition",$e?"border-emerald-400/80 bg-emerald-500/10 text-emerald-50 shadow-[0_10px_40px_-20px_rgba(16,185,129,0.7)]":"border-slate-700/70 bg-slate-800/60 text-slate-100 hover:border-emerald-400/60 hover:text-emerald-50"].join(" "),children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-sm font-semibold",children:J.sourceFilename||"Unnamed session"}),s.jsx("span",{className:"text-xs text-slate-400",children:ye(J.createdAt)})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right text-xs text-slate-400",children:[s.jsxs("div",{children:["Players: ",J.players.length]}),s.jsxs("div",{children:["Guilds: ",J.guilds.length]})]}),s.jsx("button",{type:"button",onClick:Ge=>{Ge.stopPropagation(),window.confirm("Remove this session from the list? This will NOT delete any data from the database.")&&i(J.id)},className:"rounded-full p-1 transition text-red-400 hover:text-red-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-300","aria-label":"Remove session",title:"Remove this session from the list",children:s.jsx(LD,{className:"h-4 w-4"})})]})]}),$e&&s.jsx("div",{className:"mt-2 inline-flex items-center gap-1 rounded-full border border-emerald-400/60 bg-emerald-500/10 px-2 py-0.5 text-[11px] font-semibold uppercase tracking-wide text-emerald-100",children:"Active"})]},J.id)})}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-slate-100",children:"Scan uploads from Discord bot"}),K&&s.jsx("div",{className:"rounded-xl border border-amber-400/60 bg-amber-500/10 p-3 text-sm text-amber-100",children:K}),k?_?s.jsx("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Loading scan uploads..."}):S?s.jsx("div",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 p-4 text-sm text-rose-100",children:"Error loading scan uploads."}):b.length===0?s.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"No scan uploads from Discord bot yet."}):s.jsx("div",{className:"flex flex-col gap-3",children:b.map(J=>{const $e=H===J.id,Ge=D.has(J.id),nt=$e||Ge;return s.jsxs("button",{type:"button",onClick:()=>{nt||Ve(J)},disabled:nt,title:Ge?"This scan is already loaded above. Remove it there to load it again.":void 0,className:["w-full rounded-xl border px-4 py-3 text-left text-slate-100 transition","border-slate-700/70 bg-slate-800/60 hover:border-emerald-400/60 hover:text-emerald-50",nt?"cursor-not-allowed opacity-70 bg-slate-700/60 text-slate-400":""].join(" "),children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-sm font-semibold",children:J.queueId||J.scanId||J.id}),s.jsx("span",{className:"text-xs text-slate-400",children:fe(J.uploadedAt)}),J.discordUsername&&s.jsx("span",{className:"text-xs text-slate-400",children:J.discordUsername})]}),s.jsxs("div",{className:"text-right text-xs text-slate-400",children:[s.jsxs("div",{children:["Players CSV: ",J.hasPlayersCsv?"yes":"no"]}),s.jsxs("div",{children:["Guilds CSV: ",J.hasGuildsCsv?"yes":"no"]})]})]}),s.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-300",children:[oe(J.status),J.serverCode&&s.jsxs("span",{className:"rounded-full border border-slate-600/70 bg-slate-800/60 px-2 py-0.5",children:["Server: ",J.serverCode]}),J.lastError&&s.jsxs("span",{className:"rounded-full border border-rose-500/60 bg-rose-500/10 px-2 py-0.5 text-rose-100",children:["Error: ",J.lastError]}),s.jsx("span",{className:"rounded-full border border-emerald-400/60 bg-emerald-500/10 px-2 py-0.5 text-emerald-100",children:Ge?"Loaded":$e?"Loading...":"Load into preview"})]})]},J.id)})}):s.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 p-4 text-sm text-slate-300",children:"Link your Discord account to see bot uploads here."})]})]})}),s.jsx("section",{className:"rounded-2xl border border-slate-700/70 bg-slate-900/70 p-4 md:p-5",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-[0.18em] text-slate-400",children:"Review"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50",children:"Preview & Selection"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Use these previews to decide what to keep. Tables will support filters, sorting, and selection before committing."}),s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[s.jsx("button",{type:"button",className:"inline-flex items-center gap-2 rounded-xl bg-emerald-500 px-4 py-2 text-sm font-semibold text-emerald-50 shadow-[0_10px_30px_-12px_rgba(16,185,129,0.8)] transition hover:bg-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-300 disabled:cursor-not-allowed disabled:bg-slate-700 disabled:text-slate-300 disabled:shadow-none",onClick:tt,disabled:st||!P||!ze,children:w.phase==="uploading"?"Uploading...":w.phase==="finalizing"?"Finalizing...":"Upload selected to DB"}),z&&s.jsx("div",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-sm text-rose-100",children:z}),w.total>0&&s.jsx("div",{className:"text-xs text-slate-300",children:w.phase==="uploading"?s.jsxs(s.Fragment,{children:["Uploading ",w.processed," / ",w.total," records (",Math.round(w.processed/Math.max(w.total,1)*100),"%) - ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):w.phase==="finalizing"?s.jsxs(s.Fragment,{children:["Finalizing import - ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):w.phase==="done"?s.jsxs(s.Fragment,{children:["Upload finished: ",w.created," created, ",w.duplicate," duplicates, ",w.error," errors"]}):null}),P?s.jsx("div",{className:"rounded-xl border border-emerald-400/50 bg-emerald-500/10 px-3 py-2 text-sm text-emerald-100",children:`Active session: ${P.sourceFilename||P.id} - ${P.players.length} players, ${P.guilds.length} guilds`}):s.jsx("div",{className:"rounded-xl border border-dashed border-slate-700/70 bg-slate-800/60 px-3 py-2 text-sm text-slate-300",children:t.length>0?"Select a session in the list above to review its players and guilds.":"No active CSV session. Import a CSV via the Upload Center modal to start."})]})]}),P&&s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-100",children:"Players"}),s.jsxs("div",{className:"text-xs text-slate-300",children:["Players: ",P.players.length," total,"," ",P.players.filter(J=>J.selected).length," selected"]})]}),s.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",className:"rounded-lg border border-emerald-400/60 bg-emerald-500/10 px-3 py-1 font-semibold text-emerald-100 transition hover:border-emerald-300",onClick:()=>c(P.id,!0),children:"Select all"}),s.jsx("button",{type:"button",className:"rounded-lg border border-slate-600/70 bg-slate-700/60 px-3 py-1 font-semibold text-slate-200 transition hover:border-slate-400",onClick:()=>c(P.id,!1),children:"Clear selection"})]}),s.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 text-xs text-slate-200",children:[s.jsx("div",{className:"inline-flex items-center gap-1",children:["all","pending","inDb","error"].map(J=>s.jsx("button",{type:"button",className:["rounded-full px-3 py-1 border transition",C===J?"border-emerald-400/70 text-emerald-100 bg-emerald-500/10":"border-slate-600/70 text-slate-300 bg-slate-800/60 hover:border-emerald-300/60"].join(" "),onClick:()=>N(J),children:J==="all"?"All":J==="pending"?"Pending":J==="inDb"?"In DB":"Error"},J))}),s.jsxs("label",{className:"ml-auto inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:I,onChange:J=>B(J.target.checked)}),s.jsx("span",{children:"Hide uploaded"})]})]}),ve.length===0?s.jsx("div",{className:"rounded-lg border border-dashed border-slate-700/70 bg-slate-900/60 p-3 text-sm text-slate-400",children:"This session does not contain any player records."}):s.jsx("div",{className:"overflow-auto rounded-lg border border-slate-700/70",children:s.jsxs("table",{className:"min-w-full text-sm text-slate-100",children:[s.jsx("thead",{className:"bg-slate-900/70 text-xs uppercase tracking-wide text-slate-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Sel."}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Name"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Server"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Level"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Class"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),s.jsx("tbody",{children:ve.map(J=>{var $e;return s.jsxs("tr",{className:"border-t border-slate-800/70",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox",checked:J.selected,onChange:()=>l(P.id,J.key,!J.selected)})}),s.jsx("td",{className:"px-3 py-2 font-semibold text-slate-50",children:J.name||""}),s.jsx("td",{className:"px-3 py-2 text-slate-200",children:J.server||""}),s.jsx("td",{className:"px-3 py-2 text-slate-200",children:($e=J.level)!=null?$e:""}),s.jsx("td",{className:"px-3 py-2 text-slate-200",children:s.jsx(J2e,{className:J.className})}),s.jsx("td",{className:"px-3 py-2",children:Z(J.status)})]},J.key)})})]})})]}),s.jsxs("div",{className:"rounded-xl border border-slate-700/70 bg-slate-800/60 p-4",children:[s.jsxs("div",{className:"mb-3 flex items-center justify-between gap-3",children:[s.jsx("h4",{className:"text-base font-semibold text-slate-100",children:"Guilds"}),s.jsxs("div",{className:"text-xs text-slate-300",children:["Guilds: ",P.guilds.length," total,"," ",P.guilds.filter(J=>J.selected).length," selected"]})]}),s.jsxs("div",{className:"mb-3 flex flex-wrap gap-2 text-xs",children:[s.jsx("button",{type:"button",className:"rounded-lg border border-emerald-400/60 bg-emerald-500/10 px-3 py-1 font-semibold text-emerald-100 transition hover:border-emerald-300",onClick:()=>u(P.id,!0),children:"Select all"}),s.jsx("button",{type:"button",className:"rounded-lg border border-slate-600/70 bg-slate-700/60 px-3 py-1 font-semibold text-slate-200 transition hover:border-slate-400",onClick:()=>u(P.id,!1),children:"Clear selection"})]}),s.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2 text-xs text-slate-200",children:[s.jsx("div",{className:"inline-flex items-center gap-1",children:["all","pending","inDb","error"].map(J=>s.jsx("button",{type:"button",className:["rounded-full px-3 py-1 border transition",E===J?"border-emerald-400/70 text-emerald-100 bg-emerald-500/10":"border-slate-600/70 text-slate-300 bg-slate-800/60 hover:border-emerald-300/60"].join(" "),onClick:()=>F(J),children:J==="all"?"All":J==="pending"?"Pending":J==="inDb"?"In DB":"Error"},J))}),s.jsxs("label",{className:"ml-auto inline-flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:$,onChange:J=>U(J.target.checked)}),s.jsx("span",{children:"Hide uploaded"})]})]}),Ee.length===0?s.jsx("div",{className:"rounded-lg border border-dashed border-slate-700/70 bg-slate-900/60 p-3 text-sm text-slate-400",children:"This session does not contain any guild records."}):s.jsx("div",{className:"overflow-auto rounded-lg border border-slate-700/70",children:s.jsxs("table",{className:"min-w-full text-sm text-slate-100",children:[s.jsx("thead",{className:"bg-slate-900/70 text-xs uppercase tracking-wide text-slate-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left",children:"Expand"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Sel."}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Guild"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Server"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Members"}),s.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),s.jsx("tbody",{children:Ee.map(J=>{var nt;const $e=A.has(J.key),Ge=(nt=J.memberCount)!=null?nt:J.members.length;return s.jsxs(X.Fragment,{children:[s.jsxs("tr",{className:"border-t border-slate-800/70",children:[s.jsx("td",{className:"px-3 py-2",children:s.jsx("button",{type:"button",className:"rounded border border-slate-600/70 bg-slate-800/60 px-2 py-1 text-xs text-slate-200",onClick:()=>Ie(J.key),"aria-expanded":$e,children:$e?"Collapse":"Expand"})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("input",{type:"checkbox",checked:J.selected,onChange:()=>a(P.id,J.key,!J.selected)})}),s.jsx("td",{className:"px-3 py-2 font-semibold text-slate-50",children:J.name||""}),s.jsx("td",{className:"px-3 py-2 text-slate-200",children:J.server||""}),s.jsx("td",{className:"px-3 py-2 text-slate-200",children:Ge}),s.jsx("td",{className:"px-3 py-2",children:Z(J.status)})]}),$e&&s.jsx("tr",{className:"border-t border-slate-800/70 bg-slate-900/60",children:s.jsxs("td",{className:"px-3 py-3 text-slate-200",colSpan:6,children:[s.jsx("div",{className:"mb-2 text-xs uppercase tracking-[0.18em] text-slate-400",children:"Members"}),J.members.length===0?s.jsx("div",{className:"text-sm text-slate-300",children:"No members listed."}):s.jsxs("table",{className:"w-full text-sm text-slate-100",children:[s.jsx("thead",{className:"bg-slate-900/50 text-xs uppercase tracking-wide text-slate-400",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-1 text-left",children:"Name"}),s.jsx("th",{className:"px-2 py-1 text-left",children:"Level"}),s.jsx("th",{className:"px-2 py-1 text-left",children:"Class"})]})}),s.jsx("tbody",{children:J.members.map(lt=>{var wt,ns;return s.jsxs("tr",{className:"border-t border-slate-800/70",children:[s.jsx("td",{className:"px-2 py-1",children:lt.name||""}),s.jsx("td",{className:"px-2 py-1",children:(wt=lt.level)!=null?wt:""}),s.jsx("td",{className:"px-2 py-1",children:(ns=lt.className)!=null?ns:""})]},lt.key)})})]})]})})]},J.key)})})]})})]})]})]})})]})}function tje(){const{canUse:t}=Hb();return t?s.jsx(Z2e,{}):s.jsx(Vt,{title:"Upload Center",subtitle:"Upload Center access required",centerFramed:!0,mode:"page",children:s.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 text-center text-sm text-[#B0C4D9]",children:[s.jsx(T3,{className:"h-10 w-10 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("p",{className:"text-base font-semibold text-white",children:"You don't have access to this feature."}),s.jsx("p",{children:"Contact an admin if you think you should be able to use the Upload Center."})]})})}const sje=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),xr=sje("Diese Unterseite existiert in der neuen Struktur nicht mehr."),Wt=(t,e,n,r=s.jsx(Jl,{to:"/",replace:!0}))=>s.jsx(U2e,{featureId:t,route:e,fallback:r,children:n});IR.createRoot(document.getElementById("root")).render(s.jsx(X.StrictMode,{children:s.jsx(lO,{children:s.jsx(wO,{children:s.jsx(CO,{children:s.jsxs(O2e,{children:[s.jsx(t6,{children:s.jsx(IL,{children:s.jsxs(ge,{element:s.jsx(UV,{}),children:[s.jsx(ge,{path:"/",element:Wt("main.home","/",s.jsx(Fq,{}),s.jsx(Jl,{to:"/login",replace:!0}))}),s.jsx(ge,{path:"/login",element:s.jsx(eK,{})}),s.jsx(ge,{path:"/dashboard",element:Wt("main.dashboard","/dashboard",s.jsx(tK,{}))}),s.jsx(ge,{path:"/dashboard/kpis",element:Wt("main.dashboard","/dashboard",s.jsx(rK,{}))}),s.jsx(ge,{path:"/dashboard/activity",element:Wt("main.dashboard","/dashboard",s.jsx(iK,{}))}),s.jsx(ge,{path:"/dashboard/progression",element:Wt("main.dashboard","/dashboard",s.jsx(aK,{}))}),s.jsx(ge,{path:"/discover",element:Wt("main.discover","/discover",s.jsx(oK,{}))}),s.jsx(ge,{path:"/toplists",element:Wt("main.toplists","/toplists",s.jsx(cX,{}))}),s.jsx(ge,{path:"/sfmagazine",element:s.jsx(hK,{})}),s.jsx(ge,{path:"/sfmagazine/historybook",element:s.jsx(UK,{})}),s.jsx(ge,{path:"/help",element:s.jsx(nQ,{})}),s.jsx(ge,{path:"/search",element:s.jsx(Xwe,{})}),s.jsx(ge,{path:"/players",element:s.jsx(dX,{})}),s.jsx(ge,{path:"/players/rankings",element:s.jsx(uX,{})}),s.jsx(ge,{path:"/players/stats",element:s.jsx(hX,{})}),s.jsx(ge,{path:"/players/profile",element:s.jsx(Yy,{})}),s.jsx(ge,{path:"/players/profile/:playerId",element:s.jsx(Yy,{})}),s.jsx(ge,{path:"/players/compare",element:s.jsx(CJ,{})}),s.jsx(ge,{path:"/player/:playerId",element:s.jsx(Yy,{})}),s.jsx(ge,{path:"/guilds",element:s.jsx(DJ,{})}),s.jsx(ge,{path:"/guilds/rankings",element:s.jsx(MJ,{})}),s.jsx(ge,{path:"/guilds/stats",element:s.jsx(FJ,{})}),s.jsx(ge,{path:"/guilds/profile",element:s.jsx(t0,{})}),s.jsx(ge,{path:"/guilds/profile/:guildId",element:s.jsx(t0,{})}),s.jsx(ge,{path:"/guild/:guildId",element:s.jsx(t0,{})}),s.jsx(ge,{path:"/servers",element:s.jsx(Ste,{})}),s.jsx(ge,{path:"/servers/rankings",element:s.jsx(Nte,{})}),s.jsx(ge,{path:"/servers/stats",element:s.jsx(kte,{})}),s.jsx(ge,{path:"/servers/profile",element:s.jsx(s0,{})}),s.jsx(ge,{path:"/servers/profile/:serverId",element:s.jsx(s0,{})}),s.jsx(ge,{path:"/server/:serverId",element:s.jsx(s0,{})}),s.jsx(ge,{path:"/u/:profileId",element:s.jsx(Dse,{})}),s.jsx(ge,{path:"/guidehub/*",element:Wt("main.guidehub","/guidehub",s.jsx(fle,{}))}),s.jsx(ge,{path:"/tools",element:Wt("main.tools","/tools",s.jsx(qwe,{}))}),s.jsx(ge,{path:"/upload-center",element:Wt("main.uploadCenter","/upload-center",s.jsx(tje,{}),s.jsx(Jl,{to:"/login",replace:!0}))}),s.jsx(ge,{path:"/UploadCenter",element:s.jsx(Jl,{to:"/upload-center",replace:!0})}),s.jsx(ge,{path:"/community",element:Wt("main.community","/community",s.jsx(lde,{}))}),s.jsx(ge,{path:"/community/scans",element:Wt("main.community","/community",s.jsx(LI,{}))}),s.jsx(ge,{path:"/community/predictions",element:Wt("main.community","/community",s.jsx(DI,{}))}),s.jsx(ge,{path:"/community/creators",element:Wt("main.community","/community",s.jsx(PI,{}))}),s.jsx(ge,{path:"/community/feedback",element:Wt("main.community","/community",s.jsx(FI,{}))}),s.jsx(ge,{path:"/community/news",element:Wt("main.community","/community",s.jsx(MI,{}))}),s.jsx(ge,{path:"/community/records",element:Wt("main.community","/community",s.jsx(BI,{}))}),s.jsx(ge,{path:"/scans",element:Wt("main.scans","/scans",s.jsx(cde,{}))}),s.jsx(ge,{path:"/scans/latest",element:Wt("main.scans","/scans",s.jsx(dde,{}))}),s.jsx(ge,{path:"/scans/archive",element:Wt("main.scans","/scans",s.jsx(ude,{}))}),s.jsx(ge,{path:"/guild-hub",element:Wt("main.guildHub","/guild-hub",s.jsx(hde,{}))}),s.jsx(ge,{path:"/guild-hub/planner",element:Wt("main.guildHub","/guild-hub",s.jsx(Lue,{}))}),s.jsx(ge,{path:"/guild-hub/fusion-planner",element:Wt("main.guildHub","/guild-hub",s.jsx(vge,{}))}),s.jsx(ge,{path:"/guild-hub/compare-guilds",element:Wt("main.guildHub","/guild-hub",s.jsx(yge,{}))}),s.jsx(ge,{path:"/guild-hub/waitlist",element:Wt("main.guildHub","/guild-hub",s.jsx(Bxe,{}))}),s.jsx(ge,{path:"/guild-hub/activity",element:Wt("main.guildHub","/guild-hub",s.jsx(Wxe,{}))}),s.jsx(ge,{path:"/guild-hub/imports",element:Wt("main.guildHub","/guild-hub",s.jsx(qxe,{}))}),s.jsx(ge,{path:"/guild-hub/announcements",element:Wt("main.guildHub","/guild-hub",s.jsx(Kxe,{}))}),s.jsx(ge,{path:"/guild-hub/events",element:Wt("main.guildHub","/guild-hub",s.jsx(Qxe,{}))}),s.jsx(ge,{path:"/guild-hub/roles",element:Wt("main.guildHub","/guild-hub",s.jsx(Xxe,{}))}),s.jsx(ge,{path:"/guild-hub/settings",element:Wt("main.guildHub","/guild-hub",s.jsx(Yxe,{}))}),s.jsx(ge,{path:"/admin",element:Wt("main.admin","/admin",s.jsx(tve,{}))}),s.jsx(ge,{path:"/admin/errors",element:Wt("main.admin","/admin",s.jsx(ive,{}))}),s.jsx(ge,{path:"/admin/scans-uploaded",element:Wt("main.admin","/admin",s.jsx(ove,{}))}),s.jsx(ge,{path:"/admin/creators-api",element:Wt("main.admin","/admin",s.jsx(xve,{}))}),s.jsx(ge,{path:"/admin/users",element:Wt("main.admin","/admin",s.jsx(Ive,{}))}),s.jsx(ge,{path:"/settings",element:Wt("main.settings","/settings",s.jsx(Fve,{}))}),s.jsx(ge,{path:"/settings/account",element:Wt("main.settings","/settings",s.jsx(g0e,{}))}),s.jsxs(ge,{path:"/playground",element:Wt("main.playground","/playground",s.jsx(v0e,{})),children:[s.jsx(ge,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(ge,{path:"list-views",element:s.jsx(NC,{})}),s.jsx(ge,{path:"rescan-widget",element:s.jsx(CC,{})}),s.jsx(ge,{path:"upload-sim",element:s.jsx(TC,{})}),s.jsx(ge,{path:"theme-maker",element:s.jsx(xC,{})}),s.jsx(ge,{path:"theme-maker-pro",element:s.jsx(yC,{})}),s.jsx(ge,{path:"gamified",element:s.jsx(W1e,{})}),s.jsx(ge,{path:"gamified-2",element:s.jsx(K1e,{})}),s.jsx(ge,{path:"gamified-3",element:s.jsx(Y1e,{})}),s.jsx(ge,{path:"am-rune-bonuses-demos",element:s.jsx(f1e,{})}),s.jsx(ge,{path:"templates/content-shell",element:s.jsx(pbe,{})}),s.jsx(ge,{path:"templates/blank",element:s.jsx(gbe,{})}),s.jsx(ge,{path:"templates/blank-alt",element:s.jsx(vbe,{})}),s.jsx(ge,{path:"templates/blank-layout-2",element:s.jsx(wbe,{})}),s.jsx(ge,{path:"templates/blank-layout-3",element:s.jsx(Sbe,{})}),s.jsx(ge,{path:"templates/blank-layout-4",element:s.jsx(Nbe,{})}),s.jsx(ge,{path:"portrait-maker",element:s.jsx(dbe,{})}),s.jsx(ge,{path:"hud",element:s.jsx(g1e,{})}),s.jsx(ge,{path:"hud/game-buttons",element:s.jsx(z1e,{})}),s.jsx(ge,{path:"core-ui/theme-maker",element:s.jsx(xC,{})}),s.jsx(ge,{path:"core-ui/theme-maker-pro",element:s.jsx(yC,{})}),s.jsx(ge,{path:"core-ui/list-views",element:s.jsx(NC,{})}),s.jsx(ge,{path:"sync/rescan",element:s.jsx(CC,{})}),s.jsx(ge,{path:"upload/sim",element:s.jsx(TC,{})}),s.jsx(ge,{path:"import/har",element:s.jsx(Abe,{})}),s.jsx(ge,{path:"import/json-csv",element:s.jsx(Pbe,{})}),s.jsx(ge,{path:"import/schema",element:s.jsx(Fbe,{})}),s.jsx(ge,{path:"hubs/player-contained",element:s.jsx(Vbe,{})}),s.jsx(ge,{path:"hubs/guilds",element:s.jsx(Gbe,{})}),s.jsx(ge,{path:"hubs/servers",element:s.jsx(Qbe,{})}),s.jsx(ge,{path:"rankings/views",element:s.jsx(Zbe,{})}),s.jsx(ge,{path:"analytics/kpi",element:s.jsx(n_e,{})}),s.jsx(ge,{path:"analytics/progression",element:s.jsx(o_e,{})}),s.jsx(ge,{path:"analytics/legendary-pets",element:s.jsx(u_e,{})}),s.jsx(ge,{path:"community/scans",element:s.jsx(f_e,{})}),s.jsx(ge,{path:"community/creators",element:s.jsx(y_e,{})}),s.jsx(ge,{path:"feedback/form",element:s.jsx(j_e,{})}),s.jsx(ge,{path:"feedback/admin",element:s.jsx(C_e,{})}),s.jsx(ge,{path:"help/tutorials",element:s.jsx(I_e,{})}),s.jsx(ge,{path:"help/wiki",element:s.jsx(D_e,{})}),s.jsx(ge,{path:"legal/tos",element:s.jsx(z_e,{})}),s.jsx(ge,{path:"legal/transparency",element:s.jsx(q_e,{})}),s.jsx(ge,{path:"settings",element:s.jsx($_e,{})}),s.jsx(ge,{path:"pwa/update",element:s.jsx(Y_e,{})}),s.jsx(ge,{path:"pwa/install",element:s.jsx(twe,{})}),s.jsx(ge,{path:"connect/manual",element:s.jsx(iwe,{})}),s.jsx(ge,{path:"connect/userscript",element:s.jsx(cwe,{})}),s.jsx(ge,{path:"interop/exports",element:s.jsx(mwe,{})}),s.jsx(ge,{path:"interop/deeplinks",element:s.jsx(xwe,{})}),s.jsx(ge,{path:"admin/servers",element:s.jsx(_we,{})}),s.jsx(ge,{path:"admin/jobs",element:s.jsx(Nwe,{})}),s.jsx(ge,{path:"admin/flags",element:s.jsx(Awe,{})}),s.jsx(ge,{path:"perf/table-lab",element:s.jsx(Pwe,{})}),s.jsx(ge,{path:"mobile/filters",element:s.jsx(Fwe,{})}),s.jsx(ge,{path:"qa/a11y",element:s.jsx(Vwe,{})})]}),s.jsx(ge,{path:"/latest-scan",element:s.jsx(Jl,{to:"/scans/latest",replace:!0})}),s.jsx(ge,{path:"/old-scans",element:s.jsx(Jl,{to:"/scans/archive",replace:!0})}),s.jsx(ge,{path:"/favorites",element:xr()}),s.jsx(ge,{path:"/notifications",element:xr()}),s.jsx(ge,{path:"/guilds/planner",element:xr()}),s.jsx(ge,{path:"/guilds/fusion",element:xr()}),s.jsx(ge,{path:"/guilds/academy",element:xr()}),s.jsx(ge,{path:"/toplists/players",element:xr()}),s.jsx(ge,{path:"/toplists/guilds",element:xr()}),s.jsx(ge,{path:"/toplists/servers",element:xr()}),s.jsx(ge,{path:"/settings/profile",element:xr()}),s.jsx(ge,{path:"/settings/appearance",element:xr()}),s.jsx(ge,{path:"/players/search",element:xr()}),s.jsx(ge,{path:"/servers/list",element:xr()}),s.jsx(ge,{path:"/servers/trend",element:xr()}),s.jsx(ge,{path:"/scans/upload",element:xr()}),s.jsx(ge,{path:"/scans/history",element:xr()}),s.jsx(ge,{path:"*",element:s.jsx(Jl,{to:"/",replace:!0})})]})})}),s.jsx(B2e,{})]})})})})}));
