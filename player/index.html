<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Für Version/Build, optional -->
  <meta name="sf-version" content="0.1.0">
  <meta name="sf-build" content="">
  <title>SF Data Hub</title>

  <!-- Inter (optional) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --page:#0C1C2E;
      --tile:#152A42;
      --tile-hover:#1E3A5C;
      --nav:#0A1728;
      --active:#1F3B5D;
      --text:#FFFFFF;
      --text-soft:#B0C4D9;
      --title:#F5F9FF;
      --line:#2C4A73;
      --icon:#5C8BC6;
      --btn:#1E2F47;

      --header-h:80px;
      --logo-dock-w:208px;
      --sidebar-collapsed-w:56px;
      --sidebar-expanded-w:var(--logo-dock-w);
      --sidebar-w: var(--sidebar-collapsed-w); /* wird per JS umgeschaltet */
    }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; background:var(--page); color:var(--text);
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    a{ color:inherit; text-decoration:none }
    .btn{ background:var(--btn); border:0; color:var(--text); border-radius:12px; cursor:pointer }
    .btn:focus{ outline:2px solid rgba(255,255,255,.15); outline-offset:2px }

    /* Logo-Dock oben links */
    .logo-dock{
      position:fixed; inset:0 auto auto 0;
      width:var(--logo-dock-w); height:var(--header-h);
      background:var(--nav); z-index:40;
      display:flex; align-items:center; justify-content:center;
      padding:0 8px;
    }
    .logo-dock img{ max-height:72px; width:auto; display:block }

    /* Topbar (starr) */
    .topbar{
      position:fixed; inset:0 0 auto 0; height:var(--header-h);
      background:var(--nav); z-index:30;
      display:flex; align-items:center; gap:16px;
      padding:0 24px 0 calc(var(--logo-dock-w) + 16px);
      border-bottom:1px solid var(--line);
    }
    .topbar .btn-ico{ padding:10px; display:inline-flex; align-items:center; justify-content:center }

    .search-wrap{ position:relative; flex:1; max-width:680px }
    .search{ width:100%; border-radius:18px; padding:9px 12px 9px 36px; border:1px solid var(--line); background:var(--tile); color:var(--text) }
    .search::placeholder{ color:var(--text-soft) }
    .search-ico{ position:absolute; left:10px; top:50%; transform:translateY(-50%); opacity:.7 }

    .upload{ padding:8px 12px; display:inline-flex; gap:8px; align-items:center; border-radius:12px }

    .avatar-btn{ padding:2px; border-radius:999px; background:var(--tile); border:none; cursor:pointer }
    .avatar{ width:36px; height:36px; border-radius:999px; display:block; object-fit:cover }

    /* Linke Spalte unter dem Logo in Sidebar-Farbe (verhindert Content-Hintergrund oben links) */
    .logo-fill{
      position:fixed; left:0; top:var(--header-h); bottom:0; width:var(--sidebar-w);
      background:var(--nav); z-index:0; pointer-events:none; transition:width .25s ease;
    }

    /* Sidebar */
    .sidebar{
      position:fixed; left:0; top:var(--header-h); height:calc(100vh - var(--header-h));
      width:var(--sidebar-w); background:var(--nav); z-index:20;
      display:grid; grid-template-rows:auto 1fr auto;
      transition:width .25s ease;
      border-right:1px solid var(--line);
    }
    .sidebar.expanded{ width:var(--sidebar-expanded-w) }
    .nav-scroll{ overflow:auto; }
    /* Scrollbar verstecken */
    .nav-scroll{ scrollbar-width:none; -ms-overflow-style:none }
    .nav-scroll::-webkit-scrollbar{ width:0; height:0; background:transparent }

    .pad{ padding:12px }
    .nav-title{ font-size:12px; opacity:.7; color:var(--text-soft); margin:8px 12px }
    .nav-col{ display:flex; flex-direction:column; gap:6px; padding:0 12px }

    .nav-btn{
      height:40px; width:100%; display:flex; align-items:center; justify-content:flex-start;
      gap:12px; padding:0 12px; border-radius:16px; background:transparent; border:0; color:var(--text); cursor:pointer;
      transition:background .15s ease;
    }
    .sidebar:not(.expanded) .nav-btn{ justify-content:center; padding:0 }
    .nav-btn:hover{ background:var(--tile-hover) }
    .txt-glow:hover{ text-shadow:0 0 15px rgba(92,139,198,1),0 0 25px rgba(92,139,198,.8) }

    /* Aktiver Bereich Block */
    .active-block{ padding:10px 12px 8px }
    .active-head{ display:flex; align-items:center; gap:12px; height:40px; padding:0 12px }
    .sidebar:not(.expanded) .active-head{ justify-content:center; padding:0 }
    .subcol{ display:flex; flex-direction:column; gap:6px; margin-top:8px }

    .pill{ padding:6px 10px; border-radius:999px; border:1px solid var(--line); background:var(--tile); font-size:14px; white-space:nowrap }
    .pill.active{ background:var(--active) }

    /* Footer */
    .footer{ padding:12px }
    .footer .login{ width:100%; padding:8px 12px; border-radius:12px; display:flex; align-items:center; justify-content:center; gap:8px }
    .legal{ font-size:11px; opacity:.8; color:var(--text-soft); display:flex; flex-wrap:wrap; gap:8px; align-items:center; margin-top:8px }
    .muted{ font-size:11px; opacity:.6; color:var(--text-soft); margin-top:6px }

    /* Content (unter Topbar, fährt mit) */
    .content{ margin-left:var(--sidebar-w); padding: calc(var(--header-h) + 0px) 16px 24px 16px; transition: margin-left .25s ease; min-height:100vh }
    .content .section{
      background:transparent; border:0; padding:12px 8px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .sec-left{ display:flex; gap:12px; align-items:center }
    .sec-subtabs{ display:flex; gap:8px; overflow:auto }

    /* Helper visibility for labels in collapsed state */
    .sidebar:not(.expanded) .label,
    .sidebar:not(.expanded) .only-expanded{ display:none }
    .sidebar.expanded .only-collapsed{ display:none }
  </style>
</head>
<body>

  <!-- Logo-Dock -->
  <div class="logo-dock" id="logoDock">
    <a href="/">
      <img src="https://i.postimg.cc/SsrbKmgn/logo3trans.png" alt="SFDataHub Logo">
    </a>
  </div>

  <!-- Linke Spalte in Sidebar-Farbe -->
  <div class="logo-fill" id="logoFill"></div>

  <!-- Topbar (starr) -->
  <header class="topbar" id="topbar">
    <div class="left-icos">
      <button class="btn btn-ico" title="Benachrichtigungen"><i data-lucide="bell"></i></button>
      <button class="btn btn-ico" title="Favoriten"><i data-lucide="star"></i></button>
    </div>

    <div class="search-wrap">
      <i class="search-ico" data-lucide="search"></i>
      <input class="search" placeholder="Suchen (Spieler, Gilde, Server)…">
    </div>

    <div class="actions" style="margin-left:auto; display:flex; gap:8px; align-items:center">
      <button class="btn upload"><i data-lucide="upload"></i><span>Scan hochladen</span></button>
      <button class="avatar-btn" id="avatarBtn" aria-label="Profilmenü öffnen">
        <img class="avatar" src="https://i.pravatar.cc/80?img=68" alt="Avatar">
      </button>
      <!-- simples Dropdown -->
      <div id="profileMenu" style="position:relative; display:none">
        <div style="position:absolute; right:0; margin-top:8px; width:320px; background:var(--tile); border:1px solid var(--line); border-radius:16px; padding:12px;">
          <div style="display:flex; gap:12px; align-items:center; margin-bottom:12px">
            <img class="avatar" style="width:40px; height:40px" src="https://i.pravatar.cc/80?img=68" alt="Avatar">
            <div>
              <div style="font-weight:600">Danny</div>
              <div style="font-size:12px; color:var(--text-soft)">Demon Hunter • EU</div>
            </div>
          </div>
          <div style="display:flex; gap:8px; margin-bottom:12px">
            <button class="pill">Profil</button>
            <button class="pill">Einstellungen</button>
            <button class="pill">Account</button>
          </div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:8px">
            <button class="btn" style="padding:8px 12px; border-radius:12px">Profil öffnen</button>
            <button class="btn" style="padding:8px 12px; border-radius:12px">Einstellungen</button>
            <button class="btn" style="padding:8px 12px; border-radius:12px; grid-column:1/3">Abmelden</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar" aria-label="Navigation">
    <div class="nav-scroll">
      <!-- Home -->
      <div class="pad">
        <button class="nav-btn">
          <i data-lucide="home"></i><span class="label txt-glow">Home</span>
        </button>
      </div>

      <!-- Dashboard -->
      <div class="pad" style="padding-top:0">
        <button class="nav-btn">
          <i data-lucide="bar-chart-3"></i><span class="label txt-glow">Dashboard</span>
        </button>
      </div>

      <!-- Aktiver Bereich + Unterseiten -->
      <div class="active-block">
        <div class="label" style="font-size:12px; opacity:.7; color:var(--text-soft); margin:0 0 6px 2px">Aktiver Tab</div>
        <div class="active-head">
          <i data-lucide="list-ordered"></i>
          <div class="label" style="font-weight:600; color:var(--title)">Toplisten</div>
        </div>
        <div class="subcol only-expanded">
          <button class="nav-btn" style="height:36px"><span class="txt-glow">Spieler</span></button>
          <button class="nav-btn" style="height:36px"><span class="txt-glow">Server</span></button>
          <button class="nav-btn" style="height:36px"><span class="txt-glow">Klassen</span></button>
        </div>
      </div>

      <!-- Kategorien -->
      <div class="nav-title">Hauptsektionen</div>
      <div class="nav-col">
        <button class="nav-btn"><i data-lucide="list-ordered"></i><span class="label txt-glow">Toplisten</span></button>
        <button class="nav-btn"><i data-lucide="users"></i><span class="label txt-glow">Gilden</span></button>
        <button class="nav-btn"><i data-lucide="settings"></i><span class="label txt-glow">Settings</span></button>
      </div>

      <div class="nav-title">Direkt</div>
      <div class="nav-col">
        <button class="nav-btn"><i data-lucide="users"></i><span class="label txt-glow">Spieler</span></button>
        <button class="nav-btn"><i data-lucide="users"></i><span class="label txt-glow">Gilde</span></button>
        <button class="nav-btn"><i data-lucide="server"></i><span class="label txt-glow">Server</span></button>
        <button class="nav-btn"><i data-lucide="list-ordered"></i><span class="label txt-glow">Toplisten</span></button>
        <button class="nav-btn"><i data-lucide="scan"></i><span class="label txt-glow">Scans</span></button>
        <button class="nav-btn"><i data-lucide="message-square-text"></i><span class="label txt-glow">Community</span></button>
        <button class="nav-btn"><i data-lucide="settings"></i><span class="label txt-glow">Settings</span></button>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer" data-testid="sidebar-footer">
      <button class="btn login"><i data-lucide="log-out" class="only-expanded"></i><span class="only-expanded">Logout</span><i data-lucide="log-out" class="only-collapsed"></i></button>
      <div class="legal">
        <span id="legalText"></span>
        <span>•</span><a href="/impressum.html">Impressum</a>
        <span>•</span><a href="/datenschutz.html">Datenschutz</a>
        <span>•</span><a href="https://status.sfdatahub.example">Status</a>
        <span>•</span><a href="/hilfe.html">Hilfe</a>
      </div>
      <div class="muted" id="verBuild"></div>
    </div>
  </aside>

  <!-- Content -->
  <main class="content" id="content">
    <!-- Sektion-Header als Platzhalter -->
    <section class="section">
      <div class="sec-left">
        <i data-lucide="list-ordered"></i>
        <div>
          <div style="font-size:14px; color:var(--text-soft)">Aktiver Bereich</div>
          <div style="font-weight:600; font-size:18px; color:var(--title)">Toplisten</div>
        </div>
      </div>
      <div class="sec-subtabs">
        <button class="pill active">Alle</button>
        <button class="pill">Server</button>
        <button class="pill">Klassen</button>
      </div>
    </section>

    <!-- Platzhalter-Inhalt -->
    <div style="height:420px; display:grid; place-items:center; opacity:.6">
      <div>Template-Platzhalter — füge später deinen Seiten-Content ein</div>
    </div>
  </main>

  <!-- lucide icons (UMD) -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <script>
    (function(){
      const sidebar = document.getElementById('sidebar');
      const content = document.getElementById('content');
      const logoFill = document.getElementById('logoFill');

      // initial: collapsed
      document.documentElement.style.setProperty('--sidebar-w', getComputedStyle(document.documentElement).getPropertyValue('--sidebar-collapsed-w'));

      function setSidebar(expanded){
        const w = getComputedStyle(document.documentElement)
          .getPropertyValue(expanded ? '--sidebar-expanded-w' : '--sidebar-collapsed-w').trim();
        document.documentElement.style.setProperty('--sidebar-w', w);
        sidebar.classList.toggle('expanded', !!expanded);
        // Content & linke Spalte reagieren automatisch via CSS var(--sidebar-w)
      }

      sidebar.addEventListener('mouseenter', ()=> setSidebar(true));
      sidebar.addEventListener('mouseleave', ()=> setSidebar(false));

      // Profilmenü (einfach)
      const avatarBtn = document.getElementById('avatarBtn');
      const profileMenu = document.getElementById('profileMenu');
      avatarBtn.addEventListener('click', (e)=>{
        e.stopPropagation();
        profileMenu.style.display = profileMenu.style.display === 'block' ? 'none' : 'block';
      });
      document.addEventListener('click', ()=> profileMenu.style.display = 'none');

      // Footer Text + Version/Build
      const year = new Date().getFullYear();
      const legal = document.getElementById('legalText');
      legal.textContent = `© ${year} SFDataHub — Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern.`;
      const ver = document.querySelector('meta[name="sf-version"]')?.getAttribute('content') || '0.1.0';
      const build = document.querySelector('meta[name="sf-build"]')?.getAttribute('content') || (new Date()).toISOString().slice(0,10);
      document.getElementById('verBuild').textContent = `v${ver} • Build ${build}`;

      // Icons initialisieren
      if(window.lucide){ window.lucide.createIcons(); }
    })();
  </script>
</body>
</html>
