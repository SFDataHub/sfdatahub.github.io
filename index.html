<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SF Data Hub – Dashboard</title>

  <!-- Tailwind (CDN, JIT) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- React 18 + Babel (für JSX ohne Build) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Framer Motion (UMD) -->
  <script src="https://unpkg.com/framer-motion/dist/framer-motion.umd.js"></script>

  <!-- Lucide (Vanilla, ersetzt <i data-lucide="..."> durch SVG) -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    html,body{height:100%}
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;
    const { motion, AnimatePresence } = window.framerMotion;

    // Farben wie in der Vorschau
    const colors = {
      page: "#0C1C2E",
      tile: "#152A42",
      tileHover: "#1E3A5C",
      nav: "#0A1728",
      active: "#1F3B5D",
      text: "#FFFFFF",
      textSoft: "#B0C4D9",
      title: "#F5F9FF",
      line: "#2C4A73",
      icon: "#5C8BC6",
      btn: "#1E2F47",
      btnHover: "#2A4C72",
      tableHeader: "#1E3657",
      tableBg: "#14273E",
    };

    // Assets & Layout
    const LOGO_URL = "https://i.postimg.cc/SsrbKmgn/logo3trans.png";
    const AVATAR_URL = "https://i.pravatar.cc/80?img=68";
    const MAIN_CHAR_OPTIONS = [
      { name: "Alyra (DH)", avatarUrl: "https://i.pravatar.cc/80?img=68" },
      { name: "Boros (War)", avatarUrl: "https://i.pravatar.cc/80?img=12" },
      { name: "Chiyo (Mage)", avatarUrl: "https://i.pravatar.cc/80?img=47" },
      { name: "Dax (Assa)", avatarUrl: "https://i.pravatar.cc/80?img=29" },
    ];
    const HEADER_H = 80;      // Topbar-Höhe
    const LOGO_DOCK_W = 208;  // Logo-Dock (starr)
    const COLLAPSED_W = 56;   // Sidebar eingeklappt = Icon-Breite
    const EXPANDED_W = LOGO_DOCK_W; // Sidebar maximal = Logo-Breite

    // Icon-Helfer über lucide (kein React-Wrapper nötig)
    function Icon({ name, size = 18, color = colors.icon }) {
      // <i data-lucide="..."> wird nach Render in SVG verwandelt
      return <span style={{ color }}>
        <i data-lucide={name} style={{ width: size + "px", height: size + "px" }} />
      </span>;
    }

    const navItems = [
      { key: "home", label: "Home", icon: "home" },
      { key: "dashboard", label: "Dashboard", icon: "bar-chart-3" },
      { key: "spieler", label: "Spieler", icon: "users" },
      { key: "gilden", label: "Gilden", icon: "users" },
      { key: "gilde", label: "Gilde", icon: "users" },
      { key: "server", label: "Server", icon: "server" },
      { key: "toplisten", label: "Toplisten", icon: "list-ordered" },
      { key: "scans", label: "Scans", icon: "scan-line" },
      { key: "community", label: "Community", icon: "message-square-text" },
      { key: "einstellungen", label: "Settings", icon: "settings" },
    ];

    const tabsBySection = {
      home: ["Übersicht", "Neuigkeiten"],
      spieler: ["Profil", "Statistiken", "Vergleich"],
      gilden: ["Übersicht", "Gildenplaner", "Historie"],
      server: ["Alle Server", "EU Server", "Fusion Server"],
      toplisten: ["Alle", "Server", "Klassen"],
      scans: ["Uploads", "Abdeckung", "Fehler-Log"],
      community: ["Scans", "Prognosen", "Content Creator"],
      einstellungen: ["Allgemein", "Profil", "Account"],
    };

    const carouselSlides = [
      { id: 1, title: "How to HAR-Import in SFDataHub", url: "https://www.youtube.com/watch?v=dQw4w9WgXcQ", img: "https://images.unsplash.com/photo-1526378722484-bd91ca387e72?q=80&w=1600&auto=format&fit=crop" },
      { id: 2, title: "Gildenplaner – Quick Tour", url: "https://www.youtube.com/watch?v=oHg5SJYRHA0", img: "https://images.unsplash.com/photo-1529101091764-c3526daf38fe?q=80&w=1600&auto=format&fit=crop" },
      { id: 3, title: "Toplisten & Filter nutzen", url: "https://www.youtube.com/watch?v=ub82Xb1C8os", img: "https://images.unsplash.com/photo-1518779578993-ec3579fee39f?q=80&w=1600&auto=format&fit=crop" },
    ];

    function App() {
      const [activeSection, setActiveSection] = useState("home");
      const [activeTab, setActiveTab] = useState(tabsBySection["home"][0]);
      const [profileOpen, setProfileOpen] = useState(false);
      const [query, setQuery] = useState("");
      const [slide, setSlide] = useState(0);
      const [autoPlay, setAutoPlay] = useState(true);
      const [isCollapsed, setIsCollapsed] = useState(true);
      const [isLoggedIn, setIsLoggedIn] = useState(true);
      const [hoverCatId, setHoverCatId] = useState(null);
      const [hoverSub, setHoverSub] = useState(null);
      const [hoverTop, setHoverTop] = useState(null);
      const [mainChar, setMainChar] = useState(MAIN_CHAR_OPTIONS[0]);

      const subsByKey = {
        toplisten: ["Spieler", "Server", "Klassen"],
        gilden: ["Übersicht", "Fusionen", "Warteliste"],
        einstellungen: ["Profil", "Benachrichtigungen", "Design"],
        spieler: ["Übersicht", "Rangverlauf", "Vergleiche", "Historie"],
        gilde: ["Übersicht", "Mitglieder", "Bewerbungen", "Allianzen", "Events"],
        server: ["Übersicht", "Population", "Regionen", "Status", "Wartung"],
        scans: ["Neue Scans", "Archiv", "Diff-Ansicht", "Validierung", "Zeitpläne"],
        community: ["News", "Guides", "Ankündigungen", "Feedback"],
        home: [],
        dashboard: [],
      };

      const navGroups = [
        { title: "Hauptsektionen", keys: ["toplisten", "gilden", "einstellungen"] },
        { title: "Direkt", keys: ["spieler", "gilde", "server", "toplisten", "scans", "community", "einstellungen"] },
      ];

      const getLabel = (key) => (navItems.find(n => n.key === key)?.label || key);
      const getIconName = (key) => (navItems.find(n => n.key === key)?.icon || "home");
      const handleNavClick = (key) => {
        setActiveSection(key);
        const first = subsByKey[key]?.[0];
        if (first) setActiveTab(first);
      };

      // Auto-Play Karussell
      useEffect(() => {
        if (!autoPlay) return;
        const id = setInterval(() => setSlide(s => (s + 1) % carouselSlides.length), 3500);
        return () => clearInterval(id);
      }, [autoPlay]);

      // Aktiv-Tab an Sektion koppeln
      useEffect(() => {
        const arr = tabsBySection[activeSection];
        setActiveTab(arr && arr.length ? arr[0] : "");
      }, [activeSection]);

      // Lucide-SVGs nach jedem Render aktualisieren (wenn Struktur/State sich ändert)
      useEffect(() => {
        try { window.lucide && window.lucide.createIcons(); } catch {}
      }, [isCollapsed, activeSection, activeTab, hoverCatId, hoverSub, hoverTop]);

      // Debug mini-checks
      useEffect(() => {
        try {
          const topbar = document.querySelector('[data-testid="topbar"]');
          console.assert(topbar && getComputedStyle(topbar).position === "fixed", "Topbar nicht fixed");
        } catch {}
      }, []);

      // Layout: Sidebar-Breite (Icon↔Logo), Content rückt entsprechend ein
      const asideW = isCollapsed ? COLLAPSED_W : EXPANDED_W;
      const contentLeft = asideW;

      const SectionIconName = getIconName(activeSection);

      return (
        <div className="min-h-screen w-full flex" style={{ backgroundColor: colors.page, color: colors.text }}>
          {/* Logo-Dock (starr) */}
          <div
            data-testid="logo-dock"
            className="fixed top-0 left-0 z-40 flex items-center justify-center"
            style={{ width: LOGO_DOCK_W, height: HEADER_H, backgroundColor: colors.nav }}
          >
            <img src={LOGO_URL} alt="SFDataHub Logo" className="max-h-[72px] w-auto" />
          </div>

          {/* Linke Spalte unter Logo (füllt bis unten, folgt Sidebar-Breite) */}
          <div
            data-testid="logo-fill"
            className="fixed left-0 z-0"
            style={{ top: HEADER_H + "px", bottom: 0, width: asideW + "px", backgroundColor: colors.nav, pointerEvents: "none" }}
          ></div>

          {/* Sidebar (hover to expand) */}
          <aside
            className="hidden md:grid md:grid-rows-[auto,1fr,auto] md:shrink-0 fixed left-0 top-20 z-20 h-[calc(100vh-80px)] transition-[width] duration-300 ease-in-out"
            style={{ backgroundColor: colors.nav, width: asideW + "px" }}
            onMouseEnter={() => setIsCollapsed(false)}
            onMouseLeave={() => setIsCollapsed(true)}
            data-testid="sidebar"
          >
            <div
              className="relative overflow-y-auto nav-scroll"
              onMouseEnter={() => setIsCollapsed(false)}
              onMouseLeave={() => setIsCollapsed(true)}
            >
              <div className="h-full" style={{ width: "100%" }}>
                {/* Home */}
                <div className="p-3">
                  <button
                    onClick={() => handleNavClick("home")}
                    onMouseEnter={() => setHoverTop("home")}
                    onMouseLeave={() => setHoverTop(null)}
                    className={isCollapsed ? "group w-full h-10 flex items-center justify-center rounded-2xl text-left transition-colors leading-none" : "group w-full h-10 flex items-center rounded-2xl px-3 text-left transition-colors leading-none"}
                    style={{ backgroundColor: hoverTop === "home" ? colors.tileHover : "transparent", color: colors.text }}
                  >
                    <Icon name="home" />
                    {!isCollapsed && <span className="ml-3 font-medium txt-glow">Home</span>}
                  </button>
                </div>

                {/* Dashboard (nur eingeloggt) */}
                {isLoggedIn && (
                  <div className="px-3">
                    <button
                      onClick={() => handleNavClick("dashboard")}
                      onMouseEnter={() => setHoverTop("dashboard")}
                      onMouseLeave={() => setHoverTop(null)}
                      className={isCollapsed ? "group w-full h-10 flex items-center justify-center rounded-2xl text-left transition-colors leading-none" : "group w-full h-10 flex items-center rounded-2xl px-3 text-left transition-colors leading-none"}
                      style={{ backgroundColor: hoverTop === "dashboard" ? colors.tileHover : "transparent", color: colors.text }}
                    >
                      <Icon name="bar-chart-3" />
                      {!isCollapsed && <span className="ml-3 font-medium txt-glow">Dashboard</span>}
                    </button>
                  </div>
                )}

                {/* Aktive Sektion + Unterseiten */}
                {activeSection !== "home" && activeSection !== "dashboard" && (
                  <div className="px-3 pt-3 pb-2">
                    {!isCollapsed && (
                      <div className="text-xs mb-2 opacity-70" style={{ color: colors.textSoft }}>Aktiver Tab</div>
                    )}
                    <div className={isCollapsed ? "h-10 flex items-center justify-center" : "h-10 flex items-center gap-3 px-3"}>
                      <Icon name={SectionIconName} />
                      {!isCollapsed && (
                        <div className="font-semibold" style={{ color: colors.title }}>{getLabel(activeSection)}</div>
                      )}
                    </div>
                    <AnimatePresence initial={false} mode="wait">
                      {!isCollapsed && (subsByKey[activeSection]?.length ? (
                        <motion.div
                          key={activeSection}
                          initial={{ opacity: 0, y: 6 }}
                          animate={{ opacity: 1, y: 0, transition: { duration: 0.35, ease: "easeOut" } }}
                          exit={{ opacity: 0, height: 0, transition: { duration: 0 } }}
                          className="mt-2 flex flex-col gap-1"
                        >
                          {subsByKey[activeSection].map((sub) => (
                            <button
                              key={sub}
                              onClick={() => setActiveTab(sub)}
                              onMouseEnter={() => setHoverSub(sub)}
                              onMouseLeave={() => setHoverSub(null)}
                              className={isCollapsed ? "group nav-row w-full h-10 flex items-center justify-center rounded-2xl text-left transition-colors leading-none" : "group nav-row w-full h-10 flex items-center rounded-2xl px-3 text-left transition-colors leading-none"}
                              style={{ backgroundColor: hoverSub === sub ? colors.tileHover : "transparent", color: colors.text }}
                            >
                              <span className="font-medium txt-glow">{sub}</span>
                            </button>
                          ))}
                        </motion.div>
                      ) : null)}
                    </AnimatePresence>
                  </div>
                )}

                {/* Kategorien */}
                <div className="px-3 py-2 space-y-4">
                  {navGroups.map((group) => (
                    <div key={group.title}>
                      {!isCollapsed && (
                        <div className="text-xs mb-2 opacity-70" style={{ color: colors.textSoft }}>{group.title}</div>
                      )}
                      <div className="space-y-1">
                        {group.keys.map((key) => {
                          const id = group.title + "|" + key;
                          const iconName = getIconName(key);
                          return (
                            <button
                              key={key}
                              onClick={() => handleNavClick(key)}
                              onMouseEnter={() => setHoverCatId(id)}
                              onMouseLeave={() => setHoverCatId(null)}
                              aria-expanded={activeSection === key && !isCollapsed}
                              className={isCollapsed ? "group w-full h-10 flex items-center justify-center rounded-2xl text-left transition-colors leading-none" : "group w-full h-10 flex items-center rounded-2xl px-3 text-left transition-colors leading-none"}
                              style={{ backgroundColor: hoverCatId === id ? colors.tileHover : "transparent", color: colors.text }}
                            >
                              <Icon name={iconName} />
                              {!isCollapsed && <span className="ml-3 font-medium txt-glow">{getLabel(key)}</span>}
                            </button>
                          );
                        })}
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>

            {/* Footer (Login/Logout & Lizenz) */}
            <div className="p-3" data-testid="sidebar-footer">
              <div className="mb-2">
                {isCollapsed ? (
                  <button
                    onClick={() => setIsLoggedIn(v => !v)}
                    className="w-10 h-10 rounded-xl flex items-center justify-center"
                    style={{ backgroundColor: colors.btn }}
                    title={isLoggedIn ? "Logout" : "Login"}
                  >
                    <Icon name={isLoggedIn ? "log-out" : "log-in"} />
                  </button>
                ) : (
                  <button
                    onClick={() => setIsLoggedIn(v => !v)}
                    className="w-full px-3 py-2 rounded-xl text-sm"
                    style={{ backgroundColor: colors.btn }}
                  >
                    {isLoggedIn ? "Logout" : "Login"}
                  </button>
                )}
              </div>
              <div className="text-xs" style={{ color: colors.textSoft }}>© 2025 SF Data Hub</div>
            </div>

            {/* Hover-Glow & Scrollbar */}
            <style>{`
              .txt-glow:hover, .group:hover .txt-glow{ text-shadow:0 0 15px rgba(92,139,198,1), 0 0 25px rgba(92,139,198,0.8) }
              .nav-scroll{ scrollbar-width:none; -ms-overflow-style:none }
              .nav-scroll::-webkit-scrollbar{ width:0; height:0; background:transparent }
              .nav-scroll::-webkit-scrollbar-track{ background:rgba(0,0,0,0) }
              .nav-scroll::-webkit-scrollbar-thumb{ background:rgba(0,0,0,0); border:none }
              .nav-scroll:hover::-webkit-scrollbar-thumb{ background:rgba(0,0,0,0) }
            `}</style>
          </aside>

          {/* Main – rückt mit Sidebar ein */}
          <div className="flex-1 flex flex-col min-w-0" style={{ marginLeft: contentLeft + "px" }}>
            {/* Topbar (starr) */}
            <header data-testid="topbar" className="fixed top-0 left-0 right-0 z-30 w-full" style={{ backgroundColor: colors.nav, paddingLeft: LOGO_DOCK_W + 16 + "px" }}>
              <div className="h-20 px-4 md:px-6 flex items-center gap-4">
                {/* Links: Glocke & Favoriten */}
                <div className="flex items-center gap-2">
                  <button className="p-2 rounded-xl" style={{ backgroundColor: colors.btn }} title="Benachrichtigungen">
                    <Icon name="bell" size={20} />
                  </button>
                  <button className="p-2 rounded-xl" style={{ backgroundColor: colors.btn }} title="Favoriten">
                    <Icon name="star" size={20} />
                  </button>
                </div>

                {/* Suche */}
                <div className="flex items-center gap-2 flex-1 max-w-xl ml-1">
                  <div className="relative w-full">
                    <span className="absolute left-3 top-1/2 -translate-y-1/2 opacity-70">
                      <Icon name="search" size={18} color={colors.textSoft} />
                    </span>
                    <input
                      value={query}
                      onChange={(e) => setQuery(e.target.value)}
                      className="w-full rounded-2xl pl-9 pr-3 py-2 outline-none"
                      placeholder="Suchen (Spieler, Gilde, Server)…"
                      style={{ backgroundColor: colors.tile, color: colors.text, border: `1px solid ${colors.line}` }}
                    />
                  </div>
                </div>

                {/* Rechts */}
                <div className="flex items-center gap-2 ml-auto">
                  <button className="px-3 py-2 rounded-xl text-sm flex items-center gap-2" style={{ backgroundColor: colors.btn }}>
                    <Icon name="upload" size={20} /> Scan hochladen
                  </button>
                  <div className="relative">
                    <button
                      onClick={() => setProfileOpen(v => !v)}
                      className="p-1 rounded-full"
                      style={{ backgroundColor: colors.tile }}
                      aria-label="Profilmenü öffnen"
                    >
                      <img data-testid="profile-avatar" src={mainChar.avatarUrl || AVATAR_URL} alt="Avatar" className="h-9 w-9 rounded-full object-cover" />
                    </button>
                    {profileOpen && (
                      <div className="absolute right-0 mt-2 w-80 rounded-2xl p-3" style={{ backgroundColor: colors.tile, border: `1px solid ${colors.line}` }}>
                        <div className="flex items-center gap-3 mb-3">
                          <img src={mainChar.avatarUrl || AVATAR_URL} alt="Avatar" className="h-10 w-10 rounded-full object-cover" />
                          <div>
                            <div className="font-semibold">Danny</div>
                            <div className="text-xs" style={{ color: colors.textSoft }}>Demon Hunter • EU</div>
                          </div>
                        </div>
                        <div className="flex gap-2 mb-3">
                          {["Profil", "Einstellungen", "Account"].map((t) => (
                            <button key={t} className="px-3 py-1.5 rounded-full text-xs" style={{ backgroundColor: colors.page, border: `1px solid ${colors.line}` }}>{t}</button>
                          ))}
                        </div>
                        <div className="mb-3">
                          <div className="text-xs mb-2" style={{ color: colors.textSoft }}>Main-Charakter</div>
                          <div className="flex items-center gap-2">
                            {MAIN_CHAR_OPTIONS.map((opt) => (
                              <button
                                key={opt.name}
                                className="p-0.5 rounded-full border"
                                style={{ borderColor: opt.name === mainChar.name ? colors.icon : colors.line, backgroundColor: colors.page }}
                                onClick={() => setMainChar(opt)}
                                title={opt.name}
                              >
                                <img src={opt.avatarUrl} alt={opt.name} className="h-8 w-8 rounded-full object-cover" />
                              </button>
                            ))}
                          </div>
                        </div>
                        <div className="grid grid-cols-2 gap-2">
                          <button className="px-3 py-2 rounded-xl text-sm" style={{ backgroundColor: colors.btn }}>Profil öffnen</button>
                          <button className="px-3 py-2 rounded-xl text-sm" style={{ backgroundColor: colors.btn }}>Einstellungen</button>
                          <button onClick={() => setIsLoggedIn(false)} className="px-3 py-2 rounded-xl text-sm col-span-2" style={{ backgroundColor: colors.btn }}>Abmelden</button>
                        </div>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            </header>

            {/* Platzhalter unter der festen Topbar */}
            <div style={{ height: HEADER_H + "px" }}></div>

            {/* Content */}
            <main className="p-4 md:p-6 space-y-6">
              {/* Aktiver Bereich + Tabs */}
              <section className="px-0 md:px-0">
                <div className="px-4 md:px-6 py-3 flex items-center justify-between gap-3">
                  <div className="flex items-center gap-3">
                    <Icon name={SectionIconName} />
                    <div>
                      <div className="text-sm" style={{ color: colors.textSoft }}>Aktiver Bereich</div>
                      <div className="font-semibold text-lg" style={{ color: colors.title }}>{getLabel(activeSection)}</div>
                    </div>
                  </div>
                  {Array.isArray(tabsBySection[activeSection]) && tabsBySection[activeSection].length > 0 ? (
                    <div className="flex items-center gap-2 overflow-x-auto">
                      {tabsBySection[activeSection].map((t) => (
                        <button
                          key={t}
                          onClick={() => setActiveTab(t)}
                          className="px-3 py-1.5 rounded-full text-sm whitespace-nowrap"
                          style={{ backgroundColor: activeTab === t ? colors.active : colors.tile, border: `1px solid ${colors.line}` }}
                        >
                          {t}
                        </button>
                      ))}
                    </div>
                  ) : (
                    <div className="text-sm opacity-70" style={{ color: colors.textSoft }}>Keine Unterkategorien</div>
                  )}
                </div>
              </section>

              {/* KPI Cards */}
              <section className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4">
                {[
                  { label: "Gesamt-Scans", value: "12.584", sub: "+142 heute" },
                  { label: "Spieler erfasst", value: "3.921", sub: "+18 neu" },
                  { label: "Gilden", value: "517", sub: "+2 diese Woche" },
                  { label: "Daten-Aktualität", value: "🟢 Frisch", sub: "Letzter Scan vor 1 Tag" },
                ].map((k) => (
                  <div key={k.label} className="rounded-2xl p-4 border" style={{ backgroundColor: colors.tile, borderColor: colors.line }}>
                    <div className="text-sm opacity-80" style={{ color: colors.textSoft }}>{k.label}</div>
                    <div className="mt-2 text-2xl font-bold" style={{ color: colors.title }}>{k.value}</div>
                    <div className="text-xs mt-1" style={{ color: colors.textSoft }}>{k.sub}</div>
                  </div>
                ))}
              </section>

              {/* Zeitraum-Auswahl */}
              <section className="rounded-2xl p-4 border" style={{ backgroundColor: colors.tile, borderColor: colors.line }}>
                <div className="text-sm mb-3" style={{ color: colors.textSoft }}>Zeitraum wählen (Scan-abhängig)</div>
                <div className="flex flex-wrap items-center gap-3">
                  <select className="rounded-xl px-3 py-2" style={{ backgroundColor: colors.page, border: `1px solid ${colors.line}` }}>
                    <option>Scan #12584 – 12.09.2025</option>
                    <option>Scan #12532 – 11.09.2025</option>
                    <option>Scan #12497 – 10.09.2025</option>
                  </select>
                  <button className="px-3 py-2 rounded-xl text-sm" style={{ backgroundColor: colors.btn, border: `1px solid ${colors.line}` }}>Aktueller Scan</button>
                  <select className="rounded-xl px-3 py-2" style={{ backgroundColor: colors.page, border: `1px solid ${colors.line}` }}>
                    <option>Scan #12001 – 01.09.2025</option>
                    <option>Scan #11902 – 25.08.2025</option>
                    <option>Scan #11877 – 20.08.2025</option>
                  </select>
                  <span className="text-xs opacity-80" style={{ color: colors.textSoft }}>
                    Ausgewählt: 01.09.2025 – 12.09.2025 (12 Tage)
                  </span>
                </div>
              </section>

              {/* Auto-Carousel */}
              <section className="rounded-2xl p-0 border overflow-hidden" style={{ backgroundColor: colors.tile, borderColor: colors.line }}>
                <div className="flex items-center justify-between px-4 py-3 border-b" style={{ borderColor: colors.line }}>
                  <div className="flex items-center gap-2"><Icon name="bar-chart-3" /> <span className="font-semibold">YouTube Karussell</span></div>
                  <div className="flex items-center gap-2">
                    <button className="px-2 py-1 rounded-lg text-xs" onClick={() => setAutoPlay(v => !v)} style={{ backgroundColor: colors.btn }}>
                      {autoPlay ? (<span className="inline-flex items-center gap-1"><Icon name="pause" size={14} /> Pause</span>) : (<span className="inline-flex items-center gap-1"><Icon name="play" size={14} /> Play</span>)}
                    </button>
                  </div>
                </div>
                <div className="grid md:grid-cols-2 gap-0">
                  <div className="aspect-video w-full relative">
                    <img src={carouselSlides[slide].img} alt={carouselSlides[slide].title} className="w-full h-full object-cover" />
                    <div className="absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black/60 to-transparent">
                      <div className="font-semibold">{carouselSlides[slide].title}</div>
                      <a href={carouselSlides[slide].url} target="_blank" className="inline-flex items-center gap-1 text-xs underline opacity-90" rel="noreferrer">
                        Auf YouTube öffnen <Icon name="external-link" size={14} />
                      </a>
                    </div>
                  </div>
                  <div className="p-4 grid grid-cols-1 sm:grid-cols-3 gap-3">
                    {carouselSlides.map((s, i) => (
                      <button
                        key={s.id}
                        onClick={() => setSlide(i)}
                        className="rounded-xl overflow-hidden border text-left"
                        style={{ borderColor: i === slide ? colors.icon : colors.line, backgroundColor: colors.page }}
                      >
                        <img src={s.img} alt={s.title} className="h-24 w-full object-cover" />
                        <div className="p-2 text-xs line-clamp-2">{s.title}</div>
                      </button>
                    ))}
                  </div>
                </div>
              </section>

              {/* Gildenplaner – Demo */}
              <section className="rounded-2xl p-4 border" style={{ backgroundColor: colors.tile, borderColor: colors.line }}>
                <div className="flex items-center justify-between mb-3">
                  <div className="flex items-center gap-2"><Icon name="shield-check" size={16} /> <span className="font-semibold">Gildenplaner (Demo)</span></div>
                  <div className="text-xs" style={{ color: colors.textSoft }}>Ziehe Spieler zwischen den Listen.</div>
                </div>
                <div className="grid md:grid-cols-2 gap-4">
                  <div className="rounded-xl p-3 border min-h-[220px]" style={{ backgroundColor: colors.tableBg, borderColor: colors.line }}
                       onDragOver={(e)=>e.preventDefault()}
                       onDrop={(e)=>e.preventDefault()}>
                    <div className="font-medium mb-2" style={{ color: colors.title }}>Gilde</div>
                    <ul className="space-y-2">
                      {["Alyra (DH)", "Boros (War)", "Chiyo (Mage)", "Dax (Assa)"].map(p => (
                        <li key={p} draggable className="px-3 py-2 rounded-lg border cursor-grab active:cursor-grabbing"
                            style={{ backgroundColor: colors.page, borderColor: colors.line }}>
                          {p}
                        </li>
                      ))}
                    </ul>
                  </div>
                  <div className="rounded-xl p-3 border min-h-[220px]" style={{ backgroundColor: colors.tableBg, borderColor: colors.line }}
                       onDragOver={(e)=>e.preventDefault()}
                       onDrop={(e)=>e.preventDefault()}>
                    <div className="font-medium mb-2" style={{ color: colors.title }}>Beobachtungsliste</div>
                    <ul className="space-y-2">
                      {["Eryn (Bard)", "Fynn (Monk)"].map(p => (
                        <li key={p} draggable className="px-3 py-2 rounded-lg border cursor-grab active:cursor-grabbing"
                            style={{ backgroundColor: colors.page, borderColor: colors.line }}>
                          {p}
                        </li>
                      ))}
                    </ul>
                  </div>
                </div>
              </section>

              {/* Text-Hinweis */}
              <section className="rounded-2xl p-4 border" style={{ backgroundColor: colors.tile, borderColor: colors.line }}>
                <div className="text-sm" style={{ color: colors.textSoft }}>
                  Topbar <strong>und</strong> Sidebar bleiben siteweit konsistent. Die Sidebar liefert die Unternavigation &amp; Filter, während die Hauptfläche direkt die verknüpften Inhalte zeigt – ohne Seitenwechsel. Aktiver Bereich und Tabs werden oben sichtbar angezeigt.
                </div>
              </section>
            </main>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(<App />);
  </script>
</body>
</html>
